(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))r(g);new MutationObserver(g=>{for(const $ of g)if($.type==="childList")for(const y of $.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&r(y)}).observe(document,{childList:!0,subtree:!0});function n(g){const $={};return g.integrity&&($.integrity=g.integrity),g.referrerPolicy&&($.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?$.credentials="include":g.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function r(g){if(g.ep)return;g.ep=!0;const $=n(g);fetch(g.href,$)}})();function ac(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const g in r)if(g!=="default"&&!(g in t)){const $=Object.getOwnPropertyDescriptor(r,g);$&&Object.defineProperty(t,g,$.get?$:{enumerable:!0,get:()=>r[g]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var mt$2=(t=>(t[t.ByColor=1]="ByColor",t[t.ByACI=2]="ByACI",t[t.ByLayer=3]="ByLayer",t[t.ByBlock=4]="ByBlock",t[t.None=0]="None",t))(mt$2||{});const So$2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pi$2=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215,0];let Cn$1=class{static getColorByIndex(e){return Pi$2[e]}static getIndexByColor(e){const n=Pi$2.length-1;for(let r=1;r<n;++r)if(Pi$2[r]===e)return r}static getColorByName(e){return So$2[e.toLowerCase()]}static getNameByColor(e){for(const[n,r]of Object.entries(So$2))if(r===e)return n}static getNameByIndex(e){const n=this.getColorByIndex(e);return this.getNameByColor(n)}},Kr$1=class Xb{constructor(e=mt$2.ByLayer,n){this._colorMethod=e,this._colorMethod==mt$2.ByColor&&n==null?this._value=16777215:this._colorMethod==mt$2.ByACI?n==null?this._value=8:n===0?this._colorMethod=mt$2.ByBlock:n===256?this._colorMethod=mt$2.ByLayer:this._value=Math.max(0,Math.min(n,256)):this._value=n}get colorMethod(){return this._colorMethod}set colorMethod(e){this._colorMethod=e}get red(){const e=this.RGB;return e!=null?e>>16&255:void 0}get green(){const e=this.RGB;return e!=null?e>>8&255:void 0}get blue(){const e=this.RGB;return e!=null?e&255:void 0}get RGB(){switch(this._colorMethod){case mt$2.ByColor:case mt$2.ByBlock:case mt$2.ByLayer:return this._value;case mt$2.ByACI:return this._value?Cn$1.getColorByIndex(this._value):this._value;default:return}}setRGB(e,n,r){const g=Math.max(0,Math.min(255,Math.round(e))),$=Math.max(0,Math.min(255,Math.round(n))),y=Math.max(0,Math.min(255,Math.round(r)));return this._value=g<<16|$<<8|y,this._colorMethod=mt$2.ByColor,this}setRGBValue(e){return e==null||!Number.isFinite(e)?(console.warn("Invalid RGB value:",e),this):(this._value=e&16777215,this._colorMethod=mt$2.ByColor,this)}setRGBFromCss(e){if(!e)return this;const n=e.trim().toLowerCase();if(n.startsWith("#")){let $=0,y=0,k=0;if(n.length===7)$=parseInt(n.substr(1,2),16),y=parseInt(n.substr(3,2),16),k=parseInt(n.substr(5,2),16);else if(n.length===4)$=parseInt(n[1]+n[1],16),y=parseInt(n[2]+n[2],16),k=parseInt(n[3]+n[3],16);else return console.warn("Invalid hex color:",e),this;return this.setRGB($,y,k)}const r=n.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);if(r){const $=parseInt(r[1],10),y=parseInt(r[2],10),k=parseInt(r[3],10);return this.setRGB($,y,k)}const g=Cn$1.getColorByName(e);return g!==void 0?this.setRGBValue(g):(console.warn("Unknown CSS color string:",e),this)}setScalar(e){return this.setRGB(e,e,e)}get hexColor(){const e=this.RGB;return e==null?void 0:"0x"+e.toString(16).padStart(6,"0").toUpperCase()}get cssColor(){const e=this.RGB;if(e!=null)return`rgb(${e>>16&255},${e>>8&255},${e&255})`}get colorIndex(){return this._colorMethod===mt$2.ByACI?this._value:this._colorMethod===mt$2.ByLayer?256:this._colorMethod===mt$2.ByBlock?0:void 0}set colorIndex(e){if(e==null)return;const n=Math.max(0,Math.min(256,Math.round(e)));n===0?(this._colorMethod=mt$2.ByBlock,this._value=void 0):n===256?(this._colorMethod=mt$2.ByLayer,this._value=void 0):(this._colorMethod=mt$2.ByACI,this._value=n)}get isByColor(){return this._colorMethod===mt$2.ByColor}get isByACI(){return this._colorMethod===mt$2.ByACI}get isByLayer(){return this._colorMethod===mt$2.ByLayer}setByLayer(e){return this._colorMethod=mt$2.ByLayer,e==null?this._value=256:this._value=e,this}get isByBlock(){return this._colorMethod===mt$2.ByBlock}setByBlock(e){return this._colorMethod=mt$2.ByBlock,e==null?this._value=0:this._value=e,this}get colorName(){switch(this._colorMethod){case mt$2.ByLayer:return"ByLayer";case mt$2.ByBlock:return"ByBlock";case mt$2.ByColor:return this._value?Cn$1.getNameByColor(this._value):"";case mt$2.ByACI:return this._value?Cn$1.getNameByIndex(this._value):"";default:return}}set colorName(e){if(!e)return;const n=Cn$1.getColorByName(e);n!==void 0?(this._value=n,this._colorMethod=mt$2.ByColor):console.warn("Unknown color name:",e)}clone(){const e=new Xb;return e._colorMethod=this._colorMethod,e._value=this._value,e}copy(e){return this._colorMethod=e._colorMethod,this._value=e._value,this}equals(e){return this._colorMethod===e._colorMethod&&this._value===e._value}toString(){switch(this._colorMethod){case mt$2.ByLayer:return"ByLayer";case mt$2.ByBlock:return"ByBlock";case mt$2.ByACI:return this._value!==void 0?String(this._value):"";case mt$2.ByColor:return this._value?`${this.red},${this.green},${this.blue}`:"";default:return""}}static fromString(e){if(!e)return;const n=e.trim();if(/^bylayer$/i.test(n))return new Xb(mt$2.ByLayer);if(/^byblock$/i.test(n))return new Xb(mt$2.ByBlock);if(/^\d{1,3},\d{1,3},\d{1,3}$/i.test(n)){const[g,$,y]=n.split(",").map(Number),k=new Xb(mt$2.ByColor);return k.setRGB(g,$,y),k}if(/^\d+$/.test(n)){const g=parseInt(n,10);return new Xb(mt$2.ByACI,g)}const r=Cn$1.getColorByName(n);if(r!=null)return new Xb(mt$2.ByColor,r);console.warn("Unknown color name:",e)}};const Ke$1={get ILLEGAL_PARAMETERS(){return new ReferenceError("Illegal Parameters")}};let oe$2=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}removeEventListener(e){this.listeners=this.listeners.filter(n=>n!==e)}replaceEventListener(e){this.removeEventListener(e),this.addEventListener(e)}dispatch(e,...n){for(const r of this.listeners)r.call(null,e,...n)}};function Fs$1(t){return t===null||typeof t!="object"?t:Array.isArray(t)?[...t]:{...t}}function Io$2(t){if(t===null||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t.source,t.flags);if(Array.isArray(t))return t.map(Io$2);const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Io$2(t[n]));return e}function Cs$1(t,...e){for(const n of e)if(n)for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t[r]===void 0&&(t[r]=n[r]);return t}function oc(t,e){return t!=null&&Object.prototype.hasOwnProperty.call(t,e)}function lc(t){return t==null?!0:Array.isArray(t)||typeof t=="string"?t.length===0:t instanceof Map||t instanceof Set?t.size===0:typeof t=="object"?Object.keys(t).length===0:!1}function Is$1(t,e){if(t===e)return!0;if(t==null||e==null)return t===e;if(typeof t!=typeof e)return!1;if(typeof t!="object")return t===e;if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(let g=0;g<t.length;g++)if(!Is$1(t[g],e[g]))return!1;return!0}const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const g of n)if(!Object.prototype.hasOwnProperty.call(e,g)||!Is$1(t[g],e[g]))return!1;return!0}var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ko$2={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(hc,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),g=["trace","debug","info","warn","error"],$={},y=null;function k(hr,Vr){var dr=hr[Vr];if(typeof dr.bind=="function")return dr.bind(hr);try{return Function.prototype.bind.call(dr,hr)}catch{return function(){return Function.prototype.apply.apply(dr,[hr,arguments])}}}function L(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function V(hr){return hr==="debug"&&(hr="log"),typeof console===n?!1:hr==="trace"&&r?L:console[hr]!==void 0?k(console,hr):console.log!==void 0?k(console,"log"):e}function z(){for(var hr=this.getLevel(),Vr=0;Vr<g.length;Vr++){var dr=g[Vr];this[dr]=Vr<hr?e:this.methodFactory(dr,hr,this.name)}if(this.log=this.debug,typeof console===n&&hr<this.levels.SILENT)return"No console available for logging"}function j(hr){return function(){typeof console!==n&&(z.call(this),this[hr].apply(this,arguments))}}function ie(hr,Vr,dr){return V(hr)||j.apply(this,arguments)}function Oe(hr,Vr){var dr=this,ec,tc,Xs,rc="loglevel";typeof hr=="string"?rc+=":"+hr:typeof hr=="symbol"&&(rc=void 0);function ic(tv){var nv=(g[tv]||"silent").toUpperCase();if(!(typeof window===n||!rc)){try{window.localStorage[rc]=nv;return}catch{}try{window.document.cookie=encodeURIComponent(rc)+"="+nv+";"}catch{}}}function _c(){var tv;if(!(typeof window===n||!rc)){try{tv=window.localStorage[rc]}catch{}if(typeof tv===n)try{var nv=window.document.cookie,sv=encodeURIComponent(rc),gv=nv.indexOf(sv+"=");gv!==-1&&(tv=/^([^;]+)/.exec(nv.slice(gv+sv.length+1))[1])}catch{}return dr.levels[tv]===void 0&&(tv=void 0),tv}}function qm(){if(!(typeof window===n||!rc)){try{window.localStorage.removeItem(rc)}catch{}try{window.document.cookie=encodeURIComponent(rc)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function Xm(tv){var nv=tv;if(typeof nv=="string"&&dr.levels[nv.toUpperCase()]!==void 0&&(nv=dr.levels[nv.toUpperCase()]),typeof nv=="number"&&nv>=0&&nv<=dr.levels.SILENT)return nv;throw new TypeError("log.setLevel() called with invalid level: "+tv)}dr.name=hr,dr.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},dr.methodFactory=Vr||ie,dr.getLevel=function(){return Xs??tc??ec},dr.setLevel=function(tv,nv){return Xs=Xm(tv),nv!==!1&&ic(Xs),z.call(dr)},dr.setDefaultLevel=function(tv){tc=Xm(tv),_c()||dr.setLevel(tv,!1)},dr.resetLevel=function(){Xs=null,qm(),z.call(dr)},dr.enableAll=function(tv){dr.setLevel(dr.levels.TRACE,tv)},dr.disableAll=function(tv){dr.setLevel(dr.levels.SILENT,tv)},dr.rebuild=function(){if(y!==dr&&(ec=Xm(y.getLevel())),z.call(dr),y===dr)for(var tv in $)$[tv].rebuild()},ec=Xm(y?y.getLevel():"WARN");var Km=_c();Km!=null&&(Xs=Xm(Km)),z.call(dr)}y=new Oe,y.getLogger=function(hr){if(typeof hr!="symbol"&&typeof hr!="string"||hr==="")throw new TypeError("You must supply a name when creating a logger.");var Vr=$[hr];return Vr||(Vr=$[hr]=new Oe(hr,y.methodFactory)),Vr};var ur=typeof window!==n?window.log:void 0;return y.noConflict=function(){return typeof window!==n&&window.log===y&&(window.log=ur),y},y.getLoggers=function(){return $},y.default=y,y})})(Ko$2);var $o$2=Ko$2.exports;const uc=cc($o$2),dc=ac({__proto__:null,default:uc},[$o$2]),Hs=dc;Hs.setLevel("debug");let pc=class jw{constructor(e,n){this.events={attrChanged:new oe$2,modelChanged:new oe$2},this._changing=!1,this._previousAttributes={},this._pending=!1;const r=e||{};n&&Cs$1(r,n),this.attributes=r,this.changed={}}get(e){return this.attributes[e]}set(e,n,r){if(e==null)return this;let g;typeof e=="object"?(g=e,r=n):(g={},g[e]=n),r||(r={});const $=r.unset,y=r.silent,k=[],L=this._changing;this._changing=!0,L||(this._previousAttributes=Fs$1(this.attributes),this.changed={});const V=this.attributes,z=this.changed,j=this._previousAttributes;for(const ie in g)n=g[ie],Is$1(V[ie],n)||k.push(ie),Is$1(j[ie],n)?delete z[ie]:z[ie]=n,$?delete V[ie]:V[ie]=n;if(!y){k.length&&(this._pending=r);for(let ie=0;ie<k.length;ie++)this.events.attrChanged.dispatch({object:this,attrName:k[ie],attrValue:V[k[ie]],options:r})}if(L)return this;if(!y)for(;this._pending;)r=this._pending,this._pending=!1,this.events.modelChanged.dispatch({object:this,options:r});return this._pending=!1,this._changing=!1,this}has(e){return this.get(e)!=null}hasChanged(e){return e==null?!lc(this.changed):oc(this.changed,e)}changedAttributes(e){if(!e)return this.hasChanged()?Fs$1(this.changed):{};const n=this._changing?this._previousAttributes:this.attributes,r={};for(const g in e){const $=e[g];Is$1(n[g],$)||(r[g]=$)}return r}previous(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]}previousAttributes(){return Fs$1(this._previousAttributes)}clone(){const e=Fs$1(this.attributes);return new jw(e)}},Qo$2=class y_{constructor(){this.entries=new Map}static getInstance(){return y_.instance||(y_.instance=new y_),y_.instance}collect(e){this.entries.set(e.name,e)}printAll(){for(const[e,n]of this.entries)console.log(`${e}:`),console.log(n.format())}clear(){this.entries.clear()}getAll(){return Array.from(this.entries.values())}getEntry(e){return this.entries.get(e)}remove(e){return this.entries.delete(e)}};var Te$3=(t=>(t[t.ByLayer=0]="ByLayer",t[t.ByBlock=1]="ByBlock",t[t.ByAlpha=2]="ByAlpha",t[t.ErrorValue=3]="ErrorValue",t))(Te$3||{});let fa$2=class Ob{constructor(e){e!==void 0?(this._method=Te$3.ByAlpha,this._alpha=Ob.clampAlpha(e)):(this._method=Te$3.ByLayer,this._alpha=255)}get method(){return this._method}set method(e){this._method=e}get alpha(){return this._alpha}set alpha(e){this._alpha=Ob.clampAlpha(e),this._method=Te$3.ByAlpha}get percentage(){if(this._method===Te$3.ByAlpha)return Math.round((1-this._alpha/255)*100)}set percentage(e){const n=Math.max(0,Math.min(100,e)),r=Math.round(255*(1-n/100));this.alpha=r}static clampAlpha(e){return Math.max(0,Math.min(255,Math.floor(e)))}get isByAlpha(){return this._method===Te$3.ByAlpha}get isByBlock(){return this._method===Te$3.ByBlock}get isByLayer(){return this._method===Te$3.ByLayer}get isClear(){return this.isByAlpha&&this._alpha===0}get isSolid(){return this.isByAlpha&&this._alpha===255}get isInvalid(){return this._method===Te$3.ErrorValue}serialize(){return this._method<<24|this._alpha}clone(){const e=new Ob;return e._method=this._method,e._alpha=this._alpha,e}equals(e){return this._method===e._method&&this._alpha===e._alpha}toString(){return this.isByLayer?"ByLayer":this.isByBlock?"ByBlock":this._alpha.toString()}static fromString(e){const n=e.trim();if(/^bylayer$/i.test(n)){const $=new Ob;return $._method=Te$3.ByLayer,$}if(/^byblock$/i.test(n)){const $=new Ob;return $._method=Te$3.ByBlock,$}const r=Number(n);if(Number.isInteger(r)&&r>=0&&r<=255)return new Ob(r);const g=new Ob;return g._method=Te$3.ErrorValue,g}static deserialize(e){const n=e>>>24&255,r=e&255,g=Object.values(Te$3)[n]??Te$3.ErrorValue,$=new Ob;return $._method=g,$._alpha=Ob.clampAlpha(r),$}};class mc{constructor(e){this.name=e}run(e){throw new Error("run() must be implemented by subclass")}}let gc=class{constructor(){this.tasks=[],this.onProgress=()=>{},this.onComplete=()=>{},this.onError=()=>!1}scheduleTask(t){return new Promise((e,n)=>{const r=()=>{Promise.resolve(t()).then(e).catch(n)};typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(r):setTimeout(r,0)})}addTask(t){this.tasks.push(t)}setProgressCallback(t){this.onProgress=t}setCompleteCallback(t){this.onComplete=t}setErrorCallback(t){this.onError=t}async run(t){const e=this.tasks.length;let n=t;for(let r=0;r<e;r++){const g=this.tasks[r];try{n=await this.scheduleTask(async()=>{const $=await g.run(n);return this.onProgress((r+1)/e,g),$})}catch($){if(this.onError({error:$,taskIndex:r,task:g}))break}}this.onComplete(n)}},Jo$2=class{constructor(e,n,r){this._chunkSize=-1,this._minimumChunkSize=50,this._count=e,this._numerOfChunk=n<1?1:n,this._minimumChunkSize=r,this.calculateChunkSize()}get count(){return this._count}get numerOfChunk(){return this._numerOfChunk}get minimumChunkSize(){return this._minimumChunkSize}set minimumChunkSize(e){this._minimumChunkSize=e,this.calculateChunkSize()}get chunkSize(){return this._chunkSize}calculateChunkSize(){let e=this._count/this._numerOfChunk;e<this._minimumChunkSize&&(e=Math.min(this._minimumChunkSize,this._count)),this._chunkSize=e<1?this._count:Math.floor(e)}scheduleTask(e){return new Promise((n,r)=>{const g=()=>{Promise.resolve(e()).then(n).catch(r)};typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(g):setTimeout(g,0)})}async processChunk(e){let n=0;const r=async()=>{const g=n,$=Math.min(n+this._chunkSize,this._count);await e(g,$),n=$,n<this._count&&await this.scheduleTask(r)};await r()}};var tl$2=(t=>(t[t.DecimalDegrees=0]="DecimalDegrees",t[t.DegreesMinutesSeconds=1]="DegreesMinutesSeconds",t[t.Gradians=2]="Gradians",t[t.Radians=3]="Radians",t[t.SurveyorsUnits=4]="SurveyorsUnits",t))(tl$2||{});let Ns$1=class Kw{static get instance(){return this._instance||(this._instance=new Kw),this._instance}constructor(){this._blocks=new Map}createKey(e,n){return`${e}_${n}`}set(e,n){return n=n.fastDeepClone(),this._blocks.set(e,n),n}get(e){let n=this._blocks.get(e);return n&&(n=n.fastDeepClone()),n}has(e){return this._blocks.has(e)}clear(){this._blocks.clear()}draw(e,n,r,g=!0,$,y){var k;const L=[];if(n!=null){const V=this.createKey(n.name,r);let z;if(this.has(V))z=this.get(V);else{const j=(k=e.basePoint)==null?void 0:k.clone();e.basePoint=void 0;const ie=n.newIterator();let Oe=!0;for(const ur of ie)if(ur.color.isByBlock&&r?(Eo$2.copy(ur.color),ur.color.setRGBValue(r),this.addEntity(ur,L,e),ur.color.copy(Eo$2)):this.addEntity(ur,L,e),Oe){const hr=L[0];e.basePoint=hr.basePoint,Oe=!1}z=e.group(L),z&&g&&me$3.name&&!me$3.name.startsWith("*U")&&this.set(V,z),e.basePoint=j}return z&&$&&(z.applyMatrix($),y&&(y.x!=0||y.y!=0||y.z!=1)&&($.setFromExtrusionDirection(y),z.applyMatrix($))),z}else return e.group(L)}addEntity(e,n,r){const g=e.worldDraw(r);g&&(this.attachEntityInfo(g,e),n.push(g))}attachEntityInfo(e,n){e.objectId=n.objectId,e.ownerId=n.ownerId,e.layerName=n.layer,e.visible=n.visibility}};const Eo$2=new Kr$1;var el$2=(t=>(t[t.UTF8=0]="UTF8",t[t.US_ASCII=1]="US_ASCII",t[t.ISO_8859_1=2]="ISO_8859_1",t[t.ISO_8859_2=3]="ISO_8859_2",t[t.ISO_8859_3=4]="ISO_8859_3",t[t.ISO_8859_4=5]="ISO_8859_4",t[t.ISO_8859_5=6]="ISO_8859_5",t[t.ISO_8859_6=7]="ISO_8859_6",t[t.ISO_8859_7=8]="ISO_8859_7",t[t.ISO_8859_8=9]="ISO_8859_8",t[t.ISO_8859_9=10]="ISO_8859_9",t[t.CP437=11]="CP437",t[t.CP850=12]="CP850",t[t.CP852=13]="CP852",t[t.CP855=14]="CP855",t[t.CP857=15]="CP857",t[t.CP860=16]="CP860",t[t.CP861=17]="CP861",t[t.CP863=18]="CP863",t[t.CP864=19]="CP864",t[t.CP865=20]="CP865",t[t.CP869=21]="CP869",t[t.CP932=22]="CP932",t[t.MACINTOSH=23]="MACINTOSH",t[t.BIG5=24]="BIG5",t[t.CP949=25]="CP949",t[t.JOHAB=26]="JOHAB",t[t.CP866=27]="CP866",t[t.ANSI_1250=28]="ANSI_1250",t[t.ANSI_1251=29]="ANSI_1251",t[t.ANSI_1252=30]="ANSI_1252",t[t.GB2312=31]="GB2312",t[t.ANSI_1253=32]="ANSI_1253",t[t.ANSI_1254=33]="ANSI_1254",t[t.ANSI_1255=34]="ANSI_1255",t[t.ANSI_1256=35]="ANSI_1256",t[t.ANSI_1257=36]="ANSI_1257",t[t.ANSI_874=37]="ANSI_874",t[t.ANSI_932=38]="ANSI_932",t[t.ANSI_936=39]="ANSI_936",t[t.ANSI_949=40]="ANSI_949",t[t.ANSI_950=41]="ANSI_950",t[t.ANSI_1361=42]="ANSI_1361",t[t.UTF16=43]="UTF16",t[t.ANSI_1258=44]="ANSI_1258",t[t.UNDEFINED=255]="UNDEFINED",t))(el$2||{});const yc=["utf-8","utf-8","iso-8859-1","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-9","utf-8","utf-8","utf-8","utf-8","utf-8","utf-8","utf-8","utf-8","utf-8","utf-8","utf-8","shift-jis","macintosh","big5","utf-8","utf-8","ibm866","windows-1250","windows-1251","windows-1252","gbk","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-874","shift-jis","gbk","euc-kr","big5","utf-8","utf-16le","windows-1258"],vc=t=>yc[t],Ui$1="Continuous",Si$2="ByLayer",bc="ByBlock",ve$2=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Mo$2=1234567;const rl$2=Math.PI/180,nl$2=180/Math.PI;function xc(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ve$2[t&255]+ve$2[t>>8&255]+ve$2[t>>16&255]+ve$2[t>>24&255]+"-"+ve$2[e&255]+ve$2[e>>8&255]+"-"+ve$2[e>>16&15|64]+ve$2[e>>24&255]+"-"+ve$2[n&63|128]+ve$2[n>>8&255]+"-"+ve$2[n>>16&255]+ve$2[n>>24&255]+ve$2[r&255]+ve$2[r>>8&255]+ve$2[r>>16&255]+ve$2[r>>24&255]).toLowerCase()}function Wr$1(t,e,n){return Math.max(e,Math.min(n,t))}function sl$2(t,e){return(t%e+e)%e}function wc(t,e,n,r,g){return r+(t-e)*(g-r)/(n-e)}function Ac(t,e,n){return t!==e?(n-t)/(e-t):0}function il$2(t,e,n){return(1-n)*t+n*e}function Pc(t,e,n,r){return il$2(t,e,1-Math.exp(-n*r))}function Sc(t,e=1){return e-Math.abs(sl$2(t,e*2)-e)}function Ic(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Ec(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Mc(t,e){return t+Math.floor(Math.random()*(e-t+1))}function kc(t,e){return t+Math.random()*(e-t)}function Tc(t){return t*(.5-Math.random())}function Cc(t){t!==void 0&&(Mo$2=t);let e=Mo$2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Nc(t){return t*rl$2}function Lc(t){return t*nl$2}function Oc(t){return(t&t-1)===0&&t!==0}function Bc(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function zc(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function qs(t){const e=Math.PI*2;return(t%e+e)%e}function Rc(t,e,n){return t>e&&t<n||t>n&&t<e}function Fc(t,e,n,r=!1){return t=qs(t),e=qs(e),n=qs(n),r?e>n?t<=e&&t>=n:t<=e||t>=n:e<n?t>=e&&t<=n:t>=e||t<=n}function al$2(t){return t=Math.abs(t),t<1?0:Math.ceil(Math.log10(Math.abs(t)+1))}function Dc(t,e=1e-7){const n=al$2(t);return Math.max(Math.pow(10,n)*e,e)}const It$3={DEG2RAD:rl$2,RAD2DEG:nl$2,generateUUID:xc,clamp:Wr$1,euclideanModulo:sl$2,mapLinear:wc,inverseLerp:Ac,lerp:il$2,damp:Pc,pingpong:Sc,smoothstep:Ic,smootherstep:Ec,randInt:Mc,randFloat:kc,randFloatSpread:Tc,seededRandom:Cc,degToRad:Nc,radToDeg:Lc,isPowerOfTwo:Oc,ceilPowerOfTwo:Bc,floorPowerOfTwo:zc,normalizeAngle:qs,isBetween:Rc,isBetweenAngle:Fc,intPartLength:al$2,relativeEps:Dc},Vi$2=class Yw{constructor(e,n){this.x=0,this.y=0;const r=+(e!==void 0)+ +(n!==void 0);if(r!==0){if(r===1&&e instanceof Array){this.x=e[0],this.y=e[1];return}if(r===1){const{x:g,y:$}=e;this.x=g,this.y=$;return}if(r===2){this.x=e,this.y=n;return}throw Ke$1.ILLEGAL_PARAMETERS}}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new Yw(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix2d(e){const n=this.x,r=this.y,g=e.elements;return this.x=g[0]*n+g[3]*r+g[6],this.y=g[1]*n+g[4]*r+g[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Math.max(-1,Math.min(1,r)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}rotateAround(e,n){const r=Math.cos(n),g=Math.sin(n),$=this.x-e.x,y=this.y-e.y;return this.x=$*r-y*g+e.x,this.y=$*g+y*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}relativeEps(e=1e-7){return Math.min(It$3.relativeEps(this.x,e),It$3.relativeEps(this.y,e))}*[Symbol.iterator](){yield this.x,yield this.y}};Vi$2.EMPTY=Object.freeze(new Vi$2(0,0));let te$3=Vi$2;const ji$1=class qw{constructor(e,n,r,g,$,y,k,L,V){this.elements=[1,0,0,0,1,0,0,0,1],e!=null&&n!=null&&r!=null&&g!=null&&$!=null&&y!=null&&k!=null&&L!=null&&V!=null&&this.set(e,n,r,g,$,y,k,L,V)}set(e,n,r,g,$,y,k,L,V){const z=this.elements;return z[0]=e,z[1]=g,z[2]=k,z[3]=n,z[4]=$,z[5]=L,z[6]=r,z[7]=y,z[8]=V,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,g=n.elements,$=this.elements,y=r[0],k=r[3],L=r[6],V=r[1],z=r[4],j=r[7],ie=r[2],Oe=r[5],ur=r[8],hr=g[0],Vr=g[3],dr=g[6],ec=g[1],tc=g[4],Xs=g[7],rc=g[2],ic=g[5],_c=g[8];return $[0]=y*hr+k*ec+L*rc,$[3]=y*Vr+k*tc+L*ic,$[6]=y*dr+k*Xs+L*_c,$[1]=V*hr+z*ec+j*rc,$[4]=V*Vr+z*tc+j*ic,$[7]=V*dr+z*Xs+j*_c,$[2]=ie*hr+Oe*ec+ur*rc,$[5]=ie*Vr+Oe*tc+ur*ic,$[8]=ie*dr+Oe*Xs+ur*_c,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],g=e[2],$=e[3],y=e[4],k=e[5],L=e[6],V=e[7],z=e[8];return n*y*z-n*k*V-r*$*z+r*k*L+g*$*V-g*y*L}invert(){const e=this.elements,n=e[0],r=e[1],g=e[2],$=e[3],y=e[4],k=e[5],L=e[6],V=e[7],z=e[8],j=z*y-k*V,ie=k*L-z*$,Oe=V*$-y*L,ur=n*j+r*ie+g*Oe;if(ur===0)return this.set(0,0,0,0,0,0,0,0,0);const hr=1/ur;return e[0]=j*hr,e[1]=(g*V-z*r)*hr,e[2]=(k*r-g*y)*hr,e[3]=ie*hr,e[4]=(z*n-g*L)*hr,e[5]=(g*$-k*n)*hr,e[6]=Oe*hr,e[7]=(r*L-V*n)*hr,e[8]=(y*n-r*$)*hr,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e.elements[0]=n[0],e.elements[1]=n[3],e.elements[2]=n[6],e.elements[3]=n[1],e.elements[4]=n[4],e.elements[5]=n[7],e.elements[6]=n[2],e.elements[7]=n[5],e.elements[8]=n[8],this}setUvTransform(e,n,r,g,$,y,k){const L=Math.cos($),V=Math.sin($);return this.set(r*L,r*V,-r*(L*y+V*k)+y+e,-g*V,g*L,-g*(-V*y+L*k)+k+n,0,0,1),this}scale(e,n){return this.premultiply(Ii$2.makeScale(e,n)),this}rotate(e){return this.premultiply(Ii$2.makeRotation(-e)),this}translate(e,n){return this.premultiply(Ii$2.makeTranslation(e,n)),this}makeTranslation(e,n){return e instanceof te$3?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let g=0;g<9;g++)if(n[g]!==r[g])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new qw().fromArray(this.elements)}};ji$1.IDENTITY=Object.freeze(new ji$1);let _a$2=ji$1;const Ii$2=new _a$2,Nn$2=1e-6,Qt$2=2*Math.PI,hl$2={x:0,y:0,z:0};let cl$2=class{constructor(){this.equalPointTol=Nn$2,this.equalVectorTol=Nn$2}equalPoint2d(e,n){return new te$3(e).sub(n).length()<this.equalPointTol}equalPoint3d(e,n){return new K$1(e).sub(n).length()<this.equalPointTol}static equalToZero(e,n=Nn$2){return e<n&&e>-n}static equal(e,n,r=Nn$2){return Math.abs(e-n)<r}static great(e,n,r=Nn$2){return e-n>r}static less(e,n,r=Nn$2){return e-n<r}};const ul$2=new cl$2;function dl$2(t,e,n=!1){const r=t.x,g=t.y;let $=!1;const y=e.length;for(let k=0,L=y-1;k<y;L=k++){const V=e[k].x,z=e[k].y,j=e[L].x,ie=e[L].y;let Oe=z>g!=ie>g;n&&(Oe=z>=g!=ie>=g),Oe&&r<(j-V)*(g-z)/(ie-z)+V&&($=!$)}return $}function Uc(t,e){if(t.length===0||e.length===0)return!1;const n=new Se$2().setFromPoints(t),r=new Se$2().setFromPoints(e);if(!n.intersectsBox(r))return!1;for(let g=0;g<t.length;){if(dl$2(t[g],e,!0))return!0;g<t.length-1&&ul$2.equalPoint2d(t[g+1],t[g])&&++g,++g}return!1}const Vc={isPointInPolygon:dl$2,isPolygonIntersect:Uc};function jc(t,e){const n=[],r=e-1,g=t;for(let $=0;$<=g;$++)n.push(0);for(let $=1;$<=r-g;$++)n.push($);for(let $=0;$<=g;$++)n.push(r-g+1);return n}function Gc(t,e){const n=e.length-1,r=t,g=[0];let $=0;for(let k=1;k<=n;k++){const L=e[k][0]-e[k-1][0],V=e[k][1]-e[k-1][1],z=e[k][2]-e[k-1][2],j=Math.sqrt(L*L+V*V+z*z);$+=j,g.push($)}const y=[];for(let k=0;k<=r;k++)y.push(0);for(let k=1;k<=n-r;k++){const L=g[k]/$;y.push(L*(n-r+1))}for(let k=0;k<=r;k++)y.push(n-r+1);return y}function Wc(t,e){const n=e.length-1,r=t,g=[0];let $=0;for(let k=1;k<=n;k++){const L=e[k][0]-e[k-1][0],V=e[k][1]-e[k-1][1],z=e[k][2]-e[k-1][2],j=Math.sqrt(L*L+V*V+z*z),ie=Math.sqrt(j);$+=ie,g.push($)}const y=[];for(let k=0;k<=r;k++)y.push(0);for(let k=1;k<=n-r;k++){const L=g[k]/$;y.push(L*(n-r+1))}for(let k=0;k<=r;k++)y.push(n-r+1);return y}function Gi$1(t,e,n,r){if(e===0)return n>=r[t]&&n<r[t+1]?1:0;const g=r[t+e]-r[t],$=r[t+e+1]-r[t+1],y=g>1e-10?(n-r[t])/g:0,k=$>1e-10?(r[t+e+1]-n)/$:0;return y*Gi$1(t,e-1,n,r)+k*Gi$1(t+1,e-1,n,r)}function Ys(t,e,n,r,g){const $=r.length-1,y=e;if(t=Math.max(n[y],Math.min(n[$+1],t)),Math.abs(t-n[$+1])<1e-8)return[...r[$]];if(Math.abs(t-n[y])<1e-8)return[...r[0]];const k=[0,0,0];let L=0;for(let V=0;V<=$;V++){const z=Gi$1(V,y,t,n),j=g[V]*z;k[0]+=r[V][0]*j,k[1]+=r[V][1]*j,k[2]+=r[V][2]*j,L+=j}if(L<1e-10){const V=n[n.length-y-1];if(Math.abs(t-V)<1e-8)return[...r[$]];if(Math.abs(t-n[y])<1e-8)return[...r[0]]}return L>1e-10&&(k[0]/=L,k[1]/=L,k[2]/=L),k}function Hc(t,e,n,r){const g=t,$=e[g],y=e[e.length-g-1];let k=0;const L=1e3,V=(y-$)/L;let z=Ys($,t,e,n,r);for(let hr=1;hr<=L;hr++){const Vr=$+hr*V,dr=Ys(Vr,t,e,n,r),ec=dr[0]-z[0],tc=dr[1]-z[1],Xs=dr[2]-z[2];k+=Math.sqrt(ec*ec+tc*tc+Xs*Xs),z=dr}const j=Ys(y,t,e,n,r),ie=j[0]-z[0],Oe=j[1]-z[1],ur=j[2]-z[2];return k+=Math.sqrt(ie*ie+Oe*Oe+ur*ur),k}let mn$3=class Xw{constructor(e=0,n=0,r=0,g=1){this._x=e,this._y=n,this._z=r,this._w=g}static slerpFlat(e,n,r,g,$,y,k){let L=r[g+0],V=r[g+1],z=r[g+2],j=r[g+3];const ie=$[y+0],Oe=$[y+1],ur=$[y+2],hr=$[y+3];if(k===0){e[n+0]=L,e[n+1]=V,e[n+2]=z,e[n+3]=j;return}if(k===1){e[n+0]=ie,e[n+1]=Oe,e[n+2]=ur,e[n+3]=hr;return}if(j!==hr||L!==ie||V!==Oe||z!==ur){let Vr=1-k;const dr=L*ie+V*Oe+z*ur+j*hr,ec=dr>=0?1:-1,tc=1-dr*dr;if(tc>Number.EPSILON){const rc=Math.sqrt(tc),ic=Math.atan2(rc,dr*ec);Vr=Math.sin(Vr*ic)/rc,k=Math.sin(k*ic)/rc}const Xs=k*ec;if(L=L*Vr+ie*Xs,V=V*Vr+Oe*Xs,z=z*Vr+ur*Xs,j=j*Vr+hr*Xs,Vr===1-k){const rc=1/Math.sqrt(L*L+V*V+z*z+j*j);L*=rc,V*=rc,z*=rc,j*=rc}}e[n]=L,e[n+1]=V,e[n+2]=z,e[n+3]=j}static multiplyQuaternionsFlat(e,n,r,g,$,y){const k=r[g],L=r[g+1],V=r[g+2],z=r[g+3],j=$[y],ie=$[y+1],Oe=$[y+2],ur=$[y+3];return e[n]=k*ur+z*j+L*Oe-V*ie,e[n+1]=L*ur+z*ie+V*j-k*Oe,e[n+2]=V*ur+z*Oe+k*ie-L*j,e[n+3]=z*ur-k*j-L*ie-V*Oe,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,g){return this._x=e,this._y=n,this._z=r,this._w=g,this._onChangeCallback(),this}clone(){return new Xw(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e.x,g=e.y,$=e.z,y=e.order,k=Math.cos,L=Math.sin,V=k(r/2),z=k(g/2),j=k($/2),ie=L(r/2),Oe=L(g/2),ur=L($/2);switch(y){case"XYZ":this._x=ie*z*j+V*Oe*ur,this._y=V*Oe*j-ie*z*ur,this._z=V*z*ur+ie*Oe*j,this._w=V*z*j-ie*Oe*ur;break;case"YXZ":this._x=ie*z*j+V*Oe*ur,this._y=V*Oe*j-ie*z*ur,this._z=V*z*ur-ie*Oe*j,this._w=V*z*j+ie*Oe*ur;break;case"ZXY":this._x=ie*z*j-V*Oe*ur,this._y=V*Oe*j+ie*z*ur,this._z=V*z*ur+ie*Oe*j,this._w=V*z*j-ie*Oe*ur;break;case"ZYX":this._x=ie*z*j-V*Oe*ur,this._y=V*Oe*j+ie*z*ur,this._z=V*z*ur-ie*Oe*j,this._w=V*z*j+ie*Oe*ur;break;case"YZX":this._x=ie*z*j+V*Oe*ur,this._y=V*Oe*j+ie*z*ur,this._z=V*z*ur-ie*Oe*j,this._w=V*z*j-ie*Oe*ur;break;case"XZY":this._x=ie*z*j-V*Oe*ur,this._y=V*Oe*j-ie*z*ur,this._z=V*z*ur+ie*Oe*j,this._w=V*z*j+ie*Oe*ur;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+y)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,g=Math.sin(r);return this._x=e.x*g,this._y=e.y*g,this._z=e.z*g,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],g=n[4],$=n[8],y=n[1],k=n[5],L=n[9],V=n[2],z=n[6],j=n[10],ie=r+k+j;if(ie>0){const Oe=.5/Math.sqrt(ie+1);this._w=.25/Oe,this._x=(z-L)*Oe,this._y=($-V)*Oe,this._z=(y-g)*Oe}else if(r>k&&r>j){const Oe=2*Math.sqrt(1+r-k-j);this._w=(z-L)/Oe,this._x=.25*Oe,this._y=(g+y)/Oe,this._z=($+V)/Oe}else if(k>j){const Oe=2*Math.sqrt(1+k-r-j);this._w=($-V)/Oe,this._x=(g+y)/Oe,this._y=.25*Oe,this._z=(L+z)/Oe}else{const Oe=2*Math.sqrt(1+j-r-k);this._w=(y-g)/Oe,this._x=($+V)/Oe,this._y=(L+z)/Oe,this._z=.25*Oe}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wr$1(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const g=Math.min(1,n/r);return this.slerp(e,g),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,g=e._y,$=e._z,y=e._w,k=n._x,L=n._y,V=n._z,z=n._w;return this._x=r*z+y*k+g*V-$*L,this._y=g*z+y*L+$*k-r*V,this._z=$*z+y*V+r*L-g*k,this._w=y*z-r*k-g*L-$*V,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,g=this._y,$=this._z,y=this._w;let k=y*e._w+r*e._x+g*e._y+$*e._z;if(k<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,k=-k):this.copy(e),k>=1)return this._w=y,this._x=r,this._y=g,this._z=$,this;const L=1-k*k;if(L<=Number.EPSILON){const Oe=1-n;return this._w=Oe*y+n*this._w,this._x=Oe*r+n*this._x,this._y=Oe*g+n*this._y,this._z=Oe*$+n*this._z,this.normalize(),this}const V=Math.sqrt(L),z=Math.atan2(V,k),j=Math.sin((1-n)*z)/V,ie=Math.sin(n*z)/V;return this._w=y*j+this._w*ie,this._x=r*j+this._x*ie,this._y=g*j+this._y*ie,this._z=$*j+this._z*ie,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),g=Math.sqrt(1-r),$=Math.sqrt(r);return this.set(g*Math.sin(e),g*Math.cos(e),$*Math.sin(n),$*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}};const He$1=class Zw{constructor(e,n,r){this.x=0,this.y=0,this.z=0;const g=+(e!==void 0)+ +(n!==void 0)+ +(r!==void 0);if(g!==0){if(g===1&&e instanceof Array){this.x=e[0],this.y=e[1],this.z=e[2];return}if(g===1){const{x:$,y,z:k}=e;this.x=$,this.y=y,this.z=k||0;return}if(g===3){this.x=e,this.y=n,this.z=r;return}throw Ke$1.ILLEGAL_PARAMETERS}}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new Zw(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ko$2.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ko$2.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,g=this.z,$=e.elements;return this.x=$[0]*n+$[3]*r+$[6]*g,this.y=$[1]*n+$[4]*r+$[7]*g,this.z=$[2]*n+$[5]*r+$[8]*g,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,g=this.z,$=e.elements,y=1/($[3]*n+$[7]*r+$[11]*g+$[15]);return this.x=($[0]*n+$[4]*r+$[8]*g+$[12])*y,this.y=($[1]*n+$[5]*r+$[9]*g+$[13])*y,this.z=($[2]*n+$[6]*r+$[10]*g+$[14])*y,this}applyQuaternion(e){const n=this.x,r=this.y,g=this.z,$=e.x,y=e.y,k=e.z,L=e.w,V=2*(y*g-k*r),z=2*(k*n-$*g),j=2*($*r-y*n);return this.x=n+L*V+y*j-k*z,this.y=r+L*z+k*V-$*j,this.z=g+L*j+$*z-y*V,this}transformDirection(e){const n=this.x,r=this.y,g=this.z,$=e.elements;return this.x=$[0]*n+$[4]*r+$[8]*g,this.y=$[1]*n+$[5]*r+$[9]*g,this.z=$[2]*n+$[6]*r+$[10]*g,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isParallelTo(e){const n=this.dot(e),r=this.length(),g=e.length();return Math.abs(n)===r*g}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,g=e.y,$=e.z,y=n.x,k=n.y,L=n.z;return this.x=g*L-$*k,this.y=$*y-r*L,this.z=r*k-g*y,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Ei$2.copy(this).projectOnVector(e),this.sub(Ei$2)}reflect(e){return this.sub(Ei$2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Math.max(-1,Math.min(1,r)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,g=this.z-e.z;return n*n+r*r+g*g}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),g=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=g,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};He$1.X_AXIS=Object.freeze(new He$1(1,0,0)),He$1.NEGATIVE_X_AXIS=Object.freeze(new He$1(-1,0,0)),He$1.Y_AXIS=Object.freeze(new He$1(0,1,0)),He$1.NEGATIVE_Y_AXIS=Object.freeze(new He$1(0,-1,0)),He$1.Z_AXIS=Object.freeze(new He$1(0,0,1)),He$1.NEGATIVE_Z_AXIS=Object.freeze(new He$1(0,0,-1));let K$1=He$1;const Ei$2=new K$1,ko$2=new mn$3,Wi$1=class Jw{constructor(e,n,r,g,$,y,k,L,V,z,j,ie,Oe,ur,hr,Vr){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!=null&&n!=null&&r!=null&&g!=null&&$!=null&&y!=null&&k!=null&&L!=null&&V!=null&&z!=null&&j!=null&&ie!=null&&Oe!=null&&ur!=null&&hr!=null&&Vr!=null&&this.set(e,n,r,g,$,y,k,L,V,z,j,ie,Oe,ur,hr,Vr)}set(e,n,r,g,$,y,k,L,V,z,j,ie,Oe,ur,hr,Vr){const dr=this.elements;return dr[0]=e,dr[4]=n,dr[8]=r,dr[12]=g,dr[1]=$,dr[5]=y,dr[9]=k,dr[13]=L,dr[2]=V,dr[6]=z,dr[10]=j,dr[14]=ie,dr[3]=Oe,dr[7]=ur,dr[11]=hr,dr[15]=Vr,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Jw().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}setFromExtrusionDirection(e){if(ul$2.equalPoint3d(e,K$1.Z_AXIS))this.identity();else{const n=new K$1(1,0,0);Math.abs(e.x)<1/64&&Math.abs(e.y)<1/64?n.crossVectors(K$1.Y_AXIS,e).normalize():n.crossVectors(K$1.Z_AXIS,e).normalize();const r=e.clone().cross(n).normalize();this.set(n.x,n.y,n.z,0,r.x,r.y,r.z,0,e.x,e.y,e.z,0,0,0,0,1)}return this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,g=1/Ln$2.setFromMatrixColumn(e,0).length(),$=1/Ln$2.setFromMatrixColumn(e,1).length(),y=1/Ln$2.setFromMatrixColumn(e,2).length();return n[0]=r[0]*g,n[1]=r[1]*g,n[2]=r[2]*g,n[3]=0,n[4]=r[4]*$,n[5]=r[5]*$,n[6]=r[6]*$,n[7]=0,n[8]=r[8]*y,n[9]=r[9]*y,n[10]=r[10]*y,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(qc,e,Yc)}lookAt(e,n,r){const g=this.elements;return Fe$1.subVectors(e,n),Fe$1.lengthSq()===0&&(Fe$1.z=1),Fe$1.normalize(),Gr$1.crossVectors(r,Fe$1),Gr$1.lengthSq()===0&&(Math.abs(r.z)===1?Fe$1.x+=1e-4:Fe$1.z+=1e-4,Fe$1.normalize(),Gr$1.crossVectors(r,Fe$1)),Gr$1.normalize(),Ds$1.crossVectors(Fe$1,Gr$1),g[0]=Gr$1.x,g[4]=Ds$1.x,g[8]=Fe$1.x,g[1]=Gr$1.y,g[5]=Ds$1.y,g[9]=Fe$1.y,g[2]=Gr$1.z,g[6]=Ds$1.z,g[10]=Fe$1.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,g=n.elements,$=this.elements,y=r[0],k=r[4],L=r[8],V=r[12],z=r[1],j=r[5],ie=r[9],Oe=r[13],ur=r[2],hr=r[6],Vr=r[10],dr=r[14],ec=r[3],tc=r[7],Xs=r[11],rc=r[15],ic=g[0],_c=g[4],qm=g[8],Xm=g[12],Km=g[1],tv=g[5],nv=g[9],sv=g[13],gv=g[2],Sv=g[6],wv=g[10],rv=g[14],Jm=g[3],dv=g[7],pv=g[11],mv=g[15];return $[0]=y*ic+k*Km+L*gv+V*Jm,$[4]=y*_c+k*tv+L*Sv+V*dv,$[8]=y*qm+k*nv+L*wv+V*pv,$[12]=y*Xm+k*sv+L*rv+V*mv,$[1]=z*ic+j*Km+ie*gv+Oe*Jm,$[5]=z*_c+j*tv+ie*Sv+Oe*dv,$[9]=z*qm+j*nv+ie*wv+Oe*pv,$[13]=z*Xm+j*sv+ie*rv+Oe*mv,$[2]=ur*ic+hr*Km+Vr*gv+dr*Jm,$[6]=ur*_c+hr*tv+Vr*Sv+dr*dv,$[10]=ur*qm+hr*nv+Vr*wv+dr*pv,$[14]=ur*Xm+hr*sv+Vr*rv+dr*mv,$[3]=ec*ic+tc*Km+Xs*gv+rc*Jm,$[7]=ec*_c+tc*tv+Xs*Sv+rc*dv,$[11]=ec*qm+tc*nv+Xs*wv+rc*pv,$[15]=ec*Xm+tc*sv+Xs*rv+rc*mv,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],g=e[8],$=e[12],y=e[1],k=e[5],L=e[9],V=e[13],z=e[2],j=e[6],ie=e[10],Oe=e[14],ur=e[3],hr=e[7],Vr=e[11],dr=e[15];return ur*(+$*L*j-g*V*j-$*k*ie+r*V*ie+g*k*Oe-r*L*Oe)+hr*(+n*L*Oe-n*V*ie+$*y*ie-g*y*Oe+g*V*z-$*L*z)+Vr*(+n*V*j-n*k*Oe-$*y*j+r*y*Oe+$*k*z-r*V*z)+dr*(-g*k*z-n*L*j+n*k*ie+g*y*j-r*y*ie+r*L*z)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const g=this.elements;return e instanceof K$1?(g[12]=e.x,g[13]=e.y,g[14]=e.z):(g[12]=e,g[13]=n,g[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],g=e[2],$=e[3],y=e[4],k=e[5],L=e[6],V=e[7],z=e[8],j=e[9],ie=e[10],Oe=e[11],ur=e[12],hr=e[13],Vr=e[14],dr=e[15],ec=j*Vr*V-hr*ie*V+hr*L*Oe-k*Vr*Oe-j*L*dr+k*ie*dr,tc=ur*ie*V-z*Vr*V-ur*L*Oe+y*Vr*Oe+z*L*dr-y*ie*dr,Xs=z*hr*V-ur*j*V+ur*k*Oe-y*hr*Oe-z*k*dr+y*j*dr,rc=ur*j*L-z*hr*L-ur*k*ie+y*hr*ie+z*k*Vr-y*j*Vr,ic=n*ec+r*tc+g*Xs+$*rc;if(ic===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _c=1/ic;return e[0]=ec*_c,e[1]=(hr*ie*$-j*Vr*$-hr*g*Oe+r*Vr*Oe+j*g*dr-r*ie*dr)*_c,e[2]=(k*Vr*$-hr*L*$+hr*g*V-r*Vr*V-k*g*dr+r*L*dr)*_c,e[3]=(j*L*$-k*ie*$-j*g*V+r*ie*V+k*g*Oe-r*L*Oe)*_c,e[4]=tc*_c,e[5]=(z*Vr*$-ur*ie*$+ur*g*Oe-n*Vr*Oe-z*g*dr+n*ie*dr)*_c,e[6]=(ur*L*$-y*Vr*$-ur*g*V+n*Vr*V+y*g*dr-n*L*dr)*_c,e[7]=(y*ie*$-z*L*$+z*g*V-n*ie*V-y*g*Oe+n*L*Oe)*_c,e[8]=Xs*_c,e[9]=(ur*j*$-z*hr*$-ur*r*Oe+n*hr*Oe+z*r*dr-n*j*dr)*_c,e[10]=(y*hr*$-ur*k*$+ur*r*V-n*hr*V-y*r*dr+n*k*dr)*_c,e[11]=(z*k*$-y*j*$-z*r*V+n*j*V+y*r*Oe-n*k*Oe)*_c,e[12]=rc*_c,e[13]=(z*hr*g-ur*j*g+ur*r*ie-n*hr*ie-z*r*Vr+n*j*Vr)*_c,e[14]=(ur*k*g-y*hr*g-ur*r*L+n*hr*L+y*r*Vr-n*k*Vr)*_c,e[15]=(y*j*g-z*k*g+z*r*L-n*j*L-y*r*ie+n*k*ie)*_c,this}scale(e){const n=this.elements,r=e.x,g=e.y,$=e.z;return n[0]*=r,n[4]*=g,n[8]*=$,n[1]*=r,n[5]*=g,n[9]*=$,n[2]*=r,n[6]*=g,n[10]*=$,n[3]*=r,n[7]*=g,n[11]*=$,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],g=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,g))}makeTranslation(e,n,r){return e instanceof K$1?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),g=Math.sin(n),$=1-r,y=e.x,k=e.y,L=e.z,V=$*y,z=$*k;return this.set(V*y+r,V*k-g*L,V*L+g*k,0,V*k+g*L,z*k+r,z*L-g*y,0,V*L-g*k,z*L+g*y,$*L*L+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,g,$,y){return this.set(1,r,$,0,e,1,y,0,n,g,1,0,0,0,0,1),this}compose(e,n,r){const g=this.elements,$=n.x,y=n.y,k=n.z,L=n.w,V=$+$,z=y+y,j=k+k,ie=$*V,Oe=$*z,ur=$*j,hr=y*z,Vr=y*j,dr=k*j,ec=L*V,tc=L*z,Xs=L*j,rc=r.x,ic=r.y,_c=r.z;return g[0]=(1-(hr+dr))*rc,g[1]=(Oe+Xs)*rc,g[2]=(ur-tc)*rc,g[3]=0,g[4]=(Oe-Xs)*ic,g[5]=(1-(ie+dr))*ic,g[6]=(Vr+ec)*ic,g[7]=0,g[8]=(ur+tc)*_c,g[9]=(Vr-ec)*_c,g[10]=(1-(ie+hr))*_c,g[11]=0,g[12]=e.x,g[13]=e.y,g[14]=e.z,g[15]=1,this}decompose(e,n,r){const g=this.elements;let $=Ln$2.set(g[0],g[1],g[2]).length();const y=Ln$2.set(g[4],g[5],g[6]).length(),k=Ln$2.set(g[8],g[9],g[10]).length();this.determinant()<0&&($=-$),e.x=g[12],e.y=g[13],e.z=g[14],nr$1.copy(this);const L=1/$,V=1/y,z=1/k;return nr$1.elements[0]*=L,nr$1.elements[1]*=L,nr$1.elements[2]*=L,nr$1.elements[4]*=V,nr$1.elements[5]*=V,nr$1.elements[6]*=V,nr$1.elements[8]*=z,nr$1.elements[9]*=z,nr$1.elements[10]*=z,n.setFromRotationMatrix(nr$1),r.x=$,r.y=y,r.z=k,this}equals(e){const n=this.elements,r=e.elements;for(let g=0;g<16;g++)if(n[g]!==r[g])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}};Wi$1.IDENTITY=Object.freeze(new Wi$1);let gn$3=Wi$1;const Ln$2=new K$1,nr$1=new gn$3,qc=new K$1(0,0,0),Yc=new K$1(1,1,1),Gr$1=new K$1,Ds$1=new K$1,Fe$1=new K$1;let Lt$2=class Qw{constructor(e=void 0,n=void 0){this.min=e==null?new K$1(1/0,1/0,1/0):new K$1(e.x,e.y,e.z),this.max=n==null?new K$1(-1/0,-1/0,-1/0):new K$1(n.x,n.y,n.z)}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Mi$2.fromArray(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Mi$2.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new Qw().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}get center(){return this.isEmpty()?new K$1(0,0,0):new K$1(0,0,0).addVectors(this.min,this.max).multiplyScalar(.5)}get size(){return this.isEmpty()?new K$1(0,0,0):new K$1(0,0,0).subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Mi$2).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(yr$1[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yr$1[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yr$1[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yr$1[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yr$1[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yr$1[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yr$1[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yr$1[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yr$1),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const yr$1=[new K$1,new K$1,new K$1,new K$1,new K$1,new K$1,new K$1,new K$1],Mi$2=new K$1,To$2=new te$3;let Se$2=class e2{constructor(e=void 0,n=void 0){this.min=e==null?new te$3(1/0,1/0):new te$3(e.x,e.y),this.max=n==null?new te$3(-1/0,-1/0):new te$3(n.x,n.y)}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=To$2.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new e2().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}get center(){return this.isEmpty()?new te$3(0,0):new te$3(0,0).addVectors(this.min,this.max).multiplyScalar(.5)}get size(){return this.isEmpty()?new te$3(0,0):new te$3(0,0).subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,To$2).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const Co$2=new K$1,Xc=new K$1,Kc$1=new _a$2;let mi$2=class t2{constructor(e=new K$1(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,g){return this.normal.set(e,n,r),this.constant=g,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const g=Co$2.subVectors(r,n).cross(Xc.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(g,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectsBox(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Kc$1.getNormalMatrix(e),g=this.coplanarPoint(Co$2).applyMatrix4(e),$=this.normal.applyMatrix3(r).normalize();return this.constant=-g.dot($),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new t2().copy(this)}},Nt$3=class extends te$3{static pointArrayToNumberArray(e){const n=new Array(e.length*2);return e.forEach((r,g)=>{r.toArray(n,g*2)}),n}},W$3=class extends K$1{static pointArrayToNumberArray(e,n=!0){const r=n?3:2,g=new Array(e.length*r);return e.forEach(($,y)=>{$.toArray(g,y*r)}),g}};const No$2=new gn$3,Lo$2=new mn$3,gl$2=class ew{constructor(e=0,n=0,r=0,g=ew.DEFAULT_ORDER){this._x=e,this._y=n,this._z=r,this._order=g}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,g=this._order){return this._x=e,this._y=n,this._z=r,this._order=g,this._onChangeCallback(),this}clone(){return new ew(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const g=e.elements,$=g[0],y=g[4],k=g[8],L=g[1],V=g[5],z=g[9],j=g[2],ie=g[6],Oe=g[10];switch(n){case"XYZ":this._y=Math.asin(Wr$1(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(-z,Oe),this._z=Math.atan2(-y,$)):(this._x=Math.atan2(ie,V),this._z=0);break;case"YXZ":this._x=Math.asin(-Wr$1(z,-1,1)),Math.abs(z)<.9999999?(this._y=Math.atan2(k,Oe),this._z=Math.atan2(L,V)):(this._y=Math.atan2(-j,$),this._z=0);break;case"ZXY":this._x=Math.asin(Wr$1(ie,-1,1)),Math.abs(ie)<.9999999?(this._y=Math.atan2(-j,Oe),this._z=Math.atan2(-y,V)):(this._y=0,this._z=Math.atan2(L,$));break;case"ZYX":this._y=Math.asin(-Wr$1(j,-1,1)),Math.abs(j)<.9999999?(this._x=Math.atan2(ie,Oe),this._z=Math.atan2(L,$)):(this._x=0,this._z=Math.atan2(-y,V));break;case"YZX":this._z=Math.asin(Wr$1(L,-1,1)),Math.abs(L)<.9999999?(this._x=Math.atan2(-z,V),this._y=Math.atan2(-j,$)):(this._x=0,this._y=Math.atan2(k,Oe));break;case"XZY":this._z=Math.asin(-Wr$1(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(ie,V),this._y=Math.atan2(k,$)):(this._x=Math.atan2(-z,Oe),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r=!0){return No$2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(No$2,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Lo$2.setFromEuler(this),this.setFromQuaternion(Lo$2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};gl$2.DEFAULT_ORDER="XYZ";let $c=gl$2,fl$2=class{constructor(){this._boundingBoxNeedsUpdate=!1}get boundingBoxNeedUpdate(){return this._boundingBoxNeedsUpdate}},_l$2=class extends fl$2{translate(e){return this.transform(new _a$2().makeTranslation(e.x,e.y))}get box(){return(this._box==null||this._boundingBoxNeedsUpdate)&&(this._box=this.calculateBoundingBox(),this._boundingBoxNeedsUpdate=!1),this._box}},ya$2=class extends _l$2{constructor(){super(),this._loops=[]}add(e){this._loops.push(e),this._boundingBoxNeedsUpdate=!0}get loops(){return this._loops}get outter(){if(this._loops.length>0)return this._loops[0]}calculateBoundingBox(){const e=this.outter;return e?e.box:new Se$2}transform(e){return this._boundingBoxNeedsUpdate=!0,this}getPoints(e){const n=[];for(let r=0;r<this.loops.length;++r){const g=this.loops[r].getPoints(e);n.push(g)}return n}buildHierarchy(){var e;const n=this.getPoints(100),r=this.calculateBoundaryBoxes(n),g=this.sortBoundaryBoxesByAreas(r),$=new Map,y=g.length;for(let L=0;L<y;L++)$.set(g[L],{index:g[L],children:[]});const k={index:-1,children:[]};for(let L=0;L<y;L++){const V=g[L],z=n[V],j=r[V];let ie=L+1;for(;ie<y;ie++){const Oe=g[ie],ur=n[Oe];if(r[Oe].containsBox(j)&&Vc.isPointInPolygon(z[It$3.randInt(0,z.length-1)],ur)){(e=$.get(Oe))==null||e.children.push($.get(V));break}}ie===y&&k.children.push($.get(V))}return k}get area(){if(this._loops.length===0)return 0;let e=0;for(let n=0;n<this._loops.length;n++){const r=this._loops[n].getPoints(128),g=this.polygonArea(r);n===0?e+=Math.abs(g):e-=Math.abs(g)}return e}polygonArea(e){const n=e.length;if(n<3)return 0;let r=0;for(let g=0,$=n-1;g<n;$=g++){const y=e[$],k=e[g];r+=y.x*k.y-k.x*y.y}return r*.5}calculateBoundaryBoxes(e){const n=[];return e.forEach(r=>{n.push(new Se$2().setFromPoints(r))}),n}sortBoundaryBoxesByAreas(e){const n=[];e.forEach((g,$)=>{const y=g.size,k=y.width*y.height;n.push({area:k,index:$})}),n.sort((g,$)=>g.area-$.area);const r=[];return n.forEach(g=>{r.push(g.index)}),r}},Ls$1=class extends _l$2{constructor(){super(),this.arcLengthDivisions=100}get startPoint(){return this.getPoint(0)}get endPoint(){return this.getPoint(1)}get length(){return this.getLength()}getPoint(e){throw new Error("AcGeCurve2d: .getPoint() not implemented.")}getPointAt(e){const n=this.getUtoTmapping(e);return this.getPoint(n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){const n=[];let r,g=this.getPoint(0),$=0;n.push(0);for(let y=1;y<=e;y++)r=this.getPoint(y/e),$+=r.distanceTo(g),n.push($),g=r;return n}getUtoTmapping(e,n){const r=this.getLengths();let g=0;const $=r.length;let y;n?y=n:y=e*r[$-1];let k=0,L=$-1,V;for(;k<=L;)if(g=Math.floor(k+(L-k)/2),V=r[g]-y,V<0)k=g+1;else if(V>0)L=g-1;else{L=g;break}if(g=L,r[g]===y)return g/($-1);const z=r[g],j=r[g+1]-z,ie=(y-z)/j;return(g+ie)/($-1)}getTangent(e){let n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);const g=this.getPoint(n),$=this.getPoint(r),y=new Nt$3;return y.copy($).sub(g).normalize(),y}getTangentAt(e){const n=this.getUtoTmapping(e);return this.getTangent(n)}},Es$1=class n2 extends Ls$1{constructor(e,n,r,g,$){super();const y=+(e!==void 0)+ +(n!==void 0)+ +(r!==void 0)+ +(g!==void 0)+ +($!==void 0);if(y==3)typeof e=="object"&&typeof n=="object"&&typeof r=="object"?this.createByThreePoints(e,n,r):this.createByStartEndPointsAndBulge(e,n,r);else if(y==5){const k=e;this.center=new Nt$3(k.x,k.y),this.radius=n,this._clockwise=$,this._startAngle=this._clockwise?this._mirrorAngle(It$3.normalizeAngle(r)):It$3.normalizeAngle(r),this._endAngle=this._clockwise?this._mirrorAngle(It$3.normalizeAngle(g)):It$3.normalizeAngle(g)}else throw Ke$1.ILLEGAL_PARAMETERS}createByThreePoints(e,n,r){const g=(_c,qm)=>({x:(_c.x+qm.x)/2,y:(_c.y+qm.y)/2}),$=(_c,qm)=>(qm.y-_c.y)/(qm.x-_c.x),y=_c=>-1/_c,k=g(e,n),L=g(n,r),V=$(e,n),z=$(n,r),j=y(V),ie=y(z),Oe=(_c,qm,Xm,Km)=>{const tv=(Km-qm)/(_c-Xm),nv=_c*tv+qm;return{x:tv,y:nv}},ur=k.y-j*k.x,hr=L.y-ie*L.x,Vr=Oe(j,ur,ie,hr),dr=Math.sqrt(Math.pow(e.x-Vr.x,2)+Math.pow(e.y-Vr.y,2)),ec=(_c,qm)=>Math.atan2(_c.y-qm.y,_c.x-qm.x),tc=ec(e,Vr),Xs=ec(n,Vr),rc=ec(r,Vr),ic=rc>tc&&rc<Xs||tc>rc&&tc<Xs||Xs>rc&&Xs<tc;this.center=Vr,this.radius=dr,this._clockwise=!ic,this._startAngle=tc,this._endAngle=rc}createByStartEndPointsAndBulge(e,n,r){let g,$,y;r<0?(g=Math.atan(-r)*4,$=new te$3(e),y=new te$3(n)):(g=Math.atan(r)*4,$=new te$3(n),y=new te$3(e));const k=new te$3().subVectors(y,$),L=k.length(),V=new te$3().addVectors($,k.multiplyScalar(.5)),z=Math.abs(L/2/Math.tan(g/2)),j=k.normalize();let ie;if(g<Math.PI){const Oe=new te$3(j.x*Math.cos(Math.PI/2)-j.y*Math.sin(Math.PI/2),j.y*Math.cos(Math.PI/2)+j.x*Math.sin(Math.PI/2));ie=V.add(Oe.multiplyScalar(-z))}else{const Oe=new te$3(j.x*Math.cos(Math.PI/2)-j.y*Math.sin(Math.PI/2),j.y*Math.cos(Math.PI/2)+j.x*Math.sin(Math.PI/2));ie=V.add(Oe.multiplyScalar(z))}r<0?(this._startAngle=Math.atan2($.y-ie.y,$.x-ie.x),this._endAngle=Math.atan2(y.y-ie.y,y.x-ie.x)):(this._startAngle=Math.atan2(y.y-ie.y,y.x-ie.x),this._endAngle=Math.atan2($.y-ie.y,$.x-ie.x)),this._clockwise=r<0,this.center=ie,this.radius=y.sub(ie).length()}get center(){return this._center}set center(e){this._center=new Nt$3(e.x,e.y),this._boundingBoxNeedsUpdate=!0}get radius(){return this._radius}set radius(e){this._radius=e,this._boundingBoxNeedsUpdate=!0}get startAngle(){return this._clockwise?this._mirrorAngle(this._startAngle):this._startAngle}set startAngle(e){this._startAngle=this._clockwise?this._mirrorAngle(It$3.normalizeAngle(e)):It$3.normalizeAngle(e),this._boundingBoxNeedsUpdate=!0}get endAngle(){return this._clockwise?this._mirrorAngle(this._endAngle):this._endAngle}set endAngle(e){const n=this.startAngle==0&&e==Qt$2?e:It$3.normalizeAngle(e);this._endAngle=this._clockwise?this._mirrorAngle(n):n,this._boundingBoxNeedsUpdate=!0}_mirrorAngle(e){return(360-e*180/Math.PI)%360*Math.PI/180}_getInternalAngle(e){return this._clockwise?this._mirrorAngle(e):e}get deltaAngle(){const e=this._getInternalAngle(this.startAngle),n=this._getInternalAngle(this.endAngle);return this.clockwise?It$3.normalizeAngle(e-n):It$3.normalizeAngle(n-e)}get clockwise(){return this._clockwise}set clockwise(e){this._clockwise=e,this._boundingBoxNeedsUpdate=!0}get startPoint(){return this.getPointAtAngle(this.startAngle)}get endPoint(){return this.getPointAtAngle(this.endAngle)}get midPoint(){const e=this._getInternalAngle(this.startAngle),n=this._getInternalAngle(this.endAngle),r=It$3.normalizeAngle((e+n)/2),g=this._clockwise?this._mirrorAngle(r):r;return this.getPointAtAngle(g)}get closed(){const e=this._getInternalAngle(this.startAngle),n=this._getInternalAngle(this.endAngle);return Math.abs(n-e)/Math.PI%2==0}calculateBoundingBox(){const e=[this.startPoint,this.endPoint],n=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const $ of n){const y=this._getInternalAngle($);It$3.isBetweenAngle(y,this._getInternalAngle(this.startAngle),this._getInternalAngle(this.endAngle),this.clockwise)&&e.push(this.getPointAtAngle($))}const r=e.map($=>$.x),g=e.map($=>$.y);return new Se$2(new Nt$3(Math.min(...r),Math.min(...g)),new Nt$3(Math.max(...r),Math.max(...g)))}get length(){return Math.abs(this.deltaAngle*this.radius)}transform(e){return this._boundingBoxNeedsUpdate=!0,this}clone(){return new n2(this.center.clone(),this.radius,this._startAngle,this._endAngle,this.clockwise)}getPointAtAngle(e){const n=this._getInternalAngle(e),r=this.center.x+this.radius*Math.cos(n),g=this.center.y+this.radius*Math.sin(n);return new Nt$3(r,g)}getPoints(e=100){const n=[];let r=this.deltaAngle,g=this._getInternalAngle(this.startAngle);if(this.closed&&(r=Qt$2,g=0),this.clockwise)for(let $=0;$<=e;$++){const y=g-r*($/e),k=this._clockwise?this._mirrorAngle(y):y,L=this.getPointAtAngle(k);n.push(new Nt$3(L.x,L.y))}else for(let $=0;$<=e;$++){const y=g+r*($/e),k=this._clockwise?this._mirrorAngle(y):y,L=this.getPointAtAngle(k);n.push(new Nt$3(L.x,L.y))}return n}};class Zc extends fl$2{translate(e){return this.transform(new gn$3().makeTranslation(e.x,e.y,e.z))}get box(){return(this._box==null||this._boundingBoxNeedsUpdate)&&(this._box=this.calculateBoundingBox(),this._boundingBoxNeedsUpdate=!1),this._box}}let Os$1=class extends Zc{},Ms$1=class r2 extends Os$1{constructor(e,n){super(),this._start=new W$3(e),this._end=new W$3(n)}get startPoint(){return this._start}set startPoint(e){this._start.copy(e),this._boundingBoxNeedsUpdate=!0}get endPoint(){return this._end}set endPoint(e){this._end.copy(e),this._boundingBoxNeedsUpdate=!0}get direction(){return new K$1().subVectors(this.endPoint,this.startPoint).normalize()}get midPoint(){return new W$3((this._start.x+this._end.x)/2,(this._start.y+this._end.y)/2,(this._start.z+this._end.z)/2)}nearestPoint(e){return this.project(e)}get length(){return this.startPoint.distanceTo(this.endPoint)}isPointOnLine(e){return this.project(e).distanceTo(e)<1e-6}at(e,n){return this.delta(n).multiplyScalar(e).add(this._start)}atLength(e,n=!1){if(n){const r=this.delta(en$3).normalize();return new W$3(this._start).addScaledVector(r,e)}else{const r=this.delta(en$3).normalize();return new W$3(this._end).addScaledVector(r,e)}}extend(e,n=!1){if(n){const r=en$3.subVectors(this._start,this._end).normalize();this._start=new W$3(this._start).addScaledVector(r,e)}else{const r=this.delta(en$3).normalize();this._end=new W$3(this._end).addScaledVector(r,e)}return this._boundingBoxNeedsUpdate=!0,this}closestPointToPointParameter(e,n){Oo$2.subVectors(e,this._start),Us$1.subVectors(this.endPoint,this.startPoint);const r=Us$1.dot(Us$1);let g=Us$1.dot(Oo$2)/r;return n&&(g=It$3.clamp(g,0,1)),g}closestPointToPoint(e,n,r){const g=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(g).add(this._start)}delta(e){return e.subVectors(this._end,this._start)}distanceSq(){return this._start.distanceToSquared(this._end)}distance(){return this._start.distanceTo(this._end)}project(e){const n=this.direction,r=en$3.subVectors(e,this.startPoint).dot(n);return new W$3().copy(n).multiplyScalar(r).add(this.startPoint)}perpPoint(e){const n=this.direction,r=this.startPoint,g=en$3.subVectors(e,r).dot(n),$=en$3.copy(n).multiplyScalar(g);return new W$3().addVectors(r,$)}calculateBoundingBox(){const e=new W$3(Math.min(this._start.x,this._end.x),Math.min(this._start.y,this._end.y),Math.min(this._start.z,this._end.z)),n=new W$3(Math.max(this._start.x,this._end.x),Math.max(this._start.y,this._end.y),Math.max(this._start.z,this._end.z));return new Lt$2(e,n)}transform(e){return this._start.applyMatrix4(e),this._end.applyMatrix4(e),this._boundingBoxNeedsUpdate=!0,this}get closed(){return!1}copy(e){return this.startPoint=e.startPoint,this.endPoint=e.endPoint,this._boundingBoxNeedsUpdate=!0,this}clone(){return new r2(this._start.clone(),this._end.clone())}};const en$3=new K$1,Oo$2=new K$1,Us$1=new K$1;let vl$2=class H_ extends Os$1{static computeCenterPoint(e,n,r){const g=new K$1().addVectors(e,n).multiplyScalar(.5),$=new K$1().addVectors(e,r).multiplyScalar(.5),y=new K$1().subVectors(n,e),k=new K$1().subVectors(r,e),L=new K$1().crossVectors(y,k).normalize();if(L.lengthSq()===0)return console.error("Points are collinear and cannot form a valid arc."),null;const V=new K$1().crossVectors(y,L).normalize(),z=new K$1().crossVectors(k,L).normalize(),j=V.clone().multiplyScalar(Number.MAX_SAFE_INTEGER),ie=z.clone().multiplyScalar(Number.MAX_SAFE_INTEGER),Oe=new Ms$1(g,g.clone().add(j)),ur=new Ms$1($,$.clone().add(ie)),hr=new K$1;return Oe.closestPointToPoint(ur.startPoint,!0,hr)?hr:(console.error("Cannot find a valid center for the arc."),null)}static createByThreePoints(e,n,r){const g=H_.computeCenterPoint(e,n,r);if(g){const $=g.distanceTo(e),y=new K$1().subVectors(e,g),k=new K$1().subVectors(n,g),L=Math.atan2(y.y,y.x),V=Math.atan2(k.y,k.x);return new H_(g,$,L,V,K$1.Z_AXIS)}}constructor(e,n,r,g,$,y=K$1.X_AXIS){super(),this.center=e,this.radius=n,this.startAngle=r,this.endAngle=g,this.normal=$,this.refVec=y,(g-r)%Qt$2==0?(this.startAngle=0,this.endAngle=Qt$2):(this.startAngle=r,this.endAngle=g)}get center(){return this._center}set center(e){this._center=new W$3(e.x,e.y,e.z||0),this._boundingBoxNeedsUpdate=!0}get radius(){return this._radius}set radius(e){if(e<0)throw Ke$1.ILLEGAL_PARAMETERS;this._radius=e,this._boundingBoxNeedsUpdate=!0}get startAngle(){return this._startAngle}set startAngle(e){this._startAngle=It$3.normalizeAngle(e),this._boundingBoxNeedsUpdate=!0}get endAngle(){return this._endAngle}set endAngle(e){this._endAngle=this.startAngle==0&&e==Qt$2?e:It$3.normalizeAngle(e),this._boundingBoxNeedsUpdate=!0}get deltaAngle(){return It$3.normalizeAngle(this.endAngle-this.startAngle)}get isLargeArc(){return Math.abs(this.deltaAngle)>Math.PI?1:0}get clockwise(){return this.deltaAngle<=0}get normal(){return this._normal}set normal(e){this._normal=new K$1(e.x,e.y,e.z),this._normal.normalize(),this._boundingBoxNeedsUpdate=!0}get refVec(){return this._refVec}set refVec(e){this._refVec=new K$1(e.x,e.y,e.z),this._refVec.normalize(),this._boundingBoxNeedsUpdate=!0}get startPoint(){return this.getPointAtAngle(this._startAngle)}get endPoint(){return this.getPointAtAngle(this._endAngle)}get midPoint(){let e=this.startAngle,n=this.deltaAngle;this.closed&&(e=0,n=Qt$2);const r=e+n*.5;return this.getPointAtAngle(r)}get length(){return this.closed?2*Math.PI*this.radius:Math.abs(this.deltaAngle*this.radius)}get area(){return this.closed?Math.PI*this.radius*this.radius:Math.abs(this.deltaAngle*this.radius*this.radius)}nearestPoint(e){const n=new K$1(e.x,e.y,e.z||0),r=this.center,g=this.normal,$=n.clone().sub(r).dot(g),y=n.clone().sub(g.clone().multiplyScalar($)).clone().sub(r);if(y.lengthSq()===0)return this.startPoint.clone();y.normalize().multiplyScalar(this.radius);const k=r.clone().add(y),L=this.getAngle(k.clone()),V=this.startAngle,z=this.deltaAngle;let j=It$3.normalizeAngle(L-V);j<0&&(j=0),j>z&&(j=z);const ie=this.getPointAtAngle(V+j),Oe=ie.distanceTo(n),ur=this.startPoint.distanceTo(n),hr=this.endPoint.distanceTo(n);return ur<Oe&&ur<=hr?this.startPoint.clone():hr<Oe&&hr<ur?this.endPoint.clone():ie}tangentPoints(e){const n=[],r=new K$1(e.x,e.y,e.z||0),g=this.center,$=this.normal,y=this.radius,k=r.clone().sub(g).dot($),L=r.clone().sub($.clone().multiplyScalar(k)),V=g.clone(),z=L.clone().sub(V).length();if(z<y)return n;const j=Math.acos(y/z),ie=this.getAngle(L.clone()),Oe=[ie+j,ie-j];for(const ur of Oe){const hr=It$3.normalizeAngle(ur-this.startAngle);hr>=0&&hr<=this.deltaAngle&&n.push(this.getPointAtAngle(this.startAngle+hr))}return n}nearestTangentPoint(e){const n=this.tangentPoints(e);if(n.length===0)return null;const r=new W$3(e.x,e.y,e.z||0);return n.length===1||n[0].distanceTo(r)<n[1].distanceTo(r)?n[0]:n[1]}calculateBoundingBox(){const e=[this.startAngle,this.endAngle];for(let L=0;L<2*Math.PI;L+=Math.PI/2)It$3.isBetweenAngle(L,this.startAngle,this.endAngle)&&e.push(L);let n=1/0,r=1/0,g=1/0,$=-1/0,y=-1/0,k=-1/0;for(const L of e){const V=this.getPointAtAngle(L);V.x<n&&(n=V.x),V.y<r&&(r=V.y),V.z<g&&(g=V.z),V.x>$&&($=V.x),V.y>y&&(y=V.y),V.z>k&&(k=V.z)}return new Lt$2({x:n,y:r,z:g},{x:$,y,z:k})}get closed(){return Math.abs(this.endAngle-this.startAngle)/Math.PI%2==0}getPoints(e){const n=[];let r=this.deltaAngle,g=this.startAngle;this.closed&&(r=Qt$2,g=0);for(let $=0;$<=e;$++){const y=g+r*($/e),k=this.getPointAtAngle(y);n.push(k)}return n}transform(e){const n=ki$2.copy(this.refVec).applyAxisAngle(this.normal,this.startAngle).multiplyScalar(this.radius),r=ki$2.copy(this.refVec).applyAxisAngle(this.normal,this.endAngle).multiplyScalar(this.radius);return this.center.applyMatrix4(e),n.applyMatrix4(e),r.applyMatrix4(e),this.normal.applyMatrix4(e).normalize(),this.refVec.applyMatrix4(e).normalize(),this.startAngle=this.getAngle(n),this.endAngle=this.getAngle(r),this._boundingBoxNeedsUpdate=!0,this}copy(e){return this.center=e.center,this.radius=e.radius,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.normal=e.normal,this.refVec=e.refVec,this._boundingBoxNeedsUpdate=!0,this}clone(){return new H_(this.center.clone(),this.radius,this.startAngle,this.endAngle,this.normal,this.refVec)}getAngle(e){return e.sub(this.center),Math.atan2(e.dot(ki$2.crossVectors(this.refVec,this.normal)),e.dot(this.refVec))}getPointAtAngle(e){const n=this.normal,r=this.refVec,g={x:n.y*r.z-n.z*r.y,y:n.z*r.x-n.x*r.z,z:n.x*r.y-n.y*r.x},$=this.center,y=this.radius;return new W$3($.x+y*(r.x*Math.cos(e)+g.x*Math.sin(e)),$.y+y*(r.y*Math.cos(e)+g.y*Math.sin(e)),$.z+y*(r.z*Math.cos(e)+g.z*Math.sin(e)))}get plane(){const e=new K$1(this.center).distanceTo(hl$2);return new mi$2(this.normal,e)}};const ki$2=new K$1;let va$2=class o2 extends Ls$1{constructor(e,n,r,g=0,$=Qt$2,y=!1,k=0){super(),this.center=e,this.majorAxisRadius=n,this.minorAxisRadius=r,($-g)%Qt$2==0?(this.startAngle=0,this.endAngle=Qt$2):(this.startAngle=g,this.endAngle=$),this.clockwise=y,this.rotation=k}get center(){return this._center}set center(e){this._center=new W$3(e.x,e.y,e.z||0),this._boundingBoxNeedsUpdate=!0}get majorAxisRadius(){return this._majorAxisRadius}set majorAxisRadius(e){if(e<0)throw Ke$1.ILLEGAL_PARAMETERS;this._majorAxisRadius=e,this._boundingBoxNeedsUpdate=!0}get minorAxisRadius(){return this._minorAxisRadius}set minorAxisRadius(e){if(e<0)throw Ke$1.ILLEGAL_PARAMETERS;this._minorAxisRadius=e,this._boundingBoxNeedsUpdate=!0}get startAngle(){return this._startAngle}set startAngle(e){this._startAngle=It$3.normalizeAngle(e),this._boundingBoxNeedsUpdate=!0}get endAngle(){return this._endAngle}set endAngle(e){this._endAngle=this.startAngle==0&&e==Qt$2?e:It$3.normalizeAngle(e),this._boundingBoxNeedsUpdate=!0}get clockwise(){return this._clockwise}set clockwise(e){this._clockwise=e,this._boundingBoxNeedsUpdate=!0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this._boundingBoxNeedsUpdate=!0}get deltaAngle(){return It$3.normalizeAngle(this.endAngle-this.startAngle)}get isLargeArc(){return Math.abs(this.deltaAngle)>Math.PI?1:0}calculateBoundingBox(){let e=1/0,n=1/0,r=-1/0,g=-1/0;for(let $=0;$<=100;$++){const y=this.getPoint($/100);e=Math.min(e,y.x),n=Math.min(n,y.y),r=Math.max(r,y.x),g=Math.max(g,y.y)}return new Se$2({x:e,y:n},{x:r,y:g})}get closed(){return this.deltaAngle==0}getPoint(e){const n=Math.PI*2;let r=this.endAngle-this.startAngle;const g=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(g?r=0:r=n),this.clockwise===!0&&!g&&(r===n?r=-n:r=r-n);const $=this.startAngle+e*r;let y=this.center.x+this.majorAxisRadius*Math.cos($),k=this.center.y+this.minorAxisRadius*Math.sin($);if(this.rotation!==0){const L=Math.cos(this.rotation),V=Math.sin(this.rotation),z=y-this.center.x,j=k-this.center.y;y=z*L-j*V+this.center.x,k=z*V+j*L+this.center.y}return new Nt$3(y,k)}transform(e){return this._boundingBoxNeedsUpdate=!0,this}copy(e){return this.center=e.center,this.majorAxisRadius=e.majorAxisRadius,this.minorAxisRadius=e.minorAxisRadius,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.clockwise=e.clockwise,this.rotation=e.rotation,this}clone(){return new o2(this.center,this.majorAxisRadius,this.minorAxisRadius,this.startAngle,this.endAngle,this.clockwise,this.rotation)}},ba$2=class i2 extends Os$1{constructor(e,n,r,g,$,y=0,k=Qt$2){super(),this.center=e,this.normal=n,this.majorAxis=r,this.majorAxisRadius=g,this.minorAxisRadius=$;const L=Math.abs(k-y);Math.abs(L-Qt$2)<1e-10||Math.abs(L-2*Qt$2)<1e-10?(this.startAngle=0,this.endAngle=Qt$2):(this.startAngle=y,this.endAngle=k)}get center(){return this._center}set center(e){this._center=new W$3(e.x,e.y,e.z||0),this._boundingBoxNeedsUpdate=!0}get majorAxisRadius(){return this._majorAxisRadius}set majorAxisRadius(e){if(e<0)throw Ke$1.ILLEGAL_PARAMETERS;this._majorAxisRadius=e,this._boundingBoxNeedsUpdate=!0}get minorAxisRadius(){return this._minorAxisRadius}set minorAxisRadius(e){if(e<0)throw Ke$1.ILLEGAL_PARAMETERS;this._minorAxisRadius=e,this._boundingBoxNeedsUpdate=!0}get startAngle(){return this._startAngle}set startAngle(e){this._startAngle=It$3.normalizeAngle(e),this._boundingBoxNeedsUpdate=!0}get endAngle(){return this._endAngle}set endAngle(e){this._endAngle=this.startAngle==0&&e==Qt$2?e:It$3.normalizeAngle(e),this._boundingBoxNeedsUpdate=!0}get deltaAngle(){const e=this.endAngle-this.startAngle;return Math.abs(e-Qt$2)<1e-10?Qt$2:It$3.normalizeAngle(e)}get isLargeArc(){return Math.abs(this.deltaAngle)>Math.PI?1:0}get clockwise(){return this.deltaAngle<=0}get normal(){return this._normal}set normal(e){this._normal=new K$1(e.x,e.y,e.z),this._normal.normalize(),this._boundingBoxNeedsUpdate=!0}get majorAxis(){return this._majorAxis}set majorAxis(e){this._majorAxis=new K$1(e.x,e.y,e.z),this._majorAxis.normalize(),this._boundingBoxNeedsUpdate=!0}get minorAxis(){return new K$1().crossVectors(this.normal,this.majorAxis).normalize()}get startPoint(){return this.getPointAtAngle(this._startAngle)}get endPoint(){return this.getPointAtAngle(this._endAngle)}get midPoint(){let e=this.startAngle,n=this.deltaAngle;(this.closed||Math.abs(n-Qt$2)<1e-10)&&(e=0,n=Qt$2);const r=e+n/2;return this.getPointAtAngle(r)}get isCircular(){return cl$2.equal(this.majorAxisRadius,this.minorAxisRadius)}get length(){if(this.isCircular)return this.majorAxisRadius*Math.abs(this.deltaAngle);const e=1e3,n=this.deltaAngle/e;let r=0,g=this.getPointAtAngle(this.startAngle);for(let $=1;$<=e;$++){const y=this.startAngle+$*n,k=this.getPointAtAngle(y),L=k.x-g.x,V=k.y-g.y,z=k.z-g.z;r+=Math.sqrt(L*L+V*V+z*z),g=k}return r}get area(){const e=this.majorAxisRadius,n=this.minorAxisRadius,r=this.startAngle,g=r+this.deltaAngle;if(Math.abs(this.deltaAngle-Qt$2)<1e-10)return Math.PI*e*n;const $=e*n/2*(g-r-(Math.sin(g)*Math.cos(g)-Math.sin(r)*Math.cos(r)));return Math.abs($)}calculateBoundingBox(){if(this.majorAxis.equals(K$1.X_AXIS)||this.majorAxis.equals(K$1.Y_AXIS)||this.majorAxis.isParallelTo(K$1.X_AXIS)||this.majorAxis.isParallelTo(K$1.Y_AXIS)){const e=[this.startAngle,this.endAngle];for(let L=0;L<2*Math.PI;L+=Math.PI/2)It$3.isBetweenAngle(L,this.startAngle,this.endAngle)&&e.push(L);let n=1/0,r=1/0,g=1/0,$=-1/0,y=-1/0,k=-1/0;for(const L of e){const V=this.getPointAtAngle(L);V.x<n&&(n=V.x),V.y<r&&(r=V.y),V.z<g&&(g=V.z),V.x>$&&($=V.x),V.y>y&&(y=V.y),V.z>k&&(k=V.z)}return new Lt$2({x:n,y:r,z:g},{x:$,y,z:k})}else{let e=1/0,n=1/0,r=1/0,g=-1/0,$=-1/0,y=-1/0;for(let k=0;k<=100;k++){const L=this.startAngle+this.deltaAngle*(k/100),V=this.getPointAtAngle(L);e=Math.min(e,V.x),n=Math.min(n,V.y),r=Math.min(r,V.z),g=Math.max(g,V.x),$=Math.max($,V.y),y=Math.max(y,V.z)}return new Lt$2({x:e,y:n,z:r},{x:g,y:$,z:y})}}get closed(){return this.deltaAngle==0}getPoints(e=100){const n=[];let r=this.deltaAngle,g=this.startAngle;this.closed&&(r=Qt$2,g=0);for(let $=0;$<=e;$++){const y=g+r*($/e),k=this.getPointAtAngle(y);n.push(k)}return n}getPointAtAngle(e){const n=Math.cos(e),r=Math.sin(e),g=this.minorAxis.clone().multiplyScalar(this.minorAxisRadius).multiplyScalar(r),$=this.majorAxis.clone().multiplyScalar(n*this.majorAxisRadius).add(g);return new W$3(this.center.x+$.x,this.center.y+$.y,this.center.z+$.z)}contains(e){const n=new K$1(e).sub(this.center),r=n.dot(this.majorAxis),g=n.dot(this.minorAxis),$=r/this.majorAxisRadius,y=g/this.minorAxisRadius;return $*$+y*y<=1}transform(e){return this._boundingBoxNeedsUpdate=!0,this}copy(e){return this.center=e.center,this.normal=e.normal,this.majorAxis=e.majorAxis,this.majorAxisRadius=e.majorAxisRadius,this.minorAxisRadius=e.minorAxisRadius,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this._boundingBoxNeedsUpdate=!0,this}clone(){return new i2(this.center,this.normal,this.majorAxis,this.majorAxisRadius,this.minorAxisRadius,this.startAngle,this.endAngle)}get plane(){const e=new K$1(this.center).distanceTo(hl$2);return new mi$2(this.normal,e)}},Rn$2=class extends Ls$1{constructor(e=null,n=!1){super(),this._vertices=e||new Array,this._closed=n}get numberOfVertices(){return this._vertices.length}get closed(){return this._closed}get startPoint(){if(this.numberOfVertices>0){const e=this._vertices[0];return new Nt$3(e.x,e.y)}throw new Error("Start point does not exist in an empty polyline.")}get endPoint(){const e=this.numberOfVertices;if(e>0)if(this.closed){const n=this._vertices[0];return new Nt$3(n.x,n.y)}else{const n=this._vertices[e-1];return new Nt$3(n.x,n.y)}throw new Error("End point does not exist in an empty polyline.")}get length(){let e=0;const n=this._vertices.length;for(let r=0;r<n;++r){const g=this._vertices[r];let $=null;if(r<n-1?$=this._vertices[r+1]:r==n-1&&this.closed&&($=this._vertices[0]),$)if(g.bulge){const y=new Es$1(g,$,g.bulge);e+=y.length}else e+=new Nt$3(g.x,g.y).distanceTo($)}return e}set closed(e){this._closed=e,this._boundingBoxNeedsUpdate=!0}addVertexAt(e,n){e<=0?this._vertices.unshift(n):this._vertices.splice(e,0,n),this._boundingBoxNeedsUpdate=!0}getPointAt(e){const n=this._vertices[e];return new Nt$3(n.x,n.y)}calculateBoundingBox(){const e=this.getPoints(100);return new Se$2().setFromPoints(e)}transform(e){return this._boundingBoxNeedsUpdate=!0,this}getPoints3d(e,n){const r=[];return this.getPoints(e).forEach(g=>r.push(new W$3().set(g.x,g.y,n))),r}getPoints(e){const n=[],r=this._vertices.length;for(let g=0;g<r;++g){const $=this._vertices[g];if($.bulge){let y=null;if(g<r-1?y=this._vertices[g+1]:g==r-1&&this.closed&&(y=this._vertices[0]),y){const k=new Es$1($,y,$.bulge).getPoints(e),L=k.length;for(let V=0;V<L;++V){const z=k[V];n.push(new Nt$3(z.x,z.y))}}}else n.push(new Nt$3($.x,$.y)),g==r-1&&this.closed&&n.push(n[0])}return n}},Ks=class a2 extends Ls$1{constructor(e,n){super(),this._start=new Nt$3(e),this._end=new Nt$3(n)}get startPoint(){return this._start}set startPoint(e){this._start.copy(e),this._boundingBoxNeedsUpdate=!0}get endPoint(){return this._end}set endPoint(e){this._end.copy(e),this._boundingBoxNeedsUpdate=!0}getPoints(){return[this.startPoint,this.endPoint]}get length(){return this.startPoint.distanceTo(this.endPoint)}calculateBoundingBox(){const e=new Nt$3(Math.min(this._start.x,this._end.x),Math.min(this._start.y,this._end.y)),n=new Nt$3(Math.max(this._start.x,this._end.x),Math.max(this._start.y,this._end.y));return new Se$2(e,n)}transform(e){return this._start.applyMatrix2d(e),this._end.applyMatrix2d(e),this._boundingBoxNeedsUpdate=!0,this}get closed(){return!1}copy(e){return this.startPoint=e.startPoint,this.endPoint=e.endPoint,this._boundingBoxNeedsUpdate=!0,this}clone(){return new a2(this._start.clone(),this._end.clone())}},xl$2=class extends Ls$1{constructor(e=[]){super(),this._curves=e}get curves(){return this._curves}add(e){this._curves.push(e),this._boundingBoxNeedsUpdate=!0}get numberOfEdges(){return this._curves.length}get startPoint(){if(this._curves.length>0){const e=this._curves[0].startPoint;return new Nt$3(e.x,e.y)}throw new Error("Start point does not exist in an empty loop.")}get endPoint(){return this.startPoint}get length(){let e=0;return this._curves.forEach(n=>{e+=n.length}),e}calculateBoundingBox(){const e=this.getPoints(100),n=new Se$2;return n.setFromPoints(e),n}transform(e){return this._boundingBoxNeedsUpdate=!0,this}get closed(){return!0}getPoints(e){const n=[];return this.curves.forEach(r=>{r.getPoints(e).forEach(g=>{n.push(new Nt$3(g.x,g.y))})}),n}};function Qc$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wl$2={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){var n={},r=this;new Function("try {return this===window;}catch(e){ return false;}");var g=new Function("try {return this===global;}catch(e){return false;}"),$=new Function("try {return typeof importScripts === 'function';}catch(e){return false;}");if(g()&&$(),g()||$()){var y=r;if($()){var k=function(L,V){var z=r;return L.split(".").forEach(function(j){z&&(z=z[j])}),z?z[V]:null};onmessage=function(L){if(!(!L.data.className||!L.data.methodName)){var V=k(L.data.className,L.data.methodName);if(!V)return console.error("could not find "+L.data.className+"."+L.data.methodName);postMessage({result:V.apply(null,L.data.args),id:L.data.id})}}}}return function(L,V,z){V.geom=V.geom||{},V.exe=V.exe||{},V.eval=V.eval||{},V.core=V.core||{},V.promhx=V.promhx||{};var j={},ie=function(){return dv.__string_rec(this,"")};function Oe(nc,sc){function Zm(){}Zm.prototype=nc;var iv=new Zm;for(var hv in sc)iv[hv]=sc[hv];return sc.toString!==Object.prototype.toString&&(iv.toString=sc.toString),iv}var ur=function(){};j.HxOverrides=ur,ur.__name__=["HxOverrides"],ur.strDate=function(nc){var sc=nc.length;switch(sc){case 8:var Zm=nc.split(":"),iv=new Date;return iv.setTime(0),iv.setUTCHours(Zm[0]),iv.setUTCMinutes(Zm[1]),iv.setUTCSeconds(Zm[2]),iv;case 10:var hv=nc.split("-");return new Date(hv[0],hv[1]-1,hv[2],0,0,0);case 19:var xv=nc.split(" "),Nv=xv[0].split("-"),Bv=xv[1].split(":");return new Date(Nv[0],Nv[1]-1,Nv[2],Bv[0],Bv[1],Bv[2]);default:throw new Jm("Invalid date format : "+nc)}},ur.cca=function(nc,sc){var Zm=nc.charCodeAt(sc);if(Zm==Zm)return Zm},ur.substr=function(nc,sc,Zm){return sc!=null&&sc!=0&&Zm!=null&&Zm<0?"":(Zm==null&&(Zm=nc.length),sc<0?(sc=nc.length+sc,sc<0&&(sc=0)):Zm<0&&(Zm=nc.length+Zm-sc),nc.substr(sc,Zm))},ur.iter=function(nc){return{cur:0,arr:nc,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var hr=function(){};j.Lambda=hr,hr.__name__=["Lambda"],hr.fold=function(nc,sc,Zm){for(var iv=O1(nc)();iv.hasNext();){var hv=iv.next();Zm=sc(hv,Zm)}return Zm};var Vr=function(){this.length=0};j.List=Vr,Vr.__name__=["List"],Vr.prototype={add:function(nc){var sc=[nc];this.h==null?this.h=sc:this.q[1]=sc,this.q=sc,this.length++},pop:function(){if(this.h==null)return null;var nc=this.h[0];return this.h=this.h[1],this.h==null&&(this.q=null),this.length--,nc},isEmpty:function(){return this.h==null},__class__:Vr},Math.__name__=["Math"];var dr=function(){};j.Reflect=dr,dr.__name__=["Reflect"],dr.field=function(nc,sc){try{return nc[sc]}catch(Zm){return Zm instanceof Jm&&(Zm=Zm.val),null}},dr.callMethod=function(nc,sc,Zm){return sc.apply(nc,Zm)},dr.fields=function(nc){var sc=[];if(nc!=null){var Zm=Object.prototype.hasOwnProperty;for(var iv in nc)iv!="__id__"&&iv!="hx__closures__"&&Zm.call(nc,iv)&&sc.push(iv)}return sc},dr.isFunction=function(nc){return typeof nc=="function"&&!(nc.__name__||nc.__ename__)},dr.deleteField=function(nc,sc){return Object.prototype.hasOwnProperty.call(nc,sc)?(delete nc[sc],!0):!1};var ec=function(){};j.Std=ec,ec.__name__=["Std"],ec.string=function(nc){return dv.__string_rec(nc,"")},ec.parseFloat=function(nc){return parseFloat(nc)};var tc=function(){this.b=""};j.StringBuf=tc,tc.__name__=["StringBuf"],tc.prototype={add:function(nc){this.b+=ec.string(nc)},__class__:tc};var Xs=function(){};j.StringTools=Xs,Xs.__name__=["StringTools"],Xs.fastCodeAt=function(nc,sc){return nc.charCodeAt(sc)};var rc=j.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};rc.TNull=["TNull",0],rc.TNull.toString=ie,rc.TNull.__enum__=rc,rc.TInt=["TInt",1],rc.TInt.toString=ie,rc.TInt.__enum__=rc,rc.TFloat=["TFloat",2],rc.TFloat.toString=ie,rc.TFloat.__enum__=rc,rc.TBool=["TBool",3],rc.TBool.toString=ie,rc.TBool.__enum__=rc,rc.TObject=["TObject",4],rc.TObject.toString=ie,rc.TObject.__enum__=rc,rc.TFunction=["TFunction",5],rc.TFunction.toString=ie,rc.TFunction.__enum__=rc,rc.TClass=function(nc){var sc=["TClass",6,nc];return sc.__enum__=rc,sc.toString=ie,sc},rc.TEnum=function(nc){var sc=["TEnum",7,nc];return sc.__enum__=rc,sc.toString=ie,sc},rc.TUnknown=["TUnknown",8],rc.TUnknown.toString=ie,rc.TUnknown.__enum__=rc;var ic=function(){};j.Type=ic,ic.__name__=["Type"],ic.getClassName=function(nc){var sc=nc.__name__;return sc==null?null:sc.join(".")},ic.getEnumName=function(nc){var sc=nc.__ename__;return sc.join(".")},ic.resolveClass=function(nc){var sc=j[nc];return sc==null||!sc.__name__?null:sc},ic.resolveEnum=function(nc){var sc=j[nc];return sc==null||!sc.__ename__?null:sc},ic.createEmptyInstance=function(nc){function sc(){}return sc.prototype=nc.prototype,new sc},ic.createEnum=function(nc,sc,Zm){var iv=dr.field(nc,sc);if(iv==null)throw new Jm("No such constructor "+sc);if(dr.isFunction(iv)){if(Zm==null)throw new Jm("Constructor "+sc+" need parameters");return dr.callMethod(nc,iv,Zm)}if(Zm!=null&&Zm.length!=0)throw new Jm("Constructor "+sc+" does not need parameters");return iv},ic.getEnumConstructs=function(nc){var sc=nc.__constructs__;return sc.slice()},ic.typeof=function(nc){var sc=typeof nc;switch(sc){case"boolean":return rc.TBool;case"string":return rc.TClass(String);case"number":return Math.ceil(nc)==nc%2147483648?rc.TInt:rc.TFloat;case"object":if(nc==null)return rc.TNull;var Zm=nc.__enum__;if(Zm!=null)return rc.TEnum(Zm);var iv=dv.getClass(nc);return iv!=null?rc.TClass(iv):rc.TObject;case"function":return nc.__name__||nc.__ename__?rc.TObject:rc.TFunction;case"undefined":return rc.TNull;default:return rc.TUnknown}};var _c=function(){};j["haxe.IMap"]=_c,_c.__name__=["haxe","IMap"];var qm=function(nc,sc){this.high=nc,this.low=sc};j["haxe._Int64.___Int64"]=qm,qm.__name__=["haxe","_Int64","___Int64"],qm.prototype={__class__:qm};var Xm=function(){this.buf=new tc,this.cache=[],this.useCache=Xm.USE_CACHE,this.useEnumIndex=Xm.USE_ENUM_INDEX,this.shash=new gv,this.scount=0};j["haxe.Serializer"]=Xm,Xm.__name__=["haxe","Serializer"],Xm.prototype={toString:function(){return this.buf.b},serializeString:function(nc){var sc=this.shash.get(nc);if(sc!=null){this.buf.b+="R",sc==null?this.buf.b+="null":this.buf.b+=""+sc;return}this.shash.set(nc,this.scount++),this.buf.b+="y",nc=encodeURIComponent(nc),nc.length==null?this.buf.b+="null":this.buf.b+=""+nc.length,this.buf.b+=":",nc==null?this.buf.b+="null":this.buf.b+=""+nc},serializeRef:function(nc){for(var sc=typeof nc,Zm=0,iv=this.cache.length;Zm<iv;){var hv=Zm++,xv=this.cache[hv];if(typeof xv==sc&&xv==nc)return this.buf.b+="r",hv==null?this.buf.b+="null":this.buf.b+=""+hv,!0}return this.cache.push(nc),!1},serializeFields:function(nc){for(var sc=0,Zm=dr.fields(nc);sc<Zm.length;){var iv=Zm[sc];++sc,this.serializeString(iv),this.serialize(dr.field(nc,iv))}this.buf.b+="g"},serialize:function(nc){{var sc=ic.typeof(nc);switch(sc[1]){case 0:this.buf.b+="n";break;case 1:var Zm=nc;if(Zm==0){this.buf.b+="z";return}this.buf.b+="i",Zm==null?this.buf.b+="null":this.buf.b+=""+Zm;break;case 2:var iv=nc;isNaN(iv)?this.buf.b+="k":isFinite(iv)?(this.buf.b+="d",iv==null?this.buf.b+="null":this.buf.b+=""+iv):iv<0?this.buf.b+="m":this.buf.b+="p";break;case 3:nc?this.buf.b+="t":this.buf.b+="f";break;case 6:var hv=sc[2];if(hv==String){this.serializeString(nc);return}if(this.useCache&&this.serializeRef(nc))return;switch(hv){case Array:var xv=0;this.buf.b+="a";for(var Nv=nc.length,Bv=0;Bv<Nv;){var Uv=Bv++;nc[Uv]==null?xv++:(xv>0&&(xv==1?this.buf.b+="n":(this.buf.b+="u",xv==null?this.buf.b+="null":this.buf.b+=""+xv),xv=0),this.serialize(nc[Uv]))}xv>0&&(xv==1?this.buf.b+="n":(this.buf.b+="u",xv==null?this.buf.b+="null":this.buf.b+=""+xv)),this.buf.b+="h";break;case Vr:this.buf.b+="l";for(var Jv=nc,C0=Jv.h,v0=null;C0!=null;){var P0;v0=C0[0],C0=C0[1],P0=v0,this.serialize(P0)}this.buf.b+="h";break;case Date:var O0=nc;this.buf.b+="v",this.buf.add(O0.getTime());break;case gv:this.buf.b+="b";for(var F0=nc,Q0=F0.keys();Q0.hasNext();){var j0=Q0.next();this.serializeString(j0),this.serialize(Gy[j0]!=null?F0.getReserved(j0):F0.h[j0])}this.buf.b+="h";break;case tv:this.buf.b+="q";for(var i1=nc,n1=i1.keys();n1.hasNext();){var s1=n1.next();this.buf.b+=":",s1==null?this.buf.b+="null":this.buf.b+=""+s1,this.serialize(i1.h[s1])}this.buf.b+="h";break;case nv:this.buf.b+="M";for(var f1=nc,_1=f1.keys();_1.hasNext();){var T1=_1.next(),v1=dr.field(T1,"__id__");dr.deleteField(T1,"__id__"),this.serialize(T1),T1.__id__=v1,this.serialize(f1.h[T1.__id__])}this.buf.b+="h";break;case Sv:for(var m1=nc,E1=0,I1=m1.length-2,D1=new tc,G1=Xm.BASE64;E1<I1;){var H1=m1.get(E1++),W1=m1.get(E1++),K1=m1.get(E1++);D1.add(G1.charAt(H1>>2)),D1.add(G1.charAt((H1<<4|W1>>4)&63)),D1.add(G1.charAt((W1<<2|K1>>6)&63)),D1.add(G1.charAt(K1&63))}if(E1==I1){var z1=m1.get(E1++),q1=m1.get(E1++);D1.add(G1.charAt(z1>>2)),D1.add(G1.charAt((z1<<4|q1>>4)&63)),D1.add(G1.charAt(q1<<2&63))}else if(E1==I1+1){var w1=m1.get(E1++);D1.add(G1.charAt(w1>>2)),D1.add(G1.charAt(w1<<4&63))}var Q1=D1.b;this.buf.b+="s",Q1.length==null?this.buf.b+="null":this.buf.b+=""+Q1.length,this.buf.b+=":",Q1==null?this.buf.b+="null":this.buf.b+=""+Q1;break;default:this.useCache&&this.cache.pop(),nc.hxSerialize!=null?(this.buf.b+="C",this.serializeString(ic.getClassName(hv)),this.useCache&&this.cache.push(nc),nc.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(ic.getClassName(hv)),this.useCache&&this.cache.push(nc),this.serializeFields(nc))}break;case 4:if(dv.__instanceof(nc,oy)){var sy=ic.getClassName(nc);this.buf.b+="A",this.serializeString(sy)}else if(dv.__instanceof(nc,Qy))this.buf.b+="B",this.serializeString(ic.getEnumName(nc));else{if(this.useCache&&this.serializeRef(nc))return;this.buf.b+="o",this.serializeFields(nc)}break;case 7:var My=sc[2];if(this.useCache){if(this.serializeRef(nc))return;this.cache.pop()}this.useEnumIndex?this.buf.b+="j":this.buf.b+="w",this.serializeString(ic.getEnumName(My)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=ec.string(nc[1])):this.serializeString(nc[0]),this.buf.b+=":";var Ly=nc.length;this.buf.b+=ec.string(Ly-2);for(var Sy=2;Sy<Ly;){var Fy=Sy++;this.serialize(nc[Fy])}this.useCache&&this.cache.push(nc);break;case 5:throw new Jm("Cannot serialize function");default:throw new Jm("Cannot serialize "+ec.string(nc))}}},__class__:Xm};var Km=function(nc){this.buf=nc,this.length=nc.length,this.pos=0,this.scache=[],this.cache=[];var sc=Km.DEFAULT_RESOLVER;sc==null&&(sc=ic,Km.DEFAULT_RESOLVER=sc),this.setResolver(sc)};j["haxe.Unserializer"]=Km,Km.__name__=["haxe","Unserializer"],Km.initCodes=function(){for(var nc=[],sc=0,Zm=Km.BASE64.length;sc<Zm;){var iv=sc++;nc[Km.BASE64.charCodeAt(iv)]=iv}return nc},Km.prototype={setResolver:function(nc){nc==null?this.resolver={resolveClass:function(sc){return null},resolveEnum:function(sc){return null}}:this.resolver=nc},get:function(nc){return this.buf.charCodeAt(nc)},readDigits:function(){for(var nc=0,sc=!1,Zm=this.pos;;){var iv=this.buf.charCodeAt(this.pos);if(iv!=iv)break;if(iv==45){if(this.pos!=Zm)break;sc=!0,this.pos++;continue}if(iv<48||iv>57)break;nc=nc*10+(iv-48),this.pos++}return sc&&(nc*=-1),nc},readFloat:function(){for(var nc=this.pos;;){var sc=this.buf.charCodeAt(this.pos);if(sc>=43&&sc<58||sc==101||sc==69)this.pos++;else break}return ec.parseFloat(ur.substr(this.buf,nc,this.pos-nc))},unserializeObject:function(nc){for(;;){if(this.pos>=this.length)throw new Jm("Invalid object");if(this.buf.charCodeAt(this.pos)==103)break;var sc=this.unserialize();if(typeof sc!="string")throw new Jm("Invalid object key");var Zm=this.unserialize();nc[sc]=Zm}this.pos++},unserializeEnum:function(nc,sc){if(this.get(this.pos++)!=58)throw new Jm("Invalid enum format");var Zm=this.readDigits();if(Zm==0)return ic.createEnum(nc,sc);for(var iv=[];Zm-- >0;)iv.push(this.unserialize());return ic.createEnum(nc,sc,iv)},unserialize:function(){var nc=this.get(this.pos++);switch(nc){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var sc=this.readDigits();if(this.get(this.pos++)!=58||this.length-this.pos<sc)throw new Jm("Invalid string length");var Zm=ur.substr(this.buf,this.pos,sc);return this.pos+=sc,Zm=decodeURIComponent(Zm.split("+").join(" ")),this.scache.push(Zm),Zm;case 107:return NaN;case 109:return-1/0;case 112:return 1/0;case 97:this.buf;var iv=[];for(this.cache.push(iv);;){var hv=this.buf.charCodeAt(this.pos);if(hv==104){this.pos++;break}if(hv==117){this.pos++;var xv=this.readDigits();iv[iv.length+xv-1]=null}else iv.push(this.unserialize())}return iv;case 111:var Nv={};return this.cache.push(Nv),this.unserializeObject(Nv),Nv;case 114:var Bv=this.readDigits();if(Bv<0||Bv>=this.cache.length)throw new Jm("Invalid reference");return this.cache[Bv];case 82:var Uv=this.readDigits();if(Uv<0||Uv>=this.scache.length)throw new Jm("Invalid string reference");return this.scache[Uv];case 120:throw new Jm(this.unserialize());case 99:var Jv=this.unserialize(),C0=this.resolver.resolveClass(Jv);if(C0==null)throw new Jm("Class not found "+Jv);var v0=ic.createEmptyInstance(C0);return this.cache.push(v0),this.unserializeObject(v0),v0;case 119:var P0=this.unserialize(),O0=this.resolver.resolveEnum(P0);if(O0==null)throw new Jm("Enum not found "+P0);var F0=this.unserializeEnum(O0,this.unserialize());return this.cache.push(F0),F0;case 106:var Q0=this.unserialize(),j0=this.resolver.resolveEnum(Q0);if(j0==null)throw new Jm("Enum not found "+Q0);this.pos++;var i1=this.readDigits(),n1=ic.getEnumConstructs(j0)[i1];if(n1==null)throw new Jm("Unknown enum index "+Q0+"@"+i1);var s1=this.unserializeEnum(j0,n1);return this.cache.push(s1),s1;case 108:var f1=new Vr;for(this.cache.push(f1),this.buf;this.buf.charCodeAt(this.pos)!=104;)f1.add(this.unserialize());return this.pos++,f1;case 98:var _1=new gv;for(this.cache.push(_1),this.buf;this.buf.charCodeAt(this.pos)!=104;){var T1=this.unserialize();_1.set(T1,this.unserialize())}return this.pos++,_1;case 113:var v1=new tv;this.cache.push(v1),this.buf;for(var m1=this.get(this.pos++);m1==58;){var E1=this.readDigits();v1.set(E1,this.unserialize()),m1=this.get(this.pos++)}if(m1!=104)throw new Jm("Invalid IntMap format");return v1;case 77:var I1=new nv;for(this.cache.push(I1),this.buf;this.buf.charCodeAt(this.pos)!=104;){var D1=this.unserialize();I1.set(D1,this.unserialize())}return this.pos++,I1;case 118:var G1;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&this.buf.charCodeAt(this.pos+4)==45){var H1=ur.substr(this.buf,this.pos,19);G1=ur.strDate(H1),this.pos+=19}else{var W1=this.readFloat(),K1=new Date;K1.setTime(W1),G1=K1}return this.cache.push(G1),G1;case 115:var z1=this.readDigits(),q1=this.buf;if(this.get(this.pos++)!=58||this.length-this.pos<z1)throw new Jm("Invalid bytes length");var w1=Km.CODES;w1==null&&(w1=Km.initCodes(),Km.CODES=w1);var Q1=this.pos,sy=z1&3,My;My=(z1>>2)*3+(sy>=2?sy-1:0);for(var Ly=Q1+(z1-sy),Sy=Sv.alloc(My),Fy=0;Q1<Ly;){var sb=w1[Xs.fastCodeAt(q1,Q1++)],cb=w1[Xs.fastCodeAt(q1,Q1++)];Sy.set(Fy++,sb<<2|cb>>4);var eb=w1[Xs.fastCodeAt(q1,Q1++)];Sy.set(Fy++,cb<<4|eb>>2);var Jy=w1[Xs.fastCodeAt(q1,Q1++)];Sy.set(Fy++,eb<<6|Jy)}if(sy>=2){var tb=w1[Xs.fastCodeAt(q1,Q1++)],ub=w1[Xs.fastCodeAt(q1,Q1++)];if(Sy.set(Fy++,tb<<2|ub>>4),sy==3){var yb=w1[Xs.fastCodeAt(q1,Q1++)];Sy.set(Fy++,ub<<4|yb>>2)}}return this.pos+=z1,this.cache.push(Sy),Sy;case 67:var xb=this.unserialize(),bb=this.resolver.resolveClass(xb);if(bb==null)throw new Jm("Class not found "+xb);var _b=ic.createEmptyInstance(bb);if(this.cache.push(_b),_b.hxUnserialize(this),this.get(this.pos++)!=103)throw new Jm("Invalid custom data");return _b;case 65:var lb=this.unserialize(),Tb=this.resolver.resolveClass(lb);if(Tb==null)throw new Jm("Class not found "+lb);return Tb;case 66:var Hb=this.unserialize(),Mb=this.resolver.resolveEnum(Hb);if(Mb==null)throw new Jm("Enum not found "+Hb);return Mb}throw this.pos--,new Jm("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Km};var tv=function(){this.h={}};j["haxe.ds.IntMap"]=tv,tv.__name__=["haxe","ds","IntMap"],tv.__interfaces__=[_c],tv.prototype={set:function(nc,sc){this.h[nc]=sc},remove:function(nc){return this.h.hasOwnProperty(nc)?(delete this.h[nc],!0):!1},keys:function(){var nc=[];for(var sc in this.h)this.h.hasOwnProperty(sc)&&nc.push(sc|0);return ur.iter(nc)},__class__:tv};var nv=function(){this.h={},this.h.__keys__={}};j["haxe.ds.ObjectMap"]=nv,nv.__name__=["haxe","ds","ObjectMap"],nv.__interfaces__=[_c],nv.prototype={set:function(nc,sc){var Zm=nc.__id__||(nc.__id__=++nv.count);this.h[Zm]=sc,this.h.__keys__[Zm]=nc},keys:function(){var nc=[];for(var sc in this.h.__keys__)this.h.hasOwnProperty(sc)&&nc.push(this.h.__keys__[sc]);return ur.iter(nc)},__class__:nv};var sv=j["haxe.ds.Option"]={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"]};sv.Some=function(nc){var sc=["Some",0,nc];return sc.__enum__=sv,sc.toString=ie,sc},sv.None=["None",1],sv.None.toString=ie,sv.None.__enum__=sv;var gv=function(){this.h={}};j["haxe.ds.StringMap"]=gv,gv.__name__=["haxe","ds","StringMap"],gv.__interfaces__=[_c],gv.prototype={set:function(nc,sc){Gy[nc]!=null?this.setReserved(nc,sc):this.h[nc]=sc},get:function(nc){return Gy[nc]!=null?this.getReserved(nc):this.h[nc]},setReserved:function(nc,sc){this.rh==null&&(this.rh={}),this.rh["$"+nc]=sc},getReserved:function(nc){return this.rh==null?null:this.rh["$"+nc]},keys:function(){var nc=this.arrayKeys();return ur.iter(nc)},arrayKeys:function(){var nc=[];for(var sc in this.h)this.h.hasOwnProperty(sc)&&nc.push(sc);if(this.rh!=null)for(var sc in this.rh)sc.charCodeAt(0)==36&&nc.push(sc.substr(1));return nc},__class__:gv};var Sv=function(nc){this.length=nc.byteLength,this.b=new Bb(nc),this.b.bufferValue=nc,nc.hxBytes=this,nc.bytes=this.b};j["haxe.io.Bytes"]=Sv,Sv.__name__=["haxe","io","Bytes"],Sv.alloc=function(nc){return new Sv(new Wy(nc))},Sv.prototype={get:function(nc){return this.b[nc]},set:function(nc,sc){this.b[nc]=sc&255},__class__:Sv};var wv=j["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};wv.Blocked=["Blocked",0],wv.Blocked.toString=ie,wv.Blocked.__enum__=wv,wv.Overflow=["Overflow",1],wv.Overflow.toString=ie,wv.Overflow.__enum__=wv,wv.OutsideBounds=["OutsideBounds",2],wv.OutsideBounds.toString=ie,wv.OutsideBounds.__enum__=wv,wv.Custom=function(nc){var sc=["Custom",3,nc];return sc.__enum__=wv,sc.toString=ie,sc};var rv=function(){};j["haxe.io.FPHelper"]=rv,rv.__name__=["haxe","io","FPHelper"],rv.i32ToFloat=function(nc){var sc=1-(nc>>>31<<1),Zm=nc>>>23&255,iv=nc&8388607;return iv==0&&Zm==0?0:sc*(1+Math.pow(2,-23)*iv)*Math.pow(2,Zm-127)},rv.floatToI32=function(nc){if(nc==0)return 0;var sc;nc<0?sc=-nc:sc=nc;var Zm=Math.floor(Math.log(sc)/.6931471805599453);Zm<-127?Zm=-127:Zm>128&&(Zm=128);var iv=Math.round((sc/Math.pow(2,Zm)-1)*8388608)&8388607;return(nc<0?-2147483648:0)|Zm+127<<23|iv},rv.i64ToDouble=function(nc,sc){var Zm=1-(sc>>>31<<1),iv=(sc>>20&2047)-1023,hv=(sc&1048575)*4294967296+(nc>>>31)*2147483648+(nc&2147483647);return hv==0&&iv==-1023?0:Zm*(1+Math.pow(2,-52)*hv)*Math.pow(2,iv)},rv.doubleToI64=function(nc){var sc=rv.i64tmp;if(nc==0)sc.low=0,sc.high=0;else{var Zm;nc<0?Zm=-nc:Zm=nc;var iv=Math.floor(Math.log(Zm)/.6931471805599453),hv,xv=(Zm/Math.pow(2,iv)-1)*4503599627370496;hv=Math.round(xv);var Nv=hv|0,Bv=hv/4294967296|0;sc.low=Nv,sc.high=(nc<0?-2147483648:0)|iv+1023<<20|Bv}return sc};var Jm=function(nc){Error.call(this),this.val=nc,this.message=String(nc),Error.captureStackTrace&&Error.captureStackTrace(this,Jm)};j["js._Boot.HaxeError"]=Jm,Jm.__name__=["js","_Boot","HaxeError"],Jm.__super__=Error,Jm.prototype=Oe(Error.prototype,{__class__:Jm});var dv=function(){};j["js.Boot"]=dv,dv.__name__=["js","Boot"],dv.getClass=function(nc){if(nc instanceof Array&&nc.__enum__==null)return Array;var sc=nc.__class__;if(sc!=null)return sc;var Zm=dv.__nativeClassName(nc);return Zm!=null?dv.__resolveNativeClass(Zm):null},dv.__string_rec=function(nc,sc){if(nc==null)return"null";if(sc.length>=5)return"<...>";var Zm=typeof nc;switch(Zm=="function"&&(nc.__name__||nc.__ename__)&&(Zm="object"),Zm){case"object":if(nc instanceof Array){if(nc.__enum__){if(nc.length==2)return nc[0];var iv=nc[0]+"(";sc+="	";for(var hv=2,xv=nc.length;hv<xv;){var Nv=hv++;Nv!=2?iv+=","+dv.__string_rec(nc[Nv],sc):iv+=dv.__string_rec(nc[Nv],sc)}return iv+")"}var Bv=nc.length,Uv="[";sc+="	";for(var Jv=0;Jv<Bv;){var C0=Jv++;Uv+=(C0>0?",":"")+dv.__string_rec(nc[C0],sc)}return Uv+="]",Uv}var v0;try{v0=nc.toString}catch(j0){return j0 instanceof Jm&&(j0=j0.val),"???"}if(v0!=null&&v0!=Object.toString&&typeof v0=="function"){var P0=nc.toString();if(P0!="[object Object]")return P0}var O0=null,F0=`{
`;sc+="	";var Q0=nc.hasOwnProperty!=null;for(var O0 in nc)Q0&&!nc.hasOwnProperty(O0)||O0=="prototype"||O0=="__class__"||O0=="__super__"||O0=="__interfaces__"||O0=="__properties__"||(F0.length!=2&&(F0+=`, 
`),F0+=sc+O0+" : "+dv.__string_rec(nc[O0],sc));return sc=sc.substring(1),F0+=`
`+sc+"}",F0;case"function":return"<function>";case"string":return nc;default:return String(nc)}},dv.__interfLoop=function(nc,sc){if(nc==null)return!1;if(nc==sc)return!0;var Zm=nc.__interfaces__;if(Zm!=null)for(var iv=0,hv=Zm.length;iv<hv;){var xv=iv++,Nv=Zm[xv];if(Nv==sc||dv.__interfLoop(Nv,sc))return!0}return dv.__interfLoop(nc.__super__,sc)},dv.__instanceof=function(nc,sc){if(sc==null)return!1;switch(sc){case Sb:return(nc|0)===nc;case kb:return typeof nc=="number";case ky:return typeof nc=="boolean";case String:return typeof nc=="string";case Array:return nc instanceof Array&&nc.__enum__==null;case Uy:return!0;default:if(nc!=null){if(typeof sc=="function"){if(nc instanceof sc||dv.__interfLoop(dv.getClass(nc),sc))return!0}else if(typeof sc=="object"&&dv.__isNativeObj(sc)&&nc instanceof sc)return!0}else return!1;return sc==oy&&nc.__name__!=null||sc==Qy&&nc.__ename__!=null?!0:nc.__enum__==sc}},dv.__nativeClassName=function(nc){var sc=dv.__toStr.call(nc).slice(8,-1);return sc=="Object"||sc=="Function"||sc=="Math"||sc=="JSON"?null:sc},dv.__isNativeObj=function(nc){return dv.__nativeClassName(nc)!=null},dv.__resolveNativeClass=function(nc){return z[nc]};var pv=function(nc){if(nc instanceof Array&&nc.__enum__==null)this.a=nc,this.byteLength=nc.length;else{var sc=nc;this.a=[];for(var Zm=0;Zm<sc;){var iv=Zm++;this.a[iv]=0}this.byteLength=sc}};j["js.html.compat.ArrayBuffer"]=pv,pv.__name__=["js","html","compat","ArrayBuffer"],pv.sliceImpl=function(nc,sc){var Zm=new Bb(this,nc,sc==null?null:sc-nc),iv=new Wy(Zm.byteLength),hv=new Bb(iv);return hv.set(Zm),iv},pv.prototype={slice:function(nc,sc){return new pv(this.a.slice(nc,sc))},__class__:pv};var mv=function(nc,sc,Zm){if(this.buf=nc,sc==null?this.offset=0:this.offset=sc,Zm==null?this.length=nc.byteLength-this.offset:this.length=Zm,this.offset<0||this.length<0||this.offset+this.length>nc.byteLength)throw new Jm(wv.OutsideBounds)};j["js.html.compat.DataView"]=mv,mv.__name__=["js","html","compat","DataView"],mv.prototype={getInt8:function(nc){var sc=this.buf.a[this.offset+nc];return sc>=128?sc-256:sc},getUint8:function(nc){return this.buf.a[this.offset+nc]},getInt16:function(nc,sc){var Zm=this.getUint16(nc,sc);return Zm>=32768?Zm-65536:Zm},getUint16:function(nc,sc){return sc?this.buf.a[this.offset+nc]|this.buf.a[this.offset+nc+1]<<8:this.buf.a[this.offset+nc]<<8|this.buf.a[this.offset+nc+1]},getInt32:function(nc,sc){var Zm=this.offset+nc,iv=this.buf.a[Zm++],hv=this.buf.a[Zm++],xv=this.buf.a[Zm++],Nv=this.buf.a[Zm++];return sc?iv|hv<<8|xv<<16|Nv<<24:Nv|xv<<8|hv<<16|iv<<24},getUint32:function(nc,sc){var Zm=this.getInt32(nc,sc);return Zm<0?Zm+4294967296:Zm},getFloat32:function(nc,sc){return rv.i32ToFloat(this.getInt32(nc,sc))},getFloat64:function(nc,sc){var Zm=this.getInt32(nc,sc),iv=this.getInt32(nc+4,sc);return rv.i64ToDouble(sc?Zm:iv,sc?iv:Zm)},setInt8:function(nc,sc){sc<0?this.buf.a[nc+this.offset]=sc+128&255:this.buf.a[nc+this.offset]=sc&255},setUint8:function(nc,sc){this.buf.a[nc+this.offset]=sc&255},setInt16:function(nc,sc,Zm){this.setUint16(nc,sc<0?sc+65536:sc,Zm)},setUint16:function(nc,sc,Zm){var iv=nc+this.offset;Zm?(this.buf.a[iv]=sc&255,this.buf.a[iv++]=sc>>8&255):(this.buf.a[iv++]=sc>>8&255,this.buf.a[iv]=sc&255)},setInt32:function(nc,sc,Zm){this.setUint32(nc,sc,Zm)},setUint32:function(nc,sc,Zm){var iv=nc+this.offset;Zm?(this.buf.a[iv++]=sc&255,this.buf.a[iv++]=sc>>8&255,this.buf.a[iv++]=sc>>16&255,this.buf.a[iv++]=sc>>>24):(this.buf.a[iv++]=sc>>>24,this.buf.a[iv++]=sc>>16&255,this.buf.a[iv++]=sc>>8&255,this.buf.a[iv++]=sc&255)},setFloat32:function(nc,sc,Zm){this.setUint32(nc,rv.floatToI32(sc),Zm)},setFloat64:function(nc,sc,Zm){var iv=rv.doubleToI64(sc);Zm?(this.setUint32(nc,iv.low),this.setUint32(nc,iv.high)):(this.setUint32(nc,iv.high),this.setUint32(nc,iv.low))},__class__:mv};var Cv=function(){};j["js.html.compat.Uint8Array"]=Cv,Cv.__name__=["js","html","compat","Uint8Array"],Cv._new=function(nc,sc,Zm){var iv;if(typeof nc=="number"){iv=[];for(var hv=0;hv<nc;){var xv=hv++;iv[xv]=0}iv.byteLength=iv.length,iv.byteOffset=0,iv.buffer=new pv(iv)}else if(dv.__instanceof(nc,pv)){var Nv=nc;sc==null&&(sc=0),Zm==null&&(Zm=Nv.byteLength-sc),sc==0?iv=Nv.a:iv=Nv.a.slice(sc,sc+Zm),iv.byteLength=iv.length,iv.byteOffset=sc,iv.buffer=Nv}else if(nc instanceof Array&&nc.__enum__==null)iv=nc.slice(),iv.byteLength=iv.length,iv.byteOffset=0,iv.buffer=new pv(iv);else throw new Jm("TODO "+ec.string(nc));return iv.subarray=Cv._subarray,iv.set=Cv._set,iv},Cv._set=function(nc,sc){var Zm=this;if(dv.__instanceof(nc.buffer,pv)){var iv=nc;if(nc.byteLength+sc>Zm.byteLength)throw new Jm("set() outside of range");for(var hv=0,xv=nc.byteLength;hv<xv;){var Nv=hv++;Zm[Nv+sc]=iv[Nv]}}else if(nc instanceof Array&&nc.__enum__==null){var Bv=nc;if(Bv.length+sc>Zm.byteLength)throw new Jm("set() outside of range");for(var Uv=0,Jv=Bv.length;Uv<Jv;){var C0=Uv++;Zm[C0+sc]=Bv[C0]}}else throw new Jm("TODO")},Cv._subarray=function(nc,sc){var Zm=this,iv=Cv._new(Zm.slice(nc,sc));return iv.byteOffset=nc,iv};var uv=function(nc){this._resolved=!1,this._pending=!1,this._errorPending=!1,this._fulfilled=!1,this._update=[],this._error=[],this._errored=!1,nc!=null&&uv.link(nc,this,function(sc){return sc})};j["promhx.base.AsyncBase"]=uv,uv.__name__=["promhx","base","AsyncBase"],uv.link=function(nc,sc,Zm){nc._update.push({async:sc,linkf:function(iv){sc.handleResolve(Zm(iv))}}),uv.immediateLinkUpdate(nc,sc,Zm)},uv.immediateLinkUpdate=function(nc,sc,Zm){if(nc._errored&&!nc._errorPending&&!(nc._error.length>0)&&sc.handleError(nc._errorVal),nc._resolved&&!nc._pending)try{sc.handleResolve(Zm(nc._val))}catch(iv){iv instanceof Jm&&(iv=iv.val),sc.handleError(iv)}},uv.linkAll=function(nc,sc){for(var Zm=function(xv,Nv,Bv){if(xv.length==0||uv.allFulfilled(xv)){for(var Uv,Jv=[],C0=O1(nc)();C0.hasNext();){var v0=C0.next();Jv.push(v0==Nv?Bv:v0._val)}Uv=Jv,sc.handleResolve(Uv)}},iv=O1(nc)();iv.hasNext();){var hv=iv.next();hv._update.push({async:sc,linkf:function(xv,Nv,Bv){return function(Uv){xv(Nv,Bv,Uv)}}(Zm,function(xv){for(var Nv,Bv=[],Uv=O1(nc)();Uv.hasNext();){var Jv=Uv.next();Jv!=hv&&Bv.push(Jv)}return Nv=Bv,Nv}(),hv)})}uv.allFulfilled(nc)&&sc.handleResolve(function(xv){for(var Nv,Bv=[],Uv=O1(nc)();Uv.hasNext();){var Jv=Uv.next();Bv.push(Jv._val)}return Nv=Bv,Nv}())},uv.pipeLink=function(nc,sc,Zm){var iv=!1,hv=function(xv){if(!iv){iv=!0;var Nv=Zm(xv);Nv._update.push({async:sc,linkf:$y(sc,sc.handleResolve)}),uv.immediateLinkUpdate(Nv,sc,function(Bv){return Bv})}};if(nc._update.push({async:sc,linkf:hv}),nc._resolved&&!nc._pending)try{hv(nc._val)}catch(xv){xv instanceof Jm&&(xv=xv.val),sc.handleError(xv)}},uv.allResolved=function(nc){for(var sc=O1(nc)();sc.hasNext();){var Zm=sc.next();if(!Zm._resolved)return!1}return!0},uv.allFulfilled=function(nc){for(var sc=O1(nc)();sc.hasNext();){var Zm=sc.next();if(!Zm._fulfilled)return!1}return!0},uv.prototype={catchError:function(nc){return this._error.push(nc),this},errorThen:function(nc){return this._errorMap=nc,this},isResolved:function(){return this._resolved},isErrored:function(){return this._errored},isErrorHandled:function(){return this._error.length>0},isErrorPending:function(){return this._errorPending},isFulfilled:function(){return this._fulfilled},isPending:function(){return this._pending},handleResolve:function(nc){this._resolve(nc)},_resolve:function(nc){var sc=this;this._pending?Gv.enqueue(function(Zm,iv){return function(){Zm(iv)}}($y(this,this._resolve),nc)):(this._resolved=!0,this._pending=!0,Gv.queue.add(function(){sc._val=nc;for(var Zm=0,iv=sc._update;Zm<iv.length;){var hv=iv[Zm];++Zm;try{hv.linkf(nc)}catch(xv){xv instanceof Jm&&(xv=xv.val),hv.async.handleError(xv)}}sc._fulfilled=!0,sc._pending=!1}),Gv.continueOnNextLoop())},handleError:function(nc){this._handleError(nc)},_handleError:function(nc){var sc=this,Zm=function(iv){if(sc._error.length>0)for(var hv=0,xv=sc._error;hv<xv.length;){var Nv=xv[hv];++hv,Nv(iv)}else if(sc._update.length>0)for(var Bv=0,Uv=sc._update;Bv<Uv.length;){var Jv=Uv[Bv];++Bv,Jv.async.handleError(iv)}else throw new Jm(iv);sc._errorPending=!1};this._errorPending||(this._errorPending=!0,this._errored=!0,this._errorVal=nc,Gv.queue.add(function(){if(sc._errorMap!=null)try{sc._resolve(sc._errorMap(nc))}catch(iv){iv instanceof Jm&&(iv=iv.val),Zm(iv)}else Zm(nc)}),Gv.continueOnNextLoop())},then:function(nc){var sc=new uv(null);return uv.link(this,sc,nc),sc},unlink:function(nc){var sc=this;Gv.queue.add(function(){sc._update=sc._update.filter(function(Zm){return Zm.async!=nc})}),Gv.continueOnNextLoop()},isLinked:function(nc){for(var sc=!1,Zm=0,iv=this._update;Zm<iv.length;){var hv=iv[Zm];if(++Zm,hv.async==nc)return!0}return sc},__class__:uv};var yv=V.promhx.Deferred=function(){uv.call(this)};j["promhx.Deferred"]=yv,yv.__name__=["promhx","Deferred"],yv.__super__=uv,yv.prototype=Oe(uv.prototype,{resolve:function(nc){this.handleResolve(nc)},throwError:function(nc){this.handleError(nc)},promise:function(){return new $v(this)},stream:function(){return new Dv(this)},publicStream:function(){return new Hv(this)},__class__:yv});var $v=V.promhx.Promise=function(nc){uv.call(this,nc),this._rejected=!1};j["promhx.Promise"]=$v,$v.__name__=["promhx","Promise"],$v.whenAll=function(nc){var sc=new $v(null);return uv.linkAll(nc,sc),sc},$v.promise=function(nc){var sc=new $v;return sc.handleResolve(nc),sc},$v.__super__=uv,$v.prototype=Oe(uv.prototype,{isRejected:function(){return this._rejected},reject:function(nc){this._rejected=!0,this.handleError(nc)},handleResolve:function(nc){if(this._resolved){var sc="Promise has already been resolved";throw new Jm(f0.AlreadyResolved(sc))}this._resolve(nc)},then:function(nc){var sc=new $v(null);return uv.link(this,sc,nc),sc},unlink:function(nc){var sc=this;Gv.queue.add(function(){if(sc._fulfilled)sc._update=sc._update.filter(function(iv){return iv.async!=nc});else{var Zm="Downstream Promise is not fullfilled";sc.handleError(f0.DownstreamNotFullfilled(Zm))}}),Gv.continueOnNextLoop()},handleError:function(nc){this._rejected=!0,this._handleError(nc)},pipe:function(nc){var sc=new $v(null);return uv.pipeLink(this,sc,nc),sc},errorPipe:function(nc){var sc=new $v;return this.catchError(function(Zm){var iv=nc(Zm);iv.then($y(sc,sc._resolve))}),this.then($y(sc,sc._resolve)),sc},__class__:$v});var Dv=V.promhx.Stream=function(nc){uv.call(this,nc),this._end_promise=new $v};j["promhx.Stream"]=Dv,Dv.__name__=["promhx","Stream"],Dv.foreach=function(nc){for(var sc=new Dv(null),Zm=O1(nc)();Zm.hasNext();){var iv=Zm.next();sc.handleResolve(iv)}return sc.end(),sc},Dv.wheneverAll=function(nc){var sc=new Dv(null);return uv.linkAll(nc,sc),sc},Dv.concatAll=function(nc){for(var sc=new Dv(null),Zm=O1(nc)();Zm.hasNext();){var iv=Zm.next();sc.concat(iv)}return sc},Dv.mergeAll=function(nc){for(var sc=new Dv(null),Zm=O1(nc)();Zm.hasNext();){var iv=Zm.next();sc.merge(iv)}return sc},Dv.stream=function(nc){var sc=new Dv(null);return sc.handleResolve(nc),sc},Dv.__super__=uv,Dv.prototype=Oe(uv.prototype,{then:function(nc){var sc=new Dv(null);return uv.link(this,sc,nc),this._end_promise._update.push({async:sc._end_promise,linkf:function(Zm){sc.end()}}),sc},detachStream:function(nc){for(var sc=[],Zm=!1,iv=0,hv=this._update;iv<hv.length;){var xv=hv[iv];++iv,xv.async==nc?(this._end_promise._update=this._end_promise._update.filter(function(Nv){return Nv.async!=nc._end_promise}),Zm=!0):sc.push(xv)}return this._update=sc,Zm},first:function(){var nc=new $v(null);return this.then(function(sc){nc._resolved||nc.handleResolve(sc)}),nc},handleResolve:function(nc){!this._end&&!this._pause&&this._resolve(nc)},pause:function(nc){nc==null&&(nc=!this._pause),this._pause=nc},pipe:function(nc){var sc=new Dv(null);return uv.pipeLink(this,sc,nc),this._end_promise.then(function(Zm){sc.end()}),sc},errorPipe:function(nc){var sc=new Dv(null);return this.catchError(function(Zm){var iv=nc(Zm);iv.then($y(sc,sc._resolve)),iv._end_promise.then((Iy=sc._end_promise,$y(Iy,Iy._resolve)))}),this.then($y(sc,sc._resolve)),this._end_promise.then(function(Zm){sc.end()}),sc},handleEnd:function(){if(this._pending)Gv.queue.add($y(this,this.handleEnd)),Gv.continueOnNextLoop();else{if(this._end_promise._resolved)return;this._end=!0;var nc;this._resolved?nc=sv.Some(this._val):nc=sv.None,this._end_promise.handleResolve(nc),this._update=[],this._error=[]}},end:function(){return Gv.queue.add($y(this,this.handleEnd)),Gv.continueOnNextLoop(),this},endThen:function(nc){return this._end_promise.then(nc)},filter:function(nc){var sc=new Dv(null);return this._update.push({async:sc,linkf:function(Zm){nc(Zm)&&sc.handleResolve(Zm)}}),uv.immediateLinkUpdate(this,sc,function(Zm){return Zm}),sc},concat:function(nc){var sc=new Dv(null);return this._update.push({async:sc,linkf:$y(sc,sc.handleResolve)}),uv.immediateLinkUpdate(this,sc,function(Zm){return Zm}),this._end_promise.then(function(Zm){nc.pipe(function(iv){return sc.handleResolve(iv),sc}),nc._end_promise.then(function(iv){sc.end()})}),sc},merge:function(nc){var sc=new Dv(null);return this._update.push({async:sc,linkf:$y(sc,sc.handleResolve)}),nc._update.push({async:sc,linkf:$y(sc,sc.handleResolve)}),uv.immediateLinkUpdate(this,sc,function(Zm){return Zm}),uv.immediateLinkUpdate(nc,sc,function(Zm){return Zm}),sc},__class__:Dv});var Hv=V.promhx.PublicStream=function(nc){Dv.call(this,nc)};j["promhx.PublicStream"]=Hv,Hv.__name__=["promhx","PublicStream"],Hv.publicstream=function(nc){var sc=new Hv(null);return sc.handleResolve(nc),sc},Hv.__super__=Dv,Hv.prototype=Oe(Dv.prototype,{resolve:function(nc){this.handleResolve(nc)},throwError:function(nc){this.handleError(nc)},update:function(nc){this.handleResolve(nc)},__class__:Hv});var Gv=function(){};j["promhx.base.EventLoop"]=Gv,Gv.__name__=["promhx","base","EventLoop"],Gv.enqueue=function(nc){Gv.queue.add(nc),Gv.continueOnNextLoop()},Gv.set_nextLoop=function(nc){if(Gv.nextLoop!=null)throw new Jm("nextLoop has already been set");return Gv.nextLoop=nc,Gv.nextLoop},Gv.queueEmpty=function(){return Gv.queue.isEmpty()},Gv.finish=function(nc){nc==null&&(nc=1e3);for(var sc=null;nc-- >0&&(sc=Gv.queue.pop())!=null;)sc();return Gv.queue.isEmpty()},Gv.clear=function(){Gv.queue=new Vr},Gv.f=function(){var nc=Gv.queue.pop();nc!=null&&nc(),Gv.queue.isEmpty()||Gv.continueOnNextLoop()},Gv.continueOnNextLoop=function(){Gv.nextLoop!=null?Gv.nextLoop(Gv.f):setImmediate(Gv.f)};var f0=j["promhx.error.PromiseError"]={__ename__:["promhx","error","PromiseError"],__constructs__:["AlreadyResolved","DownstreamNotFullfilled"]};f0.AlreadyResolved=function(nc){var sc=["AlreadyResolved",0,nc];return sc.__enum__=f0,sc.toString=ie,sc},f0.DownstreamNotFullfilled=function(nc){var sc=["DownstreamNotFullfilled",1,nc];return sc.__enum__=f0,sc.toString=ie,sc};var qv=function(){};j["verb.Verb"]=qv,qv.__name__=["verb","Verb"],qv.main=function(){L.log("verb 2.1.0")};var Pv=function(){};j["verb.core.ArrayExtensions"]=Pv,Pv.__name__=["verb","core","ArrayExtensions"],Pv.alloc=function(nc,sc){if(!(sc<0))for(;nc.length<sc;)nc.push(null)},Pv.reversed=function(nc){var sc=nc.slice();return sc.reverse(),sc},Pv.last=function(nc){return nc[nc.length-1]},Pv.first=function(nc){return nc[0]},Pv.spliceAndInsert=function(nc,sc,Zm,iv){nc.splice(sc,Zm),nc.splice(sc,0,iv)},Pv.left=function(nc){if(nc.length==0)return[];var sc=Math.ceil(nc.length/2);return nc.slice(0,sc)},Pv.right=function(nc){if(nc.length==0)return[];var sc=Math.ceil(nc.length/2);return nc.slice(sc)},Pv.rightWithPivot=function(nc){if(nc.length==0)return[];var sc=Math.ceil(nc.length/2);return nc.slice(sc-1)},Pv.unique=function(nc,sc){if(nc.length==0)return[];for(var Zm=[nc.pop()];nc.length>0;){for(var iv=nc.pop(),hv=!0,xv=0;xv<Zm.length;){var Nv=Zm[xv];if(++xv,sc(iv,Nv)){hv=!1;break}}hv&&Zm.push(iv)}return Zm};var Tv=function(){};j["verb.core.Binomial"]=Tv,Tv.__name__=["verb","core","Binomial"],Tv.get=function(nc,sc){if(sc==0)return 1;if(nc==0||sc>nc)return 0;if(sc>nc-sc&&(sc=nc-sc),Tv.memo_exists(nc,sc))return Tv.get_memo(nc,sc);for(var Zm=1,iv=nc,hv=1,xv=sc+1;hv<xv;){var Nv=hv++;if(Tv.memo_exists(iv,Nv)){nc--,Zm=Tv.get_memo(iv,Nv);continue}Zm*=nc--,Zm/=Nv,Tv.memoize(iv,Nv,Zm)}return Zm},Tv.get_no_memo=function(nc,sc){if(sc==0)return 1;if(nc==0||sc>nc)return 0;sc>nc-sc&&(sc=nc-sc);for(var Zm=1,iv=1,hv=sc+1;iv<hv;){var xv=iv++;Zm*=nc--,Zm/=xv}return Zm},Tv.memo_exists=function(nc,sc){return Tv.memo.h.hasOwnProperty(nc)&&Tv.memo.h[nc].h.hasOwnProperty(sc)},Tv.get_memo=function(nc,sc){return Tv.memo.h[nc].h[sc]},Tv.memoize=function(nc,sc,Zm){Tv.memo.h.hasOwnProperty(nc)||Tv.memo.set(nc,new tv),Tv.memo.h[nc].h[sc]=Zm};var Vv=V.core.BoundingBox=function(nc){this.max=null,this.min=null,this.dim=3,this.initialized=!1,nc!=null&&this.addRange(nc)};j["verb.core.BoundingBox"]=Vv,Vv.__name__=["verb","core","BoundingBox"],Vv.intervalsOverlap=function(nc,sc,Zm,iv,hv){hv==null&&(hv=-1);var xv;hv<-.5?xv=Av.TOLERANCE:xv=hv;var Nv=Math.min(nc,sc)-xv,Bv=Math.max(nc,sc)+xv,Uv=Math.min(Zm,iv)-xv,Jv=Math.max(Zm,iv)+xv;return Nv>=Uv&&Nv<=Jv||Bv>=Uv&&Bv<=Jv||Uv>=Nv&&Uv<=Bv||Jv>=Nv&&Jv<=Bv},Vv.prototype={fromPoint:function(nc){return new Vv([nc])},add:function(nc){if(!this.initialized)return this.dim=nc.length,this.min=nc.slice(0),this.max=nc.slice(0),this.initialized=!0,this;for(var sc=0,Zm=this.dim;sc<Zm;){var iv=sc++;nc[iv]>this.max[iv]&&(this.max[iv]=nc[iv]),nc[iv]<this.min[iv]&&(this.min[iv]=nc[iv])}return this},addRange:function(nc){for(var sc=nc.length,Zm=0;Zm<sc;){var iv=Zm++;this.add(nc[iv])}return this},contains:function(nc,sc){return sc==null&&(sc=-1),this.initialized?this.intersects(new Vv([nc]),sc):!1},intersects:function(nc,sc){if(sc==null&&(sc=-1),!this.initialized||!nc.initialized)return!1;for(var Zm=this.min,iv=this.max,hv=nc.min,xv=nc.max,Nv=0,Bv=this.dim;Nv<Bv;){var Uv=Nv++;if(!Vv.intervalsOverlap(Zm[Uv],iv[Uv],hv[Uv],xv[Uv],sc))return!1}return!0},clear:function(){return this.initialized=!1,this},getLongestAxis:function(){for(var nc=0,sc=0,Zm=0,iv=this.dim;Zm<iv;){var hv=Zm++,xv=this.getAxisLength(hv);xv>nc&&(nc=xv,sc=hv)}return sc},getAxisLength:function(nc){return nc<0||nc>this.dim-1?0:Math.abs(this.min[nc]-this.max[nc])},intersect:function(nc,sc){if(!this.initialized)return null;var Zm=this.min,iv=this.max,hv=nc.min,xv=nc.max;if(!this.intersects(nc,sc))return null;for(var Nv=[],Bv=[],Uv=0,Jv=this.dim;Uv<Jv;){var C0=Uv++;Nv.push(Math.min(iv[C0],xv[C0])),Bv.push(Math.max(Zm[C0],hv[C0]))}return new Vv([Bv,Nv])},__class__:Vv};var Av=V.core.Constants=function(){};j["verb.core.Constants"]=Av,Av.__name__=["verb","core","Constants"];var y0=V.core.SerializableBase=function(){};j["verb.core.SerializableBase"]=y0,y0.__name__=["verb","core","SerializableBase"],y0.prototype={serialize:function(){var nc=new Xm;return nc.serialize(this),nc.toString()},__class__:y0};var av=V.core.Plane=function(nc,sc){this.origin=nc,this.normal=sc};j["verb.core.Plane"]=av,av.__name__=["verb","core","Plane"],av.__super__=y0,av.prototype=Oe(y0.prototype,{__class__:av});var fv=V.core.Ray=function(nc,sc){this.origin=nc,this.dir=sc};j["verb.core.Ray"]=fv,fv.__name__=["verb","core","Ray"],fv.__super__=y0,fv.prototype=Oe(y0.prototype,{__class__:fv});var lv=V.core.NurbsCurveData=function(nc,sc,Zm){this.degree=nc,this.controlPoints=Zm,this.knots=sc};j["verb.core.NurbsCurveData"]=lv,lv.__name__=["verb","core","NurbsCurveData"],lv.__super__=y0,lv.prototype=Oe(y0.prototype,{__class__:lv});var kv=V.core.NurbsSurfaceData=function(nc,sc,Zm,iv,hv){this.degreeU=nc,this.degreeV=sc,this.knotsU=Zm,this.knotsV=iv,this.controlPoints=hv};j["verb.core.NurbsSurfaceData"]=kv,kv.__name__=["verb","core","NurbsSurfaceData"],kv.__super__=y0,kv.prototype=Oe(y0.prototype,{__class__:kv});var Iv=V.core.MeshData=function(nc,sc,Zm,iv){this.faces=nc,this.points=sc,this.normals=Zm,this.uvs=iv};j["verb.core.MeshData"]=Iv,Iv.__name__=["verb","core","MeshData"],Iv.empty=function(){return new Iv([],[],[],[])},Iv.__super__=y0,Iv.prototype=Oe(y0.prototype,{__class__:Iv});var vv=V.core.PolylineData=function(nc,sc){this.points=nc,this.params=sc};j["verb.core.PolylineData"]=vv,vv.__name__=["verb","core","PolylineData"],vv.__super__=y0,vv.prototype=Oe(y0.prototype,{__class__:vv});var Ev=V.core.VolumeData=function(nc,sc,Zm,iv,hv,xv,Nv){this.degreeU=nc,this.degreeV=sc,this.degreeW=Zm,this.knotsU=iv,this.knotsV=hv,this.knotsW=xv,this.controlPoints=Nv};j["verb.core.VolumeData"]=Ev,Ev.__name__=["verb","core","VolumeData"],Ev.__super__=y0,Ev.prototype=Oe(y0.prototype,{__class__:Ev});var zv=V.core.Pair=function(nc,sc){this.item0=nc,this.item1=sc};j["verb.core.Pair"]=zv,zv.__name__=["verb","core","Pair"],zv.prototype={__class__:zv};var Fv=V.core.Interval=function(nc,sc){this.min=nc,this.max=sc};j["verb.core.Interval"]=Fv,Fv.__name__=["verb","core","Interval"],Fv.prototype={__class__:Fv};var Yv=V.core.CurveCurveIntersection=function(nc,sc,Zm,iv){this.point0=nc,this.point1=sc,this.u0=Zm,this.u1=iv};j["verb.core.CurveCurveIntersection"]=Yv,Yv.__name__=["verb","core","CurveCurveIntersection"],Yv.prototype={__class__:Yv};var g0=V.core.CurveSurfaceIntersection=function(nc,sc,Zm,iv){this.u=nc,this.uv=sc,this.curvePoint=Zm,this.surfacePoint=iv};j["verb.core.CurveSurfaceIntersection"]=g0,g0.__name__=["verb","core","CurveSurfaceIntersection"],g0.prototype={__class__:g0};var Qv=V.core.MeshIntersectionPoint=function(nc,sc,Zm,iv,hv){this.visited=!1,this.adj=null,this.opp=null,this.uv0=nc,this.uv1=sc,this.point=Zm,this.faceIndex0,this.faceIndex1};j["verb.core.MeshIntersectionPoint"]=Qv,Qv.__name__=["verb","core","MeshIntersectionPoint"],Qv.prototype={__class__:Qv};var N0=V.core.PolylineMeshIntersection=function(nc,sc,Zm,iv,hv){this.point=nc,this.u=sc,this.uv=Zm,this.polylineIndex=iv,this.faceIndex=hv};j["verb.core.PolylineMeshIntersection"]=N0,N0.__name__=["verb","core","PolylineMeshIntersection"],N0.prototype={__class__:N0};var B0=V.core.SurfaceSurfaceIntersectionPoint=function(nc,sc,Zm,iv){this.uv0=nc,this.uv1=sc,this.point=Zm,this.dist=iv};j["verb.core.SurfaceSurfaceIntersectionPoint"]=B0,B0.__name__=["verb","core","SurfaceSurfaceIntersectionPoint"],B0.prototype={__class__:B0};var a1=V.core.TriSegmentIntersection=function(nc,sc,Zm,iv){this.point=nc,this.s=sc,this.t=Zm,this.p=iv};j["verb.core.TriSegmentIntersection"]=a1,a1.__name__=["verb","core","TriSegmentIntersection"],a1.prototype={__class__:a1};var I0=V.core.CurveTriPoint=function(nc,sc,Zm){this.u=nc,this.point=sc,this.uv=Zm};j["verb.core.CurveTriPoint"]=I0,I0.__name__=["verb","core","CurveTriPoint"],I0.prototype={__class__:I0};var M0=function(nc,sc,Zm,iv,hv){hv==null&&(hv=!1),iv==null&&(iv=-1),this.uv=Zm,this.point=nc,this.normal=sc,this.id=iv,this.degen=hv};j["verb.core.SurfacePoint"]=M0,M0.__name__=["verb","core","SurfacePoint"],M0.fromUv=function(nc,sc){return new M0(null,null,[nc,sc])},M0.prototype={__class__:M0};var D0=V.core.CurvePoint=function(nc,sc){this.u=nc,this.pt=sc};j["verb.core.CurvePoint"]=D0,D0.__name__=["verb","core","CurvePoint"],D0.prototype={__class__:D0};var W0=V.core.KdTree=function(nc,sc){this.dim=3,this.points=nc,this.distanceFunction=sc,this.dim=nc[0].point.length,this.root=this.buildTree(nc,0,null)};j["verb.core.KdTree"]=W0,W0.__name__=["verb","core","KdTree"],W0.prototype={buildTree:function(nc,sc,Zm){var iv=sc%this.dim,hv,xv;return nc.length==0?null:nc.length==1?new _0(nc[0],iv,Zm):(nc.sort(function(Nv,Bv){var Uv=Nv.point[iv]-Bv.point[iv];return Uv==0?0:Uv>0?1:-1}),hv=Math.floor(nc.length/2),xv=new _0(nc[hv],iv,Zm),xv.left=this.buildTree(nc.slice(0,hv),sc+1,xv),xv.right=this.buildTree(nc.slice(hv+1),sc+1,xv),xv)},nearest:function(nc,sc,Zm){var iv=this,hv=new Zv(function(v0){return-v0.item1}),xv,Nv=null;Nv=function(v0){for(var P0,O0=v0.dimension,F0=iv.distanceFunction(nc,v0.kdPoint.point),Q0,j0=[],i1=0,n1=iv.dim;i1<n1;)i1++,j0.push(0);Q0=j0;for(var s1,f1,_1=function(E1,I1){hv.push(new zv(E1,I1)),hv.size()>sc&&hv.pop()},T1=0,v1=iv.dim;T1<v1;){var m1=T1++;m1==v0.dimension?Q0[m1]=nc[m1]:Q0[m1]=v0.kdPoint.point[m1]}if(s1=iv.distanceFunction(Q0,v0.kdPoint.point),v0.right==null&&v0.left==null){(hv.size()<sc||F0<hv.peek().item1)&&_1(v0,F0);return}v0.right==null?P0=v0.left:v0.left==null?P0=v0.right:nc[O0]<v0.kdPoint.point[O0]?P0=v0.left:P0=v0.right,Nv(P0),(hv.size()<sc||F0<hv.peek().item1)&&_1(v0,F0),(hv.size()<sc||Math.abs(s1)<hv.peek().item1)&&(P0==v0.left?f1=v0.right:f1=v0.left,f1!=null&&Nv(f1))},xv=Nv;for(var Bv=0;Bv<sc;)Bv++,hv.push(new zv(null,Zm));xv(this.root);for(var Uv=[],Jv=0;Jv<sc;){var C0=Jv++;hv.content[C0].item0!=null&&Uv.push(new zv(hv.content[C0].item0.kdPoint,hv.content[C0].item1))}return Uv},__class__:W0};var Zv=function(nc){this.content=[],this.scoreFunction=nc};j["verb.core.BinaryHeap"]=Zv,Zv.__name__=["verb","core","BinaryHeap"],Zv.prototype={push:function(nc){this.content.push(nc),this.bubbleUp(this.content.length-1)},pop:function(){var nc=this.content[0],sc=this.content.pop();return this.content.length>0&&(this.content[0]=sc,this.sinkDown(0)),nc},peek:function(){return this.content[0]},remove:function(nc){for(var sc=this.content.length,Zm=0;Zm<sc;){var iv=Zm++;if(this.content[iv]==nc){var hv=this.content.pop();iv!=sc-1&&(this.content[iv]=hv,this.scoreFunction(hv)<this.scoreFunction(nc)?this.bubbleUp(iv):this.sinkDown(iv));return}}throw new Jm("Node not found.")},size:function(){return this.content.length},bubbleUp:function(nc){for(var sc=this.content[nc];nc>0;){var Zm=Math.floor((nc+1)/2)-1,iv=this.content[Zm];if(this.scoreFunction(sc)<this.scoreFunction(iv))this.content[Zm]=sc,this.content[nc]=iv,nc=Zm;else break}},sinkDown:function(nc){for(var sc=this.content.length,Zm=this.content[nc],iv=this.scoreFunction(Zm);;){var hv=(nc+1)*2,xv=hv-1,Nv=-1,Bv=0;if(xv<sc){var Uv=this.content[xv];Bv=this.scoreFunction(Uv),Bv<iv&&(Nv=xv)}if(hv<sc){var Jv=this.content[hv],C0=this.scoreFunction(Jv);C0<(Nv==-1?iv:Bv)&&(Nv=hv)}if(Nv!=-1)this.content[nc]=this.content[Nv],this.content[Nv]=Zm,nc=Nv;else break}},__class__:Zv};var z0=V.core.KdPoint=function(nc,sc){this.point=nc,this.obj=sc};j["verb.core.KdPoint"]=z0,z0.__name__=["verb","core","KdPoint"],z0.prototype={__class__:z0};var _0=V.core.KdNode=function(nc,sc,Zm){this.kdPoint=nc,this.left=null,this.right=null,this.parent=Zm,this.dimension=sc};j["verb.core.KdNode"]=_0,_0.__name__=["verb","core","KdNode"],_0.prototype={__class__:_0};var q0=function(){};j["verb.eval.IBoundingBoxTree"]=q0,q0.__name__=["verb","eval","IBoundingBoxTree"],q0.prototype={__class__:q0};var Rv=function(nc,sc){this._boundingBox=null,this._curve=nc,sc==null&&(sc=Mv.domain(this._curve.knots)/64),this._knotTol=sc};j["verb.core.LazyCurveBoundingBoxTree"]=Rv,Rv.__name__=["verb","core","LazyCurveBoundingBoxTree"],Rv.__interfaces__=[q0],Rv.prototype={split:function(){var nc=Pv.first(this._curve.knots),sc=Pv.last(this._curve.knots),Zm=sc-nc,iv=yy.curveSplit(this._curve,(sc+nc)/2+Zm*.1*Math.random());return new zv(new Rv(iv[0],this._knotTol),new Rv(iv[1],this._knotTol))},boundingBox:function(){return this._boundingBox==null&&(this._boundingBox=new Vv(R0.dehomogenize1d(this._curve.controlPoints))),this._boundingBox},yield:function(){return this._curve},indivisible:function(nc){return Mv.domain(this._curve.knots)<this._knotTol},empty:function(){return!1},__class__:Rv};var k0=function(nc,sc){if(this._boundingBox=null,this._mesh=nc,sc==null){for(var Zm=[],iv=0,hv=nc.faces.length;iv<hv;){var xv=iv++;Zm.push(xv)}sc=Zm}this._faceIndices=sc};j["verb.core.LazyMeshBoundingBoxTree"]=k0,k0.__name__=["verb","core","LazyMeshBoundingBoxTree"],k0.__interfaces__=[q0],k0.prototype={split:function(){var nc=l1.sortTrianglesOnLongestAxis(this.boundingBox(),this._mesh,this._faceIndices),sc=Pv.left(nc),Zm=Pv.right(nc);return new zv(new k0(this._mesh,sc),new k0(this._mesh,Zm))},boundingBox:function(){return this._boundingBox==null&&(this._boundingBox=l1.makeMeshAabb(this._mesh,this._faceIndices)),this._boundingBox},yield:function(){return this._faceIndices[0]},indivisible:function(nc){return this._faceIndices.length==1},empty:function(){return this._faceIndices.length==0},__class__:k0};var Ov=function(nc,sc){this._boundingBox=null,this._polyline=nc,sc==null&&(sc=new Fv(0,nc.points.length!=0?nc.points.length-1:0)),this._interval=sc};j["verb.core.LazyPolylineBoundingBoxTree"]=Ov,Ov.__name__=["verb","core","LazyPolylineBoundingBoxTree"],Ov.__interfaces__=[q0],Ov.prototype={split:function(){var nc=this._interval.min,sc=this._interval.max,Zm=nc+Math.ceil((sc-nc)/2),iv=new Fv(nc,Zm),hv=new Fv(Zm,sc);return new zv(new Ov(this._polyline,iv),new Ov(this._polyline,hv))},boundingBox:function(){return this._boundingBox==null&&(this._boundingBox=new Vv(this._polyline.points)),this._boundingBox},yield:function(){return this._interval.min},indivisible:function(nc){return this._interval.max-this._interval.min==1},empty:function(){return this._interval.max-this._interval.min==0},__class__:Ov};var Kv=function(nc,sc,Zm,iv){sc==null&&(sc=!1),this._boundingBox=null,this._surface=nc,this._splitV=sc,Zm==null&&(Zm=Mv.domain(nc.knotsU)/16),iv==null&&(iv=Mv.domain(nc.knotsV)/16),this._knotTolU=Zm,this._knotTolV=iv};j["verb.core.LazySurfaceBoundingBoxTree"]=Kv,Kv.__name__=["verb","core","LazySurfaceBoundingBoxTree"],Kv.__interfaces__=[q0],Kv.prototype={split:function(){var nc,sc;this._splitV?(nc=Pv.first(this._surface.knotsV),sc=Pv.last(this._surface.knotsV)):(nc=Pv.first(this._surface.knotsU),sc=Pv.last(this._surface.knotsU));var Zm=(nc+sc)/2,iv=yy.surfaceSplit(this._surface,Zm,this._splitV);return new zv(new Kv(iv[0],!this._splitV,this._knotTolU,this._knotTolV),new Kv(iv[1],!this._splitV,this._knotTolU,this._knotTolV))},boundingBox:function(){if(this._boundingBox==null){this._boundingBox=new Vv;for(var nc=0,sc=this._surface.controlPoints;nc<sc.length;){var Zm=sc[nc];++nc,this._boundingBox.addRange(R0.dehomogenize1d(Zm))}}return this._boundingBox},yield:function(){return this._surface},indivisible:function(nc){return Mv.domain(this._surface.knotsV)<this._knotTolV&&Mv.domain(this._surface.knotsU)<this._knotTolU},empty:function(){return!1},__class__:Kv};var E0=V.core.Mat=function(){};j["verb.core.Mat"]=E0,E0.__name__=["verb","core","Mat"],E0.mul=function(nc,sc){for(var Zm=[],iv=0,hv=sc.length;iv<hv;){var xv=iv++;Zm.push(Mv.mul(nc,sc[xv]))}return Zm},E0.mult=function(nc,sc){var Zm,iv,hv,xv,Nv,Bv,Uv,Jv;Zm=nc.length,iv=sc.length,hv=sc[0].length,xv=[];for(var C0=Zm-1,v0=0,P0=0;C0>=0;){for(Nv=[],Bv=nc[C0],P0=hv-1;P0>=0;){for(Uv=Bv[iv-1]*sc[iv-1][P0],v0=iv-2;v0>=1;)Jv=v0-1,Uv+=Bv[v0]*sc[v0][P0]+Bv[Jv]*sc[Jv][P0],v0-=2;v0==0&&(Uv+=Bv[0]*sc[0][P0]),Nv[P0]=Uv,P0--}xv[C0]=Nv,C0--}return xv},E0.add=function(nc,sc){for(var Zm=[],iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm.push(Mv.add(nc[xv],sc[xv]))}return Zm},E0.div=function(nc,sc){for(var Zm=[],iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm.push(Mv.div(nc[xv],sc))}return Zm},E0.sub=function(nc,sc){for(var Zm=[],iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm.push(Mv.sub(nc[xv],sc[xv]))}return Zm},E0.dot=function(nc,sc){for(var Zm=[],iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm.push(Mv.dot(nc[xv],sc))}return Zm},E0.identity=function(nc){for(var sc=Mv.zeros2d(nc,nc),Zm=0;Zm<nc;){var iv=Zm++;sc[iv][iv]=1}return sc},E0.transpose=function(nc){if(nc.length==0)return[];for(var sc=[],Zm=0,iv=nc[0].length;Zm<iv;){var hv=Zm++;sc.push(function(xv){for(var Nv,Bv=[],Uv=0,Jv=nc.length;Uv<Jv;){var C0=Uv++;Bv.push(nc[C0][hv])}return Nv=Bv,Nv}())}return sc},E0.solve=function(nc,sc){return E0.LUsolve(E0.LU(nc),sc)},E0.LUsolve=function(nc,sc){var Zm,iv,hv=nc.LU,xv=hv.length,Nv=sc.slice(),Bv=nc.P,Uv,Jv,C0;for(Zm=xv-1;Zm!=-1;)Nv[Zm]=sc[Zm],--Zm;for(Zm=0;Zm<xv;){for(Uv=Bv[Zm],Bv[Zm]!=Zm&&(C0=Nv[Zm],Nv[Zm]=Nv[Uv],Nv[Uv]=C0),Jv=hv[Zm],iv=0;iv<Zm;)Nv[Zm]-=Nv[iv]*Jv[iv],++iv;++Zm}for(Zm=xv-1;Zm>=0;){for(Jv=hv[Zm],iv=Zm+1;iv<xv;)Nv[Zm]-=Nv[iv]*Jv[iv],++iv;Nv[Zm]/=Jv[Zm],--Zm}return Nv},E0.LU=function(nc){for(var sc,Zm,iv,hv,xv,Nv,Bv,Uv,Jv,C0=[],v0=0,P0=nc.length;v0<P0;){var O0=v0++;C0.push(nc[O0].slice())}nc=C0;var F0=nc.length,Q0=F0-1,j0=[];for(iv=0;iv<F0;){for(Bv=iv,Nv=nc[iv],Jv=Math.abs(Nv[iv]),Zm=iv+1;Zm<F0;)hv=Math.abs(nc[Zm][iv]),Jv<hv&&(Jv=hv,Bv=Zm),++Zm;for(j0[iv]=Bv,Bv!=iv&&(nc[iv]=nc[Bv],nc[Bv]=Nv,Nv=nc[iv]),xv=Nv[iv],sc=iv+1;sc<F0;)nc[sc][iv]/=xv,++sc;for(sc=iv+1;sc<F0;){for(Uv=nc[sc],Zm=iv+1;Zm<Q0;)Uv[Zm]-=Uv[iv]*Nv[Zm],++Zm,Uv[Zm]-=Uv[iv]*Nv[Zm],++Zm;Zm==Q0&&(Uv[Zm]-=Uv[iv]*Nv[Zm]),++sc}++iv}return new X0(nc,j0)};var X0=function(nc,sc){this.LU=nc,this.P=sc};j["verb.core._Mat.LUDecomp"]=X0,X0.__name__=["verb","core","_Mat","LUDecomp"],X0.prototype={__class__:X0};var l1=V.core.Mesh=function(){};j["verb.core.Mesh"]=l1,l1.__name__=["verb","core","Mesh"],l1.getTriangleNorm=function(nc,sc){var Zm=nc[sc[0]],iv=nc[sc[1]],hv=nc[sc[2]],xv=Mv.sub(iv,Zm),Nv=Mv.sub(hv,Zm),Bv=Mv.cross(xv,Nv);return Mv.mul(1/Mv.norm(Bv),Bv)},l1.makeMeshAabb=function(nc,sc){for(var Zm=new Vv,iv=0;iv<sc.length;){var hv=sc[iv];++iv,Zm.add(nc.points[nc.faces[hv][0]]),Zm.add(nc.points[nc.faces[hv][1]]),Zm.add(nc.points[nc.faces[hv][2]])}return Zm},l1.sortTrianglesOnLongestAxis=function(nc,sc,Zm){for(var iv=nc.getLongestAxis(),hv=[],xv=0;xv<Zm.length;){var Nv=Zm[xv];++xv;var Bv=l1.getMinCoordOnAxis(sc.points,sc.faces[Nv],iv);hv.push(new zv(Bv,Nv))}hv.sort(function(P0,O0){var F0=P0.item0,Q0=O0.item0;return F0==Q0?0:F0>Q0?1:-1});for(var Uv=[],Jv=0,C0=hv.length;Jv<C0;){var v0=Jv++;Uv.push(hv[v0].item1)}return Uv},l1.getMinCoordOnAxis=function(nc,sc,Zm){for(var iv=1/0,hv=0;hv<3;){var xv=hv++,Nv=nc[sc[xv]][Zm];Nv<iv&&(iv=Nv)}return iv},l1.getTriangleCentroid=function(nc,sc){for(var Zm=[0,0,0],iv=0;iv<3;)for(var hv=iv++,xv=0;xv<3;){var Nv=xv++;Zm[Nv]+=nc[sc[hv]][Nv]}for(var Bv=0;Bv<3;){var Uv=Bv++;Zm[Uv]/=3}return Zm},l1.triangleUVFromPoint=function(nc,sc,Zm){var iv=nc.faces[sc],hv=nc.points[iv[0]],xv=nc.points[iv[1]],Nv=nc.points[iv[2]],Bv=nc.uvs[iv[0]],Uv=nc.uvs[iv[1]],Jv=nc.uvs[iv[2]],C0=Mv.sub(hv,Zm),v0=Mv.sub(xv,Zm),P0=Mv.sub(Nv,Zm),O0=Mv.norm(Mv.cross(Mv.sub(hv,xv),Mv.sub(hv,Nv))),F0=Mv.norm(Mv.cross(v0,P0))/O0,Q0=Mv.norm(Mv.cross(P0,C0))/O0,j0=Mv.norm(Mv.cross(C0,v0))/O0;return Mv.add(Mv.mul(F0,Bv),Mv.add(Mv.mul(Q0,Uv),Mv.mul(j0,Jv)))};var x1=function(nc,sc){if(this._empty=!1,this._face=-1,sc==null){for(var Zm=[],iv=0,hv=nc.faces.length;iv<hv;){var xv=iv++;Zm.push(xv)}sc=Zm}if(this._boundingBox=l1.makeMeshAabb(nc,sc),sc.length<1){this._empty=!0;return}else if(sc.length<2){this._face=sc[0];return}var Nv=l1.sortTrianglesOnLongestAxis(this._boundingBox,nc,sc),Bv=Pv.left(Nv),Uv=Pv.right(Nv);this._children=new zv(new x1(nc,Bv),new x1(nc,Uv))};j["verb.core.MeshBoundingBoxTree"]=x1,x1.__name__=["verb","core","MeshBoundingBoxTree"],x1.__interfaces__=[q0],x1.prototype={split:function(){return this._children},boundingBox:function(){return this._boundingBox},yield:function(){return this._face},indivisible:function(nc){return this._children==null},empty:function(){return this._empty},__class__:x1};var K0=V.core.Minimizer=function(){};j["verb.core.Minimizer"]=K0,K0.__name__=["verb","core","Minimizer"],K0.uncmin=function(nc,sc,Zm,iv,hv){Zm==null&&(Zm=1e-8),iv==null&&(iv=function(T1){return K0.numericalGradient(nc,T1)}),hv==null&&(hv=1e3),sc=sc.slice(0);var xv=sc.length,Nv=nc(sc),Bv=Nv,Uv;if(isNaN(Nv))throw new Jm("uncmin: f(x0) is a NaN!");Zm=Math.max(Zm,Av.EPSILON);var Jv,C0,v0,P0=E0.identity(xv),O0=0,F0=[],Q0,j0,i1,n1,s1,f1,_1="";for(C0=iv(sc);O0<hv;){if(!Mv.all(Mv.finite(C0))){_1="Gradient has Infinity or NaN";break}if(Jv=Mv.neg(E0.dot(P0,C0)),!Mv.all(Mv.finite(Jv))){_1="Search direction has Infinity or NaN";break}if(f1=Mv.norm(Jv),f1<Zm){_1="Newton step smaller than tol";break}for(s1=1,Uv=Mv.dot(C0,Jv),Q0=sc;O0<hv&&!(s1*f1<Zm);){if(F0=Mv.mul(s1,Jv),Q0=Mv.add(sc,F0),Bv=nc(Q0),Bv-Nv>=.1*s1*Uv||isNaN(Bv)){s1*=.5,++O0;continue}break}if(s1*f1<Zm){_1="Line search step size smaller than tol";break}if(O0==hv){_1="maxit reached during line search";break}v0=iv(Q0),j0=Mv.sub(v0,C0),n1=Mv.dot(j0,F0),i1=E0.dot(P0,j0),P0=E0.sub(E0.add(P0,E0.mul((n1+Mv.dot(j0,i1))/(n1*n1),K0.tensor(F0,F0))),E0.div(E0.add(K0.tensor(i1,F0),K0.tensor(F0,i1)),n1)),sc=Q0,Nv=Bv,C0=v0,++O0}return new J0(sc,Nv,C0,P0,O0,_1)},K0.numericalGradient=function(nc,sc){var Zm=sc.length,iv=nc(sc);if(iv==NaN)throw new Jm("gradient: f(x) is a NaN!");for(var hv=sc.slice(0),xv,Nv,Bv=[],Uv,Jv=.001,C0,v0,P0,O0=0,F0,Q0,j0,i1=0;i1<Zm;)for(var n1=i1++,s1=Math.max(1e-6*iv,1e-8);;){if(++O0,O0>20)throw new Jm("Numerical gradient fails");if(hv[n1]=sc[n1]+s1,xv=nc(hv),hv[n1]=sc[n1]-s1,Nv=nc(hv),hv[n1]=sc[n1],isNaN(xv)||isNaN(Nv)){s1/=16;continue}if(Bv[n1]=(xv-Nv)/(2*s1),C0=sc[n1]-s1,v0=sc[n1],P0=sc[n1]+s1,F0=(xv-iv)/s1,Q0=(iv-Nv)/s1,j0=Mv.max([Math.abs(Bv[n1]),Math.abs(iv),Math.abs(xv),Math.abs(Nv),Math.abs(C0),Math.abs(v0),Math.abs(P0),1e-8]),Uv=Math.min(Mv.max([Math.abs(F0-Bv[n1]),Math.abs(Q0-Bv[n1]),Math.abs(F0-Q0)])/j0,s1/j0),Uv>Jv)s1/=16;else break}return Bv},K0.tensor=function(nc,sc){for(var Zm=nc.length,iv=sc.length,hv=[],xv,Nv,Bv=Zm-1;Bv>=0;){xv=[],Nv=nc[Bv];for(var Uv=iv-1;Uv>=3;)xv[Uv]=Nv*sc[Uv],--Uv,xv[Uv]=Nv*sc[Uv],--Uv,xv[Uv]=Nv*sc[Uv],--Uv,xv[Uv]=Nv*sc[Uv],--Uv;for(;Uv>=0;)xv[Uv]=Nv*sc[Uv],--Uv;hv[Bv]=xv,Bv--}return hv};var J0=function(nc,sc,Zm,iv,hv,xv){this.solution=nc,this.value=sc,this.gradient=Zm,this.invHessian=iv,this.iterations=hv,this.message=xv};j["verb.core.MinimizationResult"]=J0,J0.__name__=["verb","core","MinimizationResult"],J0.prototype={__class__:J0};var y1=function(){};j["verb.core.ISerializable"]=y1,y1.__name__=["verb","core","ISerializable"],y1.prototype={__class__:y1};var vy=V.core.Deserializer=function(){};j["verb.core.Deserializer"]=vy,vy.__name__=["verb","core","Deserializer"],vy.deserialize=function(nc){var sc=new Km(nc),Zm=sc.unserialize();return Zm};var ty=V.core.Trig=function(){};j["verb.core.Trig"]=ty,ty.__name__=["verb","core","Trig"],ty.isPointInPlane=function(nc,sc,Zm){return Math.abs(Mv.dot(Mv.sub(nc,sc.origin),sc.normal))<Zm},ty.distToSegment=function(nc,sc,Zm){var iv=ty.segmentClosestPoint(sc,nc,Zm,0,1);return Mv.dist(sc,iv.pt)},ty.rayClosestPoint=function(nc,sc,Zm){var iv=Mv.sub(nc,sc),hv=Mv.dot(iv,Zm),xv=Mv.add(sc,Mv.mul(hv,Zm));return xv},ty.distToRay=function(nc,sc,Zm){var iv=ty.rayClosestPoint(nc,sc,Zm),hv=Mv.sub(iv,nc);return Mv.norm(hv)},ty.threePointsAreFlat=function(nc,sc,Zm,iv){var hv=Mv.sub(sc,nc),xv=Mv.sub(Zm,nc),Nv=Mv.cross(hv,xv),Bv=Mv.dot(Nv,Nv);return Bv<iv},ty.segmentClosestPoint=function(nc,sc,Zm,iv,hv){var xv=Mv.sub(Zm,sc),Nv=Mv.norm(xv);if(Nv<Av.EPSILON)return{u:iv,pt:sc};var Bv=sc,Uv=Mv.mul(1/Nv,xv),Jv=Mv.sub(nc,Bv),C0=Mv.dot(Jv,Uv);return C0<0?{u:iv,pt:sc}:C0>Nv?{u:hv,pt:Zm}:{u:iv+(hv-iv)*C0/Nv,pt:Mv.add(Bv,Mv.mul(C0,Uv))}};var Mv=V.core.Vec=function(){};j["verb.core.Vec"]=Mv,Mv.__name__=["verb","core","Vec"],Mv.angleBetween=function(nc,sc){return Math.acos(Mv.dot(nc,sc)/(Mv.norm(nc)*Mv.norm(sc)))},Mv.positiveAngleBetween=function(nc,sc,Zm){var iv=Mv.cross(nc,sc),hv=Mv.norm(nc),xv=Mv.norm(sc),Nv=hv*xv,Bv=Mv.dot(nc,sc),Uv=Mv.norm(iv)/Nv,Jv=Bv/Nv,C0=Math.atan2(Uv,Jv),v0=Mv.dot(Zm,iv);return Math.abs(v0)<Av.EPSILON||v0>0?C0:-C0},Mv.signedAngleBetween=function(nc,sc,Zm){var iv=Mv.cross(nc,sc),hv=Mv.norm(nc),xv=Mv.norm(sc),Nv=hv*xv,Bv=Mv.dot(nc,sc),Uv=Mv.norm(iv)/Nv,Jv=Bv/Nv,C0=Math.atan2(Uv,Jv),v0=Mv.dot(Zm,iv);return v0>0?C0:2*Math.PI-C0},Mv.angleBetweenNormalized2d=function(nc,sc){var Zm=nc[0]*sc[1]-nc[1]*sc[0];return Math.atan2(Zm,Mv.dot(nc,sc))},Mv.domain=function(nc){return Pv.last(nc)-Pv.first(nc)},Mv.range=function(nc){for(var sc=[],Zm=0,iv=0;iv<nc;)iv++,sc.push(Zm),Zm+=1;return sc},Mv.span=function(nc,sc,Zm){if(Zm==null)return[];if(Zm<Av.EPSILON)return[];if(nc>sc&&Zm>0)return[];if(sc>nc&&Zm<0)return[];for(var iv=[],hv=nc;hv<=sc;)iv.push(hv),hv+=Zm;return iv},Mv.neg=function(nc){return nc.map(function(sc){return-sc})},Mv.min=function(nc){return hr.fold(nc,function(sc,Zm){return Math.min(sc,Zm)},1/0)},Mv.max=function(nc){return hr.fold(nc,function(sc,Zm){return Math.max(sc,Zm)},-1/0)},Mv.all=function(nc){return hr.fold(nc,function(sc,Zm){return Zm&&sc},!0)},Mv.finite=function(nc){return nc.map(function(sc){return isFinite(sc)})},Mv.onRay=function(nc,sc,Zm){return Mv.add(nc,Mv.mul(Zm,sc))},Mv.lerp=function(nc,sc,Zm){return Mv.add(Mv.mul(nc,sc),Mv.mul(1-nc,Zm))},Mv.normalized=function(nc){return Mv.div(nc,Mv.norm(nc))},Mv.cross=function(nc,sc){return[nc[1]*sc[2]-nc[2]*sc[1],nc[2]*sc[0]-nc[0]*sc[2],nc[0]*sc[1]-nc[1]*sc[0]]},Mv.dist=function(nc,sc){return Mv.norm(Mv.sub(nc,sc))},Mv.distSquared=function(nc,sc){return Mv.normSquared(Mv.sub(nc,sc))},Mv.sum=function(nc){return hr.fold(nc,function(sc,Zm){return Zm+sc},0)},Mv.addAll=function(nc){var sc=O1(nc)();if(!sc.hasNext())return null;var Zm=sc.next().length;return hr.fold(nc,function(iv,hv){return Mv.add(hv,iv)},Mv.rep(Zm,0))},Mv.addAllMutate=function(nc){for(var sc=nc[0],Zm=1,iv=nc.length;Zm<iv;){var hv=Zm++;Mv.addMutate(sc,nc[hv])}},Mv.addMulMutate=function(nc,sc,Zm){for(var iv=0,hv=nc.length;iv<hv;){var xv=iv++;nc[xv]=nc[xv]+sc*Zm[xv]}},Mv.subMulMutate=function(nc,sc,Zm){for(var iv=0,hv=nc.length;iv<hv;){var xv=iv++;nc[xv]=nc[xv]-sc*Zm[xv]}},Mv.addMutate=function(nc,sc){for(var Zm=0,iv=nc.length;Zm<iv;){var hv=Zm++;nc[hv]=nc[hv]+sc[hv]}},Mv.subMutate=function(nc,sc){for(var Zm=0,iv=nc.length;Zm<iv;){var hv=Zm++;nc[hv]=nc[hv]-sc[hv]}},Mv.mulMutate=function(nc,sc){for(var Zm=0,iv=sc.length;Zm<iv;){var hv=Zm++;sc[hv]=sc[hv]*nc}},Mv.norm=function(nc){var sc=Mv.normSquared(nc);return sc!=0?Math.sqrt(sc):sc},Mv.normSquared=function(nc){return hr.fold(nc,function(sc,Zm){return Zm+sc*sc},0)},Mv.rep=function(nc,sc){for(var Zm=[],iv=0;iv<nc;)iv++,Zm.push(sc);return Zm},Mv.zeros1d=function(nc){for(var sc=[],Zm=0;Zm<nc;)Zm++,sc.push(0);return sc},Mv.zeros2d=function(nc,sc){for(var Zm=[],iv=0;iv<nc;)iv++,Zm.push(Mv.zeros1d(sc));return Zm},Mv.zeros3d=function(nc,sc,Zm){for(var iv=[],hv=0;hv<nc;)hv++,iv.push(Mv.zeros2d(sc,Zm));return iv},Mv.dot=function(nc,sc){for(var Zm=0,iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm+=nc[xv]*sc[xv]}return Zm},Mv.add=function(nc,sc){for(var Zm=[],iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm.push(nc[xv]+sc[xv])}return Zm},Mv.mul=function(nc,sc){for(var Zm=[],iv=0,hv=sc.length;iv<hv;){var xv=iv++;Zm.push(nc*sc[xv])}return Zm},Mv.div=function(nc,sc){for(var Zm=[],iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm.push(nc[xv]/sc)}return Zm},Mv.sub=function(nc,sc){for(var Zm=[],iv=0,hv=nc.length;iv<hv;){var xv=iv++;Zm.push(nc[xv]-sc[xv])}return Zm},Mv.isZero=function(nc){for(var sc=0,Zm=nc.length;sc<Zm;){var iv=sc++;if(Math.abs(nc[iv])>Av.TOLERANCE)return!1}return!0},Mv.sortedSetUnion=function(nc,sc){for(var Zm=[],iv=0,hv=0;iv<nc.length||hv<sc.length;){if(iv>=nc.length){Zm.push(sc[hv]),hv++;continue}else if(hv>=sc.length){Zm.push(nc[iv]),iv++;continue}var xv=nc[iv]-sc[hv];if(Math.abs(xv)<Av.EPSILON){Zm.push(nc[iv]),iv++,hv++;continue}if(xv>0){Zm.push(sc[hv]),hv++;continue}Zm.push(nc[iv]),iv++}return Zm},Mv.sortedSetSub=function(nc,sc){for(var Zm=[],iv=0,hv=0;iv<nc.length;){if(hv>=sc.length){Zm.push(nc[iv]),iv++;continue}if(Math.abs(nc[iv]-sc[hv])<Av.EPSILON){iv++,hv++;continue}Zm.push(nc[iv]),iv++}return Zm};var P1=V.eval.Analyze=function(){};j["verb.eval.Analyze"]=P1,P1.__name__=["verb","eval","Analyze"],P1.knotMultiplicities=function(nc){for(var sc=[new Py(nc[0],0)],Zm=sc[0],iv=0;iv<nc.length;){var hv=nc[iv];++iv,Math.abs(hv-Zm.knot)>Av.EPSILON&&(Zm=new Py(hv,0),sc.push(Zm)),Zm.inc()}return sc},P1.isRationalSurfaceClosed=function(nc,sc){sc==null&&(sc=!0);var Zm;sc?Zm=nc.controlPoints:Zm=E0.transpose(nc.controlPoints);for(var iv=0,hv=Zm[0].length;iv<hv;){var xv=iv++,Nv=Mv.dist(Pv.first(Zm)[xv],Pv.last(Zm)[xv])<Av.EPSILON;if(!Nv)return!1}return!0},P1.rationalSurfaceClosestPoint=function(nc,sc){var Zm=P1.rationalSurfaceClosestParam(nc,sc);return R0.rationalSurfacePoint(nc,Zm[0],Zm[1])},P1.rationalSurfaceClosestParam=function(nc,sc){for(var Zm=5,iv=0,hv,xv=1e-4,Nv=5e-4,Bv,Uv=nc.knotsU[0],Jv=Pv.last(nc.knotsU),C0=nc.knotsV[0],v0=Pv.last(nc.knotsV),P0=P1.isRationalSurfaceClosed(nc),O0=P1.isRationalSurfaceClosed(nc,!1),F0,Q0=X1.rationalSurfaceAdaptive(nc,new H0),j0=1/0,i1=0,n1=Q0.points.length;i1<n1;){var s1=i1++,f1=Q0.points[s1],_1=Mv.normSquared(Mv.sub(sc,f1));_1<j0&&(j0=_1,F0=Q0.uvs[s1])}for(var T1=function(My){return R0.rationalSurfaceDerivatives(nc,My[0],My[1],2)},v1=function(My,Ly,Sy){var Fy=Ly[1][0],sb=Ly[0][1],cb=Ly[2][0],eb=Ly[0][2],Jy=Ly[1][1],tb=Ly[1][1],ub=Mv.dot(Fy,Sy),yb=Mv.dot(sb,Sy),xb=[-ub,-yb],bb=Mv.dot(Fy,Fy)+Mv.dot(cb,Sy),_b=Mv.dot(Fy,sb)+Mv.dot(Jy,Sy),lb=Mv.dot(Fy,sb)+Mv.dot(tb,Sy),Tb=Mv.dot(sb,sb)+Mv.dot(eb,Sy),Hb=[[bb,_b],[lb,Tb]],Mb=E0.solve(Hb,xb);return Mv.add(Mb,My)};iv<Zm;){hv=T1(F0),Bv=Mv.sub(hv[0][0],sc);var m1=Mv.norm(Bv),E1=Mv.dot(hv[1][0],Bv),I1=Mv.norm(hv[1][0])*m1,D1=Mv.dot(hv[0][1],Bv),G1=Mv.norm(hv[0][1])*m1,H1=E1/I1,W1=D1/G1,K1=m1<xv,z1=H1<Nv,q1=W1<Nv;if(K1&&z1&&q1)return F0;var w1=v1(F0,hv,Bv);w1[0]<Uv?P0?w1=[Jv-(w1[0]-Uv),w1[1]]:w1=[Uv+Av.EPSILON,w1[1]]:w1[0]>Jv&&(P0?w1=[Uv+(w1[0]-Jv),w1[1]]:w1=[Jv-Av.EPSILON,w1[1]]),w1[1]<C0?O0?w1=[w1[0],v0-(w1[1]-C0)]:w1=[w1[0],C0+Av.EPSILON]:w1[1]>v0&&(O0?w1=[w1[0],C0+(w1[0]-v0)]:w1=[w1[0],v0-Av.EPSILON]);var Q1=Mv.norm(Mv.mul(w1[0]-F0[0],hv[1][0])),sy=Mv.norm(Mv.mul(w1[1]-F0[1],hv[0][1]));if(Q1+sy<xv)return F0;F0=w1,iv++}return F0},P1.rationalCurveClosestPoint=function(nc,sc){return R0.rationalCurvePoint(nc,P1.rationalCurveClosestParam(nc,sc))},P1.rationalCurveClosestParam=function(nc,sc){for(var Zm=1/0,iv=0,hv=X1.rationalCurveRegularSample(nc,nc.controlPoints.length*nc.degree,!0),xv=0,Nv=hv.length-1;xv<Nv;){var Bv=xv++,Uv=hv[Bv][0],Jv=hv[Bv+1][0],C0=hv[Bv].slice(1),v0=hv[Bv+1].slice(1),P0=ty.segmentClosestPoint(sc,C0,v0,Uv,Jv),O0=Mv.norm(Mv.sub(sc,P0.pt));O0<Zm&&(Zm=O0,iv=P0.u)}for(var F0=5,Q0=0,j0,i1=1e-4,n1=5e-4,s1,f1=nc.knots[0],_1=Pv.last(nc.knots),T1=Mv.normSquared(Mv.sub(nc.controlPoints[0],Pv.last(nc.controlPoints)))<Av.EPSILON,v1=iv,m1=function(w1){return R0.rationalCurveDerivatives(nc,w1,2)},E1=function(w1,Q1,sy){var My=Mv.dot(Q1[1],sy),Ly=Mv.dot(Q1[2],sy),Sy=Mv.dot(Q1[1],Q1[1]),Fy=Ly+Sy;return w1-My/Fy};Q0<F0;){j0=m1(v1),s1=Mv.sub(j0[0],sc);var I1=Mv.norm(s1),D1=Mv.dot(j0[1],s1),G1=Mv.norm(j0[1])*I1,H1=D1/G1,W1=I1<i1,K1=Math.abs(H1)<n1;if(W1&&K1)return v1;var z1=E1(v1,j0,s1);z1<f1?T1?z1=_1-(z1-f1):z1=f1:z1>_1&&(T1?z1=f1+(z1-_1):z1=_1);var q1=Mv.norm(Mv.mul(z1-v1,j0[1]));if(q1<i1)return v1;v1=z1,Q0++}return v1},P1.rationalCurveParamAtArcLength=function(nc,sc,Zm,iv,hv){if(Zm==null&&(Zm=.001),sc<Av.EPSILON)return nc.knots[0];var xv;iv!=null?xv=iv:xv=j1.decomposeCurveIntoBeziers(nc);var Nv=0;xv[Nv];var Bv=-Av.EPSILON,Uv;for(hv!=null?Uv=hv:Uv=[];Bv<sc&&Nv<xv.length;){if(Nv<Uv.length?Uv[Nv]=Uv[Nv]:Uv[Nv]=P1.rationalBezierCurveArcLength(nc),Bv+=Uv[Nv],sc<Bv+Av.EPSILON)return P1.rationalBezierCurveParamAtArcLength(nc,sc,Zm,Uv[Nv]);Nv++}return-1},P1.rationalBezierCurveParamAtArcLength=function(nc,sc,Zm,iv){if(sc<0)return nc.knots[0];var hv;if(iv!=null?hv=iv:hv=P1.rationalBezierCurveArcLength(nc),sc>hv)return Pv.last(nc.knots);var xv=nc.knots[0],Nv=0,Bv=Pv.last(nc.knots),Uv=hv,Jv=0,C0=0,v0;for(Zm!=null?v0=Zm:v0=Av.TOLERANCE*2;Uv-Nv>v0;)Jv=(xv+Bv)/2,C0=P1.rationalBezierCurveArcLength(nc,Jv),C0>sc?(Bv=Jv,Uv=C0):(xv=Jv,Nv=C0);return(xv+Bv)/2},P1.rationalCurveArcLength=function(nc,sc,Zm){Zm==null&&(Zm=16),sc==null?sc=Pv.last(nc.knots):sc=sc;for(var iv=j1.decomposeCurveIntoBeziers(nc),hv=0,xv=iv[0],Nv=0;hv<iv.length&&xv.knots[0]+Av.EPSILON<sc;){var Bv=Math.min(Pv.last(xv.knots),sc);Nv+=P1.rationalBezierCurveArcLength(xv,Bv,Zm),xv=iv[++hv]}return Nv},P1.rationalBezierCurveArcLength=function(nc,sc,Zm){Zm==null&&(Zm=16);var iv;sc==null?iv=Pv.last(nc.knots):iv=sc;for(var hv=(iv-nc.knots[0])/2,xv=0,Nv=nc.degree+Zm,Bv,Uv,Jv=0;Jv<Nv;){var C0=Jv++;Bv=hv*P1.Tvalues[Nv][C0]+hv+nc.knots[0],Uv=R0.rationalCurveDerivatives(nc,Bv,1),xv+=P1.Cvalues[Nv][C0]*Mv.norm(Uv[1])}return hv*xv};var Py=V.eval.KnotMultiplicity=function(nc,sc){this.knot=nc,this.mult=sc};j["verb.eval.KnotMultiplicity"]=Py,Py.__name__=["verb","eval","KnotMultiplicity"],Py.prototype={inc:function(){this.mult++},__class__:Py};var Ny=V.eval.Check=function(){};j["verb.eval.Check"]=Ny,Ny.__name__=["verb","eval","Check"],Ny.isValidKnotVector=function(nc,sc){if(nc.length==0||nc.length<(sc+1)*2)return!1;for(var Zm=Pv.first(nc),iv=0,hv=sc+1;iv<hv;){var xv=iv++;if(Math.abs(nc[xv]-Zm)>Av.EPSILON)return!1}Zm=Pv.last(nc);for(var Nv=nc.length-sc-1,Bv=nc.length;Nv<Bv;){var Uv=Nv++;if(Math.abs(nc[Uv]-Zm)>Av.EPSILON)return!1}return Ny.isNonDecreasing(nc)},Ny.isNonDecreasing=function(nc){for(var sc=Pv.first(nc),Zm=0,iv=nc.length;Zm<iv;){var hv=Zm++;if(nc[hv]<sc-Av.EPSILON)return!1;sc=nc[hv]}return!0},Ny.isValidNurbsCurveData=function(nc){if(nc.controlPoints==null)throw new Jm("Control points array cannot be null!");if(nc.degree==null)throw new Jm("Degree cannot be null!");if(nc.degree<1)throw new Jm("Degree must be greater than 1!");if(nc.knots==null)throw new Jm("Knots cannot be null!");if(nc.knots.length!=nc.controlPoints.length+nc.degree+1)throw new Jm("controlPoints.length + degree + 1 must equal knots.length!");if(!Ny.isValidKnotVector(nc.knots,nc.degree))throw new Jm("Invalid knot vector format!  Should begin with degree + 1 repeats and end with degree + 1 repeats!");return nc},Ny.isValidNurbsSurfaceData=function(nc){if(nc.controlPoints==null)throw new Jm("Control points array cannot be null!");if(nc.degreeU==null)throw new Jm("DegreeU cannot be null!");if(nc.degreeV==null)throw new Jm("DegreeV cannot be null!");if(nc.degreeU<1)throw new Jm("DegreeU must be greater than 1!");if(nc.degreeV<1)throw new Jm("DegreeV must be greater than 1!");if(nc.knotsU==null)throw new Jm("KnotsU cannot be null!");if(nc.knotsV==null)throw new Jm("KnotsV cannot be null!");if(nc.knotsU.length!=nc.controlPoints.length+nc.degreeU+1)throw new Jm("controlPointsU.length + degreeU + 1 must equal knotsU.length!");if(nc.knotsV.length!=nc.controlPoints[0].length+nc.degreeV+1)throw new Jm("controlPointsV.length + degreeV + 1 must equal knotsV.length!");if(!Ny.isValidKnotVector(nc.knotsU,nc.degreeU)||!Ny.isValidKnotVector(nc.knotsV,nc.degreeV))throw new Jm("Invalid knot vector format!  Should begin with degree + 1 repeats and end with degree + 1 repeats!");return nc};var yy=V.eval.Divide=function(){};j["verb.eval.Divide"]=yy,yy.__name__=["verb","eval","Divide"],yy.surfaceSplit=function(nc,sc,Zm){Zm==null&&(Zm=!1);var iv,hv,xv;Zm?(xv=nc.controlPoints,iv=nc.knotsV,hv=nc.degreeV):(xv=E0.transpose(nc.controlPoints),iv=nc.knotsU,hv=nc.degreeU);for(var Nv,Bv=[],Uv=0,Jv=hv+1;Uv<Jv;)Uv++,Bv.push(sc);Nv=Bv;for(var C0=[],v0=[],P0=R0.knotSpan(hv,sc,iv),O0=null,F0=0;F0<xv.length;){var Q0=xv[F0];++F0,O0=j1.curveKnotRefine(new lv(hv,iv,Q0),Nv),C0.push(O0.controlPoints.slice(0,P0+1)),v0.push(O0.controlPoints.slice(P0+1))}var j0=O0.knots.slice(0,P0+hv+2),i1=O0.knots.slice(P0+1);return Zm?[new kv(nc.degreeU,hv,nc.knotsU.slice(),j0,C0),new kv(nc.degreeU,hv,nc.knotsU.slice(),i1,v0)]:(C0=E0.transpose(C0),v0=E0.transpose(v0),[new kv(hv,nc.degreeV,j0,nc.knotsV.slice(),C0),new kv(hv,nc.degreeV,i1,nc.knotsV.slice(),v0)])},yy.curveSplit=function(nc,sc){var Zm=nc.degree;nc.controlPoints;for(var iv=nc.knots,hv,xv=[],Nv=0,Bv=Zm+1;Nv<Bv;)Nv++,xv.push(sc);hv=xv;var Uv=j1.curveKnotRefine(nc,hv),Jv=R0.knotSpan(Zm,sc,iv),C0=Uv.knots.slice(0,Jv+Zm+2),v0=Uv.knots.slice(Jv+1),P0=Uv.controlPoints.slice(0,Jv+1),O0=Uv.controlPoints.slice(Jv+1);return[new lv(Zm,C0,P0),new lv(Zm,v0,O0)]},yy.rationalCurveByEqualArcLength=function(nc,sc){var Zm=P1.rationalCurveArcLength(nc),iv=Zm/sc;return yy.rationalCurveByArcLength(nc,iv)},yy.rationalCurveByArcLength=function(nc,sc){var Zm=j1.decomposeCurveIntoBeziers(nc),iv=Zm.map(function(P0){return P1.rationalBezierCurveArcLength(P0)}),hv=Mv.sum(iv),xv=[new Hy(nc.knots[0],0)];if(sc>hv)return xv;for(var Nv=sc,Bv=0,Uv=Nv,Jv=0,C0=0,v0;Bv<Zm.length;){for(Jv+=iv[Bv];Uv<Jv+Av.EPSILON;)v0=P1.rationalBezierCurveParamAtArcLength(Zm[Bv],Uv-C0,Av.TOLERANCE,iv[Bv]),xv.push(new Hy(v0,Uv)),Uv+=Nv;C0+=iv[Bv],Bv++}return xv};var Hy=V.eval.CurveLengthSample=function(nc,sc){this.u=nc,this.len=sc};j["verb.eval.CurveLengthSample"]=Hy,Hy.__name__=["verb","eval","CurveLengthSample"],Hy.prototype={__class__:Hy};var R0=V.eval.Eval=function(){};j["verb.eval.Eval"]=R0,R0.__name__=["verb","eval","Eval"],R0.rationalCurveTangent=function(nc,sc){var Zm=R0.rationalCurveDerivatives(nc,sc,1);return Zm[1]},R0.rationalSurfaceNormal=function(nc,sc,Zm){var iv=R0.rationalSurfaceDerivatives(nc,sc,Zm,1);return Mv.cross(iv[1][0],iv[0][1])},R0.rationalSurfaceDerivatives=function(nc,sc,Zm,iv){iv==null&&(iv=1);for(var hv=R0.surfaceDerivatives(nc,sc,Zm,iv),xv=R0.rational2d(hv),Nv=R0.weight2d(hv),Bv=[],Uv=xv[0][0].length,Jv=0,C0=iv+1;Jv<C0;){var v0=Jv++;Bv.push([]);for(var P0=0,O0=iv-v0+1;P0<O0;){for(var F0=P0++,Q0=xv[v0][F0],j0=1,i1=F0+1;j0<i1;){var n1=j0++;Mv.subMulMutate(Q0,Tv.get(F0,n1)*Nv[0][n1],Bv[v0][F0-n1])}for(var s1=1,f1=v0+1;s1<f1;){var _1=s1++;Mv.subMulMutate(Q0,Tv.get(v0,_1)*Nv[_1][0],Bv[v0-_1][F0]);for(var T1=Mv.zeros1d(Uv),v1=1,m1=F0+1;v1<m1;){var E1=v1++;Mv.addMulMutate(T1,Tv.get(F0,E1)*Nv[_1][E1],Bv[v0-_1][F0-E1])}Mv.subMulMutate(Q0,Tv.get(v0,_1),T1)}Mv.mulMutate(1/Nv[0][0],Q0),Bv[v0].push(Q0)}}return Bv},R0.rationalSurfacePoint=function(nc,sc,Zm){return R0.dehomogenize(R0.surfacePoint(nc,sc,Zm))},R0.rationalCurveDerivatives=function(nc,sc,Zm){Zm==null&&(Zm=1);for(var iv=R0.curveDerivatives(nc,sc,Zm),hv=R0.rational1d(iv),xv=R0.weight1d(iv),Nv=[],Bv=0,Uv=Zm+1;Bv<Uv;){for(var Jv=Bv++,C0=hv[Jv],v0=1,P0=Jv+1;v0<P0;){var O0=v0++;Mv.subMulMutate(C0,Tv.get(Jv,O0)*xv[O0],Nv[Jv-O0])}Mv.mulMutate(1/xv[0],C0),Nv.push(C0)}return Nv},R0.rationalCurvePoint=function(nc,sc){return R0.dehomogenize(R0.curvePoint(nc,sc))},R0.surfaceDerivatives=function(nc,sc,Zm,iv){var hv=nc.knotsU.length-nc.degreeU-2,xv=nc.knotsV.length-nc.degreeV-2;return R0.surfaceDerivativesGivenNM(hv,xv,nc,sc,Zm,iv)},R0.surfaceDerivativesGivenNM=function(nc,sc,Zm,iv,hv,xv){var Nv=Zm.degreeU,Bv=Zm.degreeV,Uv=Zm.controlPoints,Jv=Zm.knotsU,C0=Zm.knotsV;if(!R0.areValidRelations(Nv,Uv.length,Jv.length)||!R0.areValidRelations(Bv,Uv[0].length,C0.length))throw new Jm("Invalid relations between control points, knot vector, and n");var v0=Uv[0][0].length,P0;xv<Nv?P0=xv:P0=Nv;var O0;xv<Bv?O0=xv:O0=Bv;for(var F0=Mv.zeros3d(xv+1,xv+1,v0),Q0=R0.knotSpanGivenN(nc,Nv,iv,Jv),j0=R0.knotSpanGivenN(sc,Bv,hv,C0),i1=R0.derivativeBasisFunctionsGivenNI(Q0,iv,Nv,nc,Jv),n1=R0.derivativeBasisFunctionsGivenNI(j0,hv,Bv,sc,C0),s1=Mv.zeros2d(Bv+1,v0),f1=0,_1=0,T1=P0+1;_1<T1;){for(var v1=_1++,m1=0,E1=Bv+1;m1<E1;){var I1=m1++;s1[I1]=Mv.zeros1d(v0);for(var D1=0,G1=Nv+1;D1<G1;){var H1=D1++;Mv.addMulMutate(s1[I1],i1[v1][H1],Uv[Q0-Nv+H1][j0-Bv+I1])}}var W1=xv-v1;W1<O0?f1=W1:f1=O0;for(var K1=0,z1=f1+1;K1<z1;){var q1=K1++;F0[v1][q1]=Mv.zeros1d(v0);for(var w1=0,Q1=Bv+1;w1<Q1;){var sy=w1++;Mv.addMulMutate(F0[v1][q1],n1[q1][sy],s1[sy])}}}return F0},R0.surfacePoint=function(nc,sc,Zm){var iv=nc.knotsU.length-nc.degreeU-2,hv=nc.knotsV.length-nc.degreeV-2;return R0.surfacePointGivenNM(iv,hv,nc,sc,Zm)},R0.surfacePointGivenNM=function(nc,sc,Zm,iv,hv){var xv=Zm.degreeU,Nv=Zm.degreeV,Bv=Zm.controlPoints,Uv=Zm.knotsU,Jv=Zm.knotsV;if(!R0.areValidRelations(xv,Bv.length,Uv.length)||!R0.areValidRelations(Nv,Bv[0].length,Jv.length))throw new Jm("Invalid relations between control points, knot vector, and n");for(var C0=Bv[0][0].length,v0=R0.knotSpanGivenN(nc,xv,iv,Uv),P0=R0.knotSpanGivenN(sc,Nv,hv,Jv),O0=R0.basisFunctionsGivenKnotSpanIndex(v0,iv,xv,Uv),F0=R0.basisFunctionsGivenKnotSpanIndex(P0,hv,Nv,Jv),Q0=v0-xv,j0=P0,i1=Mv.zeros1d(C0),n1=Mv.zeros1d(C0),s1=0,f1=Nv+1;s1<f1;){var _1=s1++;n1=Mv.zeros1d(C0),j0=P0-Nv+_1;for(var T1=0,v1=xv+1;T1<v1;){var m1=T1++;Mv.addMulMutate(n1,O0[m1],Bv[Q0+m1][j0])}Mv.addMulMutate(i1,F0[_1],n1)}return i1},R0.curveRegularSamplePoints=function(nc,sc){for(var Zm=R0.curveDerivatives(nc,nc.knots[0],nc.degree),iv=1/sc,hv=iv*iv,xv=Zm[0],Nv=Mv.mul(iv,Zm[1]),Bv=Mv.mul(hv*.5,Zm[2]),Uv=Mv.mul(hv*iv*.5,Zm[3]),Jv=Mv.add(Bv,Bv),C0=Mv.add(Uv,Uv),v0=Mv.mul(.3333333333333333,Uv),P0=[],O0=0,F0=sc+1;O0<F0;)O0++,P0.push(R0.dehomogenize(xv)),Mv.addAllMutate([xv,Nv,Bv,v0]),Mv.addAllMutate([Nv,Jv,Uv]),Mv.addAllMutate([Jv,C0]),Mv.addAllMutate([Bv,Uv]);return P0},R0.curveRegularSamplePoints2=function(nc,sc){for(var Zm=R0.curveDerivatives(nc,nc.knots[0],nc.degree),iv=1/sc,hv=iv*iv,xv=Zm[0],Nv=Mv.mul(iv,Zm[1]),Bv=Mv.mul(hv*.5,Zm[2]),Uv=Mv.mul(hv*iv*.5,Zm[3]),Jv=Mv.add(Bv,Bv),C0=Mv.add(Uv,Uv),v0=Mv.mul(.3333333333333333,Uv),P0=[],O0=0,F0=sc+1;O0<F0;)O0++,P0.push(R0.dehomogenize(xv)),Mv.addAllMutate([xv,Nv,Bv,v0]),Mv.addAllMutate([Nv,Jv,Uv]),Mv.addAllMutate([Jv,C0]),Mv.addAllMutate([Bv,Uv]);return P0},R0.rationalSurfaceRegularSampleDerivatives=function(nc,sc,Zm,iv){for(var hv=R0.surfaceRegularSampleDerivatives(nc,sc,Zm,iv),xv=[],Nv=sc+1,Bv=Zm+1,Uv=iv+1,Jv=0;Jv<Nv;){var C0=Jv++,v0=[];xv.push(v0);for(var P0=0;P0<Bv;){for(var O0=P0++,F0=hv[C0][O0],Q0=R0.rational2d(F0),j0=R0.weight2d(F0),i1=[],n1=Q0[0][0].length,s1=0;s1<Uv;){var f1=s1++;i1.push([]);for(var _1=0,T1=Uv-f1;_1<T1;){for(var v1=_1++,m1=Q0[f1][v1],E1=1,I1=v1+1;E1<I1;){var D1=E1++;Mv.subMulMutate(m1,Tv.get(v1,D1)*j0[0][D1],i1[f1][v1-D1])}for(var G1=1,H1=f1+1;G1<H1;){var W1=G1++;Mv.subMulMutate(m1,Tv.get(f1,W1)*j0[W1][0],i1[f1-W1][v1]);for(var K1=Mv.zeros1d(n1),z1=1,q1=v1+1;z1<q1;){var w1=z1++;Mv.addMulMutate(K1,Tv.get(v1,w1)*j0[W1][w1],i1[f1-W1][v1-w1])}Mv.subMulMutate(m1,Tv.get(f1,W1),K1)}Mv.mulMutate(1/j0[0][0],m1),i1[f1].push(m1)}}v0.push(i1)}}return xv},R0.surfaceRegularSampleDerivatives=function(nc,sc,Zm,iv){var hv=nc.degreeU,xv=nc.degreeV,Nv=nc.controlPoints,Bv=nc.knotsU,Uv=nc.knotsV,Jv=Nv[0][0].length;(Pv.last(Bv)-Bv[0])/sc,(Pv.last(Uv)-Uv[0])/Zm;for(var C0=R0.regularlySpacedDerivativeBasisFunctions(hv,Bv,sc),v0=C0.item0,P0=C0.item1,O0=R0.regularlySpacedDerivativeBasisFunctions(xv,Uv,Zm),F0=O0.item0,Q0=O0.item1,j0=[],i1=sc+1,n1=Zm+1,s1=0;s1<i1;){var f1=s1++,_1=[];j0.push(_1);for(var T1=0;T1<n1;){var v1=T1++;_1.push(R0.surfaceDerivativesGivenBasesKnotSpans(hv,xv,Nv,v0[f1],F0[v1],P0[f1],Q0[v1],Jv,iv))}}return j0},R0.rationalSurfaceRegularSamplePoints=function(nc,sc,Zm){return R0.dehomogenize2d(R0.surfaceRegularSamplePoints(nc,sc,Zm))},R0.surfaceRegularSamplePoints=function(nc,sc,Zm){var iv=nc.degreeU,hv=nc.degreeV,xv=nc.controlPoints,Nv=nc.knotsU,Bv=nc.knotsV,Uv=xv[0][0].length;(Pv.last(Nv)-Nv[0])/sc,(Pv.last(Bv)-Bv[0])/Zm;for(var Jv=R0.regularlySpacedBasisFunctions(iv,Nv,sc),C0=Jv.item0,v0=Jv.item1,P0=R0.regularlySpacedBasisFunctions(hv,Bv,Zm),O0=P0.item0,F0=P0.item1,Q0=[],j0=sc+1,i1=Zm+1,n1=0;n1<j0;){var s1=n1++,f1=[];Q0.push(f1);for(var _1=0;_1<i1;){var T1=_1++;f1.push(R0.surfacePointGivenBasesKnotSpans(iv,hv,xv,C0[s1],O0[T1],v0[s1],F0[T1],Uv))}}return Q0},R0.regularlySpacedBasisFunctions=function(nc,sc,Zm){for(var iv=sc.length-nc-2,hv=(Pv.last(sc)-sc[0])/Zm,xv=[],Nv=[],Bv=sc[0],Uv=R0.knotSpanGivenN(iv,nc,Bv,sc),Jv=Zm+1,C0=0;C0<Jv;){for(C0++;Bv>=sc[Uv+1];)Uv++;Nv.push(Uv),xv.push(R0.basisFunctionsGivenKnotSpanIndex(Uv,Bv,nc,sc)),Bv+=hv}return new zv(Nv,xv)},R0.regularlySpacedDerivativeBasisFunctions=function(nc,sc,Zm){for(var iv=sc.length-nc-2,hv=(Pv.last(sc)-sc[0])/Zm,xv=[],Nv=[],Bv=sc[0],Uv=R0.knotSpanGivenN(iv,nc,Bv,sc),Jv=Zm+1,C0=0;C0<Jv;){for(C0++;Bv>=sc[Uv+1];)Uv++;Nv.push(Uv),xv.push(R0.derivativeBasisFunctionsGivenNI(Uv,Bv,nc,iv,sc)),Bv+=hv}return new zv(Nv,xv)},R0.surfacePointGivenBasesKnotSpans=function(nc,sc,Zm,iv,hv,xv,Nv,Bv){for(var Uv=Mv.zeros1d(Bv),Jv,C0=iv-nc,v0=hv-sc,P0=0,O0=sc+1;P0<O0;){var F0=P0++;Jv=Mv.zeros1d(Bv);for(var Q0=0,j0=nc+1;Q0<j0;){var i1=Q0++;Mv.addMulMutate(Jv,xv[i1],Zm[C0+i1][v0])}v0++,Mv.addMulMutate(Uv,Nv[F0],Jv)}return Uv},R0.surfaceDerivativesGivenBasesKnotSpans=function(nc,sc,Zm,iv,hv,xv,Nv,Bv,Uv){var Jv=Zm[0][0].length,C0;Uv<nc?C0=Uv:C0=nc;var v0;Uv<sc?v0=Uv:v0=sc;for(var P0=Mv.zeros3d(C0+1,v0+1,Jv),O0=Mv.zeros2d(sc+1,Jv),F0=0,Q0=0,j0=C0+1;Q0<j0;){for(var i1=Q0++,n1=0,s1=sc+1;n1<s1;){var f1=n1++;O0[f1]=Mv.zeros1d(Jv);for(var _1=0,T1=nc+1;_1<T1;){var v1=_1++;Mv.addMulMutate(O0[f1],xv[i1][v1],Zm[iv-nc+v1][hv-sc+f1])}}var m1=Uv-i1;m1<v0?F0=m1:F0=v0;for(var E1=0,I1=F0+1;E1<I1;){var D1=E1++;P0[i1][D1]=Mv.zeros1d(Jv);for(var G1=0,H1=sc+1;G1<H1;){var W1=G1++;Mv.addMulMutate(P0[i1][D1],Nv[D1][W1],O0[W1])}}}return P0},R0.curveDerivatives=function(nc,sc,Zm){var iv=nc.knots.length-nc.degree-2;return R0.curveDerivativesGivenN(iv,nc,sc,Zm)},R0.curveDerivativesGivenN=function(nc,sc,Zm,iv){var hv=sc.degree,xv=sc.controlPoints,Nv=sc.knots;if(!R0.areValidRelations(hv,xv.length,Nv.length))throw new Jm("Invalid relations between control points, knot vector, and n");var Bv=xv[0].length,Uv;iv<hv?Uv=iv:Uv=hv;for(var Jv=Mv.zeros2d(iv+1,Bv),C0=R0.knotSpanGivenN(nc,hv,Zm,Nv),v0=R0.derivativeBasisFunctionsGivenNI(C0,Zm,hv,Uv,Nv),P0=0,O0=Uv+1;P0<O0;)for(var F0=P0++,Q0=0,j0=hv+1;Q0<j0;){var i1=Q0++;Mv.addMulMutate(Jv[F0],v0[F0][i1],xv[C0-hv+i1])}return Jv},R0.curvePoint=function(nc,sc){var Zm=nc.knots.length-nc.degree-2;return R0.curvePointGivenN(Zm,nc,sc)},R0.areValidRelations=function(nc,sc,Zm){return sc+nc+1-Zm==0},R0.curvePointGivenN=function(nc,sc,Zm){var iv=sc.degree,hv=sc.controlPoints,xv=sc.knots;if(!R0.areValidRelations(iv,hv.length,xv.length))throw new Jm("Invalid relations between control points, knot Array, and n");for(var Nv=R0.knotSpanGivenN(nc,iv,Zm,xv),Bv=R0.basisFunctionsGivenKnotSpanIndex(Nv,Zm,iv,xv),Uv=Mv.zeros1d(hv[0].length),Jv=0,C0=iv+1;Jv<C0;){var v0=Jv++;Mv.addMulMutate(Uv,Bv[v0],hv[Nv-iv+v0])}return Uv},R0.volumePoint=function(nc,sc,Zm,iv){var hv=nc.knotsU.length-nc.degreeU-2,xv=nc.knotsV.length-nc.degreeV-2,Nv=nc.knotsW.length-nc.degreeW-2;return R0.volumePointGivenNML(nc,hv,xv,Nv,sc,Zm,iv)},R0.volumePointGivenNML=function(nc,sc,Zm,iv,hv,xv,Nv){if(!R0.areValidRelations(nc.degreeU,nc.controlPoints.length,nc.knotsU.length)||!R0.areValidRelations(nc.degreeV,nc.controlPoints[0].length,nc.knotsV.length)||!R0.areValidRelations(nc.degreeW,nc.controlPoints[0][0].length,nc.knotsW.length))throw new Jm("Invalid relations between control points and knot vector");for(var Bv=nc.controlPoints,Uv=nc.degreeU,Jv=nc.degreeV,C0=nc.degreeW,v0=nc.knotsU,P0=nc.knotsV,O0=nc.knotsW,F0=Bv[0][0][0].length,Q0=R0.knotSpanGivenN(sc,Uv,hv,v0),j0=R0.knotSpanGivenN(Zm,Jv,xv,P0),i1=R0.knotSpanGivenN(iv,C0,Nv,O0),n1=R0.basisFunctionsGivenKnotSpanIndex(Q0,hv,Uv,v0),s1=R0.basisFunctionsGivenKnotSpanIndex(j0,xv,Jv,P0),f1=R0.basisFunctionsGivenKnotSpanIndex(i1,Nv,C0,O0),_1=Q0-Uv,T1=Mv.zeros1d(F0),v1=Mv.zeros1d(F0),m1=Mv.zeros1d(F0),E1=0,I1=C0+1;E1<I1;){var D1=E1++;m1=Mv.zeros1d(F0);for(var G1=i1-C0+D1,H1=0,W1=Jv+1;H1<W1;){var K1=H1++;v1=Mv.zeros1d(F0);for(var z1=j0-Jv+K1,q1=0,w1=Uv+1;q1<w1;){var Q1=q1++;Mv.addMulMutate(v1,n1[Q1],Bv[_1+Q1][z1][G1])}Mv.addMulMutate(m1,s1[K1],v1)}Mv.addMulMutate(T1,f1[D1],m1)}return T1},R0.derivativeBasisFunctions=function(nc,sc,Zm){var iv=R0.knotSpan(sc,nc,Zm),hv=Zm.length-1,xv=hv-sc-1;return R0.derivativeBasisFunctionsGivenNI(iv,nc,sc,xv,Zm)},R0.derivativeBasisFunctionsGivenNI=function(nc,sc,Zm,iv,hv){var xv=Mv.zeros2d(Zm+1,Zm+1),Nv=Mv.zeros1d(Zm+1),Bv=Mv.zeros1d(Zm+1),Uv=0,Jv=0;xv[0][0]=1;for(var C0=1,v0=Zm+1;C0<v0;){var P0=C0++;Nv[P0]=sc-hv[nc+1-P0],Bv[P0]=hv[nc+P0]-sc,Uv=0;for(var O0=0;O0<P0;){var F0=O0++;xv[P0][F0]=Bv[F0+1]+Nv[P0-F0],Jv=xv[F0][P0-1]/xv[P0][F0],xv[F0][P0]=Uv+Bv[F0+1]*Jv,Uv=Nv[P0-F0]*Jv}xv[P0][P0]=Uv}for(var Q0=Mv.zeros2d(iv+1,Zm+1),j0=Mv.zeros2d(2,Zm+1),i1=0,n1=1,s1=0,f1=0,_1=0,T1=0,v1=0,m1=0,E1=Zm+1;m1<E1;){var I1=m1++;Q0[0][I1]=xv[I1][Zm]}for(var D1=0,G1=Zm+1;D1<G1;){var H1=D1++;i1=0,n1=1,j0[0][0]=1;for(var W1=1,K1=iv+1;W1<K1;){var z1=W1++;s1=0,f1=H1-z1,_1=Zm-z1,H1>=z1&&(j0[n1][0]=j0[i1][0]/xv[_1+1][f1],s1=j0[n1][0]*xv[f1][_1]),f1>=-1?T1=1:T1=-f1,H1-1<=_1?v1=z1-1:v1=Zm-H1;for(var q1=T1,w1=v1+1;q1<w1;){var Q1=q1++;j0[n1][Q1]=(j0[i1][Q1]-j0[i1][Q1-1])/xv[_1+1][f1+Q1],s1+=j0[n1][Q1]*xv[f1+Q1][_1]}H1<=_1&&(j0[n1][z1]=-j0[i1][z1-1]/xv[_1+1][H1],s1+=j0[n1][z1]*xv[H1][_1]),Q0[z1][H1]=s1;var sy=i1;i1=n1,n1=sy}}for(var My=Zm,Ly=1,Sy=iv+1;Ly<Sy;){for(var Fy=Ly++,sb=0,cb=Zm+1;sb<cb;){var eb=sb++;Q0[Fy][eb]*=My}My*=Zm-Fy}return Q0},R0.basisFunctions=function(nc,sc,Zm){var iv=R0.knotSpan(sc,nc,Zm);return R0.basisFunctionsGivenKnotSpanIndex(iv,nc,sc,Zm)},R0.basisFunctionsGivenKnotSpanIndex=function(nc,sc,Zm,iv){var hv=Mv.zeros1d(Zm+1),xv=Mv.zeros1d(Zm+1),Nv=Mv.zeros1d(Zm+1),Bv=0,Uv=0;hv[0]=1;for(var Jv=1,C0=Zm+1;Jv<C0;){var v0=Jv++;xv[v0]=sc-iv[nc+1-v0],Nv[v0]=iv[nc+v0]-sc,Bv=0;for(var P0=0;P0<v0;){var O0=P0++;Uv=hv[O0]/(Nv[O0+1]+xv[v0-O0]),hv[O0]=Bv+Nv[O0+1]*Uv,Bv=xv[v0-O0]*Uv}hv[v0]=Bv}return hv},R0.knotSpan=function(nc,sc,Zm){return R0.knotSpanGivenN(Zm.length-nc-2,nc,sc,Zm)},R0.knotSpanGivenN=function(nc,sc,Zm,iv){if(Zm>iv[nc+1]-Av.EPSILON)return nc;if(Zm<iv[sc]+Av.EPSILON)return sc;for(var hv=sc,xv=nc+1,Nv=Math.floor((hv+xv)/2);Zm<iv[Nv]||Zm>=iv[Nv+1];)Zm<iv[Nv]?xv=Nv:hv=Nv,Nv=Math.floor((hv+xv)/2);return Nv},R0.dehomogenize=function(nc){for(var sc=nc.length,Zm=[],iv=nc[sc-1],hv=nc.length-1,xv=0;xv<hv;){var Nv=xv++;Zm.push(nc[Nv]/iv)}return Zm},R0.rational1d=function(nc){var sc=nc[0].length-1;return nc.map(function(Zm){return Zm.slice(0,sc)})},R0.rational2d=function(nc){return nc.map(R0.rational1d)},R0.weight1d=function(nc){var sc=nc[0].length-1;return nc.map(function(Zm){return Zm[sc]})},R0.weight2d=function(nc){return nc.map(R0.weight1d)},R0.dehomogenize1d=function(nc){return nc.map(R0.dehomogenize)},R0.dehomogenize2d=function(nc){return nc.map(R0.dehomogenize1d)},R0.homogenize1d=function(nc,sc){var Zm=nc.length,iv=nc[0].length,hv=[],xv=0,Nv=[],Bv;sc!=null?Bv=sc:Bv=Mv.rep(nc.length,1);for(var Uv=0;Uv<Zm;){var Jv=Uv++,C0=[];Nv=nc[Jv],xv=Bv[Jv];for(var v0=0;v0<iv;){var P0=v0++;C0.push(Nv[P0]*xv)}C0.push(xv),hv.push(C0)}return hv},R0.homogenize2d=function(nc,sc){var Zm=nc.length,iv=[],hv;if(sc!=null)hv=sc;else{for(var xv=[],Nv=0;Nv<Zm;)Nv++,xv.push(Mv.rep(nc[0].length,1));hv=xv}for(var Bv=0;Bv<Zm;){var Uv=Bv++;iv.push(R0.homogenize1d(nc[Uv],hv[Uv]))}return iv};var k1=V.eval.Intersect=function(){};j["verb.eval.Intersect"]=k1,k1.__name__=["verb","eval","Intersect"],k1.surfaces=function(nc,sc,Zm){var iv=X1.rationalSurfaceAdaptive(nc),hv=X1.rationalSurfaceAdaptive(sc),xv=k1.meshes(iv,hv),Nv=xv.map(function(Bv){return Bv.map(function(Uv){return k1.surfacesAtPointWithEstimate(nc,sc,Uv.uv0,Uv.uv1,Zm)})});return Nv.map(function(Bv){return V1.rationalInterpCurve(Bv.map(function(Uv){return Uv.point}),3)})},k1.surfacesAtPointWithEstimate=function(nc,sc,Zm,iv,hv){var xv,Nv,Bv,Uv,Jv,C0,v0,P0,O0,F0,Q0,j0,i1,n1=5,s1=0;do{if(xv=R0.rationalSurfaceDerivatives(nc,Zm[0],Zm[1],1),Nv=xv[0][0],Uv=xv[1][0],Jv=xv[0][1],Bv=Mv.normalized(Mv.cross(Uv,Jv)),C0=Mv.dot(Bv,Nv),v0=R0.rationalSurfaceDerivatives(sc,iv[0],iv[1],1),P0=v0[0][0],F0=v0[1][0],Q0=v0[0][1],O0=Mv.normalized(Mv.cross(F0,Q0)),j0=Mv.dot(O0,P0),i1=Mv.distSquared(Nv,P0),i1<hv*hv)break;var f1=Mv.normalized(Mv.cross(Bv,O0)),_1=Mv.dot(f1,Nv),T1=k1.threePlanes(Bv,C0,O0,j0,f1,_1);if(T1==null)throw new Jm("panic!");var v1=Mv.sub(T1,Nv),m1=Mv.sub(T1,P0),E1=Mv.cross(Uv,Bv),I1=Mv.cross(Jv,Bv),D1=Mv.cross(F0,O0),G1=Mv.cross(Q0,O0),H1=Mv.dot(I1,v1)/Mv.dot(I1,Uv),W1=Mv.dot(E1,v1)/Mv.dot(E1,Jv),K1=Mv.dot(G1,m1)/Mv.dot(G1,F0),z1=Mv.dot(D1,m1)/Mv.dot(D1,Q0);Zm=Mv.add([H1,W1],Zm),iv=Mv.add([K1,z1],iv),s1++}while(s1<n1);return new B0(Zm,iv,Nv,i1)},k1.meshes=function(nc,sc,Zm,iv){Zm==null&&(Zm=new k0(nc)),iv==null&&(iv=new k0(sc));var hv=k1.boundingBoxTrees(Zm,iv,0),xv=Pv.unique(hv.map(function(Nv){return k1.triangles(nc,Nv.item0,sc,Nv.item1)}).filter(function(Nv){return Nv!=null}).filter(function(Nv){return Mv.distSquared(Nv.min.point,Nv.max.point)>Av.EPSILON}),function(Nv,Bv){var Uv=Mv.sub(Nv.min.uv0,Bv.min.uv0),Jv=Mv.dot(Uv,Uv),C0=Mv.sub(Nv.max.uv0,Bv.max.uv0),v0=Mv.dot(C0,C0),P0=Mv.sub(Nv.min.uv0,Bv.max.uv0),O0=Mv.dot(P0,P0),F0=Mv.sub(Nv.max.uv0,Bv.min.uv0),Q0=Mv.dot(F0,F0);return Jv<Av.EPSILON&&v0<Av.EPSILON||O0<Av.EPSILON&&Q0<Av.EPSILON});return k1.makeMeshIntersectionPolylines(xv)},k1.meshSlices=function(nc,sc,Zm,iv){for(var hv=new x1(nc),xv=hv.boundingBox(),Nv=xv.min[0],Bv=xv.min[1],Uv=xv.max[0],Jv=xv.max[1],C0=Mv.span(sc,Zm,iv),v0=[],P0=0;P0<C0.length;){var O0=C0[P0];++P0;var F0=[[Nv,Bv,O0],[Uv,Bv,O0],[Uv,Jv,O0],[Nv,Jv,O0]],Q0=[[0,0],[1,0],[1,1],[0,1]],j0=[[0,1,2],[0,2,3]],i1=new Iv(j0,F0,null,Q0);v0.push(k1.meshes(nc,i1,hv))}return v0},k1.makeMeshIntersectionPolylines=function(nc){if(nc.length==0)return[];for(var sc=0;sc<nc.length;){var Zm=nc[sc];++sc,Zm.max.opp=Zm.min,Zm.min.opp=Zm.max}for(var iv=k1.kdTreeFromSegments(nc),hv=[],xv=0;xv<nc.length;){var Nv=nc[xv];++xv,hv.push(Nv.min),hv.push(Nv.max)}for(var Bv=0;Bv<hv.length;){var Uv=hv[Bv];if(++Bv,Uv.adj==null){var Jv=k1.lookupAdjacentSegment(Uv,iv,nc.length);Jv!=null&&Jv.adj==null&&(Uv.adj=Jv,Jv.adj=Uv)}}var C0=hv.filter(function(n1){return n1.adj==null});C0.length==0&&(C0=hv);for(var v0=[],P0=0,O0=!1;C0.length!=0;){var F0=C0.pop();if(!F0.visited){for(var Q0=[],j0=F0;j0!=null&&!(j0.visited||(j0.visited=!0,j0.opp.visited=!0,Q0.push(j0),P0+=2,j0=j0.opp.adj,j0==F0)););Q0.length>0&&(Q0.push(Q0[Q0.length-1].opp),v0.push(Q0))}if(C0.length==0&&hv.length>0&&(O0||P0<hv.length)){O0=!0;var i1=hv.pop();C0.push(i1)}}return v0},k1.kdTreeFromSegments=function(nc){for(var sc=[],Zm=0;Zm<nc.length;){var iv=nc[Zm];++Zm,sc.push(new z0(iv.min.point,iv.min)),sc.push(new z0(iv.max.point,iv.max))}return new W0(sc,Mv.distSquared)},k1.lookupAdjacentSegment=function(nc,sc,Zm){var iv=sc.nearest(nc.point,Zm,Av.EPSILON).filter(function(hv){return nc!=hv.item0.obj}).map(function(hv){return hv.item0.obj});return iv.length==1?iv[0]:null},k1.curveAndSurface=function(nc,sc,Zm,iv,hv){Zm==null&&(Zm=.001),iv!=null?iv=iv:iv=new Rv(nc),hv!=null?hv=hv:hv=new Kv(sc);var xv=k1.boundingBoxTrees(iv,hv,Zm);return Pv.unique(xv.map(function(Nv){var Bv=Nv.item0,Uv=Nv.item1,Jv=Pv.first(Bv.knots),C0=Pv.last(Bv.knots),v0=(Jv+C0)/2,P0=Pv.first(Uv.knotsU),O0=Pv.last(Uv.knotsU),F0=Pv.first(Uv.knotsV),Q0=Pv.last(Uv.knotsV),j0=[(P0+O0)/2,(F0+Q0)/2];return k1.curveAndSurfaceWithEstimate(Bv,Uv,[v0].concat(j0),Zm)}).filter(function(Nv){return Mv.distSquared(Nv.curvePoint,Nv.surfacePoint)<Zm*Zm}),function(Nv,Bv){return Math.abs(Nv.u-Bv.u)<.5*Zm})},k1.curveAndSurfaceWithEstimate=function(nc,sc,Zm,iv){iv==null&&(iv=.001);var hv=function(Uv){var Jv=R0.rationalCurvePoint(nc,Uv[0]),C0=R0.rationalSurfacePoint(sc,Uv[1],Uv[2]),v0=Mv.sub(Jv,C0);return Mv.dot(v0,v0)},xv=function(Uv){var Jv=R0.rationalCurveDerivatives(nc,Uv[0],1),C0=R0.rationalSurfaceDerivatives(sc,Uv[1],Uv[2],1),v0=Mv.sub(C0[0][0],Jv[0]),P0=Mv.mul(-1,Jv[1]),O0=C0[1][0],F0=C0[0][1];return[2*Mv.dot(P0,v0),2*Mv.dot(O0,v0),2*Mv.dot(F0,v0)]},Nv=K0.uncmin(hv,Zm,iv*iv,xv),Bv=Nv.solution;return new g0(Bv[0],[Bv[1],Bv[2]],R0.rationalCurvePoint(nc,Bv[0]),R0.rationalSurfacePoint(sc,Bv[1],Bv[2]))},k1.polylineAndMesh=function(nc,sc,Zm){for(var iv=k1.boundingBoxTrees(new Ov(nc),new k0(sc),Zm),hv=[],xv=0;xv<iv.length;){var Nv=iv[xv];++xv;var Bv=Nv.item0,Uv=Nv.item1,Jv=k1.segmentWithTriangle(nc.points[Bv],nc.points[Bv+1],sc.points,sc.faces[Uv]);if(Jv!=null){var C0=Jv.point,v0=Mv.lerp(Jv.p,[nc.params[Bv]],[nc.params[Bv+1]])[0],P0=l1.triangleUVFromPoint(sc,Uv,C0);hv.push(new N0(C0,v0,P0,Bv,Uv))}}return hv},k1.boundingBoxTrees=function(nc,sc,Zm){Zm==null&&(Zm=1e-9);var iv=[],hv=[];iv.push(nc),hv.push(sc);for(var xv=[];iv.length>0;){var Nv=iv.pop(),Bv=hv.pop();if(!(Nv.empty()||Bv.empty())&&Nv.boundingBox().intersects(Bv.boundingBox(),Zm)){var Uv=Nv.indivisible(Zm),Jv=Bv.indivisible(Zm);if(Uv&&Jv){xv.push(new zv(Nv.yield(),Bv.yield()));continue}else if(Uv&&!Jv){var C0=Bv.split();iv.push(Nv),hv.push(C0.item1),iv.push(Nv),hv.push(C0.item0);continue}else if(!Uv&&Jv){var v0=Nv.split();iv.push(v0.item1),hv.push(Bv),iv.push(v0.item0),hv.push(Bv);continue}var P0=Nv.split(),O0=Bv.split();iv.push(P0.item1),hv.push(O0.item1),iv.push(P0.item1),hv.push(O0.item0),iv.push(P0.item0),hv.push(O0.item1),iv.push(P0.item0),hv.push(O0.item0)}}return xv},k1.curves=function(nc,sc,Zm){var iv=k1.boundingBoxTrees(new Rv(nc),new Rv(sc),0);return Pv.unique(iv.map(function(hv){return k1.curvesWithEstimate(nc,sc,Pv.first(hv.item0.knots),Pv.first(hv.item1.knots),Zm)}).filter(function(hv){return Mv.distSquared(hv.point0,hv.point1)<Zm}),function(hv,xv){return Math.abs(hv.u0-xv.u0)<Zm*5})},k1.curvesWithEstimate=function(nc,sc,Zm,iv,hv){var xv=function(P0){var O0=R0.rationalCurvePoint(nc,P0[0]),F0=R0.rationalCurvePoint(sc,P0[1]),Q0=Mv.sub(O0,F0);return Mv.dot(Q0,Q0)},Nv=function(P0){var O0=R0.rationalCurveDerivatives(nc,P0[0],1),F0=R0.rationalCurveDerivatives(sc,P0[1],1),Q0=Mv.sub(O0[0],F0[0]),j0=O0[1],i1=Mv.mul(-1,F0[1]);return[2*Mv.dot(j0,Q0),2*Mv.dot(i1,Q0)]},Bv=K0.uncmin(xv,[Zm,iv],hv*hv,Nv),Uv=Bv.solution[0],Jv=Bv.solution[1],C0=R0.rationalCurvePoint(nc,Uv),v0=R0.rationalCurvePoint(sc,Jv);return new Yv(C0,v0,Uv,Jv)},k1.triangles=function(nc,sc,Zm,iv){var hv=nc.faces[sc],xv=Zm.faces[iv],Nv=l1.getTriangleNorm(nc.points,hv),Bv=l1.getTriangleNorm(Zm.points,xv),Uv=nc.points[hv[0]],Jv=Zm.points[xv[0]],C0=k1.planes(Uv,Nv,Jv,Bv);if(C0==null)return null;var v0=k1.clipRayInCoplanarTriangle(C0,nc,sc);if(v0==null)return null;var P0=k1.clipRayInCoplanarTriangle(C0,Zm,iv);if(P0==null)return null;var O0=k1.mergeTriangleClipIntervals(v0,P0,nc,sc,Zm,iv);return O0==null?null:new Fv(new Qv(O0.min.uv0,O0.min.uv1,O0.min.point,sc,iv),new Qv(O0.max.uv0,O0.max.uv1,O0.max.point,sc,iv))},k1.clipRayInCoplanarTriangle=function(nc,sc,Zm){for(var iv=sc.faces[Zm],hv=[sc.points[iv[0]],sc.points[iv[1]],sc.points[iv[2]]],xv=[sc.uvs[iv[0]],sc.uvs[iv[1]],sc.uvs[iv[2]]],Nv=[Mv.sub(xv[1],xv[0]),Mv.sub(xv[2],xv[1]),Mv.sub(xv[0],xv[2])],Bv=[Mv.sub(hv[1],hv[0]),Mv.sub(hv[2],hv[1]),Mv.sub(hv[0],hv[2])],Uv=Bv.map(Mv.normalized),Jv=Bv.map(Mv.norm),C0=null,v0=null,P0=0;P0<3;){var O0=P0++,F0=hv[O0],Q0=Uv[O0],j0=k1.rays(F0,Q0,nc.origin,nc.dir);if(j0!=null){var i1=j0.u0,n1=j0.u1;i1<-Av.EPSILON||i1>Jv[O0]+Av.EPSILON||((C0==null||n1<C0.u)&&(C0=new I0(n1,Mv.onRay(nc.origin,nc.dir,n1),Mv.onRay(xv[O0],Nv[O0],i1/Jv[O0]))),(v0==null||n1>v0.u)&&(v0=new I0(n1,Mv.onRay(nc.origin,nc.dir,n1),Mv.onRay(xv[O0],Nv[O0],i1/Jv[O0]))))}}return v0==null||C0==null?null:new Fv(C0,v0)},k1.mergeTriangleClipIntervals=function(nc,sc,Zm,iv,hv,xv){if(sc.min.u>nc.max.u+Av.EPSILON||nc.min.u>sc.max.u+Av.EPSILON)return null;var Nv;nc.min.u>sc.min.u?Nv=new zv(nc.min,0):Nv=new zv(sc.min,1);var Bv;nc.max.u<sc.max.u?Bv=new zv(nc.max,0):Bv=new zv(sc.max,1);var Uv=new Fv(new Qv(null,null,Nv.item0.point,iv,xv),new Qv(null,null,Bv.item0.point,iv,xv));return Nv.item1==0?(Uv.min.uv0=Nv.item0.uv,Uv.min.uv1=l1.triangleUVFromPoint(hv,xv,Nv.item0.point)):(Uv.min.uv0=l1.triangleUVFromPoint(Zm,iv,Nv.item0.point),Uv.min.uv1=Nv.item0.uv),Bv.item1==0?(Uv.max.uv0=Bv.item0.uv,Uv.max.uv1=l1.triangleUVFromPoint(hv,xv,Bv.item0.point)):(Uv.max.uv0=l1.triangleUVFromPoint(Zm,iv,Bv.item0.point),Uv.max.uv1=Bv.item0.uv),Uv},k1.planes=function(nc,sc,Zm,iv){var hv=Mv.cross(sc,iv);if(Mv.dot(hv,hv)<Av.EPSILON)return null;var xv=0,Nv=Math.abs(hv[0]),Bv=Math.abs(hv[1]),Uv=Math.abs(hv[2]);Bv>Nv&&(xv=1,Nv=Bv),Uv>Nv&&(xv=2,Nv=Uv);var Jv,C0,v0,P0;xv==0?(Jv=sc[1],C0=sc[2],v0=iv[1],P0=iv[2]):xv==1?(Jv=sc[0],C0=sc[2],v0=iv[0],P0=iv[2]):(Jv=sc[0],C0=sc[1],v0=iv[0],P0=iv[1]);var O0=-Mv.dot(nc,sc),F0=-Mv.dot(Zm,iv),Q0=Jv*P0-C0*v0,j0=(C0*F0-O0*P0)/Q0,i1=(O0*v0-Jv*F0)/Q0,n1;return xv==0?n1=[0,j0,i1]:xv==1?n1=[j0,0,i1]:n1=[j0,i1,0],new fv(n1,Mv.normalized(hv))},k1.threePlanes=function(nc,sc,Zm,iv,hv,xv){var Nv=Mv.cross(Zm,hv),Bv=Mv.dot(nc,Nv);if(Math.abs(Bv)<Av.EPSILON)return null;var Uv=Mv.sub(Mv.mul(xv,Zm),Mv.mul(iv,hv)),Jv=Mv.add(Mv.mul(sc,Nv),Mv.cross(nc,Uv));return Mv.mul(1/Bv,Jv)},k1.polylines=function(nc,sc,Zm){for(var iv=k1.boundingBoxTrees(new Ov(nc),new Ov(sc),Zm),hv=[],xv=0;xv<iv.length;){var Nv=iv[xv];++xv;var Bv=Nv.item0,Uv=Nv.item1,Jv=k1.segments(nc.points[Bv],nc.points[Bv+1],sc.points[Uv],sc.points[Uv+1],Zm);Jv!=null&&(Jv.u0=Mv.lerp(Jv.u0,[nc.params[Bv]],[nc.params[Bv+1]])[0],Jv.u1=Mv.lerp(Jv.u1,[sc.params[Uv]],[sc.params[Uv+1]])[0],hv.push(Jv))}return hv},k1.segments=function(nc,sc,Zm,iv,hv){var xv=Mv.sub(sc,nc),Nv=Math.sqrt(Mv.dot(xv,xv)),Bv=Mv.mul(1/Nv,xv),Uv=Mv.sub(iv,Zm),Jv=Math.sqrt(Mv.dot(Uv,Uv)),C0=Mv.mul(1/Jv,Uv),v0=k1.rays(nc,Bv,Zm,C0);if(v0!=null){var P0=Math.min(Math.max(0,v0.u0/Nv),1),O0=Math.min(Math.max(0,v0.u1/Jv),1),F0=Mv.onRay(nc,xv,P0),Q0=Mv.onRay(Zm,Uv,O0),j0=Mv.distSquared(F0,Q0);if(j0<hv*hv)return new Yv(F0,Q0,P0,O0)}return null},k1.rays=function(nc,sc,Zm,iv){var hv=Mv.dot(sc,iv),xv=Mv.dot(sc,Zm),Nv=Mv.dot(sc,nc),Bv=Mv.dot(iv,Zm),Uv=Mv.dot(iv,nc),Jv=Mv.dot(sc,sc),C0=Mv.dot(iv,iv),v0=Jv*C0-hv*hv;if(Math.abs(v0)<Av.EPSILON)return null;var P0=hv*(xv-Nv)-Jv*(Bv-Uv),O0=P0/v0,F0=(xv-Nv+O0*hv)/Jv,Q0=Mv.onRay(nc,sc,F0),j0=Mv.onRay(Zm,iv,O0);return new Yv(Q0,j0,F0,O0)},k1.segmentWithTriangle=function(nc,sc,Zm,iv){var hv=Zm[iv[0]],xv=Zm[iv[1]],Nv=Zm[iv[2]],Bv=Mv.sub(xv,hv),Uv=Mv.sub(Nv,hv),Jv=Mv.cross(Bv,Uv),C0=Mv.sub(sc,nc),v0=Mv.sub(nc,hv),P0=-Mv.dot(Jv,v0),O0=Mv.dot(Jv,C0);if(Math.abs(O0)<Av.EPSILON)return null;var F0=P0/O0;if(F0<0||F0>1)return null;var Q0=Mv.add(nc,Mv.mul(F0,C0)),j0=Mv.dot(Bv,Uv),i1=Mv.dot(Bv,Bv),n1=Mv.dot(Uv,Uv),s1=Mv.sub(Q0,hv),f1=Mv.dot(s1,Bv),_1=Mv.dot(s1,Uv),T1=j0*j0-i1*n1;if(Math.abs(T1)<Av.EPSILON)return null;var v1=(j0*_1-n1*f1)/T1,m1=(j0*f1-i1*_1)/T1;return v1>1+Av.EPSILON||m1>1+Av.EPSILON||m1<-Av.EPSILON||v1<-Av.EPSILON||v1+m1>1+Av.EPSILON?null:new a1(Q0,v1,m1,F0)},k1.segmentAndPlane=function(nc,sc,Zm,iv){var hv=Mv.dot(iv,Mv.sub(sc,nc));if(Math.abs(hv)<Av.EPSILON)return null;var xv=Mv.dot(iv,Mv.sub(Zm,nc)),Nv=xv/hv;return Nv>1+Av.EPSILON||Nv<-Av.EPSILON?null:{p:Nv}};var V1=V.eval.Make=function(){};j["verb.eval.Make"]=V1,V1.__name__=["verb","eval","Make"],V1.rationalTranslationalSurface=function(nc,sc){for(var Zm=R0.rationalCurvePoint(sc,Pv.first(sc.knots)),iv=Pv.first(sc.knots),hv=Pv.last(sc.knots),xv=2*sc.controlPoints.length,Nv=(hv-iv)/(xv-1),Bv=[],Uv=0;Uv<xv;){var Jv=Uv++,C0=Mv.sub(R0.rationalCurvePoint(sc,iv+Jv*Nv),Zm),v0=j1.rationalCurveTransform(nc,[[1,0,0,C0[0]],[0,1,0,C0[1]],[0,0,1,C0[2]],[0,0,0,1]]);Bv.push(v0)}return V1.loftedSurface(Bv)},V1.surfaceBoundaryCurves=function(nc){var sc=V1.surfaceIsocurve(nc,Pv.first(nc.knotsU),!1),Zm=V1.surfaceIsocurve(nc,Pv.last(nc.knotsU),!1),iv=V1.surfaceIsocurve(nc,Pv.first(nc.knotsV),!0),hv=V1.surfaceIsocurve(nc,Pv.last(nc.knotsV),!0);return[sc,Zm,iv,hv]},V1.surfaceIsocurve=function(nc,sc,Zm){Zm==null&&(Zm=!1);var iv;Zm?iv=nc.knotsV:iv=nc.knotsU;var hv;Zm?hv=nc.degreeV:hv=nc.degreeU;for(var xv=P1.knotMultiplicities(iv),Nv=-1,Bv=0,Uv=xv.length;Bv<Uv;){var Jv=Bv++;if(Math.abs(sc-xv[Jv].knot)<Av.EPSILON){Nv=Jv;break}}var C0=hv+1;Nv>=0&&(C0=C0-xv[Nv].mult);var v0;C0>0?v0=j1.surfaceKnotRefine(nc,Mv.rep(C0,sc),Zm):v0=nc;var P0=R0.knotSpan(hv,sc,iv);return Math.abs(sc-Pv.first(iv))<Av.EPSILON?P0=0:Math.abs(sc-Pv.last(iv))<Av.EPSILON&&(P0=(Zm?v0.controlPoints[0].length:v0.controlPoints.length)-1),Zm?new lv(v0.degreeU,v0.knotsU,function(O0){for(var F0,Q0=[],j0=0,i1=v0.controlPoints;j0<i1.length;){var n1=i1[j0];++j0,Q0.push(n1[P0])}return F0=Q0,F0}()):new lv(v0.degreeV,v0.knotsV,v0.controlPoints[P0])},V1.loftedSurface=function(nc,sc){nc=j1.unifyCurveKnotVectors(nc);var Zm=nc[0].degree;sc==null&&(sc=3),sc>nc.length-1&&(sc=nc.length-1);for(var iv=nc[0].knots,hv=[],xv=[],Nv=0,Bv=nc[0].controlPoints.length;Nv<Bv;){var Uv=[Nv++],Jv=nc.map(function(v0){return function(P0){return P0.controlPoints[v0[0]]}}(Uv)),C0=V1.rationalInterpCurve(Jv,sc,!0);xv.push(C0.controlPoints),hv=C0.knots}return new kv(Zm,sc,iv,hv,xv)},V1.clonedCurve=function(nc){return new lv(nc.degree,nc.knots.slice(),nc.controlPoints.map(function(sc){return sc.slice()}))},V1.rationalBezierCurve=function(nc,sc){for(var Zm=nc.length-1,iv=[],hv=0,xv=Zm+1;hv<xv;)hv++,iv.push(0);for(var Nv=0,Bv=Zm+1;Nv<Bv;)Nv++,iv.push(1);return sc==null&&(sc=Mv.rep(nc.length,1)),new lv(Zm,iv,R0.homogenize1d(nc,sc))},V1.fourPointSurface=function(nc,sc,Zm,iv,hv){hv==null&&(hv=3);for(var xv=hv,Nv=[],Bv=0,Uv=hv+1;Bv<Uv;){for(var Jv=Bv++,C0=[],v0=0,P0=hv+1;v0<P0;){var O0=v0++,F0=1-Jv/xv,Q0=Mv.lerp(F0,nc,sc),j0=Mv.lerp(F0,iv,Zm),i1=Mv.lerp(1-O0/xv,Q0,j0);i1.push(1),C0.push(i1)}Nv.push(C0)}var n1=Mv.rep(hv+1,0),s1=Mv.rep(hv+1,1);return new kv(hv,hv,n1.concat(s1),n1.concat(s1),Nv)},V1.ellipseArc=function(nc,sc,Zm,iv,hv){var xv=Mv.norm(sc),Nv=Mv.norm(Zm);sc=Mv.normalized(sc),Zm=Mv.normalized(Zm),hv<iv&&(hv=2*Math.PI+iv);var Bv=hv-iv,Uv=0;Bv<=Math.PI/2?Uv=1:Bv<=Math.PI?Uv=2:Bv<=3*Math.PI/2?Uv=3:Uv=4;var Jv=Bv/Uv,C0=Math.cos(Jv/2),v0=Mv.add(nc,Mv.add(Mv.mul(xv*Math.cos(iv),sc),Mv.mul(Nv*Math.sin(iv),Zm))),P0=Mv.sub(Mv.mul(Math.cos(iv),Zm),Mv.mul(Math.sin(iv),sc)),O0=[],F0=Mv.zeros1d(2*Uv+3),Q0=0,j0=iv,i1=Mv.zeros1d(Uv*2);O0[0]=v0,i1[0]=1;for(var n1=1,s1=Uv+1;n1<s1;){var f1=n1++;j0+=Jv;var _1=Mv.add(nc,Mv.add(Mv.mul(xv*Math.cos(j0),sc),Mv.mul(Nv*Math.sin(j0),Zm)));i1[Q0+2]=1,O0[Q0+2]=_1;var T1=Mv.sub(Mv.mul(Math.cos(j0),Zm),Mv.mul(Math.sin(j0),sc)),v1=k1.rays(v0,Mv.mul(1/Mv.norm(P0),P0),_1,Mv.mul(1/Mv.norm(T1),T1)),m1=Mv.add(v0,Mv.mul(v1.u0,P0));i1[Q0+1]=C0,O0[Q0+1]=m1,Q0+=2,f1<Uv&&(v0=_1,P0=T1)}for(var E1=2*Uv+1,I1=0;I1<3;){var D1=I1++;F0[D1]=0,F0[D1+E1]=1}switch(Uv){case 2:F0[3]=F0[4]=.5;break;case 3:F0[3]=F0[4]=.3333333333333333,F0[5]=F0[6]=.6666666666666666;break;case 4:F0[3]=F0[4]=.25,F0[5]=F0[6]=.5,F0[7]=F0[8]=.75;break}return new lv(2,F0,R0.homogenize1d(O0,i1))},V1.arc=function(nc,sc,Zm,iv,hv,xv){return V1.ellipseArc(nc,Mv.mul(iv,Mv.normalized(sc)),Mv.mul(iv,Mv.normalized(Zm)),hv,xv)},V1.polyline=function(nc){for(var sc=[0,0],Zm=0,iv=0,hv=nc.length-1;iv<hv;){var xv=iv++;Zm+=Mv.dist(nc[xv],nc[xv+1]),sc.push(Zm)}sc.push(Zm),sc=Mv.mul(1/Zm,sc);for(var Nv,Bv=[],Uv=0,Jv=nc.length;Uv<Jv;)Uv++,Bv.push(1);return Nv=Bv,new lv(1,sc,R0.homogenize1d(nc.slice(0),Nv))},V1.extrudedSurface=function(nc,sc,Zm){for(var iv=[[],[],[]],hv=[[],[],[]],xv=R0.dehomogenize1d(Zm.controlPoints),Nv=R0.weight1d(Zm.controlPoints),Bv=Mv.mul(sc,nc),Uv=Mv.mul(.5*sc,nc),Jv=0,C0=xv.length;Jv<C0;){var v0=Jv++;iv[2][v0]=xv[v0],iv[1][v0]=Mv.add(Uv,xv[v0]),iv[0][v0]=Mv.add(Bv,xv[v0]),hv[0][v0]=Nv[v0],hv[1][v0]=Nv[v0],hv[2][v0]=Nv[v0]}return new kv(2,Zm.degree,[0,0,0,1,1,1],Zm.knots,R0.homogenize2d(iv,hv))},V1.cylindricalSurface=function(nc,sc,Zm,iv,hv){var xv=Mv.cross(nc,sc),Nv=V1.arc(Zm,sc,xv,hv,0,2*Math.PI);return V1.extrudedSurface(nc,iv,Nv)},V1.revolvedSurface=function(nc,sc,Zm,iv){var hv=R0.dehomogenize1d(nc.controlPoints),xv=R0.weight1d(nc.controlPoints),Nv,Bv;iv<=Math.PI/2?(Nv=1,Bv=Mv.zeros1d(6+2*(Nv-1))):iv<=Math.PI?(Nv=2,Bv=Mv.zeros1d(6+2*(Nv-1)),Bv[3]=Bv[4]=.5):iv<=3*Math.PI/2?(Nv=3,Bv=Mv.zeros1d(6+2*(Nv-1)),Bv[3]=Bv[4]=.3333333333333333,Bv[5]=Bv[6]=.6666666666666666):(Nv=4,Bv=Mv.zeros1d(6+2*(Nv-1)),Bv[3]=Bv[4]=.25,Bv[5]=Bv[6]=.5,Bv[7]=Bv[8]=.75);for(var Uv=iv/Nv,Jv=3+2*(Nv-1),C0=0;C0<3;){var v0=C0++;Bv[v0]=0,Bv[Jv+v0]=1}for(var P0=Math.cos(Uv/2),O0=0,F0=Mv.zeros1d(Nv+1),Q0=Mv.zeros1d(Nv+1),j0=Mv.zeros3d(2*Nv+1,hv.length,3),i1=Mv.zeros2d(2*Nv+1,hv.length),n1=1,s1=Nv+1;n1<s1;){var f1=n1++;O0+=Uv,Q0[f1]=Math.cos(O0),F0[f1]=Math.sin(O0)}for(var _1=0,T1=hv.length;_1<T1;){var v1=_1++,m1=ty.rayClosestPoint(hv[v1],sc,Zm),E1=Mv.sub(hv[v1],m1),I1=Mv.norm(E1),D1=Mv.cross(Zm,E1);I1>Av.EPSILON&&(E1=Mv.mul(1/I1,E1),D1=Mv.mul(1/I1,D1)),j0[0][v1]=hv[v1];var G1=hv[v1];i1[0][v1]=xv[v1];for(var H1=D1,W1=0,K1=1,z1=Nv+1;K1<z1;){var q1=K1++,w1;I1==0?w1=m1:w1=Mv.add(m1,Mv.add(Mv.mul(I1*Q0[q1],E1),Mv.mul(I1*F0[q1],D1))),j0[W1+2][v1]=w1,i1[W1+2][v1]=xv[v1];var Q1=Mv.sub(Mv.mul(Q0[q1],D1),Mv.mul(F0[q1],E1));if(I1==0)j0[W1+1][v1]=m1;else{var sy=k1.rays(G1,Mv.mul(1/Mv.norm(H1),H1),w1,Mv.mul(1/Mv.norm(Q1),Q1)),My=Mv.add(G1,Mv.mul(sy.u0,H1));j0[W1+1][v1]=My}i1[W1+1][v1]=P0*xv[v1],W1+=2,q1<Nv&&(G1=w1,H1=Q1)}}return new kv(2,nc.degree,Bv,nc.knots,R0.homogenize2d(j0,i1))},V1.sphericalSurface=function(nc,sc,Zm,iv){var hv=V1.arc(nc,Mv.mul(-1,sc),Zm,iv,0,Math.PI);return V1.revolvedSurface(hv,nc,sc,2*Math.PI)},V1.conicalSurface=function(nc,sc,Zm,iv,hv){var xv=2*Math.PI,Nv=1,Bv=[Mv.add(Zm,Mv.mul(iv,nc)),Mv.add(Zm,Mv.mul(hv,sc))],Uv=[0,0,1,1],Jv=[1,1],C0=new lv(Nv,Uv,R0.homogenize1d(Bv,Jv));return V1.revolvedSurface(C0,Zm,nc,xv)},V1.rationalInterpCurve=function(nc,sc,Zm,iv,hv){if(Zm==null&&(Zm=!1),sc==null&&(sc=3),nc.length<sc+1)throw new Jm("You need to supply at least degree + 1 points! You only supplied "+nc.length+" points.");for(var xv=[0],Nv=1,Bv=nc.length;Nv<Bv;){var Uv=Nv++,Jv=Mv.norm(Mv.sub(nc[Uv],nc[Uv-1])),C0=xv[xv.length-1];xv.push(C0+Jv)}for(var v0=xv[xv.length-1],P0=0,O0=xv.length;P0<O0;){var F0=P0++;xv[F0]=xv[F0]/v0}var Q0=Mv.rep(sc+1,0),j0=iv!=null&&hv!=null,i1;j0?i1=0:i1=1;var n1;j0?n1=xv.length-sc+1:n1=xv.length-sc;for(var s1=i1;s1<n1;){for(var f1=s1++,_1=0,T1=0;T1<sc;){var v1=T1++;_1+=xv[f1+v1]}Q0.push(1/sc*_1)}var m1=Q0.concat(Mv.rep(sc+1,1)),E1=[],I1;j0?I1=nc.length+1:I1=nc.length-1;var D1;j0?D1=nc.length-(sc-1):D1=nc.length-(sc+1);for(var G1=0;G1<xv.length;){var H1=xv[G1];++G1;var W1=R0.knotSpanGivenN(I1,sc,H1,m1),K1=R0.basisFunctionsGivenKnotSpanIndex(W1,H1,sc,m1),z1=W1-sc,q1=Mv.zeros1d(z1),w1=Mv.zeros1d(D1-z1);E1.push(q1.concat(K1).concat(w1))}if(j0){var Q1=E1[0].length-2,sy=[-1,1].concat(Mv.zeros1d(Q1)),My=Mv.zeros1d(Q1).concat([-1,1]);Pv.spliceAndInsert(E1,1,0,sy),Pv.spliceAndInsert(E1,E1.length-1,0,My)}for(var Ly=nc[0].length,Sy=[],Fy=(1-m1[m1.length-sc-2])/sc,sb=m1[sc+1]/sc,cb=0;cb<Ly;){var eb=[cb++],Jy;if(!j0)Jy=nc.map(function(lb){return function(Tb){return Tb[lb[0]]}}(eb));else{Jy=[nc[0][eb[0]]],Jy.push(sb*iv[eb[0]]);for(var tb=1,ub=nc.length-1;tb<ub;){var yb=tb++;Jy.push(nc[yb][eb[0]])}Jy.push(Fy*hv[eb[0]]),Jy.push(Pv.last(nc)[eb[0]])}var xb=E0.solve(E1,Jy);Sy.push(xb)}var bb=E0.transpose(Sy);if(!Zm){var _b=Mv.rep(bb.length,1);bb=R0.homogenize1d(bb,_b)}return new lv(sc,m1,bb)};var j1=V.eval.Modify=function(){};j["verb.eval.Modify"]=j1,j1.__name__=["verb","eval","Modify"],j1.curveReverse=function(nc){return new lv(nc.degree,j1.knotsReverse(nc.knots),Pv.reversed(nc.controlPoints))},j1.surfaceReverse=function(nc,sc){return sc==null&&(sc=!1),sc?new kv(nc.degreeU,nc.degreeV,nc.knotsU,j1.knotsReverse(nc.knotsV),function(Zm){for(var iv,hv=[],xv=0,Nv=nc.controlPoints;xv<Nv.length;){var Bv=Nv[xv];++xv,hv.push(Pv.reversed(Bv))}return iv=hv,iv}()):new kv(nc.degreeU,nc.degreeV,j1.knotsReverse(nc.knotsU),nc.knotsV,Pv.reversed(nc.controlPoints))},j1.knotsReverse=function(nc){var sc=Pv.first(nc);Pv.last(nc);for(var Zm=[sc],iv=nc.length,hv=1;hv<iv;){var xv=hv++;Zm.push(Zm[xv-1]+(nc[iv-xv]-nc[iv-xv-1]))}return Zm},j1.unifyCurveKnotVectors=function(nc){nc=nc.map(V1.clonedCurve);for(var sc=hr.fold(nc,function(m1,E1){return j1.imax(m1.degree,E1)},0),Zm=0,iv=nc.length;Zm<iv;){var hv=Zm++;nc[hv].degree<sc&&(nc[hv]=j1.curveElevateDegree(nc[hv],sc))}for(var xv,Nv=[],Bv=0;Bv<nc.length;){var Uv=nc[Bv];++Bv,Nv.push(new Fv(Pv.first(Uv.knots),Pv.last(Uv.knots)))}xv=Nv;for(var Jv=0,C0=nc.length;Jv<C0;){var v0=Jv++,P0=[xv[v0].min];nc[v0].knots=nc[v0].knots.map(function(m1){return function(E1){return E1-m1[0]}}(P0))}for(var O0=xv.map(function(m1){return m1.max-m1.min}),F0=hr.fold(O0,function(m1,E1){return Math.max(m1,E1)},0),Q0=0,j0=nc.length;Q0<j0;){var i1=Q0++,n1=[F0/O0[i1]];nc[i1].knots=nc[i1].knots.map(function(m1){return function(E1){return E1*m1[0]}}(n1))}for(var s1=hr.fold(nc,function(m1,E1){return Mv.sortedSetUnion(m1.knots,E1)},[]),f1=0,_1=nc.length;f1<_1;){var T1=f1++,v1=Mv.sortedSetSub(s1,nc[T1].knots);v1.length==0&&(nc[T1]=nc[T1]),nc[T1]=j1.curveKnotRefine(nc[T1],v1)}return nc},j1.imin=function(nc,sc){return nc<sc?nc:sc},j1.imax=function(nc,sc){return nc>sc?nc:sc},j1.curveElevateDegree=function(nc,sc){if(sc<=nc.degree)return nc;var Zm=nc.knots.length-nc.degree-2,iv=nc.degree,hv=nc.knots,xv=nc.controlPoints,Nv=sc-nc.degree,Bv=nc.controlPoints[0].length,Uv=Mv.zeros2d(iv+Nv+1,iv+1),Jv=[],C0=[],v0=[],P0=Zm+iv+1,O0=sc,F0=Math.floor(O0/2),Q0=[],j0=[];Uv[0][0]=1,Uv[O0][iv]=1;for(var i1=1,n1=F0+1;i1<n1;)for(var s1=i1++,f1=1/Tv.get(O0,s1),_1=j1.imin(iv,s1),T1=j1.imax(0,s1-Nv),v1=_1+1;T1<v1;){var m1=T1++;Uv[s1][m1]=f1*Tv.get(iv,m1)*Tv.get(Nv,s1-m1)}for(var E1=F0+1;E1<O0;)for(var I1=E1++,D1=j1.imin(iv,I1),G1=j1.imax(0,I1-Nv),H1=D1+1;G1<H1;){var W1=G1++;Uv[I1][W1]=Uv[O0-I1][iv-W1]}var K1=O0+1,z1=-1,q1=iv,w1=iv+1,Q1=1,sy=hv[0];Q0[0]=xv[0];for(var My=0,Ly=O0+1;My<Ly;){var Sy=My++;j0[Sy]=sy}for(var Fy=0,sb=iv+1;Fy<sb;){var cb=Fy++;Jv[cb]=xv[cb]}for(;w1<P0;){for(var eb=w1;w1<P0&&hv[w1]==hv[w1+1];)w1=w1+1;var Jy=w1-eb+1,tb=hv[w1],ub=z1;z1=iv-Jy;var yb;ub>0?yb=Math.floor((ub+2)/2):yb=1;var xb;if(z1>0?xb=Math.floor(O0-(z1+1)/2):xb=O0,z1>0){for(var bb=tb-sy,_b=[],lb=iv;lb>Jy;)_b[lb-Jy-1]=bb/(hv[q1+lb]-sy),lb--;for(var Tb=1,Hb=z1+1;Tb<Hb;){for(var Mb=Tb++,S_=z1-Mb,Jb=Jy+Mb,Ry=iv;Ry>=Jb;)Jv[Ry]=Mv.add(Mv.mul(_b[Ry-Jb],Jv[Ry]),Mv.mul(1-_b[Ry-Jb],Jv[Ry-1])),Ry--;v0[S_]=Jv[iv]}}for(var c_=yb,u_=O0+1;c_<u_;){var Db=c_++;C0[Db]=Mv.zeros1d(Bv);for(var x_=j1.imin(iv,Db),Fb=j1.imax(0,Db-Nv),d_=x_+1;Fb<d_;){var Qb=Fb++;C0[Db]=Mv.add(C0[Db],Mv.mul(Uv[Db][Qb],Jv[Qb]))}}if(ub>1)for(var Vb=K1-2,e_=K1,T_=tb-sy,f_=(tb-j0[K1-1])/T_,t_=1;t_<ub;){for(var n_=t_++,Ab=Vb,zb=e_,$b=zb-K1+1;zb-Ab>n_;){if(Ab<Q1){var q_=(tb-j0[Ab])/(sy-j0[Ab]);Q0[Ab]=Mv.lerp(q_,Q0[Ab],Q0[Ab-1])}if(zb>=yb){if(zb-n_<=K1-O0+ub){var $_=(tb-j0[zb-n_])/T_;C0[$b]=Mv.lerp($_,C0[$b],C0[$b+1])}}else C0[$b]=Mv.lerp(f_,C0[$b],C0[$b+1]);Ab=Ab+1,zb=zb-1,$b=$b-1}Vb=Vb-1,e_=e_+1}if(q1!=iv)for(var k_=0,X_=O0-ub;k_<X_;)k_++,j0[K1]=sy,K1=K1+1;for(var r_=yb,Nb=xb+1;r_<Nb;){var o_=r_++;Q0[Q1]=C0[o_],Q1=Q1+1}if(w1<P0){for(var Yb=0;Yb<z1;){var Wb=Yb++;Jv[Wb]=v0[Wb]}for(var i_=z1,h_=iv+1;i_<h_;){var Ib=i_++;Jv[Ib]=xv[w1-iv+Ib]}q1=w1,w1=w1+1,sy=tb}else for(var p_=0,M_=O0+1;p_<M_;){var A_=p_++;j0[K1+A_]=tb}}return new lv(sc,j0,Q0)},j1.rationalSurfaceTransform=function(nc,sc){for(var Zm=R0.dehomogenize2d(nc.controlPoints),iv=0,hv=Zm.length;iv<hv;)for(var xv=iv++,Nv=0,Bv=Zm[xv].length;Nv<Bv;){var Uv=Nv++,Jv=Zm[xv][Uv];Jv.push(1),Zm[xv][Uv]=E0.dot(sc,Jv).slice(0,Jv.length-1)}return new kv(nc.degreeU,nc.degreeV,nc.knotsU.slice(),nc.knotsV.slice(),R0.homogenize2d(Zm,R0.weight2d(nc.controlPoints)))},j1.rationalCurveTransform=function(nc,sc){for(var Zm=R0.dehomogenize1d(nc.controlPoints),iv=0,hv=Zm.length;iv<hv;){var xv=iv++,Nv=Zm[xv];Nv.push(1),Zm[xv]=E0.dot(sc,Nv).slice(0,Nv.length-1)}return new lv(nc.degree,nc.knots.slice(),R0.homogenize1d(Zm,R0.weight1d(nc.controlPoints)))},j1.surfaceKnotRefine=function(nc,sc,Zm){var iv=[],hv,xv,Nv;Zm?(Nv=nc.controlPoints,hv=nc.knotsV,xv=nc.degreeV):(Nv=E0.transpose(nc.controlPoints),hv=nc.knotsU,xv=nc.degreeU);for(var Bv=null,Uv=0;Uv<Nv.length;){var Jv=Nv[Uv];++Uv,Bv=j1.curveKnotRefine(new lv(xv,hv,Jv),sc),iv.push(Bv.controlPoints)}var C0=Bv.knots;return Zm?new kv(nc.degreeU,nc.degreeV,nc.knotsU.slice(),C0,iv):(iv=E0.transpose(iv),new kv(nc.degreeU,nc.degreeV,C0,nc.knotsV.slice(),iv))},j1.decomposeCurveIntoBeziers=function(nc){for(var sc=nc.degree,Zm=nc.controlPoints,iv=nc.knots,hv=P1.knotMultiplicities(iv),xv=sc+1,Nv=0;Nv<hv.length;){var Bv=hv[Nv];if(++Nv,Bv.mult<xv){var Uv=Mv.rep(xv-Bv.mult,Bv.knot),Jv=j1.curveKnotRefine(new lv(sc,iv,Zm),Uv);iv=Jv.knots,Zm=Jv.controlPoints}}iv.length/xv-1;for(var C0=xv*2,v0=[],P0=0;P0<Zm.length;){var O0=iv.slice(P0,P0+C0),F0=Zm.slice(P0,P0+xv);v0.push(new lv(sc,O0,F0)),P0+=xv}return v0},j1.curveKnotRefine=function(nc,sc){if(sc.length==0)return V1.clonedCurve(nc);for(var Zm=nc.degree,iv=nc.controlPoints,hv=nc.knots,xv=iv.length-1,Nv=xv+Zm+1,Bv=sc.length-1,Uv=R0.knotSpan(Zm,sc[0],hv),Jv=R0.knotSpan(Zm,sc[Bv],hv),C0=[],v0=[],P0=0,O0=Uv-Zm+1;P0<O0;){var F0=P0++;C0[F0]=iv[F0]}for(var Q0=Jv-1,j0=xv+1;Q0<j0;){var i1=Q0++;C0[i1+Bv+1]=iv[i1]}for(var n1=0,s1=Uv+1;n1<s1;){var f1=n1++;v0[f1]=hv[f1]}for(var _1=Jv+Zm,T1=Nv+1;_1<T1;){var v1=_1++;v0[v1+Bv+1]=hv[v1]}for(var m1=Jv+Zm-1,E1=Jv+Zm+Bv,I1=Bv;I1>=0;){for(;sc[I1]<=hv[m1]&&m1>Uv;)C0[E1-Zm-1]=iv[m1-Zm-1],v0[E1]=hv[m1],E1=E1-1,m1=m1-1;C0[E1-Zm-1]=C0[E1-Zm];for(var D1=1,G1=Zm+1;D1<G1;){var H1=D1++,W1=E1-Zm+H1,K1=v0[E1+H1]-sc[I1];Math.abs(K1)<Av.EPSILON?C0[W1-1]=C0[W1]:(K1=K1/(v0[E1+H1]-hv[m1-Zm+H1]),C0[W1-1]=Mv.add(Mv.mul(K1,C0[W1-1]),Mv.mul(1-K1,C0[W1])))}v0[E1]=sc[I1],E1=E1-1,I1--}return new lv(Zm,v0,C0)},j1.curveKnotInsert=function(nc,sc,Zm){for(var iv=nc.degree,hv=nc.controlPoints,xv=nc.knots,Nv=0,Bv=hv.length,Uv=R0.knotSpan(iv,sc,xv),Jv=[],C0=[],v0=[],P0=1,O0=Uv+1;P0<O0;){var F0=P0++;C0[F0]=xv[F0]}for(var Q0=1,j0=Zm+1;Q0<j0;){var i1=Q0++;C0[Uv+i1]=sc}for(var n1=Uv+1,s1=xv.length;n1<s1;){var f1=n1++;C0[f1+Zm]=xv[f1]}for(var _1=0,T1=Uv-iv+1;_1<T1;){var v1=_1++;v0[v1]=hv[v1]}for(var m1=Uv-Nv;m1<Bv;){var E1=m1++;v0[E1+Zm]=hv[E1]}for(var I1=0,D1=iv-Nv+1;I1<D1;){var G1=I1++;Jv[G1]=hv[Uv-iv+G1]}for(var H1=0,W1=0,K1=1,z1=Zm+1;K1<z1;){var q1=K1++;H1=Uv-iv+q1;for(var w1=0,Q1=iv-q1-Nv+1;w1<Q1;){var sy=w1++;W1=(sc-xv[H1+sy])/(xv[sy+Uv+1]-xv[H1+sy]),Jv[sy]=Mv.add(Mv.mul(W1,Jv[sy+1]),Mv.mul(1-W1,Jv[sy]))}v0[H1]=Jv[0],v0[Uv+Zm-q1-Nv]=Jv[iv-q1-Nv]}for(var My=H1+1,Ly=Uv-Nv;My<Ly;){var Sy=My++;v0[Sy]=Jv[Sy-H1]}return new lv(iv,C0,v0)};var X1=V.eval.Tess=function(){};j["verb.eval.Tess"]=X1,X1.__name__=["verb","eval","Tess"],X1.rationalCurveRegularSample=function(nc,sc,Zm){return X1.rationalCurveRegularSampleRange(nc,nc.knots[0],Pv.last(nc.knots),sc,Zm)},X1.rationalCurveRegularSampleRange=function(nc,sc,Zm,iv,hv){iv<1&&(iv=2);for(var xv=[],Nv=(Zm-sc)/(iv-1),Bv=0,Uv=0;Uv<iv;){var Jv=Uv++;Bv=sc+Nv*Jv,hv?xv.push([Bv].concat(R0.rationalCurvePoint(nc,Bv))):xv.push(R0.rationalCurvePoint(nc,Bv))}return xv},X1.rationalCurveAdaptiveSample=function(nc,sc,Zm){if(Zm==null&&(Zm=!1),sc==null&&(sc=1e-6),nc.degree==1)if(Zm){for(var iv=[],hv=0,xv=nc.controlPoints.length;hv<xv;){var Nv=hv++;iv.push([nc.knots[Nv+1]].concat(R0.dehomogenize(nc.controlPoints[Nv])))}return iv}else return nc.controlPoints.map(R0.dehomogenize);return X1.rationalCurveAdaptiveSampleRange(nc,nc.knots[0],Pv.last(nc.knots),sc,Zm)},X1.rationalCurveAdaptiveSampleRange=function(nc,sc,Zm,iv,hv){var xv=R0.rationalCurvePoint(nc,sc),Nv=R0.rationalCurvePoint(nc,Zm),Bv=.5+.2*Math.random(),Uv=sc+(Zm-sc)*Bv,Jv=R0.rationalCurvePoint(nc,Uv),C0=Mv.sub(xv,Nv),v0=Mv.sub(xv,Jv);if(Mv.dot(C0,C0)<iv&&Mv.dot(v0,v0)>iv||!ty.threePointsAreFlat(xv,Jv,Nv,iv)){var P0=sc+(Zm-sc)*.5,O0=X1.rationalCurveAdaptiveSampleRange(nc,sc,P0,iv,hv),F0=X1.rationalCurveAdaptiveSampleRange(nc,P0,Zm,iv,hv);return O0.slice(0,-1).concat(F0)}else return hv?[[sc].concat(xv),[Zm].concat(Nv)]:[xv,Nv]},X1.rationalSurfaceNaive=function(nc,sc,Zm){sc<1&&(sc=1),Zm<1&&(Zm=1),nc.degreeU,nc.degreeV,nc.controlPoints;for(var iv=nc.knotsU,hv=nc.knotsV,xv=Pv.last(iv)-iv[0],Nv=Pv.last(hv)-hv[0],Bv=xv/sc,Uv=Nv/Zm,Jv=[],C0=[],v0=[],P0=0,O0=sc+1;P0<O0;)for(var F0=P0++,Q0=0,j0=Zm+1;Q0<j0;){var i1=Q0++,n1=F0*Bv,s1=i1*Uv;C0.push([n1,s1]);var f1=R0.rationalSurfaceDerivatives(nc,n1,s1,1),_1=f1[0][0];Jv.push(_1);var T1=Mv.normalized(Mv.cross(f1[1][0],f1[0][1]));v0.push(T1)}for(var v1=[],m1=0;m1<sc;)for(var E1=m1++,I1=0;I1<Zm;){var D1=I1++,G1=E1*(Zm+1)+D1,H1=(E1+1)*(Zm+1)+D1,W1=H1+1,K1=G1+1,z1=[G1,H1,W1],q1=[G1,W1,K1];v1.push(z1),v1.push(q1)}return new Iv(v1,Jv,v0,C0)},X1.divideRationalSurfaceAdaptive=function(nc,sc){sc==null&&(sc=new H0),sc.minDivsU!=null?sc.minDivsU=sc.minDivsU:sc.minDivsU=1,sc.minDivsV!=null?sc.minDivsU=sc.minDivsV:sc.minDivsU=1,sc.refine!=null?sc.refine=sc.refine:sc.refine=!0;var Zm=(nc.controlPoints.length-1)*2,iv=(nc.controlPoints[0].length-1)*2,hv;sc.minDivsU>Zm?hv=sc.minDivsU=sc.minDivsU:hv=sc.minDivsU=Zm;var xv;sc.minDivsV>iv?xv=sc.minDivsV=sc.minDivsV:xv=sc.minDivsV=iv;for(var Nv=Pv.last(nc.knotsU),Bv=nc.knotsU[0],Uv=Pv.last(nc.knotsV),Jv=nc.knotsV[0],C0=(Nv-Bv)/hv,v0=(Uv-Jv)/xv,P0=[],O0=[],F0=0,Q0=xv+1;F0<Q0;){for(var j0=F0++,i1=[],n1=0,s1=hv+1;n1<s1;){var f1=n1++,_1=Bv+C0*f1,T1=Jv+v0*j0,v1=R0.rationalSurfaceDerivatives(nc,_1,T1,1),m1=Mv.normalized(Mv.cross(v1[0][1],v1[1][0]));i1.push(new M0(v1[0][0],m1,[_1,T1],-1,Mv.isZero(m1)))}O0.push(i1)}for(var E1=0;E1<xv;)for(var I1=E1++,D1=0;D1<hv;){var G1=D1++,H1=[O0[xv-I1-1][G1],O0[xv-I1-1][G1+1],O0[xv-I1][G1+1],O0[xv-I1][G1]];P0.push(new d1(nc,H1))}if(!sc.refine)return P0;for(var W1=0;W1<xv;)for(var K1=W1++,z1=0;z1<hv;){var q1=z1++,w1=K1*hv+q1,Q1=X1.north(w1,K1,q1,hv,xv,P0),sy=X1.east(w1,K1,q1,hv,xv,P0),My=X1.south(w1,K1,q1,hv,xv,P0),Ly=X1.west(w1,K1,q1,hv,xv,P0);P0[w1].neighbors=[My,sy,Q1,Ly],P0[w1].divide(sc)}return P0},X1.north=function(nc,sc,Zm,iv,hv,xv){return sc==0?null:xv[nc-iv]},X1.south=function(nc,sc,Zm,iv,hv,xv){return sc==hv-1?null:xv[nc+iv]},X1.east=function(nc,sc,Zm,iv,hv,xv){return Zm==iv-1?null:xv[nc+1]},X1.west=function(nc,sc,Zm,iv,hv,xv){return Zm==0?null:xv[nc-1]},X1.triangulateAdaptiveRefinementNodeTree=function(nc){for(var sc=Iv.empty(),Zm=0;Zm<nc.length;){var iv=nc[Zm];++Zm,iv.triangulate(sc)}return sc},X1.rationalSurfaceAdaptive=function(nc,sc){sc!=null?sc=sc:sc=new H0;var Zm=X1.divideRationalSurfaceAdaptive(nc,sc);return X1.triangulateAdaptiveRefinementNodeTree(Zm)};var H0=V.core.AdaptiveRefinementOptions=function(){this.minDivsV=1,this.minDivsU=1,this.refine=!0,this.maxDepth=10,this.minDepth=0,this.normTol=.025};j["verb.eval.AdaptiveRefinementOptions"]=H0,H0.__name__=["verb","eval","AdaptiveRefinementOptions"],H0.prototype={__class__:H0};var d1=V.core.AdaptiveRefinementNode=function(nc,sc,Zm){if(this.srf=nc,Zm==null?this.neighbors=[null,null,null,null]:this.neighbors=Zm,this.corners=sc,this.corners==null){var iv=nc.knotsU[0],hv=Pv.last(nc.knotsU),xv=nc.knotsV[0],Nv=Pv.last(nc.knotsV);this.corners=[M0.fromUv(iv,xv),M0.fromUv(hv,xv),M0.fromUv(hv,Nv),M0.fromUv(iv,Nv)]}};j["verb.eval.AdaptiveRefinementNode"]=d1,d1.__name__=["verb","eval","AdaptiveRefinementNode"],d1.prototype={isLeaf:function(){return this.children==null},center:function(){return this.centerPoint!=null?this.centerPoint:this.evalSrf(this.u05,this.v05)},evalCorners:function(){this.u05=(this.corners[0].uv[0]+this.corners[2].uv[0])/2,this.v05=(this.corners[0].uv[1]+this.corners[2].uv[1])/2;for(var nc=0;nc<4;){var sc=nc++;if(this.corners[sc].point==null){var Zm=this.corners[sc];this.evalSrf(Zm.uv[0],Zm.uv[1],Zm)}}},evalSrf:function(nc,sc,Zm){var iv=R0.rationalSurfaceDerivatives(this.srf,nc,sc,1),hv=iv[0][0],xv=Mv.cross(iv[0][1],iv[1][0]),Nv=Mv.isZero(xv);return Nv||(xv=Mv.normalized(xv)),Zm!=null?(Zm.degen=Nv,Zm.point=hv,Zm.normal=xv,Zm):new M0(hv,xv,[nc,sc],-1,Nv)},getEdgeCorners:function(nc){if(this.isLeaf())return[this.corners[nc]];if(this.horizontal)switch(nc){case 0:return this.children[0].getEdgeCorners(0);case 1:return this.children[0].getEdgeCorners(1).concat(this.children[1].getEdgeCorners(1));case 2:return this.children[1].getEdgeCorners(2);case 3:return this.children[1].getEdgeCorners(3).concat(this.children[0].getEdgeCorners(3))}switch(nc){case 0:return this.children[0].getEdgeCorners(0).concat(this.children[1].getEdgeCorners(0));case 1:return this.children[1].getEdgeCorners(1);case 2:return this.children[1].getEdgeCorners(2).concat(this.children[0].getEdgeCorners(2));case 3:return this.children[0].getEdgeCorners(3)}return null},getAllCorners:function(nc){var sc=[this.corners[nc]];if(this.neighbors[nc]==null)return sc;var Zm=this.neighbors[nc].getEdgeCorners((nc+2)%4),iv=nc%2,hv=Av.EPSILON,xv=this,Nv=[function(Uv){return Uv.uv[0]>xv.corners[0].uv[0]+hv&&Uv.uv[0]<xv.corners[2].uv[0]-hv},function(Uv){return Uv.uv[1]>xv.corners[0].uv[1]+hv&&Uv.uv[1]<xv.corners[2].uv[1]-hv}],Bv=Zm.filter(Nv[iv]);return Bv.reverse(),sc.concat(Bv)},midpoint:function(nc){if(this.midPoints==null&&(this.midPoints=[null,null,null,null]),this.midPoints[nc]!=null)return this.midPoints[nc];switch(nc){case 0:this.midPoints[0]=this.evalSrf(this.u05,this.corners[0].uv[1]);break;case 1:this.midPoints[1]=this.evalSrf(this.corners[1].uv[0],this.v05);break;case 2:this.midPoints[2]=this.evalSrf(this.u05,this.corners[2].uv[1]);break;case 3:this.midPoints[3]=this.evalSrf(this.corners[0].uv[0],this.v05);break}return this.midPoints[nc]},hasBadNormals:function(){return this.corners[0].degen||this.corners[1].degen||this.corners[2].degen||this.corners[3].degen},fixNormals:function(){for(var nc=this.corners.length,sc=0;sc<nc;){var Zm=sc++;if(this.corners[Zm],this.corners[Zm].degen){var iv=this.corners[(Zm+1)%nc],hv=this.corners[(Zm+3)%nc];iv.degen?this.corners[Zm].normal=hv.normal:this.corners[Zm].normal=iv.normal}}},shouldDivide:function(nc,sc){if(sc<nc.minDepth)return!0;if(sc>=nc.maxDepth)return!1;if(this.hasBadNormals())return this.fixNormals(),!1;if(this.splitVert=Mv.normSquared(Mv.sub(this.corners[0].normal,this.corners[1].normal))>nc.normTol||Mv.normSquared(Mv.sub(this.corners[2].normal,this.corners[3].normal))>nc.normTol,this.splitHoriz=Mv.normSquared(Mv.sub(this.corners[1].normal,this.corners[2].normal))>nc.normTol||Mv.normSquared(Mv.sub(this.corners[3].normal,this.corners[0].normal))>nc.normTol,this.splitVert||this.splitHoriz)return!0;var Zm=this.center();return Mv.normSquared(Mv.sub(Zm.normal,this.corners[0].normal))>nc.normTol||Mv.normSquared(Mv.sub(Zm.normal,this.corners[1].normal))>nc.normTol||Mv.normSquared(Mv.sub(Zm.normal,this.corners[2].normal))>nc.normTol||Mv.normSquared(Mv.sub(Zm.normal,this.corners[3].normal))>nc.normTol},divide:function(nc){nc==null&&(nc=new H0),nc.normTol==null&&(nc.normTol=.085),nc.minDepth==null&&(nc.minDepth=0),nc.maxDepth==null&&(nc.maxDepth=10),this._divide(nc,0,!0)},_divide:function(nc,sc,Zm){if(this.evalCorners(),!!this.shouldDivide(nc,sc)){if(sc++,this.splitVert&&!this.splitHoriz?Zm=!1:!this.splitVert&&this.splitHoriz&&(Zm=!0),this.horizontal=Zm,this.horizontal){var iv=[this.corners[0],this.corners[1],this.midpoint(1),this.midpoint(3)],hv=[this.midpoint(3),this.midpoint(1),this.corners[2],this.corners[3]];this.children=[new d1(this.srf,iv),new d1(this.srf,hv)],this.children[0].neighbors=[this.neighbors[0],this.neighbors[1],this.children[1],this.neighbors[3]],this.children[1].neighbors=[this.children[0],this.neighbors[1],this.neighbors[2],this.neighbors[3]]}else{var xv=[this.corners[0],this.midpoint(0),this.midpoint(2),this.corners[3]],Nv=[this.midpoint(0),this.corners[1],this.corners[2],this.midpoint(2)];this.children=[new d1(this.srf,xv),new d1(this.srf,Nv)],this.children[0].neighbors=[this.neighbors[0],this.children[1],this.neighbors[2],this.neighbors[3]],this.children[1].neighbors=[this.neighbors[0],this.neighbors[1],this.neighbors[2],this.children[0]]}for(var Bv=0,Uv=this.children;Bv<Uv.length;){var Jv=Uv[Bv];++Bv,Jv._divide(nc,sc,!Zm)}}},triangulate:function(nc){if(nc==null&&(nc=Iv.empty()),this.isLeaf())return this.triangulateLeaf(nc);for(var sc=0,Zm=this.children;sc<Zm.length;){var iv=Zm[sc];if(++sc,iv==null)break;iv.triangulate(nc)}return nc},triangulateLeaf:function(nc){for(var sc=nc.points.length,Zm=[],iv=[],hv=0,xv=0;xv<4;){var Nv=xv++,Bv=this.getAllCorners(Nv);Bv.length==2&&(hv=Nv+1);for(var Uv=0,Jv=Bv.length;Uv<Jv;){var C0=Uv++;Zm.push(Bv[C0])}}for(var v0=0;v0<Zm.length;){var P0=Zm[v0];if(++v0,P0.id!=-1){iv.push(P0.id);continue}nc.uvs.push(P0.uv),nc.points.push(P0.point),nc.normals.push(P0.normal),P0.id=sc,iv.push(sc),sc++}if(Zm.length==4)return nc.faces.push([iv[0],iv[3],iv[1]]),nc.faces.push([iv[3],iv[2],iv[1]]),nc;if(Zm.length==5){var O0=iv.length;return nc.faces.push([iv[hv],iv[(hv+2)%O0],iv[(hv+1)%O0]]),nc.faces.push([iv[(hv+4)%O0],iv[(hv+3)%O0],iv[hv]]),nc.faces.push([iv[hv],iv[(hv+3)%O0],iv[(hv+2)%O0]]),nc}var F0=this.center();nc.uvs.push(F0.uv),nc.points.push(F0.point),nc.normals.push(F0.normal);for(var Q0=nc.points.length-1,j0=0,i1=Zm.length-1;j0<Zm.length;)nc.faces.push([Q0,iv[j0],iv[i1]]),i1=j0++;return nc},__class__:d1};var h1=V.exe.Dispatcher=function(){};j["verb.exe.Dispatcher"]=h1,h1.__name__=["verb","exe","Dispatcher"],h1.init=function(){h1._init||(h1._workerPool=new Z1(h1.THREADS),h1._init=!0)},h1.dispatchMethod=function(nc,sc,Zm){h1.init();var iv=new yv,hv=function(xv){iv.resolve(xv)};return h1._workerPool.addWork(ic.getClassName(nc),sc,Zm,hv),new $v(iv)};var Z1=V.exe.WorkerPool=function(nc,sc){sc==null&&(sc="verb.js"),nc==null&&(nc=1),this._callbacks=new tv,this._working=new tv,this._pool=[],this._queue=[];for(var Zm=0;Zm<nc;){Zm++;var iv;try{iv=new Worker(Z1.basePath+sc)}catch(hv){hv instanceof Jm&&(hv=hv.val),iv=new Worker(Z1.basePath+sc.substring(0,-3)+".min.js")}this._pool.push(iv)}};j["verb.exe.WorkerPool"]=Z1,Z1.__name__=["verb","exe","WorkerPool"],Z1.prototype={addWork:function(nc,sc,Zm,iv){var hv=new ey(nc,sc,Zm);this._callbacks.set(hv.id,iv),this._queue.push(hv),this.processQueue()},processQueue:function(){for(var nc=this;this._queue.length>0&&this._pool.length>0;){var sc=this._queue.shift(),Zm=[sc.id],iv=[this._pool.shift()];this._working.h[Zm[0]]=iv[0],iv[0].onmessage=function(hv,xv){return function(Nv){nc._working.remove(xv[0]),nc._pool.push(hv[0]);try{nc._callbacks.h.hasOwnProperty(xv[0])&&(nc._callbacks.h[xv[0]](Nv.data.result),nc._callbacks.remove(xv[0]))}catch(Bv){Bv instanceof Jm&&(Bv=Bv.val),L.log(Bv)}nc.processQueue()}}(iv,Zm),iv[0].postMessage(sc)}},__class__:Z1};var ey=function(nc,sc,Zm){this.className=nc,this.methodName=sc,this.args=Zm,this.id=ey.uuid++};j["verb.exe._WorkerPool.Work"]=ey,ey.__name__=["verb","exe","_WorkerPool","Work"],ey.prototype={__class__:ey};var jv=function(){};j["verb.geom.ICurve"]=jv,jv.__name__=["verb","geom","ICurve"],jv.__interfaces__=[y1],jv.prototype={__class__:jv};var A0=V.geom.NurbsCurve=function(nc){this._data=Ny.isValidNurbsCurveData(nc)};j["verb.geom.NurbsCurve"]=A0,A0.__name__=["verb","geom","NurbsCurve"],A0.__interfaces__=[jv],A0.byKnotsControlPointsWeights=function(nc,sc,Zm,iv){return new A0(new lv(nc,sc.slice(),R0.homogenize1d(Zm,iv)))},A0.byPoints=function(nc,sc){return sc==null&&(sc=3),new A0(V1.rationalInterpCurve(nc,sc))},A0.__super__=y0,A0.prototype=Oe(y0.prototype,{degree:function(){return this._data.degree},knots:function(){return this._data.knots.slice(0)},controlPoints:function(){return R0.dehomogenize1d(this._data.controlPoints)},weights:function(){return R0.weight1d(this._data.controlPoints)},asNurbs:function(){return new lv(this.degree(),this.knots(),R0.homogenize1d(this.controlPoints(),this.weights()))},clone:function(){return new A0(this._data)},domain:function(){return new Fv(Pv.first(this._data.knots),Pv.last(this._data.knots))},transform:function(nc){return new A0(j1.rationalCurveTransform(this._data,nc))},transformAsync:function(nc){return h1.dispatchMethod(j1,"rationalCurveTransform",[this._data,nc]).then(function(sc){return new A0(sc)})},point:function(nc){return R0.rationalCurvePoint(this._data,nc)},pointAsync:function(nc){return h1.dispatchMethod(R0,"rationalCurvePoint",[this._data,nc])},tangent:function(nc){return R0.rationalCurveTangent(this._data,nc)},tangentAsync:function(nc){return h1.dispatchMethod(R0,"rationalCurveTangent",[this._data,nc])},derivatives:function(nc,sc){return sc==null&&(sc=1),R0.rationalCurveDerivatives(this._data,nc,sc)},derivativesAsync:function(nc,sc){return sc==null&&(sc=1),h1.dispatchMethod(R0,"rationalCurveDerivatives",[this._data,nc,sc])},closestPoint:function(nc){return P1.rationalCurveClosestPoint(this._data,nc)},closestPointAsync:function(nc){return h1.dispatchMethod(P1,"rationalCurveClosestPoint",[this._data,nc])},closestParam:function(nc){return P1.rationalCurveClosestParam(this._data,nc)},closestParamAsync:function(nc){return h1.dispatchMethod(P1,"rationalCurveClosestParam",[this._data,nc])},length:function(){return P1.rationalCurveArcLength(this._data)},lengthAsync:function(){return h1.dispatchMethod(P1,"rationalCurveArcLength",[this._data])},lengthAtParam:function(nc){return P1.rationalCurveArcLength(this._data,nc)},lengthAtParamAsync:function(){return h1.dispatchMethod(P1,"rationalCurveArcLength",[this._data])},paramAtLength:function(nc,sc){return P1.rationalCurveParamAtArcLength(this._data,nc,sc)},paramAtLengthAsync:function(nc,sc){return h1.dispatchMethod(P1,"rationalCurveParamAtArcLength",[this._data,nc,sc])},divideByEqualArcLength:function(nc){return yy.rationalCurveByEqualArcLength(this._data,nc)},divideByEqualArcLengthAsync:function(nc){return h1.dispatchMethod(yy,"rationalCurveByEqualArcLength",[this._data,nc])},divideByArcLength:function(nc){return yy.rationalCurveByArcLength(this._data,nc)},divideByArcLengthAsync:function(nc){return h1.dispatchMethod(yy,"rationalCurveByArcLength",[this._data,nc])},split:function(nc){return yy.curveSplit(this._data,nc).map(function(sc){return new A0(sc)})},splitAsync:function(nc){return h1.dispatchMethod(yy,"curveSplit",[this._data,nc]).then(function(sc){return sc.map(function(Zm){return new A0(Zm)})})},reverse:function(){return new A0(j1.curveReverse(this._data))},reverseAsync:function(){return h1.dispatchMethod(j1,"curveReverse",[this._data]).then(function(nc){return new A0(nc)})},tessellate:function(nc){return X1.rationalCurveAdaptiveSample(this._data,nc,!1)},tessellateAsync:function(nc){return h1.dispatchMethod(X1,"rationalCurveAdaptiveSample",[this._data,nc,!1])},__class__:A0});var Y0=V.geom.Arc=function(nc,sc,Zm,iv,hv,xv){A0.call(this,V1.arc(nc,sc,Zm,iv,hv,xv)),this._center=nc,this._xaxis=sc,this._yaxis=Zm,this._radius=iv,this._minAngle=hv,this._maxAngle=xv};j["verb.geom.Arc"]=Y0,Y0.__name__=["verb","geom","Arc"],Y0.__super__=A0,Y0.prototype=Oe(A0.prototype,{center:function(){return this._center},xaxis:function(){return this._xaxis},yaxis:function(){return this._yaxis},radius:function(){return this._radius},minAngle:function(){return this._minAngle},maxAngle:function(){return this._maxAngle},__class__:Y0});var e1=V.geom.BezierCurve=function(nc,sc){A0.call(this,V1.rationalBezierCurve(nc,sc))};j["verb.geom.BezierCurve"]=e1,e1.__name__=["verb","geom","BezierCurve"],e1.__super__=A0,e1.prototype=Oe(A0.prototype,{__class__:e1});var U0=V.geom.Circle=function(nc,sc,Zm,iv){Y0.call(this,nc,sc,Zm,iv,0,Math.PI*2)};j["verb.geom.Circle"]=U0,U0.__name__=["verb","geom","Circle"],U0.__super__=Y0,U0.prototype=Oe(Y0.prototype,{__class__:U0});var p1=function(){};j["verb.geom.ISurface"]=p1,p1.__name__=["verb","geom","ISurface"],p1.__interfaces__=[y1],p1.prototype={__class__:p1};var T0=V.geom.NurbsSurface=function(nc){this._data=Ny.isValidNurbsSurfaceData(nc)};j["verb.geom.NurbsSurface"]=T0,T0.__name__=["verb","geom","NurbsSurface"],T0.__interfaces__=[p1],T0.byKnotsControlPointsWeights=function(nc,sc,Zm,iv,hv,xv){return new T0(new kv(nc,sc,Zm,iv,R0.homogenize2d(hv,xv)))},T0.byCorners=function(nc,sc,Zm,iv){return new T0(V1.fourPointSurface(nc,sc,Zm,iv))},T0.byLoftingCurves=function(nc,sc){return new T0(V1.loftedSurface(function(Zm){for(var iv,hv=[],xv=0;xv<nc.length;){var Nv=nc[xv];++xv,hv.push(Nv.asNurbs())}return iv=hv,iv}(),sc))},T0.__super__=y0,T0.prototype=Oe(y0.prototype,{degreeU:function(){return this._data.degreeU},degreeV:function(){return this._data.degreeV},knotsU:function(){return this._data.knotsU.slice(0)},knotsV:function(){return this._data.knotsV.slice(0)},controlPoints:function(){return R0.dehomogenize2d(this._data.controlPoints)},weights:function(){return R0.weight2d(this._data.controlPoints)},asNurbs:function(){return new kv(this.degreeU(),this.degreeV(),this.knotsU(),this.knotsV(),R0.homogenize2d(this.controlPoints(),this.weights()))},clone:function(){return new T0(this.asNurbs())},domainU:function(){return new Fv(Pv.first(this._data.knotsU),Pv.last(this._data.knotsU))},domainV:function(){return new Fv(Pv.first(this._data.knotsV),Pv.last(this._data.knotsV))},point:function(nc,sc){return R0.rationalSurfacePoint(this._data,nc,sc)},pointAsync:function(nc,sc){return h1.dispatchMethod(R0,"rationalSurfacePoint",[this._data,nc,sc])},normal:function(nc,sc){return R0.rationalSurfaceNormal(this._data,nc,sc)},normalAsync:function(nc,sc){return h1.dispatchMethod(R0,"rationalSurfaceNormal",[this._data,nc,sc])},derivatives:function(nc,sc,Zm){return Zm==null&&(Zm=1),R0.rationalSurfaceDerivatives(this._data,nc,sc,Zm)},derivativesAsync:function(nc,sc,Zm){return Zm==null&&(Zm=1),h1.dispatchMethod(R0,"rationalSurfaceDerivatives",[this._data,nc,sc,Zm])},closestParam:function(nc){return P1.rationalSurfaceClosestParam(this._data,nc)},closestParamAsync:function(nc){return h1.dispatchMethod(P1,"rationalSurfaceClosestParam",[this._data,nc])},closestPoint:function(nc){return P1.rationalSurfaceClosestPoint(this._data,nc)},closestPointAsync:function(nc){return h1.dispatchMethod(P1,"rationalSurfaceClosestPoint",[this._data,nc])},split:function(nc,sc){return sc==null&&(sc=!1),yy.surfaceSplit(this._data,nc,sc).map(function(Zm){return new T0(Zm)})},splitAsync:function(nc,sc){return sc==null&&(sc=!1),h1.dispatchMethod(yy,"surfaceSplit",[this._data,nc,sc]).then(function(Zm){return Zm.map(function(iv){return new T0(iv)})})},reverse:function(nc){return nc==null&&(nc=!1),new T0(j1.surfaceReverse(this._data,nc))},reverseAsync:function(nc){return nc==null&&(nc=!1),h1.dispatchMethod(j1,"surfaceReverse",[this._data,nc]).then(function(sc){return new T0(sc)})},isocurve:function(nc,sc){return sc==null&&(sc=!1),new A0(V1.surfaceIsocurve(this._data,nc,sc))},isocurveAsync:function(nc,sc){return sc==null&&(sc=!1),h1.dispatchMethod(V1,"surfaceIsocurve",[this._data,nc,sc]).then(function(Zm){return new A0(Zm)})},boundaries:function(nc){return V1.surfaceBoundaryCurves(this._data).map(function(sc){return new A0(sc)})},boundariesAsync:function(nc){return h1.dispatchMethod(V1,"surfaceBoundaryCurves",[this._data]).then(function(sc){return sc.map(function(Zm){return new A0(Zm)})})},tessellate:function(nc){return X1.rationalSurfaceAdaptive(this._data,nc)},tessellateAsync:function(nc){return h1.dispatchMethod(X1,"rationalSurfaceAdaptive",[this._data,nc])},transform:function(nc){return new T0(j1.rationalSurfaceTransform(this._data,nc))},transformAsync:function(nc){return h1.dispatchMethod(j1,"rationalSurfaceTransform",[this._data,nc]).then(function(sc){return new T0(sc)})},__class__:T0});var t1=V.geom.ConicalSurface=function(nc,sc,Zm,iv,hv){T0.call(this,V1.conicalSurface(nc,sc,Zm,iv,hv)),this._axis=nc,this._xaxis=sc,this._base=Zm,this._height=iv,this._radius=hv};j["verb.geom.ConicalSurface"]=t1,t1.__name__=["verb","geom","ConicalSurface"],t1.__super__=T0,t1.prototype=Oe(T0.prototype,{axis:function(){return this._axis},xaxis:function(){return this._xaxis},base:function(){return this._base},height:function(){return this._height},radius:function(){return this._radius},__class__:t1});var o1=V.geom.CylindricalSurface=function(nc,sc,Zm,iv,hv){T0.call(this,V1.cylindricalSurface(nc,sc,Zm,iv,hv)),this._axis=nc,this._xaxis=sc,this._base=Zm,this._height=iv,this._radius=hv};j["verb.geom.CylindricalSurface"]=o1,o1.__name__=["verb","geom","CylindricalSurface"],o1.__super__=T0,o1.prototype=Oe(T0.prototype,{axis:function(){return this._axis},xaxis:function(){return this._xaxis},base:function(){return this._base},height:function(){return this._height},radius:function(){return this._radius},__class__:o1});var c1=V.geom.EllipseArc=function(nc,sc,Zm,iv,hv){A0.call(this,V1.ellipseArc(nc,sc,Zm,iv,hv)),this._center=nc,this._xaxis=sc,this._yaxis=Zm,this._minAngle=iv,this._maxAngle=hv};j["verb.geom.EllipseArc"]=c1,c1.__name__=["verb","geom","EllipseArc"],c1.__super__=A0,c1.prototype=Oe(A0.prototype,{center:function(){return this._center},xaxis:function(){return this._xaxis},yaxis:function(){return this._yaxis},minAngle:function(){return this._minAngle},maxAngle:function(){return this._maxAngle},__class__:c1});var N1=V.geom.Ellipse=function(nc,sc,Zm){c1.call(this,nc,sc,Zm,0,Math.PI*2)};j["verb.geom.Ellipse"]=N1,N1.__name__=["verb","geom","Ellipse"],N1.__super__=c1,N1.prototype=Oe(c1.prototype,{__class__:N1});var A1=V.geom.ExtrudedSurface=function(nc,sc){T0.call(this,V1.extrudedSurface(Mv.normalized(sc),Mv.norm(sc),nc.asNurbs())),this._profile=nc,this._direction=sc};j["verb.geom.ExtrudedSurface"]=A1,A1.__name__=["verb","geom","ExtrudedSurface"],A1.__super__=T0,A1.prototype=Oe(T0.prototype,{profile:function(){return this._profile},direction:function(){return this._direction},__class__:A1});var J1=V.geom.Intersect=function(){};j["verb.geom.Intersect"]=J1,J1.__name__=["verb","geom","Intersect"],J1.curves=function(nc,sc,Zm){return Zm==null&&(Zm=.001),k1.curves(nc.asNurbs(),sc.asNurbs(),Zm)},J1.curvesAsync=function(nc,sc,Zm){return Zm==null&&(Zm=.001),h1.dispatchMethod(k1,"curves",[nc.asNurbs(),sc.asNurbs(),Zm])},J1.curveAndSurface=function(nc,sc,Zm){return Zm==null&&(Zm=.001),k1.curveAndSurface(nc.asNurbs(),sc.asNurbs(),Zm)},J1.curveAndSurfaceAsync=function(nc,sc,Zm){return Zm==null&&(Zm=.001),h1.dispatchMethod(k1,"curveAndSurface",[nc.asNurbs(),sc.asNurbs(),Zm])},J1.surfaces=function(nc,sc,Zm){return Zm==null&&(Zm=.001),k1.surfaces(nc.asNurbs(),sc.asNurbs(),Zm).map(function(iv){return new A0(iv)})},J1.surfacesAsync=function(nc,sc,Zm){return Zm==null&&(Zm=.001),h1.dispatchMethod(k1,"surfaces",[nc.asNurbs(),sc.asNurbs(),Zm]).then(function(iv){return iv.map(function(hv){return new A0(hv)})})};var ny=V.geom.Line=function(nc,sc){A0.call(this,V1.polyline([nc,sc])),this._start=nc,this._end=sc};j["verb.geom.Line"]=ny,ny.__name__=["verb","geom","Line"],ny.__super__=A0,ny.prototype=Oe(A0.prototype,{start:function(){return this._start},end:function(){return this._end},__class__:ny});var Ty=V.geom.RevolvedSurface=function(nc,sc,Zm,iv){T0.call(this,V1.revolvedSurface(nc.asNurbs(),sc,Zm,iv)),this._profile=nc,this._center=sc,this._axis=Zm,this._angle=iv};j["verb.geom.RevolvedSurface"]=Ty,Ty.__name__=["verb","geom","RevolvedSurface"],Ty.__super__=T0,Ty.prototype=Oe(T0.prototype,{profile:function(){return this._profile},center:function(){return this._center},axis:function(){return this._center},angle:function(){return this._angle},__class__:Ty});var Cy=V.geom.SphericalSurface=function(nc,sc){T0.call(this,V1.sphericalSurface(nc,[0,0,1],[1,0,0],sc)),this._center=nc,this._radius=sc};j["verb.geom.SphericalSurface"]=Cy,Cy.__name__=["verb","geom","SphericalSurface"],Cy.__super__=T0,Cy.prototype=Oe(T0.prototype,{center:function(){return this._center},radius:function(){return this._radius},__class__:Cy});var ry=V.geom.SweptSurface=function(nc,sc){T0.call(this,V1.rationalTranslationalSurface(nc.asNurbs(),sc.asNurbs())),this._profile=nc,this._rail=sc};j["verb.geom.SweptSurface"]=ry,ry.__name__=["verb","geom","SweptSurface"],ry.__super__=T0,ry.prototype=Oe(T0.prototype,{profile:function(){return this._profile},rail:function(){return this._rail},__class__:ry});function O1(nc){return nc instanceof Array?function(){return ur.iter(nc)}:typeof nc.iterator=="function"?$y(nc,nc.iterator):nc.iterator}var Iy,fy=0;function $y(nc,sc){if(sc==null)return null;sc.__id__==null&&(sc.__id__=fy++);var Zm;return nc.hx__closures__==null?nc.hx__closures__={}:Zm=nc.hx__closures__[sc.__id__],Zm==null&&(Zm=function(){return Zm.method.apply(Zm.scope,arguments)},Zm.scope=nc,Zm.method=sc,nc.hx__closures__[sc.__id__]=Zm),Zm}j.Math=Math,String.prototype.__class__=j.String=String,String.__name__=["String"],j.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=j.Date=Date,Date.__name__=["Date"];var Sb=j.Int={__name__:["Int"]},Uy=j.Dynamic={__name__:["Dynamic"]},kb=j.Float=Number;kb.__name__=["Float"];var ky=j.Bool=Boolean;ky.__ename__=["Bool"];var oy=j.Class={__name__:["Class"]},Qy={};Array.prototype.map==null&&(Array.prototype.map=function(nc){for(var sc=[],Zm=0,iv=this.length;Zm<iv;){var hv=Zm++;sc[hv]=nc(this[hv])}return sc}),Array.prototype.filter==null&&(Array.prototype.filter=function(nc){for(var sc=[],Zm=0,iv=this.length;Zm<iv;){var hv=Zm++,xv=this[hv];nc(xv)&&sc.push(xv)}return sc});var Gy={},Wy=z.ArrayBuffer||pv;Wy.prototype.slice==null&&(Wy.prototype.slice=pv.sliceImpl),z.DataView;var Bb=z.Uint8Array||Cv._new;(function(nc,sc){if(nc.setImmediate)return;var Zm=1,iv={},hv=!1,xv=nc.document,Nv;function Bv(n1){return iv[Zm]=Uv.apply(sc,n1),Zm++}function Uv(n1){var s1=[].slice.call(arguments,1);return function(){typeof n1=="function"?n1.apply(sc,s1):new Function(""+n1)()}}function Jv(n1){if(hv)setTimeout(Uv(Jv,n1),0);else{var s1=iv[n1];if(s1){hv=!0;try{s1()}finally{C0(n1),hv=!1}}}}function C0(n1){delete iv[n1]}function v0(){Nv=function(){var n1=Bv(arguments);return process.nextTick(Uv(Jv,n1)),n1}}function P0(){if(nc.postMessage&&!nc.importScripts){var n1=!0,s1=nc.onmessage;return nc.onmessage=function(){n1=!1},nc.postMessage("","*"),nc.onmessage=s1,n1}}function O0(){var n1="setImmediate$"+Math.random()+"$",s1=function(f1){f1.source===nc&&typeof f1.data=="string"&&f1.data.indexOf(n1)===0&&Jv(+f1.data.slice(n1.length))};nc.addEventListener?nc.addEventListener("message",s1,!1):nc.attachEvent("onmessage",s1),Nv=function(){var f1=Bv(arguments);return nc.postMessage(n1+f1,"*"),f1}}function F0(){var n1=new MessageChannel;n1.port1.onmessage=function(s1){var f1=s1.data;Jv(f1)},Nv=function(){var s1=Bv(arguments);return n1.port2.postMessage(s1),s1}}function Q0(){var n1=xv.documentElement;Nv=function(){var s1=Bv(arguments),f1=xv.createElement("script");return f1.onreadystatechange=function(){Jv(s1),f1.onreadystatechange=null,n1.removeChild(f1),f1=null},n1.appendChild(f1),s1}}function j0(){Nv=function(){var n1=Bv(arguments);return setTimeout(Uv(Jv,n1),0),n1}}var i1=Object.getPrototypeOf&&Object.getPrototypeOf(nc);i1=i1&&i1.setTimeout?i1:nc,{}.toString.call(nc.process)==="[object process]"?v0():P0()?O0():nc.MessageChannel?F0():xv&&"onreadystatechange"in xv.createElement("script")?Q0():j0(),i1.setImmediate=Nv,i1.clearImmediate=C0})(new Function("return this")()),Xm.USE_CACHE=!1,Xm.USE_ENUM_INDEX=!1,Xm.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Km.DEFAULT_RESOLVER=ic,Km.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",nv.count=0,rv.i64tmp=function(nc){var sc,Zm=new qm(0,0);return sc=Zm,sc}(),dv.__toStr={}.toString,Cv.BYTES_PER_ELEMENT=1,Gv.queue=new Vr,Tv.memo=new tv,Av.TOLERANCE=1e-6,Av.EPSILON=1e-10,Av.VERSION="2.0.0",P1.Tvalues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],P1.Cvalues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],h1.THREADS=1,h1._init=!1,Z1.basePath="",ey.uuid=0,qv.main()}(typeof console<"u"?console:{log:function(){}},n,typeof y<"u"?y:typeof r<"u"?r:typeof self<"u"?self:this),n})})(wl$2);var Jc$1=wl$2.exports;const On$2=Qc$1(Jc$1);let Ti$2=class{constructor(){this.c0=0,this.c1=0,this.c2=0,this.c3=0}init(e,n,r,g){this.c0=e,this.c1=r,this.c2=-3*e+3*n-2*r-g,this.c3=2*e-2*n+r+g}initCatmullRom(e,n,r,g,$){this.init(n,r,$*(r-e),$*(g-n))}initNonuniformCatmullRom(e,n,r,g,$,y,k){let L=(n-e)/$-(r-e)/($+y)+(r-n)/y,V=(r-n)/y-(g-n)/(y+k)+(g-r)/k;L*=y,V*=y,this.init(n,r,L,V)}calc(e){const n=e*e,r=n*e;return this.c0+this.c1*e+this.c2*n+this.c3*r}},tu$1=class extends Os$1{constructor(e=[],n=!1,r="centripetal",g=.5){super(),this.isCatmullRomCurve3d=!0,this.type="CatmullRomCurve3d",this._tmp=new K$1,this._px=new Ti$2,this._py=new Ti$2,this._pz=new Ti$2,this._points=e.map($=>new W$3($)),this._closed=n,this._curveType=r,this._tension=g}get points(){return this._points}get closed(){return this._closed}get curveType(){return this._curveType}get tension(){return this._tension}get startPoint(){return this._points.length>0?this._points[0]:new W$3}get endPoint(){return this._points.length>0?this._points[this._points.length-1]:new W$3}get length(){if(this._points.length<2)return 0;let e=0;for(let n=1;n<this._points.length;n++)e+=this._points[n-1].distanceTo(this._points[n]);return this._closed&&this._points.length>2&&(e+=this._points[this._points.length-1].distanceTo(this._points[0])),e}getPoint(e,n=new W$3){const r=n,g=this._points,$=g.length;if($===0)return r.set(0,0,0);if($===1)return r.copy(g[0]);const y=($-(this._closed?0:1))*e;let k=Math.floor(y),L=y-k;this._closed?k+=k>0?0:(Math.floor(Math.abs(k)/$)+1)*$:L===0&&k===$-1&&(k=$-2,L=1);let V,z;this._closed||k>0?V=g[(k-1)%$]:(this._tmp.subVectors(g[0],g[1]).add(g[0]),V=new W$3(this._tmp.x,this._tmp.y,this._tmp.z));const j=g[k%$],ie=g[(k+1)%$];if(this._closed||k+2<$?z=g[(k+2)%$]:(this._tmp.subVectors(g[$-1],g[$-2]).add(g[$-1]),z=new W$3(this._tmp.x,this._tmp.y,this._tmp.z)),this._curveType==="centripetal"||this._curveType==="chordal"){const Oe=this._curveType==="chordal"?.5:.25;let ur=Math.pow(V.distanceToSquared(j),Oe),hr=Math.pow(j.distanceToSquared(ie),Oe),Vr=Math.pow(ie.distanceToSquared(z),Oe);hr<1e-4&&(hr=1),ur<1e-4&&(ur=hr),Vr<1e-4&&(Vr=hr),this._px.initNonuniformCatmullRom(V.x,j.x,ie.x,z.x,ur,hr,Vr),this._py.initNonuniformCatmullRom(V.y,j.y,ie.y,z.y,ur,hr,Vr),this._pz.initNonuniformCatmullRom(V.z,j.z,ie.z,z.z,ur,hr,Vr)}else this._curveType==="catmullrom"&&(this._px.initCatmullRom(V.x,j.x,ie.x,z.x,this._tension),this._py.initCatmullRom(V.y,j.y,ie.y,z.y,this._tension),this._pz.initCatmullRom(V.z,j.z,ie.z,z.z,this._tension));return r.set(this._px.calc(L),this._py.calc(L),this._pz.calc(L)),r}getPoints(e){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}setPoints(e){this._points=e.map(n=>new W$3(n)),this._boundingBoxNeedsUpdate=!0}setClosed(e){this._closed!==e&&(this._closed=e,this._boundingBoxNeedsUpdate=!0)}setCurveType(e){this._curveType=e}setTension(e){this._tension=e}transform(e){return this._points=this._points.map(n=>{const r=new W$3;return r.copy(n),r.applyMatrix4(e),r}),this._boundingBoxNeedsUpdate=!0,this}calculateBoundingBox(){if(this._points.length===0)return new Lt$2;const e=new Lt$2;return this._points.forEach(n=>{e.expandByPoint(n)}),e}},zn$2=class W_{constructor(e,n,r,g){this._degree=e,this._knots=[...n],this._controlPoints=r.map($=>({x:$.x,y:$.y,z:$.z})),this._weights=g?[...g]:new Array(r.length).fill(1)}degree(){return this._degree}knots(){return[...this._knots]}controlPoints(){return this._controlPoints.map(e=>({x:e.x,y:e.y,z:e.z}))}weights(){return[...this._weights]}point(e){const n=this._controlPoints.map(r=>[r.x,r.y,r.z]);return Ys(e,this._degree,this._knots,n,this._weights)}length(){const e=this._controlPoints.map(n=>[n.x,n.y,n.z]);return Hc(this._degree,this._knots,e,this._weights)}static byKnotsControlPointsWeights(e,n,r,g){return new W_(e,n,r,g)}static byPoints(e,n,r="Uniform"){let g;switch(r){case"Chord":g=Gc(n,e);break;case"SqrtChord":g=Wc(n,e);break;case"Uniform":default:g=jc(n,e.length);break}const $=e.map(k=>({x:k[0],y:k[1],z:k[2]})),y=new Array($.length).fill(1);return new W_(n,g,$,y)}getParameterRange(){const e=this._knots[this._degree],n=this._knots[this._knots.length-this._degree-1];return{start:e,end:n}}getPoints(e){const n=[],{start:r,end:g}=this.getParameterRange();for(let $=0;$<=e;$++){const y=r+(g-r)*($/e);n.push(this.point(y))}return n}isClosed(e=1e-6){const{start:n,end:r}=this.getParameterRange(),g=this.point(n),$=this.point(r),y=g[0]-$[0],k=g[1]-$[1],L=g[2]-$[2];return Math.sqrt(y*y+k*k+L*L)<e}static createFitPointsForClosedCurve(e){if(e.length<4)throw new Error("At least 4 points are required for a closed NURBS curve");const n=new tu$1(e,!0,"centripetal"),r=Math.max(50,e.length*2);return n.getPoints(r)}static createClosedCurve(e,n,r="Chord"){const g=this.createFitPointsForClosedCurve(e).map($=>[$.x,$.y,$.z]);return W_.byPoints(g,n,r)}},fn$3=class s2 extends Os$1{constructor(e,n,r,g,$){super();const y=arguments.length;if(y<2||y>5)throw Ke$1.ILLEGAL_PARAMETERS;if(this._degree=3,this._closed=!1,Array.isArray(n)){this._controlPoints=e;let k,L=3,V=!1;if(y>=3&&(Array.isArray(r)?(k=r,y>=4&&(L=g||3),y>=5&&(V=$)):r!==void 0&&(L=r||3,y>=4&&(V=g))),r===void 0&&y>=4&&(L=g||3,y>=5&&(V=$)),this._degree=L,this._closed=V,this._controlPoints.length<this._degree+1)throw Ke$1.ILLEGAL_PARAMETERS;const z=this.toVerbPoints(this._controlPoints);this._nurbsCurve=On$2.geom.NurbsCurve.byKnotsControlPointsWeights(this._degree,n,z,k)}else{if(this._fitPoints=e,this._knotParameterization=n,y>=3&&(this._degree=r||3),y>=4&&(this._closed=g),this._fitPoints.length<this._degree+1)throw Ke$1.ILLEGAL_PARAMETERS;const k=this.toNurbsPoints(this._fitPoints);this._nurbsCurve=On$2.geom.NurbsCurve.byPoints(k,this._degree),this._controlPoints=this.toGePoints(this._nurbsCurve.controlPoints())}}buildCurve(){if(this._fitPoints&&this._knotParameterization){if(this._closed){const e=zn$2.createFitPointsForClosedCurve(this._fitPoints),n=this.toNurbsPoints(e);this._nurbsCurve=On$2.geom.NurbsCurve.byPoints(n,this._degree)}else{const e=this.toNurbsPoints(this._fitPoints);this._nurbsCurve=On$2.geom.NurbsCurve.byPoints(e,this._degree)}this._controlPoints=this.toGePoints(this._nurbsCurve.controlPoints())}else if(this._controlPoints)if(this._closed){const e=zn$2.createFitPointsForClosedCurve(this._controlPoints),n=this.toNurbsPoints(e);this._nurbsCurve=On$2.geom.NurbsCurve.byPoints(n,this._degree),this._controlPoints=this.toGePoints(this._nurbsCurve.controlPoints())}else{const e=this._nurbsCurve.knots(),n=this._nurbsCurve.weights(),r=this.toVerbPoints(this._controlPoints);this._nurbsCurve=On$2.geom.NurbsCurve.byKnotsControlPointsWeights(this._degree,e,r,n)}}setClosed(e){this._closed!==e&&(this._closed=e,this._boundingBoxNeedsUpdate=!0,this.buildCurve())}get degree(){return this._degree}get knotParameterization(){return this._knotParameterization}get startPoint(){const e=this._nurbsCurve.knots(),n=this._nurbsCurve.degree(),r=e[n],g=this._nurbsCurve.point(r);return new W$3(g[0],g[1],g[2])}get endPoint(){const e=this._nurbsCurve.knots(),n=this._nurbsCurve.degree(),r=e[e.length-n-1],g=this._nurbsCurve.point(r);return new W$3(g[0],g[1],g[2])}get length(){return this._nurbsCurve.length()}getFitPointAt(e){if(!this._fitPoints)throw new Error("No fit points in this spline");const n=this._fitPoints.length,r=e<0||e>=n?n-1:e,g=this._fitPoints[r];return{x:g.x,y:g.y,z:g.z||0}}getControlPointAt(e){const n=this._controlPoints.length,r=e<0||e>=n?n-1:e;return this._controlPoints[r]}getPoints(e=100){const n=this._nurbsCurve,r=[],g=n.knots(),$=this._nurbsCurve.degree(),y=g[$],k=g[g.length-$-1],L=(k-y)/(e-1);for(let V=0;V<e;V++){const z=V===e-1?k:y+V*L,j=n.point(z);r.push(new W$3(j[0],j[1],j[2]))}return r}getCurvePoints(e,n){const r=[],g=e.knots(),$=g[3],y=(g[g.length-4]-$)/(n-1);for(let k=0;k<n;k++){const L=$+k*y;r.push(e.point(L))}return r}calculateBoundingBox(){const e=this.getPoints(100);return new Lt$2().setFromPoints(e)}get closed(){return this._closed}set closed(e){this.setClosed(e)}transform(e){return this._boundingBoxNeedsUpdate=!0,this}toNurbsPoints(e){const n=new Array(e.length);return e.forEach((r,g)=>{n[g]=[r.x,r.y,r.z||0]}),n}toVerbPoints(e){const n=new Array(e.length);return e.forEach((r,g)=>{n[g]=[r.x,r.y,r.z||0]}),n}toGePoints(e){const n=new Array(e.length);return e.forEach((r,g)=>{n[g]={x:r[0],y:r[1],z:r[2]}}),n}static createClosedSpline(e,n="Uniform",r=3){if(e.length<r+1)throw new Error(`At least ${r+1} points are required for a degree ${r} closed spline`);return new s2(e,n,r,!0)}};var Al$2=(t=>(t.ClosedFilled="",t.Dot="_DOT",t.DotSmall="_DOTSMALL",t.DotBlank="_DOTBLANK",t.Origin="_ORIGIN",t.Origin2="_ORIGIN2",t.Open="_OPEN",t.Open90="_OPEN90",t.Open30="_OPEN30",t.Closed="_CLOSED",t.Small="_SMALL",t.None="_NONE",t.Oblique="_OBLIQUE",t.BoxFilled="_BOXFILLED",t.Box="_BOXBLANK",t.ClosedBlank="_CLOSEDBLANK",t.DatumBlank="_DATUMBLANK",t.DatumFilled="_DATUMFILLED",t.Integral="_INTEGRAL",t.ArchTick="_ARCHTICK",t))(Al$2||{}),xa$2=(t=>(t[t.ByBlock=-2]="ByBlock",t[t.ByDIPs=-4]="ByDIPs",t[t.ByLayer=-1]="ByLayer",t[t.ByLineWeightDefault=-3]="ByLineWeightDefault",t[t.LineWeight000=0]="LineWeight000",t[t.LineWeight005=5]="LineWeight005",t[t.LineWeight009=9]="LineWeight009",t[t.LineWeight013=13]="LineWeight013",t[t.LineWeight015=15]="LineWeight015",t[t.LineWeight018=18]="LineWeight018",t[t.LineWeight020=20]="LineWeight020",t[t.LineWeight025=25]="LineWeight025",t[t.LineWeight030=30]="LineWeight030",t[t.LineWeight035=35]="LineWeight035",t[t.LineWeight040=40]="LineWeight040",t[t.LineWeight050=50]="LineWeight050",t[t.LineWeight053=53]="LineWeight053",t[t.LineWeight060=60]="LineWeight060",t[t.LineWeight070=70]="LineWeight070",t[t.LineWeight080=80]="LineWeight080",t[t.LineWeight090=90]="LineWeight090",t[t.LineWeight100=100]="LineWeight100",t[t.LineWeight106=106]="LineWeight106",t[t.LineWeight120=120]="LineWeight120",t[t.LineWeight140=140]="LineWeight140",t[t.LineWeight158=158]="LineWeight158",t[t.LineWeight200=200]="LineWeight200",t[t.LineWeight211=211]="LineWeight211",t))(xa$2||{}),Hr=(t=>(t[t.LEFT_TO_RIGHT=1]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=2]="RIGHT_TO_LEFT",t[t.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=4]="BOTTOM_TO_TOP",t[t.BY_STYLE=5]="BY_STYLE",t))(Hr||{}),Pe$3=(t=>(t[t.TopLeft=1]="TopLeft",t[t.TopCenter=2]="TopCenter",t[t.TopRight=3]="TopRight",t[t.MiddleLeft=4]="MiddleLeft",t[t.MiddleCenter=5]="MiddleCenter",t[t.MiddleRight=6]="MiddleRight",t[t.BottomLeft=7]="BottomLeft",t[t.BottomCenter=8]="BottomCenter",t[t.BottomRight=9]="BottomRight",t))(Pe$3||{}),Pl$2=(t=>(t[t.OPTIMIZED_2D=0]="OPTIMIZED_2D",t[t.WIREFRAME=1]="WIREFRAME",t[t.HIDDEN_LINE=2]="HIDDEN_LINE",t[t.FLAT_SHADED=3]="FLAT_SHADED",t[t.GOURAUD_SHADED=4]="GOURAUD_SHADED",t[t.FLAT_SHADED_WITH_WIREFRAME=5]="FLAT_SHADED_WITH_WIREFRAME",t[t.GOURAUD_SHADED_WITH_WIREFRAME=6]="GOURAUD_SHADED_WITH_WIREFRAME",t))(Pl$2||{}),Sl$2=(t=>(t[t.NON_ORTHOGRAPHIC=0]="NON_ORTHOGRAPHIC",t[t.TOP=1]="TOP",t[t.BOTTOM=2]="BOTTOM",t[t.FRONT=3]="FRONT",t[t.BACK=4]="BACK",t[t.LEFT=5]="LEFT",t[t.RIGHT=6]="RIGHT",t))(Sl$2||{}),Il$2=(t=>(t[t.ONE_DISTANT_LIGHT=0]="ONE_DISTANT_LIGHT",t[t.TWO_DISTANT_LIGHTS=1]="TWO_DISTANT_LIGHTS",t))(Il$2||{});let eu$1=class l2{constructor(){this._number=-1,this._id="",this._groupId="",this._centerPoint=new W$3,this._height=0,this._width=0,this._viewCenter=new W$3,this._viewHeight=0}get number(){return this._number}set number(e){this._number=e}get id(){return this._id}set id(e){this._id=e}get groupId(){return this._groupId}set groupId(e){this._groupId=e}get centerPoint(){return this._centerPoint}set centerPoint(e){this._centerPoint.copy(e)}get height(){return this._height}set height(e){this._height=e}get width(){return this._width}set width(e){this._width=e}get box(){const e=new Se$2;return e.setFromCenterAndSize(this.centerPoint,{x:this.width,y:this.height}),e}get viewCenter(){return this._viewCenter}set viewCenter(e){this._viewCenter.copy(e)}get viewHeight(){return this._viewHeight}set viewHeight(e){this._viewHeight=e}get viewWidth(){return this.viewHeight*(this.width/this.height)}get viewBox(){const e=new Se$2;return e.setFromCenterAndSize(this.viewCenter,{x:this.viewWidth,y:this.viewHeight}),e}clone(){const e=new l2;return e.id=this.id,e.groupId=this.groupId,e.number=this.number,e.centerPoint.copy(this.centerPoint),e.height=this.height,e.width=this.width,e.viewCenter.copy(this.viewCenter),e.viewHeight=this.viewHeight,e}copy(e){return this.id=e.id,this.groupId=e.groupId,this.number=e.number,this.centerPoint.copy(e.centerPoint),this.height=e.height,this.width=e.width,this.viewCenter.copy(e.viewCenter),this.viewHeight=e.viewHeight,this}};var dn$3=256,Ml$2=[],Bo$2=256,Vs;for(;dn$3--;)Ml$2[dn$3]=(dn$3+256).toString(16).substring(1);function ru$1(t){var e=0,n=11;if(!Vs||dn$3+n>Bo$2*2)for(Vs="",dn$3=0;e<Bo$2;e++)Vs+=Ml$2[Math.random()*256|0];return Vs.substring(dn$3,dn$3+++n)}let _n$1=class{constructor(e,n){e=e||{},Cs$1(e,{objectId:ru$1()}),this._attrs=new pc(e,n)}get attrs(){return this._attrs}getAttr(e){const n=this._attrs.get(e);if(n===void 0)throw new Error(`[AcDbObject] Attribute name '${e}' does't exist in this object!`);return n}getAttrWithoutException(e){return this._attrs.get(e)}setAttr(e,n){this._attrs.set(e,n)}get objectId(){return this.getAttr("objectId")}set objectId(e){this._attrs.set("objectId",e)}get ownerId(){return this.getAttr("ownerId")}set ownerId(e){this._attrs.set("ownerId",e)}get database(){return this._database?this._database:Gh$1().workingDatabase}set database(e){this._database=e}close(){}};const ka$2=class extends _n$1{constructor(){super(...arguments),this._layer="0",this._color=new Kr$1,this._lineType=Si$2,this._lineWeight=xa$2.ByLayer,this._linetypeScale=-1,this._visibility=!0,this._transparency=new fa$2}get type(){return this.constructor.typeName}get layer(){return this._layer}set layer(e){this._layer=e}get color(){return this._color}set color(e){this._color.copy(e)}get rgbColor(){let e=this.database.cecolor;if(this.color.isByLayer){const r=this.getLayerColor();r&&r.RGB!=null&&(e=r)}else this.color.isByBlock||this.color.RGB!=null&&(e=this.color);return e.RGB??16777215}get lineType(){return this._lineType}set lineType(e){this._lineType=e||Si$2}get lineWeight(){return this._lineWeight}set lineWeight(e){this._lineWeight=e}get linetypeScale(){return this._linetypeScale}set linetypeScale(e){this._linetypeScale=e}get visibility(){return this._visibility}set visibility(e){this._visibility=e}get transparency(){return this._transparency}set transparency(e){this._transparency=e.clone()}get properties(){return{type:this.type,groups:[this.getGeneralProperties()]}}subGetGripPoints(){return new Array}subGetOsnapPoints(e,n,r,g){}transformBy(e){return this}worldDraw(e,n){const r=e.subEntityTraits;return r.color=this.color,r.rgbColor=this.rgbColor,r.lineType=this.lineStyle,r.lineTypeScale=this.linetypeScale,r.lineWeight=this.lineWeight,r.transparency=this.transparency,r.layer=this.layer,"thickness"in this&&(r.thickness=this.thickness),this.subWorldDraw(e,n)}triggerModifiedEvent(){this.database.events.entityModified.dispatch({database:this.database,entity:this})}getGeneralProperties(){return{groupName:"general",properties:[{name:"handle",type:"int",editable:!1,accessor:{get:()=>this.objectId}},{name:"color",type:"color",editable:!0,accessor:{get:()=>this.color,set:e=>{this.color.copy(e)}}},{name:"layer",type:"string",editable:!0,accessor:{get:()=>this.layer,set:e=>{this.layer=e}}},{name:"linetype",type:"linetype",editable:!0,accessor:{get:()=>this.lineType,set:e=>{this.lineType=e}}},{name:"linetypeScale",type:"float",editable:!0,accessor:{get:()=>this.linetypeScale,set:e=>{this.linetypeScale=e}}},{name:"lineWeight",type:"lineweight",editable:!0,accessor:{get:()=>this.lineWeight,set:e=>{this.lineWeight=e}}},{name:"transparency",type:"transparency",editable:!0,accessor:{get:()=>this.transparency,set:e=>{this.transparency=e}}}]}}get lineStyle(){var e;const{type:n,name:r}=this.getLineType(),g=(e=this.database)==null?void 0:e.tables.linetypeTable.getAt(r);return g?{type:n,...g.linetype}:{type:n,name:r,standardFlag:0,description:"",totalPatternLength:0}}getLineType(){if(this.lineType==Si$2){const e=this.database.tables.layerTable.getAt(this.layer);if(e&&e.linetype)return{type:"ByLayer",name:e.linetype}}else return this.lineType==bc?{type:"ByBlock",name:Ui$1}:{type:"UserSpecified",name:this.lineType};return{type:"UserSpecified",name:Ui$1}}getLayerColor(){const e=this.database.tables.layerTable.getAt(this.layer);if(e==null)console.error(`The layer with name '${this.layer}' not found in drawing database!`);else return e.color;return null}attachEntityInfo(e){e&&(e.objectId=this.objectId,this.attrs.has("ownerId")&&(e.ownerId=this.ownerId),e.layerName=this.layer,e.visible=this.visibility)}};ka$2.typeName="Entity";let Ce$2=ka$2;const Ta$2=class extends Ce$2{};Ta$2.typeName="Curve";let Ne$1=Ta$2;var Ss$1=(t=>(t[t.SimplePoly=0]="SimplePoly",t[t.FitCurvePoly=1]="FitCurvePoly",t[t.QuadSplinePoly=2]="QuadSplinePoly",t[t.CubicSplinePoly=3]="CubicSplinePoly",t))(Ss$1||{});const Ca$2=class extends Ne$1{constructor(e,n,r=0,g=!1,$=0,y=0,k=null){super(),this._polyType=e,this._elevation=r;const L=k&&(k==null?void 0:k.length)===n.length,V=n.map((z,j)=>({x:z.x,y:z.y,bulge:L?k[j]:void 0}));this._geo=new Rn$2(V,g)}get polyType(){return this._polyType}set polyType(e){this._polyType=e}get elevation(){return this._elevation}set elevation(e){this._elevation=e}get closed(){return this._geo.closed}set closed(e){this._geo.closed=e}get geometricExtents(){const e=this._geo.box;return new Lt$2({x:e.min.x,y:e.min.y,z:this._elevation},{x:e.max.x,y:e.max.y,z:this._elevation})}subGetGripPoints(){const e=new Array;for(let n=0;n<this._geo.numberOfVertices;++n){const r=this._geo.getPointAt(n);e.push(new W$3(r.x,r.y,0))}return e}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.EndPoint:for(let $=0;$<this._geo.numberOfVertices;++$){const y=this._geo.getPointAt($);g.push(new W$3(y.x,y.y,0))}break}}subWorldDraw(e){const n=[];return this._geo.getPoints(100).forEach(r=>n.push(new W$3().set(r.x,r.y,this.elevation))),e.lines(n)}};Ca$2.typeName="2dPolyline";let qi$1=Ca$2;const Na$1=class extends Ce$2{constructor(){super(),this._position=new W$3,this._bulge=0,this._startWidth=0,this._endWidth=0,this._vertexType=0}get position(){return this._position}set position(e){this._position.copy(e)}get bulge(){return this._bulge}set bulge(e){this._bulge=e}get startWidth(){return this._startWidth}set startWidth(e){this._startWidth=e}get endWidth(){return this._endWidth}set endWidth(e){this._endWidth=e}get vertexType(){return this._vertexType}set vertexType(e){this._vertexType=e}get geometricExtents(){return new Lt$2().expandByPoint(this._position)}subGetGripPoints(){const e=new Array;return e.push(this._position),e}subGetOsnapPoints(e,n,r,g){g.push(this._position)}transformBy(e){return this._position.applyMatrix4(e),this}subWorldDraw(e){}};Na$1.typeName="2dVertex";var $s=(t=>(t[t.SimplePoly=0]="SimplePoly",t[t.QuadSplinePoly=1]="QuadSplinePoly",t[t.CubicSplinePoly=2]="CubicSplinePoly",t))($s||{});const La$2=class extends Ne$1{constructor(e,n,r=!1){super(),this._polyType=e,this._geo=new Rn$2(n,r)}get polyType(){return this._polyType}set polyType(e){this._polyType=e}get closed(){return this._geo.closed}set closed(e){this._geo.closed=e}get geometricExtents(){const e=this._geo.box;return new Lt$2({x:e.min.x,y:e.min.y,z:0},{x:e.max.x,y:e.max.y,z:0})}subGetGripPoints(){const e=new Array;for(let n=0;n<this._geo.numberOfVertices;++n){const r=this._geo.getPointAt(n);e.push(new W$3(r.x,r.y,0))}return e}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.EndPoint:for(let $=0;$<this._geo.numberOfVertices;++$){const y=this._geo.getPointAt($);g.push(new W$3(y.x,y.y,0))}break}}subWorldDraw(e){const n=[];return this._geo.getPoints(100).forEach(r=>n.push(new W$3().set(r.x,r.y,0))),e.lines(n)}};La$2.typeName="3dPolyline";let Yi$1=La$2;const Oa$1=class extends Ce$2{constructor(){super(),this._position=new W$3,this._vertexType=0}get position(){return this._position}set position(e){this._position.copy(e)}get vertexType(){return this._vertexType}set vertexType(e){this._vertexType=e}get geometricExtents(){return new Lt$2().expandByPoint(this._position)}subGetGripPoints(){const e=new Array;return e.push(this._position),e}subGetOsnapPoints(e,n,r,g){g.push(this._position)}transformBy(e){return this._position.applyMatrix4(e),this}subWorldDraw(e){}};Oa$1.typeName="3dVertex";const Ba$2=class extends Ne$1{constructor(e,n,r,g,$=K$1.Z_AXIS){super(),this._geo=new vl$2(e,n,r,g,$,K$1.X_AXIS)}get center(){return this._geo.center}set center(e){this._geo.center=e}get radius(){return this._geo.radius}set radius(e){this._geo.radius=e}get startAngle(){return this._geo.startAngle}set startAngle(e){this._geo.startAngle=e}get endAngle(){return this._geo.endAngle}set endAngle(e){this._geo.endAngle=e}get normal(){return this._geo.normal}set normal(e){this._geo.normal=e}get startPoint(){return this._geo.startPoint}get endPoint(){return this._geo.endPoint}get midPoint(){return this._geo.midPoint}get geometricExtents(){return this._geo.box}get closed(){return this._geo.closed}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"centerX",type:"float",editable:!0,accessor:{get:()=>this.center.x,set:e=>{this.center.x=e}}},{name:"centerY",type:"float",editable:!0,accessor:{get:()=>this.center.y,set:e=>{this.center.y=e}}},{name:"centerZ",type:"float",editable:!0,accessor:{get:()=>this.center.z,set:e=>{this.center.z=e}}},{name:"radius",type:"float",editable:!0,accessor:{get:()=>this.radius,set:e=>{this.radius=e}}},{name:"startAngle",type:"float",editable:!0,accessor:{get:()=>this.startAngle,set:e=>{this.startAngle=e}}},{name:"endAngle",type:"float",editable:!0,accessor:{get:()=>this.endAngle,set:e=>{this.endAngle=e}}},{name:"normalX",type:"float",editable:!0,accessor:{get:()=>this.normal.x,set:e=>{this.normal.x=e}}},{name:"normalY",type:"float",editable:!0,accessor:{get:()=>this.normal.y,set:e=>{this.normal.y=e}}},{name:"normalZ",type:"float",editable:!0,accessor:{get:()=>this.normal.z,set:e=>{this.normal.z=e}}},{name:"arcLength",type:"float",editable:!1,accessor:{get:()=>this._geo.length}},{name:"totalAngle",type:"float",editable:!1,accessor:{get:()=>It$3.radToDeg(Math.abs(this._geo.deltaAngle))}},{name:"area",type:"float",editable:!1,accessor:{get:()=>this._geo.area}}]}]}}subGetGripPoints(){const e=new Array;return e.push(this.center),e.push(this.startPoint),e.push(this.endPoint),e}subGetOsnapPoints(e,n,r,g){const $=this.startPoint,y=this.endPoint;switch(e){case Dt$2.EndPoint:g.push($),g.push(y);break;case Dt$2.MidPoint:g.push(this.midPoint);break;case Dt$2.Nearest:{const k=this._geo.nearestPoint(n);g.push(k)}break;case Dt$2.Perpendicular:break;case Dt$2.Tangent:{const k=this._geo.tangentPoints(n);g.push(...k);break}}}transformBy(e){return this._geo.transform(e),this}subWorldDraw(e){return e.circularArc(this._geo)}};Ba$2.typeName="Arc";let Xi$1=Ba$2;const za$2=class extends Ce$2{constructor(e){super(),this._blockName=e,this._position=new W$3,this._rotation=0,this._normal=new K$1(0,0,1),this._scaleFactors=new W$3(1,1,1)}get position(){return this._position}set position(e){this._position.copy(e)}get rotation(){return this._rotation}set rotation(e){this._rotation=e}get scaleFactors(){return this._scaleFactors}set scaleFactors(e){this._scaleFactors.copy(e)}get normal(){return this._normal}set normal(e){this._normal.copy(e).normalize()}get blockTableRecord(){return this.database.tables.blockTable.getAt(this._blockName)}subGetOsnapPoints(e,n,r,g){Dt$2.Insertion===e&&g.push(this._position)}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"blockName",type:"float",editable:!1,accessor:{get:()=>this._blockName}},{name:"positionX",type:"float",editable:!0,accessor:{get:()=>this.position.x,set:e=>{this.position.x=e}}},{name:"positionY",type:"float",editable:!0,accessor:{get:()=>this.position.y,set:e=>{this.position.y=e}}},{name:"positionZ",type:"float",editable:!0,accessor:{get:()=>this.position.z,set:e=>{this.position.z=e}}},{name:"rotation",type:"float",editable:!0,accessor:{get:()=>this.rotation,set:e=>{this.rotation=e}}},{name:"scaleFactorsX",type:"float",editable:!0,accessor:{get:()=>this.scaleFactors.x,set:e=>{this.scaleFactors.x=e}}},{name:"scaleFactorsY",type:"float",editable:!0,accessor:{get:()=>this.scaleFactors.y,set:e=>{this.scaleFactors.y=e}}},{name:"scaleFactorsZ",type:"float",editable:!0,accessor:{get:()=>this.scaleFactors.z,set:e=>{this.scaleFactors.z=e}}},{name:"normalX",type:"float",editable:!0,accessor:{get:()=>this.normal.x,set:e=>{this.normal.x=e}}},{name:"normalY",type:"float",editable:!0,accessor:{get:()=>this.normal.y,set:e=>{this.normal.y=e}}},{name:"normalZ",type:"float",editable:!0,accessor:{get:()=>this.normal.z,set:e=>{this.normal.z=e}}}]}]}}get geometricExtents(){const e=new Lt$2,n=this.blockTableRecord;if(n!=null){const $=n.newIterator();for(const y of $)e.union(y.geometricExtents)}const r=new mn$3().setFromEuler(new $c(this.rotation,0,0)),g=new gn$3;return g.compose(this.position,r,this.scaleFactors),e.applyMatrix4(g),e}subWorldDraw(e){const n=[],r=this.blockTableRecord;if(r!=null){const g=this.computeTransformMatrix(),$=Ns$1.instance.draw(e,r,this.rgbColor,!0,g,this.normal);return this.attachEntityInfo($),$}else{const g=e.group(n);return this.attachEntityInfo(g),g}}computeTransformMatrix(){const e=new mn$3;return e.setFromAxisAngle(K$1.Z_AXIS,this.rotation),new gn$3().compose(this._position,e,this._scaleFactors)}};za$2.typeName="BlockReference";let ks$1=za$2;const Ra$1=class extends Ne$1{constructor(e,n,r=K$1.Z_AXIS){super(),this._geo=new vl$2(e,n,0,Qt$2,r,K$1.X_AXIS)}get center(){return this._geo.center}set center(e){this._geo.center=e}get radius(){return this._geo.radius}set radius(e){this._geo.radius=e}get normal(){return this._geo.normal}get geometricExtents(){return this._geo.box}get closed(){return this._geo.closed}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.Center:case Dt$2.Centroid:g.push(this._geo.center);break;case Dt$2.Quadrant:g.push(this._geo.getPointAtAngle(0)),g.push(this._geo.getPointAtAngle(Math.PI/2)),g.push(this._geo.getPointAtAngle(Math.PI)),g.push(this._geo.getPointAtAngle(Math.PI/2*3));break;case Dt$2.Nearest:{const $=this._geo.nearestPoint(n);g.push($)}break;case Dt$2.Tangent:{const $=this._geo.tangentPoints(n);g.push(...$);break}}}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"centerX",type:"float",editable:!0,accessor:{get:()=>this.center.x,set:e=>{this.center.x=e}}},{name:"centerY",type:"float",editable:!0,accessor:{get:()=>this.center.y,set:e=>{this.center.y=e}}},{name:"centerZ",type:"float",editable:!0,accessor:{get:()=>this.center.z,set:e=>{this.center.z=e}}},{name:"radius",type:"float",editable:!0,accessor:{get:()=>this.radius,set:e=>{this.radius=e}}},{name:"normalX",type:"float",editable:!0,accessor:{get:()=>this.normal.x,set:e=>{this.normal.x=e}}},{name:"normalY",type:"float",editable:!0,accessor:{get:()=>this.normal.y,set:e=>{this.normal.y=e}}},{name:"normalZ",type:"float",editable:!0,accessor:{get:()=>this.normal.z,set:e=>{this.normal.z=e}}},{name:"diameter",type:"float",editable:!1,accessor:{get:()=>this._geo.radius*2}},{name:"perimeter",type:"float",editable:!1,accessor:{get:()=>this._geo.length}},{name:"area",type:"float",editable:!1,accessor:{get:()=>this._geo.area}}]}]}}subGetGripPoints(){const e=new Array;return e.push(this.center),e}transformBy(e){return this._geo.transform(e),this}subWorldDraw(e){return e.circularArc(this._geo)}};Ra$1.typeName="Circle";let Ki$1=Ra$1;const Fa$1=class extends Ne$1{constructor(e,n,r,g,$,y,k){super(),this._geo=new ba$2(e,n,r,g,$,y,k)}get center(){return this._geo.center}set center(e){this._geo.center=e}get majorAxisRadius(){return this._geo.majorAxisRadius}set majorAxisRadius(e){this._geo.majorAxisRadius=e}get minorAxisRadius(){return this._geo.minorAxisRadius}set minorAxisRadius(e){this._geo.minorAxisRadius=e}get startAngle(){return this._geo.startAngle}set startAngle(e){this._geo.startAngle=e}get endAngle(){return this._geo.endAngle}set endAngle(e){this._geo.endAngle=e}get normal(){return this._geo.normal}set normal(e){this._geo.normal=e}get geometricExtents(){return this._geo.box}get closed(){return this._geo.closed}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.EndPoint:this.closed||(g.push(this._geo.startPoint),g.push(this._geo.endPoint));break;case Dt$2.MidPoint:this.closed||g.push(this._geo.midPoint);break;case Dt$2.Quadrant:this.closed&&(g.push(this._geo.getPointAtAngle(0)),g.push(this._geo.getPointAtAngle(Math.PI/2)),g.push(this._geo.getPointAtAngle(Math.PI)),g.push(this._geo.getPointAtAngle(Math.PI/2*3)));break}}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"centerX",type:"float",editable:!0,accessor:{get:()=>this.center.x,set:e=>{this.center.x=e}}},{name:"centerY",type:"float",editable:!0,accessor:{get:()=>this.center.y,set:e=>{this.center.y=e}}},{name:"centerZ",type:"float",editable:!0,accessor:{get:()=>this.center.z,set:e=>{this.center.z=e}}},{name:"majorAxisRadius",type:"float",editable:!0,accessor:{get:()=>this.majorAxisRadius,set:e=>{this.center.x=e}}},{name:"minorAxisRadius",type:"float",editable:!0,accessor:{get:()=>this.minorAxisRadius,set:e=>{this.minorAxisRadius=e}}},{name:"startAngle",type:"float",editable:!0,accessor:{get:()=>this.startAngle,set:e=>{this.startAngle=e}}},{name:"endAngle",type:"float",editable:!0,accessor:{get:()=>this.endAngle,set:e=>{this.endAngle=e}}},{name:"normalX",type:"float",editable:!0,accessor:{get:()=>this.normal.x,set:e=>{this.normal.x=e}}},{name:"normalY",type:"float",editable:!0,accessor:{get:()=>this.normal.y,set:e=>{this.normal.y=e}}},{name:"normalZ",type:"float",editable:!0,accessor:{get:()=>this.normal.z,set:e=>{this.normal.z=e}}},{name:"length",type:"float",editable:!1,accessor:{get:()=>this._geo.length}},{name:"area",type:"float",editable:!1,accessor:{get:()=>this._geo.area}}]}]}}subWorldDraw(e){return e.ellipticalArc(this._geo)}};Fa$1.typeName="Ellipse";let $i$2=Fa$1;const Da$1=class extends Ce$2{constructor(){super(),this._vertices=[new W$3,new W$3,new W$3],this._edgeInvisibilities=0}getVertexAt(e){return e<0?this._vertices[0]:e>this._vertices.length?this._vertices[this._vertices.length-1]:this._vertices[e]}setVertexAt(e,n){if(e<0&&this._vertices[0].copy(n),e>=3)return this._vertices.length===3&&this._vertices.push(new W$3),this._vertices[3].copy(n);this._vertices[e].copy(n)}setEdgeInvisibilities(e){this._edgeInvisibilities=e}isEdgeVisibleAt(e){if(e<0||e>3)throw new Error("Index out of range");return(this._edgeInvisibilities&1<<e)===0}makeEdgeInvisibleAt(e){if(e<0||e>3)throw new Error("Index out of range");this._edgeInvisibilities=this._edgeInvisibilities|1<<e}get geometricExtents(){return new Lt$2().setFromPoints(this._vertices)}subGetGripPoints(){const e=new Array;return e.push(...this._vertices),e}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.EndPoint:g.push(...this._vertices);break}}subWorldDraw(e){const n=this._vertices.length,r=new Float32Array(n*3),g=new Uint16Array(n*2);for(let $=0;$<n;$++)r[$*3]=this._vertices[$].x,r[$*3+1]=this._vertices[$].y,r[$*3+2]=this._vertices[$].z,this.isEdgeVisibleAt($)&&(g[$*2]=$,g[$*2+1]=($+1)%4);return e.lineSegments(r,3,g)}};Da$1.typeName="Face";let Zi$1=Da$1;var Zs=(t=>(t[t.UserDefined=0]="UserDefined",t[t.Predefined=1]="Predefined",t[t.Custom=2]="Custom",t))(Zs||{});const Ua$1=class extends Ce$2{constructor(){super(),this._elevation=0,this._geo=new ya$2,this._isSolidFill=!1,this._definitionLines=[],this._patternName="",this._patternType=1,this._patternAngle=0,this._patternScale=1,this._hatchStyle=0}get isSolidFill(){return this._isSolidFill||this._patternName.toUpperCase()==="SOLID"}set isSolidFill(e){this._isSolidFill=e}get definitionLines(){return this._definitionLines}get patternName(){return this._patternName}set patternName(e){this._patternName=e}get patternType(){return this._patternType}set patternType(e){this._patternType=e}get patternAngle(){return this._patternAngle}set patternAngle(e){this._patternAngle=e}get patternScale(){return this._patternScale}set patternScale(e){this._patternScale=e}get hatchStyle(){return this._hatchStyle}set hatchStyle(e){this._hatchStyle=e}get elevation(){return this._elevation}set elevation(e){this._elevation=e}add(e){this._geo.add(e)}get geometricExtents(){const e=this._geo.box;return new Lt$2({x:e.min.x,y:e.min.y,z:this._elevation},{x:e.max.x,y:e.max.y,z:this._elevation})}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"pattern",properties:[{name:"patternType",type:"enum",editable:!0,options:[{label:Zs[0],value:0},{label:Zs[1],value:1},{label:Zs[2],value:2}],accessor:{get:()=>this.patternType,set:e=>{this.patternType=e}}},{name:"patternName",type:"string",editable:!0,accessor:{get:()=>this.patternName,set:e=>{this.patternName=e}}},{name:"patternAngle",type:"float",editable:!0,accessor:{get:()=>this.patternAngle,set:e=>{this.patternAngle=e}}},{name:"patternScale",type:"float",editable:!0,accessor:{get:()=>this.patternScale,set:e=>{this.patternScale=e}}}]},{groupName:"geometry",properties:[{name:"elevation",type:"float",editable:!0,accessor:{get:()=>this.elevation,set:e=>{this.elevation=e}}},{name:"area",type:"float",editable:!1,accessor:{get:()=>this._geo.area}}]}]}}subWorldDraw(e){const n=e.subEntityTraits;return n.fillType={solidFill:this.isSolidFill,patternAngle:this.patternAngle,patternLines:this.definitionLines},e.area(this._geo)}};Ua$1.typeName="Hatch";let ii$2=Ua$1;const Va$2=class extends Ne$1{constructor(){super(),this._isSplined=!1,this._updated=!1,this._hasArrowHead=!1,this._vertices=[],this._dimensionStyle="",this._hasHookLine=!1,this._annoType=3}get isSplined(){return this._isSplined}set isSplined(e){this._isSplined=e}get hasArrowHead(){return this._hasArrowHead}set hasArrowHead(e){this._hasArrowHead=e}get hasHookLine(){return this._hasHookLine}set hasHookLine(e){this._hasHookLine=e}get numVertices(){return this._vertices.length}get dimensionStyle(){return this._dimensionStyle}set dimensionStyle(e){this._dimensionStyle=e}get annoType(){return this._annoType}set annoType(e){this._annoType=e}appendVertex(e){this._vertices.push(new W$3().copy(e)),this._updated=!0}setVertexAt(e,n){throw(e<0||e>=this._vertices.length)&&(this._vertices[e].copy(n),this._updated=!0),new Error("The vertex index is out of range!")}vertexAt(e){throw(e<0||e>=this._vertices.length)&&this._vertices[e],new Error("The vertex index is out of range!")}get geometricExtents(){return this._isSplined&&this.splineGeo?this.splineGeo.calculateBoundingBox():new Lt$2().setFromPoints(this._vertices)}get closed(){return!1}set closed(e){}subWorldDraw(e){if(this.isSplined&&this.splineGeo){const n=this.splineGeo.getPoints(100);return e.lines(n)}else return e.lines(this._vertices)}get splineGeo(){return this.createSplineIfNeeded(),this._splineGeo}createSplineIfNeeded(){this.isSplined&&this.numVertices>=2&&(this._splineGeo==null||this._updated)&&(this._splineGeo=new fn$3(this._vertices,"Uniform"),this._updated=!1)}};Va$2.typeName="Leader";let Qi$1=Va$2;var Dt$2=(t=>(t[t.EndPoint=1]="EndPoint",t[t.MidPoint=2]="MidPoint",t[t.Center=3]="Center",t[t.Node=4]="Node",t[t.Quadrant=5]="Quadrant",t[t.Insertion=7]="Insertion",t[t.Perpendicular=8]="Perpendicular",t[t.Tangent=9]="Tangent",t[t.Nearest=10]="Nearest",t[t.Centroid=11]="Centroid",t))(Dt$2||{});const ja$2=class extends Ne$1{constructor(e,n){super(),this._geo=new Ms$1(e,n)}get startPoint(){return this._geo.startPoint}set startPoint(e){this._geo.startPoint=e}get endPoint(){return this._geo.endPoint}set endPoint(e){this._geo.endPoint=e}get midPoint(){return this._geo.midPoint}get geometricExtents(){return this._geo.box}get closed(){return!1}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"startX",type:"float",editable:!0,accessor:{get:()=>this.startPoint.x,set:e=>{this.startPoint.x=e}}},{name:"startY",type:"float",editable:!0,accessor:{get:()=>this.startPoint.y,set:e=>{this.startPoint.y=e}}},{name:"startZ",type:"float",editable:!0,accessor:{get:()=>this.startPoint.z,set:e=>{this.startPoint.z=e}}},{name:"endX",type:"float",editable:!0,accessor:{get:()=>this.endPoint.x,set:e=>{this.endPoint.x=e}}},{name:"endY",type:"float",editable:!0,accessor:{get:()=>this.endPoint.y,set:e=>{this.endPoint.y=e}}},{name:"endZ",type:"float",editable:!0,accessor:{get:()=>this.endPoint.z,set:e=>{this.endPoint.z=e}}},{name:"length",type:"float",editable:!1,accessor:{get:()=>this._geo.length}}]}]}}subGetGripPoints(){const e=new Array;return e.push(this.midPoint),e.push(this.startPoint),e.push(this.endPoint),e}subGetOsnapPoints(e,n,r,g){const $=this.startPoint,y=this.endPoint;switch(e){case Dt$2.EndPoint:g.push($),g.push(y);break;case Dt$2.MidPoint:g.push(this.midPoint);break;case Dt$2.Nearest:{const k=this._geo.project(n);g.push(k)}break;case Dt$2.Perpendicular:{const k=this._geo.perpPoint(n);g.push(k)}break;case Dt$2.Tangent:break}}transformBy(e){return this._geo.transform(e),this}subWorldDraw(e){const n=this.startPoint,r=this.endPoint,g=[new W$3(n.x,n.y,0),new W$3(r.x,r.y,0)];return e.lines(g)}};ja$2.typeName="Line";let ai$2=ja$2;const Ga$1=class extends Ce$2{constructor(){super(),this._contents="",this._height=0,this._width=0,this._lineSpacingFactor=.25,this._lineSpacingStyle=0,this._backgroundFill=!1,this._backgroundFillColor=13158600,this._backgroundFillTransparency=1,this._backgroundScaleFactor=1,this._rotation=0,this._styleName="",this._location=new W$3,this._attachmentPoint=Pe$3.TopLeft,this._direction=new K$1(1,0,0),this._drawingDirection=Hr.LEFT_TO_RIGHT}get contents(){return this._contents}set contents(e){this._contents=e}get height(){return this._height}set height(e){this._height=e}get width(){return this._width}set width(e){this._width=e}get rotation(){return this._rotation}set rotation(e){this._rotation=e}get lineSpacingFactor(){return this._lineSpacingFactor}set lineSpacingFactor(e){this._lineSpacingFactor=e}get lineSpacingStyle(){return this._lineSpacingStyle}set lineSpacingStyle(e){this._lineSpacingStyle=e}get backgroundFill(){return this._backgroundFill}set backgroundFill(e){this._backgroundFill=e,this._backgroundFillColor=13158600}get backgroundFillColor(){return this._backgroundFillColor}set backgroundFillColor(e){this._backgroundFillColor=e}get backgroundFillTransparency(){return this._backgroundFillTransparency}set backgroundFillTransparency(e){this._backgroundFillTransparency=e}get backgroundScaleFactor(){return this._backgroundScaleFactor}set backgroundScaleFactor(e){this._backgroundScaleFactor=e}get styleName(){return this._styleName}set styleName(e){this._styleName=e}get location(){return this._location}set location(e){this._location.copy(e)}get attachmentPoint(){return this._attachmentPoint}set attachmentPoint(e){this._attachmentPoint=e}get direction(){return this._direction}set direction(e){this._direction.copy(e)}get drawingDirection(){return this._drawingDirection}set drawingDirection(e){this._drawingDirection=e}get geometricExtents(){return new Lt$2}subGetOsnapPoints(e,n,r,g){Dt$2.Insertion===e&&g.push(this._location)}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"text",properties:[{name:"contents",type:"string",editable:!0,accessor:{get:()=>this.contents,set:e=>{this.contents=e}}},{name:"styleName",type:"string",editable:!0,accessor:{get:()=>this.styleName,set:e=>{this.styleName=e}}},{name:"attachmentPoint",type:"enum",editable:!0,options:[{label:Pe$3[1],value:1},{label:Pe$3[2],value:2},{label:Pe$3[3],value:3},{label:Pe$3[4],value:4},{label:Pe$3[5],value:5},{label:Pe$3[6],value:6},{label:Pe$3[7],value:7},{label:Pe$3[8],value:8},{label:Pe$3[9],value:9}],accessor:{get:()=>this.attachmentPoint,set:e=>{this.attachmentPoint=e}}},{name:"drawingDirection",type:"enum",editable:!0,options:[{label:Hr[1],value:1},{label:Hr[2],value:2},{label:Hr[3],value:3},{label:Hr[4],value:4},{label:Hr[5],value:5}],accessor:{get:()=>this.drawingDirection,set:e=>{this.drawingDirection=e}}},{name:"textHeight",type:"float",editable:!0,accessor:{get:()=>this.height,set:e=>{this.height=e}}},{name:"rotation",type:"float",editable:!0,accessor:{get:()=>this.rotation,set:e=>{this.rotation=e}}},{name:"lineSpacingFactor",type:"float",editable:!0,accessor:{get:()=>this.lineSpacingFactor,set:e=>{this.lineSpacingFactor=e}}},{name:"definedWidth",type:"float",editable:!0,accessor:{get:()=>this.width,set:e=>{this.width=e}}},{name:"directionX",type:"float",editable:!0,accessor:{get:()=>this.direction.x,set:e=>{this.direction.x=e}}},{name:"directionY",type:"float",editable:!0,accessor:{get:()=>this.direction.y,set:e=>{this.direction.y=e}}},{name:"directionZ",type:"float",editable:!0,accessor:{get:()=>this.direction.z,set:e=>{this.direction.z=e}}}]},{groupName:"geometry",properties:[{name:"locationX",type:"float",editable:!0,accessor:{get:()=>this.location.x,set:e=>{this.location.x=e}}},{name:"locationY",type:"float",editable:!0,accessor:{get:()=>this.location.y,set:e=>{this.location.y=e}}},{name:"locationZ",type:"float",editable:!0,accessor:{get:()=>this.location.z,set:e=>{this.location.z=e}}}]}]}}getTextStyle(){const e=this.database.tables.textStyleTable;let n=e.getAt(this.styleName);return n||(n=e.getAt("STANDARD")||e.getAt("Standard")),n.textStyle}subWorldDraw(e,n){const r={text:this.contents,height:this.height,width:this.width,position:this.location,rotation:this.rotation,directionVector:this.direction,attachmentPoint:this.attachmentPoint,drawingDirection:this.drawingDirection,lineSpaceFactor:this.lineSpacingFactor};return e.mtext(r,this.getTextStyle(),n)}};Ga$1.typeName="MText";let oi$2=Ga$1;const Wa$2=class extends Ne$1{constructor(e,n,r,g,$){super();const y=+(e!==void 0)+ +(n!==void 0)+ +(r!==void 0)+ +(g!==void 0)+ +($!==void 0);if(y<2||y>5)throw Ke$1.ILLEGAL_PARAMETERS;Array.isArray(n)?this._geo=new fn$3(e,n,r,g,$):this._geo=new fn$3(e,n,r,g)}get geometricExtents(){return this._geo.box}get closed(){return this._geo.closed}set closed(e){this._geo.closed=e}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.EndPoint:g.push(this._geo.startPoint),g.push(this._geo.endPoint);break}}subWorldDraw(e){const n=this._geo.getPoints(100);return e.lines(n)}};Wa$2.typeName="Spline";let li$2=Wa$2;const ou$1=new K$1,Ha$2=class extends ks$1{constructor(e,n,r){super(e),this._attachmentPoint=Pe$3.TopLeft,this._numColumns=r,this._numRows=n,this._columnWidth=new Array(r),this._rowHeight=new Array(n),this._cells=new Array(n*r)}get attachmentPoint(){return this._attachmentPoint}set attachmentPoint(e){this._attachmentPoint=e}get numRows(){return this._numRows}set numRows(e){this._numRows=e}get numColumns(){return this._numColumns}set numColumns(e){this._numColumns=e}numContents(e,n){return 1}rowHeight(e){return this._rowHeight[e]}setRowHeight(e,n){this._rowHeight[e]=n}setUniformRowHeight(e){this._rowHeight.fill(e)}columnWidth(e){return this._columnWidth[e]}setUniformColumnWidth(e){this._columnWidth.fill(e)}setColumnWidth(e,n){this._columnWidth[e]=n}cell(e){if(!(e<0||e>=this._cells.length))return this._cells[e]}setCell(e,n){this._cells[e]=n}textString(e,n,r){return this._cells[e*n].text}setTextString(e,n,r){this._cells[e*n].text=r}isEmpty(e,n){return!this._cells[e*n].text}get geometricExtents(){return new Lt$2}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"table",properties:[{name:"numRows",type:"string",editable:!0,accessor:{get:()=>this.numRows,set:e=>{this.numRows=e}}},{name:"numColumns",type:"float",editable:!0,accessor:{get:()=>this.numColumns,set:e=>{this.numColumns=e}}},{name:"tableWidth",type:"float",editable:!1,accessor:{get:()=>this._columnWidth.reduce((e,n)=>e+n,0)}},{name:"tableHeight",type:"float",editable:!1,accessor:{get:()=>this._rowHeight.reduce((e,n)=>e+n,0)}}]},{groupName:"geometry",properties:[{name:"positionX",type:"float",editable:!0,accessor:{get:()=>this.position.x,set:e=>{this.position.x=e}}},{name:"positionY",type:"float",editable:!0,accessor:{get:()=>this.position.y,set:e=>{this.position.y=e}}},{name:"positionZ",type:"float",editable:!0,accessor:{get:()=>this.position.z,set:e=>{this.position.z=e}}}]}]}}subWorldDraw(e){let n=0,r=0;const g=new Uint16Array(this.numColumns*this.numRows*8),$=new Float32Array((this.numColumns+1)*(this.numRows+1)*3);let y=0;for(let ie=0;ie<=this.numRows;ie++){n-=ie>0?this.rowHeight(ie-1):0,r=0;for(let Oe=0;Oe<=this.numColumns;Oe++)r+=Oe>0?this.columnWidth(Oe-1):0,$[y++]=r,$[y++]=n,$[y++]=0}const k=[],L=new Array(this.numRows*this.numColumns).fill(!1);r=0,y=0;let V=0;for(let ie=0;ie<this.numColumns;ie++){r+=ie>0?this.columnWidth(ie-1):0,n=0;for(let Oe=0;Oe<this.numRows;Oe++){n+=Oe>0?this.rowHeight(Oe-1):0;const ur=this.cell(Oe*this.numColumns+ie);if(V=Oe*this.numColumns+ie,ur&&!L[V]){const hr=ur.borderWidth??1,Vr=ur.borderHeight??1;this.fillVisited(L,V,this.numColumns,hr,Vr),g[y++]=ie+Oe*(this.numColumns+1),g[y++]=ie+Oe*(this.numColumns+1)+hr;const dr=$[g[y-1]*3]-r,ec=ie+(Oe+Vr)*(this.numColumns+1)+hr;ie+hr==this.numColumns&&(g[y++]=ie+Oe*(this.numColumns+1)+hr,g[y++]=ec);const tc=-$[ec*3+1]-n;if(Oe+Vr==this.numRows&&(g[y++]=ie+(Oe+Vr)*(this.numColumns+1)+Vr,g[y++]=ie+(Oe+Vr)*(this.numColumns+1)),g[y++]=ie+(Oe+Vr)*(this.numColumns+1),g[y++]=ie+Oe*(this.numColumns+1),ur.text){const Xs=ur.attachmentPoint||this.attachmentPoint||Pe$3.MiddleCenter,rc=this.getTableTextOffset(Xs,dr,tc),ic={text:ur.text,height:ur.textHeight,width:dr,position:ou$1.set(r,-n,0).clone().add(rc),rotation:this.rotation,attachmentPoint:Xs},_c=this.getTextStyle(ur);k.push(e.mtext(ic,_c))}}}}k.push(e.lineSegments($,3,g));const z=e.group(k),j=new mn$3;return j.setFromAxisAngle(K$1.Z_AXIS,this.rotation),Fo$2.compose(this.position,j,this.scaleFactors),z.applyMatrix(Fo$2),this.attachEntityInfo(z),z}fillVisited(e,n,r,g,$){if($==1&&g==1)e[n]=!0;else for(let y=0;y<g;++y)for(let k=0;k<$;++k)e[n+y+k*r]=!0}getTextStyle(e){const n=this.database.tables.textStyleTable;let r;return e.textStyle&&(r=n.getAt(e.textStyle)),r||(r=n.getAt("STANDARD")||n.getAt("Standard")),r.textStyle}getTableTextOffset(e,n,r){const g=new K$1;switch(e){case 1:break;case 2:g.setX(n/2);break;case 3:g.setX(n);break;case 4:g.setY(-r/2);break;case 5:g.set(n/2,-r/2,0);break;case 6:g.set(n,-r/2,0);break;case 7:g.setY(-r);break;case 8:g.set(n/2,-r,0);break;case 9:g.set(n,-r,0);break}return g}};Ha$2.typeName="Table";let Ji$1=Ha$2;const Fo$2=new gn$3,qa$2=class extends Ce$2{constructor(){super(),this._textString="",this._height=0,this._thickness=1,this._position=new W$3,this._rotation=0,this._oblique=0,this._horizontalMode=0,this._verticalModel=2,this._styleName="",this._widthFactor=1}get textString(){return this._textString}set textString(e){this._textString=e}get thickness(){return this._thickness}set thickness(e){this._thickness=e}get height(){return this._height}set height(e){this._height=e}get position(){return this._position}set position(e){this._position.copy(e)}get rotation(){return this._rotation}set rotation(e){this._rotation=e}get oblique(){return this._oblique}set oblique(e){this._oblique=e}get horizontalMode(){return this._horizontalMode}set horizontalMode(e){this._horizontalMode=e}get verticalMode(){return this._verticalModel}set verticalMode(e){this._verticalModel=e}get styleName(){return this._styleName}set styleName(e){this._styleName=e}get widthFactor(){return this._widthFactor}set widthFactor(e){this._widthFactor=e}get geometricExtents(){return new Lt$2}subGetOsnapPoints(e,n,r,g){Dt$2.Insertion===e&&g.push(this._position)}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"text",properties:[{name:"contents",type:"string",editable:!0,accessor:{get:()=>this.textString,set:e=>{this.textString=e}}},{name:"styleName",type:"string",editable:!0,accessor:{get:()=>this.styleName,set:e=>{this.styleName=e}}},{name:"textHeight",type:"float",editable:!0,accessor:{get:()=>this.height,set:e=>{this.height=e}}},{name:"rotation",type:"float",editable:!0,accessor:{get:()=>this.rotation,set:e=>{this.rotation=e}}},{name:"widthFactor",type:"float",editable:!0,accessor:{get:()=>this.widthFactor,set:e=>{this.widthFactor=e}}},{name:"oblique",type:"float",editable:!0,accessor:{get:()=>this.oblique,set:e=>{this.oblique=e}}}]},{groupName:"geometry",properties:[{name:"positionX",type:"float",editable:!0,accessor:{get:()=>this.position.x,set:e=>{this.position.x=e}}},{name:"positionY",type:"float",editable:!0,accessor:{get:()=>this.position.y,set:e=>{this.position.y=e}}},{name:"positionZ",type:"float",editable:!0,accessor:{get:()=>this.position.z,set:e=>{this.position.z=e}}}]}]}}getTextStyle(){const e=this.database.tables.textStyleTable;let n=e.getAt(this.styleName);return n||(n=e.getAt("STANDARD")||e.getAt("Standard")),n.textStyle}subWorldDraw(e,n){const r={text:this.textString,height:this.height,width:1/0,widthFactor:this.widthFactor,position:this.position,rotation:this.rotation,drawingDirection:Hr.BOTTOM_TO_TOP,attachmentPoint:Pe$3.BottomLeft};return e.mtext(r,this.getTextStyle(),n)}};qa$2.typeName="Text";let ta$2=qa$2;const Ya$2=class extends Ne$1{constructor(){super(),this._elevation=0,this._thickness=1,this._vertices=[new W$3,new W$3,new W$3,new W$3]}get elevation(){return this._elevation}set elevation(e){this._elevation=e}get closed(){return!0}get thickness(){return this._thickness}set thickness(e){this._thickness=e}getPointAt(e){return e<0?this._vertices[0]:e>3?this._vertices[3]:this._vertices[e]}setPointAt(e,n){if(e<0&&this._vertices[0].copy(n),e>3)return this._vertices[3].copy(n);this._vertices[e].copy(n)}get geometricExtents(){return new Lt$2().setFromPoints(this._vertices)}subGetGripPoints(){const e=new Array;return e.push(...this._vertices),e}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.EndPoint:g.push(...this._vertices);break}}subWorldDraw(e){const n=new Rn$2(this._vertices,!0),r=new ya$2;r.add(n);const g=e.subEntityTraits;return g.fillType={solidFill:!0,patternAngle:0,patternLines:[]},e.area(r)}};Ya$2.typeName="Trace";let ea$2=Ya$2;const Xa$2=class extends Ne$1{constructor(){super(),this._elevation=0,this._geo=new Rn$2}get numberOfVertices(){return this._geo.numberOfVertices}get elevation(){return this._elevation}set elevation(e){this._elevation=e}get closed(){return this._geo.closed}set closed(e){this._geo.closed=e}addVertexAt(e,n,r=0,g=-1,$=-1){const y=g<0?void 0:g,k=$<0?void 0:$,L={x:n.x,y:n.y,bulge:r,startWidth:y,endWidth:k};this._geo.addVertexAt(e,L)}getPoint2dAt(e){return this._geo.getPointAt(e)}getPoint3dAt(e){const n=this.getPoint2dAt(e);return new W$3(n.x,n.y,this._elevation)}get geometricExtents(){const e=this._geo.box;return new Lt$2({x:e.min.x,y:e.min.y,z:this._elevation},{x:e.max.x,y:e.max.y,z:this._elevation})}subGetGripPoints(){const e=new Array;for(let n=0;n<this.numberOfVertices;++n)e.push(this.getPoint3dAt(n));return e}subGetOsnapPoints(e,n,r,g){const $=new Array;for(let y=0;y<this.numberOfVertices;++y)$.push(this.getPoint3dAt(y));switch(e){case Dt$2.EndPoint:g.push(...$);break}}subWorldDraw(e){const n=[];return this._geo.getPoints(100).forEach(r=>n.push(new W$3().set(r.x,r.y,this.elevation))),e.lines(n)}};Xa$2.typeName="Polyline";let ra$2=Xa$2;const Ka$2=class extends Ce$2{constructor(){super(),this._geo=new W$3}get position(){return this._geo}set position(e){this._geo.set(e.x,e.y,e.z||0)}get geometricExtents(){return new Lt$2().expandByPoint(this._geo)}subGetOsnapPoints(e,n,r,g){Dt$2.Node===e&&g.push(this._geo)}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"positionX",type:"float",editable:!0,accessor:{get:()=>this.position.x,set:e=>{this.position.x=e}}},{name:"positionY",type:"float",editable:!0,accessor:{get:()=>this.position.y,set:e=>{this.position.y=e}}},{name:"positionZ",type:"float",editable:!0,accessor:{get:()=>this.position.z,set:e=>{this.position.z=e}}}]}]}}transformBy(e){return this._geo.applyMatrix4(e),this}subWorldDraw(e){return e.point(this._geo,{displayMode:this.database.pdmode,displaySize:this.database.pdsize})}};Ka$2.typeName="Point";let na$2=Ka$2;const $a$2=class extends Ce$2{constructor(){super(),this._brightness=50,this._contrast=50,this._fade=0,this._width=0,this._height=0,this._position=new W$3,this._scale=new te$3(1,1),this._rotation=0,this._clipBoundaryType=1,this._clipBoundary=[],this._isClipped=!1,this._isShownClipped=!1,this._isImageShown=!0,this._isImageTransparent=!1,this._imageDefId=""}get brightness(){return this._brightness}set brightness(e){this._brightness=e}get contrast(){return this._contrast}set contrast(e){this._contrast=e}get fade(){return this._fade}set fade(e){this._fade=e}get height(){return this._height}set height(e){this._height=e}get width(){return this._width}set width(e){this._width=e}get position(){return this._position}set position(e){this._position=e}get rotation(){return this._rotation}set rotation(e){this._rotation=e}get scale(){return this._scale}set scale(e){this._scale.copy(e)}get clipBoundaryType(){return this._clipBoundaryType}set clipBoundaryType(e){this._clipBoundaryType=e}get clipBoundary(){return this._clipBoundary}set clipBoundary(e){this._clipBoundary=[],this._clipBoundary.push(...e)}get isClipped(){return this._isClipped}set isClipped(e){this._isClipped=e}get isShownClipped(){return this._isShownClipped}set isShownClipped(e){this._isShownClipped=e}get isImageShown(){return this._isImageShown}set isImageShown(e){this._isImageShown=e}get isImageTransparent(){return this._isImageTransparent}set isImageTransparent(e){this._isImageTransparent=e}get image(){return this._image}set image(e){this._image=e}get imageDefId(){return this._imageDefId}set imageDefId(e){this._imageDefId=e}get imageFileName(){if(this._imageDefId){const e=this.database.dictionaries.imageDefs.getIdAt(this._imageDefId);if(e)return e.sourceFileName}return""}get geometricExtents(){const e=new Lt$2;return e.min.copy(this._position),e.max.set(this._position.x+this._width,this._position.y+this._height,0),e}subGetGripPoints(){return this.boundaryPath()}subWorldDraw(e){const n=this.boundaryPath();return this._image?e.image(this._image,{boundary:n,roation:this._rotation}):e.lines(n)}boundaryPath(){const e=[];if(this.isClipped&&this._clipBoundary.length>3){const n=this._width,r=this._height,g=new Se$2;g.setFromPoints(this._clipBoundary);const $=new Nt$3;$.setX(this._position.x-g.min.x*n),$.setY(this._position.y-g.min.y*r),this._clipBoundary.forEach(y=>{const k=y.x*n+$.x,L=y.y*r+$.y;e.push(new W$3(k,L,this._position.z))})}else{if(e.push(this._position),e.push(this._position.clone().setX(this._position.x+this._width)),e.push(this._position.clone().set(this._position.x+this._width,this._position.y+this._height,this._position.z)),e.push(this._position.clone().setY(this._position.y+this._height)),this._rotation>0){Do$2.copy(e[1]);for(let n=1;n<4;n++)js.copy(e[n]),js.rotateAround(Do$2,this._rotation),e[n].setX(js.x),e[n].setY(js.y)}e.push(e[0])}return e}};$a$2.typeName="RasterImage";let hi$2=$a$2;const Do$2=new Nt$3,js=new Nt$3,Za$2=class extends Ne$1{constructor(){super(),this._basePoint=new W$3,this._unitDir=new K$1}get basePoint(){return this._basePoint}set basePoint(e){this._basePoint.copy(e)}get unitDir(){return this._unitDir}set unitDir(e){this._unitDir.copy(e)}get closed(){return!1}get geometricExtents(){const e=new Lt$2;return e.expandByPoint(this._unitDir.clone().multiplyScalar(10).add(this._basePoint)),e.expandByPoint(this._unitDir.clone().multiplyScalar(-10).add(this._basePoint)),e}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"basePointX",type:"float",editable:!0,accessor:{get:()=>this.basePoint.x,set:e=>{this.basePoint.x=e}}},{name:"basePointY",type:"float",editable:!0,accessor:{get:()=>this.basePoint.y,set:e=>{this.basePoint.y=e}}},{name:"basePointZ",type:"float",editable:!0,accessor:{get:()=>this.basePoint.z,set:e=>{this.basePoint.z=e}}},{name:"unitDirX",type:"float",editable:!0,accessor:{get:()=>this.unitDir.x,set:e=>{this.unitDir.x=e}}},{name:"unitDirY",type:"float",editable:!0,accessor:{get:()=>this.unitDir.y,set:e=>{this.unitDir.y=e}}},{name:"unitDirZ",type:"float",editable:!0,accessor:{get:()=>this.unitDir.z,set:e=>{this.unitDir.z=e}}}]}]}}subGetGripPoints(){const e=new Array;return e.push(this.basePoint),e}subGetOsnapPoints(e,n,r,g){switch(e){case Dt$2.EndPoint:g.push(this.basePoint);break}}subWorldDraw(e){const n=[];return n.push(this.basePoint),n.push(this._unitDir.clone().multiplyScalar(1e6).add(this._basePoint)),e.lines(n)}};Za$2.typeName="Ray";let sa$2=Za$2;const Qa$2=class extends Ce$2{constructor(){super(),this._centerPoint=new W$3,this._height=0,this._width=0,this._viewCenter=new W$3,this._viewHeight=0,this._number=-1}get number(){return this._number}set number(e){this._number=e}get centerPoint(){return this._centerPoint}set centerPoint(e){this._centerPoint=e}get height(){return this._height}set height(e){this._height=e}get width(){return this._width}set width(e){this._width=e}get viewCenter(){return this._viewCenter}set viewCenter(e){this._viewCenter=e}get viewHeight(){return this._viewHeight}set viewHeight(e){this._viewHeight=e}get geometricExtents(){return new Lt$2}subWorldDraw(e){if(this._number>1&&this.ownerId!=this.database.tables.blockTable.modelSpace.objectId){const n=this.toGiViewport(),r=e.group(this.createViewportRect(n,e));return this.attachEntityInfo(r),r}}toGiViewport(){const e=new eu$1;return e.id=this.objectId,e.groupId=this.ownerId,e.number=this.number,e.centerPoint=this.centerPoint,e.width=this.width,e.height=this.height,e.viewHeight=this.viewHeight,e.viewCenter=this.viewCenter,e}createViewportRect(e,n){const r=[];return r.push(n.lines([new W$3(e.centerPoint.x-e.width/2,e.centerPoint.y-e.height/2,0),new W$3(e.centerPoint.x+e.width/2,e.centerPoint.y-e.height/2,0)])),r.push(n.lines([new W$3(e.centerPoint.x+e.width/2,e.centerPoint.y-e.height/2,0),new W$3(e.centerPoint.x+e.width/2,e.centerPoint.y+e.height/2,0)])),r.push(n.lines([new W$3(e.centerPoint.x+e.width/2,e.centerPoint.y+e.height/2,0),new W$3(e.centerPoint.x-e.width/2,e.centerPoint.y+e.height/2,0)])),r.push(n.lines([new W$3(e.centerPoint.x-e.width/2,e.centerPoint.y+e.height/2,0),new W$3(e.centerPoint.x-e.width/2,e.centerPoint.y-e.height/2,0)])),r}};Qa$2.typeName="Viewport";let ia$2=Qa$2;const Ja$2=class extends hi$2{subWorldDraw(e){const n=this.boundaryPath(),r=new ya$2;return r.add(new Rn$2(n)),e.area(r)}};Ja$2.typeName="Wipeout";let aa$2=Ja$2;const to$2=class extends Ne$1{constructor(){super(),this._basePoint=new W$3,this._unitDir=new K$1}get basePoint(){return this._basePoint}set basePoint(e){this._basePoint.copy(e)}get unitDir(){return this._unitDir}set unitDir(e){this._unitDir.copy(e)}get closed(){return!1}get geometricExtents(){const e=new Lt$2;return e.expandByPoint(this._unitDir.clone().multiplyScalar(10).add(this._basePoint)),e.expandByPoint(this._unitDir.clone().multiplyScalar(-10).add(this._basePoint)),e}get properties(){return{type:this.type,groups:[this.getGeneralProperties(),{groupName:"geometry",properties:[{name:"basePointX",type:"float",editable:!0,accessor:{get:()=>this.basePoint.x,set:e=>{this.basePoint.x=e}}},{name:"basePointY",type:"float",editable:!0,accessor:{get:()=>this.basePoint.y,set:e=>{this.basePoint.y=e}}},{name:"basePointZ",type:"float",editable:!0,accessor:{get:()=>this.basePoint.z,set:e=>{this.basePoint.z=e}}},{name:"unitDirX",type:"float",editable:!0,accessor:{get:()=>this.unitDir.x,set:e=>{this.unitDir.x=e}}},{name:"unitDirY",type:"float",editable:!0,accessor:{get:()=>this.unitDir.y,set:e=>{this.unitDir.y=e}}},{name:"unitDirZ",type:"float",editable:!0,accessor:{get:()=>this.unitDir.z,set:e=>{this.unitDir.z=e}}}]}]}}subGetGripPoints(){const e=new Array;return e.push(this.basePoint),e}subWorldDraw(e){const n=[];return n.push(this._unitDir.clone().multiplyScalar(-1e6).add(this._basePoint)),n.push(this._unitDir.clone().multiplyScalar(1e6).add(this._basePoint)),e.lines(n)}};to$2.typeName="Xline";let oa$2=to$2;const eo$2=class extends Ce$2{constructor(){super(),this._dimBlockId=null,this._dimBlockPosition=new W$3,this._dimensionStyleName=null,this._dimensionText=null,this._textLineSpacingFactor=1,this._textLineSpacingStyle=1,this._textPosition=new W$3,this._textRotation=0,this._normal=new K$1(0,0,1)}get dimBlockId(){return this._dimBlockId}set dimBlockId(e){this._dimBlockId=e}get dimBlockPosition(){return this._dimBlockPosition}set dimBlockPosition(e){this._dimBlockPosition.copy(e)}get dimensionStyleName(){return this._dimensionStyleName}set dimensionStyleName(e){this._dimensionStyleName=e}get dimensionStyle(){if(this._dimStyle==null){let e;this.dimensionStyleName&&(e=this.database.tables.dimStyleTable.getAt(this.dimensionStyleName)),e==null&&(e=new Ts$1),this._dimStyle=e}return this._dimStyle}get dimensionText(){return this._dimensionText}set dimensionText(e){this._dimensionText=e}get measurement(){return this._measurement}set measurement(e){this._measurement=e}get textLineSpacingFactor(){return this._textLineSpacingFactor}set textLineSpacingFactor(e){this._textLineSpacingFactor=e}get textLineSpacingStyle(){return this._textLineSpacingStyle}set textLineSpacingStyle(e){this._textLineSpacingStyle=e}get textPosition(){return this._textPosition}set textPosition(e){this._textPosition.copy(e)}get textRotation(){return this._textRotation}set textRotation(e){this._textRotation=e}get normal(){return this._normal}set normal(e){this._normal.copy(e).normalize()}subWorldDraw(e){if(this.dimBlockId){const r=this.database.tables.blockTable.getAt(this.dimBlockId);if(r){const g=new gn$3().makeTranslation(this.dimBlockPosition),$=Ns$1.instance.draw(e,r,this.rgbColor,!1,g,this.normal);return this.attachEntityInfo($),$}}const n=e.group([]);return this.attachEntityInfo(n),n}get arrowScaleFactor(){return this.dimensionStyle.dimasz}get firstArrowStyle(){return{type:this.firstArrowType,scale:this.arrowScaleFactor,appended:this.isAppendArrow,visible:this.dimensionStyle.dimse1==0}}get secondArrowStyle(){return{type:this.secondArrowType,scale:this.arrowScaleFactor,appended:this.isAppendArrow,visible:this.dimensionStyle.dimse2==0}}get isAppendArrow(){return!0}get firstArrowTypeBtrId(){const e=this.dimensionStyle;return e.dimsah==0?e.dimblk:e.dimblk1}get firstArrowType(){const e=this.firstArrowTypeBtrId;return this.getArrowName(e)}get secondArrowTypeBtrId(){const e=this.dimensionStyle;return e.dimsah==0?e.dimblk:e.dimblk2}get secondArrowType(){const e=this.secondArrowTypeBtrId;return this.getArrowName(e)}get arrowLineCount(){return 1}getLineArrowStyle(e){}findPointOnLine1(e,n,r){const g=new W$3().subVectors(n,e).normalize();return new W$3(n).addScaledVector(g,r)}findPointOnLine2(e,n,r){const g=e.x+r*Math.cos(n),$=e.y+r*Math.sin(n);return{x:g,y:$}}adjustExtensionLine(e){const n=this.dimensionStyle;e.extend(n.dimexe),e.extend(-n.dimexo,!0)}getArrowName(e){const n=this.database.tables.blockTable.getIdAt(e);return n?n.name.toUpperCase():Al$2.Closed}};eo$2.typeName="Dimension";let Xr$1=eo$2;const ro$2=class extends Xr$1{constructor(e,n,r,g,$=null,y=null){super(),this._centerPoint=new W$3().copy(e),this._xLine1Point=new W$3().copy(n),this._xLine2Point=new W$3().copy(r),this._arcPoint=new W$3().copy(g),this.dimensionText=$,this.dimensionStyleName=y}get arcPoint(){return this._arcPoint}set arcPoint(e){this._arcPoint.copy(e)}get centerPoint(){return this._centerPoint}set centerPoint(e){this._centerPoint.copy(e)}get xLine1Point(){return this._xLine1Point}set xLine1Point(e){this._xLine1Point.copy(e)}get xLine2Point(){return this._xLine2Point}set xLine2Point(e){this._xLine2Point.copy(e)}get geometricExtents(){return new Lt$2}};ro$2.typeName="3PointAngularDimension";let la$2=ro$2;const no$2=class extends Xr$1{constructor(e,n,r,g=null,$=null){super(),this._dimLinePoint=new W$3().copy(r),this._xLine1Point=new W$3().copy(e),this._xLine2Point=new W$3().copy(n),this._oblique=0,this._rotation=0,this.calculateRotation(),g?this.dimensionText=g:this.dimensionText=this._xLine1Point.distanceTo(this._xLine2Point).toFixed(3),this.dimensionStyleName=$}get dimLinePoint(){return this._dimLinePoint}set dimLinePoint(e){this._dimLinePoint.copy(e)}get xLine1Point(){return this._xLine1Point}set xLine1Point(e){this._xLine1Point.copy(e)}get xLine2Point(){return this._xLine2Point}set xLine2Point(e){this._xLine2Point.copy(e)}get rotation(){return this._rotation}set rotation(e){this._rotation=e}get oblique(){return this._oblique}set oblique(e){this._oblique=e}get geometricExtents(){return new Lt$2}get isAppendArrow(){return!1}createDimBlock(e){const n=new me$3;n.name=e;const r=this.createLines();r.forEach(y=>n.appendEntity(new ai$2(y.startPoint,y.endPoint))),this.createArrows(r[0]).forEach(y=>n.appendEntity(y));const g=r[0].midPoint,$=this.createMText(g,this._rotation);return $&&n.appendEntity($),n}createMText(e,n){const r=g=>({x:Math.cos(g),y:Math.sin(g),z:0});if(this.dimensionText){const g=new oi$2;return g.attachmentPoint=Pe$3.MiddleLeft,g.layer="0",g.color=new Kr$1(mt$2.ByBlock),g.location=e,g.contents=this.dimensionText??"",g.height=10,g.direction=r(n),g.styleName=this.dimensionStyle.dimtxsty,g}}createArrows(e){const n=[];return n.push(this.createArrow(e.startPoint,this.rotation+Math.PI,10)),n.push(this.createArrow(e.endPoint,this.rotation,10)),n}createArrow(e,n,r){const g="_CAXARROW",$=new ks$1(g);return $.position=e,$.rotation=n,$.scaleFactors={x:r,y:r,z:r},$}createLines(){const e=[],n=this.createExtensionLine(this._xLine1Point),r=this.createExtensionLine(this._xLine2Point),g=this.findIntersectionPoint(n,this._dimLinePoint),$=this.findIntersectionPoint(r,this._dimLinePoint),y=new Ms$1(g,$);return e.push(y),n.endPoint=g,this.adjustExtensionLine(n),e.push(n),r.endPoint=$,this.adjustExtensionLine(r),e.push(r),e}createExtensionLine(e){const n=this.rotation+Math.PI/2,r=this.findPointOnLine2(e,n,100);return new Ms$1(e,{...r,z:e.z})}findIntersectionPoint(e,n){const r=e.startPoint,g=e.endPoint,$=new K$1().subVectors(g,r).normalize(),y=new K$1().subVectors(n,r).dot($),k=new K$1().copy($).multiplyScalar(y);return new K$1().addVectors(r,k)}calculateRotation(){const e=this._xLine1Point,n=this._xLine2Point,r=n.x-e.x,g=n.y-e.y;this._rotation=Math.atan2(g,r)}};no$2.typeName="AlignedDimension";let ha$2=no$2;const so$2=class extends Xr$1{constructor(e,n,r,g,$=null,y=null){super(),this._arcPoint=new W$3().copy(g),this._xLine1Point=new W$3().copy(n),this._xLine2Point=new W$3().copy(r),this._centerPoint=new W$3().copy(e),this.dimensionText=$,this.dimensionStyleName=y}get arcPoint(){return this._arcPoint}set arcPoint(e){this._arcPoint.copy(e)}get centerPoint(){return this._centerPoint}set centerPoint(e){this._centerPoint.copy(e)}get xLine1Point(){return this._xLine1Point}set xLine1Point(e){this._xLine1Point.copy(e)}get xLine2Point(){return this._xLine2Point}set xLine2Point(e){this._xLine2Point.copy(e)}get geometricExtents(){return new Lt$2}};so$2.typeName="ArcDimension";const io$2=class extends Xr$1{constructor(e,n,r=0,g=null,$=null){super(),this._chordPoint=new W$3().copy(e),this._farChordPoint=new W$3().copy(n),this._extArcStartAngle=0,this._extArcEndAngle=0,this._leaderLength=r,this.dimensionText=g,this.dimensionStyleName=$}get chordPoint(){return this._chordPoint}set chordPoint(e){this._chordPoint.copy(e)}get farChordPoint(){return this._farChordPoint}set farChordPoint(e){this._farChordPoint.copy(e)}get extArcStartAngle(){return this._extArcStartAngle}set extArcStartAngle(e){this._extArcStartAngle=e}get extArcEndAngle(){return this._extArcEndAngle}set extArcEndAngle(e){this._extArcEndAngle=e}get leaderLength(){return this._leaderLength}get geometricExtents(){return new Lt$2}drawLines(e,n){const r=[],g=n.length;return g==1?r.push(this.drawLine(e,n[0],{firstArrow:this.firstArrowStyle})):g==3?(this.sortLines(n),r.push(this.drawLine(e,n[0],{firstArrow:this.firstArrowStyle})),r.push(this.drawLine(e,n[1])),r.push(this.drawLine(e,n[2],{firstArrow:this.firstArrowStyle}))):n.forEach($=>{r.push(this.drawLine(e,$))}),r}drawLine(e,n,r){if(r){const g=[n.startPoint,n.endPoint];return e.lines(g)}else return n.worldDraw(e)}sortLines(e){const n=(r,g)=>r.x!==g.x?r.x-g.x:r.y!==g.y?r.y-g.y:r.z-g.z;e.sort((r,g)=>{const $=n(r.startPoint,g.startPoint);return $!==0?$:n(r.endPoint,g.endPoint)})}};io$2.typeName="DiametricDimension";let ca$2=io$2;const ao$2=class extends Xr$1{constructor(e,n,r=null,g=null){super(),this._definingPoint=new W$3().copy(e),this._leaderEndPoint=new W$3().copy(n),this.dimensionText=r,this.dimensionStyleName=g}get definingPoint(){return this._definingPoint}set definingPoint(e){this._definingPoint.copy(e)}get leaderEndPoint(){return this._leaderEndPoint}set leaderEndPoint(e){this._leaderEndPoint.copy(e)}get geometricExtents(){return new Lt$2}get arrowLineCount(){return 0}};ao$2.typeName="OrdinateDimension";let ua$2=ao$2;const oo$2=class extends Xr$1{constructor(e,n,r,g=null,$=null){super(),this._center=new W$3().copy(e),this._chordPoint=new W$3().copy(n),this._leaderLength=r,this._extArcStartAngle=0,this._extArcEndAngle=0,this.dimensionText=g,this.dimensionStyleName=$}get center(){return this._center}set center(e){this._center.copy(e)}get chordPoint(){return this._chordPoint}set chordPoint(e){this._chordPoint.copy(e)}get extArcStartAngle(){return this._extArcStartAngle}set extArcStartAngle(e){this._extArcStartAngle=e}get extArcEndAngle(){return this._extArcEndAngle}set extArcEndAngle(e){this._extArcEndAngle=e}get leaderLength(){return this._leaderLength}set leaderLenght(e){this._leaderLength=e}get geometricExtents(){return new Lt$2}getLineArrowStyle(e){return{secondArrow:this.secondArrowStyle}}};oo$2.typeName="RadialDimension";let da$2=oo$2,wa$2=class extends _n$1{constructor(){super(),this._tabOrder=-1,this._tabSelected=!1,this._blockTableRecordId="",this._layoutName="",this._limits=new Se$2,this._extents=new Lt$2}get layoutName(){return this._layoutName}set layoutName(e){this._layoutName=e.length>256?e.slice(0,256):e}get tabOrder(){return this._tabOrder}set tabOrder(e){this._tabOrder=e}get tabSelected(){return this._tabSelected}set tabSelected(e){this._tabSelected=e}get blockTableRecordId(){return this._blockTableRecordId}set blockTableRecordId(e){this._blockTableRecordId=e}get limits(){return this._limits}set limits(e){this._limits.copy(e)}get extents(){return this._extents}set extents(e){this._extents.copy(e)}},kl$2=class extends _n$1{constructor(e){super(),this.database=e,this._recordsByName=new Map,this._recordsById=new Map}get numEntries(){return this._recordsByName.size}setAt(e,n){n.database=this.database,this._recordsByName.set(e,n),this._recordsById.set(n.objectId,n),this.database.events.dictObjetSet.dispatch({database:this.database,object:n,key:e})}remove(e){const n=this.getAt(e);return n?(this._recordsByName.delete(e.toUpperCase()),this._recordsById.delete(this.objectId),this.database.events.dictObjectErased.dispatch({database:this.database,object:n,key:e}),!0):!1}removeId(e){const n=this.getIdAt(e);return n?(this._recordsById.delete(this.objectId),this._recordsByName.forEach((r,g)=>{r===n&&(this._recordsByName.delete(g),this.database.events.dictObjectErased.dispatch({database:this.database,object:n,key:g}))}),!0):!1}removeAll(){this._recordsByName.forEach((e,n)=>{this.database.events.dictObjectErased.dispatch({database:this.database,object:e,key:n})}),this._recordsByName.clear(),this._recordsById.clear()}has(e){return this._recordsByName.has(e.toUpperCase())}hasId(e){return this._recordsById.has(e)}getAt(e){return this._recordsByName.get(e)}getIdAt(e){return this._recordsById.get(e)}newIterator(){return new Aa$1(this._recordsByName)}},pu$1=class extends kl$2{getBtrIdAt(e){for(const[n,r]of this._recordsByName)if(r.blockTableRecordId==e)return r}get maxTabOrder(){let e=-1;return this._recordsByName.forEach(n=>{n.tabOrder>e&&(e=n.tabOrder)}),e}},mu$1=class extends _n$1{constructor(){super(),this._sourceFileName=""}get sourceFileName(){return this._sourceFileName}set sourceFileName(e){this._sourceFileName=e}},gu$1=class{constructor(e){this.db=e}createDefaultLayer(){const e=new Kr$1;return e.colorIndex=7,this.db.tables.layerTable.add(new Ma$2({name:"0",standardFlags:0,linetype:"Continuous",lineWeight:0,isOff:!1,color:e,isPlottable:!0}))}createDefaultLineType(){this.db.tables.linetypeTable.add(new si$2({name:"ByBlock",standardFlag:0,description:"",totalPatternLength:0})),this.db.tables.linetypeTable.add(new si$2({name:"ByLayer",standardFlag:0,description:"",totalPatternLength:0})),this.db.tables.linetypeTable.add(new si$2({name:"Continuous",standardFlag:0,description:"Solid line",totalPatternLength:0}))}createDefaultTextStyle(){this.db.tables.textStyleTable.add(new jh$1({name:"Standard",standardFlag:0,fixedTextHeight:0,widthFactor:1,obliqueAngle:0,textGenerationFlag:0,lastHeight:.2,font:"SimKai",bigFont:"",extendedFont:"SimKai"}))}createDefaultDimStyle(){this.db.tables.dimStyleTable.add(new Ts$1({name:"Standard",dimtxsty:"Standard"}))}createDefaultLayout(){const e=new wa$2;e.layoutName="Model",e.tabOrder=0,e.blockTableRecordId=this.db.tables.blockTable.modelSpace.objectId,e.limits.min.copy({x:0,y:0}),e.limits.max.copy({x:1e6,y:1e6}),e.extents.min.copy({x:0,y:0,z:0}),e.extents.max.copy({x:1e6,y:1e6,z:0}),this.db.dictionaries.layouts.setAt(e.layoutName,e),this.db.tables.blockTable.modelSpace.layoutId=e.objectId}createArrowBlock(){if(!this.db.tables.blockTable.getAt("_CAXARROW")){const e=new ii$2;e.patternName="SOLID";const n=new xl$2;n.add(new Ks({x:0,y:0},{x:-1,y:.125})),n.add(new Ks({x:-1,y:.125},{x:-1,y:-.125})),n.add(new Ks({x:-1,y:-.125},{x:0,y:0})),e.add(n);const r=new me$3;r.name="_CAXARROW",r.appendEntity(e),this.db.tables.blockTable.add(r)}}},Aa$1=class{constructor(e){this.i=0,this._records=e,this._keys=Array.from(e.keys())}get count(){return this._records.size}toArray(){return Array.from(this._records.values())}[Symbol.iterator](){return this}next(){for(;this.i<this._keys.length;){const e=this._records.get(this._keys[this.i]);return this.i+=1,{value:e,done:!1}}return{value:null,done:!0}}};var Tl$2=(t=>(t[t.Undefined=0]="Undefined",t[t.Inches=1]="Inches",t[t.Feet=2]="Feet",t[t.Miles=3]="Miles",t[t.Millimeters=4]="Millimeters",t[t.Centimeters=5]="Centimeters",t[t.Meters=6]="Meters",t[t.Kilometers=7]="Kilometers",t[t.Microinches=8]="Microinches",t[t.Mils=9]="Mils",t[t.Yards=10]="Yards",t[t.Angstroms=11]="Angstroms",t[t.Nanometers=12]="Nanometers",t[t.Microns=13]="Microns",t[t.Decimeters=14]="Decimeters",t[t.Dekameters=15]="Dekameters",t[t.Hectometers=16]="Hectometers",t[t.Gigameters=17]="Gigameters",t[t.Astronomical=18]="Astronomical",t[t.LightYears=19]="LightYears",t[t.Parsecs=20]="Parsecs",t[t.USSurveyFeet=21]="USSurveyFeet",t[t.USSurveyInch=22]="USSurveyInch",t[t.USSurveyYard=23]="USSurveyYard",t[t.USSurveyMile=24]="USSurveyMile",t[t.Max=24]="Max",t))(Tl$2||{});const Cl$2="Load Database";let ke$2=class extends mc{constructor(e,n){super(e.stage),this.data=e,this.progress=n}async run(e){const n=Qo$2.getInstance().getEntry(Cl$2),r=Date.now();this.progress&&await this.progress(this.data.progress.value,this.data.stage,"START");const g=await this.data.task(e);return this.progress&&(await this.progress(this.data.progress.value,this.data.stage,"END",g?g.data:null),this.data.progress.value+=this.data.step,this.data.progress.value>100&&(this.data.progress.value=100)),n&&(n.data[this.name]=Date.now()-r),g}},Nl$2=class{constructor(e={}){this.config=e}async read(e,n,r,g){const $={name:Cl$2,data:{total:0},format(){let V="";return Object.keys(this.data).forEach(z=>{z!=="total"&&(V+=`- ${z}: ${this.data[z]} ms
`)}),V+=`- total: ${this.data.total} ms`,V}};Qo$2.getInstance().collect($),this.progress=g;const y={value:0},k=new gc;k.setCompleteCallback(()=>this.onFinished()),k.setErrorCallback(V=>this.onError(V)),k.addTask(new ke$2({stage:"START",step:1,progress:y,task:async V=>V},g)),k.addTask(new ke$2({stage:"PARSE",step:5,progress:y,task:async V=>await this.parse(V)},g)),k.addTask(new ke$2({stage:"FONT",step:5,progress:y,task:async V=>{const z=this.getFonts(V.model);return{model:V.model,data:z}}},g)),k.addTask(new ke$2({stage:"LTYPE",step:1,progress:y,task:async V=>(this.processLineTypes(V.model,n),V)},g)),k.addTask(new ke$2({stage:"STYLE",step:1,progress:y,task:async V=>(this.processTextStyles(V.model,n),V)},g)),k.addTask(new ke$2({stage:"DIMSTYLE",step:1,progress:y,task:async V=>(this.processDimStyles(V.model,n),V)},g)),k.addTask(new ke$2({stage:"LAYER",step:1,progress:y,task:async V=>(this.processLayers(V.model,n),n.tables.layerTable.numEntries===0&&n.createDefaultData({layer:!0}),V)},g)),k.addTask(new ke$2({stage:"VPORT",step:1,progress:y,task:async V=>(this.processViewports(V.model,n),V)},g)),k.addTask(new ke$2({stage:"HEADER",step:1,progress:y,task:async V=>(this.processHeader(V.model,n),V)},g)),k.addTask(new ke$2({stage:"BLOCK_RECORD",step:5,progress:y,task:async V=>(this.processBlockTables(V.model,n),V)},g)),k.addTask(new ke$2({stage:"OBJECT",step:5,progress:y,task:async V=>(this.processObjects(V.model,n),n.dictionaries.layouts.numEntries===0&&n.createDefaultData({layout:!0}),V)},g)),k.addTask(new ke$2({stage:"BLOCK",step:5,progress:y,task:async V=>(await this.processBlocks(V.model,n),V)},g)),k.addTask(new ke$2({stage:"ENTITY",step:100,progress:y,task:async V=>(await this.processEntities(V.model,n,r,y,g),V)},g)),k.addTask(new ke$2({stage:"END",step:0,progress:y,task:async V=>V},g));const L=Date.now();await k.run(e),$.data.total=Date.now()-L}onError(e){if(this.progress){const n=e.task;this.progress(n.data.progress.value,n.data.stage,"ERROR",void 0,e)}return console.error(`Error occurred in conversion stage '${e.task.name}': `,e.error),e.task.name==="ENTITY"?!1:(this.onFinished(),!0)}onFinished(){this.progress&&(this.progress(100,"END","END"),Ns$1.instance.clear())}async parse(e,n){throw new Error("Not impelemented yet!")}getFonts(e){throw new Error("Not impelemented yet!")}processLineTypes(e,n){throw new Error("Not impelemented yet!")}processTextStyles(e,n){throw new Error("Not impelemented yet!")}processDimStyles(e,n){throw new Error("Not impelemented yet!")}processLayers(e,n){throw new Error("Not impelemented yet!")}processViewports(e,n){throw new Error("Not impelemented yet!")}processHeader(e,n){throw new Error("Not impelemented yet!")}processBlockTables(e,n){throw new Error("Not impelemented yet!")}processObjects(e,n){throw new Error("Not impelemented yet!")}processBlocks(e,n){throw new Error("Not impelemented yet!")}processEntities(e,n,r,g,$){throw new Error("Not impelemented yet!")}};var ue$2,ls$1,ee$2,ae$1,hs$1,sr$1,xe$2,vr$1,ir$1,rn$3,cs$1,us,nn$3,sn$3,ds,ps,ms$1,De$3,br$1,Xt$3,an$3,gs,yt$2,we$3,fs,Ae$3,_s$1,xr$1,wr$1,ar$1,ys$1,on$3,Ue$1,Ar$1,ln$3,Ci$2,Ni$1,Pr$1,Sr$1,vs$1,bs$3,Ir$1,xs$1,Li$2,Oi$1,de,Er$1,pe$1,Ve$2,Bi$2,zi$2,Ri$1,Fi$1,Mr$1,je$2,hn$2,ws$1,cn$3,Ge$2,kr$1,We$3,Tr$1;(ue$2={})[ue$2.None=0]="None",ue$2[ue$2.Anonymous=1]="Anonymous",ue$2[ue$2.NonConstant=2]="NonConstant",ue$2[ue$2.Xref=4]="Xref",ue$2[ue$2.XrefOverlay=8]="XrefOverlay",ue$2[ue$2.ExternallyDependent=16]="ExternallyDependent",ue$2[ue$2.ResolvedOrDependent=32]="ResolvedOrDependent",ue$2[ue$2.ReferencedXref=64]="ReferencedXref";(ls$1={})[ls$1.BYBLOCK=0]="BYBLOCK",ls$1[ls$1.BYLAYER=256]="BYLAYER";(ee$2={})[ee$2.Rotated=0]="Rotated",ee$2[ee$2.Aligned=1]="Aligned",ee$2[ee$2.Angular=2]="Angular",ee$2[ee$2.Diameter=3]="Diameter",ee$2[ee$2.Radius=4]="Radius",ee$2[ee$2.Angular3Point=5]="Angular3Point",ee$2[ee$2.Ordinate=6]="Ordinate",ee$2[ee$2.ReferenceIsExclusive=32]="ReferenceIsExclusive",ee$2[ee$2.IsOrdinateXTypeFlag=64]="IsOrdinateXTypeFlag",ee$2[ee$2.IsCustomTextPositionFlag=128]="IsCustomTextPositionFlag";(ae$1={})[ae$1.TopLeft=1]="TopLeft",ae$1[ae$1.TopCenter=2]="TopCenter",ae$1[ae$1.TopRight=3]="TopRight",ae$1[ae$1.MiddleLeft=4]="MiddleLeft",ae$1[ae$1.MiddleCenter=5]="MiddleCenter",ae$1[ae$1.MiddleRight=6]="MiddleRight",ae$1[ae$1.BottomLeft=7]="BottomLeft",ae$1[ae$1.BottomCenter=8]="BottomCenter",ae$1[ae$1.BottomRight=9]="BottomRight";(hs$1={})[hs$1.AtLeast=1]="AtLeast",hs$1[hs$1.Exact=2]="Exact";var Vo$1=((sr$1={})[sr$1.Center=0]="Center",sr$1[sr$1.Above=1]="Above",sr$1[sr$1.Outside=2]="Outside",sr$1[sr$1.JIS=3]="JIS",sr$1[sr$1.Below=4]="Below",sr$1),Bn$2=((xe$2={})[xe$2.Feet=0]="Feet",xe$2[xe$2.None=1]="None",xe$2[xe$2.Inch=2]="Inch",xe$2[xe$2.FeetAndInch=3]="FeetAndInch",xe$2[xe$2.Leading=4]="Leading",xe$2[xe$2.Trailing=8]="Trailing",xe$2[xe$2.LeadingAndTrailing=12]="LeadingAndTrailing",xe$2),_u$1=((vr$1={})[vr$1.None=0]="None",vr$1[vr$1.Leading=1]="Leading",vr$1[vr$1.Trailing=2]="Trailing",vr$1[vr$1.LeadingAndTrailing=3]="LeadingAndTrailing",vr$1),yu$1=((ir$1={})[ir$1.Center=0]="Center",ir$1[ir$1.Left=1]="Left",ir$1[ir$1.Right=2]="Right",ir$1[ir$1.OverFirst=3]="OverFirst",ir$1[ir$1.OverSecond=4]="OverSecond",ir$1),vu$1=((rn$3={})[rn$3.Bottom=0]="Bottom",rn$3[rn$3.Center=1]="Center",rn$3[rn$3.Top=2]="Top",rn$3),bu$1=((cs$1={})[cs$1.PatternFill=0]="PatternFill",cs$1[cs$1.SolidFill=1]="SolidFill",cs$1);(us={})[us.NonAssociative=0]="NonAssociative",us[us.Associative=1]="Associative";(nn$3={})[nn$3.Normal=0]="Normal",nn$3[nn$3.Outer=1]="Outer",nn$3[nn$3.Ignore=2]="Ignore";(sn$3={})[sn$3.UserDefined=0]="UserDefined",sn$3[sn$3.Predefined=1]="Predefined",sn$3[sn$3.Custom=2]="Custom";(ds={})[ds.NotAnnotated=0]="NotAnnotated",ds[ds.Annotated=1]="Annotated";(ps={})[ps.Solid=0]="Solid",ps[ps.Gradient=1]="Gradient";(ms$1={})[ms$1.TwoColor=0]="TwoColor",ms$1[ms$1.OneColor=1]="OneColor";var xu$1=((De$3={})[De$3.Default=0]="Default",De$3[De$3.External=1]="External",De$3[De$3.Polyline=2]="Polyline",De$3[De$3.Derived=4]="Derived",De$3[De$3.Textbox=8]="Textbox",De$3[De$3.Outermost=16]="Outermost",De$3),Gs$1=((br$1={})[br$1.Line=1]="Line",br$1[br$1.Circular=2]="Circular",br$1[br$1.Elliptic=3]="Elliptic",br$1[br$1.Spline=4]="Spline",br$1),wu$1=((Xt$3={})[Xt$3.Off=0]="Off",Xt$3[Xt$3.Solid=1]="Solid",Xt$3[Xt$3.Dashed=2]="Dashed",Xt$3[Xt$3.Dotted=3]="Dotted",Xt$3[Xt$3.ShotDash=4]="ShotDash",Xt$3[Xt$3.MediumDash=5]="MediumDash",Xt$3[Xt$3.LongDash=6]="LongDash",Xt$3[Xt$3.DoubleShortDash=7]="DoubleShortDash",Xt$3[Xt$3.DoubleMediumDash=8]="DoubleMediumDash",Xt$3[Xt$3.DoubleLongDash=9]="DoubleLongDash",Xt$3[Xt$3.DoubleMediumLongDash=10]="DoubleMediumLongDash",Xt$3[Xt$3.SparseDot=11]="SparseDot",Xt$3);wu$1.Off;(an$3={})[an$3.Standard=-3]="Standard",an$3[an$3.ByLayer=-2]="ByLayer",an$3[an$3.ByBlock=-1]="ByBlock";(gs={})[gs.English=0]="English",gs[gs.Metric=1]="Metric";(yt$2={})[yt$2.PERSPECTIVE_MODE=1]="PERSPECTIVE_MODE",yt$2[yt$2.FRONT_CLIPPING=2]="FRONT_CLIPPING",yt$2[yt$2.BACK_CLIPPING=4]="BACK_CLIPPING",yt$2[yt$2.UCS_FOLLOW=8]="UCS_FOLLOW",yt$2[yt$2.FRONT_CLIP_NOT_AT_EYE=16]="FRONT_CLIP_NOT_AT_EYE",yt$2[yt$2.UCS_ICON_VISIBILITY=32]="UCS_ICON_VISIBILITY",yt$2[yt$2.UCS_ICON_AT_ORIGIN=64]="UCS_ICON_AT_ORIGIN",yt$2[yt$2.FAST_ZOOM=128]="FAST_ZOOM",yt$2[yt$2.SNAP_MODE=256]="SNAP_MODE",yt$2[yt$2.GRID_MODE=512]="GRID_MODE",yt$2[yt$2.ISOMETRIC_SNAP_STYLE=1024]="ISOMETRIC_SNAP_STYLE",yt$2[yt$2.HIDE_PLOT_MODE=2048]="HIDE_PLOT_MODE",yt$2[yt$2.K_ISO_PAIR_TOP=4096]="K_ISO_PAIR_TOP",yt$2[yt$2.K_ISO_PAIR_RIGHT=8192]="K_ISO_PAIR_RIGHT",yt$2[yt$2.VIEWPORT_ZOOM_LOCKING=16384]="VIEWPORT_ZOOM_LOCKING",yt$2[yt$2.UNUSED=32768]="UNUSED",yt$2[yt$2.NON_RECTANGULAR_CLIPPING=65536]="NON_RECTANGULAR_CLIPPING",yt$2[yt$2.VIEWPORT_OFF=131072]="VIEWPORT_OFF",yt$2[yt$2.GRID_BEYOND_DRAWING_LIMITS=262144]="GRID_BEYOND_DRAWING_LIMITS",yt$2[yt$2.ADAPTIVE_GRID_DISPLAY=524288]="ADAPTIVE_GRID_DISPLAY",yt$2[yt$2.SUBDIVISION_BELOW_SPACING=1048576]="SUBDIVISION_BELOW_SPACING",yt$2[yt$2.GRID_FOLLOWS_WORKPLANE=2097152]="GRID_FOLLOWS_WORKPLANE";(we$3={})[we$3.OPTIMIZED_2D=0]="OPTIMIZED_2D",we$3[we$3.WIREFRAME=1]="WIREFRAME",we$3[we$3.HIDDEN_LINE=2]="HIDDEN_LINE",we$3[we$3.FLAT_SHADED=3]="FLAT_SHADED",we$3[we$3.GOURAUD_SHADED=4]="GOURAUD_SHADED",we$3[we$3.FLAT_SHADED_WITH_WIREFRAME=5]="FLAT_SHADED_WITH_WIREFRAME",we$3[we$3.GOURAUD_SHADED_WITH_WIREFRAME=6]="GOURAUD_SHADED_WITH_WIREFRAME";(fs={})[fs.UCS_UNCHANGED=0]="UCS_UNCHANGED",fs[fs.HAS_OWN_UCS=1]="HAS_OWN_UCS";(Ae$3={})[Ae$3.NON_ORTHOGRAPHIC=0]="NON_ORTHOGRAPHIC",Ae$3[Ae$3.TOP=1]="TOP",Ae$3[Ae$3.BOTTOM=2]="BOTTOM",Ae$3[Ae$3.FRONT=3]="FRONT",Ae$3[Ae$3.BACK=4]="BACK",Ae$3[Ae$3.LEFT=5]="LEFT",Ae$3[Ae$3.RIGHT=6]="RIGHT";(_s$1={})[_s$1.ONE_DISTANT_LIGHT=0]="ONE_DISTANT_LIGHT",_s$1[_s$1.TWO_DISTANT_LIGHTS=1]="TWO_DISTANT_LIGHTS";(xr$1={})[xr$1.ByLayer=0]="ByLayer",xr$1[xr$1.ByBlock=1]="ByBlock",xr$1[xr$1.ByDictionaryDefault=2]="ByDictionaryDefault",xr$1[xr$1.ByObject=3]="ByObject";function Pt$2(t,e,n){return t.code===e&&(n==null||t.value===n)}function Rt$3(t){let e={};t.rewind();let n=t.next(),r=n.code;if(e.x=n.value,(n=t.next()).code!==r+10)throw Error("Expected code for point value to be 20 but got "+n.code+".");return e.y=n.value,(n=t.next()).code!==r+20?t.rewind():e.z=n.value,e}let Pa$1=Symbol();function xt$1(t,e){return(n,r,g)=>{let $=function(L,V=!1){return L.reduce((z,j)=>{j.pushContext&&z.push({});let ie=z[z.length-1];for(let Oe of typeof j.code=="number"?[j.code]:j.code){let ur=ie[Oe]??(ie[Oe]=[]);j.isMultiple&&ur.length&&V&&console.warn(`Snippet ${ur[ur.length-1].name} for code(${Oe}) is shadowed by ${j.name}`),ur.push(j)}return z},[{}])}(t,r.debug),y=!1,k=$.length-1;for(;!Pt$2(n,0,"EOF");){let L=function(Vr,dr,ec){return Vr.find((tc,Xs)=>{var rc;return Xs>=ec&&((rc=tc[dr])==null?void 0:rc.length)})}($,n.code,k),V=L==null?void 0:L[n.code],z=V==null?void 0:V[V.length-1];if(!L||!z){r.rewind();break}z.isMultiple||L[n.code].pop();let{name:j,parser:ie,isMultiple:Oe,isReducible:ur}=z,hr=ie==null?void 0:ie(n,r,g);if(hr===Pa$1){r.rewind();break}if(j){let[Vr,dr]=function(ec,tc){let Xs=tc.split(".");if(!Xs.length)throw Error("[parserGenerator::getObjectByPath] Invalid empty path");let rc=ec;for(let ic=0;ic<Xs.length-1;++ic){let _c=Di$2(Xs[ic]),qm=Di$2(Xs[ic+1]);Object.prototype.hasOwnProperty.call(rc,_c)||(typeof qm=="number"?rc[_c]=[]:rc[_c]={}),rc=rc[_c]}return[rc,Di$2(Xs[Xs.length-1])]}(g,j);Oe&&!ur?(Object.prototype.hasOwnProperty.call(Vr,dr)||(Vr[dr]=[]),Vr[dr].push(hr)):Vr[dr]=hr}z.pushContext&&(k-=1),y=!0,n=r.next()}return e&&Object.setPrototypeOf(g,e),y}}function Di$2(t){let e=Number.parseInt(t);return Number.isNaN(e)?t:e}function v$1({value:t}){return t}function G$2(t,e){return Rt$3(e)}function Ut$3({value:t}){return!!t}let Au$1=[{code:1001,name:"xdata",parser:Ll$2}];function Ll$2(t,e){var n;if(!Pt$2(t,1001))throw Error("XData must starts with code 1001");let r={appName:t.value,value:[]};t=e.next();let g=[r.value];for(;!Pt$2(t,0,"EOF")&&t.code>=1e3;){let $=g[g.length-1];switch(t.code){case 1002:t.value==="{"?g.push([]):(g.pop(),(n=g[g.length-1])==null||n.push($));break;case 1e3:case 1004:case 1040:case 1070:case 1071:$.push({type:Cr$1(t.code),value:t.value});break;case 1003:$.push({name:"layer",type:Cr$1(t.code),value:t.value});break;case 1005:$.push({name:"handle",type:Cr$1(t.code),value:t.value});break;case 1010:$.push({type:Cr$1(t.code),value:Rt$3(e)});break;case 1011:$.push({name:"worldSpacePosition",type:Cr$1(t.code),value:Rt$3(e)});break;case 1012:$.push({name:"worldSpaceDisplacement",type:Cr$1(t.code),value:Rt$3(e)});break;case 1013:$.push({name:"worldSpaceDirection",type:Cr$1(t.code),value:Rt$3(e)});break;case 1041:$.push({name:"distance",type:Cr$1(t.code),value:t.value});break;case 1042:$.push({name:"scale",type:Cr$1(t.code),value:t.value})}t=e.next()}return e.rewind(),r}function Cr$1(t){switch(t){case 1e3:case 1003:case 1005:return"string";case 1004:return"hex";case 1040:case 1041:case 1042:return"real";case 1070:return"integer";case 1071:return"long";case 1010:case 1011:case 1012:case 1013:return"point";default:return""}}function pn$3(t,e,n){for(;Pt$2(t,102);){var r;let g=t.value;if(t=e.next(),!g.startsWith("{")){e.debug&&console.warn(`Invalid application group, expected to start with "{" but received: ${g}`),function(y,k){for(;!Pt$2(y,102)&&!Pt$2(y,0,"EOF");)y=k.next()}(t,e),t=e.next();continue}let $=g.slice(1).trim();n.extensions??(n.extensions={}),(r=n.extensions)[$]??(r[$]=[]),function(y,k,L){for(;!Pt$2(y,102,"}")&&!Pt$2(y,0,"EOF");)L.push(y),y=k.next()}(t,e,n.extensions[$]),t=e.next()}e.rewind()}let Pu$1=0;function Ol$2(t){if(!t)throw TypeError("entity cannot be undefined or null");t.handle||(t.handle=Pu$1++)}var Su$1=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function Bl$2(t){return Su$1[t]}(wr$1={})[wr$1.CAST_AND_RECEIVE=0]="CAST_AND_RECEIVE",wr$1[wr$1.CAST=1]="CAST",wr$1[wr$1.RECEIVE=2]="RECEIVE",wr$1[wr$1.IGNORE=3]="IGNORE";let jt$1=[...Au$1,{code:284,name:"shadowMode",parser:v$1},{code:390,name:"plotStyleHardId",parser:v$1},{code:380,name:"plotStyleType",parser:v$1},{code:440,name:"transparency",parser:v$1},{code:430,name:"colorName",parser:v$1},{code:420,name:"color",parser:v$1},{code:310,name:"proxyEntity",isMultiple:!0,parser:v$1},{code:92,name:"proxyByte",parser:v$1},{code:60,name:"isVisible",parser:Ut$3},{code:48,name:"lineTypeScale",parser:v$1},{code:370,name:"lineweight",parser:v$1},{code:62,name:"colorIndex",parser(t,e,n){let r=t.value;return r>0&&r<256&&(n.color=Bl$2(Math.abs(r))),r}},{code:347,name:"materialObjectHardId",parser:v$1},{code:6,name:"lineType",parser:v$1},{code:8,name:"layer",parser:v$1},{code:410,name:"layoutTabName",parser:v$1},{code:67,name:"isInPaperSpace",parser:Ut$3},{code:100},{code:160},{code:330,name:"ownerBlockRecordSoftId",parser:v$1},{code:102,parser:pn$3},{code:102,parser:pn$3},{code:102,parser:pn$3},{code:5,name:"handle",parser:v$1}];function gi$2(t){return[{code:3,name:t,parser:(e,n,r)=>(r._code3text=(r._code3text??"")+e.value,r._code3text+(r._code1text??"")),isMultiple:!0,isReducible:!0},{code:1,name:t,parser:(e,n,r)=>(r._code1text=e.value,(r._code3text??"")+r._code1text)}]}function zl$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Iu$1={extrusionDirection:{x:0,y:0,z:1}},Eu$1=[{code:210,name:"extrusionDirection",parser:G$2},{code:51,name:"endAngle",parser:v$1},{code:50,name:"startAngle",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},{code:40,name:"radius",parser:v$1},{code:10,name:"center",parser:G$2},{code:39,name:"thickness",parser:v$1},{code:100},...jt$1],Rl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){zl$2(this,"parser",xt$1(Eu$1,Iu$1))}};zl$2(Rl$2,"ForEntityName","ARC");(ar$1={})[ar$1.NONE=0]="NONE",ar$1[ar$1.INVISIBLE=1]="INVISIBLE",ar$1[ar$1.CONSTANT=2]="CONSTANT",ar$1[ar$1.VERIFICATION_REQUIRED=4]="VERIFICATION_REQUIRED",ar$1[ar$1.PRESET=8]="PRESET";(ys$1={})[ys$1.MULTILINE=2]="MULTILINE",ys$1[ys$1.CONSTANT_MULTILINE=4]="CONSTANT_MULTILINE";(on$3={})[on$3.NONE=0]="NONE",on$3[on$3.MIRRORED_X=2]="MIRRORED_X",on$3[on$3.MIRRORED_Y=4]="MIRRORED_Y";var Mu$1=((Ue$1={})[Ue$1.LEFT=0]="LEFT",Ue$1[Ue$1.CENTER=1]="CENTER",Ue$1[Ue$1.RIGHT=2]="RIGHT",Ue$1[Ue$1.ALIGNED=3]="ALIGNED",Ue$1[Ue$1.MIDDLE=4]="MIDDLE",Ue$1[Ue$1.FIT=5]="FIT",Ue$1),ku$1=((Ar$1={})[Ar$1.BASELINE=0]="BASELINE",Ar$1[Ar$1.BOTTOM=1]="BOTTOM",Ar$1[Ar$1.MIDDLE=2]="MIDDLE",Ar$1[Ar$1.TOP=3]="TOP",Ar$1);function Fl$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Dl$2={thickness:0,rotation:0,xScale:1,obliqueAngle:0,styleName:"STANDARD",generationFlag:0,halign:Mu$1.LEFT,valign:ku$1.BASELINE,extrusionDirection:{x:0,y:0,z:1}},Ul$2=[{code:73,name:"valign",parser:v$1},{code:100},{code:210,name:"extrusionDirection",parser:G$2},{code:11,name:"endPoint",parser:G$2},{code:72,name:"valign",parser:v$1},{code:72,name:"halign",parser:v$1},{code:71,name:"generationFlag",parser:v$1},{code:7,name:"styleName",parser:v$1},{code:51,name:"obliqueAngle",parser:v$1},{code:41,name:"xScale",parser:v$1},{code:50,name:"rotation",parser:v$1},{code:1,name:"text",parser:v$1},{code:40,name:"textHeight",parser:v$1},{code:10,name:"startPoint",parser:G$2},{code:39,name:"thickness",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Vl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Fl$2(this,"parser",xt$1(Ul$2,Dl$2))}};function jl$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Fl$2(Vl$2,"ForEntityName","TEXT");let Tu$1={...Dl$2},Cu$1=[{code:2},{code:40,name:"annotationScale",parser:v$1},{code:10,name:"alignmentPoint",parser:G$2},{code:340,name:"secondaryAttributesHardIds",isMultiple:!0,parser:v$1},{code:70,name:"numberOfSecondaryAttributes",parser:v$1},{code:70,name:"isReallyLocked",parser:Ut$3},{code:70,name:"mtextFlag",parser:v$1},{code:280,name:"isDuplicatedRecord",parser:Ut$3},{code:100},{code:280,name:"isLocked",parser:Ut$3},{code:74,name:"valign",parser:v$1},{code:73},{code:70,name:"attributeFlag",parser:v$1},{code:2,name:"tag",parser:v$1},{code:3,name:"prompt",parser:v$1},{code:280},{code:100,name:"subclassMarker",parser:v$1},...Ul$2.slice(2)],Gl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){jl$2(this,"parser",xt$1(Cu$1,Tu$1))}};jl$2(Gl$2,"ForEntityName","ATTDEF");(ln$3={})[ln$3.LEFT_TO_RIGHT=1]="LEFT_TO_RIGHT",ln$3[ln$3.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM",ln$3[ln$3.BY_STYLE=5]="BY_STYLE";function Nu$1(t,e){let n={};for(let r of t){let g=e(r);g!=null&&(n[g]??(n[g]=[]),n[g].push(r))}return n}function*ci$2(t,e=1/0,n=1){for(let r=t;r!==e;r+=n)yield r}function qr$1(t){return{x:t.x??0,y:t.y??0,z:t.z??0}}function Sa$2(t,e,n){if(Pt$2(e,102))return pn$3(e,n,t),!0;switch(e.code){case 0:t.type=e.value;break;case 5:t.handle=e.value;break;case 330:t.ownerBlockRecordSoftId=e.value;break;case 67:t.isInPaperSpace=!!e.value;break;case 8:t.layer=e.value;break;case 6:t.lineType=e.value;break;case 347:t.materialObjectHardId=e.value;break;case 62:t.colorIndex=e.value,t.color=Bl$2(Math.abs(e.value));break;case 370:t.lineweight=e.value;break;case 48:t.lineTypeScale=e.value;break;case 60:t.isVisible=!!e.value;break;case 92:t.proxyByte=e.value;break;case 310:t.proxyEntity=e.value;break;case 100:break;case 420:t.color=e.value;break;case 430:t.transparency=e.value;break;case 390:t.plotStyleHardId=e.value;break;case 284:t.shadowMode=e.value;break;case 1001:t.xdata=Ll$2(e,n);break;default:return!1}return!0}function Wl$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Lu$1={textStyle:"STANDARD",extrusionDirection:{x:0,y:0,z:1},rotation:0},Qs$1=[{code:46,name:"annotationHeight",parser:v$1},{code:101,parser(t,e){(function(n){n.rewind();let r=n.next();if(r.code!==101)throw Error("Bad call for skipEmbeddedObject()");do r=n.next();while(r.code!==0);n.rewind()})(e)}},{code:50,name:"columnHeight",parser:v$1},{code:49,name:"columnGutter",parser:v$1},{code:48,name:"columnWidth",parser:v$1},{code:79,name:"columnAutoHeight",parser:v$1},{code:78,name:"columnFlowReversed",parser:v$1},{code:76,name:"columnCount",parser:v$1},{code:75,name:"columnType",parser:v$1},{code:441,name:"backgroundFillTransparency",parser:v$1},{code:63,name:"backgroundFillColor",parser:v$1},{code:45,name:"fillBoxScale",parser:v$1},{code:[...ci$2(430,440)],name:"backgroundColor",parser:v$1},{code:[...ci$2(420,430)],name:"backgroundColor",parser:v$1},{code:90,name:"backgroundFill",parser:v$1},{code:44,name:"lineSpacing",parser:v$1},{code:73,name:"lineSpacingStyle",parser:v$1},{code:50,name:"rotation",parser:v$1},{code:43},{code:42},{code:11,name:"direction",parser:G$2},{code:210,name:"extrusionDirection",parser:G$2},{code:7,name:"styleName",parser:v$1},...gi$2("text"),{code:72,name:"drawingDirection",parser:v$1},{code:71,name:"attachmentPoint",parser:v$1},{code:41,name:"width",parser:v$1},{code:40,name:"height",parser:v$1},{code:10,name:"insertionPoint",parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Hl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Wl$2(this,"parser",xt$1(Qs$1,Lu$1))}};function ql$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Wl$2(Hl$2,"ForEntityName","MTEXT");let Ou$1={thickness:0,rotation:0,scale:1,obliqueAngle:0,textStyle:"STANDARD",textGenerationFlag:0,horizontalJustification:0,verticalJustification:0,extrusionDirection:{x:0,y:0,z:1}},Bu$1=[...Qs$1.slice(Qs$1.findIndex(({name:t})=>t==="columnType"),Qs$1.findIndex(({name:t})=>t==="subclassMarker")+1),{code:100},{code:0,parser(t){if(!Pt$2(t,0,"MTEXT"))return Pa$1}},{code:2,name:"definitionTag",parser:v$1},{code:40,name:"annotationScale",parser:v$1},{code:10,name:"alignmentPoint",parser:G$2},{code:340,name:"secondaryAttributesHardId",parser:v$1},{code:70,name:"numberOfSecondaryAttributes",parser:v$1},{code:70,name:"isReallyLocked",parser:Ut$3},{code:70,name:"mtextFlag",parser:v$1},{code:280,name:"isDuplicatedEntriesKeep",parser:Ut$3},{code:100},{code:280,name:"lockPositionFlag",parser:Ut$3},{code:210,name:"extrusionDirection",parser:G$2},{code:11,name:"alignmentPoint",parser:G$2},{code:74,name:"verticalJustification",parser:v$1},{code:72,name:"horizontalJustification",parser:v$1},{code:71,name:"textGenerationFlag",parser:v$1},{code:7,name:"textStyle",parser:v$1},{code:51,name:"obliqueAngle",parser:v$1},{code:41,name:"scale",parser:v$1},{code:50,name:"rotation",parser:v$1},{code:73},{code:70,name:"attributeFlag",parser:v$1},{code:2,name:"tag",parser:v$1},{code:280},{code:100,name:"subclassMarker",parser:v$1},{code:1,name:"text",parser:v$1},{code:40,name:"textHeight",parser:v$1},{code:10,name:"startPoint",parser:G$2},{code:39,name:"thickness",parser:v$1},{code:100},...jt$1],Yl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){ql$2(this,"parser",xt$1(Bu$1,Ou$1))}};function Xl$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ql$2(Yl$2,"ForEntityName","ATTRIB");let zu$1=[...gi$2("data"),{code:70,name:"version",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Kl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Xl$2(this,"parser",xt$1(zu$1))}};function $l$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Xl$2(Kl$2,"ForEntityName","BODY");let Ru$1={thickness:0,extrusionDirection:{x:0,y:0,z:1}},Fu$1=[{code:210,name:"extrusionDirection",parser:G$2},{code:40,name:"radius",parser:v$1},{code:10,name:"center",parser:G$2},{code:39,name:"thickness",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Zl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){$l$2(this,"parser",xt$1(Fu$1,Ru$1))}};$l$2(Zl$2,"ForEntityName","CIRCLE");let Js$1=class{parseEntity(e,n){let r={};for(;!Pt$2(n,0,"EOF");){if(n.code===0){e.rewind();break}(function(g,$,y){switch($.code){case 100:g.subclassMarker=$.value;break;case 280:g.version=$.value;break;case 2:g.name=$.value;break;case 10:g.definitionPoint=Rt$3(y);break;case 11:g.textPoint=Rt$3(y);break;case 12:g.insertionPoint=Rt$3(y);break;case 13:g.subDefinitionPoint1=Rt$3(y);break;case 14:g.subDefinitionPoint2=Rt$3(y);break;case 15:g.centerPoint=Rt$3(y);break;case 16:g.arcPoint=Rt$3(y);break;case 70:g.dimensionType=$.value;break;case 71:g.attachmentPoint=$.value;break;case 72:g.textLineSpacingStyle=$.value;break;case 40:g.leaderLength=$.value;break;case 41:g.textLineSpacingFactor=$.value;break;case 42:g.measurement=$.value;break;case 1:g.text=$.value;break;case 50:g.rotationAngle=$.value;break;case 52:g.obliqueAngle=$.value;break;case 53:g.textRotation=$.value;break;case 51:g.ocsRotation=$.value;break;case 210:g.extrusionDirection=Rt$3(y);break;case 3:g.styleName=$.value;break;default:Sa$2(g,$,y)}})(r,n,e),n=e.next()}return r}};function Ql$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ni$1="DIMENSION",(Ci$2="ForEntityName")in Js$1?Object.defineProperty(Js$1,Ci$2,{value:Ni$1,enumerable:!0,configurable:!0,writable:!0}):Js$1[Ci$2]=Ni$1;let Du$1={extrusionDirection:{x:0,y:0,z:1}},Uu$1=[{code:42,name:"endAngle",parser:v$1},{code:41,name:"startAngle",parser:v$1},{code:40,name:"axisRatio",parser:v$1},{code:210,name:"extrusionDirection",parser:G$2},{code:11,name:"majorAxisEndPoint",parser:G$2},{code:10,name:"center",parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Jl$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Ql$2(this,"parser",xt$1(Uu$1,Du$1))}};Ql$2(Jl$2,"ForEntityName","ELLIPSE");(Pr$1={})[Pr$1.First=1]="First",Pr$1[Pr$1.Second=2]="Second",Pr$1[Pr$1.Third=4]="Third",Pr$1[Pr$1.Fourth=8]="Fourth";function th$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Vu$1=[{code:13,name:"vertices.3",parser:G$2},{code:12,name:"vertices.2",parser:G$2},{code:11,name:"vertices.1",parser:G$2},{code:10,name:"vertices.0",parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],eh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){th$1(this,"parser",xt$1(Vu$1))}};th$1(eh$1,"ForEntityName","3DFACE");let rh$1=[{code:330,name:"sourceBoundaryObjects",parser:v$1,isMultiple:!0},{code:97,name:"numberOfSourceBoundaryObjects",parser:v$1}],ju$1=[{code:11,name:"end",parser:G$2},{code:10,name:"start",parser:G$2}],Gu$1=[{code:73,name:"isCCW",parser:Ut$3},{code:51,name:"endAngle",parser:v$1},{code:50,name:"startAngle",parser:v$1},{code:40,name:"radius",parser:v$1},{code:10,name:"center",parser:G$2}],Wu$1=[{code:73,name:"isCCW",parser:Ut$3},{code:51,name:"endAngle",parser:v$1},{code:50,name:"startAngle",parser:v$1},{code:40,name:"lengthOfMinorAxis",parser:v$1},{code:11,name:"end",parser:G$2},{code:10,name:"center",parser:G$2}],Hu$1=[{code:13,name:"endTangent",parser:G$2},{code:12,name:"startTangent",parser:G$2},{code:11,name:"fitDatum",isMultiple:!0,parser:G$2},{code:97,name:"numberOfFitData",parser:v$1},{code:10,name:"controlPoints",isMultiple:!0,parser(t,e){let n={...Rt$3(e),weight:1};return(t=e.next()).code===42?n.weight=t.value:e.rewind(),n}},{code:40,name:"knots",isMultiple:!0,parser:v$1},{code:96,name:"numberOfControlPoints",parser:v$1},{code:95,name:"numberOfKnots",parser:v$1},{code:74,name:"isPeriodic",parser:Ut$3},{code:73,name:"splineFlag",parser:v$1},{code:94,name:"degree",parser:v$1}],qu$1={[Gs$1.Line]:ju$1,[Gs$1.Circular]:Gu$1,[Gs$1.Elliptic]:Wu$1,[Gs$1.Spline]:Hu$1},Yu$1=[...rh$1,{code:72,name:"edges",parser(t,e){let n={type:t.value},r=xt$1(qu$1[n.type]);if(!r)throw Error(`Invalid edge type ${n.type}`);return r(t=e.next(),e,n),n},isMultiple:!0},{code:93,name:"numberOfEdges",parser:v$1}],Xu$1=[...rh$1,{code:10,name:"vertices",parser(t,e){let n={...Rt$3(e),bulge:0};return(t=e.next()).code===42?n.bulge=t.value:e.rewind(),n},isMultiple:!0},{code:93,name:"numberOfVertices",parser:v$1},{code:73,name:"isClosed",parser:Ut$3},{code:72,name:"hasBulge",parser:Ut$3}],Ku$1=[{code:49,name:"dashLengths",parser:v$1,isMultiple:!0},{code:79,name:"numberOfDashLengths",parser:v$1},{code:45,name:"offset",parser:jo$2},{code:43,name:"base",parser:jo$2},{code:53,name:"angle",parser:v$1}];function jo$2(t,e){let n=t.code+1,r={x:t.value,y:1};return(t=e.next()).code===n?r.y=t.value:e.rewind(),r}function nh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let $u$1={extrusionDirection:{x:0,y:0,z:1},gradientRotation:0,colorTint:0},Zu$1=[{code:470},{code:463},{code:462,name:"colorTint",parser:v$1},{code:461,name:"gradientDefinition",parser:v$1},{code:460,name:"gradientRotation",parser:v$1},{code:453,name:"numberOfColors",parser:v$1},{code:452,name:"gradientColorFlag",parser:v$1},{code:451},{code:450,name:"gradientFlag",parser:v$1},{code:10,name:"seedPoints",parser:G$2,isMultiple:!0},{code:99},{code:11,name:"offsetVector",parser:G$2},{code:98,name:"numberOfSeedPoints",parser:v$1},{code:47,name:"pixelSize",parser:v$1},{code:53,name:"definitionLines",parser:function(t,e){let n={};return xt$1(Ku$1)(t,e,n),n},isMultiple:!0},{code:78,name:"numberOfDefinitionLines",parser:v$1},{code:77,name:"isDouble",parser:Ut$3},{code:73,name:"isAnnotated",parser:Ut$3},{code:41,name:"patternScale",parser:v$1},{code:52,name:"patternAngle",parser:v$1},{code:76,name:"patternType",parser:v$1},{code:75,name:"hatchStyle",parser:v$1},{code:92,name:"boundaryPaths",parser:function(t,e){let n={boundaryPathTypeFlag:t.value},r=n.boundaryPathTypeFlag&xu$1.Polyline;return t=e.next(),r?xt$1(Xu$1)(t,e,n):xt$1(Yu$1)(t,e,n),n},isMultiple:!0},{code:91,name:"numberOfBoundaryPaths",parser:v$1},{code:71,name:"associativity",parser:v$1},{code:63,name:"patternFillColor",parser:v$1},{code:70,name:"solidFill",parser:v$1},{code:2,name:"patternName",parser:v$1},{code:210,name:"extrusionDirection",parser:G$2},{code:10,name:"elevationPoint",parser:G$2},{code:100,name:"subclassMarker",parser:v$1,pushContext:!0},...jt$1],sh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){nh$1(this,"parser",xt$1(Zu$1,$u$1))}};nh$1(sh$1,"ForEntityName","HATCH");(Sr$1={})[Sr$1.ShowImage=1]="ShowImage",Sr$1[Sr$1.ShowImageWhenNotAlignedWithScreen=2]="ShowImageWhenNotAlignedWithScreen",Sr$1[Sr$1.UseClippingBoundary=4]="UseClippingBoundary",Sr$1[Sr$1.TransparencyIsOn=8]="TransparencyIsOn";(vs$1={})[vs$1.Rectangular=1]="Rectangular",vs$1[vs$1.Polygonal=2]="Polygonal";(bs$3={})[bs$3.Outside=0]="Outside",bs$3[bs$3.Inside=1]="Inside";function ih$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Qu$1={brightness:50,contrast:50,fade:0,clippingBoundaryPath:[]},Ju$1=[{code:290,name:"clipMode",parser:v$1},{code:14,name:"clippingBoundaryPath",isMultiple:!0,parser:G$2},{code:91,name:"countBoundaryPoints",parser:v$1},{code:71,name:"clippingBoundaryType",parser:v$1},{code:360,name:"imageDefReactorHandle",parser:v$1},{code:283,name:"fade",parser:v$1},{code:282,name:"contrast",parser:v$1},{code:281,name:"brightness",parser:v$1},{code:280,name:"isClipped",parser:Ut$3},{code:70,name:"flags",parser:v$1},{code:340,name:"imageDefHandle",parser:v$1},{code:13,name:"imageSize",parser:G$2},{code:12,name:"vPixel",parser:G$2},{code:11,name:"uPixel",parser:G$2},{code:10,name:"position",parser:G$2},{code:90,name:"version",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],ah$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){ih$1(this,"parser",xt$1(Ju$1,Qu$1))}};function oh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ih$1(ah$1,"ForEntityName","IMAGE");let td$1={xScale:1,yScale:1,zScale:1,rotation:0,columnCount:0,rowCount:0,columnSpacing:0,rowSpacing:0,extrusionDirection:{x:0,y:0,z:1}},ed$1=[{code:210,name:"extrusionDirection",parser:G$2},{code:45,name:"rowSpacing",parser:v$1},{code:44,name:"columnSpacing",parser:v$1},{code:71,name:"rowCount",parser:v$1},{code:70,name:"columnCount",parser:v$1},{code:50,name:"rotation",parser:v$1},{code:43,name:"zScale",parser:v$1},{code:42,name:"yScale",parser:v$1},{code:41,name:"xScale",parser:v$1},{code:10,name:"insertionPoint",parser:G$2},{code:2,name:"name",parser:v$1},{code:66,name:"isVariableAttributes",parser:Ut$3},{code:100,name:"subclassMarker",parser:v$1},...jt$1],lh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){oh$1(this,"parser",xt$1(ed$1,td$1))}};function hh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}oh$1(lh$1,"ForEntityName","INSERT");let rd$1={isArrowheadEnabled:!0},nd$1=[{code:213,name:"offsetFromAnnotation",parser:G$2},{code:212,name:"offsetFromBlock",parser:G$2},{code:211,name:"horizontalDirection",parser:G$2},{code:210,name:"normal",parser:G$2},{code:340,name:"associatedAnnotation",parser:v$1},{code:77,name:"byBlockColor",parser:v$1},{code:10,name:"vertices",parser:G$2,isMultiple:!0},{code:76,name:"numberOfVertices",parser:v$1},{code:41,name:"textWidth",parser:v$1},{code:40,name:"textHeight",parser:v$1},{code:75,name:"isHooklineExists",parser:Ut$3},{code:74,name:"isHooklineSameDirection",parser:Ut$3},{code:73,name:"leaderCreationFlag",parser:v$1},{code:72,name:"isSpline",parser:Ut$3},{code:71,name:"isArrowheadEnabled",parser:Ut$3},{code:3,name:"styleName",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],ch$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){hh$1(this,"parser",xt$1(nd$1,rd$1))}};hh$1(ch$1,"ForEntityName","LEADER");(Ir$1={})[Ir$1.TextAnnotation=0]="TextAnnotation",Ir$1[Ir$1.ToleranceAnnotation=1]="ToleranceAnnotation",Ir$1[Ir$1.BlockReferenceAnnotation=2]="BlockReferenceAnnotation",Ir$1[Ir$1.NoAnnotation=3]="NoAnnotation";function uh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let sd$1={thickness:0,extrusionDirection:{x:0,y:0,z:1}},id$1=[{code:210,name:"extrusionDirection",parser:G$2},{code:11,name:"endPoint",parser:G$2},{code:10,name:"startPoint",parser:G$2},{code:39,name:"thickness",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],dh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){uh$1(this,"parser",xt$1(id$1,sd$1))}};uh$1(dh$1,"ForEntityName","LINE");(xs$1={})[xs$1.IS_CLOSED=1]="IS_CLOSED",xs$1[xs$1.PLINE_GEN=128]="PLINE_GEN";let ad$1={flag:0,elevation:0,thickness:0,extrusionDirection:{x:0,y:0,z:1},vertices:[]},od$1={bulge:0},ld$1=[{code:42,name:"bulge",parser:v$1},{code:41,name:"endWidth",parser:v$1},{code:40,name:"startWidth",parser:v$1},{code:91,name:"id",parser:v$1},{code:20,name:"y",parser:v$1},{code:10,name:"x",parser:v$1}],hd$1=[{code:210,name:"extrusionDirection",parser:G$2},{code:10,name:"vertices",isMultiple:!0,parser(t,e){let n={};return xt$1(ld$1,od$1)(t,e,n),n}},{code:39,name:"thickness",parser:v$1},{code:38,name:"elevation",parser:v$1},{code:43,name:"constantWidth",parser:v$1},{code:70,name:"flag",parser:v$1},{code:90,name:"numberOfVertices",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],ti$2=class{parseEntity(e,n){let r={};return xt$1(hd$1,ad$1)(n,e,r),r}};function ph$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Oi$1="LWPOLYLINE",(Li$2="ForEntityName")in ti$2?Object.defineProperty(ti$2,Li$2,{value:Oi$1,enumerable:!0,configurable:!0,writable:!0}):ti$2[Li$2]=Oi$1;let cd$1=[{code:90,name:"overridenSubEntityCount",parser:v$1},{code:140,name:"edgeCreaseWeights",parser:v$1,isMultiple:!0},{code:95,name:"edgeCreaseCount",parser:v$1},{code:94,parser(t,e,n){n.edgeCount=t.value,n.edgeIndices=[];for(let r=0;r<n.edgeCount;++r){let g=[];t=e.next(),g[0]=t.value,t=e.next(),g[1]=t.value,n.edgeIndices.push(g)}}},{code:93,parser(t,e,n){n.totalFaceIndices=t.value,n.faceIndices=[];let r=[];for(let $=0;$<n.totalFaceIndices&&!Pt$2(t,0);++$)t=e.next(),r.push(t.value);let g=0;for(;g<r.length;){let $=r[g++],y=[];for(let k=0;k<$;++k)y.push(r[g++]);n.faceIndices.push(y)}}},{code:10,name:"vertices",parser:G$2,isMultiple:!0},{code:92,name:"verticesCount",parser:v$1},{code:91,name:"subdivisionLevel",parser:v$1},{code:40,name:"blendCrease",parser:v$1},{code:72,name:"isBlendCreased",parser:Ut$3},{code:71,name:"version",parser:v$1},{code:100,name:"subclassMarker",parser:function({value:t}){return t.trim()},pushContext:!0},...jt$1],mh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){ph$1(this,"parser",xt$1(cd$1))}};function gh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ph$1(mh$1,"ForEntityName","MESH");let ud$1={thickness:0,extrusionDirection:{x:0,y:0,z:1},angle:0},dd$1=[{code:50,name:"angle",parser:v$1},{code:210,name:"extrusionDirection",parser:G$2},{code:39,name:"thickness",parser:v$1},{code:10,name:"position",parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],fh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){gh$1(this,"parser",xt$1(dd$1,ud$1))}};gh$1(fh$1,"ForEntityName","POINT");(de={})[de.CLOSED_POLYLINE=1]="CLOSED_POLYLINE",de[de.CURVE_FIT=2]="CURVE_FIT",de[de.SPLINE_FIT=4]="SPLINE_FIT",de[de.POLYLINE_3D=8]="POLYLINE_3D",de[de.POLYGON_3D=16]="POLYGON_3D",de[de.CLOSED_POLYGON=32]="CLOSED_POLYGON",de[de.POLYFACE=64]="POLYFACE",de[de.CONTINUOUS=128]="CONTINUOUS";var Ws=((Er$1={})[Er$1.NONE=0]="NONE",Er$1[Er$1.QUADRATIC=5]="QUADRATIC",Er$1[Er$1.CUBIC=6]="CUBIC",Er$1[Er$1.BEZIER=8]="BEZIER",Er$1),pd$1=((pe$1={})[pe$1.CREATED_BY_CURVE_FIT=1]="CREATED_BY_CURVE_FIT",pe$1[pe$1.TANGENT_DEFINED=2]="TANGENT_DEFINED",pe$1[pe$1.NOT_USED=4]="NOT_USED",pe$1[pe$1.CREATED_BY_SPLINE_FIT=8]="CREATED_BY_SPLINE_FIT",pe$1[pe$1.SPLINE_CONTROL_POINT=16]="SPLINE_CONTROL_POINT",pe$1[pe$1.FOR_POLYLINE=32]="FOR_POLYLINE",pe$1[pe$1.FOR_POLYGON=64]="FOR_POLYGON",pe$1[pe$1.POLYFACE=128]="POLYFACE",pe$1);function _h$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let md$1={startWidth:0,endWidth:0,bulge:0},gd$1=[{code:91,name:"id",parser:v$1},{code:[...ci$2(71,75)],name:"faces",isMultiple:!0,parser:v$1},{code:50,name:"tangentDirection",parser:v$1},{code:70,name:"flag",parser:v$1},{code:42,name:"bulge",parser:v$1},{code:41,name:"endWidth",parser:v$1},{code:40,name:"startWidth",parser:v$1},{code:30,name:"z",parser:v$1},{code:20,name:"y",parser:v$1},{code:10,name:"x",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},{code:100},...jt$1],Ia$2=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){_h$1(this,"parser",xt$1(gd$1,md$1))}};function yh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}_h$1(Ia$2,"ForEntityName","VERTEX");let fd$1={thickness:0,flag:0,startWidth:0,endWidth:0,meshMVertexCount:0,meshNVertexCount:0,surfaceMDensity:0,surfaceNDensity:0,smoothType:0,extrusionDirection:{x:0,y:0,z:1},vertices:[]},_d$1=[{code:0,name:"vertices",isMultiple:!0,parser:(t,e)=>Pt$2(t,0,"VERTEX")?(t=e.next(),new Ia$2().parseEntity(e,t)):Pa$1},{code:210,name:"extrusionDirection",parser:G$2},{code:75,name:"smoothType",parser:v$1},{code:74,name:"surfaceNDensity",parser:v$1},{code:73,name:"surfaceMDensity",parser:v$1},{code:72,name:"meshNVertexCount",parser:v$1},{code:71,name:"meshMVertexCount",parser:v$1},{code:41,name:"endWidth",parser:v$1},{code:40,name:"startWidth",parser:v$1},{code:70,name:"flag",parser:v$1},{code:39,name:"thickness",parser:v$1},{code:30,name:"elevation",parser:v$1},{code:20},{code:10},{code:66},{code:100,name:"subclassMarker",parser:v$1},...jt$1],vh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){yh$1(this,"parser",xt$1(_d$1,fd$1))}};function bh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}yh$1(vh$1,"ForEntityName","POLYLINE");let yd$1=[{code:11,name:"direction",parser:G$2},{code:10,name:"position",parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],xh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){bh$1(this,"parser",xt$1(yd$1))}};function wh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}bh$1(xh$1,"ForEntityName","RAY");let vd$1=[...gi$2("data"),{code:70,name:"version",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Ah$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){wh$1(this,"parser",xt$1(vd$1))}};function Ph$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}wh$1(Ah$1,"ForEntityName","REGION");let bd$1={vertices:[],backLineVertices:[]},xd$1=[{code:360,name:"geometrySettingHardId",parser:v$1},{code:12,name:"backLineVertices",isMultiple:!0,parser:G$2},{code:93,name:"numberOfBackLineVertices",parser:v$1},{code:11,name:"vertices",isMultiple:!0,parser:G$2},{code:92,name:"verticesCount",parser:v$1},{code:[63,411],name:"indicatorColor",parser:v$1},{code:70,name:"indicatorTransparency",parser:v$1},{code:41,name:"bottomHeight",parser:v$1},{code:40,name:"topHeight",parser:v$1},{code:10,name:"verticalDirection",parser:G$2},{code:1,name:"name",parser:v$1},{code:91,name:"flag",parser:v$1},{code:90,name:"state",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Sh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Ph$1(this,"parser",xt$1(xd$1,bd$1))}};function Ih$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ph$1(Sh$1,"ForEntityName","SECTION");let wd$1={points:[],thickness:0,extrusionDirection:{x:0,y:0,z:1}},Ad$1=[{code:210,name:"extrusionDirection",parser:G$2},{code:39,name:"thickness",parser:v$1},{code:[...ci$2(10,14)],name:"points",isMultiple:!0,parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Eh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Ih$1(this,"parser",xt$1(Ad$1,wd$1))}};function Mh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ih$1(Eh$1,"ForEntityName","SOLID");let Pd$1=[{code:350,name:"historyObjectSoftId",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...gi$2("data"),{code:70,name:"version",parser:v$1},{code:100},...jt$1],kh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Mh$1(this,"parser",xt$1(Pd$1))}};Mh$1(kh$1,"ForEntityName","3DSOLID");(Ve$2={})[Ve$2.NONE=0]="NONE",Ve$2[Ve$2.CLOSED=1]="CLOSED",Ve$2[Ve$2.PERIODIC=2]="PERIODIC",Ve$2[Ve$2.RATIONAL=4]="RATIONAL",Ve$2[Ve$2.PLANAR=8]="PLANAR",Ve$2[Ve$2.LINEAR=16]="LINEAR";function Th$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Sd$1={knotTolerance:1e-6,controlTolerance:1e-6,fitTolerance:1e-9,knotValues:[],controlPoints:[],fitPoints:[]},Id$1=[{code:11,name:"fitPoints",isMultiple:!0,parser:G$2},{code:10,name:"controlPoints",isMultiple:!0,parser:G$2},{code:41,name:"weights",isMultiple:!0,parser:v$1},{code:40,name:"knots",isMultiple:!0,parser:v$1},{code:13,name:"endTangent",parser:G$2},{code:12,name:"startTangent",parser:G$2},{code:44,name:"fitTolerance",parser:v$1},{code:43,name:"controlTolerance",parser:v$1},{code:42,name:"knotTolerance",parser:v$1},{code:74,name:"numberOfFitPoints",parser:v$1},{code:73,name:"numberOfControlPoints",parser:v$1},{code:72,name:"numberOfKnots",parser:v$1},{code:71,name:"degree",parser:v$1},{code:70,name:"flag",parser:v$1},{code:210,name:"normal",parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Ch$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Th$1(this,"parser",xt$1(Id$1,Sd$1))}};Th$1(Ch$1,"ForEntityName","SPLINE");let ei$2=class{parseEntity(e,n){let r={};for(;!e.isEOF();){if(n.code===0){e.rewind();break}switch(n.code){case 100:r.subclassMarker=n.value,n=e.next();break;case 2:r.name=n.value,n=e.next();break;case 5:r.handle=n.value,n=e.next();break;case 10:r.startPoint=qr$1(Rt$3(e)),n=e.lastReadGroup;break;case 11:r.directionVector=qr$1(Rt$3(e)),n=e.lastReadGroup;break;case 90:r.tableValue=n.value,n=e.next();break;case 91:r.rowCount=n.value,n=e.next();break;case 92:r.columnCount=n.value,n=e.next();break;case 93:r.overrideFlag=n.value,n=e.next();break;case 94:r.borderColorOverrideFlag=n.value,n=e.next();break;case 95:r.borderLineWeightOverrideFlag=n.value,n=e.next();break;case 96:r.borderVisibilityOverrideFlag=n.value,n=e.next();break;case 141:r.rowHeightArr??(r.rowHeightArr=[]),r.rowHeightArr.push(n.value),n=e.next();break;case 142:r.columnWidthArr??(r.columnWidthArr=[]),r.columnWidthArr.push(n.value),n=e.next();break;case 280:r.version=n.value,n=e.next();break;case 310:r.bmpPreview??(r.bmpPreview=""),r.bmpPreview+=n.value,n=e.next();break;case 330:r.ownerDictionaryId=n.value,n=e.next();break;case 342:r.tableStyleId=n.value,n=e.next();break;case 343:r.blockRecordHandle=n.value,n=e.next();break;case 170:r.attachmentPoint=n.value,n=e.next();break;case 171:r.cells??(r.cells=[]),r.cells.push(function(g,$){let y=!1,k=!1,L={};for(;!g.isEOF()&&$.code!==0&&!k;)switch($.code){case 171:if(y){k=!0;continue}L.cellType=$.value,y=!0,$=g.next();break;case 172:L.flagValue=$.value,$=g.next();break;case 173:L.mergedValue=$.value,$=g.next();break;case 174:L.autoFit=$.value,$=g.next();break;case 175:L.borderWidth=$.value,$=g.next();break;case 176:L.borderHeight=$.value,$=g.next();break;case 91:L.overrideFlag=$.value,$=g.next();break;case 178:L.virtualEdgeFlag=$.value,$=g.next();break;case 145:L.rotation=$.value,$=g.next();break;case 345:L.fieldObjetId=$.value,$=g.next();break;case 340:L.blockTableRecordId=$.value,$=g.next();break;case 146:L.blockScale=$.value,$=g.next();break;case 177:L.blockAttrNum=$.value,$=g.next();break;case 7:L.textStyle=$.value,$=g.next();break;case 140:L.textHeight=$.value,$=g.next();break;case 170:L.attachmentPoint=$.value,$=g.next();break;case 92:L.extendedCellFlags=$.value,$=g.next();break;case 285:L.rightBorderVisibility=!!($.value??!0),$=g.next();break;case 286:L.bottomBorderVisibility=!!($.value??!0),$=g.next();break;case 288:L.leftBorderVisibility=!!($.value??!0),$=g.next();break;case 289:L.topBorderVisibility=!!($.value??!0),$=g.next();break;case 301:(function(V,z,j){for(;j.code!==304;)switch(j.code){case 301:case 93:case 90:case 94:j=z.next();break;case 1:V.text=j.value,j=z.next();break;case 300:V.attrText=j.value,j=z.next();break;case 302:V.text=j.value?j.value:V.text,j=z.next();break;default:console.log(`Ignore code: ${j.code}, value: ${j.value}`),j=z.next()}})(L,g,$),$=g.next();break;default:return L}return y=!1,k=!1,L}(e,n)),n=e.lastReadGroup;break;default:Sa$2(r,n,e),n=e.next()}}return r}};function Nh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}zi$2="ACAD_TABLE",(Bi$2="ForEntityName")in ei$2?Object.defineProperty(ei$2,Bi$2,{value:zi$2,enumerable:!0,configurable:!0,writable:!0}):ei$2[Bi$2]=zi$2;let Ed$1=[{code:11,name:"xAxisDirection",parser:G$2},{code:210,name:"extrusionDirection",parser:G$2},{code:1,name:"text",parser:v$1},{code:10,name:"position",parser:G$2},{code:3,name:"styleName",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Lh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Nh$1(this,"parser",xt$1(Ed$1))}};Nh$1(Lh$1,"ForEntityName","TOLERANCE");let ri$2=class{parseEntity(e,n){let r={};for(;n!=="EOF";){if(n.code===0){e.rewind();break}!function(g,$,y){if(y==="EOF")return!1;switch(y.code){case 0:return!1;case 8:g.layer=y.value;break;case 100:g.subclassMarker=y.value;break;case 10:g.viewportCenter=qr$1(Rt$3($));break;case 40:g.width=y.value;break;case 41:g.height=y.value;break;case 68:g.status=y.value;break;case 69:g.viewportId=y.value;break;case 12:g.displayCenter=Rt$3($);break;case 13:g.snapBase=Rt$3($);break;case 14:g.snapSpacing=Rt$3($);break;case 15:g.gridSpacing=Rt$3($);break;case 16:g.viewDirection=qr$1(Rt$3($));break;case 17:g.targetPoint=qr$1(Rt$3($));break;case 42:g.perspectiveLensLength=y.value;break;case 43:g.frontClipZ=y.value;break;case 44:g.backClipZ=y.value;break;case 45:g.viewHeight=y.value;break;case 50:g.snapAngle=y.value;break;case 51:g.viewTwistAngle=y.value;break;case 72:g.circleZoomPercent=y.value;break;case 331:g.frozenLayerIds??(g.frozenLayerIds=[]),g.frozenLayerIds.push(y.value);break;case 90:g.statusBitFlags=y.value;break;case 340:g.clippingBoundaryId=y.value;break;case 1:g.sheetName=y.value;break;case 281:g.renderMode=y.value;break;case 71:g.ucsPerViewport=y.value;break;case 110:g.ucsOrigin=qr$1(Rt$3($));break;case 111:g.ucsXAxis=qr$1(Rt$3($));break;case 112:g.ucsYAxis=qr$1(Rt$3($));break;case 345:g.ucsId=y.value;break;case 346:g.ucsBaseId=y.value;break;case 79:g.orthographicType=y.value;break;case 146:g.elevation=y.value;break;case 170:g.shadePlotMode=y.value;break;case 61:g.majorGridFrequency=y.value;break;case 332:g.backgroundId=y.value;break;case 333:g.shadePlotId=y.value;break;case 348:g.visualStyleId=y.value;break;case 292:g.isDefaultLighting=!!y.value;break;case 282:g.defaultLightingType=y.value;break;case 141:g.brightness=y.value;break;case 142:g.contrast=y.value;break;case 63:case 421:case 431:g.ambientLightColor=y.value;break;case 361:g.sunId=y.value;break;case 335:case 343:case 344:case 91:g.softPointer=y.value}return!0}(r,e,n)&&Sa$2(r,n,e),n=e.next()}return r}};Fi$1="VIEWPORT",(Ri$1="ForEntityName")in ri$2?Object.defineProperty(ri$2,Ri$1,{value:Fi$1,enumerable:!0,configurable:!0,writable:!0}):ri$2[Ri$1]=Fi$1;(Mr$1={})[Mr$1.ShowImage=1]="ShowImage",Mr$1[Mr$1.ShowImageWhenNotAligned=2]="ShowImageWhenNotAligned",Mr$1[Mr$1.UseClippingBoundary=4]="UseClippingBoundary",Mr$1[Mr$1.Transparency=8]="Transparency";function Oh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Md$1={brightness:50,constrast:50,fade:0},kd$1=[{code:14,name:"boundary",isMultiple:!0,parser:G$2},{code:91,name:"numberOfVertices",parser:v$1},{code:71,name:"boundaryType",parser:v$1},{code:360,name:"imageDefReactorHardId",parser:v$1},{code:283,name:"fade",parser:v$1},{code:282,name:"contrast",parser:v$1},{code:281,name:"brightness",parser:v$1},{code:280,name:"isClipping",parser:Ut$3},{code:70,name:"displayFlag",parser:v$1},{code:340,name:"imageDefHardId",parser:v$1},{code:13,name:"imageSize",parser:G$2},{code:12,name:"vDirection",parser:G$2},{code:11,name:"uDirection",parser:G$2},{code:10,name:"position",parser:G$2},{code:90,name:"classVersion",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Bh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Oh$1(this,"parser",xt$1(kd$1,Md$1))}};function zh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Oh$1(Bh$1,"ForEntityName","WIPEOUT");let Td$1=[{code:11,name:"direction",parser:G$2},{code:10,name:"position",parser:G$2},{code:100,name:"subclassMarker",parser:v$1},...jt$1],Rh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){zh$1(this,"parser",xt$1(Td$1))}};function Fh$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}zh$1(Rh$1,"ForEntityName","XLINE");let Cd$1={},Nd$1=[{code:170,name:"multileaderType",parser:v$1},{code:291,name:"doglegEnabled",parser:Ut$3},{code:40,name:"doglegLength",parser:v$1},{code:172,name:"contentType",parser:v$1},{code:3,name:"textContent",parser:v$1},{code:12,name:"textAnchor",parser:G$2},{code:344,name:"blockHandle",parser:v$1},{code:15,name:"blockPosition",parser:G$2},{code:302,name:"leaderSections",parser:function(t,e,n){let r,g={leaderLines:[]};for(;e.hasNext()&&(r=e.next()).code!==303;)switch(r.code){case 10:g.landingPoint=(r.value,Rt$3(e));break;case 11:g.doglegVector=(r.value,Rt$3(e));break;case 40:g.doglegLength=r.value;break;case 304:g.leaderLines.push(function($,y,k){let L,V={vertices:[]};for(;y.hasNext()&&(L=y.next()).code!==305;)L.code===10&&V.vertices.push((L.value,Rt$3(y)));return V}(0,e))}return g},isMultiple:!0},...jt$1],Dh$1=class{parseEntity(e,n){let r={};return this.parser(n,e,r),r}constructor(){Fh$1(this,"parser",xt$1(Nd$1,Cd$1))}};Fh$1(Dh$1,"ForEntityName","MULTILEADER");let Ld$1=Object.fromEntries([Rl$2,Gl$2,Yl$2,Kl$2,Zl$2,Js$1,Jl$2,eh$1,ah$1,lh$1,ch$1,dh$1,ti$2,mh$1,Hl$2,Dh$1,fh$1,vh$1,xh$1,Ah$1,Sh$1,Eh$1,kh$1,Ch$1,ei$2,Vl$2,Lh$1,sh$1,Ia$2,ri$2,Bh$1,Rh$1].map(t=>[t.ForEntityName,new t]));function Uh$1(t,e){let n=[];for(;!Pt$2(t,0,"EOF");){if(t.code===0){if(t.value==="ENDBLK"||t.value==="ENDSEC"){e.rewind();break}let r=Ld$1[t.value];if(r){let g=t.value;t=e.next();let $=r.parseEntity(e,t);$.type=g,Ol$2($),n.push($)}else e.debug&&console.warn(`Unsupported ENTITY type: ${t.value}`)}t=e.next()}return n}function Od$1(t,e){let n={};for(;!Pt$2(t,0,"EOF")&&!Pt$2(t,0,"ENDSEC");){if(Pt$2(t,0,"BLOCK")){let r=Bd$1(t=e.next(),e);Ol$2(r),r.name&&(n[r.name]=r)}t=e.next()}return n}function Bd$1(t,e){let n={};for(;!Pt$2(t,0,"EOF");){if(Pt$2(t,0,"ENDBLK")){for(t=e.next();!Pt$2(t,0,"EOF");){if(Pt$2(t,100,"AcDbBlockEnd"))return n;t=e.next()}break}switch(t.code){case 1:n.xrefPath=t.value;break;case 2:n.name=t.value;break;case 3:n.name2=t.value;break;case 5:n.handle=t.value;break;case 8:n.layer=t.value;break;case 10:n.position=Rt$3(e);break;case 67:n.paperSpace=!!t.value&&t.value==1;break;case 70:t.value!==0&&(n.type=t.value);break;case 100:break;case 330:n.ownerHandle=t.value;break;case 0:n.entities=Uh$1(t,e)}t=e.next()}return n}function zd$1(t,e){let n=null,r={};for(;!Pt$2(t,0,"EOF")&&!Pt$2(t,0,"ENDSEC");)t.code===9?n=t.value:t.code===10?r[n]=Rt$3(e):r[n]=t.value,t=e.next();return r}(je$2={})[je$2.NOT_APPLICABLE=0]="NOT_APPLICABLE",je$2[je$2.KEEP_EXISTING=1]="KEEP_EXISTING",je$2[je$2.USE_CLONE=2]="USE_CLONE",je$2[je$2.XREF_VALUE_NAME=3]="XREF_VALUE_NAME",je$2[je$2.VALUE_NAME=4]="VALUE_NAME",je$2[je$2.UNMANGLE_NAME=5]="UNMANGLE_NAME";let Ea$2=[{code:330,name:"ownerObjectId",parser:v$1},{code:102,parser:pn$3},{code:102,parser:pn$3},{code:102,parser:pn$3},{code:5,name:"handle",parser:v$1}],Rd$1=[{code:3,name:"entries",parser:(t,e)=>{let n={name:t.value};return(t=e.next()).code===350?n.objectSoftId=t.value:t.code===360?n.objectHardId=t.value:e.rewind(),n},isMultiple:!0},{code:281,name:"recordCloneFlag",parser:v$1},{code:280,name:"isHardOwned",parser:Ut$3},{code:100,name:"subclassMarker",parser:v$1},...Ea$2],Fd$1=[{code:330,name:"imageDefReactorIdSoft",isMultiple:!0,parser:v$1},{code:90,name:"version",parser:v$1},{code:1,name:"fileName",parser:v$1},{code:10,name:"size",parser:G$2},{code:11,name:"sizeOfOnePixel",parser:G$2},{code:280,name:"isLoaded",parser:v$1},{code:281,name:"resolutionUnits",parser:v$1},{code:100,name:"subclassMarker",parser:v$1}];(hn$2={})[hn$2.NOUNIT=0]="NOUNIT",hn$2[hn$2.CENTIMETERS=2]="CENTIMETERS",hn$2[hn$2.INCH=5]="INCH";(ws$1={})[ws$1.PSLTSCALE=1]="PSLTSCALE",ws$1[ws$1.LIMCHECK=2]="LIMCHECK";(cn$3={})[cn$3.INCHES=0]="INCHES",cn$3[cn$3.MILLIMETERS=1]="MILLIMETERS",cn$3[cn$3.PIXELS=2]="PIXELS";(Ge$2={})[Ge$2.LAST_SCREEN_DISPLAY=0]="LAST_SCREEN_DISPLAY",Ge$2[Ge$2.DRAWING_EXTENTS=1]="DRAWING_EXTENTS",Ge$2[Ge$2.DRAWING_LIMITS=2]="DRAWING_LIMITS",Ge$2[Ge$2.VIEW_SPECIFIED=3]="VIEW_SPECIFIED",Ge$2[Ge$2.WINDOW_SPECIFIED=4]="WINDOW_SPECIFIED",Ge$2[Ge$2.LAYOUT_INFORMATION=5]="LAYOUT_INFORMATION";(kr$1={})[kr$1.AS_DISPLAYED=0]="AS_DISPLAYED",kr$1[kr$1.WIREFRAME=1]="WIREFRAME",kr$1[kr$1.HIDDEN=2]="HIDDEN",kr$1[kr$1.RENDERED=3]="RENDERED";(We$3={})[We$3.DRAFT=0]="DRAFT",We$3[We$3.PREVIEW=1]="PREVIEW",We$3[We$3.NORMAL=2]="NORMAL",We$3[We$3.PRESENTATION=3]="PRESENTATION",We$3[We$3.MAXIMUM=4]="MAXIMUM",We$3[We$3.CUSTOM=5]="CUSTOM";let Vh$1=[{code:333,name:"shadePlotId",parser:v$1},{code:149,name:"imageOriginY",parser:v$1},{code:148,name:"imageOriginX",parser:v$1},{code:147,name:"scaleFactor",parser:v$1},{code:78,name:"shadePlotCustomDPI",parser:v$1},{code:77,name:"shadePlotResolution",parser:v$1},{code:76,name:"shadePlotMode",parser:v$1},{code:75,name:"standardScaleType",parser:v$1},{code:7,name:"currentStyleSheet",parser:v$1},{code:74,name:"plotType",parser:v$1},{code:73,name:"plotRotation",parser:v$1},{code:72,name:"plotPaperUnit",parser:v$1},{code:70,name:"layoutFlag",parser:v$1},{code:143,name:"printScaleDenominator",parser:v$1},{code:142,name:"printScaleNumerator",parser:v$1},{code:141,name:"windowAreaYMax",parser:v$1},{code:140,name:"windowAreaXMax",parser:v$1},{code:49,name:"windowAreaYMin",parser:v$1},{code:48,name:"windowAreaXMin",parser:v$1},{code:47,name:"plotOriginY",parser:v$1},{code:46,name:"plotOriginX",parser:v$1},{code:45,name:"paperHeight",parser:v$1},{code:44,name:"paperWidth",parser:v$1},{code:43,name:"marginTop",parser:v$1},{code:42,name:"marginRight",parser:v$1},{code:41,name:"marginBottom",parser:v$1},{code:40,name:"marginLeft",parser:v$1},{code:6,name:"plotViewName",parser:v$1},{code:4,name:"paperSize",parser:v$1},{code:2,name:"configName",parser:v$1},{code:1,name:"pageSetupName",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...Ea$2],Dd$1=[{code:346,name:"orthographicUcsId",parser:v$1},{code:345,name:"namedUcsId",parser:v$1},{code:331,name:"viewportId",parser:v$1},{code:330,name:"paperSpaceTableId",parser:v$1},{code:76,name:"orthographicType",parser:v$1},{code:17,name:"ucsYAxis",parser:G$2},{code:16,name:"ucsXAxis",parser:G$2},{code:13,name:"ucsOrigin",parser:G$2},{code:146,name:"elevation",parser:v$1},{code:15,name:"maxExtent",parser:G$2},{code:14,name:"minExtent",parser:G$2},{code:12,name:"insertionPoint",parser:G$2},{code:11,name:"maxLimit",parser:G$2},{code:10,name:"minLimit",parser:G$2},{code:71,name:"tabOrder",parser:v$1},{code:70,name:"controlFlag",parser:v$1},{code:1,name:"layoutName",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...Vh$1],Ud$1=[{code:40,name:"wcsToOCSTransform",parser:Go$2},{code:40,name:"ocsToWCSTransform",parser:Go$2},{code:41,name:"backClippingDistance",parser:v$1},{code:73,name:"isBackClipping",parser:Ut$3,pushContext:!0},{code:40,name:"frontClippingDistance",parser:v$1},{code:72,name:"isFrontClipping",parser:Ut$3,pushContext:!0},{code:71,name:"isClipBoundaryDisplayed",parser:Ut$3},{code:11,name:"position",parser:G$2},{code:210,name:"normal",parser:G$2},{code:10,name:"boundaryVertices",parser:G$2,isMultiple:!0},{code:70,name:"boundaryCount",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},{code:100},...Ea$2];function Go$2(t,e){let n=[];for(let r=0;r<3&&Pt$2(t,40);++r){let g=[];for(let $=0;$<4&&Pt$2(t,40);++$)g.push(t.value),t=e.next();n.push(g)}return e.rewind(),n}let Vd$1={LAYOUT:Dd$1,PLOTSETTINGS:Vh$1,DICTIONARY:Rd$1,SPATIAL_FILTER:Ud$1,IMAGEDEF:Fd$1};function jd$1(t,e){let n=[];for(;t.code!==0||!["EOF","ENDSEC"].includes(t.value);){let r=t.value,g=Vd$1[r];if(t.code===0&&g!=null&&g.length){let $=xt$1(g),y={name:r};$(t=e.next(),e,y)?(n.push(y),t=e.peek()):t=e.next()}else t=e.next()}return{byName:Nu$1(n,({name:r})=>r)}}let Fn$2=[{code:100,name:"subclassMarker",parser:v$1},{code:330,name:"ownerObjectId",parser:v$1},{code:102,parser(t,e){for(;!Pt$2(t,0,"EOF")&&!Pt$2(t,102,"}");)t=e.next()}},{code:5,name:"handle",parser:v$1}],Gd$1=xt$1([{code:310,name:"bmpPreview",parser:v$1},{code:281,name:"scalability",parser:v$1},{code:280,name:"explodability",parser:v$1},{code:70,name:"insertionUnits",parser:v$1},{code:340,name:"layoutObjects",parser:v$1},{code:2,name:"name",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...Fn$2]),Wd$1=[{name:"DIMPOST",code:3},{name:"DIMAPOST",code:4},{name:"DIMBLK_OBSOLETE",code:5},{name:"DIMBLK1_OBSOLETE",code:6},{name:"DIMBLK2_OBSOLETE",code:7},{name:"DIMSCALE",code:40,defaultValue:1},{name:"DIMASZ",code:41,defaultValue:.25},{name:"DIMEXO",code:42,defaultValue:.625,defaultValueImperial:.0625},{name:"DIMDLI",code:43,defaultValue:3.75,defaultValueImperial:.38},{name:"DIMEXE",code:44,defaultValue:2.25,defaultValueImperial:.28},{name:"DIMRND",code:45,defaultValue:0},{name:"DIMDLE",code:46,defaultValue:0},{name:"DIMTP",code:47,defaultValue:0},{name:"DIMTM",code:48,defaultValue:0},{name:"DIMTXT",code:140,defaultValue:2.5,defaultValueImperial:.28},{name:"DIMCEN",code:141,defaultValue:2.5,defaultValueImperial:.09},{name:"DIMTSZ",code:142,defaultValue:0},{name:"DIMALTF",code:143,defaultValue:25.4},{name:"DIMLFAC",code:144,defaultValue:1},{name:"DIMTVP",code:145,defaultValue:0},{name:"DIMTFAC",code:146,defaultValue:1},{name:"DIMGAP",code:147,defaultValue:.625,defaultValueImperial:.09},{name:"DIMALTRND",code:148,defaultValue:0},{name:"DIMTOL",code:71,defaultValue:0,defaultValueImperial:1},{name:"DIMLIM",code:72,defaultValue:0},{name:"DIMTIH",code:73,defaultValue:0,defaultValueImperial:1},{name:"DIMTOH",code:74,defaultValue:0,defaultValueImperial:1},{name:"DIMSE1",code:75,defaultValue:0},{name:"DIMSE2",code:76,defaultValue:0},{name:"DIMTAD",code:77,defaultValue:Vo$1.Above,defaultValueImperial:Vo$1.Center},{name:"DIMZIN",code:78,defaultValue:Bn$2.Trailing,defaultValueImperial:Bn$2.Feet},{name:"DIMAZIN",code:79,defaultValue:_u$1.None},{name:"DIMALT",code:170,defaultValue:0},{name:"DIMALTD",code:171,defaultValue:3,defaultValueImperial:2},{name:"DIMTOFL",code:172,defaultValue:1,defaultValueImperial:0},{name:"DIMSAH",code:173,defaultValue:0},{name:"DIMTIX",code:174,defaultValue:0},{name:"DIMSOXD",code:175,defaultValue:0},{name:"DIMCLRD",code:176,defaultValue:0},{name:"DIMCLRE",code:177,defaultValue:0},{name:"DIMCLRT",code:178,defaultValue:0},{name:"DIMADEC",code:179},{name:"DIMUNIT",code:270},{name:"DIMDEC",code:271,defaultValue:2,defaultValueImperial:4},{name:"DIMTDEC",code:272,defaultValue:2,defaultValueImperial:4},{name:"DIMALTU",code:273,defaultValue:2},{name:"DIMALTTD",code:274,defaultValue:2,defaultValueImperial:4},{name:"DIMAUNIT",code:275,defaultValue:0},{name:"DIMFRAC",code:276,defaultValue:0},{name:"DIMLUNIT",code:277,defaultValue:2},{name:"DIMDSEP",code:278,defaultValue:",",defaultValueImperial:"."},{name:"DIMJUST",code:280,defaultValue:yu$1.Center},{name:"DIMSD1",code:281,defaultValue:0},{name:"DIMSD2",code:282,defaultValue:0},{name:"DIMTOLJ",code:283,defaultValue:vu$1.Center},{name:"DIMTZIN",code:284,defaultValue:Bn$2.Trailing,defaultValueImperial:Bn$2.Feet},{name:"DIMALTZ",code:285,defaultValue:Bn$2.Trailing},{name:"DIMALTTZ",code:286,defaultValue:Bn$2.Trailing},{name:"DIMFIT",code:287},{name:"DIMUPT",code:288,defaultValue:0},{name:"DIMATFIT",code:289,defaultValue:3},{name:"DIMTXSTY",code:340},{name:"DIMLDRBLK",code:341},{name:"DIMBLK",code:342},{name:"DIMBLK1",code:343},{name:"DIMBLK2",code:344},{name:"DIMLWD",code:371,defaultValue:-2},{name:"DIMLWD",code:372,defaultValue:-2}],Hd$1=xt$1([...Wd$1.map(t=>({...t,parser:v$1})),{code:70,name:"standardFlag",parser:v$1},{code:2,name:"name",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},{code:105,name:"handle",parser:v$1},...Fn$2.filter(t=>t.code!==5)]),qd$1=xt$1([{code:347,name:"materialObjectId",parser:v$1},{code:390,name:"plotStyleNameObjectId",parser:v$1},{code:370,name:"lineweight",parser:v$1},{code:290,name:"isPlotting",parser:Ut$3},{code:6,name:"lineType",parser:v$1},{code:62,name:"colorIndex",parser:v$1},{code:70,name:"standardFlag",parser:v$1},{code:2,name:"name",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...Fn$2]);(Tr$1={})[Tr$1.NONE=0]="NONE",Tr$1[Tr$1.AbsoluteRotation=1]="AbsoluteRotation",Tr$1[Tr$1.TextEmbedded=2]="TextEmbedded",Tr$1[Tr$1.ShapeEmbedded=4]="ShapeEmbedded";let Yd$1=xt$1([{code:9,name:"text",parser:v$1},{code:45,name:"offsetY",parser:v$1},{code:44,name:"offsetX",parser:v$1},{code:50,name:"rotation",parser:v$1},{code:46,name:"scale",parser:v$1},{code:340,name:"styleObjectId",parser:v$1},{code:75,name:"shapeNumber",parser:v$1},{code:74,name:"elementTypeFlag",parser:v$1},{code:49,name:"elementLength",parser:v$1}],{elementTypeFlag:0,elementLength:0}),Xd$1=xt$1([{code:49,name:"pattern",parser(t,e){let n={};return Yd$1(t,e,n),n},isMultiple:!0},{code:40,name:"totalPatternLength",parser:v$1},{code:73,name:"numberOfLineTypes",parser:v$1},{code:72,parser:v$1},{code:3,name:"description",parser:v$1},{code:70,name:"standardFlag",parser:v$1},{code:2,name:"name",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...Fn$2]),Kd$1=xt$1([{code:1e3,name:"extendedFont",parser:v$1},{code:1001},{code:4,name:"bigFont",parser:v$1},{code:3,name:"font",parser:v$1},{code:42,name:"lastHeight",parser:v$1},{code:71,name:"textGenerationFlag",parser:v$1},{code:50,name:"obliqueAngle",parser:v$1},{code:41,name:"widthFactor",parser:v$1},{code:40,name:"fixedTextHeight",parser:v$1},{code:70,name:"standardFlag",parser:v$1},{code:2,name:"name",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...Fn$2]),$d$1=xt$1([{code:[63,421,431],name:"ambientColor",parser:v$1},{code:142,name:"contrast",parser:v$1},{code:141,name:"brightness",parser:v$1},{code:282,name:"defaultLightingType",parser:v$1},{code:292,name:"isDefaultLightingOn",parser:Ut$3},{code:348,name:"visualStyleObjectId",parser:v$1},{code:333,name:"shadePlotObjectId",parser:v$1},{code:332,name:"backgroundObjectId",parser:v$1},{code:61,name:"majorGridLines",parser:v$1},{code:170,name:"shadePlotSetting",parser:v$1},{code:146,name:"elevation",parser:v$1},{code:79,name:"orthographicType",parser:v$1},{code:112,name:"ucsYAxis",parser:G$2},{code:111,name:"ucsXAxis",parser:G$2},{code:110,name:"ucsOrigin",parser:G$2},{code:74,name:"ucsIconSetting",parser:v$1},{code:71,name:"viewMode",parser:v$1},{code:281,name:"renderMode",parser:v$1},{code:1,name:"styleSheet",parser:v$1},{code:[331,441],name:"frozenLayers",parser:v$1,isMultiple:!0},{code:72,name:"circleSides",parser:v$1},{code:51,name:"viewTwistAngle",parser:v$1},{code:50,name:"snapRotationAngle",parser:v$1},{code:45,name:"viewHeight",parser:v$1},{code:44,name:"backClippingPlane",parser:v$1},{code:43,name:"frontClippingPlane",parser:v$1},{code:42,name:"lensLength",parser:v$1},{code:17,name:"viewTarget",parser:G$2},{code:16,name:"viewDirectionFromTarget",parser:G$2},{code:15,name:"gridSpacing",parser:G$2},{code:14,name:"snapSpacing",parser:G$2},{code:13,name:"snapBasePoint",parser:G$2},{code:12,name:"center",parser:G$2},{code:11,name:"upperRightCorner",parser:G$2},{code:10,name:"lowerLeftCorner",parser:G$2},{code:70,name:"standardFlag",parser:v$1},{code:2,name:"name",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},...Fn$2]),Zd$1={BLOCK_RECORD:Gd$1,DIMSTYLE:Hd$1,LAYER:qd$1,LTYPE:Xd$1,STYLE:Kd$1,VPORT:$d$1},Qd$1=xt$1([{code:70,name:"maxNumberOfEntries",parser:v$1},{code:100,name:"subclassMarker",parser:v$1},{code:330,name:"ownerObjectId",parser:v$1},{code:102},{code:360,isMultiple:!0},{code:102},{code:5,name:"handle",parser:v$1},{code:2,name:"name",parser:v$1}]);function Jd$1(t,e){var n;let r={};for(;!Pt$2(t,0,"EOF")&&!Pt$2(t,0,"ENDSEC");){if(Pt$2(t,0,"TABLE")){t=e.next();let g={entries:[]};Qd$1(t,e,g),r[g.name]=g}if(Pt$2(t,0)&&!Pt$2(t,0,"ENDTAB")){let g=t.value;t=e.next();let $=Zd$1[g];if(!$){e.debug&&console.warn(`parseTable: Invalid table name '${g}'`),t=e.next();continue}let y={};$(t,e,y),(n=r[g])==null||n.entries.push(y)}t=e.next()}return r}function As$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Wo$2=class{next(){if(!this.hasNext())return this._eof?this.debug&&console.warn("Cannot call 'next' after EOF group has been read"):this.debug&&console.warn("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]),{code:0,value:"EOF"};let e=parseInt(this._data[this._pointer++],10),n=Ho$2(e,this._data[this._pointer++],this.debug),r={code:e,value:n};return Pt$2(r,0,"EOF")&&(this._eof=!0),this.lastReadGroup=r,r}peek(){if(!this.hasNext())throw this._eof?Error("Cannot call 'next' after EOF group has been read"):Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);let e={code:parseInt(this._data[this._pointer]),value:0};return e.value=Ho$2(e.code,this._data[this._pointer+1],this.debug),e}rewind(e){e=e||1,this._pointer=this._pointer-2*e}hasNext(){return!this._eof&&!(this._pointer>this._data.length-2)}isEOF(){return this._eof}constructor(e,n=!1){As$1(this,"_data",void 0),As$1(this,"debug",void 0),As$1(this,"_pointer",void 0),As$1(this,"_eof",void 0),As$1(this,"lastReadGroup",void 0),this._data=e,this.debug=n,this.lastReadGroup={code:0,value:0},this._pointer=0,this._eof=!1}};function Ho$2(t,e,n=!1){return t<=9?e:t>=10&&t<=59?parseFloat(e.trim()):t>=60&&t<=99?parseInt(e.trim()):t>=100&&t<=109?e:t>=110&&t<=149?parseFloat(e.trim()):t>=160&&t<=179?parseInt(e.trim()):t>=210&&t<=239?parseFloat(e.trim()):t>=270&&t<=289?parseInt(e.trim()):t>=290&&t<=299?function(r){if(r==="0")return!1;if(r==="1")return!0;throw TypeError("String '"+r+"' cannot be cast to Boolean type")}(e.trim()):t>=300&&t<=369?e:t>=370&&t<=389?parseInt(e.trim()):t>=390&&t<=399?e:t>=400&&t<=409?parseInt(e.trim()):t>=410&&t<=419?e:t>=420&&t<=429?parseInt(e.trim()):t>=430&&t<=439?e:t>=440&&t<=459?parseInt(e.trim()):t>=460&&t<=469?parseFloat(e.trim()):t>=470&&t<=481||t===999||t>=1e3&&t<=1009?e:t>=1010&&t<=1059?parseFloat(e.trim()):t>=1060&&t<=1071?parseInt(e.trim()):(n&&console.warn("WARNING: Group code does not have a defined type: %j",{code:t,value:e}),e)}function pa$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class t0{constructor(){pa$2(this,"encoding","utf-8"),pa$2(this,"encodingFailureFatal",!1)}}class e0 extends EventTarget{parseSync(e,n=!1){let r=new Wo$2(e.split(/\r\n|\r|\n/g),n);if(!r.hasNext())throw Error("Empty file");return this.parseAll(r)}parseStream(e){let n="",r=this;return new Promise((g,$)=>{e.on("data",y=>{n+=y}),e.on("end",()=>{try{let y=n.split(/\r\n|\r|\n/g),k=new Wo$2(y);if(!k.hasNext())throw Error("Empty file");g(r.parseAll(k))}catch(y){$(y)}}),e.on("error",y=>{$(y)})})}async parseFromUrl(e,n){let r=await fetch(e,n);if(!r.body)return null;let g=r.body.getReader(),$="";for(;;){let{done:y,value:k}=await g.read();if(y){$+=this._decoder.decode(new ArrayBuffer(0),{stream:!1});break}$+=this._decoder.decode(k,{stream:!0})}return this.parseSync($)}parseAll(e){let n={header:{},blocks:{},entities:[],tables:{},objects:{byName:{},byTree:void 0}},r=e.next();for(;!Pt$2(r,0,"EOF");)Pt$2(r,0,"SECTION")&&(Pt$2(r=e.next(),2,"HEADER")?(r=e.next(),n.header=zd$1(r,e)):Pt$2(r,2,"BLOCKS")?(r=e.next(),n.blocks=Od$1(r,e)):Pt$2(r,2,"ENTITIES")?(r=e.next(),n.entities=Uh$1(r,e)):Pt$2(r,2,"TABLES")?(r=e.next(),n.tables=Jd$1(r,e)):Pt$2(r,2,"OBJECTS")&&(r=e.next(),n.objects=jd$1(r,e))),r=e.next();return n}constructor(e=new t0){super(),pa$2(this,"_decoder",void 0),this._decoder=new TextDecoder(e.encoding,{fatal:e.encodingFailureFatal})}}const qo$2=[{name:"AC1.2",value:1},{name:"AC1.40",value:2},{name:"AC1.50",value:3},{name:"AC2.20",value:4},{name:"AC2.10",value:5},{name:"AC2.21",value:6},{name:"AC2.22",value:7},{name:"AC1001",value:8},{name:"AC1002",value:9},{name:"AC1003",value:10},{name:"AC1004",value:11},{name:"AC1005",value:12},{name:"AC1006",value:13},{name:"AC1007",value:14},{name:"AC1008",value:15},{name:"AC1009",value:16},{name:"AC1010",value:17},{name:"AC1011",value:18},{name:"AC1012",value:19},{name:"AC1013",value:20},{name:"AC1014",value:21},{name:"AC1500",value:22},{name:"AC1015",value:23},{name:"AC1800a",value:24},{name:"AC1018",value:25},{name:"AC2100a",value:26},{name:"AC1021",value:27},{name:"AC2400a",value:28},{name:"AC1024",value:29},{name:"AC1027",value:31},{name:"AC3200a",value:32},{name:"AC1032",value:33}];let ma$2=class{constructor(e){if(typeof e=="string"){const n=qo$2.find(r=>r.name===e);if(!n)throw new Error(`Unknown DWG version name: ${e}`);this.name=n.name,this.value=n.value;return}if(typeof e=="number"){const n=qo$2.find(r=>r.value===e);if(!n)throw new Error(`Unknown DWG version value: ${e}`);this.name=n.name,this.value=n.value;return}throw new Error("Invalid constructor argument for AcDbDwgVersion")}};class r0{parse(e){const n=new e0,r=this.getDxfInfoFromBuffer(e);let g="";return r.version&&r.version.value<=23&&r.encoding?g=new TextDecoder(r.encoding).decode(e):g=new TextDecoder().decode(e),n.parseSync(g)}getDxfInfoFromBuffer(e){var n,r,g;const $=new TextDecoder("utf-8");let y=0,k="",L=null,V=null,z=!1;for(;y<e.byteLength;){const j=Math.min(y+65536,e.byteLength),ie=e.slice(y,j);y=j;const Oe=(k+$.decode(ie,{stream:!0})).split(/\r?\n/);k=Oe.pop()??"";for(let ur=0;ur<Oe.length;ur++){const hr=Oe[ur].trim();if(hr==="SECTION"&&((n=Oe[ur+2])==null?void 0:n.trim())==="HEADER")z=!0;else if(hr==="ENDSEC"&&z)return{version:L,encoding:V};if(z&&hr==="$ACADVER"){const Vr=(r=Oe[ur+2])==null?void 0:r.trim();Vr&&(L=new ma$2(Vr))}else if(z&&hr==="$DWGCODEPAGE"){const Vr=(g=Oe[ur+2])==null?void 0:g.trim();if(Vr){const dr=el$2[Vr];V=vc(dr)}}if(L&&V)return{version:L,encoding:V}}}return{version:L,encoding:V}}}let Yo$2=class{convert(e){const n=this.createEntity(e);return n&&this.processCommonAttrs(e,n),n}createEntity(e){return e.type=="3DFACE"?this.convertFace(e):e.type=="ARC"?this.convertArc(e):e.type=="CIRCLE"?this.convertCirle(e):e.type=="DIMENSION"?this.convertDimension(e):e.type=="ELLIPSE"?this.convertEllipse(e):e.type=="HATCH"?this.convertHatch(e):e.type=="IMAGE"?this.convertImage(e):e.type=="LEADER"?this.convertLeader(e):e.type=="LINE"?this.convertLine(e):e.type=="LWPOLYLINE"?this.convertLWPolyline(e):e.type=="MTEXT"?this.convertMText(e):e.type=="POLYLINE"?this.convertPolyline(e):e.type=="POINT"?this.convertPoint(e):e.type=="RAY"?this.convertRay(e):e.type=="SPLINE"?this.convertSpline(e):e.type=="ACAD_TABLE"?this.convertTable(e):e.type=="TEXT"?this.convertText(e):e.type=="SOLID"?this.convertSolid(e):e.type=="VIEWPORT"?this.convertViewport(e):e.type=="WIPEOUT"?this.convertWipeout(e):e.type=="XLINE"?this.convertXline(e):e.type=="INSERT"?this.convertBlockReference(e):null}convertFace(e){const n=new Zi$1;return e.vertices.forEach((r,g)=>n.setVertexAt(g,r)),n}convertArc(e){return new Xi$1(e.center,e.radius,It$3.degToRad(e.startAngle),It$3.degToRad(e.endAngle),e.extrusionDirection??K$1.Z_AXIS)}convertCirle(e){return new Ki$1(e.center,e.radius,e.extrusionDirection??K$1.Z_AXIS)}convertEllipse(e){const n=new K$1(e.majorAxisEndPoint),r=n.length();return new $i$2(e.center,e.extrusionDirection??K$1.Z_AXIS,n,r,r*e.axisRatio,e.startAngle,e.endAngle)}convertLine(e){const n=e.startPoint,r=e.endPoint;return new ai$2(new W$3(n.x,n.y,n.z||0),new W$3(r.x,r.y,r.z||0))}convertSpline(e){try{if(e.numberOfControlPoints>0&&e.numberOfKnots>0)return new li$2(e.controlPoints,e.knots,e.weights,e.degree,!!(e.flag&1));if(e.numberOfFitPoints>0){const n=this.numberArrayToPointArray(e.fitPoints,e.numberOfFitPoints);if(n!=null)return new li$2(n,"Uniform",e.degree,!!(e.flag&1))}}catch(n){console.log(`Failed to convert spline with error: ${n}`)}return null}convertPoint(e){const n=new na$2;return n.position=e.position,n}convertSolid(e){const n=new ea$2;return e.points.forEach((r,g)=>n.setPointAt(g,r)),n.thickness=e.thickness,n}convertPolyline(e){const n=!!(e.flag&1),r=!!(e.flag&8),g=[],$=[];if(e.vertices.map(y=>{y.flag&pd$1.SPLINE_CONTROL_POINT||(g.push({x:y.x,y:y.y,z:y.z}),$.push(y.bulge??0))}),r){let y=$s.SimplePoly;return e.flag&4&&(e.smoothType==Ws.CUBIC?y=$s.CubicSplinePoly:e.smoothType==Ws.QUADRATIC&&(y=$s.QuadSplinePoly)),new Yi$1(y,g,n)}else{let y=Ss$1.SimplePoly;return e.flag&2?y=Ss$1.FitCurvePoly:e.flag&4&&(e.smoothType==Ws.CUBIC?y=Ss$1.CubicSplinePoly:e.smoothType==Ws.QUADRATIC&&(y=Ss$1.QuadSplinePoly)),new qi$1(y,g,0,n,e.startWidth,e.endWidth,$)}}convertLWPolyline(e){const n=new ra$2;return n.closed=!!(e.flag&1),e.vertices.forEach((r,g)=>{n.addVertexAt(g,new Nt$3(r.x,r.y),r.bulge,r.startWidth,r.endWidth)}),n}convertHatch(e){var n;const r=new ii$2;return(n=e.definitionLines)==null||n.forEach(g=>{r.definitionLines.push({angle:g.angle,origin:g.base,delta:g.offset,dashPattern:g.numberOfDashLengths>0?g.dashLengths:[]})}),r.isSolidFill=e.solidFill==bu$1.SolidFill,r.hatchStyle=e.hatchStyle,r.patternName=e.patternName,r.patternType=e.patternType,r.patternAngle=e.patternAngle==null?0:e.patternAngle,r.patternScale=e.patternScale==null?0:e.patternScale,e.boundaryPaths.forEach(g=>{if(g.boundaryPathTypeFlag&2){const $=g,y=new Rn$2;y.closed=$.isClosed,$.vertices.forEach((k,L)=>{y.addVertexAt(L,{x:k.x,y:k.y,bulge:k.bulge})}),r.add(y)}else{const $=g,y=new xl$2;$.edges.forEach(k=>{if(k.type==1){const L=k;y.add(new Ks(L.start,L.end))}else if(k.type==2){const L=k;y.add(new Es$1(L.center,L.radius,It$3.degToRad(L.startAngle||0),It$3.degToRad(L.endAngle||0),!L.isCCW))}else if(k.type==3){const L=k;new te$3().subVectors(L.end,L.center);const V=Math.sqrt(Math.pow(L.end.x,2)+Math.pow(L.end.y,2)),z=V*L.lengthOfMinorAxis;let j=It$3.degToRad(L.startAngle||0),ie=It$3.degToRad(L.endAngle||0);const Oe=Math.atan2(L.end.y,L.end.x);L.isCCW||(j=Math.PI*2-j,ie=Math.PI*2-ie),y.add(new va$2({...L.center,z:0},V,z,j,ie,!L.isCCW,Oe))}else if(k.type==4){const L=k;if(L.numberOfControlPoints>0&&L.numberOfKnots>0){const V=L.controlPoints.map(ie=>({x:ie.x,y:ie.y,z:0}));let z=!0;const j=L.controlPoints.map(ie=>(ie.weight==null&&(z=!1),ie.weight||1));y.add(new fn$3(V,L.knots,z?j:void 0))}else if(L.numberOfFitData>0){const V=L.fitDatum.map(z=>({x:z.x,y:z.y,z:0}));y.add(new fn$3(V,"Uniform"))}}}),r.add(y)}}),r}convertTable(e){const n=new Ji$1(e.name,e.rowCount,e.columnCount);return n.attachmentPoint=e.attachmentPoint,n.position.copy(e.startPoint),e.columnWidthArr.forEach((r,g)=>n.setColumnWidth(g,r)),e.rowHeightArr.forEach((r,g)=>n.setRowHeight(g,r)),e.cells.forEach((r,g)=>{n.setCell(g,r)}),n}convertText(e){const n=new ta$2;return n.textString=e.text,n.styleName=e.styleName,n.height=e.textHeight,n.position.copy(e.startPoint),n.rotation=It$3.degToRad(e.rotation||0),n.oblique=e.obliqueAngle??0,n.thickness=e.thickness,n.horizontalMode=e.halign,n.verticalMode=e.valign,n.widthFactor=e.xScale??1,n}convertMText(e){const n=new oi$2;return n.contents=e.text,e.styleName!=null&&(n.styleName=e.styleName),n.height=e.height,n.width=e.width,n.rotation=It$3.degToRad(e.rotation||0),n.location=e.insertionPoint,n.attachmentPoint=e.attachmentPoint,e.direction&&(n.direction=new K$1(e.direction)),n.drawingDirection=e.drawingDirection,n}convertLeader(e){const n=new Qi$1;return e.vertices.forEach(r=>{n.appendVertex(r)}),n.hasArrowHead=e.isArrowheadEnabled,n.hasHookLine=e.isHooklineExists,n.isSplined=e.isSpline,n.dimensionStyle=e.styleName,n.annoType=e.leaderCreationFlag,n}convertDimension(e){if(e.subclassMarker=="AcDbAlignedDimension"||e.subclassMarker=="AcDbRotatedDimension"){const n=e,r=new ha$2(n.subDefinitionPoint1,n.subDefinitionPoint2,n.definitionPoint);return n.insertionPoint&&(r.dimBlockPosition={...n.insertionPoint,z:0}),r.rotation=It$3.degToRad(n.rotationAngle||0),this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDb3PointAngularDimension"){const n=e,r=new la$2(n.centerPoint,n.subDefinitionPoint1,n.subDefinitionPoint2,n.definitionPoint);return this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDbOrdinateDimension"){const n=e,r=new ua$2(n.subDefinitionPoint1,n.subDefinitionPoint2);return this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDbRadialDimension"){const n=e,r=new da$2(n.definitionPoint,n.centerPoint,n.leaderLength);return this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDbDiametricDimension"){const n=e,r=new ca$2(n.definitionPoint,n.centerPoint,n.leaderLength);return this.processDimensionCommonAttrs(e,r),r}return null}processImage(e,n){n.position.copy(e.position),n.brightness=e.brightness,n.contrast=e.contrast,n.fade=e.fade,n.isShownClipped=(e.flags|4)>0,n.isImageShown=(e.flags|3)>0,n.isImageTransparent=(e.flags|8)>0,n.imageDefId=e.imageDefHandle,n.isClipped=e.isClipped,e.clippingBoundaryPath.forEach(r=>{n.clipBoundary.push(new Nt$3(r))}),n.width=Math.sqrt(e.uPixel.x**2+e.uPixel.y**2+e.uPixel.z**2)*e.imageSize.x,n.height=Math.sqrt(e.vPixel.x**2+e.vPixel.y**2+e.vPixel.z**2)*e.imageSize.y,n.rotation=Math.atan2(e.uPixel.y,e.uPixel.x)}convertImage(e){const n=new hi$2;return this.processImage(e,n),n.clipBoundaryType=e.clippingBoundaryType,n}processWipeout(e,n){n.position.copy(e.position),n.brightness=e.brightness,n.contrast=e.contrast,n.fade=e.fade,n.isShownClipped=(e.displayFlag|4)>0,n.isImageShown=(e.displayFlag|3)>0,n.isImageTransparent=(e.displayFlag|8)>0,n.imageDefId=e.imageDefHardId,n.isClipped=e.isClipping,e.boundary.forEach(r=>{n.clipBoundary.push(new Nt$3(r))}),n.clipBoundaryType=e.boundaryType,n.width=Math.sqrt(e.uDirection.x**2+e.uDirection.y**2+e.uDirection.z**2)*e.imageSize.x,n.height=Math.sqrt(e.vDirection.x**2+e.vDirection.y**2+e.vDirection.z**2)*e.imageSize.y,n.rotation=Math.atan2(e.uDirection.y,e.uDirection.x)}convertWipeout(e){const n=new aa$2;return this.processWipeout(e,n),n}convertViewport(e){const n=new ia$2;return n.number=e.viewportId,n.centerPoint.copy(e.viewportCenter),n.height=e.height,n.width=e.width,n.viewCenter.copy(e.displayCenter),n.viewHeight=e.viewHeight,n}convertRay(e){const n=new sa$2;return n.basePoint.copy(e.position),n.unitDir.copy(e.direction),n}convertXline(e){const n=new oa$2;return n.basePoint.copy(e.position),n.unitDir.copy(e.direction),n}convertBlockReference(e){const n=new ks$1(e.name);return e.insertionPoint&&n.position.copy(e.insertionPoint),n.scaleFactors.x=e.xScale||1,n.scaleFactors.y=e.yScale||1,n.scaleFactors.z=e.zScale||1,n.rotation=e.rotation!=null?It$3.degToRad(e.rotation):0,n.normal.copy(e.extrusionDirection??{x:0,y:0,z:1}),n}processDimensionCommonAttrs(e,n){n.dimBlockId=e.name,n.textPosition.copy(e.textPoint),n.textRotation=e.textRotation||0,e.textLineSpacingFactor&&(n.textLineSpacingFactor=e.textLineSpacingFactor),e.textLineSpacingStyle&&(n.textLineSpacingStyle=e.textLineSpacingStyle),n.dimensionStyleName=e.styleName,n.dimensionText=e.text||"",n.measurement=e.measurement,n.normal.copy(e.extrusionDirection??{x:0,y:0,z:1})}processCommonAttrs(e,n){n.layer=e.layer||"0",e.handle&&(n.objectId=e.handle),n.ownerId=e.ownerBlockRecordSoftId||"",e.lineType!=null&&(n.lineType=e.lineType),e.lineweight!=null&&(n.lineWeight=e.lineweight),e.lineTypeScale!=null&&(n.linetypeScale=e.lineTypeScale),e.color!=null&&n.color.setRGBValue(e.color),e.colorIndex!=null&&(n.color.colorIndex=e.colorIndex),e.colorName&&(n.color.colorName=e.colorName),e.isVisible!=null&&(n.visibility=e.isVisible),e.transparency!=null&&(n.transparency=fa$2.deserialize(e.transparency))}numberArrayToPointArray(e,n){const r=e.length;let g=0;if(r/2==n?g=2:r/3==n&&(g=3),g==0)return;const $=[];for(let y=0,k=r/g;y<k;++y)$.push({x:e[y*g],y:e[y*g+1],z:g==3?e[y*g+2]:0});return $}},Dn$2=class extends _n$1{constructor(e,n){e=e||{},Cs$1(e,{name:""}),super(e,n)}get name(){return this.getAttr("name")}set name(e){this.setAttr("name",e)}};const Yr$1=class b_ extends Dn$2{static isModelSapceName(e){return e.toLowerCase()==b_.MODEL_SPACE_NAME.toLowerCase()}static isPaperSapceName(e){return e.toLowerCase().startsWith(b_.PAPER_SPACE_NAME_PREFIX.toLowerCase())}constructor(){super(),this._origin=new W$3,this._layoutId="",this._entities=new Map}get isModelSapce(){return b_.isModelSapceName(this.name)}get isPaperSapce(){return b_.isPaperSapceName(this.name)}get origin(){return this._origin}set origin(e){this._origin.copy(e)}get layoutId(){return this._layoutId}set layoutId(e){this._layoutId=e}appendEntity(e){if(Array.isArray(e))for(let n=0;n<e.length;++n){const r=e[n];r.database=this.database,r.ownerId=this.objectId,this._entities.set(r.objectId,r)}else e.database=this.database,e.ownerId=this.objectId,this._entities.set(e.objectId,e);(this.isModelSapce||this.isPaperSapce)&&this.database.events.entityAppended.dispatch({database:this.database,entity:e})}newIterator(){return new Aa$1(this._entities)}getIdAt(e){return this._entities.get(e)}};Yr$1.MODEL_SPACE_NAME="*MODEL_SPACE",Yr$1.PAPER_SPACE_NAME_PREFIX="*PAPER_SPACE";let me$3=Yr$1;class n0{convertLayout(e,n){var r,g;const $=new wa$2;if($.layoutName=e.layoutName,$.tabOrder=e.tabOrder,e.layoutName==="Model"){const y=me$3.MODEL_SPACE_NAME;(r=n.tables.BLOCK_RECORD)==null||r.entries.some(k=>k.name.toUpperCase()===y?($.blockTableRecordId=k.handle,!0):!1)}else(g=n.tables.BLOCK_RECORD)==null||g.entries.some(y=>y.layoutObjects===e.handle?($.blockTableRecordId=y.handle,!0):!1),$.blockTableRecordId||($.blockTableRecordId=e.paperSpaceTableId);return $.limits.min.copy(e.minLimit),$.limits.max.copy(e.maxLimit),$.extents.min.copy(e.minExtent),$.extents.max.copy(e.maxExtent),this.processCommonAttrs(e,$),$}convertImageDef(e){const n=new mu$1;return n.sourceFileName=e.fileName,this.processCommonAttrs(e,n),n}processCommonAttrs(e,n){n.objectId=e.handle,n.ownerId=e.ownerObjectId}}class s0{constructor(e){this.taskId=0,this.workers=new Map,this.pendingTasks=new Map,this.config={workerUrl:e.workerUrl,timeout:e.timeout??3e4,maxConcurrentWorkers:e.maxConcurrentWorkers??4}}async execute(e,n){const r=Date.now(),g=this.generateTaskId();try{return await this.executeInWorker(g,e,n||this.config.workerUrl)}catch($){const y=Date.now()-r;return{success:!1,error:$ instanceof Error?$.message:String($),duration:y}}}async executeInWorker(e,n,r){const g=Date.now();return new Promise(($,y)=>{const k=this.getAvailableWorker(r),L=setTimeout(()=>{this.cleanupTask(e),this.releaseWorker(k),y(new Error(`Worker operation timed out after ${this.config.timeout}ms`))},this.config.timeout);this.pendingTasks.set(e,{resolve:j=>{clearTimeout(L),this.releaseWorker(k),$(j)},reject:j=>{clearTimeout(L),this.releaseWorker(k),y(j)},timeout:L});const V=j=>{const{id:ie,success:Oe,data:ur,error:hr}=j.data;if(ie!==e)return;this.cleanupTask(e);const Vr=Date.now()-g;$(Oe?{success:!0,data:ur,duration:Vr}:{success:!1,error:hr,duration:Vr})},z=j=>{this.cleanupTask(e),y(new Error(`Worker error: ${j.message}`))};k.addEventListener("message",V),k.addEventListener("error",z),k.postMessage({id:e,input:n})})}cleanupTask(e){const n=this.pendingTasks.get(e);n&&(clearTimeout(n.timeout),this.pendingTasks.delete(e))}generateTaskId(){return`task_${++this.taskId}_${Date.now()}`}detectWorkerSupport(){return typeof Worker<"u"}getAvailableWorker(e){for(const[r,g]of this.workers)if(!g.isBusy)return g.isBusy=!0,g.worker;if(this.workers.size<this.config.maxConcurrentWorkers){const r=new Worker(e,{type:"module"}),g=this.generateWorkerId(),$={worker:r,isBusy:!0,id:g,createdAt:new Date};return this.workers.set(g,$),r}const n=Array.from(this.workers.values()).sort((r,g)=>r.createdAt.getTime()-g.createdAt.getTime())[0];return n.isBusy=!0,n.worker}releaseWorker(e){for(const[n,r]of this.workers)if(r.worker===e){r.isBusy=!1;break}}generateWorkerId(){return`worker_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getStats(){return{totalWorkers:this.workers.size,busyWorkers:Array.from(this.workers.values()).filter(e=>e.isBusy).length,pendingTasks:this.pendingTasks.size,config:this.config}}destroy(){for(const[e,n]of this.pendingTasks)clearTimeout(n.timeout),n.reject(new Error("Framework destroyed"));this.pendingTasks.clear();for(const[e,n]of this.workers)n.worker.terminate();this.workers.clear()}}class i0{constructor(e){this.framework=new s0(e)}async execute(e,n){return this.framework.execute(e,n)}getStats(){return this.framework.getStats()}destroy(){this.framework.destroy()}}function a0(t){return new i0(t)}class o0 extends Nl$2{constructor(e={}){super(e),e.parserWorkerUrl||(e.parserWorkerUrl="/assets/dxf-parser-worker.js")}async parse(e){if(this.config.useWorker&&this.config.parserWorkerUrl){const n=a0({workerUrl:this.config.parserWorkerUrl,maxConcurrentWorkers:1}),r=await n.execute(e);if(n.destroy(),r.success)return{model:r.data,data:{unknownEntityCount:0}};throw new Error(`Failed to parse drawing due to error: '${r.error}'`)}else return{model:new r0().parse(e),data:{unknownEntityCount:0}}}getFonts(e){var n;const r=new Map,g=y=>{if(y){const k=y.lastIndexOf(".");return k>=0?y.substring(0,k).toLowerCase():y.toLowerCase()}};(n=e.tables.STYLE)==null||n.entries.forEach(y=>{const k=[];if(y.font){const L=g(y.font);L&&k.push(L)}if(y.bigFont){const L=g(y.bigFont);L&&k.push(L)}if(y.extendedFont){const L=g(y.extendedFont);L&&k.push(L)}r.set(y.name,k)});const $=new Set;return this.getFontsInBlock(e.entities,e.blocks,r,$),Array.from($)}getFontsInBlock(e,n,r,g){const $=/\\f(.*?)\|/g;e.forEach(y=>{if(y.type=="MTEXT"){const k=y;[...k.text.matchAll($)].forEach(V=>{g.add(V[1].toLowerCase())});const L=r.get(k.styleName);L==null||L.forEach(V=>g.add(V))}else if(y.type=="TEXT"){const k=y,L=r.get(k.styleName);L==null||L.forEach(V=>g.add(V))}else if(y.type=="INSERT"){const k=n[y.name];k&&k.entities&&this.getFontsInBlock(k.entities,n,r,g)}})}async processEntities(e,n,r,g,$){const y=new Yo$2;let k=e.entities;const L=k.length,V=new Jo$2(L,100-g.value,r);this.config.convertByEntityType&&(k=this.groupAndFlattenByType(k));const z=n.tables.blockTable.modelSpace;await V.processChunk(async(j,ie)=>{let Oe=[],ur=j<ie?k[j].type:"";for(let hr=j;hr<ie;hr++){const Vr=k[hr],dr=y.convert(Vr);dr&&(this.config.convertByEntityType&&Vr.type!==ur&&(z.appendEntity(Oe),Oe=[],ur=Vr.type),Oe.push(dr))}if(z.appendEntity(Oe),$){let hr=g.value+ie/L*(100-g.value);hr>100&&(hr=100),await $(hr,"ENTITY","IN-PROGRESS")}})}async processEntitiesInBlock(e,n){const r=new Yo$2,g=e.length,$=[];for(let y=0;y<g;y++){const k=e[y],L=r.convert(k);L&&$.push(L)}n.appendEntity($)}processBlocks(e,n){const r=e.blocks;for(const[g,$]of Object.entries(r)){let y=n.tables.blockTable.getAt($.name);y||(y=new me$3,y.objectId=$.handle,y.name=g,y.origin.copy($.position),n.tables.blockTable.add(y)),$.entities&&this.processEntitiesInBlock($.entities,y)}}processHeader(e,n){const r=e.header;r.$ACADVER&&(n.version=r.$ACADVER),n.cecolor.colorIndex=r.$CECOLOR||256,n.angBase=r.$ANGBASE||0,n.angDir=r.$ANGDIR||0,r.$AUNITS!=null&&(n.aunits=r.$AUNITS),r.$EXTMAX&&(n.extmax=r.$EXTMAX),r.$EXTMIN&&(n.extmin=r.$EXTMIN),r.$INSUNITS!=null&&(n.insunits=r.$INSUNITS),n.pdmode=r.$PDMODE||0,n.pdsize=r.$PDSIZE||0}processBlockTables(e,n){var r;const g=(r=e.tables.BLOCK_RECORD)==null?void 0:r.entries;g&&g.length>0&&(n.tables.blockTable.removeAll(),g.forEach($=>{const y=new me$3;y.objectId=$.handle,y.name=$.name,y.layoutId=$.layoutObjects,n.tables.blockTable.add(y)}))}processObjects(e,n){const r=e.objects.byName,g=new n0;if("LAYOUT"in r){const $=n.dictionaries.layouts;r.LAYOUT.forEach(y=>{const k=g.convertLayout(y,e);$.setAt(k.layoutName,k)})}if("IMAGEDEF"in r){const $=n.dictionaries.imageDefs;r.IMAGEDEF.forEach(y=>{const k=g.convertImageDef(y);$.setAt(k.objectId,k)})}}processViewports(e,n){var r,g;const $=(g=(r=e.tables)==null?void 0:r.VPORT)==null?void 0:g.entries;$&&$.length>0&&$.forEach(y=>{const k=new x0;this.processCommonTableEntryAttrs(y,k),y.circleSides&&(k.circleSides=y.circleSides),k.standardFlag=y.standardFlag,k.center.copy(y.center),k.lowerLeftCorner.copy(y.lowerLeftCorner),k.upperRightCorner.copy(y.upperRightCorner),y.snapBasePoint&&k.snapBase.copy(y.snapBasePoint),y.snapRotationAngle&&(k.snapAngle=y.snapRotationAngle),y.snapSpacing&&k.snapIncrements.copy(y.snapSpacing),y.majorGridLines&&(k.gridMajor=y.majorGridLines),y.gridSpacing&&k.gridIncrements.copy(y.gridSpacing),y.backgroundObjectId&&(k.backgroundObjectId=y.backgroundObjectId),k.gsView.center.copy(y.center),k.gsView.viewDirectionFromTarget.copy(y.viewDirectionFromTarget),k.gsView.viewTarget.copy(y.viewTarget),y.lensLength&&(k.gsView.lensLength=y.lensLength),y.frontClippingPlane&&(k.gsView.frontClippingPlane=y.frontClippingPlane),y.backClippingPlane&&(k.gsView.backClippingPlane=y.backClippingPlane),y.viewHeight&&(k.gsView.viewHeight=y.viewHeight),y.viewTwistAngle&&(k.gsView.viewTwistAngle=y.viewTwistAngle),y.frozenLayers&&(k.gsView.frozenLayers=y.frozenLayers),y.styleSheet&&(k.gsView.styleSheet=y.styleSheet),y.renderMode&&(k.gsView.renderMode=y.renderMode),y.viewMode&&(k.gsView.viewMode=y.viewMode),y.ucsIconSetting&&(k.gsView.ucsIconSetting=y.ucsIconSetting),y.ucsOrigin&&k.gsView.ucsOrigin.copy(y.ucsOrigin),y.ucsXAxis&&k.gsView.ucsXAxis.copy(y.ucsXAxis),y.ucsYAxis&&k.gsView.ucsYAxis.copy(y.ucsYAxis),y.orthographicType&&(k.gsView.orthographicType=y.orthographicType),y.shadePlotSetting&&(k.gsView.shadePlotSetting=y.shadePlotSetting),y.shadePlotObjectId&&(k.gsView.shadePlotObjectId=y.shadePlotObjectId),y.visualStyleObjectId&&(k.gsView.visualStyleObjectId=y.visualStyleObjectId),y.isDefaultLightingOn&&(k.gsView.isDefaultLightingOn=y.isDefaultLightingOn),y.defaultLightingType&&(k.gsView.defaultLightingType=y.defaultLightingType),y.brightness&&(k.gsView.brightness=y.brightness),y.contrast&&(k.gsView.contrast=y.contrast),y.ambientColor&&(k.gsView.ambientColor=y.ambientColor),n.tables.viewportTable.add(k)})}processLayers(e,n){var r,g;const $=(g=(r=e.tables)==null?void 0:r.LAYER)==null?void 0:g.entries;$&&$.length>0&&$.forEach(y=>{const k=new Kr$1;k.colorIndex=y.colorIndex;const L=new Ma$2({name:y.name,standardFlags:y.standardFlag,linetype:y.lineType,lineWeight:y.lineweight,isOff:y.colorIndex<0,color:k,isPlottable:y.isPlotting});this.processCommonTableEntryAttrs(y,L),n.tables.layerTable.add(L)})}processLineTypes(e,n){var r,g;const $=(g=(r=e.tables)==null?void 0:r.LTYPE)==null?void 0:g.entries;$&&$.length>0&&$.forEach(y=>{const k=new si$2(y);this.processCommonTableEntryAttrs(y,k),k.name=y.name,n.tables.linetypeTable.add(k)})}processTextStyles(e,n){var r;const g=(r=e.tables.STYLE)==null?void 0:r.entries;g&&g.length>0&&g.forEach($=>{const y=new jh$1($);this.processCommonTableEntryAttrs($,y),n.tables.textStyleTable.add(y)})}processDimStyles(e,n){var r;const g=(r=e.tables.DIMSTYLE)==null?void 0:r.entries;g&&g.length>0&&g.forEach($=>{const y={name:$.name,ownerId:$.ownerObjectId,dimpost:$.DIMPOST||"",dimapost:$.DIMAPOST||"",dimscale:$.DIMSCALE,dimasz:$.DIMASZ,dimexo:$.DIMEXO,dimdli:$.DIMDLI,dimexe:$.DIMEXE,dimrnd:$.DIMRND,dimdle:$.DIMDLE,dimtp:$.DIMTP,dimtm:$.DIMTM,dimtxt:$.DIMTXT,dimcen:$.DIMCEN,dimtsz:$.DIMTSZ,dimaltf:$.DIMALTF,dimlfac:$.DIMLFAC,dimtvp:$.DIMTVP,dimtfac:$.DIMTFAC,dimgap:$.DIMGAP,dimaltrnd:$.DIMALTRND,dimtol:$.DIMTOL==null||$.DIMTOL==0?0:1,dimlim:$.DIMLIM==null||$.DIMLIM==0?0:1,dimtih:$.DIMTIH==null||$.DIMTIH==0?0:1,dimtoh:$.DIMTOH==null||$.DIMTOH==0?0:1,dimse1:$.DIMSE1==null||$.DIMSE1==0?0:1,dimse2:$.DIMSE2==null||$.DIMSE2==0?0:1,dimtad:$.DIMTAD,dimzin:$.DIMZIN,dimazin:$.DIMAZIN,dimalt:$.DIMALT,dimaltd:$.DIMALTD,dimtofl:$.DIMTOFL,dimsah:$.DIMSAH,dimtix:$.DIMTIX,dimsoxd:$.DIMSOXD,dimclrd:$.DIMCLRD,dimclre:$.DIMCLRE,dimclrt:$.DIMCLRT,dimadec:$.DIMADEC||0,dimunit:$.DIMUNIT||2,dimdec:$.DIMDEC,dimtdec:$.DIMTDEC,dimaltu:$.DIMALTU,dimalttd:$.DIMALTTD,dimaunit:$.DIMAUNIT,dimfrac:$.DIMFRAC,dimlunit:$.DIMLUNIT,dimdsep:$.DIMDSEP,dimtmove:$.DIMTMOVE||0,dimjust:$.DIMJUST,dimsd1:$.DIMSD1,dimsd2:$.DIMSD2,dimtolj:$.DIMTOLJ,dimtzin:$.DIMTZIN,dimaltz:$.DIMALTZ,dimalttz:$.DIMALTTZ,dimfit:$.DIMFIT||0,dimupt:$.DIMUPT,dimatfit:$.DIMATFIT,dimtxsty:$.DIMTXSTY||"Standard",dimldrblk:$.DIMLDRBLK||"",dimblk:$.DIMBLK||"",dimblk1:$.DIMBLK1||"",dimblk2:$.DIMBLK2||"",dimlwd:$.DIMLWD,dimlwe:$.DIMLWE},k=new Ts$1(y);this.processCommonTableEntryAttrs($,k),n.tables.dimStyleTable.add(k)})}processCommonTableEntryAttrs(e,n){n.name=e.name,n.objectId=e.handle,n.ownerId=e.ownerObjectId}groupAndFlattenByType(e){const n={},r=[];for(const g of e)n[g.type]||(n[g.type]=[],r.push(g.type)),n[g.type].push(g);return r.flatMap(g=>n[g])}}class l0 extends Nl$2{constructor(e){super({}),this._database=e}async parse(){return{model:this._database,data:{unknownEntityCount:0}}}getFonts(){return[]}async processEntities(e,n,r,g,$){let y=e.tables.blockTable.modelSpace.newIterator().toArray();const k=y.length,L=new Jo$2(k,100-g.value,r);this.config.convertByEntityType&&(y=this.groupAndFlattenByType(y));const V=n.tables.blockTable.modelSpace;await L.processChunk(async(z,j)=>{let ie=[],Oe=z<j?y[z].type:"";for(let ur=z;ur<j;ur++){const hr=y[ur];this.config.convertByEntityType&&hr.type!==Oe&&(this.triggerEvents(V,ie),ie=[],Oe=hr.type),ie.push(hr)}if(this.triggerEvents(V,ie),$){let ur=g.value+j/k*(100-g.value);ur>100&&(ur=100),await $(ur,"ENTITY","IN-PROGRESS")}})}processBlocks(){const e=this._database.tables.blockTable.newIterator();for(const n of e){const r=n.newIterator().toArray();this.triggerEvents(n,r)}}processHeader(){}processBlockTables(){}processObjects(){const e=this._database.dictionaries.layouts.newIterator();for(const r of e)this._database.events.dictObjetSet.dispatch({database:this._database,object:r,key:r.layoutName});const n=this._database.dictionaries.imageDefs.newIterator();for(const r of n)this._database.events.dictObjetSet.dispatch({database:this._database,object:r,key:r.objectId})}processViewports(){}processLayers(){this._database.tables.layerTable.newIterator().toArray().forEach(e=>{this._database.events.layerAppended.dispatch({database:this._database,layer:e})})}processLineTypes(){}processTextStyles(){}processDimStyles(){}groupAndFlattenByType(e){const n={},r=[];for(const g of e)n[g.type]||(n[g.type]=[],r.push(g.type)),n[g.type].push(g);return r.flatMap(g=>n[g])}triggerEvents(e,n){(e.isModelSapce||e.isPaperSapce)&&e.database.events.entityAppended.dispatch({database:e.database,entity:n})}}var ni$2=(t=>(t.DXF="dxf",t.DWG="dwg",t))(ni$2||{});let Nr$1=class jb{constructor(){this.events={registered:new oe$2,unregistered:new oe$2},this._converters=new Map,this.register("dxf",new o0)}static createInstance(){return jb._instance==null&&(jb._instance=new jb),this._instance}static get instance(){return jb._instance||(jb._instance=new jb),jb._instance}get fileTypes(){return this._converters.keys()}register(e,n){this._converters.set(e,n),this.events.registered.dispatch({fileType:e,converter:n})}get(e){return this._converters.get(e)}unregister(e){const n=this._converters.get(e);n&&(this._converters.delete(e),this.events.unregistered.dispatch({fileType:e,converter:n}))}},Un$2=class extends _n$1{constructor(e){super(),this.database=e,this._recordsByName=new Map,this._recordsById=new Map}get numEntries(){return this._recordsByName.size}add(e){e.database=this.database;const n=this.normalizeName(e.name);this._recordsByName.set(n,e),this._recordsById.set(e.objectId,e)}remove(e){const n=this.normalizeName(e),r=this._recordsByName.get(n);return r?(this._recordsById.delete(r.objectId),this._recordsByName.delete(e),!0):!1}removeId(e){const n=this._recordsById.get(e);return n?(this._recordsByName.delete(n.name),this._recordsById.delete(e),!0):!1}removeAll(){this._recordsByName.clear(),this._recordsById.clear()}has(e){const n=this.normalizeName(e);return this._recordsByName.has(n)}hasId(e){return this._recordsById.has(e)}getAt(e){const n=this.normalizeName(e);return this._recordsByName.get(n)}getIdAt(e){return this._recordsById.get(e)}getOwnerIdAt(e){return this._recordsById.get(e)}newIterator(){return new Aa$1(this._recordsByName)}normalizeName(e){return e}};class h0 extends Un$2{constructor(e){super(e)}get modelSpace(){let e=this.getAt(me$3.MODEL_SPACE_NAME);return e||(e=new me$3,e.name=me$3.MODEL_SPACE_NAME,this.add(e)),e}normalizeName(e){let n=e;if(me$3.isModelSapceName(e))n=me$3.MODEL_SPACE_NAME;else if(me$3.isPaperSapceName(e)){const r=me$3.PAPER_SPACE_NAME_PREFIX,g=e.substring(r.length);n=r+g}return n}}class c0 extends Un$2{constructor(e){super(e)}}let Ma$2=class extends Dn$2{constructor(e,n){e=e||{},Cs$1(e,{color:new Kr$1,description:"",standardFlags:0,isHidden:!1,isInUse:!0,isOff:!1,isPlottable:!0,transparency:new fa$2,linetype:"",lineWeight:1,materialId:-1}),super(e,n),this.attrs.events.attrChanged.addEventListener(r=>{this.database.events.layerModified.dispatch({database:this.database,layer:this,changes:r.object.changedAttributes()})})}get color(){return this.getAttr("color")}set color(e){this.setAttr("color",e.clone())}get description(){return this.getAttr("description")}set description(e){this.setAttr("description",e)}get standardFlags(){return this.getAttr("standardFlags")}set standardFlags(e){this.setAttr("standardFlags",e)}get isFrozen(){return(this.standardFlags&1)==1}set isFrozen(e){const n=e?1:0;this.standardFlags=this.standardFlags|n}get isHidden(){return this.getAttr("isHidden")}set isHidden(e){this.setAttr("isHidden",e)}get isInUse(){return this.getAttr("isInUse")}set isInUse(e){this.setAttr("isInUse",e)}get isLocked(){return(this.standardFlags&4)==4}set isLocked(e){const n=e?4:0;this.standardFlags=this.standardFlags|n}get isOff(){return this.getAttr("isOff")}set isOff(e){this.setAttr("isOff",e)}get isPlottable(){return this.getAttr("isPlottable")}set isPlottable(e){this.setAttr("isPlottable",e)}get transparency(){return this.getAttr("transparency")}set transparency(e){this.setAttr("transparency",e.clone())}get linetype(){return this.getAttr("linetype")}set linetype(e){this.setAttr("linetype",e)}get lineStyle(){var e;const n=(e=this.database)==null?void 0:e.tables.linetypeTable.getAt(this.linetype);if(n)return{type:"UserSpecified",...n.linetype}}get lineWeight(){return this.getAttr("lineWeight")}set lineWeight(e){this.setAttr("lineWeight",e)}get materialId(){return this.getAttr("materialId")}set materialId(e){this.setAttr("materialId",e)}};class u0 extends Un$2{constructor(e){super(e);const n=new Kr$1,r=new Ma$2({name:"0",standardFlags:0,linetype:Ui$1,lineWeight:xa$2.ByLineWeightDefault,isOff:!1,color:n,isPlottable:!0});this.add(r)}add(e){super.add(e),this.database.events.layerAppended.dispatch({database:this.database,layer:e})}}class d0 extends Un$2{constructor(e){super(e)}}class p0 extends Un$2{constructor(e){super(e)}get fonts(){const e=new Set,n=g=>{if(g){const $=g.lastIndexOf(".");if($>=0){const y=g.substring(0,$).toLowerCase();e.add(y)}else e.add(g.toLowerCase())}},r=this.newIterator();for(const g of r)n(g.fileName),n(g.bigFontFileName);return Array.from(e)}}class m0 extends Un$2{constructor(e){super(e)}}class V0 extends _n$1{constructor(){super(),this.events={dictObjetSet:new oe$2,dictObjectErased:new oe$2,entityAppended:new oe$2,entityModified:new oe$2,layerAppended:new oe$2,layerModified:new oe$2,layerErased:new oe$2,openProgress:new oe$2,headerSysVarChanged:new oe$2},this._version=new ma$2("AC1014"),this._angBase=0,this._angDir=0,this._aunits=tl$2.DecimalDegrees,this._celtscale=1,this._cecolor=new Kr$1,this._extents=new Lt$2,this._insunits=Tl$2.Millimeters,this._ltscale=1,this._pdmode=0,this._pdsize=0,this._tables={blockTable:new h0(this),dimStyleTable:new c0(this),linetypeTable:new d0(this),textStyleTable:new p0(this),layerTable:new u0(this),viewportTable:new m0(this)},this._dictionaries={layouts:new pu$1(this),imageDefs:new kl$2(this)}}get tables(){return this._tables}get dictionaries(){return this._dictionaries}get currentSpaceId(){return this._currentSpace||(this._currentSpace=this._tables.blockTable.modelSpace),this._currentSpace.objectId}set currentSpaceId(e){const n=this.tables.blockTable.getIdAt(e);if(n==null)throw new Error(`[AcDbDatabase] The specified block table record id '${e}' doesn't exist in the drawing database!`);this._currentSpace=n}get aunits(){return this._aunits}set aunits(e){this._aunits=e||0,this.triggerHeaderSysVarChangedEvent("aunits")}get version(){return this._version}set version(e){this._version=new ma$2(e),this.triggerHeaderSysVarChangedEvent("version")}get insunits(){return this._insunits}set insunits(e){this._insunits=e||4,this.triggerHeaderSysVarChangedEvent("insunits")}get ltscale(){return this._ltscale}set ltscale(e){this._ltscale=e||1,this.triggerHeaderSysVarChangedEvent("ltscale")}get cecolor(){return this._cecolor}set cecolor(e){this._cecolor=e||0,this.triggerHeaderSysVarChangedEvent("cecolor")}get celtscale(){return this._celtscale}set celtscale(e){this._celtscale=e||1,this.triggerHeaderSysVarChangedEvent("celtscale")}get angBase(){return this._angBase}set angBase(e){this._angBase=e||0,this.triggerHeaderSysVarChangedEvent("angbase")}get angDir(){return this._angDir}set angDir(e){this._angDir=e||0,this.triggerHeaderSysVarChangedEvent("angdir")}get extmax(){return this._extents.max}set extmax(e){e&&(this._extents.expandByPoint(e),this.triggerHeaderSysVarChangedEvent("extmax"))}get extmin(){return this._extents.min}set extmin(e){e&&(this._extents.expandByPoint(e),this.triggerHeaderSysVarChangedEvent("extmin"))}get extents(){return this._extents}get pdmode(){return this._pdmode}set pdmode(e){this._pdmode=e||0,this.triggerHeaderSysVarChangedEvent("pdmode")}get pdsize(){return this._pdsize}set pdsize(e){this._pdsize=e||0,this.triggerHeaderSysVarChangedEvent("pdsize")}async read(e,n,r=ni$2.DXF){const g=Nr$1.instance.get(r);if(g==null)throw new Error(`Database converter for file type '${r}' isn't registered and can can't read this file!`);this.clear(),await g.read(e,this,n&&n.minimumChunkSize||10,async($,y,k,L)=>{if(this.events.openProgress.dispatch({database:this,percentage:$,stage:"CONVERSION",subStage:y,subStageStatus:k,data:L}),n&&n.fontLoader&&y=="FONT"&&k=="END"){const V=L||this.tables.textStyleTable.fonts;await n.fontLoader.load(V)}})}async openUri(e,n){var r;this.events.openProgress.dispatch({database:this,percentage:0,stage:"FETCH_FILE",subStageStatus:"START"});const g=await fetch(e);if(!g.ok)throw this.events.openProgress.dispatch({database:this,percentage:100,stage:"FETCH_FILE",subStageStatus:"ERROR"}),new Error(`Failed to fetch file '${e}' with HTTP status code '${g.status}'!`);const $=g.headers.get("content-length"),y=$?parseInt($,10):null;let k=0;const L=(r=g.body)==null?void 0:r.getReader();if(!L)throw new Error("Failed to get response reader");const V=[];for(;;){const{done:ie,value:Oe}=await L.read();if(ie)break;if(V.push(Oe),k+=Oe.length,y!==null){const ur=Math.round(k/y*100);this.events.openProgress.dispatch({database:this,percentage:ur,stage:"FETCH_FILE",subStageStatus:"IN-PROGRESS"})}}const z=new Uint8Array(k);let j=0;for(const ie of V)z.set(ie,j),j+=ie.length;this.getFileNameFromUri(e).toLowerCase().split(".").pop()==="dwg"?await this.read(z.buffer,n,ni$2.DWG):await this.read(z.buffer,n,ni$2.DXF),this.events.openProgress.dispatch({database:this,percentage:100,stage:"FETCH_FILE",subStageStatus:"END"})}async regen(){await new l0(this).read(null,this,500,async(e,n,r,g)=>{this.events.openProgress.dispatch({database:this,percentage:e,stage:"CONVERSION",subStage:n,subStageStatus:r,data:g})})}createDefaultData(e={layer:!0,lineType:!0,textStyle:!0,dimStyle:!0,layout:!0}){const n=new gu$1(this);e.layer&&n.createDefaultLayer(),e.lineType&&n.createDefaultLineType(),e.textStyle&&n.createDefaultTextStyle(),e.dimStyle&&n.createDefaultDimStyle(),e.layout&&n.createDefaultLayout()}clear(){this._tables.blockTable.removeAll(),this._tables.dimStyleTable.removeAll(),this._tables.linetypeTable.removeAll(),this._tables.textStyleTable.removeAll(),this._tables.layerTable.removeAll(),this._tables.viewportTable.removeAll(),this._dictionaries.layouts.removeAll(),this._currentSpace=void 0,this._extents.makeEmpty()}triggerHeaderSysVarChangedEvent(e){this.events.headerSysVarChanged.dispatch({database:this,name:e})}getFileNameFromUri(e){try{const n=new URL(e).pathname.split("/");return n[n.length-1]||""}catch(n){return console.error("Invalid URI:",n),""}}}const ui$2=class c2 extends Dn$2{constructor(e,n){e=e||{},Cs$1(e,c2.DEFAULT_DIM_VALUES),super(e,n)}get dimpost(){return this.getAttr("dimpost")}set dimpost(e){this.setAttr("dimpost",e)}get dimapost(){return this.getAttr("dimapost")}set dimapost(e){this.setAttr("dimapost",e)}get dimscale(){return this.getAttr("dimscale")}set dimscale(e){this.setAttr("dimscale",e)}get dimasz(){return this.getAttr("dimasz")}set dimasz(e){this.setAttr("dimasz",e)}get dimexo(){return this.getAttr("dimexo")}set dimexo(e){this.setAttr("dimexo",e)}get dimdli(){return this.getAttr("dimdli")}set dimdli(e){this.setAttr("dimdli",e)}get dimexe(){return this.getAttr("dimexe")}set dimexe(e){this.setAttr("dimexe",e)}get dimrnd(){return this.getAttr("dimrnd")}set dimrnd(e){this.setAttr("dimrnd",e)}get dimdle(){return this.getAttr("dimdle")}set dimdle(e){this.setAttr("dimdle",e)}get dimtp(){return this.getAttr("dimtp")}set dimtp(e){this.setAttr("dimtp",e)}get dimtm(){return this.getAttr("dimtm")}set dimtm(e){this.setAttr("dimtm",e)}get dimtxt(){return this.getAttr("dimtxt")}set dimtxt(e){this.setAttr("dimtxt",e)}get dimcen(){return this.getAttr("dimcen")}set dimcen(e){this.setAttr("dimcen",e)}get dimtsz(){return this.getAttr("dimtsz")}set dimtsz(e){this.setAttr("dimtsz",e)}get dimaltf(){return this.getAttr("dimaltf")}set dimaltf(e){this.setAttr("dimaltf",e)}get dimlfac(){return this.getAttr("dimlfac")}set dimlfac(e){this.setAttr("dimlfac",e)}get dimtvp(){return this.getAttr("dimtvp")}set dimtvp(e){this.setAttr("dimtvp",e)}get dimtfac(){return this.getAttr("dimtfac")}set dimtfac(e){this.setAttr("dimtfac",e)}get dimgap(){return this.getAttr("dimgap")}set dimgap(e){this.setAttr("dimgap",e)}get dimaltrnd(){return this.getAttr("dimaltrnd")}set dimaltrnd(e){this.setAttr("dimaltrnd",e)}get dimtol(){return this.getAttr("dimtol")}set dimtol(e){this.setAttr("dimtol",e)}get dimlim(){return this.getAttr("dimlim")}set dimlim(e){this.setAttr("dimlim",e)}get dimtih(){return this.getAttr("dimtih")}set dimtih(e){this.setAttr("dimtih",e)}get dimtoh(){return this.getAttr("dimtoh")}set dimtoh(e){this.setAttr("dimtoh",e)}get dimse1(){return this.getAttr("dimse1")}set dimse1(e){this.setAttr("dimse1",e)}get dimse2(){return this.getAttr("dimse2")}set dimse2(e){this.setAttr("dimse2",e)}get dimtad(){return this.getAttr("dimtad")}set dimtad(e){this.setAttr("dimtad",e)}get dimzin(){return this.getAttr("dimzin")}set dimzin(e){this.setAttr("dimzin",e)}get dimazin(){return this.getAttr("dimazin")}set dimazin(e){this.setAttr("dimazin",e)}get dimalt(){return this.getAttr("dimalt")}set dimalt(e){this.setAttr("dimalt",e)}get dimaltd(){return this.getAttr("dimaltd")}set dimaltd(e){this.setAttr("dimaltd",e)}get dimtofl(){return this.getAttr("dimtofl")}set dimtofl(e){this.setAttr("dimtofl",e)}get dimsah(){return this.getAttr("dimsah")}set dimsah(e){this.setAttr("dimsah",e)}get dimtix(){return this.getAttr("dimtix")}set dimtix(e){this.setAttr("dimtix",e)}get dimsoxd(){return this.getAttr("dimsoxd")}set dimsoxd(e){this.setAttr("dimsoxd",e)}get dimclrd(){return this.getAttr("dimclrd")}set dimclrd(e){this.setAttr("dimclrd",e)}get dimclre(){return this.getAttr("dimclre")}set dimclre(e){this.setAttr("dimclre",e)}get dimclrt(){return this.getAttr("dimclrt")}set dimclrt(e){this.setAttr("dimclrt",e)}get dimadec(){return this.getAttr("dimadec")}set dimadec(e){this.setAttr("dimadec",e)}get dimunit(){return this.getAttr("dimunit")}set dimunit(e){this.setAttr("dimunit",e)}get dimdec(){return this.getAttr("dimdec")}set dimdec(e){this.setAttr("dimdec",e)}get dimtdec(){return this.getAttr("dimtdec")}set dimtdec(e){this.setAttr("dimtdec",e)}get dimaltu(){return this.getAttr("dimaltu")}set dimaltu(e){this.setAttr("dimaltu",e)}get dimalttd(){return this.getAttr("dimalttd")}set dimalttd(e){this.setAttr("dimalttd",e)}get dimaunit(){return this.getAttr("dimaunit")}set dimaunit(e){this.setAttr("dimaunit",e)}get dimfrac(){return this.getAttr("dimfrac")}set dimfrac(e){this.setAttr("dimfrac",e)}get dimlunit(){return this.getAttr("dimlunit")}set dimlunit(e){this.setAttr("dimlunit",e)}get dimdsep(){return this.getAttr("dimdsep")}set dimdsep(e){this.setAttr("dimdsep",e)}get dimtmove(){return this.getAttr("dimtmove")}set dimtmove(e){this.setAttr("dimtmove",e)}get dimjust(){return this.getAttr("dimjust")}set dimjust(e){this.setAttr("dimjust",e)}get dimsd1(){return this.getAttr("dimsd1")}set dimsd1(e){this.setAttr("dimsd1",e)}get dimsd2(){return this.getAttr("dimsd2")}set dimsd2(e){this.setAttr("dimsd2",e)}get dimtolj(){return this.getAttr("dimtolj")}set dimtolj(e){this.setAttr("dimtolj",e)}get dimtzin(){return this.getAttr("dimtzin")}set dimtzin(e){this.setAttr("dimtzin",e)}get dimaltz(){return this.getAttr("dimaltz")}set dimaltz(e){this.setAttr("dimaltz",e)}get dimalttz(){return this.getAttr("dimalttz")}set dimalttz(e){this.setAttr("dimalttz",e)}get dimfit(){return this.getAttr("dimfit")}set dimfit(e){this.setAttr("dimfit",e)}get dimupt(){return this.getAttr("dimupt")}set dimupt(e){this.setAttr("dimupt",e)}get dimatfit(){return this.getAttr("dimatfit")}set dimatfit(e){this.setAttr("dimatfit",e)}get dimtxsty(){return this.getAttr("dimtxsty")}set dimtxsty(e){this.setAttr("dimtxsty",e)}get dimldrblk(){return this.getAttr("dimldrblk")}set dimldrblk(e){this.setAttr("dimldrblk",e)}get dimblk(){return this.getAttr("dimblk")}set dimblk(e){this.setAttr("dimblk",e)}get dimblk1(){return this.getAttr("dimblk1")}set dimblk1(e){this.setAttr("dimblk1",e)}get dimblk2(){return this.getAttr("dimblk2")}set dimblk2(e){this.setAttr("dimblk2",e)}get dimlwd(){return this.getAttr("dimlwd")}set dimlwd(e){this.setAttr("dimlwd",e)}get dimlwe(){return this.getAttr("dimlwe")}set dimlwe(e){this.setAttr("dimlwe",e)}};ui$2.DEFAULT_DIM_VALUES={name:"",dimpost:"",dimapost:"",dimscale:1,dimasz:2.5,dimexo:.625,dimdli:.38,dimexe:.18,dimrnd:0,dimdle:0,dimtp:0,dimtm:0,dimtxt:2.5,dimcen:2.5,dimtsz:0,dimaltf:0,dimlfac:1,dimtvp:0,dimtfac:1,dimgap:1,dimaltrnd:0,dimtol:0,dimlim:0,dimtih:0,dimtoh:0,dimse1:0,dimse2:0,dimtad:0,dimzin:0,dimazin:0,dimalt:0,dimaltd:2,dimtofl:0,dimsah:0,dimtix:0,dimsoxd:0,dimclrd:0,dimclre:0,dimclrt:0,dimadec:0,dimunit:2,dimdec:4,dimtdec:4,dimaltu:2,dimalttd:2,dimaunit:0,dimfrac:0,dimlunit:2,dimdsep:".",dimtmove:0,dimjust:0,dimsd1:0,dimsd2:0,dimtolj:0,dimtzin:0,dimaltz:0,dimalttz:0,dimfit:0,dimupt:0,dimatfit:3,dimtxsty:"Standard",dimldrblk:"",dimblk:"",dimblk1:"",dimblk2:"",dimlwd:-2,dimlwe:-2};let Ts$1=ui$2,si$2=class extends Dn$2{constructor(e){super(),this.name=e.name,this._linetype=e}get numDashes(){return this._linetype.pattern?this._linetype.pattern.length:0}get patternLength(){return this._linetype.totalPatternLength}get comments(){return this._linetype.description}get linetype(){return this._linetype}dashLengthAt(e){if(e<0||e>=this.numDashes)throw new Error('Index must be greater than or equal to zero, but less than the value of property "numDashes".');return this._linetype.pattern[e].elementLength}};const di$2=class u2{constructor(){this.registry=new Map,this.cache=new Map,this.events={sysVarChanged:new oe$2},this.registerVar({name:"PICKBOX",type:"number",defaultValue:0})}static instance(){return this._instance||(this._instance=new u2),this._instance}registerVar(e){this.registry.set(e.name.toUpperCase(),e)}registerMany(e){e.forEach(n=>this.registerVar(n))}getVar(e){if(e=e.toUpperCase(),this.cache.has(e))return this.cache.get(e)}setVar(e,n){e=e.toUpperCase();const r=this.getDescriptor(e);if(r){const g=this.getVar(e);if(this.cache.set(e,n),r.type!=="string"&&(typeof n=="string"||n instanceof String))if(r.type==="number"){const $=Number(n);if(Number.isNaN($))throw new Error("Invalid input!");n=$}else r.type==="boolean"&&(n=this.parseBoolean(n));this.events.sysVarChanged.dispatch({name:e,newVal:n,oldVal:g})}else throw new Error(`System variable ${e} not found!`)}getDescriptor(e){return this.registry.get(e.toUpperCase())}getAllDescriptors(){return[...this.registry.values()]}parseBoolean(e){if(e==null)return!1;const n=String(e).trim().toLowerCase(),r=new Set(["true","t","1","yes","y"]),g=new Set(["false","f","0","no","n"]);return r.has(n)?!0:(g.has(n),!1)}};di$2._instance=null;let Xo$2=di$2,jh$1=class extends Dn$2{constructor(e){super(),this.name=e.name,this._textStyle=e,this._textStyle.font=this.getFileNameWithoutExtension(this._textStyle.font||this._textStyle.extendedFont||this.name),this._isVertical=!1}get obliquingAngle(){return this._textStyle.obliqueAngle}set obliquingAngle(e){this._textStyle.obliqueAngle=e}get priorSize(){return this._textStyle.lastHeight}set priorSize(e){this._textStyle.lastHeight=e}get textSize(){return this._textStyle.fixedTextHeight}set textSize(e){this._textStyle.fixedTextHeight=e}get xScale(){return this._textStyle.widthFactor}set xScale(e){this._textStyle.widthFactor=e}get isVertical(){return this._isVertical}set isVertical(e){this._isVertical=e}get fileName(){return this._textStyle.font}set fileName(e){this._textStyle.font=e}get bigFontFileName(){return this._textStyle.bigFont}set bigFontFileName(e){this._textStyle.bigFont=e}get textStyle(){return this._textStyle}getFileNameWithoutExtension(e){const n=e.split("/").pop();if(n){const r=n.lastIndexOf(".");return r===-1?n:n.substring(0,r)}return e}};const b0={center:new Nt$3,viewDirectionFromTarget:new W$3(0,0,1),viewTarget:new W$3(0,0,0),lensLength:500,frontClippingPlane:0,backClippingPlane:0,viewHeight:1e3,viewTwistAngle:0,frozenLayers:[],styleSheet:"",renderMode:Pl$2.OPTIMIZED_2D,viewMode:0,ucsIconSetting:0,ucsOrigin:new W$3(0,0,0),ucsXAxis:new W$3(1,0,0),ucsYAxis:new W$3(0,1,0),orthographicType:Sl$2.TOP,shadePlotSetting:0,shadePlotObjectId:void 0,visualStyleObjectId:void 0,isDefaultLightingOn:!1,defaultLightingType:Il$2.ONE_DISTANT_LIGHT,brightness:0,contrast:0,ambientColor:void 0};class x0 extends Dn$2{constructor(){super(),this._circleSides=100,this._center=new Nt$3,this._lowerLeftCorner=new Nt$3(0,0),this._upperRightCorner=new Nt$3(1,1),this._snapBase=new Nt$3(0,0),this._snapAngle=0,this._snapSpacing=new Nt$3(0,0),this._standardFlag=0,this._gridSpacing=new Nt$3,this._gridMajor=10,this._gsView=b0}get circleSides(){return this._circleSides}set circleSides(e){this._circleSides=e}get center(){return this._center}get lowerLeftCorner(){return this._lowerLeftCorner}set lowerLeftCorner(e){this._lowerLeftCorner.copy(e)}get upperRightCorner(){return this._upperRightCorner}set upperRightCorner(e){this._upperRightCorner.copy(e)}get snapBase(){return this._snapBase}set snapBase(e){this._snapBase.copy(e)}get snapAngle(){return this._snapAngle}set snapAngle(e){this._snapAngle=e}get snapIncrements(){return this._snapSpacing}set snapIncrements(e){this._snapSpacing.copy(e)}get gridMajor(){return this._gridMajor}set gridMajor(e){this._gridMajor=e}get gridIncrements(){return this._gridSpacing}set gridIncrements(e){this._gridSpacing.copy(e)}get standardFlag(){return this._standardFlag}set standardFlag(e){this._standardFlag=e}get snapEnabled(){return!!(this._standardFlag&256)}get backgroundObjectId(){return this._backgroundObjectId}set backgroundObjectId(e){this._backgroundObjectId=e}get gsView(){return this._gsView}}class w0{constructor(){this.events={layoutCreated:new oe$2,layoutRemoved:new oe$2,layoutRenamed:new oe$2,layoutSwitched:new oe$2}}countLayouts(e){return this.getWorkingDatabase(e).dictionaries.layouts.numEntries}findLayoutNamed(e,n){return this.getWorkingDatabase(n).dictionaries.layouts.getAt(e)}findActiveLayout(){const e=this.getActiveLayout();return e?e.layoutName:"Model"}setCurrentLayoutId(e,n){const r=this.getWorkingDatabase(n),g=r.dictionaries.layouts.getIdAt(e);return this.setCurrentLayoutInternal(g,r)}setCurrentLayoutBtrId(e,n){const r=this.getWorkingDatabase(n),g=r.dictionaries.layouts.getBtrIdAt(e);return this.setCurrentLayoutInternal(g,r)}setCurrentLayout(e,n){const r=this.getWorkingDatabase(n),g=r.dictionaries.layouts.getAt(e);return this.setCurrentLayoutInternal(g,r)}renameLayout(e,n,r){const g=this.getWorkingDatabase(r).dictionaries.layouts.getAt(e);return g?(g.layoutName=n,this.events.layoutRenamed.dispatch({layout:g,oldName:e,newName:n}),!0):!1}layoutExists(e,n){return this.getWorkingDatabase(n).dictionaries.layouts.has(e)}deleteLayout(e,n){const r=this.getWorkingDatabase(n).dictionaries.layouts,g=r.getAt(e);let $=!1;return g&&($=r.remove(e),$&&this.events.layoutRemoved.dispatch({layout:g})),$}createLayout(e,n){const r=this.getWorkingDatabase(n),g=new wa$2;g.layoutName=e,g.tabOrder=r.dictionaries.layouts.maxTabOrder;const $=new me$3;return $.name=`*Paper_Space${g.tabOrder}`,r.tables.blockTable.add($),r.dictionaries.layouts.setAt(e,g),this.events.layoutCreated.dispatch({layout:g}),{layout:g,btr:$}}getActiveLayout(e){const n=this.getWorkingDatabase(e);return n.dictionaries.layouts.getBtrIdAt(n.currentSpaceId)}getWorkingDatabase(e){return e||Gh$1().workingDatabase}setCurrentLayoutInternal(e,n){return e?(this.events.layoutSwitched.dispatch({layout:e}),n.currentSpaceId=e.blockTableRecordId,!0):!1}}function Gh$1(){return ga$2.instance}const pi$2=class{constructor(){this._workingDatabase=null,this._layoutManager=new w0}get workingDatabase(){if(this._workingDatabase==null)throw new Error("The current working database must be set before using it!");return this._workingDatabase}set workingDatabase(e){this._workingDatabase=e}get layoutManager(){return this._layoutManager}};pi$2.instance=new pi$2;let ga$2=pi$2;/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="172",MOUSE={ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",KeepStencilOp=7680,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const g=this._listeners[e];if(g!==void 0){const $=g.indexOf(n);$!==-1&&g.splice($,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const g=r.slice(0);for(let $=0,y=g.length;$<y;$++)g[$].call(this,e);e.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(_lut[t&255]+_lut[t>>8&255]+_lut[t>>16&255]+_lut[t>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[n&63|128]+_lut[n>>8&255]+"-"+_lut[n>>16&255]+_lut[n>>24&255]+_lut[r&255]+_lut[r>>8&255]+_lut[r>>16&255]+_lut[r>>24&255]).toLowerCase()}function clamp$3(t,e,n){return Math.max(e,Math.min(n,t))}function euclideanModulo(t,e){return(t%e+e)%e}function mapLinear(t,e,n,r,g){return r+(t-e)*(g-r)/(n-e)}function inverseLerp(t,e,n){return t!==e?(n-t)/(e-t):0}function lerp(t,e,n){return(1-n)*t+n*e}function damp(t,e,n,r){return lerp(t,e,1-Math.exp(-n*r))}function pingpong(t,e=1){return e-Math.abs(euclideanModulo(t,e*2)-e)}function smoothstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function smootherstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function randInt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function randFloat(t,e){return t+Math.random()*(e-t)}function randFloatSpread(t){return t*(.5-Math.random())}function seededRandom(t){t!==void 0&&(_seed=t);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad(t){return t*DEG2RAD}function radToDeg(t){return t*RAD2DEG}function isPowerOfTwo(t){return(t&t-1)===0&&t!==0}function ceilPowerOfTwo(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function floorPowerOfTwo(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function setQuaternionFromProperEuler(t,e,n,r,g){const $=Math.cos,y=Math.sin,k=$(n/2),L=y(n/2),V=$((e+r)/2),z=y((e+r)/2),j=$((e-r)/2),ie=y((e-r)/2),Oe=$((r-e)/2),ur=y((r-e)/2);switch(g){case"XYX":t.set(k*z,L*j,L*ie,k*V);break;case"YZY":t.set(L*ie,k*z,L*j,k*V);break;case"ZXZ":t.set(L*j,L*ie,k*z,k*V);break;case"XZX":t.set(k*z,L*ur,L*Oe,k*V);break;case"YXY":t.set(L*Oe,k*z,L*ur,k*V);break;case"ZYZ":t.set(L*ur,L*Oe,k*z,k*V);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+g)}}function denormalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function normalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$3,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(e=0,n=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,g=e.elements;return this.x=g[0]*n+g[3]*r+g[6],this.y=g[1]*n+g[4]*r+g[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=clamp$3(this.x,e.x,n.x),this.y=clamp$3(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=clamp$3(this.x,e,n),this.y=clamp$3(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(clamp$3(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(clamp$3(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),g=Math.sin(n),$=this.x-e.x,y=this.y-e.y;return this.x=$*r-y*g+e.x,this.y=$*g+y*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(e,n,r,g,$,y,k,L,V){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,g,$,y,k,L,V)}set(e,n,r,g,$,y,k,L,V){const z=this.elements;return z[0]=e,z[1]=g,z[2]=k,z[3]=n,z[4]=$,z[5]=L,z[6]=r,z[7]=y,z[8]=V,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,g=n.elements,$=this.elements,y=r[0],k=r[3],L=r[6],V=r[1],z=r[4],j=r[7],ie=r[2],Oe=r[5],ur=r[8],hr=g[0],Vr=g[3],dr=g[6],ec=g[1],tc=g[4],Xs=g[7],rc=g[2],ic=g[5],_c=g[8];return $[0]=y*hr+k*ec+L*rc,$[3]=y*Vr+k*tc+L*ic,$[6]=y*dr+k*Xs+L*_c,$[1]=V*hr+z*ec+j*rc,$[4]=V*Vr+z*tc+j*ic,$[7]=V*dr+z*Xs+j*_c,$[2]=ie*hr+Oe*ec+ur*rc,$[5]=ie*Vr+Oe*tc+ur*ic,$[8]=ie*dr+Oe*Xs+ur*_c,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],g=e[2],$=e[3],y=e[4],k=e[5],L=e[6],V=e[7],z=e[8];return n*y*z-n*k*V-r*$*z+r*k*L+g*$*V-g*y*L}invert(){const e=this.elements,n=e[0],r=e[1],g=e[2],$=e[3],y=e[4],k=e[5],L=e[6],V=e[7],z=e[8],j=z*y-k*V,ie=k*L-z*$,Oe=V*$-y*L,ur=n*j+r*ie+g*Oe;if(ur===0)return this.set(0,0,0,0,0,0,0,0,0);const hr=1/ur;return e[0]=j*hr,e[1]=(g*V-z*r)*hr,e[2]=(k*r-g*y)*hr,e[3]=ie*hr,e[4]=(z*n-g*L)*hr,e[5]=(g*$-k*n)*hr,e[6]=Oe*hr,e[7]=(r*L-V*n)*hr,e[8]=(y*n-r*$)*hr,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,g,$,y,k){const L=Math.cos($),V=Math.sin($);return this.set(r*L,r*V,-r*(L*y+V*k)+y+e,-g*V,g*L,-g*(-V*y+L*k)+k+n,0,0,1),this}scale(e,n){return this.premultiply(_m3.makeScale(e,n)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,n){return this.premultiply(_m3.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let g=0;g<9;g++)if(n[g]!==r[g])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function createElementNS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function createCanvasElement(){const t=createElementNS("canvas");return t.style.display="block",t}const _cache={};function warnOnce(t){t in _cache||(_cache[t]=!0,console.warn(t))}function probeAsync(t,e,n){return new Promise(function(r,g){function $(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:g();break;case t.TIMEOUT_EXPIRED:setTimeout($,n);break;default:r()}}setTimeout($,n)})}function toNormalizedProjectionMatrix(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function toReversedProjectionMatrix(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const t={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(g,$,y){return this.enabled===!1||$===y||!$||!y||(this.spaces[$].transfer===SRGBTransfer&&(g.r=SRGBToLinear(g.r),g.g=SRGBToLinear(g.g),g.b=SRGBToLinear(g.b)),this.spaces[$].primaries!==this.spaces[y].primaries&&(g.applyMatrix3(this.spaces[$].toXYZ),g.applyMatrix3(this.spaces[y].fromXYZ)),this.spaces[y].transfer===SRGBTransfer&&(g.r=LinearToSRGB(g.r),g.g=LinearToSRGB(g.g),g.b=LinearToSRGB(g.b))),g},fromWorkingColorSpace:function(g,$){return this.convert(g,this.workingColorSpace,$)},toWorkingColorSpace:function(g,$){return this.convert(g,$,this.workingColorSpace)},getPrimaries:function(g){return this.spaces[g].primaries},getTransfer:function(g){return g===NoColorSpace?LinearTransfer:this.spaces[g].transfer},getLuminanceCoefficients:function(g,$=this.workingColorSpace){return g.fromArray(this.spaces[$].luminanceCoefficients)},define:function(g){Object.assign(this.spaces,g)},_getMatrix:function(g,$,y){return g.copy(this.spaces[$].toXYZ).multiply(this.spaces[y].fromXYZ)},_getDrawingBufferColorSpace:function(g){return this.spaces[g].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(g=this.workingColorSpace){return this.spaces[g].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[LinearSRGBColorSpace]:{primaries:e,whitePoint:r,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:e,whitePoint:r,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),t}const ColorManagement=createColorManagement();function SRGBToLinear(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function LinearToSRGB(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const r=_canvas.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=_canvas}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=createElementNS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const g=r.getImageData(0,0,e.width,e.height),$=g.data;for(let y=0;y<$.length;y++)$[y]=SRGBToLinear($[y]/255)*255;return r.putImageData(g,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(SRGBToLinear(n[r]/255)*255):n[r]=SRGBToLinear(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _sourceId=0;class Source{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},g=this.data;if(g!==null){let $;if(Array.isArray(g)){$=[];for(let y=0,k=g.length;y<k;y++)g[y].isDataTexture?$.push(serializeImage(g[y].image)):$.push(serializeImage(g[y]))}else $=serializeImage(g);r.url=$}return n||(e.images[this.uuid]=r),r}}function serializeImage(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ImageUtils.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(e=Texture.DEFAULT_IMAGE,n=Texture.DEFAULT_MAPPING,r=ClampToEdgeWrapping,g=ClampToEdgeWrapping,$=LinearFilter,y=LinearMipmapLinearFilter,k=RGBAFormat,L=UnsignedByteType,V=Texture.DEFAULT_ANISOTROPY,z=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=g,this.magFilter=$,this.minFilter=y,this.anisotropy=V,this.format=k,this.internalFormat=null,this.type=L,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=z,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,n=0,r=0,g=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=g}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,g){return this.x=e,this.y=n,this.z=r,this.w=g,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,g=this.z,$=this.w,y=e.elements;return this.x=y[0]*n+y[4]*r+y[8]*g+y[12]*$,this.y=y[1]*n+y[5]*r+y[9]*g+y[13]*$,this.z=y[2]*n+y[6]*r+y[10]*g+y[14]*$,this.w=y[3]*n+y[7]*r+y[11]*g+y[15]*$,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,g,$;const L=e.elements,V=L[0],z=L[4],j=L[8],ie=L[1],Oe=L[5],ur=L[9],hr=L[2],Vr=L[6],dr=L[10];if(Math.abs(z-ie)<.01&&Math.abs(j-hr)<.01&&Math.abs(ur-Vr)<.01){if(Math.abs(z+ie)<.1&&Math.abs(j+hr)<.1&&Math.abs(ur+Vr)<.1&&Math.abs(V+Oe+dr-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const tc=(V+1)/2,Xs=(Oe+1)/2,rc=(dr+1)/2,ic=(z+ie)/4,_c=(j+hr)/4,qm=(ur+Vr)/4;return tc>Xs&&tc>rc?tc<.01?(r=0,g=.707106781,$=.707106781):(r=Math.sqrt(tc),g=ic/r,$=_c/r):Xs>rc?Xs<.01?(r=.707106781,g=0,$=.707106781):(g=Math.sqrt(Xs),r=ic/g,$=qm/g):rc<.01?(r=.707106781,g=.707106781,$=0):($=Math.sqrt(rc),r=_c/$,g=qm/$),this.set(r,g,$,n),this}let ec=Math.sqrt((Vr-ur)*(Vr-ur)+(j-hr)*(j-hr)+(ie-z)*(ie-z));return Math.abs(ec)<.001&&(ec=1),this.x=(Vr-ur)/ec,this.y=(j-hr)/ec,this.z=(ie-z)/ec,this.w=Math.acos((V+Oe+dr-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=clamp$3(this.x,e.x,n.x),this.y=clamp$3(this.y,e.y,n.y),this.z=clamp$3(this.z,e.z,n.z),this.w=clamp$3(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=clamp$3(this.x,e,n),this.y=clamp$3(this.y,e,n),this.z=clamp$3(this.z,e,n),this.w=clamp$3(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(clamp$3(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Vector4(0,0,e,n),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,n);const g={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const $=new Texture(g,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);$.flipY=!1,$.generateMipmaps=r.generateMipmaps,$.internalFormat=r.internalFormat,this.textures=[];const y=r.count;for(let k=0;k<y;k++)this.textures[k]=$.clone(),this.textures[k].isRenderTargetTexture=!0,this.textures[k].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let g=0,$=this.textures.length;g<$;g++)this.textures[g].image.width=e,this.textures[g].image.height=n,this.textures[g].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,g=e.textures.length;r<g;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0,this.textures[r].renderTarget=this;const n=Object.assign({},e.texture.image);return this.texture.source=new Source(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(e=null,n=1,r=1,g=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:g},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Data3DTexture extends Texture{constructor(e=null,n=1,r=1,g=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:g},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Quaternion{constructor(e=0,n=0,r=0,g=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=g}static slerpFlat(e,n,r,g,$,y,k){let L=r[g+0],V=r[g+1],z=r[g+2],j=r[g+3];const ie=$[y+0],Oe=$[y+1],ur=$[y+2],hr=$[y+3];if(k===0){e[n+0]=L,e[n+1]=V,e[n+2]=z,e[n+3]=j;return}if(k===1){e[n+0]=ie,e[n+1]=Oe,e[n+2]=ur,e[n+3]=hr;return}if(j!==hr||L!==ie||V!==Oe||z!==ur){let Vr=1-k;const dr=L*ie+V*Oe+z*ur+j*hr,ec=dr>=0?1:-1,tc=1-dr*dr;if(tc>Number.EPSILON){const rc=Math.sqrt(tc),ic=Math.atan2(rc,dr*ec);Vr=Math.sin(Vr*ic)/rc,k=Math.sin(k*ic)/rc}const Xs=k*ec;if(L=L*Vr+ie*Xs,V=V*Vr+Oe*Xs,z=z*Vr+ur*Xs,j=j*Vr+hr*Xs,Vr===1-k){const rc=1/Math.sqrt(L*L+V*V+z*z+j*j);L*=rc,V*=rc,z*=rc,j*=rc}}e[n]=L,e[n+1]=V,e[n+2]=z,e[n+3]=j}static multiplyQuaternionsFlat(e,n,r,g,$,y){const k=r[g],L=r[g+1],V=r[g+2],z=r[g+3],j=$[y],ie=$[y+1],Oe=$[y+2],ur=$[y+3];return e[n]=k*ur+z*j+L*Oe-V*ie,e[n+1]=L*ur+z*ie+V*j-k*Oe,e[n+2]=V*ur+z*Oe+k*ie-L*j,e[n+3]=z*ur-k*j-L*ie-V*Oe,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,g){return this._x=e,this._y=n,this._z=r,this._w=g,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,g=e._y,$=e._z,y=e._order,k=Math.cos,L=Math.sin,V=k(r/2),z=k(g/2),j=k($/2),ie=L(r/2),Oe=L(g/2),ur=L($/2);switch(y){case"XYZ":this._x=ie*z*j+V*Oe*ur,this._y=V*Oe*j-ie*z*ur,this._z=V*z*ur+ie*Oe*j,this._w=V*z*j-ie*Oe*ur;break;case"YXZ":this._x=ie*z*j+V*Oe*ur,this._y=V*Oe*j-ie*z*ur,this._z=V*z*ur-ie*Oe*j,this._w=V*z*j+ie*Oe*ur;break;case"ZXY":this._x=ie*z*j-V*Oe*ur,this._y=V*Oe*j+ie*z*ur,this._z=V*z*ur+ie*Oe*j,this._w=V*z*j-ie*Oe*ur;break;case"ZYX":this._x=ie*z*j-V*Oe*ur,this._y=V*Oe*j+ie*z*ur,this._z=V*z*ur-ie*Oe*j,this._w=V*z*j+ie*Oe*ur;break;case"YZX":this._x=ie*z*j+V*Oe*ur,this._y=V*Oe*j+ie*z*ur,this._z=V*z*ur-ie*Oe*j,this._w=V*z*j-ie*Oe*ur;break;case"XZY":this._x=ie*z*j-V*Oe*ur,this._y=V*Oe*j-ie*z*ur,this._z=V*z*ur+ie*Oe*j,this._w=V*z*j+ie*Oe*ur;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+y)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,g=Math.sin(r);return this._x=e.x*g,this._y=e.y*g,this._z=e.z*g,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],g=n[4],$=n[8],y=n[1],k=n[5],L=n[9],V=n[2],z=n[6],j=n[10],ie=r+k+j;if(ie>0){const Oe=.5/Math.sqrt(ie+1);this._w=.25/Oe,this._x=(z-L)*Oe,this._y=($-V)*Oe,this._z=(y-g)*Oe}else if(r>k&&r>j){const Oe=2*Math.sqrt(1+r-k-j);this._w=(z-L)/Oe,this._x=.25*Oe,this._y=(g+y)/Oe,this._z=($+V)/Oe}else if(k>j){const Oe=2*Math.sqrt(1+k-r-j);this._w=($-V)/Oe,this._x=(g+y)/Oe,this._y=.25*Oe,this._z=(L+z)/Oe}else{const Oe=2*Math.sqrt(1+j-r-k);this._w=(y-g)/Oe,this._x=($+V)/Oe,this._y=(L+z)/Oe,this._z=.25*Oe}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp$3(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const g=Math.min(1,n/r);return this.slerp(e,g),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,g=e._y,$=e._z,y=e._w,k=n._x,L=n._y,V=n._z,z=n._w;return this._x=r*z+y*k+g*V-$*L,this._y=g*z+y*L+$*k-r*V,this._z=$*z+y*V+r*L-g*k,this._w=y*z-r*k-g*L-$*V,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,g=this._y,$=this._z,y=this._w;let k=y*e._w+r*e._x+g*e._y+$*e._z;if(k<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,k=-k):this.copy(e),k>=1)return this._w=y,this._x=r,this._y=g,this._z=$,this;const L=1-k*k;if(L<=Number.EPSILON){const Oe=1-n;return this._w=Oe*y+n*this._w,this._x=Oe*r+n*this._x,this._y=Oe*g+n*this._y,this._z=Oe*$+n*this._z,this.normalize(),this}const V=Math.sqrt(L),z=Math.atan2(V,k),j=Math.sin((1-n)*z)/V,ie=Math.sin(n*z)/V;return this._w=y*j+this._w*ie,this._x=r*j+this._x*ie,this._y=g*j+this._y*ie,this._z=$*j+this._z*ie,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),g=Math.sqrt(1-r),$=Math.sqrt(r);return this.set(g*Math.sin(e),g*Math.cos(e),$*Math.sin(n),$*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,n=0,r=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,g=this.z,$=e.elements;return this.x=$[0]*n+$[3]*r+$[6]*g,this.y=$[1]*n+$[4]*r+$[7]*g,this.z=$[2]*n+$[5]*r+$[8]*g,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,g=this.z,$=e.elements,y=1/($[3]*n+$[7]*r+$[11]*g+$[15]);return this.x=($[0]*n+$[4]*r+$[8]*g+$[12])*y,this.y=($[1]*n+$[5]*r+$[9]*g+$[13])*y,this.z=($[2]*n+$[6]*r+$[10]*g+$[14])*y,this}applyQuaternion(e){const n=this.x,r=this.y,g=this.z,$=e.x,y=e.y,k=e.z,L=e.w,V=2*(y*g-k*r),z=2*(k*n-$*g),j=2*($*r-y*n);return this.x=n+L*V+y*j-k*z,this.y=r+L*z+k*V-$*j,this.z=g+L*j+$*z-y*V,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,g=this.z,$=e.elements;return this.x=$[0]*n+$[4]*r+$[8]*g,this.y=$[1]*n+$[5]*r+$[9]*g,this.z=$[2]*n+$[6]*r+$[10]*g,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=clamp$3(this.x,e.x,n.x),this.y=clamp$3(this.y,e.y,n.y),this.z=clamp$3(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=clamp$3(this.x,e,n),this.y=clamp$3(this.y,e,n),this.z=clamp$3(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(clamp$3(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,g=e.y,$=e.z,y=n.x,k=n.y,L=n.z;return this.x=g*L-$*k,this.y=$*y-r*L,this.z=r*k-g*y,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return _vector$c.copy(this).projectOnVector(e),this.sub(_vector$c)}reflect(e){return this.sub(_vector$c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(clamp$3(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,g=this.z-e.z;return n*n+r*r+g*g}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const g=Math.sin(n)*e;return this.x=g*Math.sin(r),this.y=Math.cos(n)*e,this.z=g*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),g=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=g,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),n=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(_vector$b.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(_vector$b.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=_vector$b.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const $=r.getAttribute("position");if(n===!0&&$!==void 0&&e.isInstancedMesh!==!0)for(let y=0,k=$.count;y<k;y++)e.isMesh===!0?e.getVertexPosition(y,_vector$b):_vector$b.fromBufferAttribute($,y),_vector$b.applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_box$4.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),_box$4.copy(r.boundingBox)),_box$4.applyMatrix4(e.matrixWorld),this.union(_box$4)}const g=e.children;for(let $=0,y=g.length;$<y;$++)this.expandByObject(g[$],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let n=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents)||(n=[1,0,0,0,1,0,0,0,1],!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),n=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$b).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(t,e,n,r,g){for(let $=0,y=t.length-3;$<=y;$+=3){_testAxis.fromArray(t,$);const k=g.x*Math.abs(_testAxis.x)+g.y*Math.abs(_testAxis.y)+g.z*Math.abs(_testAxis.z),L=e.dot(_testAxis),V=n.dot(_testAxis),z=r.dot(_testAxis);if(Math.max(-Math.max(L,V,z),Math.min(L,V,z))>k)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):_box$3.setFromPoints(e).getCenter(r);let g=0;for(let $=0,y=e.length;$<y;$++)g=Math.max(g,r.distanceToSquared(e[$]));return this.radius=Math.sqrt(g),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const n=_v1$6.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),g=(r-this.radius)*.5;this.center.addScaledVector(_v1$6,g/r),this.radius+=g}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,n=new Vector3(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=_vector$a.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.origin).addScaledVector(this.direction,n),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,n,r,g){_segCenter.copy(e).add(n).multiplyScalar(.5),_segDir.copy(n).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const $=e.distanceTo(n)*.5,y=-this.direction.dot(_segDir),k=_diff.dot(this.direction),L=-_diff.dot(_segDir),V=_diff.lengthSq(),z=Math.abs(1-y*y);let j,ie,Oe,ur;if(z>0)if(j=y*L-k,ie=y*k-L,ur=$*z,j>=0)if(ie>=-ur)if(ie<=ur){const hr=1/z;j*=hr,ie*=hr,Oe=j*(j+y*ie+2*k)+ie*(y*j+ie+2*L)+V}else ie=$,j=Math.max(0,-(y*ie+k)),Oe=-j*j+ie*(ie+2*L)+V;else ie=-$,j=Math.max(0,-(y*ie+k)),Oe=-j*j+ie*(ie+2*L)+V;else ie<=-ur?(j=Math.max(0,-(-y*$+k)),ie=j>0?-$:Math.min(Math.max(-$,-L),$),Oe=-j*j+ie*(ie+2*L)+V):ie<=ur?(j=0,ie=Math.min(Math.max(-$,-L),$),Oe=ie*(ie+2*L)+V):(j=Math.max(0,-(y*$+k)),ie=j>0?$:Math.min(Math.max(-$,-L),$),Oe=-j*j+ie*(ie+2*L)+V);else ie=y>0?-$:$,j=Math.max(0,-(y*ie+k)),Oe=-j*j+ie*(ie+2*L)+V;return r&&r.copy(this.origin).addScaledVector(this.direction,j),g&&g.copy(_segCenter).addScaledVector(_segDir,ie),Oe}intersectSphere(e,n){_vector$a.subVectors(e.center,this.origin);const r=_vector$a.dot(this.direction),g=_vector$a.dot(_vector$a)-r*r,$=e.radius*e.radius;if(g>$)return null;const y=Math.sqrt($-g),k=r-y,L=r+y;return L<0?null:k<0?this.at(L,n):this.at(k,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,g,$,y,k,L;const V=1/this.direction.x,z=1/this.direction.y,j=1/this.direction.z,ie=this.origin;return V>=0?(r=(e.min.x-ie.x)*V,g=(e.max.x-ie.x)*V):(r=(e.max.x-ie.x)*V,g=(e.min.x-ie.x)*V),z>=0?($=(e.min.y-ie.y)*z,y=(e.max.y-ie.y)*z):($=(e.max.y-ie.y)*z,y=(e.min.y-ie.y)*z),r>y||$>g||(($>r||isNaN(r))&&(r=$),(y<g||isNaN(g))&&(g=y),j>=0?(k=(e.min.z-ie.z)*j,L=(e.max.z-ie.z)*j):(k=(e.max.z-ie.z)*j,L=(e.min.z-ie.z)*j),r>L||k>g)||((k>r||r!==r)&&(r=k),(L<g||g!==g)&&(g=L),g<0)?null:this.at(r>=0?r:g,n)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,n,r,g,$){_edge1.subVectors(n,e),_edge2.subVectors(r,e),_normal$1.crossVectors(_edge1,_edge2);let y=this.direction.dot(_normal$1),k;if(y>0){if(g)return null;k=1}else if(y<0)k=-1,y=-y;else return null;_diff.subVectors(this.origin,e);const L=k*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(L<0)return null;const V=k*this.direction.dot(_edge1.cross(_diff));if(V<0||L+V>y)return null;const z=-k*_diff.dot(_normal$1);return z<0?null:this.at(z/y,$)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(e,n,r,g,$,y,k,L,V,z,j,ie,Oe,ur,hr,Vr){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,g,$,y,k,L,V,z,j,ie,Oe,ur,hr,Vr)}set(e,n,r,g,$,y,k,L,V,z,j,ie,Oe,ur,hr,Vr){const dr=this.elements;return dr[0]=e,dr[4]=n,dr[8]=r,dr[12]=g,dr[1]=$,dr[5]=y,dr[9]=k,dr[13]=L,dr[2]=V,dr[6]=z,dr[10]=j,dr[14]=ie,dr[3]=Oe,dr[7]=ur,dr[11]=hr,dr[15]=Vr,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,g=1/_v1$5.setFromMatrixColumn(e,0).length(),$=1/_v1$5.setFromMatrixColumn(e,1).length(),y=1/_v1$5.setFromMatrixColumn(e,2).length();return n[0]=r[0]*g,n[1]=r[1]*g,n[2]=r[2]*g,n[3]=0,n[4]=r[4]*$,n[5]=r[5]*$,n[6]=r[6]*$,n[7]=0,n[8]=r[8]*y,n[9]=r[9]*y,n[10]=r[10]*y,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,g=e.y,$=e.z,y=Math.cos(r),k=Math.sin(r),L=Math.cos(g),V=Math.sin(g),z=Math.cos($),j=Math.sin($);if(e.order==="XYZ"){const ie=y*z,Oe=y*j,ur=k*z,hr=k*j;n[0]=L*z,n[4]=-L*j,n[8]=V,n[1]=Oe+ur*V,n[5]=ie-hr*V,n[9]=-k*L,n[2]=hr-ie*V,n[6]=ur+Oe*V,n[10]=y*L}else if(e.order==="YXZ"){const ie=L*z,Oe=L*j,ur=V*z,hr=V*j;n[0]=ie+hr*k,n[4]=ur*k-Oe,n[8]=y*V,n[1]=y*j,n[5]=y*z,n[9]=-k,n[2]=Oe*k-ur,n[6]=hr+ie*k,n[10]=y*L}else if(e.order==="ZXY"){const ie=L*z,Oe=L*j,ur=V*z,hr=V*j;n[0]=ie-hr*k,n[4]=-y*j,n[8]=ur+Oe*k,n[1]=Oe+ur*k,n[5]=y*z,n[9]=hr-ie*k,n[2]=-y*V,n[6]=k,n[10]=y*L}else if(e.order==="ZYX"){const ie=y*z,Oe=y*j,ur=k*z,hr=k*j;n[0]=L*z,n[4]=ur*V-Oe,n[8]=ie*V+hr,n[1]=L*j,n[5]=hr*V+ie,n[9]=Oe*V-ur,n[2]=-V,n[6]=k*L,n[10]=y*L}else if(e.order==="YZX"){const ie=y*L,Oe=y*V,ur=k*L,hr=k*V;n[0]=L*z,n[4]=hr-ie*j,n[8]=ur*j+Oe,n[1]=j,n[5]=y*z,n[9]=-k*z,n[2]=-V*z,n[6]=Oe*j+ur,n[10]=ie-hr*j}else if(e.order==="XZY"){const ie=y*L,Oe=y*V,ur=k*L,hr=k*V;n[0]=L*z,n[4]=-j,n[8]=V*z,n[1]=ie*j+hr,n[5]=y*z,n[9]=Oe*j-ur,n[2]=ur*j-Oe,n[6]=k*z,n[10]=hr*j+ie}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,n,r){const g=this.elements;return _z.subVectors(e,n),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(r,_z),_x.lengthSq()===0&&(Math.abs(r.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(r,_z)),_x.normalize(),_y.crossVectors(_z,_x),g[0]=_x.x,g[4]=_y.x,g[8]=_z.x,g[1]=_x.y,g[5]=_y.y,g[9]=_z.y,g[2]=_x.z,g[6]=_y.z,g[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,g=n.elements,$=this.elements,y=r[0],k=r[4],L=r[8],V=r[12],z=r[1],j=r[5],ie=r[9],Oe=r[13],ur=r[2],hr=r[6],Vr=r[10],dr=r[14],ec=r[3],tc=r[7],Xs=r[11],rc=r[15],ic=g[0],_c=g[4],qm=g[8],Xm=g[12],Km=g[1],tv=g[5],nv=g[9],sv=g[13],gv=g[2],Sv=g[6],wv=g[10],rv=g[14],Jm=g[3],dv=g[7],pv=g[11],mv=g[15];return $[0]=y*ic+k*Km+L*gv+V*Jm,$[4]=y*_c+k*tv+L*Sv+V*dv,$[8]=y*qm+k*nv+L*wv+V*pv,$[12]=y*Xm+k*sv+L*rv+V*mv,$[1]=z*ic+j*Km+ie*gv+Oe*Jm,$[5]=z*_c+j*tv+ie*Sv+Oe*dv,$[9]=z*qm+j*nv+ie*wv+Oe*pv,$[13]=z*Xm+j*sv+ie*rv+Oe*mv,$[2]=ur*ic+hr*Km+Vr*gv+dr*Jm,$[6]=ur*_c+hr*tv+Vr*Sv+dr*dv,$[10]=ur*qm+hr*nv+Vr*wv+dr*pv,$[14]=ur*Xm+hr*sv+Vr*rv+dr*mv,$[3]=ec*ic+tc*Km+Xs*gv+rc*Jm,$[7]=ec*_c+tc*tv+Xs*Sv+rc*dv,$[11]=ec*qm+tc*nv+Xs*wv+rc*pv,$[15]=ec*Xm+tc*sv+Xs*rv+rc*mv,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],g=e[8],$=e[12],y=e[1],k=e[5],L=e[9],V=e[13],z=e[2],j=e[6],ie=e[10],Oe=e[14],ur=e[3],hr=e[7],Vr=e[11],dr=e[15];return ur*(+$*L*j-g*V*j-$*k*ie+r*V*ie+g*k*Oe-r*L*Oe)+hr*(+n*L*Oe-n*V*ie+$*y*ie-g*y*Oe+g*V*z-$*L*z)+Vr*(+n*V*j-n*k*Oe-$*y*j+r*y*Oe+$*k*z-r*V*z)+dr*(-g*k*z-n*L*j+n*k*ie+g*y*j-r*y*ie+r*L*z)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const g=this.elements;return e.isVector3?(g[12]=e.x,g[13]=e.y,g[14]=e.z):(g[12]=e,g[13]=n,g[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],g=e[2],$=e[3],y=e[4],k=e[5],L=e[6],V=e[7],z=e[8],j=e[9],ie=e[10],Oe=e[11],ur=e[12],hr=e[13],Vr=e[14],dr=e[15],ec=j*Vr*V-hr*ie*V+hr*L*Oe-k*Vr*Oe-j*L*dr+k*ie*dr,tc=ur*ie*V-z*Vr*V-ur*L*Oe+y*Vr*Oe+z*L*dr-y*ie*dr,Xs=z*hr*V-ur*j*V+ur*k*Oe-y*hr*Oe-z*k*dr+y*j*dr,rc=ur*j*L-z*hr*L-ur*k*ie+y*hr*ie+z*k*Vr-y*j*Vr,ic=n*ec+r*tc+g*Xs+$*rc;if(ic===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _c=1/ic;return e[0]=ec*_c,e[1]=(hr*ie*$-j*Vr*$-hr*g*Oe+r*Vr*Oe+j*g*dr-r*ie*dr)*_c,e[2]=(k*Vr*$-hr*L*$+hr*g*V-r*Vr*V-k*g*dr+r*L*dr)*_c,e[3]=(j*L*$-k*ie*$-j*g*V+r*ie*V+k*g*Oe-r*L*Oe)*_c,e[4]=tc*_c,e[5]=(z*Vr*$-ur*ie*$+ur*g*Oe-n*Vr*Oe-z*g*dr+n*ie*dr)*_c,e[6]=(ur*L*$-y*Vr*$-ur*g*V+n*Vr*V+y*g*dr-n*L*dr)*_c,e[7]=(y*ie*$-z*L*$+z*g*V-n*ie*V-y*g*Oe+n*L*Oe)*_c,e[8]=Xs*_c,e[9]=(ur*j*$-z*hr*$-ur*r*Oe+n*hr*Oe+z*r*dr-n*j*dr)*_c,e[10]=(y*hr*$-ur*k*$+ur*r*V-n*hr*V-y*r*dr+n*k*dr)*_c,e[11]=(z*k*$-y*j*$-z*r*V+n*j*V+y*r*Oe-n*k*Oe)*_c,e[12]=rc*_c,e[13]=(z*hr*g-ur*j*g+ur*r*ie-n*hr*ie-z*r*Vr+n*j*Vr)*_c,e[14]=(ur*k*g-y*hr*g-ur*r*L+n*hr*L+y*r*Vr-n*k*Vr)*_c,e[15]=(y*j*g-z*k*g+z*r*L-n*j*L-y*r*ie+n*k*ie)*_c,this}scale(e){const n=this.elements,r=e.x,g=e.y,$=e.z;return n[0]*=r,n[4]*=g,n[8]*=$,n[1]*=r,n[5]*=g,n[9]*=$,n[2]*=r,n[6]*=g,n[10]*=$,n[3]*=r,n[7]*=g,n[11]*=$,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],g=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,g))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),g=Math.sin(n),$=1-r,y=e.x,k=e.y,L=e.z,V=$*y,z=$*k;return this.set(V*y+r,V*k-g*L,V*L+g*k,0,V*k+g*L,z*k+r,z*L-g*y,0,V*L-g*k,z*L+g*y,$*L*L+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,g,$,y){return this.set(1,r,$,0,e,1,y,0,n,g,1,0,0,0,0,1),this}compose(e,n,r){const g=this.elements,$=n._x,y=n._y,k=n._z,L=n._w,V=$+$,z=y+y,j=k+k,ie=$*V,Oe=$*z,ur=$*j,hr=y*z,Vr=y*j,dr=k*j,ec=L*V,tc=L*z,Xs=L*j,rc=r.x,ic=r.y,_c=r.z;return g[0]=(1-(hr+dr))*rc,g[1]=(Oe+Xs)*rc,g[2]=(ur-tc)*rc,g[3]=0,g[4]=(Oe-Xs)*ic,g[5]=(1-(ie+dr))*ic,g[6]=(Vr+ec)*ic,g[7]=0,g[8]=(ur+tc)*_c,g[9]=(Vr-ec)*_c,g[10]=(1-(ie+hr))*_c,g[11]=0,g[12]=e.x,g[13]=e.y,g[14]=e.z,g[15]=1,this}decompose(e,n,r){const g=this.elements;let $=_v1$5.set(g[0],g[1],g[2]).length();const y=_v1$5.set(g[4],g[5],g[6]).length(),k=_v1$5.set(g[8],g[9],g[10]).length();this.determinant()<0&&($=-$),e.x=g[12],e.y=g[13],e.z=g[14],_m1$2.copy(this);const V=1/$,z=1/y,j=1/k;return _m1$2.elements[0]*=V,_m1$2.elements[1]*=V,_m1$2.elements[2]*=V,_m1$2.elements[4]*=z,_m1$2.elements[5]*=z,_m1$2.elements[6]*=z,_m1$2.elements[8]*=j,_m1$2.elements[9]*=j,_m1$2.elements[10]*=j,n.setFromRotationMatrix(_m1$2),r.x=$,r.y=y,r.z=k,this}makePerspective(e,n,r,g,$,y,k=WebGLCoordinateSystem){const L=this.elements,V=2*$/(n-e),z=2*$/(r-g),j=(n+e)/(n-e),ie=(r+g)/(r-g);let Oe,ur;if(k===WebGLCoordinateSystem)Oe=-(y+$)/(y-$),ur=-2*y*$/(y-$);else if(k===WebGPUCoordinateSystem)Oe=-y/(y-$),ur=-y*$/(y-$);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+k);return L[0]=V,L[4]=0,L[8]=j,L[12]=0,L[1]=0,L[5]=z,L[9]=ie,L[13]=0,L[2]=0,L[6]=0,L[10]=Oe,L[14]=ur,L[3]=0,L[7]=0,L[11]=-1,L[15]=0,this}makeOrthographic(e,n,r,g,$,y,k=WebGLCoordinateSystem){const L=this.elements,V=1/(n-e),z=1/(r-g),j=1/(y-$),ie=(n+e)*V,Oe=(r+g)*z;let ur,hr;if(k===WebGLCoordinateSystem)ur=(y+$)*j,hr=-2*j;else if(k===WebGPUCoordinateSystem)ur=$*j,hr=-1*j;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+k);return L[0]=2*V,L[4]=0,L[8]=0,L[12]=-ie,L[1]=0,L[5]=2*z,L[9]=0,L[13]=-Oe,L[2]=0,L[6]=0,L[10]=hr,L[14]=-ur,L[3]=0,L[7]=0,L[11]=0,L[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let g=0;g<16;g++)if(n[g]!==r[g])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,n=0,r=0,g=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=g}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,g=this._order){return this._x=e,this._y=n,this._z=r,this._order=g,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const g=e.elements,$=g[0],y=g[4],k=g[8],L=g[1],V=g[5],z=g[9],j=g[2],ie=g[6],Oe=g[10];switch(n){case"XYZ":this._y=Math.asin(clamp$3(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(-z,Oe),this._z=Math.atan2(-y,$)):(this._x=Math.atan2(ie,V),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$3(z,-1,1)),Math.abs(z)<.9999999?(this._y=Math.atan2(k,Oe),this._z=Math.atan2(L,V)):(this._y=Math.atan2(-j,$),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$3(ie,-1,1)),Math.abs(ie)<.9999999?(this._y=Math.atan2(-j,Oe),this._z=Math.atan2(-y,V)):(this._y=0,this._z=Math.atan2(L,$));break;case"ZYX":this._y=Math.asin(-clamp$3(j,-1,1)),Math.abs(j)<.9999999?(this._x=Math.atan2(ie,Oe),this._z=Math.atan2(L,$)):(this._x=0,this._z=Math.atan2(-y,V));break;case"YZX":this._z=Math.asin(clamp$3(L,-1,1)),Math.abs(L)<.9999999?(this._x=Math.atan2(-z,V),this._y=Math.atan2(-j,$)):(this._x=0,this._y=Math.atan2(k,Oe));break;case"XZY":this._z=Math.asin(-clamp$3(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(ie,V),this._y=Math.atan2(k,$)):(this._x=Math.atan2(-z,Oe),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return _matrix$2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$2,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,n=new Euler,r=new Quaternion,g=new Vector3(1,1,1);function $(){r.setFromEuler(n,!1)}function y(){n.setFromQuaternion(r,void 0,!1)}n._onChange($),r._onChange(y),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:g},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,n){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?_target.copy(e):_target.set(e,n,r);const g=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),g&&(_m1$1$1.extractRotation(g.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(_removedEvent),_childremovedEvent.child=e,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1$1),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,g=this.children.length;r<g;r++){const y=this.children[r].getObjectByProperty(e,n);if(y!==void 0)return y}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const g=this.children;for(let $=0,y=g.length;$<y;$++)g[$].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,g=n.length;r<g;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,g=n.length;r<g;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,g=n.length;r<g;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const g=this.children;for(let $=0,y=g.length;$<y;$++)g[$].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const g={};g.uuid=this.uuid,g.type=this.type,this.name!==""&&(g.name=this.name),this.castShadow===!0&&(g.castShadow=!0),this.receiveShadow===!0&&(g.receiveShadow=!0),this.visible===!1&&(g.visible=!1),this.frustumCulled===!1&&(g.frustumCulled=!1),this.renderOrder!==0&&(g.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(g.userData=this.userData),g.layers=this.layers.mask,g.matrix=this.matrix.toArray(),g.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(g.matrixAutoUpdate=!1),this.isInstancedMesh&&(g.type="InstancedMesh",g.count=this.count,g.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(g.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(g.type="BatchedMesh",g.perObjectFrustumCulled=this.perObjectFrustumCulled,g.sortObjects=this.sortObjects,g.drawRanges=this._drawRanges,g.reservedRanges=this._reservedRanges,g.visibility=this._visibility,g.active=this._active,g.bounds=this._bounds.map(k=>({boxInitialized:k.boxInitialized,boxMin:k.box.min.toArray(),boxMax:k.box.max.toArray(),sphereInitialized:k.sphereInitialized,sphereRadius:k.sphere.radius,sphereCenter:k.sphere.center.toArray()})),g.maxInstanceCount=this._maxInstanceCount,g.maxVertexCount=this._maxVertexCount,g.maxIndexCount=this._maxIndexCount,g.geometryInitialized=this._geometryInitialized,g.geometryCount=this._geometryCount,g.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(g.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(g.boundingSphere={center:g.boundingSphere.center.toArray(),radius:g.boundingSphere.radius}),this.boundingBox!==null&&(g.boundingBox={min:g.boundingBox.min.toArray(),max:g.boundingBox.max.toArray()}));function $(k,L){return k[L.uuid]===void 0&&(k[L.uuid]=L.toJSON(e)),L.uuid}if(this.isScene)this.background&&(this.background.isColor?g.background=this.background.toJSON():this.background.isTexture&&(g.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(g.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){g.geometry=$(e.geometries,this.geometry);const k=this.geometry.parameters;if(k!==void 0&&k.shapes!==void 0){const L=k.shapes;if(Array.isArray(L))for(let V=0,z=L.length;V<z;V++){const j=L[V];$(e.shapes,j)}else $(e.shapes,L)}}if(this.isSkinnedMesh&&(g.bindMode=this.bindMode,g.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&($(e.skeletons,this.skeleton),g.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const k=[];for(let L=0,V=this.material.length;L<V;L++)k.push($(e.materials,this.material[L]));g.material=k}else g.material=$(e.materials,this.material);if(this.children.length>0){g.children=[];for(let k=0;k<this.children.length;k++)g.children.push(this.children[k].toJSON(e).object)}if(this.animations.length>0){g.animations=[];for(let k=0;k<this.animations.length;k++){const L=this.animations[k];g.animations.push($(e.animations,L))}}if(n){const k=y(e.geometries),L=y(e.materials),V=y(e.textures),z=y(e.images),j=y(e.shapes),ie=y(e.skeletons),Oe=y(e.animations),ur=y(e.nodes);k.length>0&&(r.geometries=k),L.length>0&&(r.materials=L),V.length>0&&(r.textures=V),z.length>0&&(r.images=z),j.length>0&&(r.shapes=j),ie.length>0&&(r.skeletons=ie),Oe.length>0&&(r.animations=Oe),ur.length>0&&(r.nodes=ur)}return r.object=g,r;function y(k){const L=[];for(const V in k){const z=k[V];delete z.metadata,L.push(z)}return L}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const g=e.children[r];this.add(g.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(e=new Vector3,n=new Vector3,r=new Vector3){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,g){g.subVectors(r,n),_v0$1.subVectors(e,n),g.cross(_v0$1);const $=g.lengthSq();return $>0?g.multiplyScalar(1/Math.sqrt($)):g.set(0,0,0)}static getBarycoord(e,n,r,g,$){_v0$1.subVectors(g,n),_v1$3.subVectors(r,n),_v2$2.subVectors(e,n);const y=_v0$1.dot(_v0$1),k=_v0$1.dot(_v1$3),L=_v0$1.dot(_v2$2),V=_v1$3.dot(_v1$3),z=_v1$3.dot(_v2$2),j=y*V-k*k;if(j===0)return $.set(0,0,0),null;const ie=1/j,Oe=(V*L-k*z)*ie,ur=(y*z-k*L)*ie;return $.set(1-Oe-ur,ur,Oe)}static containsPoint(e,n,r,g){return this.getBarycoord(e,n,r,g,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(e,n,r,g,$,y,k,L){return this.getBarycoord(e,n,r,g,_v3$2)===null?(L.x=0,L.y=0,"z"in L&&(L.z=0),"w"in L&&(L.w=0),null):(L.setScalar(0),L.addScaledVector($,_v3$2.x),L.addScaledVector(y,_v3$2.y),L.addScaledVector(k,_v3$2.z),L)}static getInterpolatedAttribute(e,n,r,g,$,y){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(e,n),_v41.fromBufferAttribute(e,r),_v42.fromBufferAttribute(e,g),y.setScalar(0),y.addScaledVector(_v40,$.x),y.addScaledVector(_v41,$.y),y.addScaledVector(_v42,$.z),y}static isFrontFacing(e,n,r,g){return _v0$1.subVectors(r,n),_v1$3.subVectors(e,n),_v0$1.cross(_v1$3).dot(g)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,g){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[g]),this}setFromAttributeAndIndices(e,n,r,g){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,g),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Triangle.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,g,$){return Triangle.getInterpolation(e,this.a,this.b,this.c,n,r,g,$)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,g=this.b,$=this.c;let y,k;_vab.subVectors(g,r),_vac.subVectors($,r),_vap.subVectors(e,r);const L=_vab.dot(_vap),V=_vac.dot(_vap);if(L<=0&&V<=0)return n.copy(r);_vbp.subVectors(e,g);const z=_vab.dot(_vbp),j=_vac.dot(_vbp);if(z>=0&&j<=z)return n.copy(g);const ie=L*j-z*V;if(ie<=0&&L>=0&&z<=0)return y=L/(L-z),n.copy(r).addScaledVector(_vab,y);_vcp.subVectors(e,$);const Oe=_vab.dot(_vcp),ur=_vac.dot(_vcp);if(ur>=0&&Oe<=ur)return n.copy($);const hr=Oe*V-L*ur;if(hr<=0&&V>=0&&ur<=0)return k=V/(V-ur),n.copy(r).addScaledVector(_vac,k);const Vr=z*ur-Oe*j;if(Vr<=0&&j-z>=0&&Oe-ur>=0)return _vbc.subVectors($,g),k=(j-z)/(j-z+(Oe-ur)),n.copy(g).addScaledVector(_vbc,k);const dr=1/(Vr+hr+ie);return y=hr*dr,k=ie*dr,n.copy(r).addScaledVector(_vab,y).addScaledVector(_vac,k)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb$1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Color$1=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const g=e;g&&g.isColor?this.copy(g):typeof g=="number"?this.setHex(g):typeof g=="string"&&this.setStyle(g)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,n),this}setRGB(e,n,r,g=ColorManagement.workingColorSpace){return this.r=e,this.g=n,this.b=r,ColorManagement.toWorkingColorSpace(this,g),this}setHSL(e,n,r,g=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),n=clamp$3(n,0,1),r=clamp$3(r,0,1),n===0)this.r=this.g=this.b=r;else{const $=r<=.5?r*(1+n):r+n-r*n,y=2*r-$;this.r=hue2rgb$1(y,$,e+1/3),this.g=hue2rgb$1(y,$,e),this.b=hue2rgb$1(y,$,e-1/3)}return ColorManagement.toWorkingColorSpace(this,g),this}setStyle(e,n=SRGBColorSpace){function r($){$!==void 0&&parseFloat($)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let g;if(g=/^(\w+)\(([^\)]*)\)/.exec(e)){let $;const y=g[1],k=g[2];switch(y){case"rgb":case"rgba":if($=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(k))return r($[4]),this.setRGB(Math.min(255,parseInt($[1],10))/255,Math.min(255,parseInt($[2],10))/255,Math.min(255,parseInt($[3],10))/255,n);if($=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(k))return r($[4]),this.setRGB(Math.min(100,parseInt($[1],10))/100,Math.min(100,parseInt($[2],10))/100,Math.min(100,parseInt($[3],10))/100,n);break;case"hsl":case"hsla":if($=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(k))return r($[4]),this.setHSL(parseFloat($[1])/360,parseFloat($[2])/100,parseFloat($[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(g=/^\#([A-Fa-f\d]+)$/.exec(e)){const $=g[1],y=$.length;if(y===3)return this.setRGB(parseInt($.charAt(0),16)/15,parseInt($.charAt(1),16)/15,parseInt($.charAt(2),16)/15,n);if(y===6)return this.setHex(parseInt($,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=SRGBColorSpace){const r=_colorKeywords[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),Math.round(clamp$3(_color.r*255,0,255))*65536+Math.round(clamp$3(_color.g*255,0,255))*256+Math.round(clamp$3(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),n);const r=_color.r,g=_color.g,$=_color.b,y=Math.max(r,g,$),k=Math.min(r,g,$);let L,V;const z=(k+y)/2;if(k===y)L=0,V=0;else{const j=y-k;switch(V=z<=.5?j/(y+k):j/(2-y-k),y){case r:L=(g-$)/j+(g<$?6:0);break;case g:L=($-r)/j+2;break;case $:L=(r-g)/j+4;break}L/=6}return e.h=L,e.s=V,e.l=z,e}getRGB(e,n=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),n),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const n=_color.r,r=_color.g,g=_color.b;return e!==SRGBColorSpace?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${g.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(g*255)})`}offsetHSL(e,n,r){return this.getHSL(_hslA),this.setHSL(_hslA.h+e,_hslA.s+n,_hslA.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(_hslA),e.getHSL(_hslB);const r=lerp(_hslA.h,_hslB.h,n),g=lerp(_hslA.s,_hslB.s,n),$=lerp(_hslA.l,_hslB.l,n);return this.setHSL(r,g,$),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,g=this.b,$=e.elements;return this.r=$[0]*n+$[3]*r+$[6]*g,this.g=$[1]*n+$[4]*r+$[7]*g,this.b=$[2]*n+$[5]*r+$[8]*g,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const g=this[n];if(g===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}g&&g.isColor?g.set(r):g&&g.isVector3&&r&&r.isVector3?g.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(r.blending=this.blending),this.side!==FrontSide&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(r.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(r.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function g($){const y=[];for(const k in $){const L=$[k];delete L.metadata,y.push(L)}return y}if(n){const $=g(e.textures),y=g(e.images);$.length>0&&(r.textures=$),y.length>0&&(r.images=y)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const g=n.length;r=new Array(g);for(let $=0;$!==g;++$)r[$]=n[$].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let g=0,$=this.itemSize;g<$;g++)this.array[e+g]=n.array[r+g];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)_vector2$1.fromBufferAttribute(this,n),_vector2$1.applyMatrix3(e),this.setXY(n,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix3(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix4(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyNormalMatrix(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.transformDirection(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=denormalize(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=normalize(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=denormalize(n,this.array)),n}setX(e,n){return this.normalized&&(n=normalize(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=denormalize(n,this.array)),n}setY(e,n){return this.normalized&&(n=normalize(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=denormalize(n,this.array)),n}setZ(e,n){return this.normalized&&(n=normalize(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=denormalize(n,this.array)),n}setW(e,n){return this.normalized&&(n=normalize(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=normalize(n,this.array),r=normalize(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,g){return e*=this.itemSize,this.normalized&&(n=normalize(n,this.array),r=normalize(r,this.array),g=normalize(g,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=g,this}setXYZW(e,n,r,g,$){return e*=this.itemSize,this.normalized&&(n=normalize(n,this.array),r=normalize(r,this.array),g=normalize(g,this.array),$=normalize($,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=g,this.array[e+3]=$,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),e}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Float32BufferAttribute extends BufferAttribute{constructor(e,n,r){super(new Float32Array(e),n,r)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const $=new Matrix3().getNormalMatrix(e);r.applyNormalMatrix($),r.needsUpdate=!0}const g=this.attributes.tangent;return g!==void 0&&(g.transformDirection(e),g.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1$3.makeRotationFromQuaternion(e),this.applyMatrix4(_m1$3),this}rotateX(e){return _m1$3.makeRotationX(e),this.applyMatrix4(_m1$3),this}rotateY(e){return _m1$3.makeRotationY(e),this.applyMatrix4(_m1$3),this}rotateZ(e){return _m1$3.makeRotationZ(e),this.applyMatrix4(_m1$3),this}translate(e,n,r){return _m1$3.makeTranslation(e,n,r),this.applyMatrix4(_m1$3),this}scale(e,n,r){return _m1$3.makeScale(e,n,r),this.applyMatrix4(_m1$3),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let g=0,$=e.length;g<$;g++){const y=e[g];r.push(y.x,y.y,y.z||0)}this.setAttribute("position",new Float32BufferAttribute(r,3))}else{const r=Math.min(e.length,n.count);for(let g=0;g<r;g++){const $=e[g];n.setXYZ(g,$.x,$.y,$.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,g=n.length;r<g;r++){const $=n[r];_box$2.setFromBufferAttribute($),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const r=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(e),n)for(let $=0,y=n.length;$<y;$++){const k=n[$];_boxMorphTargets.setFromBufferAttribute(k),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(r);let g=0;for(let $=0,y=e.count;$<y;$++)_vector$8.fromBufferAttribute(e,$),g=Math.max(g,r.distanceToSquared(_vector$8));if(n)for(let $=0,y=n.length;$<y;$++){const k=n[$],L=this.morphTargetsRelative;for(let V=0,z=k.count;V<z;V++)_vector$8.fromBufferAttribute(k,V),L&&(_offset.fromBufferAttribute(e,V),_vector$8.add(_offset)),g=Math.max(g,r.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(g),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,g=n.normal,$=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*r.count),4));const y=this.getAttribute("tangent"),k=[],L=[];for(let qm=0;qm<r.count;qm++)k[qm]=new Vector3,L[qm]=new Vector3;const V=new Vector3,z=new Vector3,j=new Vector3,ie=new Vector2,Oe=new Vector2,ur=new Vector2,hr=new Vector3,Vr=new Vector3;function dr(qm,Xm,Km){V.fromBufferAttribute(r,qm),z.fromBufferAttribute(r,Xm),j.fromBufferAttribute(r,Km),ie.fromBufferAttribute($,qm),Oe.fromBufferAttribute($,Xm),ur.fromBufferAttribute($,Km),z.sub(V),j.sub(V),Oe.sub(ie),ur.sub(ie);const tv=1/(Oe.x*ur.y-ur.x*Oe.y);isFinite(tv)&&(hr.copy(z).multiplyScalar(ur.y).addScaledVector(j,-Oe.y).multiplyScalar(tv),Vr.copy(j).multiplyScalar(Oe.x).addScaledVector(z,-ur.x).multiplyScalar(tv),k[qm].add(hr),k[Xm].add(hr),k[Km].add(hr),L[qm].add(Vr),L[Xm].add(Vr),L[Km].add(Vr))}let ec=this.groups;ec.length===0&&(ec=[{start:0,count:e.count}]);for(let qm=0,Xm=ec.length;qm<Xm;++qm){const Km=ec[qm],tv=Km.start,nv=Km.count;for(let sv=tv,gv=tv+nv;sv<gv;sv+=3)dr(e.getX(sv+0),e.getX(sv+1),e.getX(sv+2))}const tc=new Vector3,Xs=new Vector3,rc=new Vector3,ic=new Vector3;function _c(qm){rc.fromBufferAttribute(g,qm),ic.copy(rc);const Xm=k[qm];tc.copy(Xm),tc.sub(rc.multiplyScalar(rc.dot(Xm))).normalize(),Xs.crossVectors(ic,Xm);const tv=Xs.dot(L[qm])<0?-1:1;y.setXYZW(qm,tc.x,tc.y,tc.z,tv)}for(let qm=0,Xm=ec.length;qm<Xm;++qm){const Km=ec[qm],tv=Km.start,nv=Km.count;for(let sv=tv,gv=tv+nv;sv<gv;sv+=3)_c(e.getX(sv+0)),_c(e.getX(sv+1)),_c(e.getX(sv+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new BufferAttribute(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let ie=0,Oe=r.count;ie<Oe;ie++)r.setXYZ(ie,0,0,0);const g=new Vector3,$=new Vector3,y=new Vector3,k=new Vector3,L=new Vector3,V=new Vector3,z=new Vector3,j=new Vector3;if(e)for(let ie=0,Oe=e.count;ie<Oe;ie+=3){const ur=e.getX(ie+0),hr=e.getX(ie+1),Vr=e.getX(ie+2);g.fromBufferAttribute(n,ur),$.fromBufferAttribute(n,hr),y.fromBufferAttribute(n,Vr),z.subVectors(y,$),j.subVectors(g,$),z.cross(j),k.fromBufferAttribute(r,ur),L.fromBufferAttribute(r,hr),V.fromBufferAttribute(r,Vr),k.add(z),L.add(z),V.add(z),r.setXYZ(ur,k.x,k.y,k.z),r.setXYZ(hr,L.x,L.y,L.z),r.setXYZ(Vr,V.x,V.y,V.z)}else for(let ie=0,Oe=n.count;ie<Oe;ie+=3)g.fromBufferAttribute(n,ie+0),$.fromBufferAttribute(n,ie+1),y.fromBufferAttribute(n,ie+2),z.subVectors(y,$),j.subVectors(g,$),z.cross(j),r.setXYZ(ie+0,z.x,z.y,z.z),r.setXYZ(ie+1,z.x,z.y,z.z),r.setXYZ(ie+2,z.x,z.y,z.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)_vector$8.fromBufferAttribute(e,n),_vector$8.normalize(),e.setXYZ(n,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e(k,L){const V=k.array,z=k.itemSize,j=k.normalized,ie=new V.constructor(L.length*z);let Oe=0,ur=0;for(let hr=0,Vr=L.length;hr<Vr;hr++){k.isInterleavedBufferAttribute?Oe=L[hr]*k.data.stride+k.offset:Oe=L[hr]*z;for(let dr=0;dr<z;dr++)ie[ur++]=V[Oe++]}return new BufferAttribute(ie,z,j)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new BufferGeometry,r=this.index.array,g=this.attributes;for(const k in g){const L=g[k],V=e(L,r);n.setAttribute(k,V)}const $=this.morphAttributes;for(const k in $){const L=[],V=$[k];for(let z=0,j=V.length;z<j;z++){const ie=V[z],Oe=e(ie,r);L.push(Oe)}n.morphAttributes[k]=L}n.morphTargetsRelative=this.morphTargetsRelative;const y=this.groups;for(let k=0,L=y.length;k<L;k++){const V=y[k];n.addGroup(V.start,V.count,V.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const L=this.parameters;for(const V in L)L[V]!==void 0&&(e[V]=L[V]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const L in r){const V=r[L];e.data.attributes[L]=V.toJSON(e.data)}const g={};let $=!1;for(const L in this.morphAttributes){const V=this.morphAttributes[L],z=[];for(let j=0,ie=V.length;j<ie;j++){const Oe=V[j];z.push(Oe.toJSON(e.data))}z.length>0&&(g[L]=z,$=!0)}$&&(e.data.morphAttributes=g,e.data.morphTargetsRelative=this.morphTargetsRelative);const y=this.groups;y.length>0&&(e.data.groups=JSON.parse(JSON.stringify(y)));const k=this.boundingSphere;return k!==null&&(e.data.boundingSphere={center:k.center.toArray(),radius:k.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const g=e.attributes;for(const V in g){const z=g[V];this.setAttribute(V,z.clone(n))}const $=e.morphAttributes;for(const V in $){const z=[],j=$[V];for(let ie=0,Oe=j.length;ie<Oe;ie++)z.push(j[ie].clone(n));this.morphAttributes[V]=z}this.morphTargetsRelative=e.morphTargetsRelative;const y=e.groups;for(let V=0,z=y.length;V<z;V++){const j=y[V];this.addGroup(j.start,j.count,j.materialIndex)}const k=e.boundingBox;k!==null&&(this.boundingBox=k.clone());const L=e.boundingSphere;return L!==null&&(this.boundingSphere=L.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,n=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const g=n[r[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let $=0,y=g.length;$<y;$++){const k=g[$].name||String($);this.morphTargetInfluences.push(0),this.morphTargetDictionary[k]=$}}}}getVertexPosition(e,n){const r=this.geometry,g=r.attributes.position,$=r.morphAttributes.position,y=r.morphTargetsRelative;n.fromBufferAttribute(g,e);const k=this.morphTargetInfluences;if($&&k){_morphA.set(0,0,0);for(let L=0,V=$.length;L<V;L++){const z=k[L],j=$[L];z!==0&&(_tempA.fromBufferAttribute(j,e),y?_morphA.addScaledVector(_tempA,z):_morphA.addScaledVector(_tempA.sub(n),z))}n.add(_morphA)}return n}raycast(e,n){const r=this.geometry,g=this.material,$=this.matrixWorld;g!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),_sphere$6.copy(r.boundingSphere),_sphere$6.applyMatrix4($),_ray$3.copy(e.ray).recast(e.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$3.copy($).invert(),_ray$3.copy(e.ray).applyMatrix4(_inverseMatrix$3),!(r.boundingBox!==null&&_ray$3.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,_ray$3)))}_computeIntersections(e,n,r){let g;const $=this.geometry,y=this.material,k=$.index,L=$.attributes.position,V=$.attributes.uv,z=$.attributes.uv1,j=$.attributes.normal,ie=$.groups,Oe=$.drawRange;if(k!==null)if(Array.isArray(y))for(let ur=0,hr=ie.length;ur<hr;ur++){const Vr=ie[ur],dr=y[Vr.materialIndex],ec=Math.max(Vr.start,Oe.start),tc=Math.min(k.count,Math.min(Vr.start+Vr.count,Oe.start+Oe.count));for(let Xs=ec,rc=tc;Xs<rc;Xs+=3){const ic=k.getX(Xs),_c=k.getX(Xs+1),qm=k.getX(Xs+2);g=checkGeometryIntersection(this,dr,e,r,V,z,j,ic,_c,qm),g&&(g.faceIndex=Math.floor(Xs/3),g.face.materialIndex=Vr.materialIndex,n.push(g))}}else{const ur=Math.max(0,Oe.start),hr=Math.min(k.count,Oe.start+Oe.count);for(let Vr=ur,dr=hr;Vr<dr;Vr+=3){const ec=k.getX(Vr),tc=k.getX(Vr+1),Xs=k.getX(Vr+2);g=checkGeometryIntersection(this,y,e,r,V,z,j,ec,tc,Xs),g&&(g.faceIndex=Math.floor(Vr/3),n.push(g))}}else if(L!==void 0)if(Array.isArray(y))for(let ur=0,hr=ie.length;ur<hr;ur++){const Vr=ie[ur],dr=y[Vr.materialIndex],ec=Math.max(Vr.start,Oe.start),tc=Math.min(L.count,Math.min(Vr.start+Vr.count,Oe.start+Oe.count));for(let Xs=ec,rc=tc;Xs<rc;Xs+=3){const ic=Xs,_c=Xs+1,qm=Xs+2;g=checkGeometryIntersection(this,dr,e,r,V,z,j,ic,_c,qm),g&&(g.faceIndex=Math.floor(Xs/3),g.face.materialIndex=Vr.materialIndex,n.push(g))}}else{const ur=Math.max(0,Oe.start),hr=Math.min(L.count,Oe.start+Oe.count);for(let Vr=ur,dr=hr;Vr<dr;Vr+=3){const ec=Vr,tc=Vr+1,Xs=Vr+2;g=checkGeometryIntersection(this,y,e,r,V,z,j,ec,tc,Xs),g&&(g.faceIndex=Math.floor(Vr/3),n.push(g))}}}}function checkIntersection$1(t,e,n,r,g,$,y,k){let L;if(e.side===BackSide?L=r.intersectTriangle(y,$,g,!0,k):L=r.intersectTriangle(g,$,y,e.side===FrontSide,k),L===null)return null;_intersectionPointWorld.copy(k),_intersectionPointWorld.applyMatrix4(t.matrixWorld);const V=n.ray.origin.distanceTo(_intersectionPointWorld);return V<n.near||V>n.far?null:{distance:V,point:_intersectionPointWorld.clone(),object:t}}function checkGeometryIntersection(t,e,n,r,g,$,y,k,L,V){t.getVertexPosition(k,_vA$1),t.getVertexPosition(L,_vB$1),t.getVertexPosition(V,_vC$1);const z=checkIntersection$1(t,e,n,r,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(z){const j=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,j),g&&(z.uv=Triangle.getInterpolatedAttribute(g,k,L,V,j,new Vector2)),$&&(z.uv1=Triangle.getInterpolatedAttribute($,k,L,V,j,new Vector2)),y&&(z.normal=Triangle.getInterpolatedAttribute(y,k,L,V,j,new Vector3),z.normal.dot(r.direction)>0&&z.normal.multiplyScalar(-1));const ie={a:k,b:L,c:V,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ie.normal),z.face=ie,z.barycoord=j}return z}class BoxGeometry extends BufferGeometry{constructor(e=1,n=1,r=1,g=1,$=1,y=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:g,heightSegments:$,depthSegments:y};const k=this;g=Math.floor(g),$=Math.floor($),y=Math.floor(y);const L=[],V=[],z=[],j=[];let ie=0,Oe=0;ur("z","y","x",-1,-1,r,n,e,y,$,0),ur("z","y","x",1,-1,r,n,-e,y,$,1),ur("x","z","y",1,1,e,r,n,g,y,2),ur("x","z","y",1,-1,e,r,-n,g,y,3),ur("x","y","z",1,-1,e,n,r,g,$,4),ur("x","y","z",-1,-1,e,n,-r,g,$,5),this.setIndex(L),this.setAttribute("position",new Float32BufferAttribute(V,3)),this.setAttribute("normal",new Float32BufferAttribute(z,3)),this.setAttribute("uv",new Float32BufferAttribute(j,2));function ur(hr,Vr,dr,ec,tc,Xs,rc,ic,_c,qm,Xm){const Km=Xs/_c,tv=rc/qm,nv=Xs/2,sv=rc/2,gv=ic/2,Sv=_c+1,wv=qm+1;let rv=0,Jm=0;const dv=new Vector3;for(let pv=0;pv<wv;pv++){const mv=pv*tv-sv;for(let Cv=0;Cv<Sv;Cv++){const uv=Cv*Km-nv;dv[hr]=uv*ec,dv[Vr]=mv*tc,dv[dr]=gv,V.push(dv.x,dv.y,dv.z),dv[hr]=0,dv[Vr]=0,dv[dr]=ic>0?1:-1,z.push(dv.x,dv.y,dv.z),j.push(Cv/_c),j.push(1-pv/qm),rv+=1}}for(let pv=0;pv<qm;pv++)for(let mv=0;mv<_c;mv++){const Cv=ie+mv+Sv*pv,uv=ie+mv+Sv*(pv+1),yv=ie+(mv+1)+Sv*(pv+1),$v=ie+(mv+1)+Sv*pv;L.push(Cv,uv,$v),L.push(uv,yv,$v),Jm+=6}k.addGroup(Oe,Jm,Xm),Oe+=Jm,ie+=rv}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const g=t[n][r];g&&(g.isColor||g.isMatrix3||g.isMatrix4||g.isVector2||g.isVector3||g.isVector4||g.isTexture||g.isQuaternion)?g.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=g.clone():Array.isArray(g)?e[n][r]=g.slice():e[n][r]=g}}return e}function mergeUniforms(t){const e={};for(let n=0;n<t.length;n++){const r=cloneUniforms(t[n]);for(const g in r)e[g]=r[g]}return e}function cloneUniformsGroups(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function getUnlitUniformColorSpace(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const g in this.uniforms){const y=this.uniforms[g].value;y&&y.isTexture?n.uniforms[g]={type:"t",value:y.toJSON(e).uuid}:y&&y.isColor?n.uniforms[g]={type:"c",value:y.getHex()}:y&&y.isVector2?n.uniforms[g]={type:"v2",value:y.toArray()}:y&&y.isVector3?n.uniforms[g]={type:"v3",value:y.toArray()}:y&&y.isVector4?n.uniforms[g]={type:"v4",value:y.toArray()}:y&&y.isMatrix3?n.uniforms[g]={type:"m3",value:y.toArray()}:y&&y.isMatrix4?n.uniforms[g]={type:"m4",value:y.toArray()}:n.uniforms[g]={value:y}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const g in this.extensions)this.extensions[g]===!0&&(r[g]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(e=50,n=1,r=.1,g=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=g,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z)}getViewSize(e,n){return this.getViewBounds(e,_minTarget,_maxTarget),n.subVectors(_maxTarget,_minTarget)}setViewOffset(e,n,r,g,$,y){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=g,this.view.width=$,this.view.height=y,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,r=2*n,g=this.aspect*r,$=-.5*g;const y=this.view;if(this.view!==null&&this.view.enabled){const L=y.fullWidth,V=y.fullHeight;$+=y.offsetX*g/L,n-=y.offsetY*r/V,g*=y.width/L,r*=y.height/V}const k=this.filmOffset;k!==0&&($+=e*k/this.getFilmWidth()),this.projectionMatrix.makePerspective($,$+g,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const g=new PerspectiveCamera(fov,aspect,e,n);g.layers=this.layers,this.add(g);const $=new PerspectiveCamera(fov,aspect,e,n);$.layers=this.layers,this.add($);const y=new PerspectiveCamera(fov,aspect,e,n);y.layers=this.layers,this.add(y);const k=new PerspectiveCamera(fov,aspect,e,n);k.layers=this.layers,this.add(k);const L=new PerspectiveCamera(fov,aspect,e,n);L.layers=this.layers,this.add(L);const V=new PerspectiveCamera(fov,aspect,e,n);V.layers=this.layers,this.add(V)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,g,$,y,k,L]=n;for(const V of n)this.remove(V);if(e===WebGLCoordinateSystem)r.up.set(0,1,0),r.lookAt(1,0,0),g.up.set(0,1,0),g.lookAt(-1,0,0),$.up.set(0,0,-1),$.lookAt(0,1,0),y.up.set(0,0,1),y.lookAt(0,-1,0),k.up.set(0,1,0),k.lookAt(0,0,1),L.up.set(0,1,0),L.lookAt(0,0,-1);else if(e===WebGPUCoordinateSystem)r.up.set(0,-1,0),r.lookAt(-1,0,0),g.up.set(0,-1,0),g.lookAt(1,0,0),$.up.set(0,0,1),$.lookAt(0,1,0),y.up.set(0,0,-1),y.lookAt(0,-1,0),k.up.set(0,-1,0),k.lookAt(0,0,1),L.up.set(0,-1,0),L.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const V of n)this.add(V),V.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:g}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[$,y,k,L,V,z]=this.children,j=e.getRenderTarget(),ie=e.getActiveCubeFace(),Oe=e.getActiveMipmapLevel(),ur=e.xr.enabled;e.xr.enabled=!1;const hr=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,g),e.render(n,$),e.setRenderTarget(r,1,g),e.render(n,y),e.setRenderTarget(r,2,g),e.render(n,k),e.setRenderTarget(r,3,g),e.render(n,L),e.setRenderTarget(r,4,g),e.render(n,V),r.texture.generateMipmaps=hr,e.setRenderTarget(r,5,g),e.render(n,z),e.setRenderTarget(j,ie,Oe),e.xr.enabled=ur,r.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e,n,r,g,$,y,k,L,V,z){e=e!==void 0?e:[],n=n!==void 0?n:CubeReflectionMapping,super(e,n,r,g,$,y,k,L,V,z),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},g=[r,r,r,r,r,r];this.texture=new CubeTexture(g,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:LinearFilter}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},g=new BoxGeometry(5,5,5),$=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:BackSide,blending:NoBlending});$.uniforms.tEquirect.value=n;const y=new Mesh(g,$),k=n.minFilter;return n.minFilter===LinearMipmapLinearFilter&&(n.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,y),n.minFilter=k,y.geometry.dispose(),y.material.dispose(),this}clear(e,n,r,g){const $=e.getRenderTarget();for(let y=0;y<6;y++)e.setRenderTarget(this,y),e.clear(n,r,g);e.setRenderTarget($)}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class InterleavedBuffer{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let g=0,$=this.stride;g<$;g++)this.array[e+g]=n.array[r+g];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(e,n,r,g=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=g}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)_vector$7.fromBufferAttribute(this,n),_vector$7.applyMatrix4(e),this.setXYZ(n,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)_vector$7.fromBufferAttribute(this,n),_vector$7.applyNormalMatrix(e),this.setXYZ(n,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)_vector$7.fromBufferAttribute(this,n),_vector$7.transformDirection(e),this.setXYZ(n,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=denormalize(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=normalize(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=normalize(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=normalize(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=normalize(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=normalize(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=denormalize(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=denormalize(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=denormalize(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=denormalize(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize(n,this.array),r=normalize(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,g){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize(n,this.array),r=normalize(r,this.array),g=normalize(g,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=g,this}setXYZW(e,n,r,g,$){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize(n,this.array),r=normalize(r,this.array),g=normalize(g,this.array),$=normalize($,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=g,this.data.array[e+3]=$,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const g=r*this.data.stride+this.offset;for(let $=0;$<this.itemSize;$++)n.push(this.data.array[g+$])}return new BufferAttribute(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const g=r*this.data.stride+this.offset;for(let $=0;$<this.itemSize;$++)n.push(this.data.array[g+$])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new InterleavedBuffer(n,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(r,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(r,2,3,!1))}this.geometry=_geometry,this.material=e,this.center=new Vector2(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const r=this.material.rotation;let g,$;r!==0&&($=Math.cos(r),g=Math.sin(r));const y=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,y,_worldScale,g,$),transformVertex(_vB.set(.5,-.5,0),_mvPosition,y,_worldScale,g,$),transformVertex(_vC.set(.5,.5,0),_mvPosition,y,_worldScale,g,$),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let k=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(k===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,y,_worldScale,g,$),_uvB.set(0,1),k=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),k===null))return;const L=e.ray.origin.distanceTo(_intersectPoint);L<e.near||L>e.far||n.push({distance:L,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function transformVertex(t,e,n,r,g,$){_alignedPosition.subVectors(t,n).addScalar(.5).multiply(r),g!==void 0?(_rotatedPosition.x=$*_alignedPosition.x-g*_alignedPosition.y,_rotatedPosition.y=g*_alignedPosition.x+$*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),t.copy(e),t.x+=_rotatedPosition.x,t.y+=_rotatedPosition.y,t.applyMatrix4(_viewWorldMatrix)}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,g){return this.normal.set(e,n,r),this.constant=g,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const g=_vector1.subVectors(r,n).cross(_vector2.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(g,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(_vector1),g=this.normal.dot(r);if(g===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const $=-(e.start.dot(this.normal)+this.constant)/g;return $<0||$>1?null:n.copy(e.start).addScaledVector(r,$)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||_normalMatrix.getNormalMatrix(e),g=this.coplanarPoint(_vector1).applyMatrix4(e),$=this.normal.applyMatrix3(r).normalize();return this.constant=-g.dot($),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(e=new Plane,n=new Plane,r=new Plane,g=new Plane,$=new Plane,y=new Plane){this.planes=[e,n,r,g,$,y]}set(e,n,r,g,$,y){const k=this.planes;return k[0].copy(e),k[1].copy(n),k[2].copy(r),k[3].copy(g),k[4].copy($),k[5].copy(y),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=WebGLCoordinateSystem){const r=this.planes,g=e.elements,$=g[0],y=g[1],k=g[2],L=g[3],V=g[4],z=g[5],j=g[6],ie=g[7],Oe=g[8],ur=g[9],hr=g[10],Vr=g[11],dr=g[12],ec=g[13],tc=g[14],Xs=g[15];if(r[0].setComponents(L-$,ie-V,Vr-Oe,Xs-dr).normalize(),r[1].setComponents(L+$,ie+V,Vr+Oe,Xs+dr).normalize(),r[2].setComponents(L+y,ie+z,Vr+ur,Xs+ec).normalize(),r[3].setComponents(L-y,ie-z,Vr-ur,Xs-ec).normalize(),r[4].setComponents(L-k,ie-j,Vr-hr,Xs-tc).normalize(),n===WebGLCoordinateSystem)r[5].setComponents(L+k,ie+j,Vr+hr,Xs+tc).normalize();else if(n===WebGPUCoordinateSystem)r[5].setComponents(k,j,hr,tc).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$3.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_sphere$3.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(e){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(e){const n=this.planes,r=e.center,g=-e.radius;for(let $=0;$<6;$++)if(n[$].distanceToPoint(r)<g)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const g=n[r];if(_vector$6.x=g.normal.x>0?e.max.x:e.min.x,_vector$6.y=g.normal.y>0?e.max.y:e.min.y,_vector$6.z=g.normal.z>0?e.max.z:e.min.z,g.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class LineBasicMaterial extends Material{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(e=new BufferGeometry,n=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let g=1,$=n.count;g<$;g++)_vStart.fromBufferAttribute(n,g-1),_vEnd.fromBufferAttribute(n,g),r[g]=r[g-1],r[g]+=_vStart.distanceTo(_vEnd);e.setAttribute("lineDistance",new Float32BufferAttribute(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,g=this.matrixWorld,$=e.params.Line.threshold,y=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_sphere$1.copy(r.boundingSphere),_sphere$1.applyMatrix4(g),_sphere$1.radius+=$,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(g).invert(),_ray$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const k=$/((this.scale.x+this.scale.y+this.scale.z)/3),L=k*k,V=this.isLineSegments?2:1,z=r.index,ie=r.attributes.position;if(z!==null){const Oe=Math.max(0,y.start),ur=Math.min(z.count,y.start+y.count);for(let hr=Oe,Vr=ur-1;hr<Vr;hr+=V){const dr=z.getX(hr),ec=z.getX(hr+1),tc=checkIntersection(this,e,_ray$1,L,dr,ec);tc&&n.push(tc)}if(this.isLineLoop){const hr=z.getX(ur-1),Vr=z.getX(Oe),dr=checkIntersection(this,e,_ray$1,L,hr,Vr);dr&&n.push(dr)}}else{const Oe=Math.max(0,y.start),ur=Math.min(ie.count,y.start+y.count);for(let hr=Oe,Vr=ur-1;hr<Vr;hr+=V){const dr=checkIntersection(this,e,_ray$1,L,hr,hr+1);dr&&n.push(dr)}if(this.isLineLoop){const hr=checkIntersection(this,e,_ray$1,L,ur-1,Oe);hr&&n.push(hr)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const g=n[r[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let $=0,y=g.length;$<y;$++){const k=g[$].name||String($);this.morphTargetInfluences.push(0),this.morphTargetDictionary[k]=$}}}}}function checkIntersection(t,e,n,r,g,$){const y=t.geometry.attributes.position;if(_vStart.fromBufferAttribute(y,g),_vEnd.fromBufferAttribute(y,$),n.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>r)return;_intersectPointOnRay.applyMatrix4(t.matrixWorld);const L=e.ray.origin.distanceTo(_intersectPointOnRay);if(!(L<e.near||L>e.far))return{distance:L,point:_intersectPointOnSegment.clone().applyMatrix4(t.matrixWorld),index:g,face:null,faceIndex:null,barycoord:null,object:t}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let g=0,$=n.count;g<$;g+=2)_start.fromBufferAttribute(n,g),_end.fromBufferAttribute(n,g+1),r[g]=g===0?0:r[g-1],r[g+1]=r[g]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class PointsMaterial extends Material{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray$2=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,n=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,g=this.matrixWorld,$=e.params.Points.threshold,y=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_sphere.copy(r.boundingSphere),_sphere.applyMatrix4(g),_sphere.radius+=$,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(g).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix);const k=$/((this.scale.x+this.scale.y+this.scale.z)/3),L=k*k,V=r.index,j=r.attributes.position;if(V!==null){const ie=Math.max(0,y.start),Oe=Math.min(V.count,y.start+y.count);for(let ur=ie,hr=Oe;ur<hr;ur++){const Vr=V.getX(ur);_position$2.fromBufferAttribute(j,Vr),testPoint(_position$2,Vr,L,g,e,n,this)}}else{const ie=Math.max(0,y.start),Oe=Math.min(j.count,y.start+y.count);for(let ur=ie,hr=Oe;ur<hr;ur++)_position$2.fromBufferAttribute(j,ur),testPoint(_position$2,ur,L,g,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const g=n[r[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let $=0,y=g.length;$<y;$++){const k=g[$].name||String($);this.morphTargetInfluences.push(0),this.morphTargetDictionary[k]=$}}}}}function testPoint(t,e,n,r,g,$,y){const k=_ray$2.distanceSqToPoint(t);if(k<n){const L=new Vector3;_ray$2.closestPointToPoint(t,L),L.applyMatrix4(r);const V=g.ray.origin.distanceTo(L);if(V<g.near||V>g.far)return;$.push({distance:V,distanceToRay:Math.sqrt(k),point:L,index:e,face:null,faceIndex:null,barycoord:null,object:y})}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}class DepthTexture extends Texture{constructor(e,n,r,g,$,y,k,L,V,z=DepthFormat){if(z!==DepthFormat&&z!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&z===DepthFormat&&(r=UnsignedIntType),r===void 0&&z===DepthStencilFormat&&(r=UnsignedInt248Type),super(null,g,$,y,k,L,z,r,V),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=k!==void 0?k:NearestFilter,this.minFilter=L!==void 0?L:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,g=this.getPoint(0),$=0;n.push(0);for(let y=1;y<=e;y++)r=this.getPoint(y/e),$+=r.distanceTo(g),n.push($),g=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let g=0;const $=r.length;let y;n?y=n:y=e*r[$-1];let k=0,L=$-1,V;for(;k<=L;)if(g=Math.floor(k+(L-k)/2),V=r[g]-y,V<0)k=g+1;else if(V>0)L=g-1;else{L=g;break}if(g=L,r[g]===y)return g/($-1);const z=r[g],ie=r[g+1]-z,Oe=(y-z)/ie;return(g+Oe)/($-1)}getTangent(e,n){let g=e-1e-4,$=e+1e-4;g<0&&(g=0),$>1&&($=1);const y=this.getPoint(g),k=this.getPoint($),L=n||(y.isVector2?new Vector2:new Vector3);return L.copy(k).sub(y).normalize(),L}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Vector3,g=[],$=[],y=[],k=new Vector3,L=new Matrix4;for(let Oe=0;Oe<=e;Oe++){const ur=Oe/e;g[Oe]=this.getTangentAt(ur,new Vector3)}$[0]=new Vector3,y[0]=new Vector3;let V=Number.MAX_VALUE;const z=Math.abs(g[0].x),j=Math.abs(g[0].y),ie=Math.abs(g[0].z);z<=V&&(V=z,r.set(1,0,0)),j<=V&&(V=j,r.set(0,1,0)),ie<=V&&r.set(0,0,1),k.crossVectors(g[0],r).normalize(),$[0].crossVectors(g[0],k),y[0].crossVectors(g[0],$[0]);for(let Oe=1;Oe<=e;Oe++){if($[Oe]=$[Oe-1].clone(),y[Oe]=y[Oe-1].clone(),k.crossVectors(g[Oe-1],g[Oe]),k.length()>Number.EPSILON){k.normalize();const ur=Math.acos(clamp$3(g[Oe-1].dot(g[Oe]),-1,1));$[Oe].applyMatrix4(L.makeRotationAxis(k,ur))}y[Oe].crossVectors(g[Oe],$[Oe])}if(n===!0){let Oe=Math.acos(clamp$3($[0].dot($[e]),-1,1));Oe/=e,g[0].dot(k.crossVectors($[0],$[e]))>0&&(Oe=-Oe);for(let ur=1;ur<=e;ur++)$[ur].applyMatrix4(L.makeRotationAxis(g[ur],Oe*ur)),y[ur].crossVectors(g[ur],$[ur])}return{tangents:g,normals:$,binormals:y}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(e=0,n=0,r=1,g=1,$=0,y=Math.PI*2,k=!1,L=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=g,this.aStartAngle=$,this.aEndAngle=y,this.aClockwise=k,this.aRotation=L}getPoint(e,n=new Vector2){const r=n,g=Math.PI*2;let $=this.aEndAngle-this.aStartAngle;const y=Math.abs($)<Number.EPSILON;for(;$<0;)$+=g;for(;$>g;)$-=g;$<Number.EPSILON&&(y?$=0:$=g),this.aClockwise===!0&&!y&&($===g?$=-g:$=$-g);const k=this.aStartAngle+e*$;let L=this.aX+this.xRadius*Math.cos(k),V=this.aY+this.yRadius*Math.sin(k);if(this.aRotation!==0){const z=Math.cos(this.aRotation),j=Math.sin(this.aRotation),ie=L-this.aX,Oe=V-this.aY;L=ie*z-Oe*j+this.aX,V=ie*j+Oe*z+this.aY}return r.set(L,V)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,n,r,g,$,y){super(e,n,r,r,g,$,y),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let t=0,e=0,n=0,r=0;function g($,y,k,L){t=$,e=k,n=-3*$+3*y-2*k-L,r=2*$-2*y+k+L}return{initCatmullRom:function($,y,k,L,V){g(y,k,V*(k-$),V*(L-y))},initNonuniformCatmullRom:function($,y,k,L,V,z,j){let ie=(y-$)/V-(k-$)/(V+z)+(k-y)/z,Oe=(k-y)/z-(L-y)/(z+j)+(L-k)/j;ie*=z,Oe*=z,g(y,k,ie,Oe)},calc:function($){const y=$*$,k=y*$;return t+e*$+n*y+r*k}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(e=[],n=!1,r="centripetal",g=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=g}getPoint(e,n=new Vector3){const r=n,g=this.points,$=g.length,y=($-(this.closed?0:1))*e;let k=Math.floor(y),L=y-k;this.closed?k+=k>0?0:(Math.floor(Math.abs(k)/$)+1)*$:L===0&&k===$-1&&(k=$-2,L=1);let V,z;this.closed||k>0?V=g[(k-1)%$]:(tmp.subVectors(g[0],g[1]).add(g[0]),V=tmp);const j=g[k%$],ie=g[(k+1)%$];if(this.closed||k+2<$?z=g[(k+2)%$]:(tmp.subVectors(g[$-1],g[$-2]).add(g[$-1]),z=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const Oe=this.curveType==="chordal"?.5:.25;let ur=Math.pow(V.distanceToSquared(j),Oe),hr=Math.pow(j.distanceToSquared(ie),Oe),Vr=Math.pow(ie.distanceToSquared(z),Oe);hr<1e-4&&(hr=1),ur<1e-4&&(ur=hr),Vr<1e-4&&(Vr=hr),px.initNonuniformCatmullRom(V.x,j.x,ie.x,z.x,ur,hr,Vr),py.initNonuniformCatmullRom(V.y,j.y,ie.y,z.y,ur,hr,Vr),pz.initNonuniformCatmullRom(V.z,j.z,ie.z,z.z,ur,hr,Vr)}else this.curveType==="catmullrom"&&(px.initCatmullRom(V.x,j.x,ie.x,z.x,this.tension),py.initCatmullRom(V.y,j.y,ie.y,z.y,this.tension),pz.initCatmullRom(V.z,j.z,ie.z,z.z,this.tension));return r.set(px.calc(L),py.calc(L),pz.calc(L)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const g=e.points[n];this.points.push(g.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const g=this.points[n];e.points.push(g.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const g=e.points[n];this.points.push(new Vector3().fromArray(g))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(t,e,n,r,g){const $=(r-e)*.5,y=(g-n)*.5,k=t*t,L=t*k;return(2*n-2*r+$+y)*L+(-3*n+3*r-2*$-y)*k+$*t+n}function QuadraticBezierP0(t,e){const n=1-t;return n*n*e}function QuadraticBezierP1(t,e){return 2*(1-t)*t*e}function QuadraticBezierP2(t,e){return t*t*e}function QuadraticBezier(t,e,n,r){return QuadraticBezierP0(t,e)+QuadraticBezierP1(t,n)+QuadraticBezierP2(t,r)}function CubicBezierP0(t,e){const n=1-t;return n*n*n*e}function CubicBezierP1(t,e){const n=1-t;return 3*n*n*t*e}function CubicBezierP2(t,e){return 3*(1-t)*t*t*e}function CubicBezierP3(t,e){return t*t*t*e}function CubicBezier(t,e,n,r,g){return CubicBezierP0(t,e)+CubicBezierP1(t,n)+CubicBezierP2(t,r)+CubicBezierP3(t,g)}class CubicBezierCurve extends Curve{constructor(e=new Vector2,n=new Vector2,r=new Vector2,g=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=g}getPoint(e,n=new Vector2){const r=n,g=this.v0,$=this.v1,y=this.v2,k=this.v3;return r.set(CubicBezier(e,g.x,$.x,y.x,k.x),CubicBezier(e,g.y,$.y,y.y,k.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(e=new Vector3,n=new Vector3,r=new Vector3,g=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=g}getPoint(e,n=new Vector3){const r=n,g=this.v0,$=this.v1,y=this.v2,k=this.v3;return r.set(CubicBezier(e,g.x,$.x,y.x,k.x),CubicBezier(e,g.y,$.y,y.y,k.y),CubicBezier(e,g.z,$.z,y.z,k.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve{constructor(e=new Vector2,n=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Vector2){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector2){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve{constructor(e=new Vector3,n=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Vector3){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector3){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(e=new Vector2,n=new Vector2,r=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Vector2){const r=n,g=this.v0,$=this.v1,y=this.v2;return r.set(QuadraticBezier(e,g.x,$.x,y.x),QuadraticBezier(e,g.y,$.y,y.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(e=new Vector3,n=new Vector3,r=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Vector3){const r=n,g=this.v0,$=this.v1,y=this.v2;return r.set(QuadraticBezier(e,g.x,$.x,y.x),QuadraticBezier(e,g.y,$.y,y.y),QuadraticBezier(e,g.z,$.z,y.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Vector2){const r=n,g=this.points,$=(g.length-1)*e,y=Math.floor($),k=$-y,L=g[y===0?y:y-1],V=g[y],z=g[y>g.length-2?g.length-1:y+1],j=g[y>g.length-3?g.length-1:y+2];return r.set(CatmullRom(k,L.x,V.x,z.x,j.x),CatmullRom(k,L.y,V.y,z.y,j.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const g=e.points[n];this.points.push(g.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const g=this.points[n];e.points.push(g.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const g=e.points[n];this.points.push(new Vector2().fromArray(g))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),g=this.getCurveLengths();let $=0;for(;$<g.length;){if(g[$]>=r){const y=g[$]-r,k=this.curves[$],L=k.getLength(),V=L===0?0:1-y/L;return k.getPointAt(V,n)}$++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,g=this.curves.length;r<g;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let g=0,$=this.curves;g<$.length;g++){const y=$[g],k=y.isEllipseCurve?e*2:y.isLineCurve||y.isLineCurve3?1:y.isSplineCurve?e*y.points.length:e,L=y.getPoints(k);for(let V=0;V<L.length;V++){const z=L[V];r&&r.equals(z)||(n.push(z),r=z)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const g=e.curves[n];this.curves.push(g.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const g=this.curves[n];e.curves.push(g.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const g=e.curves[n];this.curves.push(new Curves[g.type]().fromJSON(g))}return this}}class Path extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new LineCurve(this.currentPoint.clone(),new Vector2(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,g){const $=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(r,g));return this.curves.push($),this.currentPoint.set(r,g),this}bezierCurveTo(e,n,r,g,$,y){const k=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(r,g),new Vector2($,y));return this.curves.push(k),this.currentPoint.set($,y),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new SplineCurve(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,g,$,y){const k=this.currentPoint.x,L=this.currentPoint.y;return this.absarc(e+k,n+L,r,g,$,y),this}absarc(e,n,r,g,$,y){return this.absellipse(e,n,r,r,g,$,y),this}ellipse(e,n,r,g,$,y,k,L){const V=this.currentPoint.x,z=this.currentPoint.y;return this.absellipse(e+V,n+z,r,g,$,y,k,L),this}absellipse(e,n,r,g,$,y,k,L){const V=new EllipseCurve(e,n,r,g,$,y,k,L);if(this.curves.length>0){const j=V.getPoint(0);j.equals(this.currentPoint)||this.lineTo(j.x,j.y)}this.curves.push(V);const z=V.getPoint(1);return this.currentPoint.copy(z),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Shape extends Path{constructor(e){super(e),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,g=this.holes.length;r<g;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const g=e.holes[n];this.holes.push(g.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const g=this.holes[n];e.holes.push(g.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const g=e.holes[n];this.holes.push(new Path().fromJSON(g))}return this}}const Earcut={triangulate:function(t,e,n=2){const r=e&&e.length,g=r?e[0]*n:t.length;let $=linkedList(t,0,g,n,!0);const y=[];if(!$||$.next===$.prev)return y;let k,L,V,z,j,ie,Oe;if(r&&($=eliminateHoles(t,e,$,n)),t.length>80*n){k=V=t[0],L=z=t[1];for(let ur=n;ur<g;ur+=n)j=t[ur],ie=t[ur+1],j<k&&(k=j),ie<L&&(L=ie),j>V&&(V=j),ie>z&&(z=ie);Oe=Math.max(V-k,z-L),Oe=Oe!==0?32767/Oe:0}return earcutLinked($,y,n,k,L,Oe,0),y}};function linkedList(t,e,n,r,g){let $,y;if(g===signedArea(t,e,n,r)>0)for($=e;$<n;$+=r)y=insertNode($,t[$],t[$+1],y);else for($=n-r;$>=e;$-=r)y=insertNode($,t[$],t[$+1],y);return y&&equals(y,y.next)&&(removeNode(y),y=y.next),y}function filterPoints(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(equals(n,n.next)||area(n.prev,n,n.next)===0)){if(removeNode(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function earcutLinked(t,e,n,r,g,$,y){if(!t)return;!y&&$&&indexCurve(t,r,g,$);let k=t,L,V;for(;t.prev!==t.next;){if(L=t.prev,V=t.next,$?isEarHashed(t,r,g,$):isEar(t)){e.push(L.i/n|0),e.push(t.i/n|0),e.push(V.i/n|0),removeNode(t),t=V.next,k=V.next;continue}if(t=V,t===k){y?y===1?(t=cureLocalIntersections(filterPoints(t),e,n),earcutLinked(t,e,n,r,g,$,2)):y===2&&splitEarcut(t,e,n,r,g,$):earcutLinked(filterPoints(t),e,n,r,g,$,1);break}}}function isEar(t){const e=t.prev,n=t,r=t.next;if(area(e,n,r)>=0)return!1;const g=e.x,$=n.x,y=r.x,k=e.y,L=n.y,V=r.y,z=g<$?g<y?g:y:$<y?$:y,j=k<L?k<V?k:V:L<V?L:V,ie=g>$?g>y?g:y:$>y?$:y,Oe=k>L?k>V?k:V:L>V?L:V;let ur=r.next;for(;ur!==e;){if(ur.x>=z&&ur.x<=ie&&ur.y>=j&&ur.y<=Oe&&pointInTriangle(g,k,$,L,y,V,ur.x,ur.y)&&area(ur.prev,ur,ur.next)>=0)return!1;ur=ur.next}return!0}function isEarHashed(t,e,n,r){const g=t.prev,$=t,y=t.next;if(area(g,$,y)>=0)return!1;const k=g.x,L=$.x,V=y.x,z=g.y,j=$.y,ie=y.y,Oe=k<L?k<V?k:V:L<V?L:V,ur=z<j?z<ie?z:ie:j<ie?j:ie,hr=k>L?k>V?k:V:L>V?L:V,Vr=z>j?z>ie?z:ie:j>ie?j:ie,dr=zOrder(Oe,ur,e,n,r),ec=zOrder(hr,Vr,e,n,r);let tc=t.prevZ,Xs=t.nextZ;for(;tc&&tc.z>=dr&&Xs&&Xs.z<=ec;){if(tc.x>=Oe&&tc.x<=hr&&tc.y>=ur&&tc.y<=Vr&&tc!==g&&tc!==y&&pointInTriangle(k,z,L,j,V,ie,tc.x,tc.y)&&area(tc.prev,tc,tc.next)>=0||(tc=tc.prevZ,Xs.x>=Oe&&Xs.x<=hr&&Xs.y>=ur&&Xs.y<=Vr&&Xs!==g&&Xs!==y&&pointInTriangle(k,z,L,j,V,ie,Xs.x,Xs.y)&&area(Xs.prev,Xs,Xs.next)>=0))return!1;Xs=Xs.nextZ}for(;tc&&tc.z>=dr;){if(tc.x>=Oe&&tc.x<=hr&&tc.y>=ur&&tc.y<=Vr&&tc!==g&&tc!==y&&pointInTriangle(k,z,L,j,V,ie,tc.x,tc.y)&&area(tc.prev,tc,tc.next)>=0)return!1;tc=tc.prevZ}for(;Xs&&Xs.z<=ec;){if(Xs.x>=Oe&&Xs.x<=hr&&Xs.y>=ur&&Xs.y<=Vr&&Xs!==g&&Xs!==y&&pointInTriangle(k,z,L,j,V,ie,Xs.x,Xs.y)&&area(Xs.prev,Xs,Xs.next)>=0)return!1;Xs=Xs.nextZ}return!0}function cureLocalIntersections(t,e,n){let r=t;do{const g=r.prev,$=r.next.next;!equals(g,$)&&intersects(g,r,r.next,$)&&locallyInside(g,$)&&locallyInside($,g)&&(e.push(g.i/n|0),e.push(r.i/n|0),e.push($.i/n|0),removeNode(r),removeNode(r.next),r=t=$),r=r.next}while(r!==t);return filterPoints(r)}function splitEarcut(t,e,n,r,g,$){let y=t;do{let k=y.next.next;for(;k!==y.prev;){if(y.i!==k.i&&isValidDiagonal(y,k)){let L=splitPolygon(y,k);y=filterPoints(y,y.next),L=filterPoints(L,L.next),earcutLinked(y,e,n,r,g,$,0),earcutLinked(L,e,n,r,g,$,0);return}k=k.next}y=y.next}while(y!==t)}function eliminateHoles(t,e,n,r){const g=[];let $,y,k,L,V;for($=0,y=e.length;$<y;$++)k=e[$]*r,L=$<y-1?e[$+1]*r:t.length,V=linkedList(t,k,L,r,!1),V===V.next&&(V.steiner=!0),g.push(getLeftmost(V));for(g.sort(compareX),$=0;$<g.length;$++)n=eliminateHole(g[$],n);return n}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){const n=findHoleBridge(t,e);if(!n)return e;const r=splitPolygon(n,t);return filterPoints(r,r.next),filterPoints(n,n.next)}function findHoleBridge(t,e){let n=e,r=-1/0,g;const $=t.x,y=t.y;do{if(y<=n.y&&y>=n.next.y&&n.next.y!==n.y){const ie=n.x+(y-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(ie<=$&&ie>r&&(r=ie,g=n.x<n.next.x?n:n.next,ie===$))return g}n=n.next}while(n!==e);if(!g)return null;const k=g,L=g.x,V=g.y;let z=1/0,j;n=g;do $>=n.x&&n.x>=L&&$!==n.x&&pointInTriangle(y<V?$:r,y,L,V,y<V?r:$,y,n.x,n.y)&&(j=Math.abs(y-n.y)/($-n.x),locallyInside(n,t)&&(j<z||j===z&&(n.x>g.x||n.x===g.x&&sectorContainsSector(g,n)))&&(g=n,z=j)),n=n.next;while(n!==k);return g}function sectorContainsSector(t,e){return area(t.prev,t,e.prev)<0&&area(e.next,t,t.next)<0}function indexCurve(t,e,n,r){let g=t;do g.z===0&&(g.z=zOrder(g.x,g.y,e,n,r)),g.prevZ=g.prev,g.nextZ=g.next,g=g.next;while(g!==t);g.prevZ.nextZ=null,g.prevZ=null,sortLinked(g)}function sortLinked(t){let e,n,r,g,$,y,k,L,V=1;do{for(n=t,t=null,$=null,y=0;n;){for(y++,r=n,k=0,e=0;e<V&&(k++,r=r.nextZ,!!r);e++);for(L=V;k>0||L>0&&r;)k!==0&&(L===0||!r||n.z<=r.z)?(g=n,n=n.nextZ,k--):(g=r,r=r.nextZ,L--),$?$.nextZ=g:t=g,g.prevZ=$,$=g;n=r}$.nextZ=null,V*=2}while(y>1);return t}function zOrder(t,e,n,r,g){return t=(t-n)*g|0,e=(e-r)*g|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function getLeftmost(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function pointInTriangle(t,e,n,r,g,$,y,k){return(g-y)*(e-k)>=(t-y)*($-k)&&(t-y)*(r-k)>=(n-y)*(e-k)&&(n-y)*($-k)>=(g-y)*(r-k)}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!intersectsPolygon(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&middleInside(t,e)&&(area(t.prev,t,e.prev)||area(t,e.prev,e))||equals(t,e)&&area(t.prev,t,t.next)>0&&area(e.prev,e,e.next)>0)}function area(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,n,r){const g=sign(area(t,e,n)),$=sign(area(t,e,r)),y=sign(area(n,r,t)),k=sign(area(n,r,e));return!!(g!==$&&y!==k||g===0&&onSegment(t,n,e)||$===0&&onSegment(t,r,e)||y===0&&onSegment(n,t,r)||k===0&&onSegment(n,e,r))}function onSegment(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function sign(t){return t>0?1:t<0?-1:0}function intersectsPolygon(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&intersects(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function middleInside(t,e){let n=t,r=!1;const g=(t.x+e.x)/2,$=(t.y+e.y)/2;do n.y>$!=n.next.y>$&&n.next.y!==n.y&&g<(n.next.x-n.x)*($-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function splitPolygon(t,e){const n=new Node$3(t.i,t.x,t.y),r=new Node$3(e.i,e.x,e.y),g=t.next,$=e.prev;return t.next=e,e.prev=t,n.next=g,g.prev=n,r.next=n,n.prev=r,$.next=r,r.prev=$,r}function insertNode(t,e,n,r){const g=new Node$3(t,e,n);return r?(g.next=r.next,g.prev=r,r.next.prev=g,r.next=g):(g.prev=g,g.next=g),g}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Node$3(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(t,e,n,r){let g=0;for(let $=e,y=n-r;$<n;$+=r)g+=(t[y]-t[$])*(t[$+1]+t[y+1]),y=$;return g}class ShapeUtils{static area(e){const n=e.length;let r=0;for(let g=n-1,$=0;$<n;g=$++)r+=e[g].x*e[$].y-e[$].x*e[g].y;return r*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,n){const r=[],g=[],$=[];removeDupEndPts(e),addContour(r,e);let y=e.length;n.forEach(removeDupEndPts);for(let L=0;L<n.length;L++)g.push(y),y+=n[L].length,addContour(r,n[L]);const k=Earcut.triangulate(r,g);for(let L=0;L<k.length;L+=3)$.push(k.slice(L,L+3));return $}}function removeDupEndPts(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function addContour(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class PlaneGeometry extends BufferGeometry{constructor(e=1,n=1,r=1,g=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:g};const $=e/2,y=n/2,k=Math.floor(r),L=Math.floor(g),V=k+1,z=L+1,j=e/k,ie=n/L,Oe=[],ur=[],hr=[],Vr=[];for(let dr=0;dr<z;dr++){const ec=dr*ie-y;for(let tc=0;tc<V;tc++){const Xs=tc*j-$;ur.push(Xs,-ec,0),hr.push(0,0,1),Vr.push(tc/k),Vr.push(1-dr/L)}}for(let dr=0;dr<L;dr++)for(let ec=0;ec<k;ec++){const tc=ec+V*dr,Xs=ec+V*(dr+1),rc=ec+1+V*(dr+1),ic=ec+1+V*dr;Oe.push(tc,Xs,ic),Oe.push(Xs,rc,ic)}this.setIndex(Oe),this.setAttribute("position",new Float32BufferAttribute(ur,3)),this.setAttribute("normal",new Float32BufferAttribute(hr,3)),this.setAttribute("uv",new Float32BufferAttribute(Vr,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],g=[],$=[],y=[];let k=0,L=0;if(Array.isArray(e)===!1)V(e);else for(let z=0;z<e.length;z++)V(e[z]),this.addGroup(k,L,z),k+=L,L=0;this.setIndex(r),this.setAttribute("position",new Float32BufferAttribute(g,3)),this.setAttribute("normal",new Float32BufferAttribute($,3)),this.setAttribute("uv",new Float32BufferAttribute(y,2));function V(z){const j=g.length/3,ie=z.extractPoints(n);let Oe=ie.shape;const ur=ie.holes;ShapeUtils.isClockWise(Oe)===!1&&(Oe=Oe.reverse());for(let Vr=0,dr=ur.length;Vr<dr;Vr++){const ec=ur[Vr];ShapeUtils.isClockWise(ec)===!0&&(ur[Vr]=ec.reverse())}const hr=ShapeUtils.triangulateShape(Oe,ur);for(let Vr=0,dr=ur.length;Vr<dr;Vr++){const ec=ur[Vr];Oe=Oe.concat(ec)}for(let Vr=0,dr=Oe.length;Vr<dr;Vr++){const ec=Oe[Vr];g.push(ec.x,ec.y,0),$.push(0,0,1),y.push(ec.x,ec.y)}for(let Vr=0,dr=hr.length;Vr<dr;Vr++){const ec=hr[Vr],tc=ec[0]+j,Xs=ec[1]+j,rc=ec[2]+j;r.push(tc,Xs,rc),L+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return toJSON(n,e)}static fromJSON(e,n){const r=[];for(let g=0,$=e.shapes.length;g<$;g++){const y=n[e.shapes[g]];r.push(y)}return new ShapeGeometry(r,e.curveSegments)}}function toJSON(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const g=t[n];e.shapes.push(g.uuid)}else e.shapes.push(t.uuid);return e}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Cache={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LoadingManager{constructor(e,n,r){const g=this;let $=!1,y=0,k=0,L;const V=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(z){k++,$===!1&&g.onStart!==void 0&&g.onStart(z,y,k),$=!0},this.itemEnd=function(z){y++,g.onProgress!==void 0&&g.onProgress(z,y,k),y===k&&($=!1,g.onLoad!==void 0&&g.onLoad())},this.itemError=function(z){g.onError!==void 0&&g.onError(z)},this.resolveURL=function(z){return L?L(z):z},this.setURLModifier=function(z){return L=z,this},this.addHandler=function(z,j){return V.push(z,j),this},this.removeHandler=function(z){const j=V.indexOf(z);return j!==-1&&V.splice(j,2),this},this.getHandler=function(z){for(let j=0,ie=V.length;j<ie;j+=2){const Oe=V[j],ur=V[j+1];if(Oe.global&&(Oe.lastIndex=0),Oe.test(z))return ur}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(g,$){r.load(e,g,n,$)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(e,n){super(e),this.response=n}}class FileLoader extends Loader{constructor(e){super(e)}load(e,n,r,g){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const $=Cache.get(e);if($!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n($),this.manager.itemEnd(e)},0),$;if(loading[e]!==void 0){loading[e].push({onLoad:n,onProgress:r,onError:g});return}loading[e]=[],loading[e].push({onLoad:n,onProgress:r,onError:g});const y=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),k=this.mimeType,L=this.responseType;fetch(y).then(V=>{if(V.status===200||V.status===0){if(V.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||V.body===void 0||V.body.getReader===void 0)return V;const z=loading[e],j=V.body.getReader(),ie=V.headers.get("X-File-Size")||V.headers.get("Content-Length"),Oe=ie?parseInt(ie):0,ur=Oe!==0;let hr=0;const Vr=new ReadableStream({start(dr){ec();function ec(){j.read().then(({done:tc,value:Xs})=>{if(tc)dr.close();else{hr+=Xs.byteLength;const rc=new ProgressEvent("progress",{lengthComputable:ur,loaded:hr,total:Oe});for(let ic=0,_c=z.length;ic<_c;ic++){const qm=z[ic];qm.onProgress&&qm.onProgress(rc)}dr.enqueue(Xs),ec()}},tc=>{dr.error(tc)})}}});return new Response(Vr)}else throw new HttpError(`fetch for "${V.url}" responded with ${V.status}: ${V.statusText}`,V)}).then(V=>{switch(L){case"arraybuffer":return V.arrayBuffer();case"blob":return V.blob();case"document":return V.text().then(z=>new DOMParser().parseFromString(z,k));case"json":return V.json();default:if(k===void 0)return V.text();{const j=/charset="?([^;"\s]*)"?/i.exec(k),ie=j&&j[1]?j[1].toLowerCase():void 0,Oe=new TextDecoder(ie);return V.arrayBuffer().then(ur=>Oe.decode(ur))}}}).then(V=>{Cache.add(e,V);const z=loading[e];delete loading[e];for(let j=0,ie=z.length;j<ie;j++){const Oe=z[j];Oe.onLoad&&Oe.onLoad(V)}}).catch(V=>{const z=loading[e];if(z===void 0)throw this.manager.itemError(e),V;delete loading[e];for(let j=0,ie=z.length;j<ie;j++){const Oe=z[j];Oe.onError&&Oe.onError(V)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,n,r,g){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const $=this,y=Cache.get(e);if(y!==void 0)return $.manager.itemStart(e),setTimeout(function(){n&&n(y),$.manager.itemEnd(e)},0),y;const k=createElementNS("img");function L(){z(),Cache.add(e,this),n&&n(this),$.manager.itemEnd(e)}function V(j){z(),g&&g(j),$.manager.itemError(e),$.manager.itemEnd(e)}function z(){k.removeEventListener("load",L,!1),k.removeEventListener("error",V,!1)}return k.addEventListener("load",L,!1),k.addEventListener("error",V,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(k.crossOrigin=this.crossOrigin),$.manager.itemStart(e),k.src=e,k}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,n,r,g){const $=new Texture,y=new ImageLoader(this.manager);return y.setCrossOrigin(this.crossOrigin),y.setPath(this.path),y.load(e,function(k){$.image=k,$.needsUpdate=!0,n!==void 0&&n($)},r,g),$}}class OrthographicCamera extends Camera{constructor(e=-1,n=1,r=1,g=-1,$=.1,y=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=g,this.near=$,this.far=y,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,g,$,y){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=g,this.view.width=$,this.view.height=y,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,g=(this.top+this.bottom)/2;let $=r-e,y=r+e,k=g+n,L=g-n;if(this.view!==null&&this.view.enabled){const V=(this.right-this.left)/this.view.fullWidth/this.zoom,z=(this.top-this.bottom)/this.view.fullHeight/this.zoom;$+=V*this.view.offsetX,y=$+V*this.view.width,k-=z*this.view.offsetY,L=k-z*this.view.height}this.projectionMatrix.makeOrthographic($,y,k,L,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}const _matrix=new Matrix4;class Raycaster{constructor(e,n,r=0,g=1/0){this.ray=new Ray(e,n),this.near=r,this.far=g,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return _matrix.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(e,n=!0,r=[]){return intersect(e,this,r,n),r.sort(ascSort),r}intersectObjects(e,n=!0,r=[]){for(let g=0,$=e.length;g<$;g++)intersect(e[g],this,r,n);return r.sort(ascSort),r}}function ascSort(t,e){return t.distance-e.distance}function intersect(t,e,n,r){let g=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(g=!1),g===!0&&r===!0){const $=t.children;for(let y=0,k=$.length;y<k;y++)intersect($[y],e,n,!0)}}class Spherical{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=clamp$3(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(clamp$3(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),n=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=_vector$4.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,g){return this.currentPath.quadraticCurveTo(e,n,r,g),this}bezierCurveTo(e,n,r,g,$,y){return this.currentPath.bezierCurveTo(e,n,r,g,$,y),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(dr){const ec=[];for(let tc=0,Xs=dr.length;tc<Xs;tc++){const rc=dr[tc],ic=new Shape;ic.curves=rc.curves,ec.push(ic)}return ec}function r(dr,ec){const tc=ec.length;let Xs=!1;for(let rc=tc-1,ic=0;ic<tc;rc=ic++){let _c=ec[rc],qm=ec[ic],Xm=qm.x-_c.x,Km=qm.y-_c.y;if(Math.abs(Km)>Number.EPSILON){if(Km<0&&(_c=ec[ic],Xm=-Xm,qm=ec[rc],Km=-Km),dr.y<_c.y||dr.y>qm.y)continue;if(dr.y===_c.y){if(dr.x===_c.x)return!0}else{const tv=Km*(dr.x-_c.x)-Xm*(dr.y-_c.y);if(tv===0)return!0;if(tv<0)continue;Xs=!Xs}}else{if(dr.y!==_c.y)continue;if(qm.x<=dr.x&&dr.x<=_c.x||_c.x<=dr.x&&dr.x<=qm.x)return!0}}return Xs}const g=ShapeUtils.isClockWise,$=this.subPaths;if($.length===0)return[];let y,k,L;const V=[];if($.length===1)return k=$[0],L=new Shape,L.curves=k.curves,V.push(L),V;let z=!g($[0].getPoints());z=e?!z:z;const j=[],ie=[];let Oe=[],ur=0,hr;ie[ur]=void 0,Oe[ur]=[];for(let dr=0,ec=$.length;dr<ec;dr++)k=$[dr],hr=k.getPoints(),y=g(hr),y=e?!y:y,y?(!z&&ie[ur]&&ur++,ie[ur]={s:new Shape,p:hr},ie[ur].s.curves=k.curves,z&&ur++,Oe[ur]=[]):Oe[ur].push({h:k,p:hr[0]});if(!ie[0])return n($);if(ie.length>1){let dr=!1,ec=0;for(let tc=0,Xs=ie.length;tc<Xs;tc++)j[tc]=[];for(let tc=0,Xs=ie.length;tc<Xs;tc++){const rc=Oe[tc];for(let ic=0;ic<rc.length;ic++){const _c=rc[ic];let qm=!0;for(let Xm=0;Xm<ie.length;Xm++)r(_c.p,ie[Xm].p)&&(tc!==Xm&&ec++,qm?(qm=!1,j[Xm].push(_c)):dr=!0);qm&&j[tc].push(_c)}}ec>0&&dr===!1&&(Oe=j)}let Vr;for(let dr=0,ec=ie.length;dr<ec;dr++){L=ie[dr].s,V.push(L),Vr=Oe[dr];for(let tc=0,Xs=Vr.length;tc<Xs;tc++)L.holes.push(Vr[tc].h)}return V}}class Controls extends EventDispatcher{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function getByteLength(t,e,n,r){const g=getTextureTypeByteLength(r);switch(n){case AlphaFormat:return t*e;case LuminanceFormat:return t*e;case LuminanceAlphaFormat:return t*e*2;case RedFormat:return t*e/g.components*g.byteLength;case RedIntegerFormat:return t*e/g.components*g.byteLength;case RGFormat:return t*e*2/g.components*g.byteLength;case RGIntegerFormat:return t*e*2/g.components*g.byteLength;case RGBFormat:return t*e*3/g.components*g.byteLength;case RGBAFormat:return t*e*4/g.components*g.byteLength;case RGBAIntegerFormat:return t*e*4/g.components*g.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(t,16)*Math.max(e,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(t,8)*Math.max(e,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(t/4)*Math.ceil(e/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(t/4)*Math.ceil(e/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function getTextureTypeByteLength(t){switch(t){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let t=null,e=!1,n=null,r=null;function g($,y){n($,y),r=t.requestAnimationFrame(g)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(g),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function($){n=$},setContext:function($){t=$}}}function WebGLAttributes(t){const e=new WeakMap;function n(k,L){const V=k.array,z=k.usage,j=V.byteLength,ie=t.createBuffer();t.bindBuffer(L,ie),t.bufferData(L,V,z),k.onUploadCallback();let Oe;if(V instanceof Float32Array)Oe=t.FLOAT;else if(V instanceof Uint16Array)k.isFloat16BufferAttribute?Oe=t.HALF_FLOAT:Oe=t.UNSIGNED_SHORT;else if(V instanceof Int16Array)Oe=t.SHORT;else if(V instanceof Uint32Array)Oe=t.UNSIGNED_INT;else if(V instanceof Int32Array)Oe=t.INT;else if(V instanceof Int8Array)Oe=t.BYTE;else if(V instanceof Uint8Array)Oe=t.UNSIGNED_BYTE;else if(V instanceof Uint8ClampedArray)Oe=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+V);return{buffer:ie,type:Oe,bytesPerElement:V.BYTES_PER_ELEMENT,version:k.version,size:j}}function r(k,L,V){const z=L.array,j=L.updateRanges;if(t.bindBuffer(V,k),j.length===0)t.bufferSubData(V,0,z);else{j.sort((Oe,ur)=>Oe.start-ur.start);let ie=0;for(let Oe=1;Oe<j.length;Oe++){const ur=j[ie],hr=j[Oe];hr.start<=ur.start+ur.count+1?ur.count=Math.max(ur.count,hr.start+hr.count-ur.start):(++ie,j[ie]=hr)}j.length=ie+1;for(let Oe=0,ur=j.length;Oe<ur;Oe++){const hr=j[Oe];t.bufferSubData(V,hr.start*z.BYTES_PER_ELEMENT,z,hr.start,hr.count)}L.clearUpdateRanges()}L.onUploadCallback()}function g(k){return k.isInterleavedBufferAttribute&&(k=k.data),e.get(k)}function $(k){k.isInterleavedBufferAttribute&&(k=k.data);const L=e.get(k);L&&(t.deleteBuffer(L.buffer),e.delete(k))}function y(k,L){if(k.isInterleavedBufferAttribute&&(k=k.data),k.isGLBufferAttribute){const z=e.get(k);(!z||z.version<k.version)&&e.set(k,{buffer:k.buffer,type:k.type,bytesPerElement:k.elementSize,version:k.version});return}const V=e.get(k);if(V===void 0)e.set(k,n(k,L));else if(V.version<k.version){if(V.size!==k.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(V.buffer,k,L),V.version=k.version}}return{get:g,remove:$,update:y}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(t,e,n,r,g,$,y){const k=new Color$1(0);let L=$===!0?0:1,V,z,j=null,ie=0,Oe=null;function ur(tc){let Xs=tc.isScene===!0?tc.background:null;return Xs&&Xs.isTexture&&(Xs=(tc.backgroundBlurriness>0?n:e).get(Xs)),Xs}function hr(tc){let Xs=!1;const rc=ur(tc);rc===null?dr(k,L):rc&&rc.isColor&&(dr(rc,1),Xs=!0);const ic=t.xr.getEnvironmentBlendMode();ic==="additive"?r.buffers.color.setClear(0,0,0,1,y):ic==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,y),(t.autoClear||Xs)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function Vr(tc,Xs){const rc=ur(Xs);rc&&(rc.isCubeTexture||rc.mapping===CubeUVReflectionMapping)?(z===void 0&&(z=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),z.geometry.deleteAttribute("normal"),z.geometry.deleteAttribute("uv"),z.onBeforeRender=function(ic,_c,qm){this.matrixWorld.copyPosition(qm.matrixWorld)},Object.defineProperty(z.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),g.update(z)),_e1$1.copy(Xs.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,rc.isCubeTexture&&rc.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),z.material.uniforms.envMap.value=rc,z.material.uniforms.flipEnvMap.value=rc.isCubeTexture&&rc.isRenderTargetTexture===!1?-1:1,z.material.uniforms.backgroundBlurriness.value=Xs.backgroundBlurriness,z.material.uniforms.backgroundIntensity.value=Xs.backgroundIntensity,z.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),z.material.toneMapped=ColorManagement.getTransfer(rc.colorSpace)!==SRGBTransfer,(j!==rc||ie!==rc.version||Oe!==t.toneMapping)&&(z.material.needsUpdate=!0,j=rc,ie=rc.version,Oe=t.toneMapping),z.layers.enableAll(),tc.unshift(z,z.geometry,z.material,0,0,null)):rc&&rc.isTexture&&(V===void 0&&(V=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),V.geometry.deleteAttribute("normal"),Object.defineProperty(V.material,"map",{get:function(){return this.uniforms.t2D.value}}),g.update(V)),V.material.uniforms.t2D.value=rc,V.material.uniforms.backgroundIntensity.value=Xs.backgroundIntensity,V.material.toneMapped=ColorManagement.getTransfer(rc.colorSpace)!==SRGBTransfer,rc.matrixAutoUpdate===!0&&rc.updateMatrix(),V.material.uniforms.uvTransform.value.copy(rc.matrix),(j!==rc||ie!==rc.version||Oe!==t.toneMapping)&&(V.material.needsUpdate=!0,j=rc,ie=rc.version,Oe=t.toneMapping),V.layers.enableAll(),tc.unshift(V,V.geometry,V.material,0,0,null))}function dr(tc,Xs){tc.getRGB(_rgb,getUnlitUniformColorSpace(t)),r.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Xs,y)}function ec(){z!==void 0&&(z.geometry.dispose(),z.material.dispose()),V!==void 0&&(V.geometry.dispose(),V.material.dispose())}return{getClearColor:function(){return k},setClearColor:function(tc,Xs=1){k.set(tc),L=Xs,dr(k,L)},getClearAlpha:function(){return L},setClearAlpha:function(tc){L=tc,dr(k,L)},render:hr,addToRenderList:Vr,dispose:ec}}function WebGLBindingStates(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},g=ie(null);let $=g,y=!1;function k(Km,tv,nv,sv,gv){let Sv=!1;const wv=j(sv,nv,tv);$!==wv&&($=wv,V($.object)),Sv=Oe(Km,sv,nv,gv),Sv&&ur(Km,sv,nv,gv),gv!==null&&e.update(gv,t.ELEMENT_ARRAY_BUFFER),(Sv||y)&&(y=!1,Xs(Km,tv,nv,sv),gv!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(gv).buffer))}function L(){return t.createVertexArray()}function V(Km){return t.bindVertexArray(Km)}function z(Km){return t.deleteVertexArray(Km)}function j(Km,tv,nv){const sv=nv.wireframe===!0;let gv=r[Km.id];gv===void 0&&(gv={},r[Km.id]=gv);let Sv=gv[tv.id];Sv===void 0&&(Sv={},gv[tv.id]=Sv);let wv=Sv[sv];return wv===void 0&&(wv=ie(L()),Sv[sv]=wv),wv}function ie(Km){const tv=[],nv=[],sv=[];for(let gv=0;gv<n;gv++)tv[gv]=0,nv[gv]=0,sv[gv]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:tv,enabledAttributes:nv,attributeDivisors:sv,object:Km,attributes:{},index:null}}function Oe(Km,tv,nv,sv){const gv=$.attributes,Sv=tv.attributes;let wv=0;const rv=nv.getAttributes();for(const Jm in rv)if(rv[Jm].location>=0){const pv=gv[Jm];let mv=Sv[Jm];if(mv===void 0&&(Jm==="instanceMatrix"&&Km.instanceMatrix&&(mv=Km.instanceMatrix),Jm==="instanceColor"&&Km.instanceColor&&(mv=Km.instanceColor)),pv===void 0||pv.attribute!==mv||mv&&pv.data!==mv.data)return!0;wv++}return $.attributesNum!==wv||$.index!==sv}function ur(Km,tv,nv,sv){const gv={},Sv=tv.attributes;let wv=0;const rv=nv.getAttributes();for(const Jm in rv)if(rv[Jm].location>=0){let pv=Sv[Jm];pv===void 0&&(Jm==="instanceMatrix"&&Km.instanceMatrix&&(pv=Km.instanceMatrix),Jm==="instanceColor"&&Km.instanceColor&&(pv=Km.instanceColor));const mv={};mv.attribute=pv,pv&&pv.data&&(mv.data=pv.data),gv[Jm]=mv,wv++}$.attributes=gv,$.attributesNum=wv,$.index=sv}function hr(){const Km=$.newAttributes;for(let tv=0,nv=Km.length;tv<nv;tv++)Km[tv]=0}function Vr(Km){dr(Km,0)}function dr(Km,tv){const nv=$.newAttributes,sv=$.enabledAttributes,gv=$.attributeDivisors;nv[Km]=1,sv[Km]===0&&(t.enableVertexAttribArray(Km),sv[Km]=1),gv[Km]!==tv&&(t.vertexAttribDivisor(Km,tv),gv[Km]=tv)}function ec(){const Km=$.newAttributes,tv=$.enabledAttributes;for(let nv=0,sv=tv.length;nv<sv;nv++)tv[nv]!==Km[nv]&&(t.disableVertexAttribArray(nv),tv[nv]=0)}function tc(Km,tv,nv,sv,gv,Sv,wv){wv===!0?t.vertexAttribIPointer(Km,tv,nv,gv,Sv):t.vertexAttribPointer(Km,tv,nv,sv,gv,Sv)}function Xs(Km,tv,nv,sv){hr();const gv=sv.attributes,Sv=nv.getAttributes(),wv=tv.defaultAttributeValues;for(const rv in Sv){const Jm=Sv[rv];if(Jm.location>=0){let dv=gv[rv];if(dv===void 0&&(rv==="instanceMatrix"&&Km.instanceMatrix&&(dv=Km.instanceMatrix),rv==="instanceColor"&&Km.instanceColor&&(dv=Km.instanceColor)),dv!==void 0){const pv=dv.normalized,mv=dv.itemSize,Cv=e.get(dv);if(Cv===void 0)continue;const uv=Cv.buffer,yv=Cv.type,$v=Cv.bytesPerElement,Dv=yv===t.INT||yv===t.UNSIGNED_INT||dv.gpuType===IntType;if(dv.isInterleavedBufferAttribute){const Hv=dv.data,Gv=Hv.stride,f0=dv.offset;if(Hv.isInstancedInterleavedBuffer){for(let qv=0;qv<Jm.locationSize;qv++)dr(Jm.location+qv,Hv.meshPerAttribute);Km.isInstancedMesh!==!0&&sv._maxInstanceCount===void 0&&(sv._maxInstanceCount=Hv.meshPerAttribute*Hv.count)}else for(let qv=0;qv<Jm.locationSize;qv++)Vr(Jm.location+qv);t.bindBuffer(t.ARRAY_BUFFER,uv);for(let qv=0;qv<Jm.locationSize;qv++)tc(Jm.location+qv,mv/Jm.locationSize,yv,pv,Gv*$v,(f0+mv/Jm.locationSize*qv)*$v,Dv)}else{if(dv.isInstancedBufferAttribute){for(let Hv=0;Hv<Jm.locationSize;Hv++)dr(Jm.location+Hv,dv.meshPerAttribute);Km.isInstancedMesh!==!0&&sv._maxInstanceCount===void 0&&(sv._maxInstanceCount=dv.meshPerAttribute*dv.count)}else for(let Hv=0;Hv<Jm.locationSize;Hv++)Vr(Jm.location+Hv);t.bindBuffer(t.ARRAY_BUFFER,uv);for(let Hv=0;Hv<Jm.locationSize;Hv++)tc(Jm.location+Hv,mv/Jm.locationSize,yv,pv,mv*$v,mv/Jm.locationSize*Hv*$v,Dv)}}else if(wv!==void 0){const pv=wv[rv];if(pv!==void 0)switch(pv.length){case 2:t.vertexAttrib2fv(Jm.location,pv);break;case 3:t.vertexAttrib3fv(Jm.location,pv);break;case 4:t.vertexAttrib4fv(Jm.location,pv);break;default:t.vertexAttrib1fv(Jm.location,pv)}}}}ec()}function rc(){qm();for(const Km in r){const tv=r[Km];for(const nv in tv){const sv=tv[nv];for(const gv in sv)z(sv[gv].object),delete sv[gv];delete tv[nv]}delete r[Km]}}function ic(Km){if(r[Km.id]===void 0)return;const tv=r[Km.id];for(const nv in tv){const sv=tv[nv];for(const gv in sv)z(sv[gv].object),delete sv[gv];delete tv[nv]}delete r[Km.id]}function _c(Km){for(const tv in r){const nv=r[tv];if(nv[Km.id]===void 0)continue;const sv=nv[Km.id];for(const gv in sv)z(sv[gv].object),delete sv[gv];delete nv[Km.id]}}function qm(){Xm(),y=!0,$!==g&&($=g,V($.object))}function Xm(){g.geometry=null,g.program=null,g.wireframe=!1}return{setup:k,reset:qm,resetDefaultState:Xm,dispose:rc,releaseStatesOfGeometry:ic,releaseStatesOfProgram:_c,initAttributes:hr,enableAttribute:Vr,disableUnusedAttributes:ec}}function WebGLBufferRenderer(t,e,n){let r;function g(V){r=V}function $(V,z){t.drawArrays(r,V,z),n.update(z,r,1)}function y(V,z,j){j!==0&&(t.drawArraysInstanced(r,V,z,j),n.update(z,r,j))}function k(V,z,j){if(j===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,V,0,z,0,j);let Oe=0;for(let ur=0;ur<j;ur++)Oe+=z[ur];n.update(Oe,r,1)}function L(V,z,j,ie){if(j===0)return;const Oe=e.get("WEBGL_multi_draw");if(Oe===null)for(let ur=0;ur<V.length;ur++)y(V[ur],z[ur],ie[ur]);else{Oe.multiDrawArraysInstancedWEBGL(r,V,0,z,0,ie,0,j);let ur=0;for(let hr=0;hr<j;hr++)ur+=z[hr]*ie[hr];n.update(ur,r,1)}}this.setMode=g,this.render=$,this.renderInstances=y,this.renderMultiDraw=k,this.renderMultiDrawInstances=L}function WebGLCapabilities(t,e,n,r){let g;function $(){if(g!==void 0)return g;if(e.has("EXT_texture_filter_anisotropic")===!0){const _c=e.get("EXT_texture_filter_anisotropic");g=t.getParameter(_c.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else g=0;return g}function y(_c){return!(_c!==RGBAFormat&&r.convert(_c)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function k(_c){const qm=_c===HalfFloatType&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(_c!==UnsignedByteType&&r.convert(_c)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&_c!==FloatType&&!qm)}function L(_c){if(_c==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";_c="mediump"}return _c==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let V=n.precision!==void 0?n.precision:"highp";const z=L(V);z!==V&&(console.warn("THREE.WebGLRenderer:",V,"not supported, using",z,"instead."),V=z);const j=n.logarithmicDepthBuffer===!0,ie=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),Oe=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ur=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),hr=t.getParameter(t.MAX_TEXTURE_SIZE),Vr=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),dr=t.getParameter(t.MAX_VERTEX_ATTRIBS),ec=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),tc=t.getParameter(t.MAX_VARYING_VECTORS),Xs=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),rc=ur>0,ic=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:$,getMaxPrecision:L,textureFormatReadable:y,textureTypeReadable:k,precision:V,logarithmicDepthBuffer:j,reverseDepthBuffer:ie,maxTextures:Oe,maxVertexTextures:ur,maxTextureSize:hr,maxCubemapSize:Vr,maxAttributes:dr,maxVertexUniforms:ec,maxVaryings:tc,maxFragmentUniforms:Xs,vertexTextures:rc,maxSamples:ic}}function WebGLClipping(t){const e=this;let n=null,r=0,g=!1,$=!1;const y=new Plane,k=new Matrix3,L={value:null,needsUpdate:!1};this.uniform=L,this.numPlanes=0,this.numIntersection=0,this.init=function(j,ie){const Oe=j.length!==0||ie||r!==0||g;return g=ie,r=j.length,Oe},this.beginShadows=function(){$=!0,z(null)},this.endShadows=function(){$=!1},this.setGlobalState=function(j,ie){n=z(j,ie,0)},this.setState=function(j,ie,Oe){const ur=j.clippingPlanes,hr=j.clipIntersection,Vr=j.clipShadows,dr=t.get(j);if(!g||ur===null||ur.length===0||$&&!Vr)$?z(null):V();else{const ec=$?0:r,tc=ec*4;let Xs=dr.clippingState||null;L.value=Xs,Xs=z(ur,ie,tc,Oe);for(let rc=0;rc!==tc;++rc)Xs[rc]=n[rc];dr.clippingState=Xs,this.numIntersection=hr?this.numPlanes:0,this.numPlanes+=ec}};function V(){L.value!==n&&(L.value=n,L.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function z(j,ie,Oe,ur){const hr=j!==null?j.length:0;let Vr=null;if(hr!==0){if(Vr=L.value,ur!==!0||Vr===null){const dr=Oe+hr*4,ec=ie.matrixWorldInverse;k.getNormalMatrix(ec),(Vr===null||Vr.length<dr)&&(Vr=new Float32Array(dr));for(let tc=0,Xs=Oe;tc!==hr;++tc,Xs+=4)y.copy(j[tc]).applyMatrix4(ec,k),y.normal.toArray(Vr,Xs),Vr[Xs+3]=y.constant}L.value=Vr,L.needsUpdate=!0}return e.numPlanes=hr,e.numIntersection=0,Vr}}function WebGLCubeMaps(t){let e=new WeakMap;function n(y,k){return k===EquirectangularReflectionMapping?y.mapping=CubeReflectionMapping:k===EquirectangularRefractionMapping&&(y.mapping=CubeRefractionMapping),y}function r(y){if(y&&y.isTexture){const k=y.mapping;if(k===EquirectangularReflectionMapping||k===EquirectangularRefractionMapping)if(e.has(y)){const L=e.get(y).texture;return n(L,y.mapping)}else{const L=y.image;if(L&&L.height>0){const V=new WebGLCubeRenderTarget(L.height);return V.fromEquirectangularTexture(t,y),e.set(y,V),y.addEventListener("dispose",g),n(V.texture,y.mapping)}else return null}}return y}function g(y){const k=y.target;k.removeEventListener("dispose",g);const L=e.get(k);L!==void 0&&(e.delete(k),L.dispose())}function $(){e=new WeakMap}return{get:r,dispose:$}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,g=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const $=this._allocateTargets();return $.depthBuffer=!0,this._sceneToCubeUV(e,r,g,$),n>0&&this._blur($,0,0,n),this._applyPMREM($),this._cleanup($),$}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},g=_createRenderTarget(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,n,r);const{_lodMax:$}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes($)),this._blurMaterial=_getBlurShader($,e,n)}return g}_compileMaterial(e){const n=new Mesh(this._lodPlanes[0],e);this._renderer.compile(n,_flatCamera)}_sceneToCubeUV(e,n,r,g){const k=new PerspectiveCamera(90,1,n,r),L=[1,-1,1,1,1,1],V=[1,1,1,-1,-1,-1],z=this._renderer,j=z.autoClear,ie=z.toneMapping;z.getClearColor(_clearColor),z.toneMapping=NoToneMapping,z.autoClear=!1;const Oe=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ur=new Mesh(new BoxGeometry,Oe);let hr=!1;const Vr=e.background;Vr?Vr.isColor&&(Oe.color.copy(Vr),e.background=null,hr=!0):(Oe.color.copy(_clearColor),hr=!0);for(let dr=0;dr<6;dr++){const ec=dr%3;ec===0?(k.up.set(0,L[dr],0),k.lookAt(V[dr],0,0)):ec===1?(k.up.set(0,0,L[dr]),k.lookAt(0,V[dr],0)):(k.up.set(0,L[dr],0),k.lookAt(0,0,V[dr]));const tc=this._cubeSize;_setViewport(g,ec*tc,dr>2?tc:0,tc,tc),z.setRenderTarget(g),hr&&z.render(ur,k),z.render(e,k)}ur.geometry.dispose(),ur.material.dispose(),z.toneMapping=ie,z.autoClear=j,e.background=Vr}_textureToCubeUV(e,n){const r=this._renderer,g=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;g?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const $=g?this._cubemapMaterial:this._equirectMaterial,y=new Mesh(this._lodPlanes[0],$),k=$.uniforms;k.envMap.value=e;const L=this._cubeSize;_setViewport(n,0,0,3*L,2*L),r.setRenderTarget(n),r.render(y,_flatCamera)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const g=this._lodPlanes.length;for(let $=1;$<g;$++){const y=Math.sqrt(this._sigmas[$]*this._sigmas[$]-this._sigmas[$-1]*this._sigmas[$-1]),k=_axisDirections[(g-$-1)%_axisDirections.length];this._blur(e,$-1,$,y,k)}n.autoClear=r}_blur(e,n,r,g,$){const y=this._pingPongRenderTarget;this._halfBlur(e,y,n,r,g,"latitudinal",$),this._halfBlur(y,e,r,r,g,"longitudinal",$)}_halfBlur(e,n,r,g,$,y,k){const L=this._renderer,V=this._blurMaterial;y!=="latitudinal"&&y!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const z=3,j=new Mesh(this._lodPlanes[g],V),ie=V.uniforms,Oe=this._sizeLods[r]-1,ur=isFinite($)?Math.PI/(2*Oe):2*Math.PI/(2*MAX_SAMPLES-1),hr=$/ur,Vr=isFinite($)?1+Math.floor(z*hr):MAX_SAMPLES;Vr>MAX_SAMPLES&&console.warn(`sigmaRadians, ${$}, is too large and will clip, as it requested ${Vr} samples when the maximum is set to ${MAX_SAMPLES}`);const dr=[];let ec=0;for(let _c=0;_c<MAX_SAMPLES;++_c){const qm=_c/hr,Xm=Math.exp(-qm*qm/2);dr.push(Xm),_c===0?ec+=Xm:_c<Vr&&(ec+=2*Xm)}for(let _c=0;_c<dr.length;_c++)dr[_c]=dr[_c]/ec;ie.envMap.value=e.texture,ie.samples.value=Vr,ie.weights.value=dr,ie.latitudinal.value=y==="latitudinal",k&&(ie.poleAxis.value=k);const{_lodMax:tc}=this;ie.dTheta.value=ur,ie.mipInt.value=tc-r;const Xs=this._sizeLods[g],rc=3*Xs*(g>tc-LOD_MIN?g-tc+LOD_MIN:0),ic=4*(this._cubeSize-Xs);_setViewport(n,rc,ic,3*Xs,2*Xs),L.setRenderTarget(n),L.render(j,_flatCamera)}}function _createPlanes(t){const e=[],n=[],r=[];let g=t;const $=t-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let y=0;y<$;y++){const k=Math.pow(2,g);n.push(k);let L=1/k;y>t-LOD_MIN?L=EXTRA_LOD_SIGMA[y-t+LOD_MIN-1]:y===0&&(L=0),r.push(L);const V=1/(k-2),z=-V,j=1+V,ie=[z,z,j,z,j,j,z,z,j,j,z,j],Oe=6,ur=6,hr=3,Vr=2,dr=1,ec=new Float32Array(hr*ur*Oe),tc=new Float32Array(Vr*ur*Oe),Xs=new Float32Array(dr*ur*Oe);for(let ic=0;ic<Oe;ic++){const _c=ic%3*2/3-1,qm=ic>2?0:-1,Xm=[_c,qm,0,_c+2/3,qm,0,_c+2/3,qm+1,0,_c,qm,0,_c+2/3,qm+1,0,_c,qm+1,0];ec.set(Xm,hr*ur*ic),tc.set(ie,Vr*ur*ic);const Km=[ic,ic,ic,ic,ic,ic];Xs.set(Km,dr*ur*ic)}const rc=new BufferGeometry;rc.setAttribute("position",new BufferAttribute(ec,hr)),rc.setAttribute("uv",new BufferAttribute(tc,Vr)),rc.setAttribute("faceIndex",new BufferAttribute(Xs,dr)),e.push(rc),g>LOD_MIN&&g--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function _createRenderTarget(t,e,n){const r=new WebGLRenderTarget(t,e,n);return r.texture.mapping=CubeUVReflectionMapping,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _setViewport(t,e,n,r,g){t.viewport.set(e,n,r,g),t.scissor.set(e,n,r,g)}function _getBlurShader(t,e,n){const r=new Float32Array(MAX_SAMPLES),g=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:g}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(t){let e=new WeakMap,n=null;function r(k){if(k&&k.isTexture){const L=k.mapping,V=L===EquirectangularReflectionMapping||L===EquirectangularRefractionMapping,z=L===CubeReflectionMapping||L===CubeRefractionMapping;if(V||z){let j=e.get(k);const ie=j!==void 0?j.texture.pmremVersion:0;if(k.isRenderTargetTexture&&k.pmremVersion!==ie)return n===null&&(n=new PMREMGenerator(t)),j=V?n.fromEquirectangular(k,j):n.fromCubemap(k,j),j.texture.pmremVersion=k.pmremVersion,e.set(k,j),j.texture;if(j!==void 0)return j.texture;{const Oe=k.image;return V&&Oe&&Oe.height>0||z&&Oe&&g(Oe)?(n===null&&(n=new PMREMGenerator(t)),j=V?n.fromEquirectangular(k):n.fromCubemap(k),j.texture.pmremVersion=k.pmremVersion,e.set(k,j),k.addEventListener("dispose",$),j.texture):null}}}return k}function g(k){let L=0;const V=6;for(let z=0;z<V;z++)k[z]!==void 0&&L++;return L===V}function $(k){const L=k.target;L.removeEventListener("dispose",$);const V=e.get(L);V!==void 0&&(e.delete(L),V.dispose())}function y(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:y}}function WebGLExtensions(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let g;switch(r){case"WEBGL_depth_texture":g=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":g=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":g=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":g=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:g=t.getExtension(r)}return e[r]=g,g}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const g=n(r);return g===null&&warnOnce("THREE.WebGLRenderer: "+r+" extension not supported."),g}}}function WebGLGeometries(t,e,n,r){const g={},$=new WeakMap;function y(j){const ie=j.target;ie.index!==null&&e.remove(ie.index);for(const ur in ie.attributes)e.remove(ie.attributes[ur]);ie.removeEventListener("dispose",y),delete g[ie.id];const Oe=$.get(ie);Oe&&(e.remove(Oe),$.delete(ie)),r.releaseStatesOfGeometry(ie),ie.isInstancedBufferGeometry===!0&&delete ie._maxInstanceCount,n.memory.geometries--}function k(j,ie){return g[ie.id]===!0||(ie.addEventListener("dispose",y),g[ie.id]=!0,n.memory.geometries++),ie}function L(j){const ie=j.attributes;for(const Oe in ie)e.update(ie[Oe],t.ARRAY_BUFFER)}function V(j){const ie=[],Oe=j.index,ur=j.attributes.position;let hr=0;if(Oe!==null){const ec=Oe.array;hr=Oe.version;for(let tc=0,Xs=ec.length;tc<Xs;tc+=3){const rc=ec[tc+0],ic=ec[tc+1],_c=ec[tc+2];ie.push(rc,ic,ic,_c,_c,rc)}}else if(ur!==void 0){const ec=ur.array;hr=ur.version;for(let tc=0,Xs=ec.length/3-1;tc<Xs;tc+=3){const rc=tc+0,ic=tc+1,_c=tc+2;ie.push(rc,ic,ic,_c,_c,rc)}}else return;const Vr=new(arrayNeedsUint32(ie)?Uint32BufferAttribute:Uint16BufferAttribute)(ie,1);Vr.version=hr;const dr=$.get(j);dr&&e.remove(dr),$.set(j,Vr)}function z(j){const ie=$.get(j);if(ie){const Oe=j.index;Oe!==null&&ie.version<Oe.version&&V(j)}else V(j);return $.get(j)}return{get:k,update:L,getWireframeAttribute:z}}function WebGLIndexedBufferRenderer(t,e,n){let r;function g(ie){r=ie}let $,y;function k(ie){$=ie.type,y=ie.bytesPerElement}function L(ie,Oe){t.drawElements(r,Oe,$,ie*y),n.update(Oe,r,1)}function V(ie,Oe,ur){ur!==0&&(t.drawElementsInstanced(r,Oe,$,ie*y,ur),n.update(Oe,r,ur))}function z(ie,Oe,ur){if(ur===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,Oe,0,$,ie,0,ur);let Vr=0;for(let dr=0;dr<ur;dr++)Vr+=Oe[dr];n.update(Vr,r,1)}function j(ie,Oe,ur,hr){if(ur===0)return;const Vr=e.get("WEBGL_multi_draw");if(Vr===null)for(let dr=0;dr<ie.length;dr++)V(ie[dr]/y,Oe[dr],hr[dr]);else{Vr.multiDrawElementsInstancedWEBGL(r,Oe,0,$,ie,0,hr,0,ur);let dr=0;for(let ec=0;ec<ur;ec++)dr+=Oe[ec]*hr[ec];n.update(dr,r,1)}}this.setMode=g,this.setIndex=k,this.render=L,this.renderInstances=V,this.renderMultiDraw=z,this.renderMultiDrawInstances=j}function WebGLInfo(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r($,y,k){switch(n.calls++,y){case t.TRIANGLES:n.triangles+=k*($/3);break;case t.LINES:n.lines+=k*($/2);break;case t.LINE_STRIP:n.lines+=k*($-1);break;case t.LINE_LOOP:n.lines+=k*$;break;case t.POINTS:n.points+=k*$;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",y);break}}function g(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:g,update:r}}function WebGLMorphtargets(t,e,n){const r=new WeakMap,g=new Vector4;function $(y,k,L){const V=y.morphTargetInfluences,z=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,j=z!==void 0?z.length:0;let ie=r.get(k);if(ie===void 0||ie.count!==j){let Xm=function(){_c.dispose(),r.delete(k),k.removeEventListener("dispose",Xm)};ie!==void 0&&ie.texture.dispose();const Oe=k.morphAttributes.position!==void 0,ur=k.morphAttributes.normal!==void 0,hr=k.morphAttributes.color!==void 0,Vr=k.morphAttributes.position||[],dr=k.morphAttributes.normal||[],ec=k.morphAttributes.color||[];let tc=0;Oe===!0&&(tc=1),ur===!0&&(tc=2),hr===!0&&(tc=3);let Xs=k.attributes.position.count*tc,rc=1;Xs>e.maxTextureSize&&(rc=Math.ceil(Xs/e.maxTextureSize),Xs=e.maxTextureSize);const ic=new Float32Array(Xs*rc*4*j),_c=new DataArrayTexture(ic,Xs,rc,j);_c.type=FloatType,_c.needsUpdate=!0;const qm=tc*4;for(let Km=0;Km<j;Km++){const tv=Vr[Km],nv=dr[Km],sv=ec[Km],gv=Xs*rc*4*Km;for(let Sv=0;Sv<tv.count;Sv++){const wv=Sv*qm;Oe===!0&&(g.fromBufferAttribute(tv,Sv),ic[gv+wv+0]=g.x,ic[gv+wv+1]=g.y,ic[gv+wv+2]=g.z,ic[gv+wv+3]=0),ur===!0&&(g.fromBufferAttribute(nv,Sv),ic[gv+wv+4]=g.x,ic[gv+wv+5]=g.y,ic[gv+wv+6]=g.z,ic[gv+wv+7]=0),hr===!0&&(g.fromBufferAttribute(sv,Sv),ic[gv+wv+8]=g.x,ic[gv+wv+9]=g.y,ic[gv+wv+10]=g.z,ic[gv+wv+11]=sv.itemSize===4?g.w:1)}}ie={count:j,texture:_c,size:new Vector2(Xs,rc)},r.set(k,ie),k.addEventListener("dispose",Xm)}if(y.isInstancedMesh===!0&&y.morphTexture!==null)L.getUniforms().setValue(t,"morphTexture",y.morphTexture,n);else{let Oe=0;for(let hr=0;hr<V.length;hr++)Oe+=V[hr];const ur=k.morphTargetsRelative?1:1-Oe;L.getUniforms().setValue(t,"morphTargetBaseInfluence",ur),L.getUniforms().setValue(t,"morphTargetInfluences",V)}L.getUniforms().setValue(t,"morphTargetsTexture",ie.texture,n),L.getUniforms().setValue(t,"morphTargetsTextureSize",ie.size)}return{update:$}}function WebGLObjects(t,e,n,r){let g=new WeakMap;function $(L){const V=r.render.frame,z=L.geometry,j=e.get(L,z);if(g.get(j)!==V&&(e.update(j),g.set(j,V)),L.isInstancedMesh&&(L.hasEventListener("dispose",k)===!1&&L.addEventListener("dispose",k),g.get(L)!==V&&(n.update(L.instanceMatrix,t.ARRAY_BUFFER),L.instanceColor!==null&&n.update(L.instanceColor,t.ARRAY_BUFFER),g.set(L,V))),L.isSkinnedMesh){const ie=L.skeleton;g.get(ie)!==V&&(ie.update(),g.set(ie,V))}return j}function y(){g=new WeakMap}function k(L){const V=L.target;V.removeEventListener("dispose",k),n.remove(V.instanceMatrix),V.instanceColor!==null&&n.remove(V.instanceColor)}return{update:$,dispose:y}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten$1(t,e,n){const r=t[0];if(r<=0||r>0)return t;const g=e*n;let $=arrayCacheF32[g];if($===void 0&&($=new Float32Array(g),arrayCacheF32[g]=$),e!==0){r.toArray($,0);for(let y=1,k=0;y!==e;++y)k+=n,t[y].toArray($,k)}return $}function arraysEqual(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function copyArray$1(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function allocTexUnits(t,e){let n=arrayCacheI32[e];n===void 0&&(n=new Int32Array(e),arrayCacheI32[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function setValueV1f(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function setValueV2f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2fv(this.addr,e),copyArray$1(n,e)}}function setValueV3f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(arraysEqual(n,e))return;t.uniform3fv(this.addr,e),copyArray$1(n,e)}}function setValueV4f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4fv(this.addr,e),copyArray$1(n,e)}}function setValueM2(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(arraysEqual(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),copyArray$1(n,e)}else{if(arraysEqual(n,r))return;mat2array.set(r),t.uniformMatrix2fv(this.addr,!1,mat2array),copyArray$1(n,r)}}function setValueM3(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(arraysEqual(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),copyArray$1(n,e)}else{if(arraysEqual(n,r))return;mat3array.set(r),t.uniformMatrix3fv(this.addr,!1,mat3array),copyArray$1(n,r)}}function setValueM4(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(arraysEqual(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),copyArray$1(n,e)}else{if(arraysEqual(n,r))return;mat4array.set(r),t.uniformMatrix4fv(this.addr,!1,mat4array),copyArray$1(n,r)}}function setValueV1i(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function setValueV2i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2iv(this.addr,e),copyArray$1(n,e)}}function setValueV3i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3iv(this.addr,e),copyArray$1(n,e)}}function setValueV4i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4iv(this.addr,e),copyArray$1(n,e)}}function setValueV1ui(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function setValueV2ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2uiv(this.addr,e),copyArray$1(n,e)}}function setValueV3ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3uiv(this.addr,e),copyArray$1(n,e)}}function setValueV4ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4uiv(this.addr,e),copyArray$1(n,e)}}function setValueT1(t,e,n){const r=this.cache,g=n.allocateTextureUnit();r[0]!==g&&(t.uniform1i(this.addr,g),r[0]=g);let $;this.type===t.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,$=emptyShadowTexture):$=emptyTexture,n.setTexture2D(e||$,g)}function setValueT3D1(t,e,n){const r=this.cache,g=n.allocateTextureUnit();r[0]!==g&&(t.uniform1i(this.addr,g),r[0]=g),n.setTexture3D(e||empty3dTexture,g)}function setValueT6(t,e,n){const r=this.cache,g=n.allocateTextureUnit();r[0]!==g&&(t.uniform1i(this.addr,g),r[0]=g),n.setTextureCube(e||emptyCubeTexture,g)}function setValueT2DArray1(t,e,n){const r=this.cache,g=n.allocateTextureUnit();r[0]!==g&&(t.uniform1i(this.addr,g),r[0]=g),n.setTexture2DArray(e||emptyArrayTexture,g)}function getSingularSetter(t){switch(t){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(t,e){t.uniform1fv(this.addr,e)}function setValueV2fArray(t,e){const n=flatten$1(e,this.size,2);t.uniform2fv(this.addr,n)}function setValueV3fArray(t,e){const n=flatten$1(e,this.size,3);t.uniform3fv(this.addr,n)}function setValueV4fArray(t,e){const n=flatten$1(e,this.size,4);t.uniform4fv(this.addr,n)}function setValueM2Array(t,e){const n=flatten$1(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function setValueM3Array(t,e){const n=flatten$1(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function setValueM4Array(t,e){const n=flatten$1(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function setValueV1iArray(t,e){t.uniform1iv(this.addr,e)}function setValueV2iArray(t,e){t.uniform2iv(this.addr,e)}function setValueV3iArray(t,e){t.uniform3iv(this.addr,e)}function setValueV4iArray(t,e){t.uniform4iv(this.addr,e)}function setValueV1uiArray(t,e){t.uniform1uiv(this.addr,e)}function setValueV2uiArray(t,e){t.uniform2uiv(this.addr,e)}function setValueV3uiArray(t,e){t.uniform3uiv(this.addr,e)}function setValueV4uiArray(t,e){t.uniform4uiv(this.addr,e)}function setValueT1Array(t,e,n){const r=this.cache,g=e.length,$=allocTexUnits(n,g);arraysEqual(r,$)||(t.uniform1iv(this.addr,$),copyArray$1(r,$));for(let y=0;y!==g;++y)n.setTexture2D(e[y]||emptyTexture,$[y])}function setValueT3DArray(t,e,n){const r=this.cache,g=e.length,$=allocTexUnits(n,g);arraysEqual(r,$)||(t.uniform1iv(this.addr,$),copyArray$1(r,$));for(let y=0;y!==g;++y)n.setTexture3D(e[y]||empty3dTexture,$[y])}function setValueT6Array(t,e,n){const r=this.cache,g=e.length,$=allocTexUnits(n,g);arraysEqual(r,$)||(t.uniform1iv(this.addr,$),copyArray$1(r,$));for(let y=0;y!==g;++y)n.setTextureCube(e[y]||emptyCubeTexture,$[y])}function setValueT2DArrayArray(t,e,n){const r=this.cache,g=e.length,$=allocTexUnits(n,g);arraysEqual(r,$)||(t.uniform1iv(this.addr,$),copyArray$1(r,$));for(let y=0;y!==g;++y)n.setTexture2DArray(e[y]||emptyArrayTexture,$[y])}function getPureArraySetter(t){switch(t){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=getSingularSetter(n.type)}}class PureArrayUniform{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=getPureArraySetter(n.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const g=this.seq;for(let $=0,y=g.length;$!==y;++$){const k=g[$];k.setValue(e,n[k.id],r)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(t,e){t.seq.push(e),t.map[e.id]=e}function parseUniform(t,e,n){const r=t.name,g=r.length;for(RePathPart.lastIndex=0;;){const $=RePathPart.exec(r),y=RePathPart.lastIndex;let k=$[1];const L=$[2]==="]",V=$[3];if(L&&(k=k|0),V===void 0||V==="["&&y+2===g){addUniform(n,V===void 0?new SingleUniform(k,t,e):new PureArrayUniform(k,t,e));break}else{let j=n.map[k];j===void 0&&(j=new StructuredUniform(k),addUniform(n,j)),n=j}}}class WebGLUniforms{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let g=0;g<r;++g){const $=e.getActiveUniform(n,g),y=e.getUniformLocation(n,$.name);parseUniform($,y,this)}}setValue(e,n,r,g){const $=this.map[n];$!==void 0&&$.setValue(e,r,g)}setOptional(e,n,r){const g=n[r];g!==void 0&&this.setValue(e,r,g)}static upload(e,n,r,g){for(let $=0,y=n.length;$!==y;++$){const k=n[$],L=r[k.id];L.needsUpdate!==!1&&k.setValue(e,L.value,g)}}static seqWithValue(e,n){const r=[];for(let g=0,$=e.length;g!==$;++g){const y=e[g];y.id in n&&r.push(y)}return r}}function WebGLShader(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(t,e){const n=t.split(`
`),r=[],g=Math.max(e-6,0),$=Math.min(e+6,n.length);for(let y=g;y<$;y++){const k=y+1;r.push(`${k===e?">":" "} ${k}: ${n[y]}`)}return r.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(t){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,t);const e=`mat3( ${_m0.elements.map(n=>n.toFixed(4))} )`;switch(ColorManagement.getTransfer(t)){case LinearTransfer:return[e,"LinearTransferOETF"];case SRGBTransfer:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function getShaderErrors(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),g=t.getShaderInfoLog(e).trim();if(r&&g==="")return"";const $=/ERROR: 0:(\d+)/.exec(g);if($){const y=parseInt($[1]);return n.toUpperCase()+`

`+g+`

`+handleSource(t.getShaderSource(e),y)}else return g}function getTexelEncodingFunction(t,e){const n=getEncodingComponents(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(t,e){let n;switch(e){case LinearToneMapping:n="Linear";break;case ReinhardToneMapping:n="Reinhard";break;case CineonToneMapping:n="Cineon";break;case ACESFilmicToneMapping:n="ACESFilmic";break;case AgXToneMapping:n="AgX";break;case NeutralToneMapping:n="Neutral";break;case CustomToneMapping:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const t=_v0.x.toFixed(4),e=_v0.y.toFixed(4),n=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function fetchAttributeLocations(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let g=0;g<r;g++){const $=t.getActiveAttrib(e,g),y=$.name;let k=1;$.type===t.FLOAT_MAT2&&(k=2),$.type===t.FLOAT_MAT3&&(k=3),$.type===t.FLOAT_MAT4&&(k=4),n[y]={type:$.type,location:t.getAttribLocation(e,y),locationSize:k}}return n}function filterEmptyLine(t){return t!==""}function replaceLightNums(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(t){return t.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(t,e){let n=ShaderChunk[e];if(n===void 0){const r=shaderChunkMap.get(e);if(r!==void 0)n=ShaderChunk[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return resolveIncludes(n)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(t){return t.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(t,e,n,r){let g="";for(let $=parseInt(e);$<parseInt(n);$++)g+=r.replace(/\[\s*i\s*\]/g,"[ "+$+" ]").replace(/UNROLLED_LOOP_INDEX/g,$);return g}function generatePrecision(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function WebGLProgram(t,e,n,r){const g=t.getContext(),$=n.defines;let y=n.vertexShader,k=n.fragmentShader;const L=generateShadowMapTypeDefine(n),V=generateEnvMapTypeDefine(n),z=generateEnvMapModeDefine(n),j=generateEnvMapBlendingDefine(n),ie=generateCubeUVSize(n),Oe=generateVertexExtensions(n),ur=generateDefines($),hr=g.createProgram();let Vr,dr,ec=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(Vr=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,ur].filter(filterEmptyLine).join(`
`),Vr.length>0&&(Vr+=`
`),dr=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,ur].filter(filterEmptyLine).join(`
`),dr.length>0&&(dr+=`
`)):(Vr=[generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,ur,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+z:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+L:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),dr=[generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,ur,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+V:"",n.envMap?"#define "+z:"",n.envMap?"#define "+j:"",ie?"#define CUBEUV_TEXEL_WIDTH "+ie.texelWidth:"",ie?"#define CUBEUV_TEXEL_HEIGHT "+ie.texelHeight:"",ie?"#define CUBEUV_MAX_MIP "+ie.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+L:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",n.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",n.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",n.outputColorSpace),getLuminanceFunction(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),y=resolveIncludes(y),y=replaceLightNums(y,n),y=replaceClippingPlaneNums(y,n),k=resolveIncludes(k),k=replaceLightNums(k,n),k=replaceClippingPlaneNums(k,n),y=unrollLoops(y),k=unrollLoops(k),n.isRawShaderMaterial!==!0&&(ec=`#version 300 es
`,Vr=[Oe,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Vr,dr=["#define varying in",n.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+dr);const tc=ec+Vr+y,Xs=ec+dr+k,rc=WebGLShader(g,g.VERTEX_SHADER,tc),ic=WebGLShader(g,g.FRAGMENT_SHADER,Xs);g.attachShader(hr,rc),g.attachShader(hr,ic),n.index0AttributeName!==void 0?g.bindAttribLocation(hr,0,n.index0AttributeName):n.morphTargets===!0&&g.bindAttribLocation(hr,0,"position"),g.linkProgram(hr);function _c(tv){if(t.debug.checkShaderErrors){const nv=g.getProgramInfoLog(hr).trim(),sv=g.getShaderInfoLog(rc).trim(),gv=g.getShaderInfoLog(ic).trim();let Sv=!0,wv=!0;if(g.getProgramParameter(hr,g.LINK_STATUS)===!1)if(Sv=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(g,hr,rc,ic);else{const rv=getShaderErrors(g,rc,"vertex"),Jm=getShaderErrors(g,ic,"fragment");console.error("THREE.WebGLProgram: Shader Error "+g.getError()+" - VALIDATE_STATUS "+g.getProgramParameter(hr,g.VALIDATE_STATUS)+`

Material Name: `+tv.name+`
Material Type: `+tv.type+`

Program Info Log: `+nv+`
`+rv+`
`+Jm)}else nv!==""?console.warn("THREE.WebGLProgram: Program Info Log:",nv):(sv===""||gv==="")&&(wv=!1);wv&&(tv.diagnostics={runnable:Sv,programLog:nv,vertexShader:{log:sv,prefix:Vr},fragmentShader:{log:gv,prefix:dr}})}g.deleteShader(rc),g.deleteShader(ic),qm=new WebGLUniforms(g,hr),Xm=fetchAttributeLocations(g,hr)}let qm;this.getUniforms=function(){return qm===void 0&&_c(this),qm};let Xm;this.getAttributes=function(){return Xm===void 0&&_c(this),Xm};let Km=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Km===!1&&(Km=g.getProgramParameter(hr,COMPLETION_STATUS_KHR)),Km},this.destroy=function(){r.releaseStatesOfProgram(this),g.deleteProgram(hr),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=hr,this.vertexShader=rc,this.fragmentShader=ic,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,g=this._getShaderStage(n),$=this._getShaderStage(r),y=this._getShaderCacheForMaterial(e);return y.has(g)===!1&&(y.add(g),g.usedTimes++),y.has($)===!1&&(y.add($),$.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new WebGLShaderStage(e),n.set(e,r)),r}}class WebGLShaderStage{constructor(e){this.id=_id++,this.code=e,this.usedTimes=0}}function WebGLPrograms(t,e,n,r,g,$,y){const k=new Layers,L=new WebGLShaderCache,V=new Set,z=[],j=g.logarithmicDepthBuffer,ie=g.vertexTextures;let Oe=g.precision;const ur={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function hr(Xm){return V.add(Xm),Xm===0?"uv":`uv${Xm}`}function Vr(Xm,Km,tv,nv,sv){const gv=nv.fog,Sv=sv.geometry,wv=Xm.isMeshStandardMaterial?nv.environment:null,rv=(Xm.isMeshStandardMaterial?n:e).get(Xm.envMap||wv),Jm=rv&&rv.mapping===CubeUVReflectionMapping?rv.image.height:null,dv=ur[Xm.type];Xm.precision!==null&&(Oe=g.getMaxPrecision(Xm.precision),Oe!==Xm.precision&&console.warn("THREE.WebGLProgram.getParameters:",Xm.precision,"not supported, using",Oe,"instead."));const pv=Sv.morphAttributes.position||Sv.morphAttributes.normal||Sv.morphAttributes.color,mv=pv!==void 0?pv.length:0;let Cv=0;Sv.morphAttributes.position!==void 0&&(Cv=1),Sv.morphAttributes.normal!==void 0&&(Cv=2),Sv.morphAttributes.color!==void 0&&(Cv=3);let uv,yv,$v,Dv;if(dv){const J0=ShaderLib[dv];uv=J0.vertexShader,yv=J0.fragmentShader}else uv=Xm.vertexShader,yv=Xm.fragmentShader,L.update(Xm),$v=L.getVertexShaderID(Xm),Dv=L.getFragmentShaderID(Xm);const Hv=t.getRenderTarget(),Gv=t.state.buffers.depth.getReversed(),f0=sv.isInstancedMesh===!0,qv=sv.isBatchedMesh===!0,Pv=!!Xm.map,Tv=!!Xm.matcap,Vv=!!rv,Av=!!Xm.aoMap,y0=!!Xm.lightMap,av=!!Xm.bumpMap,fv=!!Xm.normalMap,lv=!!Xm.displacementMap,kv=!!Xm.emissiveMap,Iv=!!Xm.metalnessMap,vv=!!Xm.roughnessMap,Ev=Xm.anisotropy>0,zv=Xm.clearcoat>0,Fv=Xm.dispersion>0,Yv=Xm.iridescence>0,g0=Xm.sheen>0,Qv=Xm.transmission>0,N0=Ev&&!!Xm.anisotropyMap,B0=zv&&!!Xm.clearcoatMap,a1=zv&&!!Xm.clearcoatNormalMap,I0=zv&&!!Xm.clearcoatRoughnessMap,M0=Yv&&!!Xm.iridescenceMap,D0=Yv&&!!Xm.iridescenceThicknessMap,W0=g0&&!!Xm.sheenColorMap,Zv=g0&&!!Xm.sheenRoughnessMap,z0=!!Xm.specularMap,_0=!!Xm.specularColorMap,q0=!!Xm.specularIntensityMap,Rv=Qv&&!!Xm.transmissionMap,k0=Qv&&!!Xm.thicknessMap,Ov=!!Xm.gradientMap,Kv=!!Xm.alphaMap,E0=Xm.alphaTest>0,X0=!!Xm.alphaHash,l1=!!Xm.extensions;let x1=NoToneMapping;Xm.toneMapped&&(Hv===null||Hv.isXRRenderTarget===!0)&&(x1=t.toneMapping);const K0={shaderID:dv,shaderType:Xm.type,shaderName:Xm.name,vertexShader:uv,fragmentShader:yv,defines:Xm.defines,customVertexShaderID:$v,customFragmentShaderID:Dv,isRawShaderMaterial:Xm.isRawShaderMaterial===!0,glslVersion:Xm.glslVersion,precision:Oe,batching:qv,batchingColor:qv&&sv._colorsTexture!==null,instancing:f0,instancingColor:f0&&sv.instanceColor!==null,instancingMorph:f0&&sv.morphTexture!==null,supportsVertexTextures:ie,outputColorSpace:Hv===null?t.outputColorSpace:Hv.isXRRenderTarget===!0?Hv.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!Xm.alphaToCoverage,map:Pv,matcap:Tv,envMap:Vv,envMapMode:Vv&&rv.mapping,envMapCubeUVHeight:Jm,aoMap:Av,lightMap:y0,bumpMap:av,normalMap:fv,displacementMap:ie&&lv,emissiveMap:kv,normalMapObjectSpace:fv&&Xm.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:fv&&Xm.normalMapType===TangentSpaceNormalMap,metalnessMap:Iv,roughnessMap:vv,anisotropy:Ev,anisotropyMap:N0,clearcoat:zv,clearcoatMap:B0,clearcoatNormalMap:a1,clearcoatRoughnessMap:I0,dispersion:Fv,iridescence:Yv,iridescenceMap:M0,iridescenceThicknessMap:D0,sheen:g0,sheenColorMap:W0,sheenRoughnessMap:Zv,specularMap:z0,specularColorMap:_0,specularIntensityMap:q0,transmission:Qv,transmissionMap:Rv,thicknessMap:k0,gradientMap:Ov,opaque:Xm.transparent===!1&&Xm.blending===NormalBlending&&Xm.alphaToCoverage===!1,alphaMap:Kv,alphaTest:E0,alphaHash:X0,combine:Xm.combine,mapUv:Pv&&hr(Xm.map.channel),aoMapUv:Av&&hr(Xm.aoMap.channel),lightMapUv:y0&&hr(Xm.lightMap.channel),bumpMapUv:av&&hr(Xm.bumpMap.channel),normalMapUv:fv&&hr(Xm.normalMap.channel),displacementMapUv:lv&&hr(Xm.displacementMap.channel),emissiveMapUv:kv&&hr(Xm.emissiveMap.channel),metalnessMapUv:Iv&&hr(Xm.metalnessMap.channel),roughnessMapUv:vv&&hr(Xm.roughnessMap.channel),anisotropyMapUv:N0&&hr(Xm.anisotropyMap.channel),clearcoatMapUv:B0&&hr(Xm.clearcoatMap.channel),clearcoatNormalMapUv:a1&&hr(Xm.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:I0&&hr(Xm.clearcoatRoughnessMap.channel),iridescenceMapUv:M0&&hr(Xm.iridescenceMap.channel),iridescenceThicknessMapUv:D0&&hr(Xm.iridescenceThicknessMap.channel),sheenColorMapUv:W0&&hr(Xm.sheenColorMap.channel),sheenRoughnessMapUv:Zv&&hr(Xm.sheenRoughnessMap.channel),specularMapUv:z0&&hr(Xm.specularMap.channel),specularColorMapUv:_0&&hr(Xm.specularColorMap.channel),specularIntensityMapUv:q0&&hr(Xm.specularIntensityMap.channel),transmissionMapUv:Rv&&hr(Xm.transmissionMap.channel),thicknessMapUv:k0&&hr(Xm.thicknessMap.channel),alphaMapUv:Kv&&hr(Xm.alphaMap.channel),vertexTangents:!!Sv.attributes.tangent&&(fv||Ev),vertexColors:Xm.vertexColors,vertexAlphas:Xm.vertexColors===!0&&!!Sv.attributes.color&&Sv.attributes.color.itemSize===4,pointsUvs:sv.isPoints===!0&&!!Sv.attributes.uv&&(Pv||Kv),fog:!!gv,useFog:Xm.fog===!0,fogExp2:!!gv&&gv.isFogExp2,flatShading:Xm.flatShading===!0,sizeAttenuation:Xm.sizeAttenuation===!0,logarithmicDepthBuffer:j,reverseDepthBuffer:Gv,skinning:sv.isSkinnedMesh===!0,morphTargets:Sv.morphAttributes.position!==void 0,morphNormals:Sv.morphAttributes.normal!==void 0,morphColors:Sv.morphAttributes.color!==void 0,morphTargetsCount:mv,morphTextureStride:Cv,numDirLights:Km.directional.length,numPointLights:Km.point.length,numSpotLights:Km.spot.length,numSpotLightMaps:Km.spotLightMap.length,numRectAreaLights:Km.rectArea.length,numHemiLights:Km.hemi.length,numDirLightShadows:Km.directionalShadowMap.length,numPointLightShadows:Km.pointShadowMap.length,numSpotLightShadows:Km.spotShadowMap.length,numSpotLightShadowsWithMaps:Km.numSpotLightShadowsWithMaps,numLightProbes:Km.numLightProbes,numClippingPlanes:y.numPlanes,numClipIntersection:y.numIntersection,dithering:Xm.dithering,shadowMapEnabled:t.shadowMap.enabled&&tv.length>0,shadowMapType:t.shadowMap.type,toneMapping:x1,decodeVideoTexture:Pv&&Xm.map.isVideoTexture===!0&&ColorManagement.getTransfer(Xm.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:kv&&Xm.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(Xm.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:Xm.premultipliedAlpha,doubleSided:Xm.side===DoubleSide,flipSided:Xm.side===BackSide,useDepthPacking:Xm.depthPacking>=0,depthPacking:Xm.depthPacking||0,index0AttributeName:Xm.index0AttributeName,extensionClipCullDistance:l1&&Xm.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(l1&&Xm.extensions.multiDraw===!0||qv)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:Xm.customProgramCacheKey()};return K0.vertexUv1s=V.has(1),K0.vertexUv2s=V.has(2),K0.vertexUv3s=V.has(3),V.clear(),K0}function dr(Xm){const Km=[];if(Xm.shaderID?Km.push(Xm.shaderID):(Km.push(Xm.customVertexShaderID),Km.push(Xm.customFragmentShaderID)),Xm.defines!==void 0)for(const tv in Xm.defines)Km.push(tv),Km.push(Xm.defines[tv]);return Xm.isRawShaderMaterial===!1&&(ec(Km,Xm),tc(Km,Xm),Km.push(t.outputColorSpace)),Km.push(Xm.customProgramCacheKey),Km.join()}function ec(Xm,Km){Xm.push(Km.precision),Xm.push(Km.outputColorSpace),Xm.push(Km.envMapMode),Xm.push(Km.envMapCubeUVHeight),Xm.push(Km.mapUv),Xm.push(Km.alphaMapUv),Xm.push(Km.lightMapUv),Xm.push(Km.aoMapUv),Xm.push(Km.bumpMapUv),Xm.push(Km.normalMapUv),Xm.push(Km.displacementMapUv),Xm.push(Km.emissiveMapUv),Xm.push(Km.metalnessMapUv),Xm.push(Km.roughnessMapUv),Xm.push(Km.anisotropyMapUv),Xm.push(Km.clearcoatMapUv),Xm.push(Km.clearcoatNormalMapUv),Xm.push(Km.clearcoatRoughnessMapUv),Xm.push(Km.iridescenceMapUv),Xm.push(Km.iridescenceThicknessMapUv),Xm.push(Km.sheenColorMapUv),Xm.push(Km.sheenRoughnessMapUv),Xm.push(Km.specularMapUv),Xm.push(Km.specularColorMapUv),Xm.push(Km.specularIntensityMapUv),Xm.push(Km.transmissionMapUv),Xm.push(Km.thicknessMapUv),Xm.push(Km.combine),Xm.push(Km.fogExp2),Xm.push(Km.sizeAttenuation),Xm.push(Km.morphTargetsCount),Xm.push(Km.morphAttributeCount),Xm.push(Km.numDirLights),Xm.push(Km.numPointLights),Xm.push(Km.numSpotLights),Xm.push(Km.numSpotLightMaps),Xm.push(Km.numHemiLights),Xm.push(Km.numRectAreaLights),Xm.push(Km.numDirLightShadows),Xm.push(Km.numPointLightShadows),Xm.push(Km.numSpotLightShadows),Xm.push(Km.numSpotLightShadowsWithMaps),Xm.push(Km.numLightProbes),Xm.push(Km.shadowMapType),Xm.push(Km.toneMapping),Xm.push(Km.numClippingPlanes),Xm.push(Km.numClipIntersection),Xm.push(Km.depthPacking)}function tc(Xm,Km){k.disableAll(),Km.supportsVertexTextures&&k.enable(0),Km.instancing&&k.enable(1),Km.instancingColor&&k.enable(2),Km.instancingMorph&&k.enable(3),Km.matcap&&k.enable(4),Km.envMap&&k.enable(5),Km.normalMapObjectSpace&&k.enable(6),Km.normalMapTangentSpace&&k.enable(7),Km.clearcoat&&k.enable(8),Km.iridescence&&k.enable(9),Km.alphaTest&&k.enable(10),Km.vertexColors&&k.enable(11),Km.vertexAlphas&&k.enable(12),Km.vertexUv1s&&k.enable(13),Km.vertexUv2s&&k.enable(14),Km.vertexUv3s&&k.enable(15),Km.vertexTangents&&k.enable(16),Km.anisotropy&&k.enable(17),Km.alphaHash&&k.enable(18),Km.batching&&k.enable(19),Km.dispersion&&k.enable(20),Km.batchingColor&&k.enable(21),Xm.push(k.mask),k.disableAll(),Km.fog&&k.enable(0),Km.useFog&&k.enable(1),Km.flatShading&&k.enable(2),Km.logarithmicDepthBuffer&&k.enable(3),Km.reverseDepthBuffer&&k.enable(4),Km.skinning&&k.enable(5),Km.morphTargets&&k.enable(6),Km.morphNormals&&k.enable(7),Km.morphColors&&k.enable(8),Km.premultipliedAlpha&&k.enable(9),Km.shadowMapEnabled&&k.enable(10),Km.doubleSided&&k.enable(11),Km.flipSided&&k.enable(12),Km.useDepthPacking&&k.enable(13),Km.dithering&&k.enable(14),Km.transmission&&k.enable(15),Km.sheen&&k.enable(16),Km.opaque&&k.enable(17),Km.pointsUvs&&k.enable(18),Km.decodeVideoTexture&&k.enable(19),Km.decodeVideoTextureEmissive&&k.enable(20),Km.alphaToCoverage&&k.enable(21),Xm.push(k.mask)}function Xs(Xm){const Km=ur[Xm.type];let tv;if(Km){const nv=ShaderLib[Km];tv=UniformsUtils.clone(nv.uniforms)}else tv=Xm.uniforms;return tv}function rc(Xm,Km){let tv;for(let nv=0,sv=z.length;nv<sv;nv++){const gv=z[nv];if(gv.cacheKey===Km){tv=gv,++tv.usedTimes;break}}return tv===void 0&&(tv=new WebGLProgram(t,Km,Xm,$),z.push(tv)),tv}function ic(Xm){if(--Xm.usedTimes===0){const Km=z.indexOf(Xm);z[Km]=z[z.length-1],z.pop(),Xm.destroy()}}function _c(Xm){L.remove(Xm)}function qm(){L.dispose()}return{getParameters:Vr,getProgramCacheKey:dr,getUniforms:Xs,acquireProgram:rc,releaseProgram:ic,releaseShaderCache:_c,programs:z,dispose:qm}}function WebGLProperties(){let t=new WeakMap;function e(y){return t.has(y)}function n(y){let k=t.get(y);return k===void 0&&(k={},t.set(y,k)),k}function r(y){t.delete(y)}function g(y,k,L){t.get(y)[k]=L}function $(){t=new WeakMap}return{has:e,get:n,remove:r,update:g,dispose:$}}function painterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function reversePainterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WebGLRenderList(){const t=[];let e=0;const n=[],r=[],g=[];function $(){e=0,n.length=0,r.length=0,g.length=0}function y(j,ie,Oe,ur,hr,Vr){let dr=t[e];return dr===void 0?(dr={id:j.id,object:j,geometry:ie,material:Oe,groupOrder:ur,renderOrder:j.renderOrder,z:hr,group:Vr},t[e]=dr):(dr.id=j.id,dr.object=j,dr.geometry=ie,dr.material=Oe,dr.groupOrder=ur,dr.renderOrder=j.renderOrder,dr.z=hr,dr.group=Vr),e++,dr}function k(j,ie,Oe,ur,hr,Vr){const dr=y(j,ie,Oe,ur,hr,Vr);Oe.transmission>0?r.push(dr):Oe.transparent===!0?g.push(dr):n.push(dr)}function L(j,ie,Oe,ur,hr,Vr){const dr=y(j,ie,Oe,ur,hr,Vr);Oe.transmission>0?r.unshift(dr):Oe.transparent===!0?g.unshift(dr):n.unshift(dr)}function V(j,ie){n.length>1&&n.sort(j||painterSortStable),r.length>1&&r.sort(ie||reversePainterSortStable),g.length>1&&g.sort(ie||reversePainterSortStable)}function z(){for(let j=e,ie=t.length;j<ie;j++){const Oe=t[j];if(Oe.id===null)break;Oe.id=null,Oe.object=null,Oe.geometry=null,Oe.material=null,Oe.group=null}}return{opaque:n,transmissive:r,transparent:g,init:$,push:k,unshift:L,finish:z,sort:V}}function WebGLRenderLists(){let t=new WeakMap;function e(r,g){const $=t.get(r);let y;return $===void 0?(y=new WebGLRenderList,t.set(r,[y])):g>=$.length?(y=new WebGLRenderList,$.push(y)):y=$[g],y}function n(){t=new WeakMap}return{get:e,dispose:n}}function UniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Vector3,color:new Color$1};break;case"SpotLight":n={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":n={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return t[e.id]=n,n}}}function ShadowUniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function WebGLLights(t){const e=new UniformsCache,n=ShadowUniformsCache(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let V=0;V<9;V++)r.probe.push(new Vector3);const g=new Vector3,$=new Matrix4,y=new Matrix4;function k(V){let z=0,j=0,ie=0;for(let Xm=0;Xm<9;Xm++)r.probe[Xm].set(0,0,0);let Oe=0,ur=0,hr=0,Vr=0,dr=0,ec=0,tc=0,Xs=0,rc=0,ic=0,_c=0;V.sort(shadowCastingAndTexturingLightsFirst);for(let Xm=0,Km=V.length;Xm<Km;Xm++){const tv=V[Xm],nv=tv.color,sv=tv.intensity,gv=tv.distance,Sv=tv.shadow&&tv.shadow.map?tv.shadow.map.texture:null;if(tv.isAmbientLight)z+=nv.r*sv,j+=nv.g*sv,ie+=nv.b*sv;else if(tv.isLightProbe){for(let wv=0;wv<9;wv++)r.probe[wv].addScaledVector(tv.sh.coefficients[wv],sv);_c++}else if(tv.isDirectionalLight){const wv=e.get(tv);if(wv.color.copy(tv.color).multiplyScalar(tv.intensity),tv.castShadow){const rv=tv.shadow,Jm=n.get(tv);Jm.shadowIntensity=rv.intensity,Jm.shadowBias=rv.bias,Jm.shadowNormalBias=rv.normalBias,Jm.shadowRadius=rv.radius,Jm.shadowMapSize=rv.mapSize,r.directionalShadow[Oe]=Jm,r.directionalShadowMap[Oe]=Sv,r.directionalShadowMatrix[Oe]=tv.shadow.matrix,ec++}r.directional[Oe]=wv,Oe++}else if(tv.isSpotLight){const wv=e.get(tv);wv.position.setFromMatrixPosition(tv.matrixWorld),wv.color.copy(nv).multiplyScalar(sv),wv.distance=gv,wv.coneCos=Math.cos(tv.angle),wv.penumbraCos=Math.cos(tv.angle*(1-tv.penumbra)),wv.decay=tv.decay,r.spot[hr]=wv;const rv=tv.shadow;if(tv.map&&(r.spotLightMap[rc]=tv.map,rc++,rv.updateMatrices(tv),tv.castShadow&&ic++),r.spotLightMatrix[hr]=rv.matrix,tv.castShadow){const Jm=n.get(tv);Jm.shadowIntensity=rv.intensity,Jm.shadowBias=rv.bias,Jm.shadowNormalBias=rv.normalBias,Jm.shadowRadius=rv.radius,Jm.shadowMapSize=rv.mapSize,r.spotShadow[hr]=Jm,r.spotShadowMap[hr]=Sv,Xs++}hr++}else if(tv.isRectAreaLight){const wv=e.get(tv);wv.color.copy(nv).multiplyScalar(sv),wv.halfWidth.set(tv.width*.5,0,0),wv.halfHeight.set(0,tv.height*.5,0),r.rectArea[Vr]=wv,Vr++}else if(tv.isPointLight){const wv=e.get(tv);if(wv.color.copy(tv.color).multiplyScalar(tv.intensity),wv.distance=tv.distance,wv.decay=tv.decay,tv.castShadow){const rv=tv.shadow,Jm=n.get(tv);Jm.shadowIntensity=rv.intensity,Jm.shadowBias=rv.bias,Jm.shadowNormalBias=rv.normalBias,Jm.shadowRadius=rv.radius,Jm.shadowMapSize=rv.mapSize,Jm.shadowCameraNear=rv.camera.near,Jm.shadowCameraFar=rv.camera.far,r.pointShadow[ur]=Jm,r.pointShadowMap[ur]=Sv,r.pointShadowMatrix[ur]=tv.shadow.matrix,tc++}r.point[ur]=wv,ur++}else if(tv.isHemisphereLight){const wv=e.get(tv);wv.skyColor.copy(tv.color).multiplyScalar(sv),wv.groundColor.copy(tv.groundColor).multiplyScalar(sv),r.hemi[dr]=wv,dr++}}Vr>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,r.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(r.rectAreaLTC1=UniformsLib.LTC_HALF_1,r.rectAreaLTC2=UniformsLib.LTC_HALF_2)),r.ambient[0]=z,r.ambient[1]=j,r.ambient[2]=ie;const qm=r.hash;(qm.directionalLength!==Oe||qm.pointLength!==ur||qm.spotLength!==hr||qm.rectAreaLength!==Vr||qm.hemiLength!==dr||qm.numDirectionalShadows!==ec||qm.numPointShadows!==tc||qm.numSpotShadows!==Xs||qm.numSpotMaps!==rc||qm.numLightProbes!==_c)&&(r.directional.length=Oe,r.spot.length=hr,r.rectArea.length=Vr,r.point.length=ur,r.hemi.length=dr,r.directionalShadow.length=ec,r.directionalShadowMap.length=ec,r.pointShadow.length=tc,r.pointShadowMap.length=tc,r.spotShadow.length=Xs,r.spotShadowMap.length=Xs,r.directionalShadowMatrix.length=ec,r.pointShadowMatrix.length=tc,r.spotLightMatrix.length=Xs+rc-ic,r.spotLightMap.length=rc,r.numSpotLightShadowsWithMaps=ic,r.numLightProbes=_c,qm.directionalLength=Oe,qm.pointLength=ur,qm.spotLength=hr,qm.rectAreaLength=Vr,qm.hemiLength=dr,qm.numDirectionalShadows=ec,qm.numPointShadows=tc,qm.numSpotShadows=Xs,qm.numSpotMaps=rc,qm.numLightProbes=_c,r.version=nextVersion++)}function L(V,z){let j=0,ie=0,Oe=0,ur=0,hr=0;const Vr=z.matrixWorldInverse;for(let dr=0,ec=V.length;dr<ec;dr++){const tc=V[dr];if(tc.isDirectionalLight){const Xs=r.directional[j];Xs.direction.setFromMatrixPosition(tc.matrixWorld),g.setFromMatrixPosition(tc.target.matrixWorld),Xs.direction.sub(g),Xs.direction.transformDirection(Vr),j++}else if(tc.isSpotLight){const Xs=r.spot[Oe];Xs.position.setFromMatrixPosition(tc.matrixWorld),Xs.position.applyMatrix4(Vr),Xs.direction.setFromMatrixPosition(tc.matrixWorld),g.setFromMatrixPosition(tc.target.matrixWorld),Xs.direction.sub(g),Xs.direction.transformDirection(Vr),Oe++}else if(tc.isRectAreaLight){const Xs=r.rectArea[ur];Xs.position.setFromMatrixPosition(tc.matrixWorld),Xs.position.applyMatrix4(Vr),y.identity(),$.copy(tc.matrixWorld),$.premultiply(Vr),y.extractRotation($),Xs.halfWidth.set(tc.width*.5,0,0),Xs.halfHeight.set(0,tc.height*.5,0),Xs.halfWidth.applyMatrix4(y),Xs.halfHeight.applyMatrix4(y),ur++}else if(tc.isPointLight){const Xs=r.point[ie];Xs.position.setFromMatrixPosition(tc.matrixWorld),Xs.position.applyMatrix4(Vr),ie++}else if(tc.isHemisphereLight){const Xs=r.hemi[hr];Xs.direction.setFromMatrixPosition(tc.matrixWorld),Xs.direction.transformDirection(Vr),hr++}}}return{setup:k,setupView:L,state:r}}function WebGLRenderState(t){const e=new WebGLLights(t),n=[],r=[];function g(z){V.camera=z,n.length=0,r.length=0}function $(z){n.push(z)}function y(z){r.push(z)}function k(){e.setup(n)}function L(z){e.setupView(n,z)}const V={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:g,state:V,setupLights:k,setupLightsView:L,pushLight:$,pushShadow:y}}function WebGLRenderStates(t){let e=new WeakMap;function n(g,$=0){const y=e.get(g);let k;return y===void 0?(k=new WebGLRenderState(t),e.set(g,[k])):$>=y.length?(k=new WebGLRenderState(t),y.push(k)):k=y[$],k}function r(){e=new WeakMap}return{get:n,dispose:r}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(t,e,n){let r=new Frustum;const g=new Vector2,$=new Vector2,y=new Vector4,k=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),L=new MeshDistanceMaterial,V={},z=n.maxTextureSize,j={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ie=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),Oe=ie.clone();Oe.defines.HORIZONTAL_PASS=1;const ur=new BufferGeometry;ur.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const hr=new Mesh(ur,ie),Vr=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let dr=this.type;this.render=function(ic,_c,qm){if(Vr.enabled===!1||Vr.autoUpdate===!1&&Vr.needsUpdate===!1||ic.length===0)return;const Xm=t.getRenderTarget(),Km=t.getActiveCubeFace(),tv=t.getActiveMipmapLevel(),nv=t.state;nv.setBlending(NoBlending),nv.buffers.color.setClear(1,1,1,1),nv.buffers.depth.setTest(!0),nv.setScissorTest(!1);const sv=dr!==VSMShadowMap&&this.type===VSMShadowMap,gv=dr===VSMShadowMap&&this.type!==VSMShadowMap;for(let Sv=0,wv=ic.length;Sv<wv;Sv++){const rv=ic[Sv],Jm=rv.shadow;if(Jm===void 0){console.warn("THREE.WebGLShadowMap:",rv,"has no shadow.");continue}if(Jm.autoUpdate===!1&&Jm.needsUpdate===!1)continue;g.copy(Jm.mapSize);const dv=Jm.getFrameExtents();if(g.multiply(dv),$.copy(Jm.mapSize),(g.x>z||g.y>z)&&(g.x>z&&($.x=Math.floor(z/dv.x),g.x=$.x*dv.x,Jm.mapSize.x=$.x),g.y>z&&($.y=Math.floor(z/dv.y),g.y=$.y*dv.y,Jm.mapSize.y=$.y)),Jm.map===null||sv===!0||gv===!0){const mv=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Jm.map!==null&&Jm.map.dispose(),Jm.map=new WebGLRenderTarget(g.x,g.y,mv),Jm.map.texture.name=rv.name+".shadowMap",Jm.camera.updateProjectionMatrix()}t.setRenderTarget(Jm.map),t.clear();const pv=Jm.getViewportCount();for(let mv=0;mv<pv;mv++){const Cv=Jm.getViewport(mv);y.set($.x*Cv.x,$.y*Cv.y,$.x*Cv.z,$.y*Cv.w),nv.viewport(y),Jm.updateMatrices(rv,mv),r=Jm.getFrustum(),Xs(_c,qm,Jm.camera,rv,this.type)}Jm.isPointLightShadow!==!0&&this.type===VSMShadowMap&&ec(Jm,qm),Jm.needsUpdate=!1}dr=this.type,Vr.needsUpdate=!1,t.setRenderTarget(Xm,Km,tv)};function ec(ic,_c){const qm=e.update(hr);ie.defines.VSM_SAMPLES!==ic.blurSamples&&(ie.defines.VSM_SAMPLES=ic.blurSamples,Oe.defines.VSM_SAMPLES=ic.blurSamples,ie.needsUpdate=!0,Oe.needsUpdate=!0),ic.mapPass===null&&(ic.mapPass=new WebGLRenderTarget(g.x,g.y)),ie.uniforms.shadow_pass.value=ic.map.texture,ie.uniforms.resolution.value=ic.mapSize,ie.uniforms.radius.value=ic.radius,t.setRenderTarget(ic.mapPass),t.clear(),t.renderBufferDirect(_c,null,qm,ie,hr,null),Oe.uniforms.shadow_pass.value=ic.mapPass.texture,Oe.uniforms.resolution.value=ic.mapSize,Oe.uniforms.radius.value=ic.radius,t.setRenderTarget(ic.map),t.clear(),t.renderBufferDirect(_c,null,qm,Oe,hr,null)}function tc(ic,_c,qm,Xm){let Km=null;const tv=qm.isPointLight===!0?ic.customDistanceMaterial:ic.customDepthMaterial;if(tv!==void 0)Km=tv;else if(Km=qm.isPointLight===!0?L:k,t.localClippingEnabled&&_c.clipShadows===!0&&Array.isArray(_c.clippingPlanes)&&_c.clippingPlanes.length!==0||_c.displacementMap&&_c.displacementScale!==0||_c.alphaMap&&_c.alphaTest>0||_c.map&&_c.alphaTest>0){const nv=Km.uuid,sv=_c.uuid;let gv=V[nv];gv===void 0&&(gv={},V[nv]=gv);let Sv=gv[sv];Sv===void 0&&(Sv=Km.clone(),gv[sv]=Sv,_c.addEventListener("dispose",rc)),Km=Sv}if(Km.visible=_c.visible,Km.wireframe=_c.wireframe,Xm===VSMShadowMap?Km.side=_c.shadowSide!==null?_c.shadowSide:_c.side:Km.side=_c.shadowSide!==null?_c.shadowSide:j[_c.side],Km.alphaMap=_c.alphaMap,Km.alphaTest=_c.alphaTest,Km.map=_c.map,Km.clipShadows=_c.clipShadows,Km.clippingPlanes=_c.clippingPlanes,Km.clipIntersection=_c.clipIntersection,Km.displacementMap=_c.displacementMap,Km.displacementScale=_c.displacementScale,Km.displacementBias=_c.displacementBias,Km.wireframeLinewidth=_c.wireframeLinewidth,Km.linewidth=_c.linewidth,qm.isPointLight===!0&&Km.isMeshDistanceMaterial===!0){const nv=t.properties.get(Km);nv.light=qm}return Km}function Xs(ic,_c,qm,Xm,Km){if(ic.visible===!1)return;if(ic.layers.test(_c.layers)&&(ic.isMesh||ic.isLine||ic.isPoints)&&(ic.castShadow||ic.receiveShadow&&Km===VSMShadowMap)&&(!ic.frustumCulled||r.intersectsObject(ic))){ic.modelViewMatrix.multiplyMatrices(qm.matrixWorldInverse,ic.matrixWorld);const sv=e.update(ic),gv=ic.material;if(Array.isArray(gv)){const Sv=sv.groups;for(let wv=0,rv=Sv.length;wv<rv;wv++){const Jm=Sv[wv],dv=gv[Jm.materialIndex];if(dv&&dv.visible){const pv=tc(ic,dv,Xm,Km);ic.onBeforeShadow(t,ic,_c,qm,sv,pv,Jm),t.renderBufferDirect(qm,null,sv,pv,ic,Jm),ic.onAfterShadow(t,ic,_c,qm,sv,pv,Jm)}}}else if(gv.visible){const Sv=tc(ic,gv,Xm,Km);ic.onBeforeShadow(t,ic,_c,qm,sv,Sv,null),t.renderBufferDirect(qm,null,sv,Sv,ic,null),ic.onAfterShadow(t,ic,_c,qm,sv,Sv,null)}}const nv=ic.children;for(let sv=0,gv=nv.length;sv<gv;sv++)Xs(nv[sv],_c,qm,Xm,Km)}function rc(ic){ic.target.removeEventListener("dispose",rc);for(const qm in V){const Xm=V[qm],Km=ic.target.uuid;Km in Xm&&(Xm[Km].dispose(),delete Xm[Km])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(t,e){function n(){let Rv=!1;const k0=new Vector4;let Ov=null;const Kv=new Vector4(0,0,0,0);return{setMask:function(E0){Ov!==E0&&!Rv&&(t.colorMask(E0,E0,E0,E0),Ov=E0)},setLocked:function(E0){Rv=E0},setClear:function(E0,X0,l1,x1,K0){K0===!0&&(E0*=x1,X0*=x1,l1*=x1),k0.set(E0,X0,l1,x1),Kv.equals(k0)===!1&&(t.clearColor(E0,X0,l1,x1),Kv.copy(k0))},reset:function(){Rv=!1,Ov=null,Kv.set(-1,0,0,0)}}}function r(){let Rv=!1,k0=!1,Ov=null,Kv=null,E0=null;return{setReversed:function(X0){if(k0!==X0){const l1=e.get("EXT_clip_control");k0?l1.clipControlEXT(l1.LOWER_LEFT_EXT,l1.ZERO_TO_ONE_EXT):l1.clipControlEXT(l1.LOWER_LEFT_EXT,l1.NEGATIVE_ONE_TO_ONE_EXT);const x1=E0;E0=null,this.setClear(x1)}k0=X0},getReversed:function(){return k0},setTest:function(X0){X0?Hv(t.DEPTH_TEST):Gv(t.DEPTH_TEST)},setMask:function(X0){Ov!==X0&&!Rv&&(t.depthMask(X0),Ov=X0)},setFunc:function(X0){if(k0&&(X0=reversedFuncs[X0]),Kv!==X0){switch(X0){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Kv=X0}},setLocked:function(X0){Rv=X0},setClear:function(X0){E0!==X0&&(k0&&(X0=1-X0),t.clearDepth(X0),E0=X0)},reset:function(){Rv=!1,Ov=null,Kv=null,E0=null,k0=!1}}}function g(){let Rv=!1,k0=null,Ov=null,Kv=null,E0=null,X0=null,l1=null,x1=null,K0=null;return{setTest:function(J0){Rv||(J0?Hv(t.STENCIL_TEST):Gv(t.STENCIL_TEST))},setMask:function(J0){k0!==J0&&!Rv&&(t.stencilMask(J0),k0=J0)},setFunc:function(J0,y1,vy){(Ov!==J0||Kv!==y1||E0!==vy)&&(t.stencilFunc(J0,y1,vy),Ov=J0,Kv=y1,E0=vy)},setOp:function(J0,y1,vy){(X0!==J0||l1!==y1||x1!==vy)&&(t.stencilOp(J0,y1,vy),X0=J0,l1=y1,x1=vy)},setLocked:function(J0){Rv=J0},setClear:function(J0){K0!==J0&&(t.clearStencil(J0),K0=J0)},reset:function(){Rv=!1,k0=null,Ov=null,Kv=null,E0=null,X0=null,l1=null,x1=null,K0=null}}}const $=new n,y=new r,k=new g,L=new WeakMap,V=new WeakMap;let z={},j={},ie=new WeakMap,Oe=[],ur=null,hr=!1,Vr=null,dr=null,ec=null,tc=null,Xs=null,rc=null,ic=null,_c=new Color$1(0,0,0),qm=0,Xm=!1,Km=null,tv=null,nv=null,sv=null,gv=null;const Sv=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let wv=!1,rv=0;const Jm=t.getParameter(t.VERSION);Jm.indexOf("WebGL")!==-1?(rv=parseFloat(/^WebGL (\d)/.exec(Jm)[1]),wv=rv>=1):Jm.indexOf("OpenGL ES")!==-1&&(rv=parseFloat(/^OpenGL ES (\d)/.exec(Jm)[1]),wv=rv>=2);let dv=null,pv={};const mv=t.getParameter(t.SCISSOR_BOX),Cv=t.getParameter(t.VIEWPORT),uv=new Vector4().fromArray(mv),yv=new Vector4().fromArray(Cv);function $v(Rv,k0,Ov,Kv){const E0=new Uint8Array(4),X0=t.createTexture();t.bindTexture(Rv,X0),t.texParameteri(Rv,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Rv,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let l1=0;l1<Ov;l1++)Rv===t.TEXTURE_3D||Rv===t.TEXTURE_2D_ARRAY?t.texImage3D(k0,0,t.RGBA,1,1,Kv,0,t.RGBA,t.UNSIGNED_BYTE,E0):t.texImage2D(k0+l1,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,E0);return X0}const Dv={};Dv[t.TEXTURE_2D]=$v(t.TEXTURE_2D,t.TEXTURE_2D,1),Dv[t.TEXTURE_CUBE_MAP]=$v(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Dv[t.TEXTURE_2D_ARRAY]=$v(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Dv[t.TEXTURE_3D]=$v(t.TEXTURE_3D,t.TEXTURE_3D,1,1),$.setClear(0,0,0,1),y.setClear(1),k.setClear(0),Hv(t.DEPTH_TEST),y.setFunc(LessEqualDepth),av(!1),fv(CullFaceBack),Hv(t.CULL_FACE),Av(NoBlending);function Hv(Rv){z[Rv]!==!0&&(t.enable(Rv),z[Rv]=!0)}function Gv(Rv){z[Rv]!==!1&&(t.disable(Rv),z[Rv]=!1)}function f0(Rv,k0){return j[Rv]!==k0?(t.bindFramebuffer(Rv,k0),j[Rv]=k0,Rv===t.DRAW_FRAMEBUFFER&&(j[t.FRAMEBUFFER]=k0),Rv===t.FRAMEBUFFER&&(j[t.DRAW_FRAMEBUFFER]=k0),!0):!1}function qv(Rv,k0){let Ov=Oe,Kv=!1;if(Rv){Ov=ie.get(k0),Ov===void 0&&(Ov=[],ie.set(k0,Ov));const E0=Rv.textures;if(Ov.length!==E0.length||Ov[0]!==t.COLOR_ATTACHMENT0){for(let X0=0,l1=E0.length;X0<l1;X0++)Ov[X0]=t.COLOR_ATTACHMENT0+X0;Ov.length=E0.length,Kv=!0}}else Ov[0]!==t.BACK&&(Ov[0]=t.BACK,Kv=!0);Kv&&t.drawBuffers(Ov)}function Pv(Rv){return ur!==Rv?(t.useProgram(Rv),ur=Rv,!0):!1}const Tv={[AddEquation]:t.FUNC_ADD,[SubtractEquation]:t.FUNC_SUBTRACT,[ReverseSubtractEquation]:t.FUNC_REVERSE_SUBTRACT};Tv[MinEquation]=t.MIN,Tv[MaxEquation]=t.MAX;const Vv={[ZeroFactor]:t.ZERO,[OneFactor]:t.ONE,[SrcColorFactor]:t.SRC_COLOR,[SrcAlphaFactor]:t.SRC_ALPHA,[SrcAlphaSaturateFactor]:t.SRC_ALPHA_SATURATE,[DstColorFactor]:t.DST_COLOR,[DstAlphaFactor]:t.DST_ALPHA,[OneMinusSrcColorFactor]:t.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:t.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:t.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:t.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:t.CONSTANT_COLOR,[OneMinusConstantColorFactor]:t.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:t.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:t.ONE_MINUS_CONSTANT_ALPHA};function Av(Rv,k0,Ov,Kv,E0,X0,l1,x1,K0,J0){if(Rv===NoBlending){hr===!0&&(Gv(t.BLEND),hr=!1);return}if(hr===!1&&(Hv(t.BLEND),hr=!0),Rv!==CustomBlending){if(Rv!==Vr||J0!==Xm){if((dr!==AddEquation||Xs!==AddEquation)&&(t.blendEquation(t.FUNC_ADD),dr=AddEquation,Xs=AddEquation),J0)switch(Rv){case NormalBlending:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.ONE,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Rv);break}else switch(Rv){case NormalBlending:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Rv);break}ec=null,tc=null,rc=null,ic=null,_c.set(0,0,0),qm=0,Vr=Rv,Xm=J0}return}E0=E0||k0,X0=X0||Ov,l1=l1||Kv,(k0!==dr||E0!==Xs)&&(t.blendEquationSeparate(Tv[k0],Tv[E0]),dr=k0,Xs=E0),(Ov!==ec||Kv!==tc||X0!==rc||l1!==ic)&&(t.blendFuncSeparate(Vv[Ov],Vv[Kv],Vv[X0],Vv[l1]),ec=Ov,tc=Kv,rc=X0,ic=l1),(x1.equals(_c)===!1||K0!==qm)&&(t.blendColor(x1.r,x1.g,x1.b,K0),_c.copy(x1),qm=K0),Vr=Rv,Xm=!1}function y0(Rv,k0){Rv.side===DoubleSide?Gv(t.CULL_FACE):Hv(t.CULL_FACE);let Ov=Rv.side===BackSide;k0&&(Ov=!Ov),av(Ov),Rv.blending===NormalBlending&&Rv.transparent===!1?Av(NoBlending):Av(Rv.blending,Rv.blendEquation,Rv.blendSrc,Rv.blendDst,Rv.blendEquationAlpha,Rv.blendSrcAlpha,Rv.blendDstAlpha,Rv.blendColor,Rv.blendAlpha,Rv.premultipliedAlpha),y.setFunc(Rv.depthFunc),y.setTest(Rv.depthTest),y.setMask(Rv.depthWrite),$.setMask(Rv.colorWrite);const Kv=Rv.stencilWrite;k.setTest(Kv),Kv&&(k.setMask(Rv.stencilWriteMask),k.setFunc(Rv.stencilFunc,Rv.stencilRef,Rv.stencilFuncMask),k.setOp(Rv.stencilFail,Rv.stencilZFail,Rv.stencilZPass)),kv(Rv.polygonOffset,Rv.polygonOffsetFactor,Rv.polygonOffsetUnits),Rv.alphaToCoverage===!0?Hv(t.SAMPLE_ALPHA_TO_COVERAGE):Gv(t.SAMPLE_ALPHA_TO_COVERAGE)}function av(Rv){Km!==Rv&&(Rv?t.frontFace(t.CW):t.frontFace(t.CCW),Km=Rv)}function fv(Rv){Rv!==CullFaceNone?(Hv(t.CULL_FACE),Rv!==tv&&(Rv===CullFaceBack?t.cullFace(t.BACK):Rv===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Gv(t.CULL_FACE),tv=Rv}function lv(Rv){Rv!==nv&&(wv&&t.lineWidth(Rv),nv=Rv)}function kv(Rv,k0,Ov){Rv?(Hv(t.POLYGON_OFFSET_FILL),(sv!==k0||gv!==Ov)&&(t.polygonOffset(k0,Ov),sv=k0,gv=Ov)):Gv(t.POLYGON_OFFSET_FILL)}function Iv(Rv){Rv?Hv(t.SCISSOR_TEST):Gv(t.SCISSOR_TEST)}function vv(Rv){Rv===void 0&&(Rv=t.TEXTURE0+Sv-1),dv!==Rv&&(t.activeTexture(Rv),dv=Rv)}function Ev(Rv,k0,Ov){Ov===void 0&&(dv===null?Ov=t.TEXTURE0+Sv-1:Ov=dv);let Kv=pv[Ov];Kv===void 0&&(Kv={type:void 0,texture:void 0},pv[Ov]=Kv),(Kv.type!==Rv||Kv.texture!==k0)&&(dv!==Ov&&(t.activeTexture(Ov),dv=Ov),t.bindTexture(Rv,k0||Dv[Rv]),Kv.type=Rv,Kv.texture=k0)}function zv(){const Rv=pv[dv];Rv!==void 0&&Rv.type!==void 0&&(t.bindTexture(Rv.type,null),Rv.type=void 0,Rv.texture=void 0)}function Fv(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function Yv(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function g0(){try{t.texSubImage2D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function Qv(){try{t.texSubImage3D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function N0(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function B0(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function a1(){try{t.texStorage2D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function I0(){try{t.texStorage3D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function M0(){try{t.texImage2D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function D0(){try{t.texImage3D.apply(t,arguments)}catch(Rv){console.error("THREE.WebGLState:",Rv)}}function W0(Rv){uv.equals(Rv)===!1&&(t.scissor(Rv.x,Rv.y,Rv.z,Rv.w),uv.copy(Rv))}function Zv(Rv){yv.equals(Rv)===!1&&(t.viewport(Rv.x,Rv.y,Rv.z,Rv.w),yv.copy(Rv))}function z0(Rv,k0){let Ov=V.get(k0);Ov===void 0&&(Ov=new WeakMap,V.set(k0,Ov));let Kv=Ov.get(Rv);Kv===void 0&&(Kv=t.getUniformBlockIndex(k0,Rv.name),Ov.set(Rv,Kv))}function _0(Rv,k0){const Kv=V.get(k0).get(Rv);L.get(k0)!==Kv&&(t.uniformBlockBinding(k0,Kv,Rv.__bindingPointIndex),L.set(k0,Kv))}function q0(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),y.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),z={},dv=null,pv={},j={},ie=new WeakMap,Oe=[],ur=null,hr=!1,Vr=null,dr=null,ec=null,tc=null,Xs=null,rc=null,ic=null,_c=new Color$1(0,0,0),qm=0,Xm=!1,Km=null,tv=null,nv=null,sv=null,gv=null,uv.set(0,0,t.canvas.width,t.canvas.height),yv.set(0,0,t.canvas.width,t.canvas.height),$.reset(),y.reset(),k.reset()}return{buffers:{color:$,depth:y,stencil:k},enable:Hv,disable:Gv,bindFramebuffer:f0,drawBuffers:qv,useProgram:Pv,setBlending:Av,setMaterial:y0,setFlipSided:av,setCullFace:fv,setLineWidth:lv,setPolygonOffset:kv,setScissorTest:Iv,activeTexture:vv,bindTexture:Ev,unbindTexture:zv,compressedTexImage2D:Fv,compressedTexImage3D:Yv,texImage2D:M0,texImage3D:D0,updateUBOMapping:z0,uniformBlockBinding:_0,texStorage2D:a1,texStorage3D:I0,texSubImage2D:g0,texSubImage3D:Qv,compressedTexSubImage2D:N0,compressedTexSubImage3D:B0,scissor:W0,viewport:Zv,reset:q0}}function WebGLTextures(t,e,n,r,g,$,y){const k=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,L=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),V=new Vector2,z=new WeakMap;let j;const ie=new WeakMap;let Oe=!1;try{Oe=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ur(vv,Ev){return Oe?new OffscreenCanvas(vv,Ev):createElementNS("canvas")}function hr(vv,Ev,zv){let Fv=1;const Yv=Iv(vv);if((Yv.width>zv||Yv.height>zv)&&(Fv=zv/Math.max(Yv.width,Yv.height)),Fv<1)if(typeof HTMLImageElement<"u"&&vv instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&vv instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&vv instanceof ImageBitmap||typeof VideoFrame<"u"&&vv instanceof VideoFrame){const g0=Math.floor(Fv*Yv.width),Qv=Math.floor(Fv*Yv.height);j===void 0&&(j=ur(g0,Qv));const N0=Ev?ur(g0,Qv):j;return N0.width=g0,N0.height=Qv,N0.getContext("2d").drawImage(vv,0,0,g0,Qv),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Yv.width+"x"+Yv.height+") to ("+g0+"x"+Qv+")."),N0}else return"data"in vv&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Yv.width+"x"+Yv.height+")."),vv;return vv}function Vr(vv){return vv.generateMipmaps}function dr(vv){t.generateMipmap(vv)}function ec(vv){return vv.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:vv.isWebGL3DRenderTarget?t.TEXTURE_3D:vv.isWebGLArrayRenderTarget||vv.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function tc(vv,Ev,zv,Fv,Yv=!1){if(vv!==null){if(t[vv]!==void 0)return t[vv];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+vv+"'")}let g0=Ev;if(Ev===t.RED&&(zv===t.FLOAT&&(g0=t.R32F),zv===t.HALF_FLOAT&&(g0=t.R16F),zv===t.UNSIGNED_BYTE&&(g0=t.R8)),Ev===t.RED_INTEGER&&(zv===t.UNSIGNED_BYTE&&(g0=t.R8UI),zv===t.UNSIGNED_SHORT&&(g0=t.R16UI),zv===t.UNSIGNED_INT&&(g0=t.R32UI),zv===t.BYTE&&(g0=t.R8I),zv===t.SHORT&&(g0=t.R16I),zv===t.INT&&(g0=t.R32I)),Ev===t.RG&&(zv===t.FLOAT&&(g0=t.RG32F),zv===t.HALF_FLOAT&&(g0=t.RG16F),zv===t.UNSIGNED_BYTE&&(g0=t.RG8)),Ev===t.RG_INTEGER&&(zv===t.UNSIGNED_BYTE&&(g0=t.RG8UI),zv===t.UNSIGNED_SHORT&&(g0=t.RG16UI),zv===t.UNSIGNED_INT&&(g0=t.RG32UI),zv===t.BYTE&&(g0=t.RG8I),zv===t.SHORT&&(g0=t.RG16I),zv===t.INT&&(g0=t.RG32I)),Ev===t.RGB_INTEGER&&(zv===t.UNSIGNED_BYTE&&(g0=t.RGB8UI),zv===t.UNSIGNED_SHORT&&(g0=t.RGB16UI),zv===t.UNSIGNED_INT&&(g0=t.RGB32UI),zv===t.BYTE&&(g0=t.RGB8I),zv===t.SHORT&&(g0=t.RGB16I),zv===t.INT&&(g0=t.RGB32I)),Ev===t.RGBA_INTEGER&&(zv===t.UNSIGNED_BYTE&&(g0=t.RGBA8UI),zv===t.UNSIGNED_SHORT&&(g0=t.RGBA16UI),zv===t.UNSIGNED_INT&&(g0=t.RGBA32UI),zv===t.BYTE&&(g0=t.RGBA8I),zv===t.SHORT&&(g0=t.RGBA16I),zv===t.INT&&(g0=t.RGBA32I)),Ev===t.RGB&&zv===t.UNSIGNED_INT_5_9_9_9_REV&&(g0=t.RGB9_E5),Ev===t.RGBA){const Qv=Yv?LinearTransfer:ColorManagement.getTransfer(Fv);zv===t.FLOAT&&(g0=t.RGBA32F),zv===t.HALF_FLOAT&&(g0=t.RGBA16F),zv===t.UNSIGNED_BYTE&&(g0=Qv===SRGBTransfer?t.SRGB8_ALPHA8:t.RGBA8),zv===t.UNSIGNED_SHORT_4_4_4_4&&(g0=t.RGBA4),zv===t.UNSIGNED_SHORT_5_5_5_1&&(g0=t.RGB5_A1)}return(g0===t.R16F||g0===t.R32F||g0===t.RG16F||g0===t.RG32F||g0===t.RGBA16F||g0===t.RGBA32F)&&e.get("EXT_color_buffer_float"),g0}function Xs(vv,Ev){let zv;return vv?Ev===null||Ev===UnsignedIntType||Ev===UnsignedInt248Type?zv=t.DEPTH24_STENCIL8:Ev===FloatType?zv=t.DEPTH32F_STENCIL8:Ev===UnsignedShortType&&(zv=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Ev===null||Ev===UnsignedIntType||Ev===UnsignedInt248Type?zv=t.DEPTH_COMPONENT24:Ev===FloatType?zv=t.DEPTH_COMPONENT32F:Ev===UnsignedShortType&&(zv=t.DEPTH_COMPONENT16),zv}function rc(vv,Ev){return Vr(vv)===!0||vv.isFramebufferTexture&&vv.minFilter!==NearestFilter&&vv.minFilter!==LinearFilter?Math.log2(Math.max(Ev.width,Ev.height))+1:vv.mipmaps!==void 0&&vv.mipmaps.length>0?vv.mipmaps.length:vv.isCompressedTexture&&Array.isArray(vv.image)?Ev.mipmaps.length:1}function ic(vv){const Ev=vv.target;Ev.removeEventListener("dispose",ic),qm(Ev),Ev.isVideoTexture&&z.delete(Ev)}function _c(vv){const Ev=vv.target;Ev.removeEventListener("dispose",_c),Km(Ev)}function qm(vv){const Ev=r.get(vv);if(Ev.__webglInit===void 0)return;const zv=vv.source,Fv=ie.get(zv);if(Fv){const Yv=Fv[Ev.__cacheKey];Yv.usedTimes--,Yv.usedTimes===0&&Xm(vv),Object.keys(Fv).length===0&&ie.delete(zv)}r.remove(vv)}function Xm(vv){const Ev=r.get(vv);t.deleteTexture(Ev.__webglTexture);const zv=vv.source,Fv=ie.get(zv);delete Fv[Ev.__cacheKey],y.memory.textures--}function Km(vv){const Ev=r.get(vv);if(vv.depthTexture&&(vv.depthTexture.dispose(),r.remove(vv.depthTexture)),vv.isWebGLCubeRenderTarget)for(let Fv=0;Fv<6;Fv++){if(Array.isArray(Ev.__webglFramebuffer[Fv]))for(let Yv=0;Yv<Ev.__webglFramebuffer[Fv].length;Yv++)t.deleteFramebuffer(Ev.__webglFramebuffer[Fv][Yv]);else t.deleteFramebuffer(Ev.__webglFramebuffer[Fv]);Ev.__webglDepthbuffer&&t.deleteRenderbuffer(Ev.__webglDepthbuffer[Fv])}else{if(Array.isArray(Ev.__webglFramebuffer))for(let Fv=0;Fv<Ev.__webglFramebuffer.length;Fv++)t.deleteFramebuffer(Ev.__webglFramebuffer[Fv]);else t.deleteFramebuffer(Ev.__webglFramebuffer);if(Ev.__webglDepthbuffer&&t.deleteRenderbuffer(Ev.__webglDepthbuffer),Ev.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ev.__webglMultisampledFramebuffer),Ev.__webglColorRenderbuffer)for(let Fv=0;Fv<Ev.__webglColorRenderbuffer.length;Fv++)Ev.__webglColorRenderbuffer[Fv]&&t.deleteRenderbuffer(Ev.__webglColorRenderbuffer[Fv]);Ev.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ev.__webglDepthRenderbuffer)}const zv=vv.textures;for(let Fv=0,Yv=zv.length;Fv<Yv;Fv++){const g0=r.get(zv[Fv]);g0.__webglTexture&&(t.deleteTexture(g0.__webglTexture),y.memory.textures--),r.remove(zv[Fv])}r.remove(vv)}let tv=0;function nv(){tv=0}function sv(){const vv=tv;return vv>=g.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+vv+" texture units while this GPU supports only "+g.maxTextures),tv+=1,vv}function gv(vv){const Ev=[];return Ev.push(vv.wrapS),Ev.push(vv.wrapT),Ev.push(vv.wrapR||0),Ev.push(vv.magFilter),Ev.push(vv.minFilter),Ev.push(vv.anisotropy),Ev.push(vv.internalFormat),Ev.push(vv.format),Ev.push(vv.type),Ev.push(vv.generateMipmaps),Ev.push(vv.premultiplyAlpha),Ev.push(vv.flipY),Ev.push(vv.unpackAlignment),Ev.push(vv.colorSpace),Ev.join()}function Sv(vv,Ev){const zv=r.get(vv);if(vv.isVideoTexture&&lv(vv),vv.isRenderTargetTexture===!1&&vv.version>0&&zv.__version!==vv.version){const Fv=vv.image;if(Fv===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Fv.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{yv(zv,vv,Ev);return}}n.bindTexture(t.TEXTURE_2D,zv.__webglTexture,t.TEXTURE0+Ev)}function wv(vv,Ev){const zv=r.get(vv);if(vv.version>0&&zv.__version!==vv.version){yv(zv,vv,Ev);return}n.bindTexture(t.TEXTURE_2D_ARRAY,zv.__webglTexture,t.TEXTURE0+Ev)}function rv(vv,Ev){const zv=r.get(vv);if(vv.version>0&&zv.__version!==vv.version){yv(zv,vv,Ev);return}n.bindTexture(t.TEXTURE_3D,zv.__webglTexture,t.TEXTURE0+Ev)}function Jm(vv,Ev){const zv=r.get(vv);if(vv.version>0&&zv.__version!==vv.version){$v(zv,vv,Ev);return}n.bindTexture(t.TEXTURE_CUBE_MAP,zv.__webglTexture,t.TEXTURE0+Ev)}const dv={[RepeatWrapping]:t.REPEAT,[ClampToEdgeWrapping]:t.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:t.MIRRORED_REPEAT},pv={[NearestFilter]:t.NEAREST,[NearestMipmapNearestFilter]:t.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:t.NEAREST_MIPMAP_LINEAR,[LinearFilter]:t.LINEAR,[LinearMipmapNearestFilter]:t.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:t.LINEAR_MIPMAP_LINEAR},mv={[NeverCompare]:t.NEVER,[AlwaysCompare]:t.ALWAYS,[LessCompare]:t.LESS,[LessEqualCompare]:t.LEQUAL,[EqualCompare]:t.EQUAL,[GreaterEqualCompare]:t.GEQUAL,[GreaterCompare]:t.GREATER,[NotEqualCompare]:t.NOTEQUAL};function Cv(vv,Ev){if(Ev.type===FloatType&&e.has("OES_texture_float_linear")===!1&&(Ev.magFilter===LinearFilter||Ev.magFilter===LinearMipmapNearestFilter||Ev.magFilter===NearestMipmapLinearFilter||Ev.magFilter===LinearMipmapLinearFilter||Ev.minFilter===LinearFilter||Ev.minFilter===LinearMipmapNearestFilter||Ev.minFilter===NearestMipmapLinearFilter||Ev.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(vv,t.TEXTURE_WRAP_S,dv[Ev.wrapS]),t.texParameteri(vv,t.TEXTURE_WRAP_T,dv[Ev.wrapT]),(vv===t.TEXTURE_3D||vv===t.TEXTURE_2D_ARRAY)&&t.texParameteri(vv,t.TEXTURE_WRAP_R,dv[Ev.wrapR]),t.texParameteri(vv,t.TEXTURE_MAG_FILTER,pv[Ev.magFilter]),t.texParameteri(vv,t.TEXTURE_MIN_FILTER,pv[Ev.minFilter]),Ev.compareFunction&&(t.texParameteri(vv,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(vv,t.TEXTURE_COMPARE_FUNC,mv[Ev.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Ev.magFilter===NearestFilter||Ev.minFilter!==NearestMipmapLinearFilter&&Ev.minFilter!==LinearMipmapLinearFilter||Ev.type===FloatType&&e.has("OES_texture_float_linear")===!1)return;if(Ev.anisotropy>1||r.get(Ev).__currentAnisotropy){const zv=e.get("EXT_texture_filter_anisotropic");t.texParameterf(vv,zv.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ev.anisotropy,g.getMaxAnisotropy())),r.get(Ev).__currentAnisotropy=Ev.anisotropy}}}function uv(vv,Ev){let zv=!1;vv.__webglInit===void 0&&(vv.__webglInit=!0,Ev.addEventListener("dispose",ic));const Fv=Ev.source;let Yv=ie.get(Fv);Yv===void 0&&(Yv={},ie.set(Fv,Yv));const g0=gv(Ev);if(g0!==vv.__cacheKey){Yv[g0]===void 0&&(Yv[g0]={texture:t.createTexture(),usedTimes:0},y.memory.textures++,zv=!0),Yv[g0].usedTimes++;const Qv=Yv[vv.__cacheKey];Qv!==void 0&&(Yv[vv.__cacheKey].usedTimes--,Qv.usedTimes===0&&Xm(Ev)),vv.__cacheKey=g0,vv.__webglTexture=Yv[g0].texture}return zv}function yv(vv,Ev,zv){let Fv=t.TEXTURE_2D;(Ev.isDataArrayTexture||Ev.isCompressedArrayTexture)&&(Fv=t.TEXTURE_2D_ARRAY),Ev.isData3DTexture&&(Fv=t.TEXTURE_3D);const Yv=uv(vv,Ev),g0=Ev.source;n.bindTexture(Fv,vv.__webglTexture,t.TEXTURE0+zv);const Qv=r.get(g0);if(g0.version!==Qv.__version||Yv===!0){n.activeTexture(t.TEXTURE0+zv);const N0=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),B0=Ev.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ev.colorSpace),a1=Ev.colorSpace===NoColorSpace||N0===B0?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Ev.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ev.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Ev.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,a1);let I0=hr(Ev.image,!1,g.maxTextureSize);I0=kv(Ev,I0);const M0=$.convert(Ev.format,Ev.colorSpace),D0=$.convert(Ev.type);let W0=tc(Ev.internalFormat,M0,D0,Ev.colorSpace,Ev.isVideoTexture);Cv(Fv,Ev);let Zv;const z0=Ev.mipmaps,_0=Ev.isVideoTexture!==!0,q0=Qv.__version===void 0||Yv===!0,Rv=g0.dataReady,k0=rc(Ev,I0);if(Ev.isDepthTexture)W0=Xs(Ev.format===DepthStencilFormat,Ev.type),q0&&(_0?n.texStorage2D(t.TEXTURE_2D,1,W0,I0.width,I0.height):n.texImage2D(t.TEXTURE_2D,0,W0,I0.width,I0.height,0,M0,D0,null));else if(Ev.isDataTexture)if(z0.length>0){_0&&q0&&n.texStorage2D(t.TEXTURE_2D,k0,W0,z0[0].width,z0[0].height);for(let Ov=0,Kv=z0.length;Ov<Kv;Ov++)Zv=z0[Ov],_0?Rv&&n.texSubImage2D(t.TEXTURE_2D,Ov,0,0,Zv.width,Zv.height,M0,D0,Zv.data):n.texImage2D(t.TEXTURE_2D,Ov,W0,Zv.width,Zv.height,0,M0,D0,Zv.data);Ev.generateMipmaps=!1}else _0?(q0&&n.texStorage2D(t.TEXTURE_2D,k0,W0,I0.width,I0.height),Rv&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,I0.width,I0.height,M0,D0,I0.data)):n.texImage2D(t.TEXTURE_2D,0,W0,I0.width,I0.height,0,M0,D0,I0.data);else if(Ev.isCompressedTexture)if(Ev.isCompressedArrayTexture){_0&&q0&&n.texStorage3D(t.TEXTURE_2D_ARRAY,k0,W0,z0[0].width,z0[0].height,I0.depth);for(let Ov=0,Kv=z0.length;Ov<Kv;Ov++)if(Zv=z0[Ov],Ev.format!==RGBAFormat)if(M0!==null)if(_0){if(Rv)if(Ev.layerUpdates.size>0){const E0=getByteLength(Zv.width,Zv.height,Ev.format,Ev.type);for(const X0 of Ev.layerUpdates){const l1=Zv.data.subarray(X0*E0/Zv.data.BYTES_PER_ELEMENT,(X0+1)*E0/Zv.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ov,0,0,X0,Zv.width,Zv.height,1,M0,l1)}Ev.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ov,0,0,0,Zv.width,Zv.height,I0.depth,M0,Zv.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ov,W0,Zv.width,Zv.height,I0.depth,0,Zv.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else _0?Rv&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ov,0,0,0,Zv.width,Zv.height,I0.depth,M0,D0,Zv.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ov,W0,Zv.width,Zv.height,I0.depth,0,M0,D0,Zv.data)}else{_0&&q0&&n.texStorage2D(t.TEXTURE_2D,k0,W0,z0[0].width,z0[0].height);for(let Ov=0,Kv=z0.length;Ov<Kv;Ov++)Zv=z0[Ov],Ev.format!==RGBAFormat?M0!==null?_0?Rv&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ov,0,0,Zv.width,Zv.height,M0,Zv.data):n.compressedTexImage2D(t.TEXTURE_2D,Ov,W0,Zv.width,Zv.height,0,Zv.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_0?Rv&&n.texSubImage2D(t.TEXTURE_2D,Ov,0,0,Zv.width,Zv.height,M0,D0,Zv.data):n.texImage2D(t.TEXTURE_2D,Ov,W0,Zv.width,Zv.height,0,M0,D0,Zv.data)}else if(Ev.isDataArrayTexture)if(_0){if(q0&&n.texStorage3D(t.TEXTURE_2D_ARRAY,k0,W0,I0.width,I0.height,I0.depth),Rv)if(Ev.layerUpdates.size>0){const Ov=getByteLength(I0.width,I0.height,Ev.format,Ev.type);for(const Kv of Ev.layerUpdates){const E0=I0.data.subarray(Kv*Ov/I0.data.BYTES_PER_ELEMENT,(Kv+1)*Ov/I0.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Kv,I0.width,I0.height,1,M0,D0,E0)}Ev.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,I0.width,I0.height,I0.depth,M0,D0,I0.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,W0,I0.width,I0.height,I0.depth,0,M0,D0,I0.data);else if(Ev.isData3DTexture)_0?(q0&&n.texStorage3D(t.TEXTURE_3D,k0,W0,I0.width,I0.height,I0.depth),Rv&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,I0.width,I0.height,I0.depth,M0,D0,I0.data)):n.texImage3D(t.TEXTURE_3D,0,W0,I0.width,I0.height,I0.depth,0,M0,D0,I0.data);else if(Ev.isFramebufferTexture){if(q0)if(_0)n.texStorage2D(t.TEXTURE_2D,k0,W0,I0.width,I0.height);else{let Ov=I0.width,Kv=I0.height;for(let E0=0;E0<k0;E0++)n.texImage2D(t.TEXTURE_2D,E0,W0,Ov,Kv,0,M0,D0,null),Ov>>=1,Kv>>=1}}else if(z0.length>0){if(_0&&q0){const Ov=Iv(z0[0]);n.texStorage2D(t.TEXTURE_2D,k0,W0,Ov.width,Ov.height)}for(let Ov=0,Kv=z0.length;Ov<Kv;Ov++)Zv=z0[Ov],_0?Rv&&n.texSubImage2D(t.TEXTURE_2D,Ov,0,0,M0,D0,Zv):n.texImage2D(t.TEXTURE_2D,Ov,W0,M0,D0,Zv);Ev.generateMipmaps=!1}else if(_0){if(q0){const Ov=Iv(I0);n.texStorage2D(t.TEXTURE_2D,k0,W0,Ov.width,Ov.height)}Rv&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,M0,D0,I0)}else n.texImage2D(t.TEXTURE_2D,0,W0,M0,D0,I0);Vr(Ev)&&dr(Fv),Qv.__version=g0.version,Ev.onUpdate&&Ev.onUpdate(Ev)}vv.__version=Ev.version}function $v(vv,Ev,zv){if(Ev.image.length!==6)return;const Fv=uv(vv,Ev),Yv=Ev.source;n.bindTexture(t.TEXTURE_CUBE_MAP,vv.__webglTexture,t.TEXTURE0+zv);const g0=r.get(Yv);if(Yv.version!==g0.__version||Fv===!0){n.activeTexture(t.TEXTURE0+zv);const Qv=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),N0=Ev.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ev.colorSpace),B0=Ev.colorSpace===NoColorSpace||Qv===N0?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Ev.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ev.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Ev.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,B0);const a1=Ev.isCompressedTexture||Ev.image[0].isCompressedTexture,I0=Ev.image[0]&&Ev.image[0].isDataTexture,M0=[];for(let Kv=0;Kv<6;Kv++)!a1&&!I0?M0[Kv]=hr(Ev.image[Kv],!0,g.maxCubemapSize):M0[Kv]=I0?Ev.image[Kv].image:Ev.image[Kv],M0[Kv]=kv(Ev,M0[Kv]);const D0=M0[0],W0=$.convert(Ev.format,Ev.colorSpace),Zv=$.convert(Ev.type),z0=tc(Ev.internalFormat,W0,Zv,Ev.colorSpace),_0=Ev.isVideoTexture!==!0,q0=g0.__version===void 0||Fv===!0,Rv=Yv.dataReady;let k0=rc(Ev,D0);Cv(t.TEXTURE_CUBE_MAP,Ev);let Ov;if(a1){_0&&q0&&n.texStorage2D(t.TEXTURE_CUBE_MAP,k0,z0,D0.width,D0.height);for(let Kv=0;Kv<6;Kv++){Ov=M0[Kv].mipmaps;for(let E0=0;E0<Ov.length;E0++){const X0=Ov[E0];Ev.format!==RGBAFormat?W0!==null?_0?Rv&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0,0,0,X0.width,X0.height,W0,X0.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0,z0,X0.width,X0.height,0,X0.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_0?Rv&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0,0,0,X0.width,X0.height,W0,Zv,X0.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0,z0,X0.width,X0.height,0,W0,Zv,X0.data)}}}else{if(Ov=Ev.mipmaps,_0&&q0){Ov.length>0&&k0++;const Kv=Iv(M0[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,k0,z0,Kv.width,Kv.height)}for(let Kv=0;Kv<6;Kv++)if(I0){_0?Rv&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,0,0,0,M0[Kv].width,M0[Kv].height,W0,Zv,M0[Kv].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,0,z0,M0[Kv].width,M0[Kv].height,0,W0,Zv,M0[Kv].data);for(let E0=0;E0<Ov.length;E0++){const l1=Ov[E0].image[Kv].image;_0?Rv&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0+1,0,0,l1.width,l1.height,W0,Zv,l1.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0+1,z0,l1.width,l1.height,0,W0,Zv,l1.data)}}else{_0?Rv&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,0,0,0,W0,Zv,M0[Kv]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,0,z0,W0,Zv,M0[Kv]);for(let E0=0;E0<Ov.length;E0++){const X0=Ov[E0];_0?Rv&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0+1,0,0,W0,Zv,X0.image[Kv]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Kv,E0+1,z0,W0,Zv,X0.image[Kv])}}}Vr(Ev)&&dr(t.TEXTURE_CUBE_MAP),g0.__version=Yv.version,Ev.onUpdate&&Ev.onUpdate(Ev)}vv.__version=Ev.version}function Dv(vv,Ev,zv,Fv,Yv,g0){const Qv=$.convert(zv.format,zv.colorSpace),N0=$.convert(zv.type),B0=tc(zv.internalFormat,Qv,N0,zv.colorSpace),a1=r.get(Ev),I0=r.get(zv);if(I0.__renderTarget=Ev,!a1.__hasExternalTextures){const M0=Math.max(1,Ev.width>>g0),D0=Math.max(1,Ev.height>>g0);Yv===t.TEXTURE_3D||Yv===t.TEXTURE_2D_ARRAY?n.texImage3D(Yv,g0,B0,M0,D0,Ev.depth,0,Qv,N0,null):n.texImage2D(Yv,g0,B0,M0,D0,0,Qv,N0,null)}n.bindFramebuffer(t.FRAMEBUFFER,vv),fv(Ev)?k.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Fv,Yv,I0.__webglTexture,0,av(Ev)):(Yv===t.TEXTURE_2D||Yv>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Yv<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Fv,Yv,I0.__webglTexture,g0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Hv(vv,Ev,zv){if(t.bindRenderbuffer(t.RENDERBUFFER,vv),Ev.depthBuffer){const Fv=Ev.depthTexture,Yv=Fv&&Fv.isDepthTexture?Fv.type:null,g0=Xs(Ev.stencilBuffer,Yv),Qv=Ev.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,N0=av(Ev);fv(Ev)?k.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,N0,g0,Ev.width,Ev.height):zv?t.renderbufferStorageMultisample(t.RENDERBUFFER,N0,g0,Ev.width,Ev.height):t.renderbufferStorage(t.RENDERBUFFER,g0,Ev.width,Ev.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Qv,t.RENDERBUFFER,vv)}else{const Fv=Ev.textures;for(let Yv=0;Yv<Fv.length;Yv++){const g0=Fv[Yv],Qv=$.convert(g0.format,g0.colorSpace),N0=$.convert(g0.type),B0=tc(g0.internalFormat,Qv,N0,g0.colorSpace),a1=av(Ev);zv&&fv(Ev)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,a1,B0,Ev.width,Ev.height):fv(Ev)?k.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,a1,B0,Ev.width,Ev.height):t.renderbufferStorage(t.RENDERBUFFER,B0,Ev.width,Ev.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Gv(vv,Ev){if(Ev&&Ev.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,vv),!(Ev.depthTexture&&Ev.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Fv=r.get(Ev.depthTexture);Fv.__renderTarget=Ev,(!Fv.__webglTexture||Ev.depthTexture.image.width!==Ev.width||Ev.depthTexture.image.height!==Ev.height)&&(Ev.depthTexture.image.width=Ev.width,Ev.depthTexture.image.height=Ev.height,Ev.depthTexture.needsUpdate=!0),Sv(Ev.depthTexture,0);const Yv=Fv.__webglTexture,g0=av(Ev);if(Ev.depthTexture.format===DepthFormat)fv(Ev)?k.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Yv,0,g0):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Yv,0);else if(Ev.depthTexture.format===DepthStencilFormat)fv(Ev)?k.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Yv,0,g0):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Yv,0);else throw new Error("Unknown depthTexture format")}function f0(vv){const Ev=r.get(vv),zv=vv.isWebGLCubeRenderTarget===!0;if(Ev.__boundDepthTexture!==vv.depthTexture){const Fv=vv.depthTexture;if(Ev.__depthDisposeCallback&&Ev.__depthDisposeCallback(),Fv){const Yv=()=>{delete Ev.__boundDepthTexture,delete Ev.__depthDisposeCallback,Fv.removeEventListener("dispose",Yv)};Fv.addEventListener("dispose",Yv),Ev.__depthDisposeCallback=Yv}Ev.__boundDepthTexture=Fv}if(vv.depthTexture&&!Ev.__autoAllocateDepthBuffer){if(zv)throw new Error("target.depthTexture not supported in Cube render targets");Gv(Ev.__webglFramebuffer,vv)}else if(zv){Ev.__webglDepthbuffer=[];for(let Fv=0;Fv<6;Fv++)if(n.bindFramebuffer(t.FRAMEBUFFER,Ev.__webglFramebuffer[Fv]),Ev.__webglDepthbuffer[Fv]===void 0)Ev.__webglDepthbuffer[Fv]=t.createRenderbuffer(),Hv(Ev.__webglDepthbuffer[Fv],vv,!1);else{const Yv=vv.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,g0=Ev.__webglDepthbuffer[Fv];t.bindRenderbuffer(t.RENDERBUFFER,g0),t.framebufferRenderbuffer(t.FRAMEBUFFER,Yv,t.RENDERBUFFER,g0)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,Ev.__webglFramebuffer),Ev.__webglDepthbuffer===void 0)Ev.__webglDepthbuffer=t.createRenderbuffer(),Hv(Ev.__webglDepthbuffer,vv,!1);else{const Fv=vv.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Yv=Ev.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Yv),t.framebufferRenderbuffer(t.FRAMEBUFFER,Fv,t.RENDERBUFFER,Yv)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function qv(vv,Ev,zv){const Fv=r.get(vv);Ev!==void 0&&Dv(Fv.__webglFramebuffer,vv,vv.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),zv!==void 0&&f0(vv)}function Pv(vv){const Ev=vv.texture,zv=r.get(vv),Fv=r.get(Ev);vv.addEventListener("dispose",_c);const Yv=vv.textures,g0=vv.isWebGLCubeRenderTarget===!0,Qv=Yv.length>1;if(Qv||(Fv.__webglTexture===void 0&&(Fv.__webglTexture=t.createTexture()),Fv.__version=Ev.version,y.memory.textures++),g0){zv.__webglFramebuffer=[];for(let N0=0;N0<6;N0++)if(Ev.mipmaps&&Ev.mipmaps.length>0){zv.__webglFramebuffer[N0]=[];for(let B0=0;B0<Ev.mipmaps.length;B0++)zv.__webglFramebuffer[N0][B0]=t.createFramebuffer()}else zv.__webglFramebuffer[N0]=t.createFramebuffer()}else{if(Ev.mipmaps&&Ev.mipmaps.length>0){zv.__webglFramebuffer=[];for(let N0=0;N0<Ev.mipmaps.length;N0++)zv.__webglFramebuffer[N0]=t.createFramebuffer()}else zv.__webglFramebuffer=t.createFramebuffer();if(Qv)for(let N0=0,B0=Yv.length;N0<B0;N0++){const a1=r.get(Yv[N0]);a1.__webglTexture===void 0&&(a1.__webglTexture=t.createTexture(),y.memory.textures++)}if(vv.samples>0&&fv(vv)===!1){zv.__webglMultisampledFramebuffer=t.createFramebuffer(),zv.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,zv.__webglMultisampledFramebuffer);for(let N0=0;N0<Yv.length;N0++){const B0=Yv[N0];zv.__webglColorRenderbuffer[N0]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,zv.__webglColorRenderbuffer[N0]);const a1=$.convert(B0.format,B0.colorSpace),I0=$.convert(B0.type),M0=tc(B0.internalFormat,a1,I0,B0.colorSpace,vv.isXRRenderTarget===!0),D0=av(vv);t.renderbufferStorageMultisample(t.RENDERBUFFER,D0,M0,vv.width,vv.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+N0,t.RENDERBUFFER,zv.__webglColorRenderbuffer[N0])}t.bindRenderbuffer(t.RENDERBUFFER,null),vv.depthBuffer&&(zv.__webglDepthRenderbuffer=t.createRenderbuffer(),Hv(zv.__webglDepthRenderbuffer,vv,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(g0){n.bindTexture(t.TEXTURE_CUBE_MAP,Fv.__webglTexture),Cv(t.TEXTURE_CUBE_MAP,Ev);for(let N0=0;N0<6;N0++)if(Ev.mipmaps&&Ev.mipmaps.length>0)for(let B0=0;B0<Ev.mipmaps.length;B0++)Dv(zv.__webglFramebuffer[N0][B0],vv,Ev,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+N0,B0);else Dv(zv.__webglFramebuffer[N0],vv,Ev,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+N0,0);Vr(Ev)&&dr(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Qv){for(let N0=0,B0=Yv.length;N0<B0;N0++){const a1=Yv[N0],I0=r.get(a1);n.bindTexture(t.TEXTURE_2D,I0.__webglTexture),Cv(t.TEXTURE_2D,a1),Dv(zv.__webglFramebuffer,vv,a1,t.COLOR_ATTACHMENT0+N0,t.TEXTURE_2D,0),Vr(a1)&&dr(t.TEXTURE_2D)}n.unbindTexture()}else{let N0=t.TEXTURE_2D;if((vv.isWebGL3DRenderTarget||vv.isWebGLArrayRenderTarget)&&(N0=vv.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(N0,Fv.__webglTexture),Cv(N0,Ev),Ev.mipmaps&&Ev.mipmaps.length>0)for(let B0=0;B0<Ev.mipmaps.length;B0++)Dv(zv.__webglFramebuffer[B0],vv,Ev,t.COLOR_ATTACHMENT0,N0,B0);else Dv(zv.__webglFramebuffer,vv,Ev,t.COLOR_ATTACHMENT0,N0,0);Vr(Ev)&&dr(N0),n.unbindTexture()}vv.depthBuffer&&f0(vv)}function Tv(vv){const Ev=vv.textures;for(let zv=0,Fv=Ev.length;zv<Fv;zv++){const Yv=Ev[zv];if(Vr(Yv)){const g0=ec(vv),Qv=r.get(Yv).__webglTexture;n.bindTexture(g0,Qv),dr(g0),n.unbindTexture()}}}const Vv=[],Av=[];function y0(vv){if(vv.samples>0){if(fv(vv)===!1){const Ev=vv.textures,zv=vv.width,Fv=vv.height;let Yv=t.COLOR_BUFFER_BIT;const g0=vv.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Qv=r.get(vv),N0=Ev.length>1;if(N0)for(let B0=0;B0<Ev.length;B0++)n.bindFramebuffer(t.FRAMEBUFFER,Qv.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+B0,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Qv.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+B0,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Qv.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Qv.__webglFramebuffer);for(let B0=0;B0<Ev.length;B0++){if(vv.resolveDepthBuffer&&(vv.depthBuffer&&(Yv|=t.DEPTH_BUFFER_BIT),vv.stencilBuffer&&vv.resolveStencilBuffer&&(Yv|=t.STENCIL_BUFFER_BIT)),N0){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Qv.__webglColorRenderbuffer[B0]);const a1=r.get(Ev[B0]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a1,0)}t.blitFramebuffer(0,0,zv,Fv,0,0,zv,Fv,Yv,t.NEAREST),L===!0&&(Vv.length=0,Av.length=0,Vv.push(t.COLOR_ATTACHMENT0+B0),vv.depthBuffer&&vv.resolveDepthBuffer===!1&&(Vv.push(g0),Av.push(g0),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Av)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Vv))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),N0)for(let B0=0;B0<Ev.length;B0++){n.bindFramebuffer(t.FRAMEBUFFER,Qv.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+B0,t.RENDERBUFFER,Qv.__webglColorRenderbuffer[B0]);const a1=r.get(Ev[B0]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Qv.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+B0,t.TEXTURE_2D,a1,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Qv.__webglMultisampledFramebuffer)}else if(vv.depthBuffer&&vv.resolveDepthBuffer===!1&&L){const Ev=vv.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ev])}}}function av(vv){return Math.min(g.maxSamples,vv.samples)}function fv(vv){const Ev=r.get(vv);return vv.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Ev.__useRenderToTexture!==!1}function lv(vv){const Ev=y.render.frame;z.get(vv)!==Ev&&(z.set(vv,Ev),vv.update())}function kv(vv,Ev){const zv=vv.colorSpace,Fv=vv.format,Yv=vv.type;return vv.isCompressedTexture===!0||vv.isVideoTexture===!0||zv!==LinearSRGBColorSpace&&zv!==NoColorSpace&&(ColorManagement.getTransfer(zv)===SRGBTransfer?(Fv!==RGBAFormat||Yv!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",zv)),Ev}function Iv(vv){return typeof HTMLImageElement<"u"&&vv instanceof HTMLImageElement?(V.width=vv.naturalWidth||vv.width,V.height=vv.naturalHeight||vv.height):typeof VideoFrame<"u"&&vv instanceof VideoFrame?(V.width=vv.displayWidth,V.height=vv.displayHeight):(V.width=vv.width,V.height=vv.height),V}this.allocateTextureUnit=sv,this.resetTextureUnits=nv,this.setTexture2D=Sv,this.setTexture2DArray=wv,this.setTexture3D=rv,this.setTextureCube=Jm,this.rebindTextures=qv,this.setupRenderTarget=Pv,this.updateRenderTargetMipmap=Tv,this.updateMultisampleRenderTarget=y0,this.setupDepthRenderbuffer=f0,this.setupFrameBufferTexture=Dv,this.useMultisampledRTT=fv}function WebGLUtils(t,e){function n(r,g=NoColorSpace){let $;const y=ColorManagement.getTransfer(g);if(r===UnsignedByteType)return t.UNSIGNED_BYTE;if(r===UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(r===UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(r===UnsignedInt5999Type)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===ByteType)return t.BYTE;if(r===ShortType)return t.SHORT;if(r===UnsignedShortType)return t.UNSIGNED_SHORT;if(r===IntType)return t.INT;if(r===UnsignedIntType)return t.UNSIGNED_INT;if(r===FloatType)return t.FLOAT;if(r===HalfFloatType)return t.HALF_FLOAT;if(r===AlphaFormat)return t.ALPHA;if(r===RGBFormat)return t.RGB;if(r===RGBAFormat)return t.RGBA;if(r===LuminanceFormat)return t.LUMINANCE;if(r===LuminanceAlphaFormat)return t.LUMINANCE_ALPHA;if(r===DepthFormat)return t.DEPTH_COMPONENT;if(r===DepthStencilFormat)return t.DEPTH_STENCIL;if(r===RedFormat)return t.RED;if(r===RedIntegerFormat)return t.RED_INTEGER;if(r===RGFormat)return t.RG;if(r===RGIntegerFormat)return t.RG_INTEGER;if(r===RGBAIntegerFormat)return t.RGBA_INTEGER;if(r===RGB_S3TC_DXT1_Format||r===RGBA_S3TC_DXT1_Format||r===RGBA_S3TC_DXT3_Format||r===RGBA_S3TC_DXT5_Format)if(y===SRGBTransfer)if($=e.get("WEBGL_compressed_texture_s3tc_srgb"),$!==null){if(r===RGB_S3TC_DXT1_Format)return $.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===RGBA_S3TC_DXT1_Format)return $.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===RGBA_S3TC_DXT3_Format)return $.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===RGBA_S3TC_DXT5_Format)return $.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if($=e.get("WEBGL_compressed_texture_s3tc"),$!==null){if(r===RGB_S3TC_DXT1_Format)return $.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===RGBA_S3TC_DXT1_Format)return $.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===RGBA_S3TC_DXT3_Format)return $.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===RGBA_S3TC_DXT5_Format)return $.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===RGB_PVRTC_4BPPV1_Format||r===RGB_PVRTC_2BPPV1_Format||r===RGBA_PVRTC_4BPPV1_Format||r===RGBA_PVRTC_2BPPV1_Format)if($=e.get("WEBGL_compressed_texture_pvrtc"),$!==null){if(r===RGB_PVRTC_4BPPV1_Format)return $.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===RGB_PVRTC_2BPPV1_Format)return $.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===RGBA_PVRTC_4BPPV1_Format)return $.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===RGBA_PVRTC_2BPPV1_Format)return $.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===RGB_ETC1_Format||r===RGB_ETC2_Format||r===RGBA_ETC2_EAC_Format)if($=e.get("WEBGL_compressed_texture_etc"),$!==null){if(r===RGB_ETC1_Format||r===RGB_ETC2_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ETC2:$.COMPRESSED_RGB8_ETC2;if(r===RGBA_ETC2_EAC_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:$.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===RGBA_ASTC_4x4_Format||r===RGBA_ASTC_5x4_Format||r===RGBA_ASTC_5x5_Format||r===RGBA_ASTC_6x5_Format||r===RGBA_ASTC_6x6_Format||r===RGBA_ASTC_8x5_Format||r===RGBA_ASTC_8x6_Format||r===RGBA_ASTC_8x8_Format||r===RGBA_ASTC_10x5_Format||r===RGBA_ASTC_10x6_Format||r===RGBA_ASTC_10x8_Format||r===RGBA_ASTC_10x10_Format||r===RGBA_ASTC_12x10_Format||r===RGBA_ASTC_12x12_Format)if($=e.get("WEBGL_compressed_texture_astc"),$!==null){if(r===RGBA_ASTC_4x4_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:$.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===RGBA_ASTC_5x4_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:$.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===RGBA_ASTC_5x5_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:$.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===RGBA_ASTC_6x5_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:$.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===RGBA_ASTC_6x6_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:$.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===RGBA_ASTC_8x5_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:$.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===RGBA_ASTC_8x6_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:$.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===RGBA_ASTC_8x8_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:$.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===RGBA_ASTC_10x5_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:$.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===RGBA_ASTC_10x6_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:$.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===RGBA_ASTC_10x8_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:$.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===RGBA_ASTC_10x10_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:$.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===RGBA_ASTC_12x10_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:$.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===RGBA_ASTC_12x12_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:$.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===RGBA_BPTC_Format||r===RGB_BPTC_SIGNED_Format||r===RGB_BPTC_UNSIGNED_Format)if($=e.get("EXT_texture_compression_bptc"),$!==null){if(r===RGBA_BPTC_Format)return y===SRGBTransfer?$.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:$.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===RGB_BPTC_SIGNED_Format)return $.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===RGB_BPTC_UNSIGNED_Format)return $.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===RED_RGTC1_Format||r===SIGNED_RED_RGTC1_Format||r===RED_GREEN_RGTC2_Format||r===SIGNED_RED_GREEN_RGTC2_Format)if($=e.get("EXT_texture_compression_rgtc"),$!==null){if(r===RGBA_BPTC_Format)return $.COMPRESSED_RED_RGTC1_EXT;if(r===SIGNED_RED_RGTC1_Format)return $.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===RED_GREEN_RGTC2_Format)return $.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===SIGNED_RED_GREEN_RGTC2_Format)return $.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===UnsignedInt248Type?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let g=null,$=null,y=null;const k=this._targetRay,L=this._grip,V=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(V&&e.hand){y=!0;for(const hr of e.hand.values()){const Vr=n.getJointPose(hr,r),dr=this._getHandJoint(V,hr);Vr!==null&&(dr.matrix.fromArray(Vr.transform.matrix),dr.matrix.decompose(dr.position,dr.rotation,dr.scale),dr.matrixWorldNeedsUpdate=!0,dr.jointRadius=Vr.radius),dr.visible=Vr!==null}const z=V.joints["index-finger-tip"],j=V.joints["thumb-tip"],ie=z.position.distanceTo(j.position),Oe=.02,ur=.005;V.inputState.pinching&&ie>Oe+ur?(V.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!V.inputState.pinching&&ie<=Oe-ur&&(V.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else L!==null&&e.gripSpace&&($=n.getPose(e.gripSpace,r),$!==null&&(L.matrix.fromArray($.transform.matrix),L.matrix.decompose(L.position,L.rotation,L.scale),L.matrixWorldNeedsUpdate=!0,$.linearVelocity?(L.hasLinearVelocity=!0,L.linearVelocity.copy($.linearVelocity)):L.hasLinearVelocity=!1,$.angularVelocity?(L.hasAngularVelocity=!0,L.angularVelocity.copy($.angularVelocity)):L.hasAngularVelocity=!1));k!==null&&(g=n.getPose(e.targetRaySpace,r),g===null&&$!==null&&(g=$),g!==null&&(k.matrix.fromArray(g.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale),k.matrixWorldNeedsUpdate=!0,g.linearVelocity?(k.hasLinearVelocity=!0,k.linearVelocity.copy(g.linearVelocity)):k.hasLinearVelocity=!1,g.angularVelocity?(k.hasAngularVelocity=!0,k.angularVelocity.copy(g.angularVelocity)):k.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return k!==null&&(k.visible=g!==null),L!==null&&(L.visible=$!==null),V!==null&&(V.visible=y!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Group;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const g=new Texture,$=e.properties.get(g);$.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=g}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher{constructor(e,n){super();const r=this;let g=null,$=1,y=null,k="local-floor",L=1,V=null,z=null,j=null,ie=null,Oe=null,ur=null;const hr=new WebXRDepthSensing,Vr=n.getContextAttributes();let dr=null,ec=null;const tc=[],Xs=[],rc=new Vector2;let ic=null;const _c=new PerspectiveCamera;_c.viewport=new Vector4;const qm=new PerspectiveCamera;qm.viewport=new Vector4;const Xm=[_c,qm],Km=new ArrayCamera;let tv=null,nv=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(yv){let $v=tc[yv];return $v===void 0&&($v=new WebXRController,tc[yv]=$v),$v.getTargetRaySpace()},this.getControllerGrip=function(yv){let $v=tc[yv];return $v===void 0&&($v=new WebXRController,tc[yv]=$v),$v.getGripSpace()},this.getHand=function(yv){let $v=tc[yv];return $v===void 0&&($v=new WebXRController,tc[yv]=$v),$v.getHandSpace()};function sv(yv){const $v=Xs.indexOf(yv.inputSource);if($v===-1)return;const Dv=tc[$v];Dv!==void 0&&(Dv.update(yv.inputSource,yv.frame,V||y),Dv.dispatchEvent({type:yv.type,data:yv.inputSource}))}function gv(){g.removeEventListener("select",sv),g.removeEventListener("selectstart",sv),g.removeEventListener("selectend",sv),g.removeEventListener("squeeze",sv),g.removeEventListener("squeezestart",sv),g.removeEventListener("squeezeend",sv),g.removeEventListener("end",gv),g.removeEventListener("inputsourceschange",Sv);for(let yv=0;yv<tc.length;yv++){const $v=Xs[yv];$v!==null&&(Xs[yv]=null,tc[yv].disconnect($v))}tv=null,nv=null,hr.reset(),e.setRenderTarget(dr),Oe=null,ie=null,j=null,g=null,ec=null,uv.stop(),r.isPresenting=!1,e.setPixelRatio(ic),e.setSize(rc.width,rc.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(yv){$=yv,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(yv){k=yv,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return V||y},this.setReferenceSpace=function(yv){V=yv},this.getBaseLayer=function(){return ie!==null?ie:Oe},this.getBinding=function(){return j},this.getFrame=function(){return ur},this.getSession=function(){return g},this.setSession=async function(yv){if(g=yv,g!==null){if(dr=e.getRenderTarget(),g.addEventListener("select",sv),g.addEventListener("selectstart",sv),g.addEventListener("selectend",sv),g.addEventListener("squeeze",sv),g.addEventListener("squeezestart",sv),g.addEventListener("squeezeend",sv),g.addEventListener("end",gv),g.addEventListener("inputsourceschange",Sv),Vr.xrCompatible!==!0&&await n.makeXRCompatible(),ic=e.getPixelRatio(),e.getSize(rc),g.enabledFeatures!==void 0&&g.enabledFeatures.includes("layers")){let Dv=null,Hv=null,Gv=null;Vr.depth&&(Gv=Vr.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Dv=Vr.stencil?DepthStencilFormat:DepthFormat,Hv=Vr.stencil?UnsignedInt248Type:UnsignedIntType);const f0={colorFormat:n.RGBA8,depthFormat:Gv,scaleFactor:$};j=new XRWebGLBinding(g,n),ie=j.createProjectionLayer(f0),g.updateRenderState({layers:[ie]}),e.setPixelRatio(1),e.setSize(ie.textureWidth,ie.textureHeight,!1),ec=new WebGLRenderTarget(ie.textureWidth,ie.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ie.textureWidth,ie.textureHeight,Hv,void 0,void 0,void 0,void 0,void 0,void 0,Dv),stencilBuffer:Vr.stencil,colorSpace:e.outputColorSpace,samples:Vr.antialias?4:0,resolveDepthBuffer:ie.ignoreDepthValues===!1})}else{const Dv={antialias:Vr.antialias,alpha:!0,depth:Vr.depth,stencil:Vr.stencil,framebufferScaleFactor:$};Oe=new XRWebGLLayer(g,n,Dv),g.updateRenderState({baseLayer:Oe}),e.setPixelRatio(1),e.setSize(Oe.framebufferWidth,Oe.framebufferHeight,!1),ec=new WebGLRenderTarget(Oe.framebufferWidth,Oe.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:Vr.stencil})}ec.isXRRenderTarget=!0,this.setFoveation(L),V=null,y=await g.requestReferenceSpace(k),uv.setContext(g),uv.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(g!==null)return g.environmentBlendMode},this.getDepthTexture=function(){return hr.getDepthTexture()};function Sv(yv){for(let $v=0;$v<yv.removed.length;$v++){const Dv=yv.removed[$v],Hv=Xs.indexOf(Dv);Hv>=0&&(Xs[Hv]=null,tc[Hv].disconnect(Dv))}for(let $v=0;$v<yv.added.length;$v++){const Dv=yv.added[$v];let Hv=Xs.indexOf(Dv);if(Hv===-1){for(let f0=0;f0<tc.length;f0++)if(f0>=Xs.length){Xs.push(Dv),Hv=f0;break}else if(Xs[f0]===null){Xs[f0]=Dv,Hv=f0;break}if(Hv===-1)break}const Gv=tc[Hv];Gv&&Gv.connect(Dv)}}const wv=new Vector3,rv=new Vector3;function Jm(yv,$v,Dv){wv.setFromMatrixPosition($v.matrixWorld),rv.setFromMatrixPosition(Dv.matrixWorld);const Hv=wv.distanceTo(rv),Gv=$v.projectionMatrix.elements,f0=Dv.projectionMatrix.elements,qv=Gv[14]/(Gv[10]-1),Pv=Gv[14]/(Gv[10]+1),Tv=(Gv[9]+1)/Gv[5],Vv=(Gv[9]-1)/Gv[5],Av=(Gv[8]-1)/Gv[0],y0=(f0[8]+1)/f0[0],av=qv*Av,fv=qv*y0,lv=Hv/(-Av+y0),kv=lv*-Av;if($v.matrixWorld.decompose(yv.position,yv.quaternion,yv.scale),yv.translateX(kv),yv.translateZ(lv),yv.matrixWorld.compose(yv.position,yv.quaternion,yv.scale),yv.matrixWorldInverse.copy(yv.matrixWorld).invert(),Gv[10]===-1)yv.projectionMatrix.copy($v.projectionMatrix),yv.projectionMatrixInverse.copy($v.projectionMatrixInverse);else{const Iv=qv+lv,vv=Pv+lv,Ev=av-kv,zv=fv+(Hv-kv),Fv=Tv*Pv/vv*Iv,Yv=Vv*Pv/vv*Iv;yv.projectionMatrix.makePerspective(Ev,zv,Fv,Yv,Iv,vv),yv.projectionMatrixInverse.copy(yv.projectionMatrix).invert()}}function dv(yv,$v){$v===null?yv.matrixWorld.copy(yv.matrix):yv.matrixWorld.multiplyMatrices($v.matrixWorld,yv.matrix),yv.matrixWorldInverse.copy(yv.matrixWorld).invert()}this.updateCamera=function(yv){if(g===null)return;let $v=yv.near,Dv=yv.far;hr.texture!==null&&(hr.depthNear>0&&($v=hr.depthNear),hr.depthFar>0&&(Dv=hr.depthFar)),Km.near=qm.near=_c.near=$v,Km.far=qm.far=_c.far=Dv,(tv!==Km.near||nv!==Km.far)&&(g.updateRenderState({depthNear:Km.near,depthFar:Km.far}),tv=Km.near,nv=Km.far),_c.layers.mask=yv.layers.mask|2,qm.layers.mask=yv.layers.mask|4,Km.layers.mask=_c.layers.mask|qm.layers.mask;const Hv=yv.parent,Gv=Km.cameras;dv(Km,Hv);for(let f0=0;f0<Gv.length;f0++)dv(Gv[f0],Hv);Gv.length===2?Jm(Km,_c,qm):Km.projectionMatrix.copy(_c.projectionMatrix),pv(yv,Km,Hv)};function pv(yv,$v,Dv){Dv===null?yv.matrix.copy($v.matrixWorld):(yv.matrix.copy(Dv.matrixWorld),yv.matrix.invert(),yv.matrix.multiply($v.matrixWorld)),yv.matrix.decompose(yv.position,yv.quaternion,yv.scale),yv.updateMatrixWorld(!0),yv.projectionMatrix.copy($v.projectionMatrix),yv.projectionMatrixInverse.copy($v.projectionMatrixInverse),yv.isPerspectiveCamera&&(yv.fov=RAD2DEG*2*Math.atan(1/yv.projectionMatrix.elements[5]),yv.zoom=1)}this.getCamera=function(){return Km},this.getFoveation=function(){if(!(ie===null&&Oe===null))return L},this.setFoveation=function(yv){L=yv,ie!==null&&(ie.fixedFoveation=yv),Oe!==null&&Oe.fixedFoveation!==void 0&&(Oe.fixedFoveation=yv)},this.hasDepthSensing=function(){return hr.texture!==null},this.getDepthSensingMesh=function(){return hr.getMesh(Km)};let mv=null;function Cv(yv,$v){if(z=$v.getViewerPose(V||y),ur=$v,z!==null){const Dv=z.views;Oe!==null&&(e.setRenderTargetFramebuffer(ec,Oe.framebuffer),e.setRenderTarget(ec));let Hv=!1;Dv.length!==Km.cameras.length&&(Km.cameras.length=0,Hv=!0);for(let f0=0;f0<Dv.length;f0++){const qv=Dv[f0];let Pv=null;if(Oe!==null)Pv=Oe.getViewport(qv);else{const Vv=j.getViewSubImage(ie,qv);Pv=Vv.viewport,f0===0&&(e.setRenderTargetTextures(ec,Vv.colorTexture,ie.ignoreDepthValues?void 0:Vv.depthStencilTexture),e.setRenderTarget(ec))}let Tv=Xm[f0];Tv===void 0&&(Tv=new PerspectiveCamera,Tv.layers.enable(f0),Tv.viewport=new Vector4,Xm[f0]=Tv),Tv.matrix.fromArray(qv.transform.matrix),Tv.matrix.decompose(Tv.position,Tv.quaternion,Tv.scale),Tv.projectionMatrix.fromArray(qv.projectionMatrix),Tv.projectionMatrixInverse.copy(Tv.projectionMatrix).invert(),Tv.viewport.set(Pv.x,Pv.y,Pv.width,Pv.height),f0===0&&(Km.matrix.copy(Tv.matrix),Km.matrix.decompose(Km.position,Km.quaternion,Km.scale)),Hv===!0&&Km.cameras.push(Tv)}const Gv=g.enabledFeatures;if(Gv&&Gv.includes("depth-sensing")){const f0=j.getDepthInformation(Dv[0]);f0&&f0.isValid&&f0.texture&&hr.init(e,f0,g.renderState)}}for(let Dv=0;Dv<tc.length;Dv++){const Hv=Xs[Dv],Gv=tc[Dv];Hv!==null&&Gv!==void 0&&Gv.update(Hv,$v,V||y)}mv&&mv(yv,$v),$v.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:$v}),ur=null}const uv=new WebGLAnimation;uv.setAnimationLoop(Cv),this.setAnimationLoop=function(yv){mv=yv},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(t,e){function n(Vr,dr){Vr.matrixAutoUpdate===!0&&Vr.updateMatrix(),dr.value.copy(Vr.matrix)}function r(Vr,dr){dr.color.getRGB(Vr.fogColor.value,getUnlitUniformColorSpace(t)),dr.isFog?(Vr.fogNear.value=dr.near,Vr.fogFar.value=dr.far):dr.isFogExp2&&(Vr.fogDensity.value=dr.density)}function g(Vr,dr,ec,tc,Xs){dr.isMeshBasicMaterial||dr.isMeshLambertMaterial?$(Vr,dr):dr.isMeshToonMaterial?($(Vr,dr),j(Vr,dr)):dr.isMeshPhongMaterial?($(Vr,dr),z(Vr,dr)):dr.isMeshStandardMaterial?($(Vr,dr),ie(Vr,dr),dr.isMeshPhysicalMaterial&&Oe(Vr,dr,Xs)):dr.isMeshMatcapMaterial?($(Vr,dr),ur(Vr,dr)):dr.isMeshDepthMaterial?$(Vr,dr):dr.isMeshDistanceMaterial?($(Vr,dr),hr(Vr,dr)):dr.isMeshNormalMaterial?$(Vr,dr):dr.isLineBasicMaterial?(y(Vr,dr),dr.isLineDashedMaterial&&k(Vr,dr)):dr.isPointsMaterial?L(Vr,dr,ec,tc):dr.isSpriteMaterial?V(Vr,dr):dr.isShadowMaterial?(Vr.color.value.copy(dr.color),Vr.opacity.value=dr.opacity):dr.isShaderMaterial&&(dr.uniformsNeedUpdate=!1)}function $(Vr,dr){Vr.opacity.value=dr.opacity,dr.color&&Vr.diffuse.value.copy(dr.color),dr.emissive&&Vr.emissive.value.copy(dr.emissive).multiplyScalar(dr.emissiveIntensity),dr.map&&(Vr.map.value=dr.map,n(dr.map,Vr.mapTransform)),dr.alphaMap&&(Vr.alphaMap.value=dr.alphaMap,n(dr.alphaMap,Vr.alphaMapTransform)),dr.bumpMap&&(Vr.bumpMap.value=dr.bumpMap,n(dr.bumpMap,Vr.bumpMapTransform),Vr.bumpScale.value=dr.bumpScale,dr.side===BackSide&&(Vr.bumpScale.value*=-1)),dr.normalMap&&(Vr.normalMap.value=dr.normalMap,n(dr.normalMap,Vr.normalMapTransform),Vr.normalScale.value.copy(dr.normalScale),dr.side===BackSide&&Vr.normalScale.value.negate()),dr.displacementMap&&(Vr.displacementMap.value=dr.displacementMap,n(dr.displacementMap,Vr.displacementMapTransform),Vr.displacementScale.value=dr.displacementScale,Vr.displacementBias.value=dr.displacementBias),dr.emissiveMap&&(Vr.emissiveMap.value=dr.emissiveMap,n(dr.emissiveMap,Vr.emissiveMapTransform)),dr.specularMap&&(Vr.specularMap.value=dr.specularMap,n(dr.specularMap,Vr.specularMapTransform)),dr.alphaTest>0&&(Vr.alphaTest.value=dr.alphaTest);const ec=e.get(dr),tc=ec.envMap,Xs=ec.envMapRotation;tc&&(Vr.envMap.value=tc,_e1.copy(Xs),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,tc.isCubeTexture&&tc.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),Vr.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),Vr.flipEnvMap.value=tc.isCubeTexture&&tc.isRenderTargetTexture===!1?-1:1,Vr.reflectivity.value=dr.reflectivity,Vr.ior.value=dr.ior,Vr.refractionRatio.value=dr.refractionRatio),dr.lightMap&&(Vr.lightMap.value=dr.lightMap,Vr.lightMapIntensity.value=dr.lightMapIntensity,n(dr.lightMap,Vr.lightMapTransform)),dr.aoMap&&(Vr.aoMap.value=dr.aoMap,Vr.aoMapIntensity.value=dr.aoMapIntensity,n(dr.aoMap,Vr.aoMapTransform))}function y(Vr,dr){Vr.diffuse.value.copy(dr.color),Vr.opacity.value=dr.opacity,dr.map&&(Vr.map.value=dr.map,n(dr.map,Vr.mapTransform))}function k(Vr,dr){Vr.dashSize.value=dr.dashSize,Vr.totalSize.value=dr.dashSize+dr.gapSize,Vr.scale.value=dr.scale}function L(Vr,dr,ec,tc){Vr.diffuse.value.copy(dr.color),Vr.opacity.value=dr.opacity,Vr.size.value=dr.size*ec,Vr.scale.value=tc*.5,dr.map&&(Vr.map.value=dr.map,n(dr.map,Vr.uvTransform)),dr.alphaMap&&(Vr.alphaMap.value=dr.alphaMap,n(dr.alphaMap,Vr.alphaMapTransform)),dr.alphaTest>0&&(Vr.alphaTest.value=dr.alphaTest)}function V(Vr,dr){Vr.diffuse.value.copy(dr.color),Vr.opacity.value=dr.opacity,Vr.rotation.value=dr.rotation,dr.map&&(Vr.map.value=dr.map,n(dr.map,Vr.mapTransform)),dr.alphaMap&&(Vr.alphaMap.value=dr.alphaMap,n(dr.alphaMap,Vr.alphaMapTransform)),dr.alphaTest>0&&(Vr.alphaTest.value=dr.alphaTest)}function z(Vr,dr){Vr.specular.value.copy(dr.specular),Vr.shininess.value=Math.max(dr.shininess,1e-4)}function j(Vr,dr){dr.gradientMap&&(Vr.gradientMap.value=dr.gradientMap)}function ie(Vr,dr){Vr.metalness.value=dr.metalness,dr.metalnessMap&&(Vr.metalnessMap.value=dr.metalnessMap,n(dr.metalnessMap,Vr.metalnessMapTransform)),Vr.roughness.value=dr.roughness,dr.roughnessMap&&(Vr.roughnessMap.value=dr.roughnessMap,n(dr.roughnessMap,Vr.roughnessMapTransform)),dr.envMap&&(Vr.envMapIntensity.value=dr.envMapIntensity)}function Oe(Vr,dr,ec){Vr.ior.value=dr.ior,dr.sheen>0&&(Vr.sheenColor.value.copy(dr.sheenColor).multiplyScalar(dr.sheen),Vr.sheenRoughness.value=dr.sheenRoughness,dr.sheenColorMap&&(Vr.sheenColorMap.value=dr.sheenColorMap,n(dr.sheenColorMap,Vr.sheenColorMapTransform)),dr.sheenRoughnessMap&&(Vr.sheenRoughnessMap.value=dr.sheenRoughnessMap,n(dr.sheenRoughnessMap,Vr.sheenRoughnessMapTransform))),dr.clearcoat>0&&(Vr.clearcoat.value=dr.clearcoat,Vr.clearcoatRoughness.value=dr.clearcoatRoughness,dr.clearcoatMap&&(Vr.clearcoatMap.value=dr.clearcoatMap,n(dr.clearcoatMap,Vr.clearcoatMapTransform)),dr.clearcoatRoughnessMap&&(Vr.clearcoatRoughnessMap.value=dr.clearcoatRoughnessMap,n(dr.clearcoatRoughnessMap,Vr.clearcoatRoughnessMapTransform)),dr.clearcoatNormalMap&&(Vr.clearcoatNormalMap.value=dr.clearcoatNormalMap,n(dr.clearcoatNormalMap,Vr.clearcoatNormalMapTransform),Vr.clearcoatNormalScale.value.copy(dr.clearcoatNormalScale),dr.side===BackSide&&Vr.clearcoatNormalScale.value.negate())),dr.dispersion>0&&(Vr.dispersion.value=dr.dispersion),dr.iridescence>0&&(Vr.iridescence.value=dr.iridescence,Vr.iridescenceIOR.value=dr.iridescenceIOR,Vr.iridescenceThicknessMinimum.value=dr.iridescenceThicknessRange[0],Vr.iridescenceThicknessMaximum.value=dr.iridescenceThicknessRange[1],dr.iridescenceMap&&(Vr.iridescenceMap.value=dr.iridescenceMap,n(dr.iridescenceMap,Vr.iridescenceMapTransform)),dr.iridescenceThicknessMap&&(Vr.iridescenceThicknessMap.value=dr.iridescenceThicknessMap,n(dr.iridescenceThicknessMap,Vr.iridescenceThicknessMapTransform))),dr.transmission>0&&(Vr.transmission.value=dr.transmission,Vr.transmissionSamplerMap.value=ec.texture,Vr.transmissionSamplerSize.value.set(ec.width,ec.height),dr.transmissionMap&&(Vr.transmissionMap.value=dr.transmissionMap,n(dr.transmissionMap,Vr.transmissionMapTransform)),Vr.thickness.value=dr.thickness,dr.thicknessMap&&(Vr.thicknessMap.value=dr.thicknessMap,n(dr.thicknessMap,Vr.thicknessMapTransform)),Vr.attenuationDistance.value=dr.attenuationDistance,Vr.attenuationColor.value.copy(dr.attenuationColor)),dr.anisotropy>0&&(Vr.anisotropyVector.value.set(dr.anisotropy*Math.cos(dr.anisotropyRotation),dr.anisotropy*Math.sin(dr.anisotropyRotation)),dr.anisotropyMap&&(Vr.anisotropyMap.value=dr.anisotropyMap,n(dr.anisotropyMap,Vr.anisotropyMapTransform))),Vr.specularIntensity.value=dr.specularIntensity,Vr.specularColor.value.copy(dr.specularColor),dr.specularColorMap&&(Vr.specularColorMap.value=dr.specularColorMap,n(dr.specularColorMap,Vr.specularColorMapTransform)),dr.specularIntensityMap&&(Vr.specularIntensityMap.value=dr.specularIntensityMap,n(dr.specularIntensityMap,Vr.specularIntensityMapTransform))}function ur(Vr,dr){dr.matcap&&(Vr.matcap.value=dr.matcap)}function hr(Vr,dr){const ec=e.get(dr).light;Vr.referencePosition.value.setFromMatrixPosition(ec.matrixWorld),Vr.nearDistance.value=ec.shadow.camera.near,Vr.farDistance.value=ec.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:g}}function WebGLUniformsGroups(t,e,n,r){let g={},$={},y=[];const k=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function L(ec,tc){const Xs=tc.program;r.uniformBlockBinding(ec,Xs)}function V(ec,tc){let Xs=g[ec.id];Xs===void 0&&(ur(ec),Xs=z(ec),g[ec.id]=Xs,ec.addEventListener("dispose",Vr));const rc=tc.program;r.updateUBOMapping(ec,rc);const ic=e.render.frame;$[ec.id]!==ic&&(ie(ec),$[ec.id]=ic)}function z(ec){const tc=j();ec.__bindingPointIndex=tc;const Xs=t.createBuffer(),rc=ec.__size,ic=ec.usage;return t.bindBuffer(t.UNIFORM_BUFFER,Xs),t.bufferData(t.UNIFORM_BUFFER,rc,ic),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,tc,Xs),Xs}function j(){for(let ec=0;ec<k;ec++)if(y.indexOf(ec)===-1)return y.push(ec),ec;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ie(ec){const tc=g[ec.id],Xs=ec.uniforms,rc=ec.__cache;t.bindBuffer(t.UNIFORM_BUFFER,tc);for(let ic=0,_c=Xs.length;ic<_c;ic++){const qm=Array.isArray(Xs[ic])?Xs[ic]:[Xs[ic]];for(let Xm=0,Km=qm.length;Xm<Km;Xm++){const tv=qm[Xm];if(Oe(tv,ic,Xm,rc)===!0){const nv=tv.__offset,sv=Array.isArray(tv.value)?tv.value:[tv.value];let gv=0;for(let Sv=0;Sv<sv.length;Sv++){const wv=sv[Sv],rv=hr(wv);typeof wv=="number"||typeof wv=="boolean"?(tv.__data[0]=wv,t.bufferSubData(t.UNIFORM_BUFFER,nv+gv,tv.__data)):wv.isMatrix3?(tv.__data[0]=wv.elements[0],tv.__data[1]=wv.elements[1],tv.__data[2]=wv.elements[2],tv.__data[3]=0,tv.__data[4]=wv.elements[3],tv.__data[5]=wv.elements[4],tv.__data[6]=wv.elements[5],tv.__data[7]=0,tv.__data[8]=wv.elements[6],tv.__data[9]=wv.elements[7],tv.__data[10]=wv.elements[8],tv.__data[11]=0):(wv.toArray(tv.__data,gv),gv+=rv.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,nv,tv.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function Oe(ec,tc,Xs,rc){const ic=ec.value,_c=tc+"_"+Xs;if(rc[_c]===void 0)return typeof ic=="number"||typeof ic=="boolean"?rc[_c]=ic:rc[_c]=ic.clone(),!0;{const qm=rc[_c];if(typeof ic=="number"||typeof ic=="boolean"){if(qm!==ic)return rc[_c]=ic,!0}else if(qm.equals(ic)===!1)return qm.copy(ic),!0}return!1}function ur(ec){const tc=ec.uniforms;let Xs=0;const rc=16;for(let _c=0,qm=tc.length;_c<qm;_c++){const Xm=Array.isArray(tc[_c])?tc[_c]:[tc[_c]];for(let Km=0,tv=Xm.length;Km<tv;Km++){const nv=Xm[Km],sv=Array.isArray(nv.value)?nv.value:[nv.value];for(let gv=0,Sv=sv.length;gv<Sv;gv++){const wv=sv[gv],rv=hr(wv),Jm=Xs%rc,dv=Jm%rv.boundary,pv=Jm+dv;Xs+=dv,pv!==0&&rc-pv<rv.storage&&(Xs+=rc-pv),nv.__data=new Float32Array(rv.storage/Float32Array.BYTES_PER_ELEMENT),nv.__offset=Xs,Xs+=rv.storage}}}const ic=Xs%rc;return ic>0&&(Xs+=rc-ic),ec.__size=Xs,ec.__cache={},this}function hr(ec){const tc={boundary:0,storage:0};return typeof ec=="number"||typeof ec=="boolean"?(tc.boundary=4,tc.storage=4):ec.isVector2?(tc.boundary=8,tc.storage=8):ec.isVector3||ec.isColor?(tc.boundary=16,tc.storage=12):ec.isVector4?(tc.boundary=16,tc.storage=16):ec.isMatrix3?(tc.boundary=48,tc.storage=48):ec.isMatrix4?(tc.boundary=64,tc.storage=64):ec.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ec),tc}function Vr(ec){const tc=ec.target;tc.removeEventListener("dispose",Vr);const Xs=y.indexOf(tc.__bindingPointIndex);y.splice(Xs,1),t.deleteBuffer(g[tc.id]),delete g[tc.id],delete $[tc.id]}function dr(){for(const ec in g)t.deleteBuffer(g[ec]);y=[],g={},$={}}return{bind:L,update:V,dispose:dr}}class WebGLRenderer{constructor(e={}){const{canvas:n=createCanvasElement(),context:r=null,depth:g=!0,stencil:$=!1,alpha:y=!1,antialias:k=!1,premultipliedAlpha:L=!0,preserveDrawingBuffer:V=!1,powerPreference:z="default",failIfMajorPerformanceCaveat:j=!1,reverseDepthBuffer:ie=!1}=e;this.isWebGLRenderer=!0;let Oe;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Oe=r.getContextAttributes().alpha}else Oe=y;const ur=new Uint32Array(4),hr=new Int32Array(4);let Vr=null,dr=null;const ec=[],tc=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Xs=this;let rc=!1,ic=0,_c=0,qm=null,Xm=-1,Km=null;const tv=new Vector4,nv=new Vector4;let sv=null;const gv=new Color$1(0);let Sv=0,wv=n.width,rv=n.height,Jm=1,dv=null,pv=null;const mv=new Vector4(0,0,wv,rv),Cv=new Vector4(0,0,wv,rv);let uv=!1;const yv=new Frustum;let $v=!1,Dv=!1;this.transmissionResolutionScale=1;const Hv=new Matrix4,Gv=new Matrix4,f0=new Vector3,qv=new Vector4,Pv={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Tv=!1;function Vv(){return qm===null?Jm:1}let Av=r;function y0(jv,A0){return n.getContext(jv,A0)}try{const jv={alpha:!0,depth:g,stencil:$,antialias:k,premultipliedAlpha:L,preserveDrawingBuffer:V,powerPreference:z,failIfMajorPerformanceCaveat:j};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${REVISION}`),n.addEventListener("webglcontextlost",Kv,!1),n.addEventListener("webglcontextrestored",E0,!1),n.addEventListener("webglcontextcreationerror",X0,!1),Av===null){const A0="webgl2";if(Av=y0(A0,jv),Av===null)throw y0(A0)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(jv){throw console.error("THREE.WebGLRenderer: "+jv.message),jv}let av,fv,lv,kv,Iv,vv,Ev,zv,Fv,Yv,g0,Qv,N0,B0,a1,I0,M0,D0,W0,Zv,z0,_0,q0,Rv;function k0(){av=new WebGLExtensions(Av),av.init(),_0=new WebGLUtils(Av,av),fv=new WebGLCapabilities(Av,av,e,_0),lv=new WebGLState(Av,av),fv.reverseDepthBuffer&&ie&&lv.buffers.depth.setReversed(!0),kv=new WebGLInfo(Av),Iv=new WebGLProperties,vv=new WebGLTextures(Av,av,lv,Iv,fv,_0,kv),Ev=new WebGLCubeMaps(Xs),zv=new WebGLCubeUVMaps(Xs),Fv=new WebGLAttributes(Av),q0=new WebGLBindingStates(Av,Fv),Yv=new WebGLGeometries(Av,Fv,kv,q0),g0=new WebGLObjects(Av,Yv,Fv,kv),W0=new WebGLMorphtargets(Av,fv,vv),I0=new WebGLClipping(Iv),Qv=new WebGLPrograms(Xs,Ev,zv,av,fv,q0,I0),N0=new WebGLMaterials(Xs,Iv),B0=new WebGLRenderLists,a1=new WebGLRenderStates(av),D0=new WebGLBackground(Xs,Ev,zv,lv,g0,Oe,L),M0=new WebGLShadowMap(Xs,g0,fv),Rv=new WebGLUniformsGroups(Av,kv,fv,lv),Zv=new WebGLBufferRenderer(Av,av,kv),z0=new WebGLIndexedBufferRenderer(Av,av,kv),kv.programs=Qv.programs,Xs.capabilities=fv,Xs.extensions=av,Xs.properties=Iv,Xs.renderLists=B0,Xs.shadowMap=M0,Xs.state=lv,Xs.info=kv}k0();const Ov=new WebXRManager(Xs,Av);this.xr=Ov,this.getContext=function(){return Av},this.getContextAttributes=function(){return Av.getContextAttributes()},this.forceContextLoss=function(){const jv=av.get("WEBGL_lose_context");jv&&jv.loseContext()},this.forceContextRestore=function(){const jv=av.get("WEBGL_lose_context");jv&&jv.restoreContext()},this.getPixelRatio=function(){return Jm},this.setPixelRatio=function(jv){jv!==void 0&&(Jm=jv,this.setSize(wv,rv,!1))},this.getSize=function(jv){return jv.set(wv,rv)},this.setSize=function(jv,A0,Y0=!0){if(Ov.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}wv=jv,rv=A0,n.width=Math.floor(jv*Jm),n.height=Math.floor(A0*Jm),Y0===!0&&(n.style.width=jv+"px",n.style.height=A0+"px"),this.setViewport(0,0,jv,A0)},this.getDrawingBufferSize=function(jv){return jv.set(wv*Jm,rv*Jm).floor()},this.setDrawingBufferSize=function(jv,A0,Y0){wv=jv,rv=A0,Jm=Y0,n.width=Math.floor(jv*Y0),n.height=Math.floor(A0*Y0),this.setViewport(0,0,jv,A0)},this.getCurrentViewport=function(jv){return jv.copy(tv)},this.getViewport=function(jv){return jv.copy(mv)},this.setViewport=function(jv,A0,Y0,e1){jv.isVector4?mv.set(jv.x,jv.y,jv.z,jv.w):mv.set(jv,A0,Y0,e1),lv.viewport(tv.copy(mv).multiplyScalar(Jm).round())},this.getScissor=function(jv){return jv.copy(Cv)},this.setScissor=function(jv,A0,Y0,e1){jv.isVector4?Cv.set(jv.x,jv.y,jv.z,jv.w):Cv.set(jv,A0,Y0,e1),lv.scissor(nv.copy(Cv).multiplyScalar(Jm).round())},this.getScissorTest=function(){return uv},this.setScissorTest=function(jv){lv.setScissorTest(uv=jv)},this.setOpaqueSort=function(jv){dv=jv},this.setTransparentSort=function(jv){pv=jv},this.getClearColor=function(jv){return jv.copy(D0.getClearColor())},this.setClearColor=function(){D0.setClearColor.apply(D0,arguments)},this.getClearAlpha=function(){return D0.getClearAlpha()},this.setClearAlpha=function(){D0.setClearAlpha.apply(D0,arguments)},this.clear=function(jv=!0,A0=!0,Y0=!0){let e1=0;if(jv){let U0=!1;if(qm!==null){const p1=qm.texture.format;U0=p1===RGBAIntegerFormat||p1===RGIntegerFormat||p1===RedIntegerFormat}if(U0){const p1=qm.texture.type,T0=p1===UnsignedByteType||p1===UnsignedIntType||p1===UnsignedShortType||p1===UnsignedInt248Type||p1===UnsignedShort4444Type||p1===UnsignedShort5551Type,t1=D0.getClearColor(),o1=D0.getClearAlpha(),c1=t1.r,N1=t1.g,A1=t1.b;T0?(ur[0]=c1,ur[1]=N1,ur[2]=A1,ur[3]=o1,Av.clearBufferuiv(Av.COLOR,0,ur)):(hr[0]=c1,hr[1]=N1,hr[2]=A1,hr[3]=o1,Av.clearBufferiv(Av.COLOR,0,hr))}else e1|=Av.COLOR_BUFFER_BIT}A0&&(e1|=Av.DEPTH_BUFFER_BIT),Y0&&(e1|=Av.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Av.clear(e1)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Kv,!1),n.removeEventListener("webglcontextrestored",E0,!1),n.removeEventListener("webglcontextcreationerror",X0,!1),D0.dispose(),B0.dispose(),a1.dispose(),Iv.dispose(),Ev.dispose(),zv.dispose(),g0.dispose(),q0.dispose(),Rv.dispose(),Qv.dispose(),Ov.dispose(),Ov.removeEventListener("sessionstart",ty),Ov.removeEventListener("sessionend",Mv),P1.stop()};function Kv(jv){jv.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),rc=!0}function E0(){console.log("THREE.WebGLRenderer: Context Restored."),rc=!1;const jv=kv.autoReset,A0=M0.enabled,Y0=M0.autoUpdate,e1=M0.needsUpdate,U0=M0.type;k0(),kv.autoReset=jv,M0.enabled=A0,M0.autoUpdate=Y0,M0.needsUpdate=e1,M0.type=U0}function X0(jv){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",jv.statusMessage)}function l1(jv){const A0=jv.target;A0.removeEventListener("dispose",l1),x1(A0)}function x1(jv){K0(jv),Iv.remove(jv)}function K0(jv){const A0=Iv.get(jv).programs;A0!==void 0&&(A0.forEach(function(Y0){Qv.releaseProgram(Y0)}),jv.isShaderMaterial&&Qv.releaseShaderCache(jv))}this.renderBufferDirect=function(jv,A0,Y0,e1,U0,p1){A0===null&&(A0=Pv);const T0=U0.isMesh&&U0.matrixWorld.determinant()<0,t1=X1(jv,A0,Y0,e1,U0);lv.setMaterial(e1,T0);let o1=Y0.index,c1=1;if(e1.wireframe===!0){if(o1=Yv.getWireframeAttribute(Y0),o1===void 0)return;c1=2}const N1=Y0.drawRange,A1=Y0.attributes.position;let J1=N1.start*c1,ny=(N1.start+N1.count)*c1;p1!==null&&(J1=Math.max(J1,p1.start*c1),ny=Math.min(ny,(p1.start+p1.count)*c1)),o1!==null?(J1=Math.max(J1,0),ny=Math.min(ny,o1.count)):A1!=null&&(J1=Math.max(J1,0),ny=Math.min(ny,A1.count));const Ty=ny-J1;if(Ty<0||Ty===1/0)return;q0.setup(U0,e1,t1,Y0,o1);let Cy,ry=Zv;if(o1!==null&&(Cy=Fv.get(o1),ry=z0,ry.setIndex(Cy)),U0.isMesh)e1.wireframe===!0?(lv.setLineWidth(e1.wireframeLinewidth*Vv()),ry.setMode(Av.LINES)):ry.setMode(Av.TRIANGLES);else if(U0.isLine){let O1=e1.linewidth;O1===void 0&&(O1=1),lv.setLineWidth(O1*Vv()),U0.isLineSegments?ry.setMode(Av.LINES):U0.isLineLoop?ry.setMode(Av.LINE_LOOP):ry.setMode(Av.LINE_STRIP)}else U0.isPoints?ry.setMode(Av.POINTS):U0.isSprite&&ry.setMode(Av.TRIANGLES);if(U0.isBatchedMesh)if(U0._multiDrawInstances!==null)ry.renderMultiDrawInstances(U0._multiDrawStarts,U0._multiDrawCounts,U0._multiDrawCount,U0._multiDrawInstances);else if(av.get("WEBGL_multi_draw"))ry.renderMultiDraw(U0._multiDrawStarts,U0._multiDrawCounts,U0._multiDrawCount);else{const O1=U0._multiDrawStarts,Iy=U0._multiDrawCounts,fy=U0._multiDrawCount,$y=o1?Fv.get(o1).bytesPerElement:1,Sb=Iv.get(e1).currentProgram.getUniforms();for(let Uy=0;Uy<fy;Uy++)Sb.setValue(Av,"_gl_DrawID",Uy),ry.render(O1[Uy]/$y,Iy[Uy])}else if(U0.isInstancedMesh)ry.renderInstances(J1,Ty,U0.count);else if(Y0.isInstancedBufferGeometry){const O1=Y0._maxInstanceCount!==void 0?Y0._maxInstanceCount:1/0,Iy=Math.min(Y0.instanceCount,O1);ry.renderInstances(J1,Ty,Iy)}else ry.render(J1,Ty)};function J0(jv,A0,Y0){jv.transparent===!0&&jv.side===DoubleSide&&jv.forceSinglePass===!1?(jv.side=BackSide,jv.needsUpdate=!0,k1(jv,A0,Y0),jv.side=FrontSide,jv.needsUpdate=!0,k1(jv,A0,Y0),jv.side=DoubleSide):k1(jv,A0,Y0)}this.compile=function(jv,A0,Y0=null){Y0===null&&(Y0=jv),dr=a1.get(Y0),dr.init(A0),tc.push(dr),Y0.traverseVisible(function(U0){U0.isLight&&U0.layers.test(A0.layers)&&(dr.pushLight(U0),U0.castShadow&&dr.pushShadow(U0))}),jv!==Y0&&jv.traverseVisible(function(U0){U0.isLight&&U0.layers.test(A0.layers)&&(dr.pushLight(U0),U0.castShadow&&dr.pushShadow(U0))}),dr.setupLights();const e1=new Set;return jv.traverse(function(U0){if(!(U0.isMesh||U0.isPoints||U0.isLine||U0.isSprite))return;const p1=U0.material;if(p1)if(Array.isArray(p1))for(let T0=0;T0<p1.length;T0++){const t1=p1[T0];J0(t1,Y0,U0),e1.add(t1)}else J0(p1,Y0,U0),e1.add(p1)}),tc.pop(),dr=null,e1},this.compileAsync=function(jv,A0,Y0=null){const e1=this.compile(jv,A0,Y0);return new Promise(U0=>{function p1(){if(e1.forEach(function(T0){Iv.get(T0).currentProgram.isReady()&&e1.delete(T0)}),e1.size===0){U0(jv);return}setTimeout(p1,10)}av.get("KHR_parallel_shader_compile")!==null?p1():setTimeout(p1,10)})};let y1=null;function vy(jv){y1&&y1(jv)}function ty(){P1.stop()}function Mv(){P1.start()}const P1=new WebGLAnimation;P1.setAnimationLoop(vy),typeof self<"u"&&P1.setContext(self),this.setAnimationLoop=function(jv){y1=jv,Ov.setAnimationLoop(jv),jv===null?P1.stop():P1.start()},Ov.addEventListener("sessionstart",ty),Ov.addEventListener("sessionend",Mv),this.render=function(jv,A0){if(A0!==void 0&&A0.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(rc===!0)return;if(jv.matrixWorldAutoUpdate===!0&&jv.updateMatrixWorld(),A0.parent===null&&A0.matrixWorldAutoUpdate===!0&&A0.updateMatrixWorld(),Ov.enabled===!0&&Ov.isPresenting===!0&&(Ov.cameraAutoUpdate===!0&&Ov.updateCamera(A0),A0=Ov.getCamera()),jv.isScene===!0&&jv.onBeforeRender(Xs,jv,A0,qm),dr=a1.get(jv,tc.length),dr.init(A0),tc.push(dr),Gv.multiplyMatrices(A0.projectionMatrix,A0.matrixWorldInverse),yv.setFromProjectionMatrix(Gv),Dv=this.localClippingEnabled,$v=I0.init(this.clippingPlanes,Dv),Vr=B0.get(jv,ec.length),Vr.init(),ec.push(Vr),Ov.enabled===!0&&Ov.isPresenting===!0){const p1=Xs.xr.getDepthSensingMesh();p1!==null&&Py(p1,A0,-1/0,Xs.sortObjects)}Py(jv,A0,0,Xs.sortObjects),Vr.finish(),Xs.sortObjects===!0&&Vr.sort(dv,pv),Tv=Ov.enabled===!1||Ov.isPresenting===!1||Ov.hasDepthSensing()===!1,Tv&&D0.addToRenderList(Vr,jv),this.info.render.frame++,$v===!0&&I0.beginShadows();const Y0=dr.state.shadowsArray;M0.render(Y0,jv,A0),$v===!0&&I0.endShadows(),this.info.autoReset===!0&&this.info.reset();const e1=Vr.opaque,U0=Vr.transmissive;if(dr.setupLights(),A0.isArrayCamera){const p1=A0.cameras;if(U0.length>0)for(let T0=0,t1=p1.length;T0<t1;T0++){const o1=p1[T0];yy(e1,U0,jv,o1)}Tv&&D0.render(jv);for(let T0=0,t1=p1.length;T0<t1;T0++){const o1=p1[T0];Ny(Vr,jv,o1,o1.viewport)}}else U0.length>0&&yy(e1,U0,jv,A0),Tv&&D0.render(jv),Ny(Vr,jv,A0);qm!==null&&_c===0&&(vv.updateMultisampleRenderTarget(qm),vv.updateRenderTargetMipmap(qm)),jv.isScene===!0&&jv.onAfterRender(Xs,jv,A0),q0.resetDefaultState(),Xm=-1,Km=null,tc.pop(),tc.length>0?(dr=tc[tc.length-1],$v===!0&&I0.setGlobalState(Xs.clippingPlanes,dr.state.camera)):dr=null,ec.pop(),ec.length>0?Vr=ec[ec.length-1]:Vr=null};function Py(jv,A0,Y0,e1){if(jv.visible===!1)return;if(jv.layers.test(A0.layers)){if(jv.isGroup)Y0=jv.renderOrder;else if(jv.isLOD)jv.autoUpdate===!0&&jv.update(A0);else if(jv.isLight)dr.pushLight(jv),jv.castShadow&&dr.pushShadow(jv);else if(jv.isSprite){if(!jv.frustumCulled||yv.intersectsSprite(jv)){e1&&qv.setFromMatrixPosition(jv.matrixWorld).applyMatrix4(Gv);const T0=g0.update(jv),t1=jv.material;t1.visible&&Vr.push(jv,T0,t1,Y0,qv.z,null)}}else if((jv.isMesh||jv.isLine||jv.isPoints)&&(!jv.frustumCulled||yv.intersectsObject(jv))){const T0=g0.update(jv),t1=jv.material;if(e1&&(jv.boundingSphere!==void 0?(jv.boundingSphere===null&&jv.computeBoundingSphere(),qv.copy(jv.boundingSphere.center)):(T0.boundingSphere===null&&T0.computeBoundingSphere(),qv.copy(T0.boundingSphere.center)),qv.applyMatrix4(jv.matrixWorld).applyMatrix4(Gv)),Array.isArray(t1)){const o1=T0.groups;for(let c1=0,N1=o1.length;c1<N1;c1++){const A1=o1[c1],J1=t1[A1.materialIndex];J1&&J1.visible&&Vr.push(jv,T0,J1,Y0,qv.z,A1)}}else t1.visible&&Vr.push(jv,T0,t1,Y0,qv.z,null)}}const p1=jv.children;for(let T0=0,t1=p1.length;T0<t1;T0++)Py(p1[T0],A0,Y0,e1)}function Ny(jv,A0,Y0,e1){const U0=jv.opaque,p1=jv.transmissive,T0=jv.transparent;dr.setupLightsView(Y0),$v===!0&&I0.setGlobalState(Xs.clippingPlanes,Y0),e1&&lv.viewport(tv.copy(e1)),U0.length>0&&Hy(U0,A0,Y0),p1.length>0&&Hy(p1,A0,Y0),T0.length>0&&Hy(T0,A0,Y0),lv.buffers.depth.setTest(!0),lv.buffers.depth.setMask(!0),lv.buffers.color.setMask(!0),lv.setPolygonOffset(!1)}function yy(jv,A0,Y0,e1){if((Y0.isScene===!0?Y0.overrideMaterial:null)!==null)return;dr.state.transmissionRenderTarget[e1.id]===void 0&&(dr.state.transmissionRenderTarget[e1.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:av.has("EXT_color_buffer_half_float")||av.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:$,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const p1=dr.state.transmissionRenderTarget[e1.id],T0=e1.viewport||tv;p1.setSize(T0.z*Xs.transmissionResolutionScale,T0.w*Xs.transmissionResolutionScale);const t1=Xs.getRenderTarget();Xs.setRenderTarget(p1),Xs.getClearColor(gv),Sv=Xs.getClearAlpha(),Sv<1&&Xs.setClearColor(16777215,.5),Xs.clear(),Tv&&D0.render(Y0);const o1=Xs.toneMapping;Xs.toneMapping=NoToneMapping;const c1=e1.viewport;if(e1.viewport!==void 0&&(e1.viewport=void 0),dr.setupLightsView(e1),$v===!0&&I0.setGlobalState(Xs.clippingPlanes,e1),Hy(jv,Y0,e1),vv.updateMultisampleRenderTarget(p1),vv.updateRenderTargetMipmap(p1),av.has("WEBGL_multisampled_render_to_texture")===!1){let N1=!1;for(let A1=0,J1=A0.length;A1<J1;A1++){const ny=A0[A1],Ty=ny.object,Cy=ny.geometry,ry=ny.material,O1=ny.group;if(ry.side===DoubleSide&&Ty.layers.test(e1.layers)){const Iy=ry.side;ry.side=BackSide,ry.needsUpdate=!0,R0(Ty,Y0,e1,Cy,ry,O1),ry.side=Iy,ry.needsUpdate=!0,N1=!0}}N1===!0&&(vv.updateMultisampleRenderTarget(p1),vv.updateRenderTargetMipmap(p1))}Xs.setRenderTarget(t1),Xs.setClearColor(gv,Sv),c1!==void 0&&(e1.viewport=c1),Xs.toneMapping=o1}function Hy(jv,A0,Y0){const e1=A0.isScene===!0?A0.overrideMaterial:null;for(let U0=0,p1=jv.length;U0<p1;U0++){const T0=jv[U0],t1=T0.object,o1=T0.geometry,c1=e1===null?T0.material:e1,N1=T0.group;t1.layers.test(Y0.layers)&&R0(t1,A0,Y0,o1,c1,N1)}}function R0(jv,A0,Y0,e1,U0,p1){jv.onBeforeRender(Xs,A0,Y0,e1,U0,p1),jv.modelViewMatrix.multiplyMatrices(Y0.matrixWorldInverse,jv.matrixWorld),jv.normalMatrix.getNormalMatrix(jv.modelViewMatrix),U0.onBeforeRender(Xs,A0,Y0,e1,jv,p1),U0.transparent===!0&&U0.side===DoubleSide&&U0.forceSinglePass===!1?(U0.side=BackSide,U0.needsUpdate=!0,Xs.renderBufferDirect(Y0,A0,e1,U0,jv,p1),U0.side=FrontSide,U0.needsUpdate=!0,Xs.renderBufferDirect(Y0,A0,e1,U0,jv,p1),U0.side=DoubleSide):Xs.renderBufferDirect(Y0,A0,e1,U0,jv,p1),jv.onAfterRender(Xs,A0,Y0,e1,U0,p1)}function k1(jv,A0,Y0){A0.isScene!==!0&&(A0=Pv);const e1=Iv.get(jv),U0=dr.state.lights,p1=dr.state.shadowsArray,T0=U0.state.version,t1=Qv.getParameters(jv,U0.state,p1,A0,Y0),o1=Qv.getProgramCacheKey(t1);let c1=e1.programs;e1.environment=jv.isMeshStandardMaterial?A0.environment:null,e1.fog=A0.fog,e1.envMap=(jv.isMeshStandardMaterial?zv:Ev).get(jv.envMap||e1.environment),e1.envMapRotation=e1.environment!==null&&jv.envMap===null?A0.environmentRotation:jv.envMapRotation,c1===void 0&&(jv.addEventListener("dispose",l1),c1=new Map,e1.programs=c1);let N1=c1.get(o1);if(N1!==void 0){if(e1.currentProgram===N1&&e1.lightsStateVersion===T0)return j1(jv,t1),N1}else t1.uniforms=Qv.getUniforms(jv),jv.onBeforeCompile(t1,Xs),N1=Qv.acquireProgram(t1,o1),c1.set(o1,N1),e1.uniforms=t1.uniforms;const A1=e1.uniforms;return(!jv.isShaderMaterial&&!jv.isRawShaderMaterial||jv.clipping===!0)&&(A1.clippingPlanes=I0.uniform),j1(jv,t1),e1.needsLights=d1(jv),e1.lightsStateVersion=T0,e1.needsLights&&(A1.ambientLightColor.value=U0.state.ambient,A1.lightProbe.value=U0.state.probe,A1.directionalLights.value=U0.state.directional,A1.directionalLightShadows.value=U0.state.directionalShadow,A1.spotLights.value=U0.state.spot,A1.spotLightShadows.value=U0.state.spotShadow,A1.rectAreaLights.value=U0.state.rectArea,A1.ltc_1.value=U0.state.rectAreaLTC1,A1.ltc_2.value=U0.state.rectAreaLTC2,A1.pointLights.value=U0.state.point,A1.pointLightShadows.value=U0.state.pointShadow,A1.hemisphereLights.value=U0.state.hemi,A1.directionalShadowMap.value=U0.state.directionalShadowMap,A1.directionalShadowMatrix.value=U0.state.directionalShadowMatrix,A1.spotShadowMap.value=U0.state.spotShadowMap,A1.spotLightMatrix.value=U0.state.spotLightMatrix,A1.spotLightMap.value=U0.state.spotLightMap,A1.pointShadowMap.value=U0.state.pointShadowMap,A1.pointShadowMatrix.value=U0.state.pointShadowMatrix),e1.currentProgram=N1,e1.uniformsList=null,N1}function V1(jv){if(jv.uniformsList===null){const A0=jv.currentProgram.getUniforms();jv.uniformsList=WebGLUniforms.seqWithValue(A0.seq,jv.uniforms)}return jv.uniformsList}function j1(jv,A0){const Y0=Iv.get(jv);Y0.outputColorSpace=A0.outputColorSpace,Y0.batching=A0.batching,Y0.batchingColor=A0.batchingColor,Y0.instancing=A0.instancing,Y0.instancingColor=A0.instancingColor,Y0.instancingMorph=A0.instancingMorph,Y0.skinning=A0.skinning,Y0.morphTargets=A0.morphTargets,Y0.morphNormals=A0.morphNormals,Y0.morphColors=A0.morphColors,Y0.morphTargetsCount=A0.morphTargetsCount,Y0.numClippingPlanes=A0.numClippingPlanes,Y0.numIntersection=A0.numClipIntersection,Y0.vertexAlphas=A0.vertexAlphas,Y0.vertexTangents=A0.vertexTangents,Y0.toneMapping=A0.toneMapping}function X1(jv,A0,Y0,e1,U0){A0.isScene!==!0&&(A0=Pv),vv.resetTextureUnits();const p1=A0.fog,T0=e1.isMeshStandardMaterial?A0.environment:null,t1=qm===null?Xs.outputColorSpace:qm.isXRRenderTarget===!0?qm.texture.colorSpace:LinearSRGBColorSpace,o1=(e1.isMeshStandardMaterial?zv:Ev).get(e1.envMap||T0),c1=e1.vertexColors===!0&&!!Y0.attributes.color&&Y0.attributes.color.itemSize===4,N1=!!Y0.attributes.tangent&&(!!e1.normalMap||e1.anisotropy>0),A1=!!Y0.morphAttributes.position,J1=!!Y0.morphAttributes.normal,ny=!!Y0.morphAttributes.color;let Ty=NoToneMapping;e1.toneMapped&&(qm===null||qm.isXRRenderTarget===!0)&&(Ty=Xs.toneMapping);const Cy=Y0.morphAttributes.position||Y0.morphAttributes.normal||Y0.morphAttributes.color,ry=Cy!==void 0?Cy.length:0,O1=Iv.get(e1),Iy=dr.state.lights;if($v===!0&&(Dv===!0||jv!==Km)){const Gy=jv===Km&&e1.id===Xm;I0.setState(e1,jv,Gy)}let fy=!1;e1.version===O1.__version?(O1.needsLights&&O1.lightsStateVersion!==Iy.state.version||O1.outputColorSpace!==t1||U0.isBatchedMesh&&O1.batching===!1||!U0.isBatchedMesh&&O1.batching===!0||U0.isBatchedMesh&&O1.batchingColor===!0&&U0.colorTexture===null||U0.isBatchedMesh&&O1.batchingColor===!1&&U0.colorTexture!==null||U0.isInstancedMesh&&O1.instancing===!1||!U0.isInstancedMesh&&O1.instancing===!0||U0.isSkinnedMesh&&O1.skinning===!1||!U0.isSkinnedMesh&&O1.skinning===!0||U0.isInstancedMesh&&O1.instancingColor===!0&&U0.instanceColor===null||U0.isInstancedMesh&&O1.instancingColor===!1&&U0.instanceColor!==null||U0.isInstancedMesh&&O1.instancingMorph===!0&&U0.morphTexture===null||U0.isInstancedMesh&&O1.instancingMorph===!1&&U0.morphTexture!==null||O1.envMap!==o1||e1.fog===!0&&O1.fog!==p1||O1.numClippingPlanes!==void 0&&(O1.numClippingPlanes!==I0.numPlanes||O1.numIntersection!==I0.numIntersection)||O1.vertexAlphas!==c1||O1.vertexTangents!==N1||O1.morphTargets!==A1||O1.morphNormals!==J1||O1.morphColors!==ny||O1.toneMapping!==Ty||O1.morphTargetsCount!==ry)&&(fy=!0):(fy=!0,O1.__version=e1.version);let $y=O1.currentProgram;fy===!0&&($y=k1(e1,A0,U0));let Sb=!1,Uy=!1,kb=!1;const ky=$y.getUniforms(),oy=O1.uniforms;if(lv.useProgram($y.program)&&(Sb=!0,Uy=!0,kb=!0),e1.id!==Xm&&(Xm=e1.id,Uy=!0),Sb||Km!==jv){lv.buffers.depth.getReversed()?(Hv.copy(jv.projectionMatrix),toNormalizedProjectionMatrix(Hv),toReversedProjectionMatrix(Hv),ky.setValue(Av,"projectionMatrix",Hv)):ky.setValue(Av,"projectionMatrix",jv.projectionMatrix),ky.setValue(Av,"viewMatrix",jv.matrixWorldInverse);const Wy=ky.map.cameraPosition;Wy!==void 0&&Wy.setValue(Av,f0.setFromMatrixPosition(jv.matrixWorld)),fv.logarithmicDepthBuffer&&ky.setValue(Av,"logDepthBufFC",2/(Math.log(jv.far+1)/Math.LN2)),(e1.isMeshPhongMaterial||e1.isMeshToonMaterial||e1.isMeshLambertMaterial||e1.isMeshBasicMaterial||e1.isMeshStandardMaterial||e1.isShaderMaterial)&&ky.setValue(Av,"isOrthographic",jv.isOrthographicCamera===!0),Km!==jv&&(Km=jv,Uy=!0,kb=!0)}if(U0.isSkinnedMesh){ky.setOptional(Av,U0,"bindMatrix"),ky.setOptional(Av,U0,"bindMatrixInverse");const Gy=U0.skeleton;Gy&&(Gy.boneTexture===null&&Gy.computeBoneTexture(),ky.setValue(Av,"boneTexture",Gy.boneTexture,vv))}U0.isBatchedMesh&&(ky.setOptional(Av,U0,"batchingTexture"),ky.setValue(Av,"batchingTexture",U0._matricesTexture,vv),ky.setOptional(Av,U0,"batchingIdTexture"),ky.setValue(Av,"batchingIdTexture",U0._indirectTexture,vv),ky.setOptional(Av,U0,"batchingColorTexture"),U0._colorsTexture!==null&&ky.setValue(Av,"batchingColorTexture",U0._colorsTexture,vv));const Qy=Y0.morphAttributes;if((Qy.position!==void 0||Qy.normal!==void 0||Qy.color!==void 0)&&W0.update(U0,Y0,$y),(Uy||O1.receiveShadow!==U0.receiveShadow)&&(O1.receiveShadow=U0.receiveShadow,ky.setValue(Av,"receiveShadow",U0.receiveShadow)),e1.isMeshGouraudMaterial&&e1.envMap!==null&&(oy.envMap.value=o1,oy.flipEnvMap.value=o1.isCubeTexture&&o1.isRenderTargetTexture===!1?-1:1),e1.isMeshStandardMaterial&&e1.envMap===null&&A0.environment!==null&&(oy.envMapIntensity.value=A0.environmentIntensity),Uy&&(ky.setValue(Av,"toneMappingExposure",Xs.toneMappingExposure),O1.needsLights&&H0(oy,kb),p1&&e1.fog===!0&&N0.refreshFogUniforms(oy,p1),N0.refreshMaterialUniforms(oy,e1,Jm,rv,dr.state.transmissionRenderTarget[jv.id]),WebGLUniforms.upload(Av,V1(O1),oy,vv)),e1.isShaderMaterial&&e1.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Av,V1(O1),oy,vv),e1.uniformsNeedUpdate=!1),e1.isSpriteMaterial&&ky.setValue(Av,"center",U0.center),ky.setValue(Av,"modelViewMatrix",U0.modelViewMatrix),ky.setValue(Av,"normalMatrix",U0.normalMatrix),ky.setValue(Av,"modelMatrix",U0.matrixWorld),e1.isShaderMaterial||e1.isRawShaderMaterial){const Gy=e1.uniformsGroups;for(let Wy=0,Bb=Gy.length;Wy<Bb;Wy++){const nc=Gy[Wy];Rv.update(nc,$y),Rv.bind(nc,$y)}}return $y}function H0(jv,A0){jv.ambientLightColor.needsUpdate=A0,jv.lightProbe.needsUpdate=A0,jv.directionalLights.needsUpdate=A0,jv.directionalLightShadows.needsUpdate=A0,jv.pointLights.needsUpdate=A0,jv.pointLightShadows.needsUpdate=A0,jv.spotLights.needsUpdate=A0,jv.spotLightShadows.needsUpdate=A0,jv.rectAreaLights.needsUpdate=A0,jv.hemisphereLights.needsUpdate=A0}function d1(jv){return jv.isMeshLambertMaterial||jv.isMeshToonMaterial||jv.isMeshPhongMaterial||jv.isMeshStandardMaterial||jv.isShadowMaterial||jv.isShaderMaterial&&jv.lights===!0}this.getActiveCubeFace=function(){return ic},this.getActiveMipmapLevel=function(){return _c},this.getRenderTarget=function(){return qm},this.setRenderTargetTextures=function(jv,A0,Y0){Iv.get(jv.texture).__webglTexture=A0,Iv.get(jv.depthTexture).__webglTexture=Y0;const e1=Iv.get(jv);e1.__hasExternalTextures=!0,e1.__autoAllocateDepthBuffer=Y0===void 0,e1.__autoAllocateDepthBuffer||av.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),e1.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(jv,A0){const Y0=Iv.get(jv);Y0.__webglFramebuffer=A0,Y0.__useDefaultFramebuffer=A0===void 0};const h1=Av.createFramebuffer();this.setRenderTarget=function(jv,A0=0,Y0=0){qm=jv,ic=A0,_c=Y0;let e1=!0,U0=null,p1=!1,T0=!1;if(jv){const o1=Iv.get(jv);if(o1.__useDefaultFramebuffer!==void 0)lv.bindFramebuffer(Av.FRAMEBUFFER,null),e1=!1;else if(o1.__webglFramebuffer===void 0)vv.setupRenderTarget(jv);else if(o1.__hasExternalTextures)vv.rebindTextures(jv,Iv.get(jv.texture).__webglTexture,Iv.get(jv.depthTexture).__webglTexture);else if(jv.depthBuffer){const A1=jv.depthTexture;if(o1.__boundDepthTexture!==A1){if(A1!==null&&Iv.has(A1)&&(jv.width!==A1.image.width||jv.height!==A1.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");vv.setupDepthRenderbuffer(jv)}}const c1=jv.texture;(c1.isData3DTexture||c1.isDataArrayTexture||c1.isCompressedArrayTexture)&&(T0=!0);const N1=Iv.get(jv).__webglFramebuffer;jv.isWebGLCubeRenderTarget?(Array.isArray(N1[A0])?U0=N1[A0][Y0]:U0=N1[A0],p1=!0):jv.samples>0&&vv.useMultisampledRTT(jv)===!1?U0=Iv.get(jv).__webglMultisampledFramebuffer:Array.isArray(N1)?U0=N1[Y0]:U0=N1,tv.copy(jv.viewport),nv.copy(jv.scissor),sv=jv.scissorTest}else tv.copy(mv).multiplyScalar(Jm).floor(),nv.copy(Cv).multiplyScalar(Jm).floor(),sv=uv;if(Y0!==0&&(U0=h1),lv.bindFramebuffer(Av.FRAMEBUFFER,U0)&&e1&&lv.drawBuffers(jv,U0),lv.viewport(tv),lv.scissor(nv),lv.setScissorTest(sv),p1){const o1=Iv.get(jv.texture);Av.framebufferTexture2D(Av.FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Av.TEXTURE_CUBE_MAP_POSITIVE_X+A0,o1.__webglTexture,Y0)}else if(T0){const o1=Iv.get(jv.texture),c1=A0;Av.framebufferTextureLayer(Av.FRAMEBUFFER,Av.COLOR_ATTACHMENT0,o1.__webglTexture,Y0,c1)}else if(jv!==null&&Y0!==0){const o1=Iv.get(jv.texture);Av.framebufferTexture2D(Av.FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Av.TEXTURE_2D,o1.__webglTexture,Y0)}Xm=-1},this.readRenderTargetPixels=function(jv,A0,Y0,e1,U0,p1,T0){if(!(jv&&jv.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let t1=Iv.get(jv).__webglFramebuffer;if(jv.isWebGLCubeRenderTarget&&T0!==void 0&&(t1=t1[T0]),t1){lv.bindFramebuffer(Av.FRAMEBUFFER,t1);try{const o1=jv.texture,c1=o1.format,N1=o1.type;if(!fv.textureFormatReadable(c1)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!fv.textureTypeReadable(N1)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}A0>=0&&A0<=jv.width-e1&&Y0>=0&&Y0<=jv.height-U0&&Av.readPixels(A0,Y0,e1,U0,_0.convert(c1),_0.convert(N1),p1)}finally{const o1=qm!==null?Iv.get(qm).__webglFramebuffer:null;lv.bindFramebuffer(Av.FRAMEBUFFER,o1)}}},this.readRenderTargetPixelsAsync=async function(jv,A0,Y0,e1,U0,p1,T0){if(!(jv&&jv.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let t1=Iv.get(jv).__webglFramebuffer;if(jv.isWebGLCubeRenderTarget&&T0!==void 0&&(t1=t1[T0]),t1){const o1=jv.texture,c1=o1.format,N1=o1.type;if(!fv.textureFormatReadable(c1))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!fv.textureTypeReadable(N1))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(A0>=0&&A0<=jv.width-e1&&Y0>=0&&Y0<=jv.height-U0){lv.bindFramebuffer(Av.FRAMEBUFFER,t1);const A1=Av.createBuffer();Av.bindBuffer(Av.PIXEL_PACK_BUFFER,A1),Av.bufferData(Av.PIXEL_PACK_BUFFER,p1.byteLength,Av.STREAM_READ),Av.readPixels(A0,Y0,e1,U0,_0.convert(c1),_0.convert(N1),0);const J1=qm!==null?Iv.get(qm).__webglFramebuffer:null;lv.bindFramebuffer(Av.FRAMEBUFFER,J1);const ny=Av.fenceSync(Av.SYNC_GPU_COMMANDS_COMPLETE,0);return Av.flush(),await probeAsync(Av,ny,4),Av.bindBuffer(Av.PIXEL_PACK_BUFFER,A1),Av.getBufferSubData(Av.PIXEL_PACK_BUFFER,0,p1),Av.deleteBuffer(A1),Av.deleteSync(ny),p1}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(jv,A0=null,Y0=0){jv.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),A0=arguments[0]||null,jv=arguments[1]);const e1=Math.pow(2,-Y0),U0=Math.floor(jv.image.width*e1),p1=Math.floor(jv.image.height*e1),T0=A0!==null?A0.x:0,t1=A0!==null?A0.y:0;vv.setTexture2D(jv,0),Av.copyTexSubImage2D(Av.TEXTURE_2D,Y0,0,0,T0,t1,U0,p1),lv.unbindTexture()};const Z1=Av.createFramebuffer(),ey=Av.createFramebuffer();this.copyTextureToTexture=function(jv,A0,Y0=null,e1=null,U0=0,p1=null){jv.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),e1=arguments[0]||null,jv=arguments[1],A0=arguments[2],p1=arguments[3]||0,Y0=null),p1===null&&(U0!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),p1=U0,U0=0):p1=0);let T0,t1,o1,c1,N1,A1,J1,ny,Ty;const Cy=jv.isCompressedTexture?jv.mipmaps[p1]:jv.image;if(Y0!==null)T0=Y0.max.x-Y0.min.x,t1=Y0.max.y-Y0.min.y,o1=Y0.isBox3?Y0.max.z-Y0.min.z:1,c1=Y0.min.x,N1=Y0.min.y,A1=Y0.isBox3?Y0.min.z:0;else{const Qy=Math.pow(2,-U0);T0=Math.floor(Cy.width*Qy),t1=Math.floor(Cy.height*Qy),jv.isDataArrayTexture?o1=Cy.depth:jv.isData3DTexture?o1=Math.floor(Cy.depth*Qy):o1=1,c1=0,N1=0,A1=0}e1!==null?(J1=e1.x,ny=e1.y,Ty=e1.z):(J1=0,ny=0,Ty=0);const ry=_0.convert(A0.format),O1=_0.convert(A0.type);let Iy;A0.isData3DTexture?(vv.setTexture3D(A0,0),Iy=Av.TEXTURE_3D):A0.isDataArrayTexture||A0.isCompressedArrayTexture?(vv.setTexture2DArray(A0,0),Iy=Av.TEXTURE_2D_ARRAY):(vv.setTexture2D(A0,0),Iy=Av.TEXTURE_2D),Av.pixelStorei(Av.UNPACK_FLIP_Y_WEBGL,A0.flipY),Av.pixelStorei(Av.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A0.premultiplyAlpha),Av.pixelStorei(Av.UNPACK_ALIGNMENT,A0.unpackAlignment);const fy=Av.getParameter(Av.UNPACK_ROW_LENGTH),$y=Av.getParameter(Av.UNPACK_IMAGE_HEIGHT),Sb=Av.getParameter(Av.UNPACK_SKIP_PIXELS),Uy=Av.getParameter(Av.UNPACK_SKIP_ROWS),kb=Av.getParameter(Av.UNPACK_SKIP_IMAGES);Av.pixelStorei(Av.UNPACK_ROW_LENGTH,Cy.width),Av.pixelStorei(Av.UNPACK_IMAGE_HEIGHT,Cy.height),Av.pixelStorei(Av.UNPACK_SKIP_PIXELS,c1),Av.pixelStorei(Av.UNPACK_SKIP_ROWS,N1),Av.pixelStorei(Av.UNPACK_SKIP_IMAGES,A1);const ky=jv.isDataArrayTexture||jv.isData3DTexture,oy=A0.isDataArrayTexture||A0.isData3DTexture;if(jv.isDepthTexture){const Qy=Iv.get(jv),Gy=Iv.get(A0),Wy=Iv.get(Qy.__renderTarget),Bb=Iv.get(Gy.__renderTarget);lv.bindFramebuffer(Av.READ_FRAMEBUFFER,Wy.__webglFramebuffer),lv.bindFramebuffer(Av.DRAW_FRAMEBUFFER,Bb.__webglFramebuffer);for(let nc=0;nc<o1;nc++)ky&&(Av.framebufferTextureLayer(Av.READ_FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Iv.get(jv).__webglTexture,U0,A1+nc),Av.framebufferTextureLayer(Av.DRAW_FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Iv.get(A0).__webglTexture,p1,Ty+nc)),Av.blitFramebuffer(c1,N1,T0,t1,J1,ny,T0,t1,Av.DEPTH_BUFFER_BIT,Av.NEAREST);lv.bindFramebuffer(Av.READ_FRAMEBUFFER,null),lv.bindFramebuffer(Av.DRAW_FRAMEBUFFER,null)}else if(U0!==0||jv.isRenderTargetTexture||Iv.has(jv)){const Qy=Iv.get(jv),Gy=Iv.get(A0);lv.bindFramebuffer(Av.READ_FRAMEBUFFER,Z1),lv.bindFramebuffer(Av.DRAW_FRAMEBUFFER,ey);for(let Wy=0;Wy<o1;Wy++)ky?Av.framebufferTextureLayer(Av.READ_FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Qy.__webglTexture,U0,A1+Wy):Av.framebufferTexture2D(Av.READ_FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Av.TEXTURE_2D,Qy.__webglTexture,U0),oy?Av.framebufferTextureLayer(Av.DRAW_FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Gy.__webglTexture,p1,Ty+Wy):Av.framebufferTexture2D(Av.DRAW_FRAMEBUFFER,Av.COLOR_ATTACHMENT0,Av.TEXTURE_2D,Gy.__webglTexture,p1),U0!==0?Av.blitFramebuffer(c1,N1,T0,t1,J1,ny,T0,t1,Av.COLOR_BUFFER_BIT,Av.NEAREST):oy?Av.copyTexSubImage3D(Iy,p1,J1,ny,Ty+Wy,c1,N1,T0,t1):Av.copyTexSubImage2D(Iy,p1,J1,ny,c1,N1,T0,t1);lv.bindFramebuffer(Av.READ_FRAMEBUFFER,null),lv.bindFramebuffer(Av.DRAW_FRAMEBUFFER,null)}else oy?jv.isDataTexture||jv.isData3DTexture?Av.texSubImage3D(Iy,p1,J1,ny,Ty,T0,t1,o1,ry,O1,Cy.data):A0.isCompressedArrayTexture?Av.compressedTexSubImage3D(Iy,p1,J1,ny,Ty,T0,t1,o1,ry,Cy.data):Av.texSubImage3D(Iy,p1,J1,ny,Ty,T0,t1,o1,ry,O1,Cy):jv.isDataTexture?Av.texSubImage2D(Av.TEXTURE_2D,p1,J1,ny,T0,t1,ry,O1,Cy.data):jv.isCompressedTexture?Av.compressedTexSubImage2D(Av.TEXTURE_2D,p1,J1,ny,Cy.width,Cy.height,ry,Cy.data):Av.texSubImage2D(Av.TEXTURE_2D,p1,J1,ny,T0,t1,ry,O1,Cy);Av.pixelStorei(Av.UNPACK_ROW_LENGTH,fy),Av.pixelStorei(Av.UNPACK_IMAGE_HEIGHT,$y),Av.pixelStorei(Av.UNPACK_SKIP_PIXELS,Sb),Av.pixelStorei(Av.UNPACK_SKIP_ROWS,Uy),Av.pixelStorei(Av.UNPACK_SKIP_IMAGES,kb),p1===0&&A0.generateMipmaps&&Av.generateMipmap(Iy),lv.unbindTexture()},this.copyTextureToTexture3D=function(jv,A0,Y0=null,e1=null,U0=0){return jv.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Y0=arguments[0]||null,e1=arguments[1]||null,jv=arguments[2],A0=arguments[3],U0=arguments[4]||0),warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(jv,A0,Y0,e1,U0)},this.initRenderTarget=function(jv){Iv.get(jv).__webglFramebuffer===void 0&&vv.setupRenderTarget(jv)},this.initTexture=function(jv){jv.isCubeTexture?vv.setTextureCube(jv,0):jv.isData3DTexture?vv.setTexture3D(jv,0):jv.isDataArrayTexture||jv.isCompressedArrayTexture?vv.setTexture2DArray(jv,0):vv.setTexture2D(jv,0),lv.unbindTexture()},this.resetState=function(){ic=0,_c=0,qm=null,lv.reset(),q0.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=ColorManagement._getDrawingBufferColorSpace(e),n.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}function mergeGeometries(t,e=!1){const n=t[0].index!==null,r=new Set(Object.keys(t[0].attributes)),g=new Set(Object.keys(t[0].morphAttributes)),$={},y={},k=t[0].morphTargetsRelative,L=new BufferGeometry;let V=0;for(let z=0;z<t.length;++z){const j=t[z];let ie=0;if(n!==(j.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const Oe in j.attributes){if(!r.has(Oe))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+'. All geometries must have compatible attributes; make sure "'+Oe+'" attribute exists among all geometries, or in none of them.'),null;$[Oe]===void 0&&($[Oe]=[]),$[Oe].push(j.attributes[Oe]),ie++}if(ie!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". Make sure all geometries have the same number of attributes."),null;if(k!==j.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const Oe in j.morphAttributes){if(!g.has(Oe))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+".  .morphAttributes must be consistent throughout all geometries."),null;y[Oe]===void 0&&(y[Oe]=[]),y[Oe].push(j.morphAttributes[Oe])}if(e){let Oe;if(n)Oe=j.index.count;else if(j.attributes.position!==void 0)Oe=j.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". The geometry must have either an index or a position attribute"),null;L.addGroup(V,Oe,z),V+=Oe}}if(n){let z=0;const j=[];for(let ie=0;ie<t.length;++ie){const Oe=t[ie].index;for(let ur=0;ur<Oe.count;++ur)j.push(Oe.getX(ur)+z);z+=t[ie].attributes.position.count}L.setIndex(j)}for(const z in $){const j=mergeAttributes($[z]);if(!j)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+z+" attribute."),null;L.setAttribute(z,j)}for(const z in y){const j=y[z][0].length;if(j===0)break;L.morphAttributes=L.morphAttributes||{},L.morphAttributes[z]=[];for(let ie=0;ie<j;++ie){const Oe=[];for(let hr=0;hr<y[z].length;++hr)Oe.push(y[z][hr][ie]);const ur=mergeAttributes(Oe);if(!ur)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+z+" morphAttribute."),null;L.morphAttributes[z].push(ur)}}return L}function mergeAttributes(t){let e,n,r,g=-1,$=0;for(let V=0;V<t.length;++V){const z=t[V];if(e===void 0&&(e=z.array.constructor),e!==z.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=z.itemSize),n!==z.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=z.normalized),r!==z.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(g===-1&&(g=z.gpuType),g!==z.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;$+=z.count*n}const y=new e($),k=new BufferAttribute(y,n,r);let L=0;for(let V=0;V<t.length;++V){const z=t[V];if(z.isInterleavedBufferAttribute){const j=L/n;for(let ie=0,Oe=z.count;ie<Oe;ie++)for(let ur=0;ur<n;ur++){const hr=z.getComponent(ie,ur);k.setComponent(ie+j,ur,hr)}}else y.set(z.array,L);L+=z.count*n}return g!==void 0&&(k.gpuType=g),k}const _changeEvent={type:"change"},_startEvent={type:"start"},_endEvent={type:"end"},_ray=new Ray,_plane=new Plane,_TILT_LIMIT=Math.cos(70*MathUtils.DEG2RAD),_v=new Vector3,_twoPI=2*Math.PI,_STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},_EPS=1e-6;class OrbitControls extends Controls{constructor(e,n=null){super(e,n),this.state=_STATE.NONE,this.enabled=!0,this.target=new Vector3,this.cursor=new Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN},this.touches={ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Vector3,this._lastQuaternion=new Quaternion,this._lastTargetPosition=new Vector3,this._quat=new Quaternion().setFromUnitVectors(e.up,new Vector3(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Spherical,this._sphericalDelta=new Spherical,this._scale=1,this._panOffset=new Vector3,this._rotateStart=new Vector2,this._rotateEnd=new Vector2,this._rotateDelta=new Vector2,this._panStart=new Vector2,this._panEnd=new Vector2,this._panDelta=new Vector2,this._dollyStart=new Vector2,this._dollyEnd=new Vector2,this._dollyDelta=new Vector2,this._dollyDirection=new Vector3,this._mouse=new Vector2,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=onPointerMove.bind(this),this._onPointerDown=onPointerDown.bind(this),this._onPointerUp=onPointerUp.bind(this),this._onContextMenu=onContextMenu.bind(this),this._onMouseWheel=onMouseWheel.bind(this),this._onKeyDown=onKeyDown.bind(this),this._onTouchStart=onTouchStart.bind(this),this._onTouchMove=onTouchMove.bind(this),this._onMouseDown=onMouseDown.bind(this),this._onMouseMove=onMouseMove.bind(this),this._interceptControlDown=interceptControlDown.bind(this),this._interceptControlUp=interceptControlUp.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(_changeEvent),this.update(),this.state=_STATE.NONE}update(e=null){const n=this.object.position;_v.copy(n).sub(this.target),_v.applyQuaternion(this._quat),this._spherical.setFromVector3(_v),this.autoRotate&&this.state===_STATE.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,g=this.maxAzimuthAngle;isFinite(r)&&isFinite(g)&&(r<-Math.PI?r+=_twoPI:r>Math.PI&&(r-=_twoPI),g<-Math.PI?g+=_twoPI:g>Math.PI&&(g-=_twoPI),r<=g?this._spherical.theta=Math.max(r,Math.min(g,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+g)/2?Math.max(r,this._spherical.theta):Math.min(g,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let $=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const y=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),$=y!=this._spherical.radius}if(_v.setFromSpherical(this._spherical),_v.applyQuaternion(this._quatInverse),n.copy(this.target).add(_v),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let y=null;if(this.object.isPerspectiveCamera){const k=_v.length();y=this._clampDistance(k*this._scale);const L=k-y;this.object.position.addScaledVector(this._dollyDirection,L),this.object.updateMatrixWorld(),$=!!L}else if(this.object.isOrthographicCamera){const k=new Vector3(this._mouse.x,this._mouse.y,0);k.unproject(this.object);const L=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),$=L!==this.object.zoom;const V=new Vector3(this._mouse.x,this._mouse.y,0);V.unproject(this.object),this.object.position.sub(V).add(k),this.object.updateMatrixWorld(),y=_v.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;y!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(y).add(this.object.position):(_ray.origin.copy(this.object.position),_ray.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(_ray.direction))<_TILT_LIMIT?this.object.lookAt(this.target):(_plane.setFromNormalAndCoplanarPoint(this.object.up,this.target),_ray.intersectPlane(_plane,this.target))))}else if(this.object.isOrthographicCamera){const y=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),y!==this.object.zoom&&(this.object.updateProjectionMatrix(),$=!0)}return this._scale=1,this._performCursorZoom=!1,$||this._lastPosition.distanceToSquared(this.object.position)>_EPS||8*(1-this._lastQuaternion.dot(this.object.quaternion))>_EPS||this._lastTargetPosition.distanceToSquared(this.target)>_EPS?(this.dispatchEvent(_changeEvent),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?_twoPI/60*this.autoRotateSpeed*e:_twoPI/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){_v.setFromMatrixColumn(n,0),_v.multiplyScalar(-e),this._panOffset.add(_v)}_panUp(e,n){this.screenSpacePanning===!0?_v.setFromMatrixColumn(n,1):(_v.setFromMatrixColumn(n,0),_v.crossVectors(this.object.up,_v)),_v.multiplyScalar(e),this._panOffset.add(_v)}_pan(e,n){const r=this.domElement;if(this.object.isPerspectiveCamera){const g=this.object.position;_v.copy(g).sub(this.target);let $=_v.length();$*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*$/r.clientHeight,this.object.matrix),this._panUp(2*n*$/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),g=e-r.left,$=n-r.top,y=r.width,k=r.height;this._mouse.x=g/y*2-1,this._mouse.y=-($/k)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(_twoPI*this._rotateDelta.x/n.clientHeight),this._rotateUp(_twoPI*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),g=.5*(e.pageY+n.y);this._rotateStart.set(r,g)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),g=.5*(e.pageY+n.y);this._panStart.set(r,g)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,g=e.pageY-n.y,$=Math.sqrt(r*r+g*g);this._dollyStart.set(0,$)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),g=.5*(e.pageX+r.x),$=.5*(e.pageY+r.y);this._rotateEnd.set(g,$)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(_twoPI*this._rotateDelta.x/n.clientHeight),this._rotateUp(_twoPI*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),g=.5*(e.pageY+n.y);this._panEnd.set(r,g)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,g=e.pageY-n.y,$=Math.sqrt(r*r+g*g);this._dollyEnd.set(0,$),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const y=(e.pageX+n.x)*.5,k=(e.pageY+n.y)*.5;this._updateZoomParameters(y,k)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Vector2,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function onPointerDown(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function onPointerMove(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function onPointerUp(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(_endEvent),this.state=_STATE.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function onMouseDown(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case MOUSE.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=_STATE.DOLLY;break;case MOUSE.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=_STATE.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=_STATE.ROTATE}break;case MOUSE.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=_STATE.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=_STATE.PAN}break;default:this.state=_STATE.NONE}this.state!==_STATE.NONE&&this.dispatchEvent(_startEvent)}function onMouseMove(t){switch(this.state){case _STATE.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case _STATE.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case _STATE.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function onMouseWheel(t){this.enabled===!1||this.enableZoom===!1||this.state!==_STATE.NONE||(t.preventDefault(),this.dispatchEvent(_startEvent),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(_endEvent))}function onKeyDown(t){this.enabled!==!1&&this._handleKeyDown(t)}function onTouchStart(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case TOUCH.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=_STATE.TOUCH_ROTATE;break;case TOUCH.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=_STATE.TOUCH_PAN;break;default:this.state=_STATE.NONE}break;case 2:switch(this.touches.TWO){case TOUCH.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=_STATE.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=_STATE.TOUCH_DOLLY_ROTATE;break;default:this.state=_STATE.NONE}break;default:this.state=_STATE.NONE}this.state!==_STATE.NONE&&this.dispatchEvent(_startEvent)}function onTouchMove(t){switch(this._trackPointer(t),this.state){case _STATE.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case _STATE.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case _STATE.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case _STATE.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=_STATE.NONE}}function onContextMenu(t){this.enabled!==!1&&t.preventDefault()}function interceptControlDown(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function interceptControlUp(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}var Stats=function(){var t=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(z){z.preventDefault(),r(++t%e.children.length)},!1);function n(z){return e.appendChild(z.dom),z}function r(z){for(var j=0;j<e.children.length;j++)e.children[j].style.display=j===z?"block":"none";t=z}var g=(performance||Date).now(),$=g,y=0,k=n(new Stats.Panel("FPS","#0ff","#002")),L=n(new Stats.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var V=n(new Stats.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:n,showPanel:r,begin:function(){g=(performance||Date).now()},end:function(){y++;var z=(performance||Date).now();if(L.update(z-g,200),z>=$+1e3&&(k.update(y*1e3/(z-$),100),$=z,y=0,V)){var j=performance.memory;V.update(j.usedJSHeapSize/1048576,j.jsHeapSizeLimit/1048576)}return z},update:function(){g=this.end()},domElement:e,setMode:r}};Stats.Panel=function(t,e,n){var r=1/0,g=0,$=Math.round,y=$(window.devicePixelRatio||1),k=80*y,L=48*y,V=3*y,z=2*y,j=3*y,ie=15*y,Oe=74*y,ur=30*y,hr=document.createElement("canvas");hr.width=k,hr.height=L,hr.style.cssText="width:80px;height:48px";var Vr=hr.getContext("2d");return Vr.font="bold "+9*y+"px Helvetica,Arial,sans-serif",Vr.textBaseline="top",Vr.fillStyle=n,Vr.fillRect(0,0,k,L),Vr.fillStyle=e,Vr.fillText(t,V,z),Vr.fillRect(j,ie,Oe,ur),Vr.fillStyle=n,Vr.globalAlpha=.9,Vr.fillRect(j,ie,Oe,ur),{dom:hr,update:function(dr,ec){r=Math.min(r,dr),g=Math.max(g,dr),Vr.fillStyle=n,Vr.globalAlpha=1,Vr.fillRect(0,0,k,ie),Vr.fillStyle=e,Vr.fillText($(dr)+" "+t+" ("+$(r)+"-"+$(g)+")",V,z),Vr.drawImage(hr,j+y,ie,Oe-y,ur,j,ie,Oe-y,ur),Vr.fillRect(j+Oe-y,ie,y,ur),Vr.fillStyle=n,Vr.globalAlpha=.9,Vr.fillRect(j+Oe-y,ie,y,$((1-dr/ec)*ur))}}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$h=Object.prototype,hasOwnProperty$h=objectProto$h.hasOwnProperty,nativeObjectToString$1=objectProto$h.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty$h.call(t,symToStringTag$1),n=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var r=!0}catch{}var g=nativeObjectToString$1.call(t);return r&&(e?t[symToStringTag$1]=n:delete t[symToStringTag$1]),g}var objectProto$g=Object.prototype,nativeObjectToString=objectProto$g.toString;function objectToString$2(t){return nativeObjectToString.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString$2(t)}function isObjectLike(t){return t!=null&&typeof t=="object"}var symbolTag$3="[object Symbol]";function isSymbol$1(t){return typeof t=="symbol"||isObjectLike(t)&&baseGetTag(t)==symbolTag$3}function arrayMap(t,e){for(var n=-1,r=t==null?0:t.length,g=Array(r);++n<r;)g[n]=e(t[n],n,t);return g}var isArray$2=Array.isArray,symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(t){if(typeof t=="string")return t;if(isArray$2(t))return arrayMap(t,baseToString)+"";if(isSymbol$1(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var reWhitespace=/\s/;function trimmedEndIndex(t){for(var e=t.length;e--&&reWhitespace.test(t.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(t){return t&&t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,"")}function isObject$3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(t){if(typeof t=="number")return t;if(isSymbol$1(t))return NAN;if(isObject$3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=isObject$3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=baseTrim(t);var n=reIsBinary.test(t);return n||reIsOctal.test(t)?freeParseInt(t.slice(2),n?2:8):reIsBadHex.test(t)?NAN:+t}function identity(t){return t}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(t){if(!isObject$3(t))return!1;var e=baseGetTag(t);return e==funcTag$2||e==genTag$1||e==asyncTag||e==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(t){if(t!=null){try{return funcToString$2.call(t)}catch{}try{return t+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$f=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$g=objectProto$f.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$g).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){if(!isObject$3(t)||isMasked(t))return!1;var e=isFunction$2(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}function getValue$2(t,e){return t==null?void 0:t[e]}function getNative(t,e){var n=getValue$2(t,e);return baseIsNative(n)?n:void 0}var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function t(){}return function(e){if(!isObject$3(e))return{};if(objectCreate)return objectCreate(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function apply$2(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function noop$1(){}function copyArray(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(t){var e=0,n=0;return function(){var r=nativeNow(),g=HOT_SPAN-(r-n);if(n=r,g>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function constant(t){return function(){return t}}var defineProperty=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch{}}(),baseSetToString=defineProperty?function(t,e){return defineProperty(t,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity,setToString=shortOut(baseSetToString);function arrayEach(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function baseFindIndex(t,e,n,r){for(var g=t.length,$=n+(r?1:-1);r?$--:++$<g;)if(e(t[$],$,t))return $;return-1}function baseIsNaN(t){return t!==t}function strictIndexOf(t,e,n){for(var r=n-1,g=t.length;++r<g;)if(t[r]===e)return r;return-1}function baseIndexOf(t,e,n){return e===e?strictIndexOf(t,e,n):baseFindIndex(t,baseIsNaN,n)}function arrayIncludes(t,e){var n=t==null?0:t.length;return!!n&&baseIndexOf(t,e,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){var n=typeof t;return e=e??MAX_SAFE_INTEGER$1,!!e&&(n=="number"||n!="symbol"&&reIsUint.test(t))&&t>-1&&t%1==0&&t<e}function baseAssignValue(t,e,n){e=="__proto__"&&defineProperty?defineProperty(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function eq(t,e){return t===e||t!==t&&e!==e}var objectProto$e=Object.prototype,hasOwnProperty$f=objectProto$e.hasOwnProperty;function assignValue(t,e,n){var r=t[e];(!(hasOwnProperty$f.call(t,e)&&eq(r,n))||n===void 0&&!(e in t))&&baseAssignValue(t,e,n)}function copyObject(t,e,n,r){var g=!n;n||(n={});for(var $=-1,y=e.length;++$<y;){var k=e[$],L=void 0;L===void 0&&(L=t[k]),g?baseAssignValue(n,k,L):assignValue(n,k,L)}return n}var nativeMax$1=Math.max;function overRest(t,e,n){return e=nativeMax$1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,g=-1,$=nativeMax$1(r.length-e,0),y=Array($);++g<$;)y[g]=r[e+g];g=-1;for(var k=Array(e+1);++g<e;)k[g]=r[g];return k[e]=n(y),apply$2(t,this,k)}}function baseRest(t,e){return setToString(overRest(t,e,identity),t+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isArrayLike(t){return t!=null&&isLength(t.length)&&!isFunction$2(t)}function isIterateeCall(t,e,n){if(!isObject$3(n))return!1;var r=typeof e;return(r=="number"?isArrayLike(n)&&isIndex(e,n.length):r=="string"&&e in n)?eq(n[e],t):!1}function createAssigner(t){return baseRest(function(e,n){var r=-1,g=n.length,$=g>1?n[g-1]:void 0,y=g>2?n[2]:void 0;for($=t.length>3&&typeof $=="function"?(g--,$):void 0,y&&isIterateeCall(n[0],n[1],y)&&($=g<3?void 0:$,g=1),e=Object(e);++r<g;){var k=n[r];k&&t(e,k,r,$)}return e})}var objectProto$d=Object.prototype;function isPrototype(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||objectProto$d;return t===n}function baseTimes(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var argsTag$3="[object Arguments]";function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==argsTag$3}var objectProto$c=Object.prototype,hasOwnProperty$e=objectProto$c.hasOwnProperty,propertyIsEnumerable$1=objectProto$c.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&hasOwnProperty$e.call(t,"callee")&&!propertyIsEnumerable$1.call(t,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!typedArrayTags[baseGetTag(t)]}function baseUnary(t){return function(e){return t(e)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var t=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return t||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$b=Object.prototype,hasOwnProperty$d=objectProto$b.hasOwnProperty;function arrayLikeKeys(t,e){var n=isArray$2(t),r=!n&&isArguments(t),g=!n&&!r&&isBuffer(t),$=!n&&!r&&!g&&isTypedArray(t),y=n||r||g||$,k=y?baseTimes(t.length,String):[],L=k.length;for(var V in t)(e||hasOwnProperty$d.call(t,V))&&!(y&&(V=="length"||g&&(V=="offset"||V=="parent")||$&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||isIndex(V,L)))&&k.push(V);return k}function overArg(t,e){return function(n){return t(e(n))}}var nativeKeys=overArg(Object.keys,Object),objectProto$a=Object.prototype,hasOwnProperty$c=objectProto$a.hasOwnProperty;function baseKeys(t){if(!isPrototype(t))return nativeKeys(t);var e=[];for(var n in Object(t))hasOwnProperty$c.call(t,n)&&n!="constructor"&&e.push(n);return e}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function nativeKeysIn(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var objectProto$9=Object.prototype,hasOwnProperty$b=objectProto$9.hasOwnProperty;function baseKeysIn(t){if(!isObject$3(t))return nativeKeysIn(t);var e=isPrototype(t),n=[];for(var r in t)r=="constructor"&&(e||!hasOwnProperty$b.call(t,r))||n.push(r);return n}function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(t,e){if(isArray$2(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||isSymbol$1(t)?!0:reIsPlainProp.test(t)||!reIsDeepProp.test(t)||e!=null&&t in Object(e)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$a=objectProto$8.hasOwnProperty;function hashGet(t){var e=this.__data__;if(nativeCreate){var n=e[t];return n===HASH_UNDEFINED$2?void 0:n}return hasOwnProperty$a.call(e,t)?e[t]:void 0}var objectProto$7=Object.prototype,hasOwnProperty$9=objectProto$7.hasOwnProperty;function hashHas(t){var e=this.__data__;return nativeCreate?e[t]!==void 0:hasOwnProperty$9.call(e,t)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}function Hash(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(t,e){for(var n=t.length;n--;)if(eq(t[n][0],e))return n;return-1}var arrayProto$1=Array.prototype,splice=arrayProto$1.splice;function listCacheDelete(t){var e=this.__data__,n=assocIndexOf(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():splice.call(e,n,1),--this.size,!0}function listCacheGet(t){var e=this.__data__,n=assocIndexOf(e,t);return n<0?void 0:e[n][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var n=this.__data__,r=assocIndexOf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ListCache(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function getMapData(t,e){var n=t.__data__;return isKeyable(e)?n[typeof e=="string"?"string":"hash"]:n.map}function mapCacheDelete(t){var e=getMapData(this,t).delete(t);return this.size-=e?1:0,e}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){var n=getMapData(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function MapCache(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var n=function(){var r=arguments,g=e?e.apply(this,r):r[0],$=n.cache;if($.has(g))return $.get(g);var y=t.apply(this,r);return n.cache=$.set(g,y)||$,y};return n.cache=new(memoize.Cache||MapCache),n}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var e=memoize(t,function(r){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),r}),n=e.cache;return e}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rePropName,function(n,r,g,$){e.push(g?$.replace(reEscapeChar,"$1"):r||n)}),e});function toString$1(t){return t==null?"":baseToString(t)}function castPath(t,e){return isArray$2(t)?t:isKey(t,e)?[t]:stringToPath(toString$1(t))}function toKey(t){if(typeof t=="string"||isSymbol$1(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function baseGet(t,e){e=castPath(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[toKey(e[n++])];return n&&n==r?t:void 0}function get(t,e,n){var r=t==null?void 0:baseGet(t,e);return r===void 0?n:r}function arrayPush(t,e){for(var n=-1,r=e.length,g=t.length;++n<r;)t[g+n]=e[n];return t}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(t){return isArray$2(t)||isArguments(t)||!!(spreadableSymbol&&t&&t[spreadableSymbol])}function baseFlatten(t,e,n,r,g){var $=-1,y=t.length;for(n||(n=isFlattenable),g||(g=[]);++$<y;){var k=t[$];e>0&&n(k)?e>1?baseFlatten(k,e-1,n,r,g):arrayPush(g,k):r||(g[g.length]=k)}return g}function flatten(t){var e=t==null?0:t.length;return e?baseFlatten(t,1):[]}function flatRest(t){return setToString(overRest(t,void 0,flatten),t+"")}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$6=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$6.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$2(t){if(!isObjectLike(t)||baseGetTag(t)!=objectTag$3)return!1;var e=getPrototype(t);if(e===null)return!0;var n=hasOwnProperty$8.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&funcToString.call(n)==objectCtorString}function baseSlice(t,e,n){var r=-1,g=t.length;e<0&&(e=-e>g?0:g+e),n=n>g?g:n,n<0&&(n+=g),g=e>n?0:n-e>>>0,e>>>=0;for(var $=Array(g);++r<g;)$[r]=t[r+e];return $}function castArray$1(){if(!arguments.length)return[];var t=arguments[0];return isArray$2(t)?t:[t]}function baseClamp(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function clamp$2(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=toNumber$1(n),n=n===n?n:0),e!==void 0&&(e=toNumber$1(e),e=e===e?e:0),baseClamp(toNumber$1(t),e,n)}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function stackGet(t){return this.__data__.get(t)}function stackHas(t){return this.__data__.has(t)}var LARGE_ARRAY_SIZE$1=200;function stackSet(t,e){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!Map$1||r.length<LARGE_ARRAY_SIZE$1-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(t,e),this.size=n.size,this}function Stack(t){var e=this.__data__=new ListCache(t);this.size=e.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(t,e){return t&&copyObject(e,keys(e),t)}function baseAssignIn(t,e){return t&&copyObject(e,keysIn(e),t)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(t,e){if(e)return t.slice();var n=t.length,r=allocUnsafe?allocUnsafe(n):new t.constructor(n);return t.copy(r),r}function arrayFilter(t,e){for(var n=-1,r=t==null?0:t.length,g=0,$=[];++n<r;){var y=t[n];e(y,n,t)&&($[g++]=y)}return $}function stubArray(){return[]}var objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(t){return t==null?[]:(t=Object(t),arrayFilter(nativeGetSymbols$1(t),function(e){return propertyIsEnumerable.call(t,e)}))}:stubArray;function copySymbols(t,e){return copyObject(t,getSymbols(t),e)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(t){for(var e=[];t;)arrayPush(e,getSymbols(t)),t=getPrototype(t);return e}:stubArray;function copySymbolsIn(t,e){return copyObject(t,getSymbolsIn(t),e)}function baseGetAllKeys(t,e,n){var r=e(t);return isArray$2(t)?r:arrayPush(r,n(t))}function getAllKeys(t){return baseGetAllKeys(t,keys,getSymbols)}function getAllKeysIn(t){return baseGetAllKeys(t,keysIn,getSymbolsIn)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(t){var e=baseGetTag(t),n=e==objectTag$2?t.constructor:void 0,r=n?toSource(n):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return e});var objectProto$4=Object.prototype,hasOwnProperty$7=objectProto$4.hasOwnProperty;function initCloneArray(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty$7.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(t)),e}function cloneDataView(t,e){var n=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var reFlags=/\w*$/;function cloneRegExp(t){var e=new t.constructor(t.source,reFlags.exec(t));return e.lastIndex=t.lastIndex,e}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(t){return symbolValueOf$1?Object(symbolValueOf$1.call(t)):{}}function cloneTypedArray(t,e){var n=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(t,e,n){var r=t.constructor;switch(e){case arrayBufferTag$2:return cloneArrayBuffer(t);case boolTag$2:case dateTag$2:return new r(+t);case dataViewTag$2:return cloneDataView(t,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(t,n);case mapTag$3:return new r;case numberTag$2:case stringTag$2:return new r(t);case regexpTag$2:return cloneRegExp(t);case setTag$3:return new r;case symbolTag$2:return cloneSymbol(t)}}function initCloneObject(t){return typeof t.constructor=="function"&&!isPrototype(t)?baseCreate(getPrototype(t)):{}}var mapTag$2="[object Map]";function baseIsMap(t){return isObjectLike(t)&&getTag(t)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap$1=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(t){return isObjectLike(t)&&getTag(t)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$3=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(t,e,n,r,g,$){var y,k=e&CLONE_DEEP_FLAG$2,L=e&CLONE_FLAT_FLAG$1,V=e&CLONE_SYMBOLS_FLAG$3;if(n&&(y=g?n(t,r,g,$):n(t)),y!==void 0)return y;if(!isObject$3(t))return t;var z=isArray$2(t);if(z){if(y=initCloneArray(t),!k)return copyArray(t,y)}else{var j=getTag(t),ie=j==funcTag||j==genTag;if(isBuffer(t))return cloneBuffer(t,k);if(j==objectTag$1||j==argsTag$1||ie&&!g){if(y=L||ie?{}:initCloneObject(t),!k)return L?copySymbolsIn(t,baseAssignIn(y,t)):copySymbols(t,baseAssign(y,t))}else{if(!cloneableTags[j])return g?t:{};y=initCloneByTag(t,j,k)}}$||($=new Stack);var Oe=$.get(t);if(Oe)return Oe;$.set(t,y),isSet$1(t)?t.forEach(function(Vr){y.add(baseClone(Vr,e,n,Vr,t,$))}):isMap$1(t)&&t.forEach(function(Vr,dr){y.set(dr,baseClone(Vr,e,n,dr,t,$))});var ur=V?L?getAllKeysIn:getAllKeys:L?keysIn:keys,hr=z?void 0:ur(t);return arrayEach(hr||t,function(Vr,dr){hr&&(dr=Vr,Vr=t[dr]),assignValue(y,dr,baseClone(Vr,e,n,dr,t,$))}),y}var CLONE_SYMBOLS_FLAG$2=4;function clone(t){return baseClone(t,CLONE_SYMBOLS_FLAG$2)}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(t){return baseClone(t,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(t){return this.__data__.set(t,HASH_UNDEFINED),this}function setCacheHas(t){return this.__data__.has(t)}function SetCache(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new MapCache;++e<n;)this.add(t[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function cacheHas(t,e){return t.has(e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(t,e,n,r,g,$){var y=n&COMPARE_PARTIAL_FLAG$5,k=t.length,L=e.length;if(k!=L&&!(y&&L>k))return!1;var V=$.get(t),z=$.get(e);if(V&&z)return V==e&&z==t;var j=-1,ie=!0,Oe=n&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for($.set(t,e),$.set(e,t);++j<k;){var ur=t[j],hr=e[j];if(r)var Vr=y?r(hr,ur,j,e,t,$):r(ur,hr,j,t,e,$);if(Vr!==void 0){if(Vr)continue;ie=!1;break}if(Oe){if(!arraySome(e,function(dr,ec){if(!cacheHas(Oe,ec)&&(ur===dr||g(ur,dr,n,r,$)))return Oe.push(ec)})){ie=!1;break}}else if(!(ur===hr||g(ur,hr,n,r,$))){ie=!1;break}}return $.delete(t),$.delete(e),ie}function mapToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(r,g){n[++e]=[g,r]}),n}function setToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(t,e,n,r,g,$,y){switch(n){case dataViewTag:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag:return!(t.byteLength!=e.byteLength||!$(new Uint8Array$1(t),new Uint8Array$1(e)));case boolTag:case dateTag:case numberTag:return eq(+t,+e);case errorTag:return t.name==e.name&&t.message==e.message;case regexpTag:case stringTag:return t==e+"";case mapTag:var k=mapToArray;case setTag:var L=r&COMPARE_PARTIAL_FLAG$4;if(k||(k=setToArray),t.size!=e.size&&!L)return!1;var V=y.get(t);if(V)return V==e;r|=COMPARE_UNORDERED_FLAG$2,y.set(t,e);var z=equalArrays(k(t),k(e),r,g,$,y);return y.delete(t),z;case symbolTag:if(symbolValueOf)return symbolValueOf.call(t)==symbolValueOf.call(e)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$3=Object.prototype,hasOwnProperty$6=objectProto$3.hasOwnProperty;function equalObjects(t,e,n,r,g,$){var y=n&COMPARE_PARTIAL_FLAG$3,k=getAllKeys(t),L=k.length,V=getAllKeys(e),z=V.length;if(L!=z&&!y)return!1;for(var j=L;j--;){var ie=k[j];if(!(y?ie in e:hasOwnProperty$6.call(e,ie)))return!1}var Oe=$.get(t),ur=$.get(e);if(Oe&&ur)return Oe==e&&ur==t;var hr=!0;$.set(t,e),$.set(e,t);for(var Vr=y;++j<L;){ie=k[j];var dr=t[ie],ec=e[ie];if(r)var tc=y?r(ec,dr,ie,e,t,$):r(dr,ec,ie,t,e,$);if(!(tc===void 0?dr===ec||g(dr,ec,n,r,$):tc)){hr=!1;break}Vr||(Vr=ie=="constructor")}if(hr&&!Vr){var Xs=t.constructor,rc=e.constructor;Xs!=rc&&"constructor"in t&&"constructor"in e&&!(typeof Xs=="function"&&Xs instanceof Xs&&typeof rc=="function"&&rc instanceof rc)&&(hr=!1)}return $.delete(t),$.delete(e),hr}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$2=Object.prototype,hasOwnProperty$5=objectProto$2.hasOwnProperty;function baseIsEqualDeep(t,e,n,r,g,$){var y=isArray$2(t),k=isArray$2(e),L=y?arrayTag:getTag(t),V=k?arrayTag:getTag(e);L=L==argsTag?objectTag:L,V=V==argsTag?objectTag:V;var z=L==objectTag,j=V==objectTag,ie=L==V;if(ie&&isBuffer(t)){if(!isBuffer(e))return!1;y=!0,z=!1}if(ie&&!z)return $||($=new Stack),y||isTypedArray(t)?equalArrays(t,e,n,r,g,$):equalByTag(t,e,L,n,r,g,$);if(!(n&COMPARE_PARTIAL_FLAG$2)){var Oe=z&&hasOwnProperty$5.call(t,"__wrapped__"),ur=j&&hasOwnProperty$5.call(e,"__wrapped__");if(Oe||ur){var hr=Oe?t.value():t,Vr=ur?e.value():e;return $||($=new Stack),g(hr,Vr,n,r,$)}}return ie?($||($=new Stack),equalObjects(t,e,n,r,g,$)):!1}function baseIsEqual(t,e,n,r,g){return t===e?!0:t==null||e==null||!isObjectLike(t)&&!isObjectLike(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,n,r,baseIsEqual,g)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(t,e,n,r){var g=n.length,$=g;if(t==null)return!$;for(t=Object(t);g--;){var y=n[g];if(y[2]?y[1]!==t[y[0]]:!(y[0]in t))return!1}for(;++g<$;){y=n[g];var k=y[0],L=t[k],V=y[1];if(y[2]){if(L===void 0&&!(k in t))return!1}else{var z=new Stack,j;if(!(j===void 0?baseIsEqual(V,L,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,r,z):j))return!1}}return!0}function isStrictComparable(t){return t===t&&!isObject$3(t)}function getMatchData(t){for(var e=keys(t),n=e.length;n--;){var r=e[n],g=t[r];e[n]=[r,g,isStrictComparable(g)]}return e}function matchesStrictComparable(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function baseMatches(t){var e=getMatchData(t);return e.length==1&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(n){return n===t||baseIsMatch(n,t,e)}}function baseHasIn(t,e){return t!=null&&e in Object(t)}function hasPath(t,e,n){e=castPath(e,t);for(var r=-1,g=e.length,$=!1;++r<g;){var y=toKey(e[r]);if(!($=t!=null&&n(t,y)))break;t=t[y]}return $||++r!=g?$:(g=t==null?0:t.length,!!g&&isLength(g)&&isIndex(y,g)&&(isArray$2(t)||isArguments(t)))}function hasIn(t,e){return t!=null&&hasPath(t,e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(t,e){return isKey(t)&&isStrictComparable(e)?matchesStrictComparable(toKey(t),e):function(n){var r=get(n,t);return r===void 0&&r===e?hasIn(n,t):baseIsEqual(e,r,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(t){return function(e){return e==null?void 0:e[t]}}function basePropertyDeep(t){return function(e){return baseGet(e,t)}}function property(t){return isKey(t)?baseProperty(toKey(t)):basePropertyDeep(t)}function baseIteratee(t){return typeof t=="function"?t:t==null?identity:typeof t=="object"?isArray$2(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t):property(t)}function createBaseFor(t){return function(e,n,r){for(var g=-1,$=Object(e),y=r(e),k=y.length;k--;){var L=y[++g];if(n($[L],L,$)===!1)break}return e}}var baseFor=createBaseFor();function baseForOwn(t,e){return t&&baseFor(t,e,keys)}function createBaseEach(t,e){return function(n,r){if(n==null)return n;if(!isArrayLike(n))return t(n,r);for(var g=n.length,$=-1,y=Object(n);++$<g&&r(y[$],$,y)!==!1;);return n}}var baseEach=createBaseEach(baseForOwn),now=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(t,e,n){var r,g,$,y,k,L,V=0,z=!1,j=!1,ie=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$1);e=toNumber$1(e)||0,isObject$3(n)&&(z=!!n.leading,j="maxWait"in n,$=j?nativeMax(toNumber$1(n.maxWait)||0,e):$,ie="trailing"in n?!!n.trailing:ie);function Oe(ic){var _c=r,qm=g;return r=g=void 0,V=ic,y=t.apply(qm,_c),y}function ur(ic){return V=ic,k=setTimeout(dr,e),z?Oe(ic):y}function hr(ic){var _c=ic-L,qm=ic-V,Xm=e-_c;return j?nativeMin(Xm,$-qm):Xm}function Vr(ic){var _c=ic-L,qm=ic-V;return L===void 0||_c>=e||_c<0||j&&qm>=$}function dr(){var ic=now();if(Vr(ic))return ec(ic);k=setTimeout(dr,hr(ic))}function ec(ic){return k=void 0,ie&&r?Oe(ic):(r=g=void 0,y)}function tc(){k!==void 0&&clearTimeout(k),V=0,r=L=g=k=void 0}function Xs(){return k===void 0?y:ec(now())}function rc(){var ic=now(),_c=Vr(ic);if(r=arguments,g=this,L=ic,_c){if(k===void 0)return ur(L);if(j)return clearTimeout(k),k=setTimeout(dr,e),Oe(L)}return k===void 0&&(k=setTimeout(dr,e)),y}return rc.cancel=tc,rc.flush=Xs,rc}var objectProto$1=Object.prototype,hasOwnProperty$4=objectProto$1.hasOwnProperty,defaults=baseRest(function(t,e){t=Object(t);var n=-1,r=e.length,g=r>2?e[2]:void 0;for(g&&isIterateeCall(e[0],e[1],g)&&(r=1);++n<r;)for(var $=e[n],y=keysIn($),k=-1,L=y.length;++k<L;){var V=y[k],z=t[V];(z===void 0||eq(z,objectProto$1[V])&&!hasOwnProperty$4.call(t,V))&&(t[V]=$[V])}return t});function assignMergeValue(t,e,n){(n!==void 0&&!eq(t[e],n)||n===void 0&&!(e in t))&&baseAssignValue(t,e,n)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}function safeGet(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function toPlainObject(t){return copyObject(t,keysIn(t))}function baseMergeDeep(t,e,n,r,g,$,y){var k=safeGet(t,n),L=safeGet(e,n),V=y.get(L);if(V){assignMergeValue(t,n,V);return}var z=$?$(k,L,n+"",t,e,y):void 0,j=z===void 0;if(j){var ie=isArray$2(L),Oe=!ie&&isBuffer(L),ur=!ie&&!Oe&&isTypedArray(L);z=L,ie||Oe||ur?isArray$2(k)?z=k:isArrayLikeObject(k)?z=copyArray(k):Oe?(j=!1,z=cloneBuffer(L,!0)):ur?(j=!1,z=cloneTypedArray(L,!0)):z=[]:isPlainObject$2(L)||isArguments(L)?(z=k,isArguments(k)?z=toPlainObject(k):(!isObject$3(k)||isFunction$2(k))&&(z=initCloneObject(L))):j=!1}j&&(y.set(L,z),g(z,L,r,$,y),y.delete(L)),assignMergeValue(t,n,z)}function baseMerge(t,e,n,r,g){t!==e&&baseFor(e,function($,y){if(g||(g=new Stack),isObject$3($))baseMergeDeep(t,e,y,n,baseMerge,r,g);else{var k=r?r(safeGet(t,y),$,y+"",t,e,g):void 0;k===void 0&&(k=$),assignMergeValue(t,y,k)}},keysIn)}function last(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function findLastIndex(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var g=r-1;return baseFindIndex(t,baseIteratee(e),g,!0)}function baseMap(t,e){var n=-1,r=isArrayLike(t)?Array(t.length):[];return baseEach(t,function(g,$,y){r[++n]=e(g,$,y)}),r}function map(t,e){var n=isArray$2(t)?arrayMap:baseMap;return n(t,baseIteratee(e))}function flatMap(t,e){return baseFlatten(map(t,e),1)}var INFINITY$1=1/0;function flattenDeep(t){var e=t==null?0:t.length;return e?baseFlatten(t,INFINITY$1):[]}function fromPairs(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var g=t[e];r[g[0]]=g[1]}return r}function parent(t,e){return e.length<2?t:baseGet(t,baseSlice(e,0,-1))}function isEqual$1(t,e){return baseIsEqual(t,e)}function isNil(t){return t==null}function isNull(t){return t===null}function isUndefined$1(t){return t===void 0}var merge=createAssigner(function(t,e,n){baseMerge(t,e,n)}),objectProto=Object.prototype,hasOwnProperty$3=objectProto.hasOwnProperty;function baseUnset(t,e){e=castPath(e,t);var n=-1,r=e.length;if(!r)return!0;for(var g=t==null||typeof t!="object"&&typeof t!="function";++n<r;){var $=e[n];if(typeof $=="string"){if($==="__proto__"&&!hasOwnProperty$3.call(t,"__proto__"))return!1;if($==="constructor"&&n+1<r&&typeof e[n+1]=="string"&&e[n+1]==="prototype"){if(g&&n===0)continue;return!1}}}var y=parent(t,e);return y==null||delete y[toKey(last(e))]}function customOmitClone(t){return isPlainObject$2(t)?void 0:t}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(t,e){var n={};if(t==null)return n;var r=!1;e=arrayMap(e,function($){return $=castPath($,t),r||(r=$.length>1),$}),copyObject(t,getAllKeysIn(t),n),r&&(n=baseClone(n,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var g=e.length;g--;)baseUnset(n,e[g]);return n});function baseSet(t,e,n,r){if(!isObject$3(t))return t;e=castPath(e,t);for(var g=-1,$=e.length,y=$-1,k=t;k!=null&&++g<$;){var L=toKey(e[g]),V=n;if(L==="__proto__"||L==="constructor"||L==="prototype")return t;if(g!=y){var z=k[L];V=void 0,V===void 0&&(V=isObject$3(z)?z:isIndex(e[g+1])?[]:{})}assignValue(k,L,V),k=k[L]}return t}function basePickBy(t,e,n){for(var r=-1,g=e.length,$={};++r<g;){var y=e[r],k=baseGet(t,y);n(k,y)&&baseSet($,castPath(y,t),k)}return $}function basePick(t,e){return basePickBy(t,e,function(n,r){return hasIn(t,r)})}var pick=flatRest(function(t,e){return t==null?{}:basePick(t,e)});function set(t,e,n){return t==null?t:baseSet(t,e,n)}var FUNC_ERROR_TEXT="Expected a function";function throttle(t,e,n){var r=!0,g=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$3(n)&&(r="leading"in n?!!n.leading:r,g="trailing"in n?!!n.trailing:g),debounce(t,e,{leading:r,maxWait:e,trailing:g})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(t){return new Set$1(t)}:noop$1,LARGE_ARRAY_SIZE=200;function baseUniq(t,e,n){var r=-1,g=arrayIncludes,$=t.length,y=!0,k=[],L=k;if($>=LARGE_ARRAY_SIZE){var V=createSet(t);if(V)return setToArray(V);y=!1,g=cacheHas,L=new SetCache}else L=k;e:for(;++r<$;){var z=t[r],j=z;if(z=z!==0?z:0,y&&j===j){for(var ie=L.length;ie--;)if(L[ie]===j)continue e;k.push(z)}else g(L,j,n)||(L!==k&&L.push(j),k.push(z))}return k}var union=baseRest(function(t){return baseUniq(baseFlatten(t,1,isArrayLikeObject,!0))});class Kc{constructor(e,n){this._view=e,this._doc=n,n.database.events.entityAppended.addEventListener(r=>{this.view.addEntity(r.entity)}),n.database.events.entityModified.addEventListener(r=>{this.view.updateEntity(r.entity)}),n.database.events.layerAppended.addEventListener(r=>{this._view.addLayer(r.layer)}),n.database.events.layerModified.addEventListener(r=>{this._view.updateLayer(r.layer,r.changes)}),n.database.events.headerSysVarChanged.addEventListener(r=>{r.name=="pdmode"&&this._view.rerenderPoints(r.database.pdmode)}),n.database.events.dictObjetSet.addEventListener(r=>{r.object instanceof wa$2&&this._view.addLayout(r.object)}),e.selectionSet.events.selectionAdded.addEventListener(r=>{e.highlight(r.ids)}),e.selectionSet.events.selectionRemoved.addEventListener(r=>{e.unhighlight(r.ids)})}get view(){return this._view}get doc(){return this._doc}}let ve$1=class{constructor(){this.events={commandWillStart:new oe$2,commandEnded:new oe$2},this._globalName="",this._localName=""}get globalName(){return this._globalName}set globalName(e){this._globalName=e}get localName(){return this._localName}set localName(e){this._localName=e}tirgger(e){this.events.commandWillStart.dispatch({command:this}),this.execute(e),this.events.commandEnded.dispatch({command:this})}execute(e){}};class Qc{constructor(e){this._index=0,this._commands=[],e.forEach(n=>{const r=n.groupName;n.commandsByGlobalName.forEach(g=>{this._commands.push({command:g,commandGroup:r})})})}[Symbol.iterator](){return this}get command(){return this._index<this._commands.length?this._commands[this._index].command:null}get commandGroup(){return this._index<this._commands.length?this._commands[this._index].commandGroup:null}next(){for(;this._index<this._commands.length;){const e=this._commands[this._index];return this._index+=1,{value:e,done:!1}}return{value:null,done:!0}}}const Fe=class Zb{constructor(){this._commandsByGroup=[],this._systemCommandGroup={groupName:Zb.SYSTEMT_COMMAND_GROUP_NAME,commandsByGlobalName:new Map,commandsByLocalName:new Map},this._defaultCommandGroup={groupName:Zb.DEFAUT_COMMAND_GROUP_NAME,commandsByGlobalName:new Map,commandsByLocalName:new Map},this._commandsByGroup.push(this._systemCommandGroup),this._commandsByGroup.push(this._defaultCommandGroup)}static get instance(){return Zb._instance||(Zb._instance=new Zb),Zb._instance}addCommand(e,n,r,g){if(e=e.toUpperCase(),n=n.toUpperCase(),r=r.toUpperCase(),!n)throw new Error("[AcEdCommandStack] The global name of the command is required!");r||(r=n);let $=this._defaultCommandGroup;if(e){const y=this._commandsByGroup.find(k=>k.groupName==e);y?$=y:$={groupName:e,commandsByGlobalName:new Map,commandsByLocalName:new Map}}if($.commandsByGlobalName.has(n))throw new Error(`[AcEdCommandStack] The command with global name '${n}' already exists!`);if($.commandsByLocalName.has(r))throw new Error(`[AcEdCommandStack] The command with local name '${r}' already exists!`);$.commandsByGlobalName.set(n,g),$.commandsByLocalName.set(r,g),g.globalName=n,g.localName=r}iterator(){return new Qc(this._commandsByGroup)}searchCommandsByPrefix(e){e=e.toUpperCase();const n=[],r=this.iterator();let g=r.next();for(;!g.done;){const{command:$}=g.value;($.globalName.startsWith(e)||$.localName.startsWith(e))&&n.push(g.value),g=r.next()}return n}lookupGlobalCmd(e){e=e.toUpperCase();let n;for(const r of this._commandsByGroup)if(n=r.commandsByGlobalName.get(e),n)break;return n}lookupLocalCmd(e){e=e.toUpperCase();let n;for(const r of this._commandsByGroup)if(n=r.commandsByLocalName.get(e),n)break;return n}removeCmd(e,n){e=e.toUpperCase(),n=n.toUpperCase();for(const r of this._commandsByGroup)if(r.groupName==e)return r.commandsByGlobalName.delete(n);return!1}removeGroup(e){e=e.toUpperCase();let n=-1;return this._commandsByGroup.some((r,g)=>(n=g,r.groupName==e)),n>=0?(this._commandsByGroup.splice(n,1),!0):!1}};Fe.SYSTEMT_COMMAND_GROUP_NAME="ACAD",Fe.DEFAUT_COMMAND_GROUP_NAME="USER";let Q$1=Fe;function Jc(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(g){g(n)}),(r=t.get("*"))&&r.slice().map(function(g){g(e,n)})}}}const ot$1=Jc();let el$1=class{constructor(e,n,r=1e3,g=0){this.condition=e,this.action=n,this.checkInterval=r,this.timeout=g,this.timerId=null,this.timeoutId=null}start(){this.timerId===null&&(this.timerId=window.setInterval(()=>{this.condition()&&this.executeAndStop()},this.checkInterval),this.timeout>0&&(this.timeoutId=window.setTimeout(()=>{console.warn("AcEdConditionWaiter: Timeout reached."),this.executeAndStop()},this.timeout)))}stop(){this.timerId!==null&&(clearInterval(this.timerId),this.timerId=null),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}executeAndStop(){this.stop(),this.action()}isRunning(){return this.timerId!==null}};var pn$2=(t=>(t[t.NoSpecialCursor=-1]="NoSpecialCursor",t[t.Crosshair=0]="Crosshair",t[t.RectCursor=1]="RectCursor",t[t.RubberBand=2]="RubberBand",t[t.NotRotated=3]="NotRotated",t[t.TargetBox=4]="TargetBox",t[t.RotatedCrosshair=5]="RotatedCrosshair",t[t.CrosshairNoRotate=6]="CrosshairNoRotate",t[t.Invisible=7]="Invisible",t[t.EntitySelect=8]="EntitySelect",t[t.Parallelogram=9]="Parallelogram",t[t.EntitySelectNoPersp=10]="EntitySelectNoPersp",t[t.PkfirstOrGrips=11]="PkfirstOrGrips",t[t.CrosshairDashed=12]="CrosshairDashed",t[t.Grab=13]="Grab",t))(pn$2||{});let tl$1=class{constructor(e){this._view=e,this._cursorMap=new Map;const n=20,r=10;this._cursorMap.set(0,this.createRectCrossIcon(r,n-r)),Xo$2.instance().events.sysVarChanged.addEventListener(g=>{if(g.name==="PICKBOX"){let $=g.newVal;$=$>=0?$:0,this._cursorMap.set(0,this.createRectCrossIcon($,n-$)),this.setCursor(this._currentCursor)}}),this.setCursor(0)}get currentCursor(){return this._currentCursor}setCursor(e){const n=this._view.canvas;if(e<=-1)n.style.cursor="default";else if(e==13)n.style.cursor="grab";else{const r=this._cursorMap.get(e);r&&(n.style.cursor=r)}this._currentCursor=e}encodeSvgToCursor(e,n,r){return`url('data:image/svg+xml;base64,${btoa(e)}') ${n} ${r}, auto`}createRectCrossIcon(e,n,r="white"){const g=e/2,$=e+2*n,y=`
      <svg xmlns="http://www.w3.org/2000/svg" width="${$}" height="${$}" viewBox="0 0 ${$} ${$}">
        <rect x="${n}" y="${n}" width="${e}" height="${e}" fill="none" stroke="${r}" />
        <line x1="${g+n}" y1="0" x2="${g+n}" y2="${n}" stroke="${r}" />
        <line x1="${e+n}" y1="${g+n}" x2="${e+2*n}" y2="${g+n}" stroke="${r}" />
        <line x1="${g+n}" y1="${e+n}" x2="${g+n}" y2="${e+2*n}" stroke="${r}" />
        <line x1="0" y1="${g+n}" x2="${n}" y2="${g+n}" stroke="${r}" />
      </svg>
    `;return this.encodeSvgToCursor(y,g+n,g+n)}};const yt$1=class{static get messages(){return this._messages}static getLocaleMessage(e){return this._messages[e]}static mergeLocaleMessage(e,n){za$1(this._messages[e],n)}static registerMessage(e,n){this.mergeLocaleMessage(e,n)}static setCurrentLocale(e){const n=this._currentLocale;this._currentLocale=e,this.events.localeChanged.dispatch({old:n,new:this._currentLocale})}static get currentLocale(){return this._currentLocale}static t(e,n){const r=this._currentLocale,g=this._messages[r],$=e.split(".");let y=g;for(const k of $){if(!y||typeof y!="object")return(n==null?void 0:n.fallback)??e;y=y[k]}return typeof y=="string"?y:(n==null?void 0:n.fallback)??e}static cmdDescription(e,n){const r=`command.${e}.${n.toLowerCase()}`;return this.t(r)}static sysCmdDescription(e){return this.cmdDescription(Q$1.SYSTEMT_COMMAND_GROUP_NAME,e)}};yt$1._messages={en:{},zh:{}},yt$1._currentLocale="en",yt$1.events={localeChanged:new oe$2},yt$1.userCmdDescription=t=>yt$1.cmdDescription(Q$1.DEFAUT_COMMAND_GROUP_NAME,t);let ce$1=yt$1;function za$1(t,e){for(const n of Object.keys(e)){const r=e[n],g=t[n];Qs(g)&&Qs(r)?za$1(g,r):t[n]=r}}function Qs(t){return typeof t=="object"&&t!==null}const nl$1={ACAD:{circle:"Creates one circle by center and radius",csvg:"Converts current drawing to SVG",dimlinear:"Creates linear dimensions",line:"Draws straight line segments between points",log:"Logs debug information in console",open:"Opens an existing drawing file",pan:"Shifts the view without changing the viewing direction or magnification",pickbox:"Sets the size (in pixels) of the selection box used to pick objects",qnew:"Starts a new drawing",regen:"Redraw the current drawing",select:"Selects entities",zoom:"Zooms to display the maximum extents of all entities",zoomw:"Zooms to display an area specified by a rectangular window"},USER:{}},rl$1={circle:{center:"Specify the center of circle:",radius:"Specify the radius of circle:"},dimlinear:{xLine1Point:"Specify the first extension line origin:",xLine2Point:"Specify the second extension line origin:",dimLinePoint:"Specify dimension line location:"},line:{firstPoint:"Specify the first point:",nextPoint:"Specify the next point:"},sysvar:{prompt:"Please input new value:"}},sl$1={commandLine:{noLast:"(no last command)",unknownCommand:"Unknown command",executed:"Executed command",showHistory:"Show command history",placeholder:"Type command",showMessages:"Show message history",canceled:"*Canceled*",noHistory:"(no history)",close:"Close command line"},inputManager:{firstCorner:"Specify the first corner or",secondCorner:"Specify the second corner or"},message:{fetchingDrawingFile:"Fetching file ..."},progress:{start:"Start parsing file ...",parse:"Parsing file ...",font:"Downloading fonts needed by this drawing ...",ltype:"Parsing line types ...",style:"Parsing text syltes ...",dimstyle:"Parsing dimension styles ...",layer:"Parsing layers ...",vport:"Parsing viewports ...",blockrecord:"Parsing block record ...",header:"Parsing header ...",block:"Parsing blocks ...",entity:"Parsing entities ...",object:"Parsing named dictionaries ...",end:"Finished!"}},il$1={ACAD:{circle:"",csvg:"SVG",dimlinear:"",line:"",log:"",open:"",pan:"",pickbox:"",qnew:"",regen:"",select:"",zoom:"",zoomw:""},USER:{}},al$1={circle:{center:"",radius:""},dimlinear:{xLine1Point:"",xLine2Point:"",dimLinePoint:""},line:{firstPoint:"",nextPoint:""},sysvar:{prompt:""}},ol$1={commandLine:{noLast:"()",unknownCommand:"",executed:"",showHistory:"",placeholder:"",showMessages:"",canceled:"**",noHistory:"()",close:""},inputManager:{firstCorner:"",secondCorner:""},message:{fetchingDrawingFile:"..."},progress:{start:"...",parse:" ...",font:"...",ltype:"...",style:"...",dimstyle:"...",layer:"...",vport:"...",blockrecord:"BTRs...",header:"...",block:"..",entity:"...",object:"NODs...",end:""}};ce$1.mergeLocaleMessage("en",{command:nl$1,jig:rl$1,main:sl$1});ce$1.mergeLocaleMessage("zh",{command:il$1,jig:al$1,main:ol$1});let cl$1=class{constructor(e=document.body){this.container=e,this.history=[],this.historyIndex=-1,this.lastExecuted=null,this.isCmdPopupOpen=!1,this.isMsgPanelOpen=!1,this.minWidth=420,this.widthRatio=.66,this.autoCompleteIndex=-1,this.injectCSS(),this.createUI(),this.bindEvents(),this.resizeHandler(),window.addEventListener("resize",()=>this.resizeHandler()),ce$1.events.localeChanged.addEventListener(()=>this.refreshLocale())}get visible(){return this.cliContainer.style.display!=="none"}set visible(e){this.cliContainer.style.display=e?"block":"none"}localize(e,n){return ce$1.t(e,{fallback:n})}refreshLocale(){Array.from(this.msgPanel.children).forEach(e=>{var n,r,g,$;const y=e,k=y.dataset.msgKey;if(k)if(k==="main.commandLine.executed"){const L=((r=(n=y.textContent)==null?void 0:n.split(":")[1])==null?void 0:r.trim())??"";y.textContent=`${this.localize(k)}: ${L}`}else if(k==="main.commandLine.unknownCommand"){const L=(($=(g=y.textContent)==null?void 0:g.split(":")[1])==null?void 0:$.trim())??"";y.textContent=`${this.localize(k)}: ${L}`}else y.textContent=this.localize(k)}),this.input.setAttribute("data-placeholder",this.localize("main.commandLine.placeholder")),this.downBtn.title=this.localize("main.commandLine.showHistory"),this.upBtn.title=this.localize("main.commandLine.showMessages")}executeCommand(e){if(!e||!e.trim())if(this.lastExecuted)e=this.lastExecuted;else{this.printMessage(this.localize("main.commandLine.noLast","(no last command)"));return}const n=this.resolveCommand(e);if(!n){const g=this.localize("main.commandLine.unknownCommand");this.printError(`${g}: ${e}`);return}this.history.push(n.globalName),this.historyIndex=this.history.length,this.lastExecuted=n.globalName,this.printHistoryLine(e);const r=this.localize("main.commandLine.executed");this.printMessage(`${r}: ${n.localName}`),ee$1.instance.sendStringToExecute(e),this.renderCommandLine("")}injectCSS(){const e=document.createElement("style");e.textContent=`
      .ml-cli-container {
        position: fixed;
        bottom: 45px;
        left: 50%;
        transform: translateX(-50%);
        font-family: "Segoe UI", Arial, sans-serif;
        font-size: 13px;
        box-sizing: border-box;
        user-select: none;
      }

      .ml-cli-bar {
        display: flex;
        align-items: center;
        gap: 6px;
        border-radius: 6px;
        background: linear-gradient(#ededed, #e0e0e0);
        border: 1px solid rgba(0, 0, 0, 0.35);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
        min-width: 300px;
        height: 30px;
      }

      .ml-cli-left {
        display: flex;
        align-items: center;
        gap: 4px;
        background: rgba(0, 0, 0, 0.06);
        border-radius: 4px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        height: 100%;
      }

      .ml-cli-close-btn {
        width: 18px;
        height: 16px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: #222;
        font-size: 12px;
        background: transparent;
        cursor: pointer;
        padding: 0;
      }

      .ml-cli-close-btn:hover {
        background: rgba(0,0,0,0.10);
      }

      .ml-cli-down,
      .ml-cli-up {
        width: 16px;
        height: 16px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 3px;
        background: transparent;
        border: none;
        cursor: pointer;
        font-size: 16px;
        color: #222;
        padding: 0;
      }

      .ml-cli-up {
        transform: rotate(180deg);
        transform-origin: center;
      }

      .ml-cli-right {
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.06);
        border-radius: 4px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        height: 100%;
      }

      .ml-cli-input {
        flex: 1;
        display: flex;
        align-items: center;
        min-height: 22px;
        padding: 0 6px;
        border-radius: 3px;
        background: transparent;
        outline: none;
        border: none;
        font-family: monospace;
        color: #333;
        white-space: nowrap;
        overflow: hidden;
        line-height: normal;
      }

      .ml-cli-input[data-placeholder]:empty:before {
        content: attr(data-placeholder);
        color: #9a9a9a;
        font-weight: 400;
        display: flex;
        align-items: center;
        height: 100%;
      }

      .ml-cli-option {
        display: inline-block;
        color: #222;
        background: #f7f7f7;
        border: 1px solid rgba(0, 0, 0, 0.06);
        padding: 2px 6px;
        border-radius: 3px;
        margin: 0 4px;
        cursor: pointer;
        font-size: 12px;
      }

      .ml-cli-option:hover {
        background: #eaeaea;
      }

      .ml-cli-cmd-popup {
        position: absolute;
        bottom: 100%;
        left: 0;
        transform: translate(0, 0);
        max-height: 220px;
        overflow-y: auto;
        background: #333;
        border: 1px solid rgba(0, 0, 0, 0.5);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.35);
        border-radius: 4px;
        padding: 6px 0;
        color: #fff;
      }

      .ml-cli-cmd-popup .item {
        padding: 8px 14px;
        cursor: pointer;
        color: #fff;
        font-size: 14px;
      }

      .ml-cli-cmd-popup .item:hover {
        background: #444;
      }

      .ml-cli-msg-panel {
        position: absolute;
        bottom: 100%;
        left: 0;
        transform: translate(0, 0);
        max-height: 340px;
        overflow-y: auto;
        background: #333;
        border: 1px solid rgba(0, 0, 0, 0.5);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.35);
        border-radius: 4px;
        padding: 6px 0;
        font-family: "Microsoft YaHei", Arial, sans-serif;
        color: #fff;
        font-size: 14px;
        white-space: pre-wrap;
        line-height: 1.35;
      }

      .ml-cli-history-line {
        padding: 4px 6px;
        color: #fff;
      }

      .ml-cli-msg-error {
        color: #ff5555;
      }

      .ml-cli-wrapper {
        position: relative;
        width: 100%;
      }

      .hidden {
        display: none !important;
      }

      .ml-cli-cmd-popup::-webkit-scrollbar,
      .ml-cli-msg-panel::-webkit-scrollbar {
        width: 10px;
      }

      .ml-cli-cmd-popup::-webkit-scrollbar-thumb,
      .ml-cli-msg-panel::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 6px;
      }
    `,document.head.appendChild(e)}createUI(){this.cliContainer=document.createElement("div"),this.cliContainer.className="ml-cli-container",this.wrapper=document.createElement("div"),this.wrapper.className="ml-cli-wrapper",this.cliContainer.appendChild(this.wrapper),this.bar=document.createElement("div"),this.bar.className="ml-cli-bar",this.wrapper.appendChild(this.bar),this.leftGroup=document.createElement("div"),this.leftGroup.className="ml-cli-left",this.bar.appendChild(this.leftGroup),this.closeBtn=document.createElement("div"),this.closeBtn.className="ml-cli-close-btn",this.closeBtn.title=this.localize("main.commandLine.close","Close"),this.closeBtn.innerHTML="&#10005;",this.leftGroup.appendChild(this.closeBtn),this.downBtn=document.createElement("button"),this.downBtn.className="ml-cli-down",this.downBtn.title=this.localize("main.commandLine.showHistory"),this.downBtn.innerHTML="&#9662;",this.leftGroup.appendChild(this.downBtn),this.input=document.createElement("div"),this.input.className="ml-cli-input",this.input.contentEditable="true",this.input.setAttribute("spellcheck","false"),this.input.setAttribute("data-placeholder",this.localize("main.commandLine.placeholder")),this.bar.appendChild(this.input);const e=document.createElement("div");e.className="ml-cli-right",this.bar.appendChild(e),this.upBtn=document.createElement("button"),this.upBtn.className="ml-cli-up",this.upBtn.title=this.localize("main.commandLine.showMessages"),this.upBtn.innerHTML="&#9662;",e.appendChild(this.upBtn),this.cmdPopup=document.createElement("div"),this.cmdPopup.className="ml-cli-cmd-popup hidden",this.wrapper.appendChild(this.cmdPopup),this.msgPanel=document.createElement("div"),this.msgPanel.className="ml-cli-msg-panel hidden",this.wrapper.appendChild(this.msgPanel),this.container.appendChild(this.cliContainer)}bindEvents(){this.closeBtn.addEventListener("click",e=>{e.stopPropagation(),this.visible=!1,Ze$2.instance.isShowCommandLine=!1}),this.downBtn.addEventListener("click",e=>{e.stopPropagation(),this.isCmdPopupOpen=!this.isCmdPopupOpen,this.updatePopups({showCmd:this.isCmdPopupOpen,showMsg:!1}),this.isCmdPopupOpen&&this.showCommandHistoryPopup()}),this.upBtn.addEventListener("click",e=>{e.stopPropagation(),this.isMsgPanelOpen=!this.isMsgPanelOpen,this.updatePopups({showCmd:!1,showMsg:this.isMsgPanelOpen}),this.isMsgPanelOpen&&this.showMessagePanel()}),document.addEventListener("click",e=>{this.cliContainer.contains(e.target)||this.updatePopups({showCmd:!1,showMsg:!1})}),this.input.addEventListener("keydown",e=>this.handleKeyDown(e)),this.input.addEventListener("keydown",e=>this.handleArrowKeys(e)),this.input.addEventListener("input",()=>this.handleInputChange()),this.input.addEventListener("focus",()=>this.updatePopups({showCmd:!1,showMsg:!1})),this.cmdPopup.addEventListener("click",e=>{const n=e.target.closest(".item");n&&(this.setInputText(n.dataset.value||""),this.input.focus(),this.updatePopups({showCmd:!1,showMsg:!1}))})}handleKeyDown(e){if(e.key==="Enter"){e.preventDefault();const n=this.getInputText();this.executeCommand(n),this.updatePopups({showCmd:!1,showMsg:!1})}else e.key==="Escape"&&(e.preventDefault(),this.setInputText(""),this.printMessage(this.localize("main.commandLine.canceled")),this.updatePopups({showCmd:!1,showMsg:!1}))}handleArrowKeys(e){e.key==="ArrowUp"&&(e.preventDefault(),this.isCmdPopupOpen?this.navigateAutoComplete(-1):this.navigateHistory(-1)),e.key==="ArrowDown"&&(e.preventDefault(),this.isCmdPopupOpen?this.navigateAutoComplete(1):this.navigateHistory(1))}handleInputChange(){const e=this.getInputText();if(!e){this.updatePopups({showCmd:!1});return}const n=Q$1.instance.searchCommandsByPrefix(e);n.length?(this.autoCompleteIndex=-1,this.cmdPopup.innerHTML="",n.forEach((r,g)=>{const $=document.createElement("div");$.className="item",$.dataset.value=r.command.globalName;const y=ce$1.cmdDescription(r.commandGroup,r.command.globalName);$.innerHTML=`<strong>${r.command.globalName} - ${y}</strong>`,g===this.autoCompleteIndex&&$.classList.add("selected"),this.cmdPopup.appendChild($)}),this.updatePopups({showCmd:!0})):this.updatePopups({showCmd:!1})}navigateAutoComplete(e){const n=Array.from(this.cmdPopup.querySelectorAll(".item"));if(!n.length)return;this.autoCompleteIndex+=e,this.autoCompleteIndex<0&&(this.autoCompleteIndex=0),this.autoCompleteIndex>=n.length&&(this.autoCompleteIndex=n.length-1),n.forEach((g,$)=>{g.classList.toggle("selected",$===this.autoCompleteIndex)});const r=n[this.autoCompleteIndex];r&&this.setInputText(r.dataset.value??"")}navigateHistory(e){this.history.length&&(this.historyIndex===-1&&(this.historyIndex=this.history.length),this.historyIndex+=e,this.historyIndex<0&&(this.historyIndex=0),this.historyIndex>this.history.length&&(this.historyIndex=this.history.length),this.historyIndex>=0&&this.historyIndex<this.history.length?this.setInputText(this.history[this.historyIndex]):this.setInputText(""))}getInputText(){const e=this.input.cloneNode(!0);return e.querySelectorAll(".ml-cli-option").forEach(n=>n.remove()),e.innerText.replace(/\u00A0/g," ").trim()}setInputText(e=""){this.input.innerHTML="",e&&this.input.appendChild(document.createTextNode(e+" ")),this.setCursorToEnd()}renderCommandLine(e,n=[]){this.input.innerHTML="",e&&this.input.appendChild(document.createTextNode(e+" ")),n.forEach(r=>{const g=document.createElement("span");g.className="ml-cli-option",g.textContent=r,g.addEventListener("click",$=>{$.stopPropagation(),this.insertOption(r)}),this.input.appendChild(g),this.input.appendChild(document.createTextNode(" "))}),this.setCursorToEnd(),this.input.focus()}insertOption(e){this.input.appendChild(document.createTextNode(e+" ")),this.setCursorToEnd(),this.input.focus()}setCursorToEnd(){const e=document.createRange();e.selectNodeContents(this.input),e.collapse(!1);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(e),this.input.scrollLeft=this.input.scrollWidth)}resolveCommand(e){const n=e.trim().split(/\s+/)[0].toUpperCase();return Q$1.instance.lookupLocalCmd(n)}updatePopups({showCmd:e=!1,showMsg:n=!1}={}){this.isCmdPopupOpen=e,this.isMsgPanelOpen=n,this.cmdPopup.classList.toggle("hidden",!e),this.msgPanel.classList.toggle("hidden",!n),e&&this.positionCmdPopup(),n&&this.positionMsgPanel()}showCommandHistoryPopup(){if(this.cmdPopup.innerHTML="",this.history.length)for(let e=this.history.length-1;e>=0;e--){const n=document.createElement("div");n.className="item",n.dataset.value=this.history[e],n.textContent=this.history[e],this.cmdPopup.appendChild(n)}else{const e=document.createElement("div");e.className="item",e.textContent=this.localize("main.commandLine.noHistory"),this.cmdPopup.appendChild(e)}this.positionCmdPopup()}positionCmdPopup(){this.cmdPopup.style.left="0px",this.cmdPopup.style.width=this.bar.offsetWidth+"px"}showMessagePanel(){if(!this.msgPanel.children.length){const e=document.createElement("div");e.className="ml-cli-history-line",e.textContent=this.localize("main.commandLine.noHistory"),e.dataset.msgKey="main.commandLine.noHistory",this.msgPanel.appendChild(e)}this.msgPanel.scrollTop=this.msgPanel.scrollHeight,this.positionMsgPanel()}positionMsgPanel(){this.msgPanel.style.width=this.bar.offsetWidth+"px"}clearNoHistoryPlaceholder(){Array.from(this.msgPanel.children).forEach(e=>{const n=e;n.dataset.msgKey==="main.commandLine.noHistory"&&this.msgPanel.removeChild(n)})}printMessage(e,n){this.clearNoHistoryPlaceholder();const r=document.createElement("div");r.className="ml-cli-history-line",r.textContent=e,n&&(r.dataset.msgKey=n),this.msgPanel.appendChild(r),this.showMessagePanel()}printError(e,n){this.clearNoHistoryPlaceholder();const r=document.createElement("div");r.className="ml-cli-history-line ml-cli-msg-error",r.textContent=e,n&&(r.dataset.msgKey=n),this.msgPanel.appendChild(r),this.showMessagePanel()}printHistoryLine(e){this.clearNoHistoryPlaceholder();const n=document.createElement("div");n.className="ml-cli-history-line",n.textContent="> "+e,n.dataset.msgKey="main.commandLine.executed",this.msgPanel.appendChild(n),this.showMessagePanel()}resizeHandler(){let e=Math.max(this.minWidth,window.innerWidth*this.widthRatio);e=Math.min(e,window.innerWidth-20),this.bar.style.width=e+"px",this.positionMsgPanel(),this.positionCmdPopup()}},ll$1=class{constructor(e){this.options=e}parse(e){const n=Number(e);return isNaN(n)||!this.options.allowNegative&&n<0||!this.options.allowZero&&n===0?null:n}};class ms{constructor(e){this.options=e}parse(e){const n=Number(e);return isNaN(n)||!this.options.allowNegative&&n<0||!this.options.allowZero&&n===0?null:n}}class Js extends ms{}let hl$1=class extends ms{},ul$1=class extends ms{constructor(e){super(e)}parse(e){const n=super.parse(e);return n==null?n:!Number.isInteger(n)||this.options.lowerLimit!==void 0&&n<this.options.lowerLimit||this.options.upperLimit!==void 0&&n>this.options.upperLimit?null:n}},dl$1=class{constructor(e){this.options=e}parse(e,n){const r=Number(e),g=Number(n);return isNaN(r)||isNaN(g)?null:{x:r,y:g,z:0}}},pl$1=class{constructor(e){this.options=e}parse(e){return!this.options.allowSpaces&&e.includes(" ")||!this.options.allowEmpty&&e.length===0||this.options.maxLength&&e.length>this.options.maxLength?null:e}},fl$1=class{constructor(e,n,r,g=!0,$=!1,y=!0){this._displayName=e,this._globalName=n??e,this._localName=r??this._globalName,this._enabled=g,this._isReadOnly=$,this._visible=y}get displayName(){return this._displayName}set displayName(e){this._isReadOnly||(this._displayName=e)}get enabled(){return this._enabled}set enabled(e){this._isReadOnly||(this._enabled=e)}get globalName(){return this._globalName}set globalName(e){this._isReadOnly||(this._globalName=e)}get isReadOnly(){return this._isReadOnly}get localName(){return this._localName}set localName(e){this._isReadOnly||(this._localName=e)}get visible(){return this._visible}set visible(e){this._isReadOnly||(this._visible=e)}},gl$1=class{constructor(){this._keywords=[]}add(e,n,r,g=!0,$=!0){let y,k,L;n===void 0?(y=e,k=e,L=e):r===void 0?(y=n,k=e,L=n):(y=e,k=n,L=r);const V=new fl$1(y,k,L,g,!1,$);return this._keywords.push(V),V}clear(){this._keywords=[],this._defaultKeyword=void 0}toArray(){return this._keywords.slice()}get default(){return this._defaultKeyword}set default(e){if(e&&!this._keywords.includes(e))throw new Error("Default keyword must be one of the collection's keywords");this._defaultKeyword=e}getDisplayString(e=!1){return this._keywords.filter(n=>n.visible&&n.enabled).map(n=>(!e&&this._defaultKeyword,n.displayName)).join("/")}[Symbol.iterator](){let e=0;const n=this._keywords;return{next(){return e<n.length?{done:!1,value:n[e++]}:{done:!0,value:void 0}}}}findByDisplayName(e){return this._keywords.find(n=>n.displayName.toLowerCase()===e.toLowerCase())}findByGlobalName(e){return this._keywords.find(n=>n.globalName.toLowerCase()===e.toLowerCase())}get count(){return this._keywords.length}};class nr{constructor(e){this._message=e,this._appendKeywordsToMessage=!0,this._isReadOnly=!1,this._keywords=new gl$1}get jig(){return this._jig}set jig(e){this._isReadOnly||(this._jig=e)}get message(){return this._message}set message(e){this._isReadOnly||(this._message=e)}get appendKeywordsToMessage(){return this._appendKeywordsToMessage}set appendKeywordsToMessage(e){this._isReadOnly||(this._appendKeywordsToMessage=e)}get isReadOnly(){return this._isReadOnly}get keywords(){return this._keywords}setMessageAndKeywords(e,n){if(this._isReadOnly)return this;const r=e.match(/^(.*?)\s*(?:\[(.*)\])?$/);if(r){const[,g,$]=r;if(this._message=g.trim(),$!==void 0){const y=$.split("/").map(k=>k.trim()).filter(k=>k.length>0);this._keywords.clear();for(const k of y){let L=n.split(/\s+/).find(V=>V.toLowerCase()===k.toLowerCase());L||(L=k),this._keywords.add(k,L)}}}return this}}class ys extends nr{constructor(e){super(e),this._defaultValue=0,this._useDefaultValue=!1,this._allowNone=!1,this._allowArbitraryInput=!1,this._allowNegative=!1,this._allowZero=!0}get defaultValue(){return this._defaultValue}set defaultValue(e){this.isReadOnly||(this._defaultValue=e)}get useDefaultValue(){return this._useDefaultValue}set useDefaultValue(e){this.isReadOnly||(this._useDefaultValue=e)}get allowNone(){return this._allowNone}set allowNone(e){this.isReadOnly||(this._allowNone=e)}get allowArbitraryInput(){return this._allowArbitraryInput}set allowArbitraryInput(e){this.isReadOnly||(this._allowArbitraryInput=e)}get allowNegative(){return this._allowNegative}set allowNegative(e){this.isReadOnly||(this._allowNegative=e)}get allowZero(){return this._allowZero}set allowZero(e){this.isReadOnly||(this._allowZero=e)}}let ml$1=class extends ys{constructor(e){super(e),this._useBasePoint=!0,this._useDashedLine=!0,this._only2d=!0,this.allowNegative=!1}get basePoint(){return this._basePoint}set basePoint(e){this.isReadOnly||(e==null?this._basePoint=e:this._basePoint=this._basePoint?this._basePoint.copy(e):new W$3(e))}get useBasePoint(){return this._useBasePoint}set useBasePoint(e){this.isReadOnly||(this._useBasePoint=e)}get useDashedLine(){return this._useDashedLine}set useDashedLine(e){this.isReadOnly||(this._useDashedLine=e)}get only2d(){return this._only2d}set only2d(e){this.isReadOnly||(this._only2d=e)}},st$1=class extends nr{constructor(e){super(e),this._useBasePoint=!1,this._useDashedLine=!1,this._allowNone=!1}get basePoint(){return this._basePoint}set basePoint(e){this.isReadOnly||(e==null?this._basePoint=e:this._basePoint=this._basePoint?this._basePoint.copy(e):new W$3(e))}get useBasePoint(){return this._useBasePoint}set useBasePoint(e){this.isReadOnly||(this._useBasePoint=e)}get useDashedLine(){return this._useDashedLine}set useDashedLine(e){this.isReadOnly||(this._useDashedLine=e)}get allowNone(){return this._allowNone}set allowNone(e){this.isReadOnly||(this._allowNone=e)}},yl$1=class extends nr{constructor(e){super(e),this._allowSpaces=!0,this._allowEmpty=!1,this._defaultValue="",this._useDefaultValue=!1}get allowSpaces(){return this._allowSpaces}set allowSpaces(e){this.isReadOnly||(this._allowSpaces=e)}get allowEmpty(){return this._allowEmpty}set allowEmpty(e){this.isReadOnly||(this._allowEmpty=e)}get maxLength(){return this._maxLength}set maxLength(e){this.isReadOnly||(this._maxLength=e)}get defaultValue(){return this._defaultValue}set defaultValue(e){this.isReadOnly||(this._defaultValue=e)}get useDefaultValue(){return this._useDefaultValue}set useDefaultValue(e){this.isReadOnly||(this._useDefaultValue=e)}},bs$2=class d2{constructor(e="rect",n=8,r="green"){this._type=e,this._size=n,this._color=r,d2.injectCSS(),this._el=document.createElement("div"),this._el.classList.add("ml-marker"),this._el.style.color=r,this.applyShape(),document.body.appendChild(this._el)}get color(){return this._color}set color(e){this._color=e,this._el.style.color=e}get type(){return this._type}set type(e){this._type=e,this.applyShape()}static injectCSS(){if(document.getElementById("ml-marker-style"))return;const e=document.createElement("style");e.id="ml-marker-style",e.textContent=`
      .ml-marker {
        position: absolute;
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 999999;
      }
      .ml-marker-circle {
        border-radius: 50%;
        border: 2px solid currentColor;
        background: transparent;
      }
      .ml-marker-rect {
        border: 2px solid currentColor;
        background: transparent;
      }
      .ml-marker-triangle {
        width: 0;
        height: 0;
        border-left: 0.5em solid transparent;
        border-right: 0.5em solid transparent;
        border-bottom: 1em solid currentColor;
        transform: translate(-50%, -100%);
      }
    `,document.head.appendChild(e)}applyShape(){switch(this._type){case"circle":this._el.classList.add("ml-marker-circle"),this._el.style.width=`${this._size}px`,this._el.style.height=`${this._size}px`;break;case"rect":this._el.classList.add("ml-marker-rect"),this._el.style.width=`${this._size}px`,this._el.style.height=`${this._size}px`;break;case"triangle":this._el.classList.add("ml-marker-triangle"),this._el.style.fontSize=`${this._size}px`;break}}setPosition(e){this._el.style.left=`${e.x}px`,this._el.style.top=`${e.y}px`}destroy(){this._el.remove()}},bl$1=class{constructor(e){this.stack=[],this.view=e}showMarker(e,n,r,g){const $=this.view.wcs2Cwcs(e),y=new bs$2(n,r,g);return y.setPosition($),this.stack.push(y),y}hideMarker(){const e=this.stack.pop();e&&e.destroy()}clear(){for(const e of this.stack)e.destroy();this.stack=[]}top(){return this.stack[this.stack.length-1]}},ei$1=class{constructor(e){this.userTyped=!1,this.parent=e,this.input=document.createElement("input"),this.input.type="text",this.boundOnInput=()=>{this.userTyped=!0,this.resetValidation()},this.input.addEventListener("input",this.boundOnInput),this.parent.appendChild(this.input)}markInvalid(){this.input.classList.add("invalid")}markValid(){this.input.classList.remove("invalid")}resetValidation(){this.input.classList.remove("invalid")}get placeholder(){return this.input.placeholder}set placeholder(e){e&&(this.input.placeholder=e)}set value(e){e!==void 0&&(this.input.value=e)}get value(){return this.input.value}get focused(){return document.activeElement===this.input}focus(){this.input.focus()}select(){this.input.select()}remove(){this.input.remove()}isEventTarget(e){return e.target===this.input}dispose(){this.input.removeEventListener("input",this.boundOnInput),this.remove()}addEventListener(e,n,r){this.input.addEventListener(e,n,r)}removeEventListener(e,n,r){this.input.removeEventListener(e,n,r)}},vl$1=class{constructor(e){this.parent=e.parent,this.twoInputs=e.twoInputs??!0,this.boundOnInput=()=>this.handleInput(),this.boundOnKeyDown=n=>this.handleKeyDown(n),this.xInput=new ei$1(this.parent),this.xInput.addEventListener("input",this.boundOnInput),this.xInput.addEventListener("keydown",this.boundOnKeyDown),this.twoInputs&&(this.yInput=new ei$1(this.parent),this.yInput.addEventListener("input",this.boundOnInput),this.yInput.addEventListener("keydown",this.boundOnKeyDown)),this.validateFn=e.validate,this.onCommit=e.onCommit,this.onChange=e.onChange,this.onCancel=e.onCancel,setTimeout(()=>{this.yInput&&this.yInput.select(),this.xInput.focus(),this.xInput.select()},0)}get userTyped(){var e;return this.xInput.userTyped||!!((e=this.xInput)!=null&&e.userTyped)}get focused(){var e;return this.xInput.focused||((e=this.yInput)==null?void 0:e.focused)}focus(){this.xInput.focus()}setValue(e){this.xInput.userTyped||(this.xInput.value=e.x),this.twoInputs&&this.yInput&&!this.yInput.userTyped&&(this.yInput.value=e.y??"")}dispose(){var e;this.xInput.removeEventListener("input",this.boundOnInput),this.xInput.removeEventListener("keydown",this.boundOnKeyDown),this.xInput.dispose(),this.yInput&&(this.yInput.removeEventListener("input",this.boundOnInput),this.yInput.removeEventListener("keydown",this.boundOnKeyDown),(e=this.yInput)==null||e.dispose())}handleInput(){var e;const n=this.validate();(e=this.onChange)==null||e.call(this,n)}handleKeyDown(e){var n,r;let g=this.xInput,$=this.yInput;if(this.yInput&&this.yInput.isEventTarget(e)&&(g=this.yInput,$=this.xInput),e.key==="Enter"){const y=this.validate();y.isValid&&y.value!=null?((n=this.onCommit)==null||n.call(this,y.value),g.markValid()):g.markInvalid(),e.preventDefault(),e.stopPropagation()}else e.key==="Escape"?((r=this.onCancel)==null||r.call(this),e.preventDefault(),e.stopPropagation()):e.key==="Tab"&&(e.preventDefault(),$&&($==null||$.focus(),$==null||$.select()))}validate(){const e=this.xInput.value.trim(),n=this.twoInputs&&this.yInput?this.yInput.value.trim():void 0;return this.validateFn({x:e,y:n})}},xl$1=class{constructor(e){this.container=null,this.baseLine=null,this.perpLineAtBase=null,this.perpLineAtCursor=null,this.connectorLine=null,this.labelEl=null,this.angleLabelEl=null,this.xAxisLine=null,this.angleSvg=null,this.anglePath=null,this.options={},this.view=e}get element(){return this.container}start(e,n){this.basePoint=new W$3(e),this.options=n||{};const r=this.options.color||"#0f0";this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.left="0",this.container.style.top="0",this.container.style.pointerEvents="none",this.container.style.zIndex="99999",document.body.appendChild(this.container),this.baseLine=document.createElement("div"),this.baseLine.style.position="fixed",this.baseLine.style.borderTop=`1px solid ${r}`,this.container.appendChild(this.baseLine);const g=()=>{const $=document.createElement("div");return $.style.position="fixed",$.style.borderTop=`1px dashed ${r}`,this.container.appendChild($),$};this.options.showBaseLineOnly||(this.perpLineAtBase=g(),this.perpLineAtCursor=g(),this.connectorLine=g(),this.labelEl=document.createElement("div"),this.labelEl.style.position="fixed",this.labelEl.style.color=r,this.labelEl.style.fontSize="12px",this.labelEl.style.padding="2px 4px",this.labelEl.style.borderRadius="4px",this.container.appendChild(this.labelEl),this.xAxisLine=document.createElement("div"),this.xAxisLine.style.position="fixed",this.xAxisLine.style.borderTop=`1px solid ${r}`,this.container.appendChild(this.xAxisLine),this.angleSvg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.angleSvg.setAttribute("style","position:absolute; overflow:visible; pointer-events:none;"),this.anglePath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.anglePath.setAttribute("fill","none"),this.anglePath.setAttribute("stroke",r),this.anglePath.setAttribute("stroke-width","1"),this.anglePath.setAttribute("stroke-dasharray","4 4"),this.angleSvg.appendChild(this.anglePath),this.container.appendChild(this.angleSvg),this.angleLabelEl=document.createElement("div"),this.angleLabelEl.style.position="fixed",this.angleLabelEl.style.color=r,this.angleLabelEl.style.fontSize="12px",this.angleLabelEl.style.padding="2px 4px",this.angleLabelEl.style.borderRadius="4px",this.container.appendChild(this.angleLabelEl))}update(e){if(!this.container||!this.basePoint||!this.baseLine)return;const n=this.view.canvas.getBoundingClientRect(),r=this.view.wcs2Cwcs(this.basePoint),g=this.view.wcs2Cwcs(e),$=n.left,y=n.top,k=(Vr,dr,ec)=>{const tc=ec.x-dr.x,Xs=ec.y-dr.y,rc=Math.sqrt(tc*tc+Xs*Xs),ic=Math.atan2(Xs,tc)*(180/Math.PI);Vr.style.width=`${rc}px`,Vr.style.transformOrigin="0 0",Vr.style.transform=`translate(${dr.x+$}px, ${dr.y+y}px) rotate(${ic}deg)`};if(k(this.baseLine,r,g),this.options.showBaseLineOnly||!this.perpLineAtBase||!this.perpLineAtCursor||!this.connectorLine)return;const L=g.x-r.x,V=g.y-r.y,z=Math.sqrt(L*L+V*V);if(z===0){this.perpLineAtBase&&(this.perpLineAtBase.style.width="0px"),this.perpLineAtCursor&&(this.perpLineAtCursor.style.width="0px"),this.connectorLine&&(this.connectorLine.style.width="0px"),this.xAxisLine&&(this.xAxisLine.style.width="0px"),this.anglePath&&this.anglePath.setAttribute("d",""),this.angleLabelEl&&(this.angleLabelEl.style.display="none");return}const j=this.options.perpendicularLength??50,ie=-V/z,Oe=L/z,ur={x:r.x+ie*j,y:r.y+Oe*j},hr={x:g.x+ie*j,y:g.y+Oe*j};if(k(this.perpLineAtBase,r,ur),k(this.perpLineAtCursor,g,hr),k(this.connectorLine,ur,hr),this.labelEl){const Vr=(ur.x+hr.x)/2+$,dr=(ur.y+hr.y)/2+y-24,ec=Math.sqrt((e.x-this.basePoint.x)**2+(e.y-this.basePoint.y)**2);this.labelEl.textContent=ec.toFixed(3),this.labelEl.style.left=`${Vr-20}px`,this.labelEl.style.top=`${dr}px`,this.labelEl.style.display=""}if(this.xAxisLine){const Vr={x:r.x+z,y:r.y};k(this.xAxisLine,r,Vr)}if(this.angleSvg&&this.anglePath&&this.angleLabelEl){const Vr=z,dr=r.x+$,ec=r.y+y,tc=Math.atan2(g.y-r.y,g.x-r.x),Xs=tc*180/Math.PI,rc=tc/2,ic=dr-Vr,_c=ec-Vr,qm=Vr*2;this.angleSvg.style.left=`${ic}px`,this.angleSvg.style.top=`${_c}px`,this.angleSvg.setAttribute("width",`${qm}`),this.angleSvg.setAttribute("height",`${qm}`),this.angleSvg.setAttribute("viewBox",`0 0 ${qm} ${qm}`);const Xm=Vr,Km=Vr,tv=Xm+Vr,nv=Km,sv=Xm+Vr*Math.cos(tc),gv=Km+Vr*Math.sin(tc),Sv=Math.abs(tc)>Math.PI?"1":"0",wv=tc>=0?"1":"0",rv=`M ${tv} ${nv} A ${Vr} ${Vr} 0 ${Sv} ${wv} ${sv} ${gv}`;this.anglePath.setAttribute("d",rv);const Jm=`${Math.abs(Xs).toFixed(1)}`,dv=dr+Vr*Math.cos(rc),pv=ec+Vr*Math.sin(rc);this.angleLabelEl.textContent=Jm;const mv=40;this.angleLabelEl.style.left=`${dv-mv/2}px`,this.angleLabelEl.style.top=`${pv-12}px`,this.angleLabelEl.style.display=""}}dispose(){this.container&&this.container.remove(),this.container=null,this.baseLine=null,this.perpLineAtBase=null,this.perpLineAtCursor=null,this.connectorLine=null,this.labelEl=null,this.angleLabelEl=null,this.xAxisLine=null,this.angleSvg=null,this.anglePath=null}};const rn$2=class tw{constructor(e,n){this.lastPoint=null,this.visible=!1,this.disposed=!1,this.view=e,n.disableOSnap||(this.osnapMarkerManager=new bl$1(e)),n.basePoint&&(this.rubberBand=new xl$1(this.view),this.rubberBand.start(n.basePoint,{color:"#0f0",showBaseLineOnly:n.showBaseLineOnly})),this.parent=n.parent??document.body,this.validateFn=n.validate,this.getDynamicValue=n.getDynamicValue,this.drawPreview=n.drawPreview,this.onCommit=n.onCommit,this.onChange=n.onChange,this.onCancel=n.onCancel,this.container=document.createElement("div"),this.container.className="ml-floating-input";const r=document.createElement("span");r.className="ml-floating-input-label",r.textContent=n.message??"",this.container.appendChild(r),this.inputs=new vl$1({parent:this.container,twoInputs:n.twoInputs,validate:this.validateFn,onCancel:this.onCancel,onCommit:this.onCommit,onChange:this.onChange}),document.body.appendChild(this.container),this.boundOnMouseEnter=g=>this.handleMouseEnter(g),this.boundOnMouseLeave=()=>this.handleMouseLeave(),this.boundOnMouseMove=g=>this.handleMouseMove(g),this.boundOnClick=g=>this.handleClick(g),this.parent.addEventListener("mouseenter",this.boundOnMouseEnter),this.parent.addEventListener("mouseleave",this.boundOnMouseLeave),this.injectCSS()}injectCSS(){if(tw.stylesInjected)return;tw.stylesInjected=!0;const e=document.createElement("style");e.textContent=`
      .ml-floating-input {
        position: absolute;
        display: flex;
        align-items: center;
        padding: 2px 4px;
        background: #444; /* gray background for container */
        color: #fff; /* white text for message */
        border: none;
        border-radius: 4px;
        font-size: 12px;
        pointer-events: none;
        z-index: 10000;
      }
      .ml-floating-input input {
        font-size: 12px;
        padding: 2px 4px;
        margin-left: 6px;
        height: 22px;
        width: 90px; /* wider to show coordinates */
        background: #888; /* gray background for input */
        border: 1px solid #666; /* subtle border */
        border-radius: 2px;
      }
      .ml-floating-input input.invalid {
        border-color: red;
        color: red;
      }
      .ml-floating-input-label {
        white-space: nowrap;
        color: #fff; /* white label text */
      }
    `,document.head.appendChild(e)}get isVisible(){return this.visible}showAt(e){this.disposed||(this.container.style.display="flex",this.visible=!0,this.inputs.focus(),this.setPosition(e),this.parent.addEventListener("mousemove",this.boundOnMouseMove),this.parent.addEventListener("click",this.boundOnClick))}hide(){this.visible&&(this.container.style.display="none",this.visible=!1,this.removeListener())}dispose(){var e,n;this.disposed||(this.disposed=!0,(e=this.osnapMarkerManager)==null||e.clear(),this.inputs.dispose(),(n=this.rubberBand)==null||n.dispose(),this.removeListener(!0),this.container.remove())}setPosition(e){const n=this.parent.getBoundingClientRect(),r=this.container.getBoundingClientRect(),g={x:e.x-n.left,y:e.y-n.top};let $=g.x+10,y=g.y+10;return $+r.width>n.right&&($=n.right-r.width),y+r.height>n.bottom&&(y=n.bottom-r.height),$<n.left&&($=n.left),y<n.top&&(y=n.top),this.container.style.left=`${$}px`,this.container.style.top=`${y}px`,g}removeListener(e=!1){this.parent.removeEventListener("mousemove",this.boundOnMouseMove),this.parent.removeEventListener("click",this.boundOnClick),e&&(this.parent.removeEventListener("mouseenter",this.boundOnMouseEnter),this.parent.removeEventListener("mouseleave",this.boundOnMouseLeave))}handleMouseEnter(e){this.showAt(e)}handleMouseLeave(){this.hide()}handleMouseMove(e){var n,r;if(!this.visible)return;const g=this.getPosition(e),$=this.getDynamicValue(g);this.inputs.setValue($.raw),(n=this.rubberBand)==null||n.update(g),this.inputs.focused||this.inputs.focus(),(r=this.drawPreview)==null||r.call(this,g)}handleClick(e){var n;if(!this.visible)return;const r=this.getPosition(e),g=this.getDynamicValue(r);this.lastPoint=r,(n=this.onCommit)==null||n.call(this,g.value)}getPosition(e){const n=this.setPosition(e),r=this.view.cwcs2Wcs(n);return this.osnapMarkerManager&&(this.osnapMarkerManager.hideMarker(),this.lastOSnapPoint=this.getOSnapPoint(),this.lastOSnapPoint&&(r.x=this.lastOSnapPoint.x,r.y=this.lastOSnapPoint.y,this.osnapMarkerManager.showMarker(this.lastOSnapPoint))),r}getOSnapPoint(e,n=20){const r=this.view.pick(e,n);if(r.length>0){const g=Gh$1().workingDatabase.tables.blockTable.modelSpace.getIdAt(r[0]);if(g){const $=[];g.subGetOsnapPoints(Dt$2.EndPoint,{...this.view.curPos,z:0},this.lastPoint,$);let y=Number.MAX_VALUE,k=-1;for(let L=0;L<$.length;++L){const V=this.view.curPos.distanceTo($[L]);V<y&&(y=V,k=L)}if(k!=-1){const L=this.view.cwcs2Wcs({x:0,y:0}),V=this.view.cwcs2Wcs({x:n,y:0});if(y<V.x-L.x)return $[k]}}}}};rn$2.stylesInjected=!1;let Wr=rn$2;const sn$2=class nw{constructor(e){this.lastPoint=null,this.active=!1,this.view=e,this.injectCSS()}get isActive(){return this.active}injectCSS(){if(nw.stylesInjected)return;nw.stylesInjected=!0;const e=document.createElement("style");e.textContent=`
      .ml-jig-preview-rect {
        position: absolute;
        border: 1px dashed var(--line-color, #0f0);
        background: rgba(0, 255, 0, 0.04);
        pointer-events: none;
        z-index: 9999;
      }
      .ml-jig-preview-line {
        position: absolute;
        height: 1px;
        background: var(--line-color, #0f0);
        transform-origin: 0 0;
        pointer-events: none;
        z-index: 9999;
      }
    `,document.head.appendChild(e)}formatNumber(e,n){switch(n){case"angle":return e.toFixed(2);case"distance":case"point":default:return e.toFixed(3)}}getPoint(e){return this.getPointInternal(e)}getNumberTyped(e,n){const r=()=>({value:0,raw:{x:""}});return this.makePromise({message:e.message,twoInputs:!1,jig:e.jig,showBaseLineOnly:!1,useBasePoint:!1,handler:n,getDynamicValue:r})}getDistance(e){if(!this.lastPoint)return this.getNumberTyped(e,new Js(e));const n=g=>{const $=g.x-this.lastPoint.x,y=g.y-this.lastPoint.y,k=Math.sqrt($*$+y*y);return{value:k,raw:{x:this.formatNumber(k,"distance")}}},r=new Js(e);return this.makePromise({message:e.message,twoInputs:!1,jig:e.jig,showBaseLineOnly:!e.useDashedLine,useBasePoint:!0,basePoint:e.basePoint,handler:r,getDynamicValue:n})}getAngle(e){const n=g=>{const $=g.x-this.lastPoint.x,y=g.y-this.lastPoint.y,k=Math.atan2(y,$)*180/Math.PI;return{value:k,raw:{x:this.formatNumber(k,"angle")}}},r=new ll$1(e);return this.makePromise({message:e.message,twoInputs:!1,jig:e.jig,showBaseLineOnly:!e.useDashedLine,useBasePoint:!0,basePoint:e.basePoint,handler:r,getDynamicValue:n})}getDouble(e){return this.getNumberTyped(e,new hl$1(e))}getInteger(e){return this.getNumberTyped(e,new ul$1(e))}getString(e){const n=()=>({value:"",raw:{x:""}}),r=new pl$1(e);return this.makePromise({message:e.message,twoInputs:!1,jig:e.jig,showBaseLineOnly:!1,useBasePoint:!1,handler:r,getDynamicValue:n})}async getBox(){const e=ce$1.t("main.inputManager.firstCorner"),n=new st$1(e);n.useDashedLine=!1,n.useBasePoint=!1;const r=await this.getPoint(n),g=this.view.wcs2Cwcs(r),$=document.createElement("div");$.className="ml-jig-preview-rect",document.body.appendChild($);const y=()=>{$.remove()},k=j=>{const ie=this.view.wcs2Cwcs(j),Oe=Math.min(ie.x,g.x),ur=Math.min(ie.y,g.y),hr=Math.abs(ie.x-g.x),Vr=Math.abs(ie.y-g.y);Object.assign($.style,{left:`${Oe}px`,top:`${ur}px`,width:`${hr}px`,height:`${Vr}px`})},L=ce$1.t("main.inputManager.secondCorner"),V=new st$1(L);V.useDashedLine=!1,V.useBasePoint=!1;const z=await this.getPointInternal(V,y,k);return new Se$2().expandByPoint(r).expandByPoint(z)}getPointInternal(e,n,r){const g=y=>({value:{x:y.x,y:y.y,z:0},raw:{x:this.formatNumber(y.x,"point"),y:this.formatNumber(y.y,"point")}}),$=new dl$1(e);return this.makePromise({message:e.message,twoInputs:!0,jig:e.jig,showBaseLineOnly:!e.useDashedLine,useBasePoint:e.useBasePoint,basePoint:e.basePoint,cleanup:n,handler:$,getDynamicValue:g,drawPreview:r})}makePromise(e){return new Promise((n,r)=>{this.active=!0;const g=j=>{const ie=e.handler.parse(j.x,j.y);return{isValid:ie!=null,value:ie??void 0}};let $;e.useBasePoint&&(e.basePoint?$=e.basePoint:this.lastPoint&&($={x:this.lastPoint.x,y:this.lastPoint.y}));const y=new Wr(this.view,{parent:this.view.canvas,twoInputs:e.twoInputs,message:e.message,disableOSnap:e.disableOSnap,showBaseLineOnly:e.showBaseLineOnly,basePoint:$,validate:g,getDynamicValue:e.getDynamicValue,drawPreview:j=>{var ie;if(e.jig){const Oe=e.getDynamicValue(j);e.jig.update(Oe.value),e.jig.render()}(ie=e.drawPreview)==null||ie.call(e,j)},onCommit:j=>{L(j),y.lastPoint&&(this.lastPoint={x:y.lastPoint.x,y:y.lastPoint.y})},onCancel:()=>V()}),k=()=>{var j,ie;this.active=!1,(j=e.cleanup)==null||j.call(e),(ie=e.jig)==null||ie.end(),document.removeEventListener("keydown",z),y.dispose()},L=j=>{k(),n(j)},V=()=>{k(),r(new Error("cancelled"))},z=j=>{j.key==="Escape"&&V()};document.addEventListener("keydown",z),y.showAt(this.view.curMousePos)})}};sn$2.stylesInjected=!1;let $r=sn$2,wl$1=class{constructor(e){this.events={sysVarChanged:new oe$2},this._view=e,this._cursorManager=new tl$1(e),this._inputManager=new $r(e)}get isActive(){return this._inputManager.isActive}get currentCursor(){return this._currentCursor}restoreCursor(){this._previousCursor!=null&&this.setCursor(this._previousCursor)}setCursor(e){this._cursorManager.setCursor(e),this._previousCursor=this._currentCursor,this._currentCursor=e}async getPoint(e){return await this._inputManager.getPoint(e)}async getAngle(e){return await this._inputManager.getAngle(e)}async getDistance(e){return await this._inputManager.getDistance(e)}async getString(e){return await this._inputManager.getString(e)}async getSelection(){return await this._inputManager.getBox()}};class vs{constructor(e){this.view=e}render(){this.entity&&this.view.addTransientEntity(this.entity)}end(){this.entity&&this.view.removeTransientEntity(this.entity.objectId)}}let Sl$1=class{constructor(e=[]){this.events={selectionAdded:new oe$2,selectionRemoved:new oe$2},this._ids=new Set(e)}get ids(){return Array.from(this._ids)}get count(){return this._ids.size}add(e){Array.isArray(e)?(e.forEach(n=>this._ids.add(n)),this.events.selectionAdded.dispatch({ids:e})):(this._ids.add(e),this.events.selectionAdded.dispatch({ids:[e]}))}delete(e){Array.isArray(e)?(e.forEach(n=>this._ids.delete(n)),this.events.selectionRemoved.dispatch({ids:e})):(this._ids.delete(e),this.events.selectionRemoved.dispatch({ids:[e]}))}has(e){return this._ids.has(e)}clear(){if(this._ids.size>0){const e=Array.from(this._ids);this._ids.clear(),this.events.selectionRemoved.dispatch({ids:e})}}};var it$1=(t=>(t[t.SELECTION=0]="SELECTION",t[t.PAN=1]="PAN",t))(it$1||{});let _l$1=class{constructor(e){this.events={mouseMove:new oe$2,viewResize:new oe$2,hover:new oe$2,unhover:new oe$2},this._canvas=e;const n=e.getBoundingClientRect();this._bbox=new Lt$2,this._width=n.width,this._height=n.height,this._curPos=new Nt$3,this._curMousePos=new Nt$3,this._selectionSet=new Sl$1,this._editor=new wl$1(this),this._canvas.addEventListener("mousemove",r=>this.onMouseMove(r)),this._canvas.addEventListener("mousedown",r=>{r.button===1&&this._editor.setCursor(pn$2.Grab)}),this._canvas.addEventListener("mouseup",r=>{r.button===1&&this._editor.restoreCursor()}),window.addEventListener("resize",this.onWindowResize.bind(this)),this._selectionBoxSize=4,this._hoverTimer=null,this._pauseTimer=null,this._hoveredObjectId=null}get editor(){return this._editor}get selectionBoxSize(){return this._selectionBoxSize}set selectionBoxSize(e){this._selectionBoxSize=e}setCursor(e){this._editor.setCursor(e)}setCalculateSizeCallback(e){this._calculateSizeCallback=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get bbox(){return this._bbox}get canvas(){return this._canvas}get aspect(){return this._width/this._height}get curPos(){return this._curPos}get curMousePos(){return this._curMousePos}get selectionSet(){return this._selectionSet}onWindowResize(){if(this._calculateSizeCallback){const{width:e,height:n}=this._calculateSizeCallback();this._width=e,this._height=n}else this._width=this._canvas.clientWidth,this._height=this._canvas.clientHeight;this.events.viewResize.dispatch({width:this._width,height:this._height})}onMouseMove(e){this._curMousePos=new Nt$3(e.clientX,e.clientY);const n=this.cwcs2Wcs(this._curMousePos);this._curPos.copy(n),this.events.mouseMove.dispatch({x:n.x,y:n.y}),this.mode==0&&(this._editor.isActive||this.startHoverTimer(n.x,n.y))}setHoveredObjectId(e){this._hoveredObjectId&&(this.events.unhover.dispatch({id:this._hoveredObjectId,x:this.curMousePos.x,y:this.curMousePos.y}),this.onUnhover(this._hoveredObjectId)),this._hoveredObjectId=e,e&&(this.startPauseTimer(e),this.onHover(e))}hoverAt(e,n){const r=this.pick({x:e,y:n});r.length>0?this.setHoveredObjectId(r[0]):(this.setHoveredObjectId(null),this.clearPauseTimer())}clearHoverTimer(){this._hoverTimer&&clearTimeout(this._hoverTimer)}clearPauseTimer(){this._pauseTimer&&clearTimeout(this._pauseTimer)}startHoverTimer(e,n){this.clearHoverTimer(),this._hoverTimer=setTimeout(()=>{this.hoverAt(e,n)},50)}startPauseTimer(e){this._pauseTimer=setTimeout(()=>{this.events.hover.dispatch({id:e,x:this.curMousePos.x,y:this.curMousePos.y})},500)}},Cl$1=class{constructor(){this._fileName="",this._docTitle="",this._isReadOnly=!0,this._database=new V0,this.docTitle="Untitled"}async openUri(e,n){this._uri=e,this._isReadOnly=n&&n.readOnly||!1,this._fileName=this.getFileNameFromUri(e);let r=!0;try{await this._database.openUri(e,n),this.docTitle=this._fileName}catch{r=!1,ot$1.emit("failed-to-open-file",{fileName:e})}return r}async openDocument(e,n,r){var g;let $=!0;this._fileName=e;try{const y=(g=e.split(".").pop())==null?void 0:g.toLocaleLowerCase();await this._database.read(n,r,y=="dwg"?ni$2.DWG:ni$2.DXF),this.docTitle=this._fileName}catch(y){$=!1,ot$1.emit("failed-to-open-file",{fileName:e}),console.error(y)}return $}get uri(){return this._uri}get database(){return this._database}get docTitle(){return this._docTitle}set docTitle(e){this._docTitle=e,typeof document<"u"&&(document.title=e)}get isReadOnly(){return this._isReadOnly}getFileNameFromUri(e){try{const n=new URL(e).pathname.split("/");return n[n.length-1]||""}catch(n){return console.error("Invalid URI:",n),""}}},ti$1=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}removeEventListener(e){this.listeners=this.listeners.filter(n=>n!==e)}replaceEventListener(e){this.removeEventListener(e),this.addEventListener(e)}dispatch(e,...n){for(const r of this.listeners)r.call(null,e,...n)}},Tl$1=class{constructor(){this.cache=new Map}hasGeometry(e,n){const r=this.generateKey(e,n);return this.cache.has(r)}getGeometry(e,n){const r=this.generateKey(e,n);if(this.cache.has(r))return this.cache.get(r)}setGeometry(e,n,r){const g=this.generateKey(e,n);this.cache.set(g,r)}dispose(){for(const e of this.cache.values())e.dispose();this.cache.clear()}generateKey(e,n){return`${e}_${n}`}},ja$1=class{constructor(e){this.names=new Set,this.unsupportedChars={},this.encoding=e.encoding,e.alias.forEach(n=>this.names.add(n)),this.cache=new Tl$1}addUnsupportedChar(e){this.unsupportedChars[e]||(this.unsupportedChars[e]=0),this.unsupportedChars[e]++}},Va$1=class extends Shape{constructor(){super(...arguments),this.width=0}};const qr=(t,e)=>e.some(n=>t instanceof n);let ni$1,ri$1;function Il$1(){return ni$1||(ni$1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function El$1(){return ri$1||(ri$1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xr=new WeakMap,pr=new WeakMap,rr=new WeakMap;function Ml$1(t){const e=new Promise((n,r)=>{const g=()=>{t.removeEventListener("success",$),t.removeEventListener("error",y)},$=()=>{n(bt$1(t.result)),g()},y=()=>{r(t.error),g()};t.addEventListener("success",$),t.addEventListener("error",y)});return rr.set(e,t),e}function kl$1(t){if(Xr.has(t))return;const e=new Promise((n,r)=>{const g=()=>{t.removeEventListener("complete",$),t.removeEventListener("error",y),t.removeEventListener("abort",y)},$=()=>{n(),g()},y=()=>{r(t.error||new DOMException("AbortError","AbortError")),g()};t.addEventListener("complete",$),t.addEventListener("error",y),t.addEventListener("abort",y)});Xr.set(t,e)}let Yr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xr.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bt$1(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ha$1(t){Yr=t(Yr)}function Ll$1(t){return El$1().includes(t)?function(...e){return t.apply(Zr(this),e),bt$1(this.request)}:function(...e){return bt$1(t.apply(Zr(this),e))}}function Bl$1(t){return typeof t=="function"?Ll$1(t):(t instanceof IDBTransaction&&kl$1(t),qr(t,Il$1())?new Proxy(t,Yr):t)}function bt$1(t){if(t instanceof IDBRequest)return Ml$1(t);if(pr.has(t))return pr.get(t);const e=Bl$1(t);return e!==t&&(pr.set(t,e),rr.set(e,t)),e}const Zr=t=>rr.get(t);function Al$1(t,e,{blocked:n,upgrade:r,blocking:g,terminated:$}={}){const y=indexedDB.open(t,e),k=bt$1(y);return r&&y.addEventListener("upgradeneeded",L=>{r(bt$1(y.result),L.oldVersion,L.newVersion,bt$1(y.transaction),L)}),n&&y.addEventListener("blocked",L=>n(L.oldVersion,L.newVersion,L)),k.then(L=>{$&&L.addEventListener("close",()=>$()),g&&L.addEventListener("versionchange",V=>g(V.oldVersion,V.newVersion,V))}).catch(()=>{}),k}const Ol$1=["get","getKey","getAll","getAllKeys","count"],Pl$1=["put","add","delete","clear"],fr=new Map;function si$1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fr.get(e))return fr.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,g=Pl$1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(g||Ol$1.includes(n)))return;const $=async function(y,...k){const L=this.transaction(y,g?"readwrite":"readonly");let V=L.store;return r&&(V=V.index(k.shift())),(await Promise.all([V[n](...k),g&&L.done]))[0]};return fr.set(e,$),$}Ha$1(t=>({...t,get:(e,n,r)=>si$1(e,n)||t.get(e,n,r),has:(e,n)=>!!si$1(e,n)||t.has(e,n)}));const Dl$1=["continue","continuePrimaryKey","advance"],ii$1={},Kr=new WeakMap,Wa$1=new WeakMap,Rl$1={get(t,e){if(!Dl$1.includes(e))return t[e];let n=ii$1[e];return n||(n=ii$1[e]=function(...r){Kr.set(this,Wa$1.get(this)[e](...r))}),n}};async function*Ul$1(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,Rl$1);for(Wa$1.set(n,e),rr.set(n,Zr(e));e;)yield n,e=await(Kr.get(n)||e.continue()),Kr.delete(n)}function ai$1(t,e){return e===Symbol.asyncIterator&&qr(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&qr(t,[IDBIndex,IDBObjectStore])}Ha$1(t=>({...t,get(e,n,r){return ai$1(e,n)?Ul$1:t.get(e,n,r)},has(e,n){return ai$1(e,n)||t.has(e,n)}}));const ft$1={fonts:"fonts"},Qr=[{version:1,stores:[{name:ft$1.fonts,keyPath:"name"}]},{version:2,stores:[{name:ft$1.fonts,keyPath:"name"}]}],Jr=class Rb{constructor(){this.isClosing=!1,typeof window<"u"&&window.addEventListener("unload",()=>{this.close()})}static get instance(){return Rb._instance||(Rb._instance=new Rb),Rb._instance}async set(e,n){await(await this.getDatabase()).put(ft$1.fonts,{...n,name:e})}async get(e){return await(await this.getDatabase()).get(ft$1.fonts,e)}async delete(e){await(await this.getDatabase()).delete(ft$1.fonts,e)}async getAll(){return await(await this.getDatabase()).getAll(ft$1.fonts)}async clear(){await(await this.getDatabase()).clear(ft$1.fonts)}async has(e){return await this.get(e)!==void 0}close(){if(!this.isClosing){this.isClosing=!0;try{this.db&&(this.db.close(),this.db=void 0)}finally{this.isClosing=!1}}}async destroy(){this.close(),await indexedDB.deleteDatabase(Rb.DATABASE_NAME),Rb._instance=void 0}async getDatabase(){if(this.isClosing)throw new Error("Cannot perform operation while database is closing");return this.db?this.db:(this.db=await Al$1(Rb.DATABASE_NAME,Rb.DATABASE_VERSION,{upgrade:(e,n,r)=>this.handleUpgrade(e,n,r),blocked(){console.warn("Database upgrade blocked - please close other tabs using the application")},blocking(){console.warn("Database blocking newer version - closing connection"),Rb.instance.close()}}),this.db)}handleUpgrade(e,n,r){const g=Qr.filter($=>$.version>n&&(!r||$.version<=r));for(const $ of g)this.applySchemaVersion(e,$)}applySchemaVersion(e,n){for(const r of n.stores)e.objectStoreNames.contains(r.name)||e.createObjectStore(r.name,{keyPath:r.keyPath})}};Jr.DATABASE_NAME="mlightcad",Jr.DATABASE_VERSION=Qr[Qr.length-1].version;let gr=Jr;const $a$1=t=>t.split("/").pop(),oi$1=t=>{const e=$a$1(t);if(e){const n=e.lastIndexOf(".");return n===-1?e:e.substring(0,n)}return t},Fl$1=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215,0],Nl$1=t=>Fl$1[t];/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,g=r(n,n,n)&&r}catch{}return g}(),e=function(n){if(this==null)throw TypeError();var r=String(this),g=r.length,$=n?Number(n):0;if($!=$&&($=0),!($<0||$>=g)){var y=r.charCodeAt($),k;return y>=55296&&y<=56319&&g>$+1&&(k=r.charCodeAt($+1),k>=56320&&k<=57343)?(y-55296)*1024+k-56320+65536:y}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();var xs=0,qa$1=-3;function an$2(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function zl$1(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new an$2,this.dtree=new an$2}var Xa$1=new an$2,Ya$1=new an$2,ws=new Uint8Array(30),Ss=new Uint16Array(30),Za$1=new Uint8Array(30),Ka$1=new Uint16Array(30),Gl$1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ci$1=new an$2,Pe$2=new Uint8Array(320);function Qa$1(t,e,n,r){var g,$;for(g=0;g<n;++g)t[g]=0;for(g=0;g<30-n;++g)t[g+n]=g/n|0;for($=r,g=0;g<30;++g)e[g]=$,$+=1<<t[g]}function jl$1(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}var li$1=new Uint16Array(16);function mr(t,e,n,r){var g,$;for(g=0;g<16;++g)t.table[g]=0;for(g=0;g<r;++g)t.table[e[n+g]]++;for(t.table[0]=0,$=0,g=0;g<16;++g)li$1[g]=$,$+=t.table[g];for(g=0;g<r;++g)e[n+g]&&(t.trans[li$1[e[n+g]]++]=g)}function Vl$1(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=t.tag&1;return t.tag>>>=1,e}function Ne(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function es$2(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,g=0,$=t.tag;do r=2*r+($&1),$>>>=1,++g,n+=e.table[g],r-=e.table[g];while(r>=0);return t.tag=$,t.bitcount-=g,e.trans[n+r]}function Hl$1(t,e,n){var r,g,$,y,k,L;for(r=Ne(t,5,257),g=Ne(t,5,1),$=Ne(t,4,4),y=0;y<19;++y)Pe$2[y]=0;for(y=0;y<$;++y){var V=Ne(t,3,0);Pe$2[Gl$1[y]]=V}for(mr(ci$1,Pe$2,0,19),k=0;k<r+g;){var z=es$2(t,ci$1);switch(z){case 16:var j=Pe$2[k-1];for(L=Ne(t,2,3);L;--L)Pe$2[k++]=j;break;case 17:for(L=Ne(t,3,3);L;--L)Pe$2[k++]=0;break;case 18:for(L=Ne(t,7,11);L;--L)Pe$2[k++]=0;break;default:Pe$2[k++]=z;break}}mr(e,Pe$2,0,r),mr(n,Pe$2,r,g)}function hi$1(t,e,n){for(;;){var r=es$2(t,e);if(r===256)return xs;if(r<256)t.dest[t.destLen++]=r;else{var g,$,y,k;for(r-=257,g=Ne(t,ws[r],Ss[r]),$=es$2(t,n),y=t.destLen-Ne(t,Za$1[$],Ka$1[$]),k=y;k<y+g;++k)t.dest[t.destLen++]=t.dest[k]}}}function Wl$1(t){for(var e,n,r;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(e=t.source[t.sourceIndex+1],e=256*e+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],e!==(~n&65535))return qa$1;for(t.sourceIndex+=4,r=e;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,xs}function $l$1(t,e){var n=new zl$1(t,e),r,g,$;do{switch(r=Vl$1(n),g=Ne(n,2,0),g){case 0:$=Wl$1(n);break;case 1:$=hi$1(n,Xa$1,Ya$1);break;case 2:Hl$1(n,n.ltree,n.dtree),$=hi$1(n,n.ltree,n.dtree);break;default:$=qa$1}if($!==xs)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}jl$1(Xa$1,Ya$1);Qa$1(ws,Ss,4,3);Qa$1(Za$1,Ka$1,2,1);ws[28]=0;Ss[28]=258;var ql$1=$l$1;function wt$1(t,e,n,r,g){return Math.pow(1-g,3)*t+3*Math.pow(1-g,2)*g*e+3*(1-g)*Math.pow(g,2)*n+Math.pow(g,3)*r}function ht$1(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}ht$1.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};ht$1.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};ht$1.prototype.addX=function(t){this.addPoint(t,null)};ht$1.prototype.addY=function(t){this.addPoint(null,t)};ht$1.prototype.addBezier=function(t,e,n,r,g,$,y,k){var L=[t,e],V=[n,r],z=[g,$],j=[y,k];this.addPoint(t,e),this.addPoint(y,k);for(var ie=0;ie<=1;ie++){var Oe=6*L[ie]-12*V[ie]+6*z[ie],ur=-3*L[ie]+9*V[ie]-9*z[ie]+3*j[ie],hr=3*V[ie]-3*L[ie];if(ur===0){if(Oe===0)continue;var Vr=-hr/Oe;0<Vr&&Vr<1&&(ie===0&&this.addX(wt$1(L[ie],V[ie],z[ie],j[ie],Vr)),ie===1&&this.addY(wt$1(L[ie],V[ie],z[ie],j[ie],Vr)));continue}var dr=Math.pow(Oe,2)-4*hr*ur;if(!(dr<0)){var ec=(-Oe+Math.sqrt(dr))/(2*ur);0<ec&&ec<1&&(ie===0&&this.addX(wt$1(L[ie],V[ie],z[ie],j[ie],ec)),ie===1&&this.addY(wt$1(L[ie],V[ie],z[ie],j[ie],ec)));var tc=(-Oe-Math.sqrt(dr))/(2*ur);0<tc&&tc<1&&(ie===0&&this.addX(wt$1(L[ie],V[ie],z[ie],j[ie],tc)),ie===1&&this.addY(wt$1(L[ie],V[ie],z[ie],j[ie],tc)))}}};ht$1.prototype.addQuad=function(t,e,n,r,g,$){var y=t+.6666666666666666*(n-t),k=e+2/3*(r-e),L=y+1/3*(g-t),V=k+1/3*($-e);this.addBezier(t,e,y,k,L,V,g,$)};function le(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}le.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};le.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};le.prototype.curveTo=le.prototype.bezierCurveTo=function(t,e,n,r,g,$){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:g,y:$})};le.prototype.quadTo=le.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};le.prototype.close=le.prototype.closePath=function(){this.commands.push({type:"Z"})};le.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof ht$1){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};le.prototype.getBoundingBox=function(){for(var t=new ht$1,e=0,n=0,r=0,g=0,$=0;$<this.commands.length;$++){var y=this.commands[$];switch(y.type){case"M":t.addPoint(y.x,y.y),e=r=y.x,n=g=y.y;break;case"L":t.addPoint(y.x,y.y),r=y.x,g=y.y;break;case"Q":t.addQuad(r,g,y.x1,y.y1,y.x,y.y),r=y.x,g=y.y;break;case"C":t.addBezier(r,g,y.x1,y.y1,y.x2,y.y2,y.x,y.y),r=y.x,g=y.y;break;case"Z":r=e,g=n;break;default:throw new Error("Unexpected path command "+y.type)}}return t.isEmpty()&&t.addPoint(0,0),t};le.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};le.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(y){return Math.round(y)===y?""+Math.round(y):y.toFixed(t)}function n(){for(var y=arguments,k="",L=0;L<arguments.length;L+=1){var V=y[L];V>=0&&L>0&&(k+=" "),k+=e(V)}return k}for(var r="",g=0;g<this.commands.length;g+=1){var $=this.commands[g];$.type==="M"?r+="M"+n($.x,$.y):$.type==="L"?r+="L"+n($.x,$.y):$.type==="C"?r+="C"+n($.x1,$.y1,$.x2,$.y2,$.x,$.y):$.type==="Q"?r+="Q"+n($.x1,$.y1,$.x,$.y):$.type==="Z"&&(r+="Z")}return r};le.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};le.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function Ja$1(t){throw new Error(t)}function ui$1(t,e){t||Ja$1(e)}var F$1={fail:Ja$1,argument:ui$1,assert:ui$1},di$1=32768,pi$1=2147483648,Ft$2={},O$1={},N$2={};function Be$2(t){return function(){return t}}O$1.BYTE=function(t){return F$1.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};N$2.BYTE=Be$2(1);O$1.CHAR=function(t){return[t.charCodeAt(0)]};N$2.CHAR=Be$2(1);O$1.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};N$2.CHARARRAY=function(t){return typeof t>"u"?0:t.length};O$1.USHORT=function(t){return[t>>8&255,t&255]};N$2.USHORT=Be$2(2);O$1.SHORT=function(t){return t>=di$1&&(t=-(2*di$1-t)),[t>>8&255,t&255]};N$2.SHORT=Be$2(2);O$1.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};N$2.UINT24=Be$2(3);O$1.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};N$2.ULONG=Be$2(4);O$1.LONG=function(t){return t>=pi$1&&(t=-(2*pi$1-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};N$2.LONG=Be$2(4);O$1.FIXED=O$1.ULONG;N$2.FIXED=N$2.ULONG;O$1.FWORD=O$1.SHORT;N$2.FWORD=N$2.SHORT;O$1.UFWORD=O$1.USHORT;N$2.UFWORD=N$2.USHORT;O$1.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};N$2.LONGDATETIME=Be$2(8);O$1.TAG=function(t){return F$1.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};N$2.TAG=Be$2(4);O$1.Card8=O$1.BYTE;N$2.Card8=N$2.BYTE;O$1.Card16=O$1.USHORT;N$2.Card16=N$2.USHORT;O$1.OffSize=O$1.BYTE;N$2.OffSize=N$2.BYTE;O$1.SID=O$1.USHORT;N$2.SID=N$2.USHORT;O$1.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?O$1.NUMBER16(t):O$1.NUMBER32(t)};N$2.NUMBER=function(t){return O$1.NUMBER(t).length};O$1.NUMBER16=function(t){return[28,t>>8&255,t&255]};N$2.NUMBER16=Be$2(3);O$1.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};N$2.NUMBER32=Be$2(5);O$1.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var g="",$=0,y=e.length;$<y;$+=1){var k=e[$];k==="e"?g+=e[++$]==="-"?"c":"b":k==="."?g+="a":k==="-"?g+="e":g+=k}g+=g.length&1?"f":"ff";for(var L=[30],V=0,z=g.length;V<z;V+=2)L.push(parseInt(g.substr(V,2),16));return L};N$2.REAL=function(t){return O$1.REAL(t).length};O$1.NAME=O$1.CHARARRAY;N$2.NAME=N$2.CHARARRAY;O$1.STRING=O$1.CHARARRAY;N$2.STRING=N$2.CHARARRAY;Ft$2.UTF8=function(t,e,n){for(var r=[],g=n,$=0;$<g;$++,e+=1)r[$]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Ft$2.UTF16=function(t,e,n){for(var r=[],g=n/2,$=0;$<g;$++,e+=2)r[$]=t.getUint16(e);return String.fromCharCode.apply(null,r)};O$1.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};N$2.UTF16=function(t){return t.length*2};var ts={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};Ft$2.MACSTRING=function(t,e,n,r){var g=ts[r];if(g!==void 0){for(var $="",y=0;y<n;y++){var k=t.getUint8(e+y);k<=127?$+=String.fromCharCode(k):$+=g[k&127]}return $}};var En$1=typeof WeakMap=="function"&&new WeakMap,Mn$1,Xl$1=function(t){if(!Mn$1){Mn$1={};for(var e in ts)Mn$1[e]=new String(e)}var n=Mn$1[t];if(n!==void 0){if(En$1){var r=En$1.get(n);if(r!==void 0)return r}var g=ts[t];if(g!==void 0){for(var $={},y=0;y<g.length;y++)$[g.charCodeAt(y)]=y+128;return En$1&&En$1.set(n,$),$}}};O$1.MACSTRING=function(t,e){var n=Xl$1(e);if(n!==void 0){for(var r=[],g=0;g<t.length;g++){var $=t.charCodeAt(g);if($>=128&&($=n[$],$===void 0))return;r[g]=$}return r}};N$2.MACSTRING=function(t,e){var n=O$1.MACSTRING(t,e);return n!==void 0?n.length:0};function ns(t){return t>=-128&&t<=127}function Yl$1(t,e,n){for(var r=0,g=t.length;e<g&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function Zl$1(t,e,n){for(var r=0,g=t.length,$=e;$<g&&r<64;){var y=t[$];if(!ns(y)||y===0&&$+1<g&&t[$+1]===0)break;++$,++r}n.push(r-1);for(var k=e;k<$;++k)n.push(t[k]+256&255);return $}function Kl$1(t,e,n){for(var r=0,g=t.length,$=e;$<g&&r<64;){var y=t[$];if(y===0||ns(y)&&$+1<g&&ns(t[$+1]))break;++$,++r}n.push(64|r-1);for(var k=e;k<$;++k){var L=t[k];n.push(L+65536>>8&255,L+256&255)}return $}O$1.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=Yl$1(t,e,n):r>=-128&&r<=127?e=Zl$1(t,e,n):e=Kl$1(t,e,n)}return n};O$1.INDEX=function(t){for(var e=1,n=[e],r=[],g=0;g<t.length;g+=1){var $=O$1.OBJECT(t[g]);Array.prototype.push.apply(r,$),e+=$.length,n.push(e)}if(r.length===0)return[0,0];for(var y=[],k=1+Math.floor(Math.log(e)/Math.log(2))/8|0,L=[void 0,O$1.BYTE,O$1.USHORT,O$1.UINT24,O$1.ULONG][k],V=0;V<n.length;V+=1){var z=L(n[V]);Array.prototype.push.apply(y,z)}return Array.prototype.concat(O$1.Card16(t.length),O$1.OffSize(k),y,r)};N$2.INDEX=function(t){return O$1.INDEX(t).length};O$1.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,g=0;g<r;g+=1){var $=parseInt(n[g],0),y=t[$];e=e.concat(O$1.OPERAND(y.value,y.type)),e=e.concat(O$1.OPERATOR($))}return e};N$2.DICT=function(t){return O$1.DICT(t).length};O$1.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};O$1.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)F$1.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(O$1.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(O$1.NUMBER(t));else if(e==="offset")n=n.concat(O$1.NUMBER32(t));else if(e==="number")n=n.concat(O$1.NUMBER(t));else if(e==="real")n=n.concat(O$1.REAL(t));else throw new Error("Unknown operand type "+e);return n};O$1.OP=O$1.BYTE;N$2.OP=N$2.BYTE;var kn$1=typeof WeakMap=="function"&&new WeakMap;O$1.CHARSTRING=function(t){if(kn$1){var e=kn$1.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,g=0;g<r;g+=1){var $=t[g];n=n.concat(O$1[$.type]($.value))}return kn$1&&kn$1.set(t,n),n};N$2.CHARSTRING=function(t){return O$1.CHARSTRING(t).length};O$1.OBJECT=function(t){var e=O$1[t.type];return F$1.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};N$2.OBJECT=function(t){var e=N$2[t.type];return F$1.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};O$1.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],g=[],$=0;$<n;$+=1){var y=t.fields[$],k=O$1[y.type];F$1.argument(k!==void 0,"No encoding function for field type "+y.type+" ("+y.name+")");var L=t[y.name];L===void 0&&(L=y.value);var V=k(L);y.type==="TABLE"?(g.push(e.length),e=e.concat([0,0]),r.push(V)):e=e.concat(V)}for(var z=0;z<r.length;z+=1){var j=g[z],ie=e.length;F$1.argument(ie<65536,"Table "+t.tableName+" too big."),e[j]=ie>>8,e[j+1]=ie&255,e=e.concat(r[z])}return e};N$2.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var g=t.fields[r],$=N$2[g.type];F$1.argument($!==void 0,"No sizeOf function for field type "+g.type+" ("+g.name+")");var y=t[g.name];y===void 0&&(y=g.value),e+=$(y),g.type==="TABLE"&&(e+=2)}return e};O$1.RECORD=O$1.TABLE;N$2.RECORD=N$2.TABLE;O$1.LITERAL=function(t){return t};N$2.LITERAL=function(t){return t.length};function ue$1(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var g=e[r];this[g.name]=g.value}if(this.tableName=t,this.fields=e,n)for(var $=Object.keys(n),y=0;y<$.length;y+=1){var k=$[y],L=n[k];this[k]!==void 0&&(this[k]=L)}}ue$1.prototype.encode=function(){return O$1.TABLE(this)};ue$1.prototype.sizeOf=function(){return N$2.TABLE(this)};function on$2(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var g=0;g<e.length;g++)r[g+1]={name:t+g,type:"USHORT",value:e[g]};return r}function rs(t,e,n){var r=e.length,g=new Array(r+1);g[0]={name:t+"Count",type:"USHORT",value:r};for(var $=0;$<r;$++)g[$+1]={name:t+$,type:"TABLE",value:n(e[$],$)};return g}function cn$2(t,e,n){var r=e.length,g=[];g[0]={name:t+"Count",type:"USHORT",value:r};for(var $=0;$<r;$++)g=g.concat(n(e[$],$));return g}function qn$1(t){t.format===1?ue$1.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(on$2("glyph",t.glyphs))):t.format===2?ue$1.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(cn$2("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):F$1.assert(!1,"Coverage format must be 1 or 2.")}qn$1.prototype=Object.create(ue$1.prototype);qn$1.prototype.constructor=qn$1;function Xn$1(t){ue$1.call(this,"scriptListTable",cn$2("scriptRecord",t,function(e,n){var r=e.script,g=r.defaultLangSys;return F$1.assert(!!g,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new ue$1("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ue$1("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:g.reqFeatureIndex}].concat(on$2("featureIndex",g.featureIndexes)))}].concat(cn$2("langSys",r.langSysRecords,function($,y){var k=$.langSys;return[{name:"langSysTag"+y,type:"TAG",value:$.tag},{name:"langSys"+y,type:"TABLE",value:new ue$1("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:k.reqFeatureIndex}].concat(on$2("featureIndex",k.featureIndexes)))}]})))}]}))}Xn$1.prototype=Object.create(ue$1.prototype);Xn$1.prototype.constructor=Xn$1;function Yn$1(t){ue$1.call(this,"featureListTable",cn$2("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new ue$1("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(on$2("lookupListIndex",r.lookupListIndexes)))}]}))}Yn$1.prototype=Object.create(ue$1.prototype);Yn$1.prototype.constructor=Yn$1;function Zn$1(t,e){ue$1.call(this,"lookupListTable",rs("lookup",t,function(n){var r=e[n.lookupType];return F$1.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new ue$1("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(rs("subtable",n.subtables,r)))}))}Zn$1.prototype=Object.create(ue$1.prototype);Zn$1.prototype.constructor=Zn$1;var P$2={Table:ue$1,Record:ue$1,Coverage:qn$1,ScriptList:Xn$1,FeatureList:Yn$1,LookupList:Zn$1,ushortList:on$2,tableList:rs,recordList:cn$2};function fi$1(t,e){return t.getUint8(e)}function Kn$1(t,e){return t.getUint16(e,!1)}function Ql$1(t,e){return t.getInt16(e,!1)}function _s(t,e){return t.getUint32(e,!1)}function eo$1(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function Jl$1(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function eh(t,e,n){for(var r=0,g=0;g<n;g+=1)r<<=8,r+=t.getUint8(e+g);return r}function th(t,e,n){for(var r=[],g=e;g<n;g+=1)r.push(t.getUint8(g));return r}function nh(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var rh={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function E$2(t,e){this.data=t,this.offset=e,this.relativeOffset=0}E$2.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};E$2.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};E$2.prototype.parseCard8=E$2.prototype.parseByte;E$2.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};E$2.prototype.parseCard16=E$2.prototype.parseUShort;E$2.prototype.parseSID=E$2.prototype.parseUShort;E$2.prototype.parseOffset16=E$2.prototype.parseUShort;E$2.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};E$2.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};E$2.prototype.parseULong=function(){var t=_s(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};E$2.prototype.parseOffset32=E$2.prototype.parseULong;E$2.prototype.parseFixed=function(){var t=eo$1(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};E$2.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var g=0;g<t;g++)r+=String.fromCharCode(e.getUint8(n+g));return r};E$2.prototype.parseTag=function(){return this.parseString(4)};E$2.prototype.parseLongDateTime=function(){var t=_s(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};E$2.prototype.parseVersion=function(t){var e=Kn$1(this.data,this.offset+this.relativeOffset),n=Kn$1(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};E$2.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=rh[t]*e};E$2.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,g=0;g<t;g++)e[g]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};E$2.prototype.parseOffset16List=E$2.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,g=0;g<t;g++)e[g]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};E$2.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,g=0;g<t;g++)e[g]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};E$2.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,g=0;g<t;g++)e[g]=n.getUint8(r++);return this.relativeOffset+=t,e};E$2.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};E$2.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};E$2.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),g=0;g<t;g++){for(var $={},y=0;y<r.length;y++){var k=r[y],L=e[k];$[k]=L.call(this)}n[g]=$}return n};E$2.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),g=0;g<t;g++){for(var $={},y=0;y<r.length;y++){var k=r[y],L=e[k];$[k]=L.call(this)}n[g]=$}return n};E$2.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var g=e[r],$=t[g];n[g]=$.call(this)}return n};E$2.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};E$2.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};E$2.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new E$2(this.data,this.offset+e).parseStruct(t)};E$2.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new E$2(this.data,this.offset+e).parseStruct(t)};E$2.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,g=new Array(n),$=0;$<n;$++){var y=e[$];if(y===0){g[$]=void 0;continue}if(this.relativeOffset=y,t){for(var k=this.parseOffset16List(),L=new Array(k.length),V=0;V<k.length;V++)this.relativeOffset=y+k[V],L[V]=t.call(this);g[$]=L}else g[$]=this.parseUShortList()}return this.relativeOffset=r,g};E$2.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),g=0;g<n;g++)r[g]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};E$2.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:E$2.uShort,end:E$2.uShort,classId:E$2.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};E$2.list=function(t,e){return function(){return this.parseList(t,e)}};E$2.list32=function(t,e){return function(){return this.parseList32(t,e)}};E$2.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};E$2.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};E$2.pointer=function(t){return function(){return this.parsePointer(t)}};E$2.pointer32=function(t){return function(){return this.parsePointer32(t)}};E$2.tag=E$2.prototype.parseTag;E$2.byte=E$2.prototype.parseByte;E$2.uShort=E$2.offset16=E$2.prototype.parseUShort;E$2.uShortList=E$2.prototype.parseUShortList;E$2.uLong=E$2.offset32=E$2.prototype.parseULong;E$2.uLongList=E$2.prototype.parseULongList;E$2.struct=E$2.prototype.parseStruct;E$2.coverage=E$2.prototype.parseCoverage;E$2.classDef=E$2.prototype.parseClassDef;var gi$1={reserved:E$2.uShort,reqFeatureIndex:E$2.uShort,featureIndexes:E$2.uShortList};E$2.prototype.parseScriptList=function(){return this.parsePointer(E$2.recordList({tag:E$2.tag,script:E$2.pointer({defaultLangSys:E$2.pointer(gi$1),langSysRecords:E$2.recordList({tag:E$2.tag,langSys:E$2.pointer(gi$1)})})}))||[]};E$2.prototype.parseFeatureList=function(){return this.parsePointer(E$2.recordList({tag:E$2.tag,feature:E$2.pointer({featureParams:E$2.offset16,lookupListIndexes:E$2.uShortList})}))||[]};E$2.prototype.parseLookupList=function(t){return this.parsePointer(E$2.list(E$2.pointer(function(){var e=this.parseUShort();F$1.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(E$2.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};E$2.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();F$1.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:E$2.offset32,featureTableSubstitutionOffset:E$2.offset32});return n})||[]};var R$1={getByte:fi$1,getCard8:fi$1,getUShort:Kn$1,getCard16:Kn$1,getShort:Ql$1,getULong:_s,getFixed:eo$1,getTag:Jl$1,getOffset:eh,getBytes:th,bytesToString:nh,Parser:E$2};function sh(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var g=e.parseULong(),$=e.parseULong(),y=e.parseULong(),k=g;k<=$;k+=1)t.glyphIndexMap[k]=y,y++}function ih(t,e,n,r,g){t.length=e.parseUShort(),t.language=e.parseUShort();var $;t.segCount=$=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var y=new R$1.Parser(n,r+g+14),k=new R$1.Parser(n,r+g+16+$*2),L=new R$1.Parser(n,r+g+16+$*4),V=new R$1.Parser(n,r+g+16+$*6),z=r+g+16+$*8,j=0;j<$-1;j+=1)for(var ie=void 0,Oe=y.parseUShort(),ur=k.parseUShort(),hr=L.parseShort(),Vr=V.parseUShort(),dr=ur;dr<=Oe;dr+=1)Vr!==0?(z=V.offset+V.relativeOffset-2,z+=Vr,z+=(dr-ur)*2,ie=R$1.getUShort(n,z),ie!==0&&(ie=ie+hr&65535)):ie=dr+hr&65535,t.glyphIndexMap[dr]=ie}function ah(t,e){var n={};n.version=R$1.getUShort(t,e),F$1.argument(n.version===0,"cmap table version should be 0."),n.numTables=R$1.getUShort(t,e+2);for(var r=-1,g=n.numTables-1;g>=0;g-=1){var $=R$1.getUShort(t,e+4+g*8),y=R$1.getUShort(t,e+4+g*8+2);if($===3&&(y===0||y===1||y===10)||$===0&&(y===0||y===1||y===2||y===3||y===4)){r=R$1.getULong(t,e+4+g*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var k=new R$1.Parser(t,e+r);if(n.format=k.parseUShort(),n.format===12)sh(n,k);else if(n.format===4)ih(n,k,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function oh(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function ch(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function lh(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var g=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:20}];e||(g=g.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),g=g.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var $=new P$2.Table("cmap",g);for($.segments=[],n=0;n<t.length;n+=1){for(var y=t.get(n),k=0;k<y.unicodes.length;k+=1)oh($,y.unicodes[k],n);$.segments=$.segments.sort(function(ec,tc){return ec.start-tc.start})}ch($);var L=$.segments.length,V=0,z=[],j=[],ie=[],Oe=[],ur=[],hr=[];for(n=0;n<L;n+=1){var Vr=$.segments[n];Vr.end<=65535&&Vr.start<=65535?(z=z.concat({name:"end_"+n,type:"USHORT",value:Vr.end}),j=j.concat({name:"start_"+n,type:"USHORT",value:Vr.start}),ie=ie.concat({name:"idDelta_"+n,type:"SHORT",value:Vr.delta}),Oe=Oe.concat({name:"idRangeOffset_"+n,type:"USHORT",value:Vr.offset}),Vr.glyphId!==void 0&&(ur=ur.concat({name:"glyph_"+n,type:"USHORT",value:Vr.glyphId}))):V+=1,!e&&Vr.glyphIndex!==void 0&&(hr=hr.concat({name:"cmap12Start_"+n,type:"ULONG",value:Vr.start}),hr=hr.concat({name:"cmap12End_"+n,type:"ULONG",value:Vr.end}),hr=hr.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:Vr.glyphIndex}))}if($.segCountX2=(L-V)*2,$.searchRange=Math.pow(2,Math.floor(Math.log(L-V)/Math.log(2)))*2,$.entrySelector=Math.log($.searchRange/2)/Math.log(2),$.rangeShift=$.segCountX2-$.searchRange,$.fields=$.fields.concat(z),$.fields.push({name:"reservedPad",type:"USHORT",value:0}),$.fields=$.fields.concat(j),$.fields=$.fields.concat(ie),$.fields=$.fields.concat(Oe),$.fields=$.fields.concat(ur),$.cmap4Length=14+z.length*2+2+j.length*2+ie.length*2+Oe.length*2+ur.length*2,!e){var dr=16+hr.length*4;$.cmap12Offset=12+2*2+4+$.cmap4Length,$.fields=$.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:dr},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:hr.length/3}]),$.fields=$.fields.concat(hr)}return $}var to$1={parse:ah,make:lh},zn$1=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],hh=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],uh=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],gt$1=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function no$1(t){this.font=t}no$1.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var g=n.get(r),$=0;$<g.unicodes.length;$+=1)if(g.unicodes[$]===e)return r}return null};function ro$1(t){this.cmap=t}ro$1.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0};function Qn$1(t,e){this.encoding=t,this.charset=e}Qn$1.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function Cs(t){switch(t.version){case 1:this.names=gt$1.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(var e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<gt$1.length?this.names[e]=gt$1[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-gt$1.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(var n=0;n<t.numberOfGlyphs;n++)this.names[n]=gt$1[n+t.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}Cs.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)};Cs.prototype.glyphIndexToName=function(t){return this.names[t]};function dh(t){for(var e,n=t.tables.cmap.glyphIndexMap,r=Object.keys(n),g=0;g<r.length;g+=1){var $=r[g],y=n[$];e=t.glyphs.get(y),e.addUnicode(parseInt($))}for(var k=0;k<t.glyphs.length;k+=1)e=t.glyphs.get(k),t.cffEncoding?t.isCIDFont?e.name="gid"+k:e.name=t.cffEncoding.charset[k]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(k))}function ph(t){t._IndexToUnicodeMap={};for(var e=t.tables.cmap.glyphIndexMap,n=Object.keys(e),r=0;r<n.length;r+=1){var g=n[r],$=e[g];t._IndexToUnicodeMap[$]===void 0?t._IndexToUnicodeMap[$]={unicodes:[parseInt(g)]}:t._IndexToUnicodeMap[$].unicodes.push(parseInt(g))}}function fh(t,e){e.lowMemory?ph(t):dh(t)}function gh(t,e,n,r,g){t.beginPath(),t.moveTo(e,n),t.lineTo(r,g),t.stroke()}var dt$1={line:gh};function mh(t,e){var n=e||new le;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function Ie$1(t){this.bindConstructorValues(t)}Ie$1.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",mh(this,t.path))};Ie$1.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Ie$1.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Ie$1.prototype.getPath=function(t,e,n,r,g){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var $,y;r||(r={});var k=r.xScale,L=r.yScale;if(r.hinting&&g&&g.hinting&&(y=this.path&&g.hinting.exec(this,n)),y)$=g.hinting.getCommands(y),t=Math.round(t),e=Math.round(e),k=L=1;else{$=this.path.commands;var V=1/(this.path.unitsPerEm||1e3)*n;k===void 0&&(k=V),L===void 0&&(L=V)}for(var z=new le,j=0;j<$.length;j+=1){var ie=$[j];ie.type==="M"?z.moveTo(t+ie.x*k,e+-ie.y*L):ie.type==="L"?z.lineTo(t+ie.x*k,e+-ie.y*L):ie.type==="Q"?z.quadraticCurveTo(t+ie.x1*k,e+-ie.y1*L,t+ie.x*k,e+-ie.y*L):ie.type==="C"?z.curveTo(t+ie.x1*k,e+-ie.y1*L,t+ie.x2*k,e+-ie.y2*L,t+ie.x*k,e+-ie.y*L):ie.type==="Z"&&z.closePath()}return z};Ie$1.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return F$1.argument(e.length===0,"There are still points left in the current contour."),t};Ie$1.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var g=t[r];g.type!=="Z"&&(e.push(g.x),n.push(g.y)),(g.type==="Q"||g.type==="C")&&(e.push(g.x1),n.push(g.y1)),g.type==="C"&&(e.push(g.x2),n.push(g.y2))}var $={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$};Ie$1.prototype.draw=function(t,e,n,r,g){this.getPath(e,n,r,g).draw(t)};Ie$1.prototype.drawPoints=function(t,e,n,r){function g(j,ie,Oe,ur){t.beginPath();for(var hr=0;hr<j.length;hr+=1)t.moveTo(ie+j[hr].x*ur,Oe+j[hr].y*ur),t.arc(ie+j[hr].x*ur,Oe+j[hr].y*ur,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var $=1/this.path.unitsPerEm*r,y=[],k=[],L=this.path,V=0;V<L.commands.length;V+=1){var z=L.commands[V];z.x!==void 0&&y.push({x:z.x,y:-z.y}),z.x1!==void 0&&k.push({x:z.x1,y:-z.y1}),z.x2!==void 0&&k.push({x:z.x2,y:-z.y2})}t.fillStyle="blue",g(y,e,n,$),t.fillStyle="red",g(k,e,n,$)};Ie$1.prototype.drawMetrics=function(t,e,n,r){var g;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,g=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",dt$1.line(t,e,-1e4,e,1e4),dt$1.line(t,-1e4,n,1e4,n);var $=this.xMin||0,y=this.yMin||0,k=this.xMax||0,L=this.yMax||0,V=this.advanceWidth||0;t.strokeStyle="blue",dt$1.line(t,e+$*g,-1e4,e+$*g,1e4),dt$1.line(t,e+k*g,-1e4,e+k*g,1e4),dt$1.line(t,-1e4,n+-y*g,1e4,n+-y*g),dt$1.line(t,-1e4,n+-L*g,1e4,n+-L*g),t.strokeStyle="green",dt$1.line(t,e+V*g,-1e4,e+V*g,1e4)};function Ln$1(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function Ts(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}Ts.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};Ts.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function yh(t,e){return new Ie$1({index:e,font:t})}function bh(t,e,n,r,g,$){return function(){var y=new Ie$1({index:e,font:t});return y.path=function(){n(y,r,g);var k=$(t.glyphs,y);return k.unitsPerEm=t.unitsPerEm,k},Ln$1(y,"xMin","_xMin"),Ln$1(y,"xMax","_xMax"),Ln$1(y,"yMin","_yMin"),Ln$1(y,"yMax","_yMax"),y}}function vh(t,e,n,r){return function(){var g=new Ie$1({index:e,font:t});return g.path=function(){var $=n(t,g,r);return $.unitsPerEm=t.unitsPerEm,$},g}}var Ve$1={GlyphSet:Ts,glyphLoader:yh,ttfGlyphLoader:bh,cffGlyphLoader:vh};function so$1(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!so$1(t[n],e[n]))return!1;return!0}else return!1}function ss(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function tt$2(t,e,n){var r=[],g=[],$=R$1.getCard16(t,e),y,k;if($!==0){var L=R$1.getByte(t,e+2);y=e+($+1)*L+2;for(var V=e+3,z=0;z<$+1;z+=1)r.push(R$1.getOffset(t,V,L)),V+=L;k=y+r[$]}else k=e+2;for(var j=0;j<r.length-1;j+=1){var ie=R$1.getBytes(t,y+r[j],y+r[j+1]);n&&(ie=n(ie)),g.push(ie)}return{objects:g,startOffset:e,endOffset:k}}function xh(t,e){var n=[],r=R$1.getCard16(t,e),g,$;if(r!==0){var y=R$1.getByte(t,e+2);g=e+(r+1)*y+2;for(var k=e+3,L=0;L<r+1;L+=1)n.push(R$1.getOffset(t,k,y)),k+=y;$=g+n[r]}else $=e+2;return{offsets:n,startOffset:e,endOffset:$}}function wh(t,e,n,r,g){var $=R$1.getCard16(n,r),y=0;if($!==0){var k=R$1.getByte(n,r+2);y=r+($+1)*k+2}var L=R$1.getBytes(n,y+e[t],y+e[t+1]);return L}function Sh(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var g=t.parseByte(),$=g>>4,y=g&15;if($===n||(e+=r[$],y===n))break;e+=r[y]}return parseFloat(e)}function _h(t,e){var n,r,g,$;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),g=t.parseByte(),$=t.parseByte(),n<<24|r<<16|g<<8|$;if(e===30)return Sh(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function Ch(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],g=t[n][1],$=void 0;if(g.length===1?$=g[0]:$=g,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=$}return e}function io$1(t,e,n){e=e!==void 0?e:0;var r=new R$1.Parser(t,e),g=[],$=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var y=r.parseByte();y<=21?(y===12&&(y=1200+r.parseByte()),g.push([y,$]),$=[]):$.push(_h(r,y))}return Ch(g)}function tn$2(t,e){return e<=390?e=zn$1[e]:e=t[e-391],e}function ao$1(t,e,n){for(var r={},g,$=0;$<e.length;$+=1){var y=e[$];if(Array.isArray(y.type)){var k=[];k.length=y.type.length;for(var L=0;L<y.type.length;L++)g=t[y.op]!==void 0?t[y.op][L]:void 0,g===void 0&&(g=y.value!==void 0&&y.value[L]!==void 0?y.value[L]:null),y.type[L]==="SID"&&(g=tn$2(n,g)),k[L]=g;r[y.name]=k}else g=t[y.op],g===void 0&&(g=y.value!==void 0?y.value:null),y.type==="SID"&&(g=tn$2(n,g)),r[y.name]=g}return r}function Th(t,e){var n={};return n.formatMajor=R$1.getCard8(t,e),n.formatMinor=R$1.getCard8(t,e+1),n.size=R$1.getCard8(t,e+2),n.offsetSize=R$1.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var oo$1=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],co$1=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ih(t,e){var n=io$1(t,0,t.byteLength);return ao$1(n,oo$1,e)}function lo$1(t,e,n,r){var g=io$1(t,e,n);return ao$1(g,co$1,r)}function mi$1(t,e,n,r){for(var g=[],$=0;$<n.length;$+=1){var y=new DataView(new Uint8Array(n[$]).buffer),k=Ih(y,r);k._subrs=[],k._subrsBias=0,k._defaultWidthX=0,k._nominalWidthX=0;var L=k.private[0],V=k.private[1];if(L!==0&&V!==0){var z=lo$1(t,V+e,L,r);if(k._defaultWidthX=z.defaultWidthX,k._nominalWidthX=z.nominalWidthX,z.subrs!==0){var j=V+z.subrs,ie=tt$2(t,j+e);k._subrs=ie.objects,k._subrsBias=ss(k._subrs)}k._privateDict=z}g.push(k)}return g}function Eh(t,e,n,r){var g,$,y=new R$1.Parser(t,e);n-=1;var k=[".notdef"],L=y.parseCard8();if(L===0)for(var V=0;V<n;V+=1)g=y.parseSID(),k.push(tn$2(r,g));else if(L===1)for(;k.length<=n;){g=y.parseSID(),$=y.parseCard8();for(var z=0;z<=$;z+=1)k.push(tn$2(r,g)),g+=1}else if(L===2)for(;k.length<=n;){g=y.parseSID(),$=y.parseCard16();for(var j=0;j<=$;j+=1)k.push(tn$2(r,g)),g+=1}else throw new Error("Unknown charset format "+L);return k}function Mh(t,e,n){var r,g={},$=new R$1.Parser(t,e),y=$.parseCard8();if(y===0)for(var k=$.parseCard8(),L=0;L<k;L+=1)r=$.parseCard8(),g[r]=L;else if(y===1){var V=$.parseCard8();r=1;for(var z=0;z<V;z+=1)for(var j=$.parseCard8(),ie=$.parseCard8(),Oe=j;Oe<=j+ie;Oe+=1)g[Oe]=r,r+=1}else throw new Error("Unknown encoding format "+y);return new Qn$1(g,n)}function yi$1(t,e,n){var r,g,$,y,k=new le,L=[],V=0,z=!1,j=!1,ie=0,Oe=0,ur,hr,Vr,dr;if(t.isCIDFont){var ec=t.tables.cff.topDict._fdSelect[e.index],tc=t.tables.cff.topDict._fdArray[ec];ur=tc._subrs,hr=tc._subrsBias,Vr=tc._defaultWidthX,dr=tc._nominalWidthX}else ur=t.tables.cff.topDict._subrs,hr=t.tables.cff.topDict._subrsBias,Vr=t.tables.cff.topDict._defaultWidthX,dr=t.tables.cff.topDict._nominalWidthX;var Xs=Vr;function rc(qm,Xm){j&&k.closePath(),k.moveTo(qm,Xm),j=!0}function ic(){var qm;qm=L.length%2!==0,qm&&!z&&(Xs=L.shift()+dr),V+=L.length>>1,L.length=0,z=!0}function _c(qm){for(var Xm,Km,tv,nv,sv,gv,Sv,wv,rv,Jm,dv,pv,mv=0;mv<qm.length;){var Cv=qm[mv];switch(mv+=1,Cv){case 1:ic();break;case 3:ic();break;case 4:L.length>1&&!z&&(Xs=L.shift()+dr,z=!0),Oe+=L.pop(),rc(ie,Oe);break;case 5:for(;L.length>0;)ie+=L.shift(),Oe+=L.shift(),k.lineTo(ie,Oe);break;case 6:for(;L.length>0&&(ie+=L.shift(),k.lineTo(ie,Oe),L.length!==0);)Oe+=L.shift(),k.lineTo(ie,Oe);break;case 7:for(;L.length>0&&(Oe+=L.shift(),k.lineTo(ie,Oe),L.length!==0);)ie+=L.shift(),k.lineTo(ie,Oe);break;case 8:for(;L.length>0;)r=ie+L.shift(),g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),ie=$+L.shift(),Oe=y+L.shift(),k.curveTo(r,g,$,y,ie,Oe);break;case 10:sv=L.pop()+hr,gv=ur[sv],gv&&_c(gv);break;case 11:return;case 12:switch(Cv=qm[mv],mv+=1,Cv){case 35:r=ie+L.shift(),g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),Sv=$+L.shift(),wv=y+L.shift(),rv=Sv+L.shift(),Jm=wv+L.shift(),dv=rv+L.shift(),pv=Jm+L.shift(),ie=dv+L.shift(),Oe=pv+L.shift(),L.shift(),k.curveTo(r,g,$,y,Sv,wv),k.curveTo(rv,Jm,dv,pv,ie,Oe);break;case 34:r=ie+L.shift(),g=Oe,$=r+L.shift(),y=g+L.shift(),Sv=$+L.shift(),wv=y,rv=Sv+L.shift(),Jm=y,dv=rv+L.shift(),pv=Oe,ie=dv+L.shift(),k.curveTo(r,g,$,y,Sv,wv),k.curveTo(rv,Jm,dv,pv,ie,Oe);break;case 36:r=ie+L.shift(),g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),Sv=$+L.shift(),wv=y,rv=Sv+L.shift(),Jm=y,dv=rv+L.shift(),pv=Jm+L.shift(),ie=dv+L.shift(),k.curveTo(r,g,$,y,Sv,wv),k.curveTo(rv,Jm,dv,pv,ie,Oe);break;case 37:r=ie+L.shift(),g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),Sv=$+L.shift(),wv=y+L.shift(),rv=Sv+L.shift(),Jm=wv+L.shift(),dv=rv+L.shift(),pv=Jm+L.shift(),Math.abs(dv-ie)>Math.abs(pv-Oe)?ie=dv+L.shift():Oe=pv+L.shift(),k.curveTo(r,g,$,y,Sv,wv),k.curveTo(rv,Jm,dv,pv,ie,Oe);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+Cv),L.length=0}break;case 14:L.length>0&&!z&&(Xs=L.shift()+dr,z=!0),j&&(k.closePath(),j=!1);break;case 18:ic();break;case 19:case 20:ic(),mv+=V+7>>3;break;case 21:L.length>2&&!z&&(Xs=L.shift()+dr,z=!0),Oe+=L.pop(),ie+=L.pop(),rc(ie,Oe);break;case 22:L.length>1&&!z&&(Xs=L.shift()+dr,z=!0),ie+=L.pop(),rc(ie,Oe);break;case 23:ic();break;case 24:for(;L.length>2;)r=ie+L.shift(),g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),ie=$+L.shift(),Oe=y+L.shift(),k.curveTo(r,g,$,y,ie,Oe);ie+=L.shift(),Oe+=L.shift(),k.lineTo(ie,Oe);break;case 25:for(;L.length>6;)ie+=L.shift(),Oe+=L.shift(),k.lineTo(ie,Oe);r=ie+L.shift(),g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),ie=$+L.shift(),Oe=y+L.shift(),k.curveTo(r,g,$,y,ie,Oe);break;case 26:for(L.length%2&&(ie+=L.shift());L.length>0;)r=ie,g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),ie=$,Oe=y+L.shift(),k.curveTo(r,g,$,y,ie,Oe);break;case 27:for(L.length%2&&(Oe+=L.shift());L.length>0;)r=ie+L.shift(),g=Oe,$=r+L.shift(),y=g+L.shift(),ie=$+L.shift(),Oe=y,k.curveTo(r,g,$,y,ie,Oe);break;case 28:Xm=qm[mv],Km=qm[mv+1],L.push((Xm<<24|Km<<16)>>16),mv+=2;break;case 29:sv=L.pop()+t.gsubrsBias,gv=t.gsubrs[sv],gv&&_c(gv);break;case 30:for(;L.length>0&&(r=ie,g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),ie=$+L.shift(),Oe=y+(L.length===1?L.shift():0),k.curveTo(r,g,$,y,ie,Oe),L.length!==0);)r=ie+L.shift(),g=Oe,$=r+L.shift(),y=g+L.shift(),Oe=y+L.shift(),ie=$+(L.length===1?L.shift():0),k.curveTo(r,g,$,y,ie,Oe);break;case 31:for(;L.length>0&&(r=ie+L.shift(),g=Oe,$=r+L.shift(),y=g+L.shift(),Oe=y+L.shift(),ie=$+(L.length===1?L.shift():0),k.curveTo(r,g,$,y,ie,Oe),L.length!==0);)r=ie,g=Oe+L.shift(),$=r+L.shift(),y=g+L.shift(),ie=$+L.shift(),Oe=y+(L.length===1?L.shift():0),k.curveTo(r,g,$,y,ie,Oe);break;default:Cv<32?console.log("Glyph "+e.index+": unknown operator "+Cv):Cv<247?L.push(Cv-139):Cv<251?(Xm=qm[mv],mv+=1,L.push((Cv-247)*256+Xm+108)):Cv<255?(Xm=qm[mv],mv+=1,L.push(-(Cv-251)*256-Xm-108)):(Xm=qm[mv],Km=qm[mv+1],tv=qm[mv+2],nv=qm[mv+3],mv+=4,L.push((Xm<<24|Km<<16|tv<<8|nv)/65536))}}}return _c(n),e.advanceWidth=Xs,k}function kh(t,e,n,r){var g=[],$,y=new R$1.Parser(t,e),k=y.parseCard8();if(k===0)for(var L=0;L<n;L++){if($=y.parseCard8(),$>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+$+" (FD count "+r+")");g.push($)}else if(k===3){var V=y.parseCard16(),z=y.parseCard16();if(z!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+z);for(var j,ie=0;ie<V;ie++){if($=y.parseCard8(),j=y.parseCard16(),$>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+$+" (FD count "+r+")");if(j>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+j);for(;z<j;z++)g.push($);z=j}if(j!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+j)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+k);return g}function Lh(t,e,n,r){n.tables.cff={};var g=Th(t,e),$=tt$2(t,g.endOffset,R$1.bytesToString),y=tt$2(t,$.endOffset),k=tt$2(t,y.endOffset,R$1.bytesToString),L=tt$2(t,k.endOffset);n.gsubrs=L.objects,n.gsubrsBias=ss(n.gsubrs);var V=mi$1(t,e,y.objects,k.objects);if(V.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+V.length);var z=V[0];if(n.tables.cff.topDict=z,z._privateDict&&(n.defaultWidthX=z._privateDict.defaultWidthX,n.nominalWidthX=z._privateDict.nominalWidthX),z.ros[0]!==void 0&&z.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var j=z.fdArray,ie=z.fdSelect;if(j===0||ie===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");j+=e;var Oe=tt$2(t,j),ur=mi$1(t,e,Oe.objects,k.objects);z._fdArray=ur,ie+=e,z._fdSelect=kh(t,ie,n.numGlyphs,ur.length)}var hr=e+z.private[1],Vr=lo$1(t,hr,z.private[0],k.objects);if(n.defaultWidthX=Vr.defaultWidthX,n.nominalWidthX=Vr.nominalWidthX,Vr.subrs!==0){var dr=hr+Vr.subrs,ec=tt$2(t,dr);n.subrs=ec.objects,n.subrsBias=ss(n.subrs)}else n.subrs=[],n.subrsBias=0;var tc;r.lowMemory?(tc=xh(t,e+z.charStrings),n.nGlyphs=tc.offsets.length):(tc=tt$2(t,e+z.charStrings),n.nGlyphs=tc.objects.length);var Xs=Eh(t,e+z.charset,n.nGlyphs,k.objects);if(z.encoding===0?n.cffEncoding=new Qn$1(hh,Xs):z.encoding===1?n.cffEncoding=new Qn$1(uh,Xs):n.cffEncoding=Mh(t,e+z.encoding,Xs),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Ve$1.GlyphSet(n),r.lowMemory)n._push=function(_c){var qm=wh(_c,tc.offsets,t,e+z.charStrings);n.glyphs.push(_c,Ve$1.cffGlyphLoader(n,_c,yi$1,qm))};else for(var rc=0;rc<n.nGlyphs;rc+=1){var ic=tc.objects[rc];n.glyphs.push(rc,Ve$1.cffGlyphLoader(n,rc,yi$1,ic))}}function ho$1(t,e){var n,r=zn$1.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+zn$1.length:(n=zn$1.length+e.length,e.push(t)),n}function Bh(){return new P$2.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Ah(t){var e=new P$2.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function uo$1(t,e,n){for(var r={},g=0;g<t.length;g+=1){var $=t[g],y=e[$.name];y!==void 0&&!so$1(y,$.value)&&($.type==="SID"&&(y=ho$1(y,n)),r[$.op]={name:$.name,type:$.type,value:y})}return r}function bi$1(t,e){var n=new P$2.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=uo$1(oo$1,t,e),n}function vi$1(t){var e=new P$2.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function Oh(t){var e=new P$2.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function Ph(){return new P$2.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Dh(t,e){for(var n=new P$2.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var g=t[r],$=ho$1(g,e);n.fields.push({name:"glyph_"+r,type:"SID",value:$})}return n}function Rh(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,g=0,$=0;$<n.commands.length;$+=1){var y=void 0,k=void 0,L=n.commands[$];if(L.type==="Q"){var V=.3333333333333333,z=2/3;L={type:"C",x:L.x,y:L.y,x1:Math.round(V*r+z*L.x1),y1:Math.round(V*g+z*L.y1),x2:Math.round(V*L.x+z*L.x1),y2:Math.round(V*L.y+z*L.y1)}}if(L.type==="M")y=Math.round(L.x-r),k=Math.round(L.y-g),e.push({name:"dx",type:"NUMBER",value:y}),e.push({name:"dy",type:"NUMBER",value:k}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(L.x),g=Math.round(L.y);else if(L.type==="L")y=Math.round(L.x-r),k=Math.round(L.y-g),e.push({name:"dx",type:"NUMBER",value:y}),e.push({name:"dy",type:"NUMBER",value:k}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(L.x),g=Math.round(L.y);else if(L.type==="C"){var j=Math.round(L.x1-r),ie=Math.round(L.y1-g),Oe=Math.round(L.x2-L.x1),ur=Math.round(L.y2-L.y1);y=Math.round(L.x-L.x2),k=Math.round(L.y-L.y2),e.push({name:"dx1",type:"NUMBER",value:j}),e.push({name:"dy1",type:"NUMBER",value:ie}),e.push({name:"dx2",type:"NUMBER",value:Oe}),e.push({name:"dy2",type:"NUMBER",value:ur}),e.push({name:"dx",type:"NUMBER",value:y}),e.push({name:"dy",type:"NUMBER",value:k}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(L.x),g=Math.round(L.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function Uh(t){for(var e=new P$2.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),g=Rh(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:g})}return e}function Fh(t,e){var n=new P$2.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=uo$1(co$1,t,e),n}function Nh(t,e){for(var n=new P$2.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,g={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},$={},y=[],k,L=1;L<t.length;L+=1)k=t.get(L),y.push(k.name);var V=[];n.header=Bh(),n.nameIndex=Ah([e.postScriptName]);var z=bi$1(g,V);n.topDictIndex=vi$1(z),n.globalSubrIndex=Ph(),n.charsets=Dh(y,V),n.charStringsIndex=Uh(t),n.privateDict=Fh($,V),n.stringIndex=Oh(V);var j=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return g.charset=j,g.encoding=0,g.charStrings=g.charset+n.charsets.sizeOf(),g.private[1]=g.charStrings+n.charStringsIndex.sizeOf(),z=bi$1(g,V),n.topDictIndex=vi$1(z),n}var po$1={parse:Lh,make:Nh};function zh(t,e){var n={},r=new R$1.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),F$1.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function Gh(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new P$2.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var fo$1={parse:zh,make:Gh};function jh(t,e){var n={},r=new R$1.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function Vh(t){return new P$2.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var go$1={parse:jh,make:Vh};function Hh(t,e,n,r,g){for(var $,y,k=new R$1.Parser(t,e),L=0;L<r;L+=1){L<n&&($=k.parseUShort(),y=k.parseShort());var V=g.get(L);V.advanceWidth=$,V.leftSideBearing=y}}function Wh(t,e,n,r,g){t._hmtxTableData={};for(var $,y,k=new R$1.Parser(e,n),L=0;L<g;L+=1)L<r&&($=k.parseUShort(),y=k.parseShort()),t._hmtxTableData[L]={advanceWidth:$,leftSideBearing:y}}function $h(t,e,n,r,g,$,y){y.lowMemory?Wh(t,e,n,r,g):Hh(e,n,r,g,$)}function qh(t){for(var e=new P$2.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),g=r.advanceWidth||0,$=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:g}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:$})}return e}var mo$1={parse:$h,make:qh};function Xh(t){for(var e=new P$2.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,g=0;g<t.length;++g){var $=n.indexOf(t[g]);$<0&&($=n.length,n+=t[g]),e.fields.push({name:"offset "+g,type:"USHORT",value:r+$}),e.fields.push({name:"length "+g,type:"USHORT",value:t[g].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function Yh(t,e){var n=new R$1.Parser(t,e),r=n.parseULong();F$1.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var g=n.parseULong(),$=[],y=0;y<g;y++){for(var k="",L=e+n.parseUShort(),V=n.parseUShort(),z=L;z<L+V;++z)k+=String.fromCharCode(t.getInt8(z));$.push(k)}return $}var yo$1={make:Xh,parse:Yh};function Zh(t,e){var n={},r=new R$1.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function Kh(t){return new P$2.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var bo$1={parse:Zh,make:Kh},vo$1=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],xo$1={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Qh={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},wo$1={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Jh(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return xo$1[e];case 3:return wo$1[e]}}var is="utf-16",eu={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},tu={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function So$1(t,e,n){switch(t){case 0:return is;case 1:return tu[n]||eu[e];case 3:if(e===1||e===10)return is;break}}function nu(t,e,n){for(var r={},g=new R$1.Parser(t,e),$=g.parseUShort(),y=g.parseUShort(),k=g.offset+g.parseUShort(),L=0;L<y;L++){var V=g.parseUShort(),z=g.parseUShort(),j=g.parseUShort(),ie=g.parseUShort(),Oe=vo$1[ie]||ie,ur=g.parseUShort(),hr=g.parseUShort(),Vr=Jh(V,j,n),dr=So$1(V,z,j);if(dr!==void 0&&Vr!==void 0){var ec=void 0;if(dr===is?ec=Ft$2.UTF16(t,k+hr,ur):ec=Ft$2.MACSTRING(t,k+hr,ur,dr),ec){var tc=r[Oe];tc===void 0&&(tc=r[Oe]={}),tc[Vr]=ec}}}return $===1&&g.parseUShort(),r}function yr(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function xi$1(t,e,n,r,g,$){return new P$2.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:g},{name:"offset",type:"USHORT",value:$}])}function ru(t,e){var n=t.length,r=e.length-n+1;e:for(var g=0;g<r;g++)for(;g<r;g++){for(var $=0;$<n;$++)if(e[g+$]!==t[$])continue e;return g}return-1}function wi$1(t,e){var n=ru(t,e);if(n<0){n=e.length;for(var r=0,g=t.length;r<g;++r)e.push(t[r])}return n}function su(t,e){var n,r=[],g={},$=yr(vo$1);for(var y in t){var k=$[y];if(k===void 0&&(k=y),n=parseInt(k),isNaN(n))throw new Error('Name table entry "'+y+'" does not exist, see nameTableNames for complete list.');g[n]=t[y],r.push(n)}for(var L=yr(xo$1),V=yr(wo$1),z=[],j=[],ie=0;ie<r.length;ie++){n=r[ie];var Oe=g[n];for(var ur in Oe){var hr=Oe[ur],Vr=1,dr=L[ur],ec=Qh[dr],tc=So$1(Vr,ec,dr),Xs=O$1.MACSTRING(hr,tc);Xs===void 0&&(Vr=0,dr=e.indexOf(ur),dr<0&&(dr=e.length,e.push(ur)),ec=4,Xs=O$1.UTF16(hr));var rc=wi$1(Xs,j);z.push(xi$1(Vr,ec,dr,n,Xs.length,rc));var ic=V[ur];if(ic!==void 0){var _c=O$1.UTF16(hr),qm=wi$1(_c,j);z.push(xi$1(3,1,ic,n,_c.length,qm))}}}z.sort(function(tv,nv){return tv.platformID-nv.platformID||tv.encodingID-nv.encodingID||tv.languageID-nv.languageID||tv.nameID-nv.nameID});for(var Xm=new P$2.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:z.length},{name:"stringOffset",type:"USHORT",value:6+z.length*12}]),Km=0;Km<z.length;Km++)Xm.fields.push({name:"record_"+Km,type:"RECORD",value:z[Km]});return Xm.fields.push({name:"strings",type:"LITERAL",value:j}),Xm}var _o$1={parse:nu,make:su},as=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function iu(t){for(var e=0;e<as.length;e+=1){var n=as[e];if(t>=n.begin&&t<n.end)return e}return-1}function au(t,e){var n={},r=new R$1.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var g=0;g<10;g++)n.panose[g]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function ou(t){return new P$2.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var os={parse:au,make:ou,unicodeRanges:as,getUnicodeRange:iu};function cu(t,e){var n={},r=new R$1.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=gt$1.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var g=0;g<n.numberOfGlyphs;g++)n.glyphNameIndex[g]=r.parseUShort();n.names=[];for(var $=0;$<n.numberOfGlyphs;$++)if(n.glyphNameIndex[$]>=gt$1.length){var y=r.parseChar();n.names.push(r.parseString(y))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var k=0;k<n.numberOfGlyphs;k++)n.offset[k]=r.parseChar();break}return n}function lu(){return new P$2.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var Co$1={parse:cu,make:lu},Me$1=new Array(9);Me$1[1]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{substFormat:1,coverage:this.parsePointer(E$2.coverage),deltaGlyphId:this.parseUShort()};if(e===2)return{substFormat:2,coverage:this.parsePointer(E$2.coverage),substitute:this.parseOffset16List()};F$1.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};Me$1[2]=function(){var t=this.parseUShort();return F$1.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(E$2.coverage),sequences:this.parseListOfLists()}};Me$1[3]=function(){var t=this.parseUShort();return F$1.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(E$2.coverage),alternateSets:this.parseListOfLists()}};Me$1[4]=function(){var t=this.parseUShort();return F$1.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(E$2.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Pt$1={sequenceIndex:E$2.uShort,lookupListIndex:E$2.uShort};Me$1[5]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{substFormat:e,coverage:this.parsePointer(E$2.coverage),ruleSets:this.parseListOfLists(function(){var g=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(g-1),lookupRecords:this.parseRecordList($,Pt$1)}})};if(e===2)return{substFormat:e,coverage:this.parsePointer(E$2.coverage),classDef:this.parsePointer(E$2.classDef),classSets:this.parseListOfLists(function(){var g=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(g-1),lookupRecords:this.parseRecordList($,Pt$1)}})};if(e===3){var n=this.parseUShort(),r=this.parseUShort();return{substFormat:e,coverages:this.parseList(n,E$2.pointer(E$2.coverage)),lookupRecords:this.parseRecordList(r,Pt$1)}}F$1.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Me$1[6]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{substFormat:1,coverage:this.parsePointer(E$2.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Pt$1)}})};if(e===2)return{substFormat:2,coverage:this.parsePointer(E$2.coverage),backtrackClassDef:this.parsePointer(E$2.classDef),inputClassDef:this.parsePointer(E$2.classDef),lookaheadClassDef:this.parsePointer(E$2.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Pt$1)}})};if(e===3)return{substFormat:3,backtrackCoverage:this.parseList(E$2.pointer(E$2.coverage)),inputCoverage:this.parseList(E$2.pointer(E$2.coverage)),lookaheadCoverage:this.parseList(E$2.pointer(E$2.coverage)),lookupRecords:this.parseRecordList(Pt$1)};F$1.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Me$1[7]=function(){var t=this.parseUShort();F$1.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var e=this.parseUShort(),n=new E$2(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:e,extension:Me$1[e].call(n)}};Me$1[8]=function(){var t=this.parseUShort();return F$1.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(E$2.coverage),backtrackCoverage:this.parseList(E$2.pointer(E$2.coverage)),lookaheadCoverage:this.parseList(E$2.pointer(E$2.coverage)),substitutes:this.parseUShortList()}};function hu(t,e){e=e||0;var n=new E$2(t,e),r=n.parseVersion(1);return F$1.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Me$1)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Me$1),variations:n.parseFeatureVariationsList()}}var zt$2=new Array(9);zt$2[1]=function(t){return t.substFormat===1?new P$2.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new P$2.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new P$2.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new P$2.Coverage(t.coverage)}].concat(P$2.ushortList("substitute",t.substitute)))};zt$2[2]=function(t){return F$1.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new P$2.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new P$2.Coverage(t.coverage)}].concat(P$2.tableList("seqSet",t.sequences,function(e){return new P$2.Table("sequenceSetTable",P$2.ushortList("sequence",e))})))};zt$2[3]=function(t){return F$1.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new P$2.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new P$2.Coverage(t.coverage)}].concat(P$2.tableList("altSet",t.alternateSets,function(e){return new P$2.Table("alternateSetTable",P$2.ushortList("alternate",e))})))};zt$2[4]=function(t){return F$1.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new P$2.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new P$2.Coverage(t.coverage)}].concat(P$2.tableList("ligSet",t.ligatureSets,function(e){return new P$2.Table("ligatureSetTable",P$2.tableList("ligature",e,function(n){return new P$2.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:n.ligGlyph}].concat(P$2.ushortList("component",n.components,n.components.length+1)))}))})))};zt$2[6]=function(t){if(t.substFormat===1){var e=new P$2.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new P$2.Coverage(t.coverage)}].concat(P$2.tableList("chainRuleSet",t.chainRuleSets,function(g){return new P$2.Table("chainRuleSetTable",P$2.tableList("chainRule",g,function($){var y=P$2.ushortList("backtrackGlyph",$.backtrack,$.backtrack.length).concat(P$2.ushortList("inputGlyph",$.input,$.input.length+1)).concat(P$2.ushortList("lookaheadGlyph",$.lookahead,$.lookahead.length)).concat(P$2.ushortList("substitution",[],$.lookupRecords.length));return $.lookupRecords.forEach(function(k,L){y=y.concat({name:"sequenceIndex"+L,type:"USHORT",value:k.sequenceIndex}).concat({name:"lookupListIndex"+L,type:"USHORT",value:k.lookupListIndex})}),new P$2.Table("chainRuleTable",y)}))})));return e}else if(t.substFormat===2)F$1.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var n=[{name:"substFormat",type:"USHORT",value:t.substFormat}];n.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(g,$){n.push({name:"backtrackCoverage"+$,type:"TABLE",value:new P$2.Coverage(g)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(g,$){n.push({name:"inputCoverage"+$,type:"TABLE",value:new P$2.Coverage(g)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(g,$){n.push({name:"lookaheadCoverage"+$,type:"TABLE",value:new P$2.Coverage(g)})}),n.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(g,$){n=n.concat({name:"sequenceIndex"+$,type:"USHORT",value:g.sequenceIndex}).concat({name:"lookupListIndex"+$,type:"USHORT",value:g.lookupListIndex})});var r=new P$2.Table("chainContextTable",n);return r}F$1.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function uu(t){return new P$2.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new P$2.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new P$2.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new P$2.LookupList(t.lookups,zt$2)}])}var To$1={parse:hu,make:uu};function du(t,e){var n=new R$1.Parser(t,e),r=n.parseULong();F$1.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var g=n.parseULong(),$={},y=0;y<g;y++){var k=n.parseTag(),L=n.parseULong(),V=n.parseULong(),z=Ft$2.UTF8(t,e+L,V);$[k]=z}return $}function pu(t){var e=Object.keys(t).length,n="",r=16+e*12,g=new P$2.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var $ in t){var y=n.length;n+=t[$],g.fields.push({name:"tag "+$,type:"TAG",value:$}),g.fields.push({name:"offset "+$,type:"ULONG",value:r+y}),g.fields.push({name:"length "+$,type:"ULONG",value:t[$].length})}return g.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),g}var Io$1={parse:du,make:pu};function Si$1(t){return Math.log(t)/Math.log(2)|0}function Is(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function _i$1(t,e,n,r){return new P$2.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function Eo$1(t){var e=new P$2.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,Si$1(e.numTables));e.searchRange=16*n,e.entrySelector=Si$1(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],g=[],$=e.sizeOf()+_i$1().sizeOf()*e.numTables;$%4!==0;)$+=1,g.push({name:"padding",type:"BYTE",value:0});for(var y=0;y<t.length;y+=1){var k=t[y];F$1.argument(k.tableName.length===4,"Table name"+k.tableName+" is invalid.");var L=k.sizeOf(),V=_i$1(k.tableName,Is(k.encode()),$,L);for(r.push({name:V.tag+" Table Record",type:"RECORD",value:V}),g.push({name:k.tableName+" table",type:"RECORD",value:k}),$+=L,F$1.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!==0;)$+=1,g.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(z,j){return z.value.tag>j.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(g),e}function Ci$1(t,e,n){for(var r=0;r<e.length;r+=1){var g=t.charToGlyphIndex(e[r]);if(g>0){var $=t.glyphs.get(g);return $.getMetrics()}}return n}function fu(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function gu(t){for(var e=[],n=[],r=[],g=[],$=[],y=[],k=[],L,V=0,z=0,j=0,ie=0,Oe=0,ur=0;ur<t.glyphs.length;ur+=1){var hr=t.glyphs.get(ur),Vr=hr.unicode|0;if(isNaN(hr.advanceWidth))throw new Error("Glyph "+hr.name+" ("+ur+"): advanceWidth is not a number.");(L>Vr||L===void 0)&&Vr>0&&(L=Vr),V<Vr&&(V=Vr);var dr=os.getUnicodeRange(Vr);if(dr<32)z|=1<<dr;else if(dr<64)j|=1<<dr-32;else if(dr<96)ie|=1<<dr-64;else if(dr<123)Oe|=1<<dr-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(hr.name!==".notdef"){var ec=hr.getMetrics();e.push(ec.xMin),n.push(ec.yMin),r.push(ec.xMax),g.push(ec.yMax),y.push(ec.leftSideBearing),k.push(ec.rightSideBearing),$.push(hr.advanceWidth)}}var tc={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,g),advanceWidthMax:Math.max.apply(null,$),advanceWidthAvg:fu($),minLeftSideBearing:Math.min.apply(null,y),maxLeftSideBearing:Math.max.apply(null,y),minRightSideBearing:Math.min.apply(null,k)};tc.ascender=t.ascender,tc.descender=t.descender;var Xs=fo$1.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:tc.xMin,yMin:tc.yMin,xMax:tc.xMax,yMax:tc.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),rc=go$1.make({ascender:tc.ascender,descender:tc.descender,advanceWidthMax:tc.advanceWidthMax,minLeftSideBearing:tc.minLeftSideBearing,minRightSideBearing:tc.minRightSideBearing,xMaxExtent:tc.maxLeftSideBearing+(tc.xMax-tc.xMin),numberOfHMetrics:t.glyphs.length}),ic=bo$1.make(t.glyphs.length),_c=os.make(Object.assign({xAvgCharWidth:Math.round(tc.advanceWidthAvg),usFirstCharIndex:L,usLastCharIndex:V,ulUnicodeRange1:z,ulUnicodeRange2:j,ulUnicodeRange3:ie,ulUnicodeRange4:Oe,sTypoAscender:tc.ascender,sTypoDescender:tc.descender,sTypoLineGap:0,usWinAscent:tc.yMax,usWinDescent:Math.abs(tc.yMin),ulCodePageRange1:1,sxHeight:Ci$1(t,"xyvw",{yMax:Math.round(tc.ascender/2)}).yMax,sCapHeight:Ci$1(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",tc).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),qm=mo$1.make(t.glyphs),Xm=to$1.make(t.glyphs),Km=t.getEnglishName("fontFamily"),tv=t.getEnglishName("fontSubfamily"),nv=Km+" "+tv,sv=t.getEnglishName("postScriptName");sv||(sv=Km.replace(/\s/g,"")+"-"+tv);var gv={};for(var Sv in t.names)gv[Sv]=t.names[Sv];gv.uniqueID||(gv.uniqueID={en:t.getEnglishName("manufacturer")+":"+nv}),gv.postScriptName||(gv.postScriptName={en:sv}),gv.preferredFamily||(gv.preferredFamily=t.names.fontFamily),gv.preferredSubfamily||(gv.preferredSubfamily=t.names.fontSubfamily);var wv=[],rv=_o$1.make(gv,wv),Jm=wv.length>0?yo$1.make(wv):void 0,dv=Co$1.make(),pv=po$1.make(t.glyphs,{version:t.getEnglishName("version"),fullName:nv,familyName:Km,weightName:tv,postScriptName:sv,unitsPerEm:t.unitsPerEm,fontBBox:[0,tc.yMin,tc.ascender,tc.advanceWidthMax]}),mv=t.metas&&Object.keys(t.metas).length>0?Io$1.make(t.metas):void 0,Cv=[Xs,rc,ic,_c,rv,Xm,dv,pv,qm];Jm&&Cv.push(Jm),t.tables.gsub&&Cv.push(To$1.make(t.tables.gsub)),mv&&Cv.push(mv);for(var uv=Eo$1(Cv),yv=uv.encode(),$v=Is(yv),Dv=uv.fields,Hv=!1,Gv=0;Gv<Dv.length;Gv+=1)if(Dv[Gv].name==="head table"){Dv[Gv].value.checkSumAdjustment=2981146554-$v,Hv=!0;break}if(!Hv)throw new Error("Could not find head table with checkSum to adjust.");return uv}var mu={make:Eo$1,fontToTable:gu,computeCheckSum:Is};function br(t,e){for(var n=0,r=t.length-1;n<=r;){var g=n+r>>>1,$=t[g].tag;if($===e)return g;$<e?n=g+1:r=g-1}return-n-1}function Ti$1(t,e){for(var n=0,r=t.length-1;n<=r;){var g=n+r>>>1,$=t[g];if($===e)return g;$<e?n=g+1:r=g-1}return-n-1}function Ii$1(t,e){for(var n,r=0,g=t.length-1;r<=g;){var $=r+g>>>1;n=t[$];var y=n.start;if(y===e)return n;y<e?r=$+1:g=$-1}if(r>0)return n=t[r-1],e>n.end?0:n}function fn$2(t,e){this.font=t,this.tableName=e}fn$2.prototype={searchTag:br,binSearch:Ti$1,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,g=br(n.scripts,t);if(g>=0)return r[g].script;if(e){var $={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-g,0,$),$.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var g=br(r.langSysRecords,e);if(g>=0)return r.langSysRecords[g].langSys;if(n){var $={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-g,0,$),$.langSys}}},getFeatureTable:function(t,e,n,r){var g=this.getLangSysTable(t,e,r);if(g){for(var $,y=g.featureIndexes,k=this.font.tables[this.tableName].features,L=0;L<y.length;L++)if($=k[y[L]],$.tag===n)return $.feature;if(r){var V=k.length;return F$1.assert(V===0||n>=k[V-1].tag,"Features must be added in alphabetical order."),$={tag:n,feature:{params:0,lookupListIndexes:[]}},k.push($),y.push(V),$.feature}}},getLookupTables:function(t,e,n,r,g){var $=this.getFeatureTable(t,e,n,g),y=[];if($){for(var k,L=$.lookupListIndexes,V=this.font.tables[this.tableName].lookups,z=0;z<L.length;z++)k=V[L[z]],k.lookupType===r&&y.push(k);if(y.length===0&&g){k={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var j=V.length;return V.push(k),L.push(j),[k]}}return y},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=Ii$1(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=Ti$1(t.glyphs,e);return n>=0?n:-1;case 2:var r=Ii$1(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var g=n[r],$=g.start,y=g.end,k=$;k<=y;k++)e.push(k);return e}};function gn$2(t){fn$2.call(this,t,"gpos")}gn$2.prototype=fn$2.prototype;gn$2.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};gn$2.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var g=t[r].subtables,$=0;$<g.length;$++){var y=g[$],k=this.getCoverageIndex(y.coverage,e);if(!(k<0))switch(y.posFormat){case 1:for(var L=y.pairSets[k],V=0;V<L.length;V++){var z=L[V];if(z.secondGlyph===n)return z.value1&&z.value1.xAdvance||0}break;case 2:var j=this.getGlyphClass(y.classDef1,e),ie=this.getGlyphClass(y.classDef2,n),Oe=y.classRecords[j][ie];return Oe.value1&&Oe.value1.xAdvance||0}}return 0};gn$2.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function xe$1(t){fn$2.call(this,t,"gsub")}function yu(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Es(t,e,n){for(var r=t.subtables,g=0;g<r.length;g++){var $=r[g];if($.substFormat===e)return $}if(n)return r.push(n),n}xe$1.prototype=fn$2.prototype;xe$1.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};xe$1.prototype.getSingle=function(t,e,n){for(var r=[],g=this.getLookupTables(e,n,t,1),$=0;$<g.length;$++)for(var y=g[$].subtables,k=0;k<y.length;k++){var L=y[k],V=this.expandCoverage(L.coverage),z=void 0;if(L.substFormat===1){var j=L.deltaGlyphId;for(z=0;z<V.length;z++){var ie=V[z];r.push({sub:ie,by:ie+j})}}else{var Oe=L.substitute;for(z=0;z<V.length;z++)r.push({sub:V[z],by:Oe[z]})}}return r};xe$1.prototype.getMultiple=function(t,e,n){for(var r=[],g=this.getLookupTables(e,n,t,2),$=0;$<g.length;$++)for(var y=g[$].subtables,k=0;k<y.length;k++){var L=y[k],V=this.expandCoverage(L.coverage),z=void 0;for(z=0;z<V.length;z++){var j=V[z],ie=L.sequences[z];r.push({sub:j,by:ie})}}return r};xe$1.prototype.getAlternates=function(t,e,n){for(var r=[],g=this.getLookupTables(e,n,t,3),$=0;$<g.length;$++)for(var y=g[$].subtables,k=0;k<y.length;k++)for(var L=y[k],V=this.expandCoverage(L.coverage),z=L.alternateSets,j=0;j<V.length;j++)r.push({sub:V[j],by:z[j]});return r};xe$1.prototype.getLigatures=function(t,e,n){for(var r=[],g=this.getLookupTables(e,n,t,4),$=0;$<g.length;$++)for(var y=g[$].subtables,k=0;k<y.length;k++)for(var L=y[k],V=this.expandCoverage(L.coverage),z=L.ligatureSets,j=0;j<V.length;j++)for(var ie=V[j],Oe=z[j],ur=0;ur<Oe.length;ur++){var hr=Oe[ur];r.push({sub:[ie].concat(hr.components),by:hr.ligGlyph})}return r};xe$1.prototype.addSingle=function(t,e,n,r){var g=this.getLookupTables(n,r,t,1,!0)[0],$=Es(g,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});F$1.assert($.coverage.format===1,"Single: unable to modify coverage table format "+$.coverage.format);var y=e.sub,k=this.binSearch($.coverage.glyphs,y);k<0&&(k=-1-k,$.coverage.glyphs.splice(k,0,y),$.substitute.splice(k,0,0)),$.substitute[k]=e.by};xe$1.prototype.addMultiple=function(t,e,n,r){F$1.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var g=this.getLookupTables(n,r,t,2,!0)[0],$=Es(g,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});F$1.assert($.coverage.format===1,"Multiple: unable to modify coverage table format "+$.coverage.format);var y=e.sub,k=this.binSearch($.coverage.glyphs,y);k<0&&(k=-1-k,$.coverage.glyphs.splice(k,0,y),$.sequences.splice(k,0,0)),$.sequences[k]=e.by};xe$1.prototype.addAlternate=function(t,e,n,r){var g=this.getLookupTables(n,r,t,3,!0)[0],$=Es(g,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});F$1.assert($.coverage.format===1,"Alternate: unable to modify coverage table format "+$.coverage.format);var y=e.sub,k=this.binSearch($.coverage.glyphs,y);k<0&&(k=-1-k,$.coverage.glyphs.splice(k,0,y),$.alternateSets.splice(k,0,0)),$.alternateSets[k]=e.by};xe$1.prototype.addLigature=function(t,e,n,r){var g=this.getLookupTables(n,r,t,4,!0)[0],$=g.subtables[0];$||($={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},g.subtables[0]=$),F$1.assert($.coverage.format===1,"Ligature: unable to modify coverage table format "+$.coverage.format);var y=e.sub[0],k=e.sub.slice(1),L={ligGlyph:e.by,components:k},V=this.binSearch($.coverage.glyphs,y);if(V>=0){for(var z=$.ligatureSets[V],j=0;j<z.length;j++)if(yu(z[j].components,k))return;z.push(L)}else V=-1-V,$.coverage.glyphs.splice(V,0,y),$.ligatureSets.splice(V,0,[L])};xe$1.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};xe$1.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function bu(){return typeof window<"u"}function vu(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function Vt$2(t,e){if(!t)throw e}function Ei$1(t,e,n,r,g){var $;return(e&r)>0?($=t.parseByte(),e&g||($=-$),$=n+$):(e&g)>0?$=n:$=n+t.parseShort(),$}function Mo$1(t,e,n){var r=new R$1.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var g,$;if(t.numberOfContours>0){for(var y=t.endPointIndices=[],k=0;k<t.numberOfContours;k+=1)y.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var L=0;L<t.instructionLength;L+=1)t.instructions.push(r.parseByte());var V=y[y.length-1]+1;g=[];for(var z=0;z<V;z+=1)if($=r.parseByte(),g.push($),($&8)>0)for(var j=r.parseByte(),ie=0;ie<j;ie+=1)g.push($),z+=1;if(F$1.argument(g.length===V,"Bad flags."),y.length>0){var Oe=[],ur;if(V>0){for(var hr=0;hr<V;hr+=1)$=g[hr],ur={},ur.onCurve=!!($&1),ur.lastPointOfContour=y.indexOf(hr)>=0,Oe.push(ur);for(var Vr=0,dr=0;dr<V;dr+=1)$=g[dr],ur=Oe[dr],ur.x=Ei$1(r,$,Vr,2,16),Vr=ur.x;for(var ec=0,tc=0;tc<V;tc+=1)$=g[tc],ur=Oe[tc],ur.y=Ei$1(r,$,ec,4,32),ec=ur.y}t.points=Oe}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var Xs=!0;Xs;){g=r.parseUShort();var rc={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(g&1)>0?(g&2)>0?(rc.dx=r.parseShort(),rc.dy=r.parseShort()):rc.matchedPoints=[r.parseUShort(),r.parseUShort()]:(g&2)>0?(rc.dx=r.parseChar(),rc.dy=r.parseChar()):rc.matchedPoints=[r.parseByte(),r.parseByte()],(g&8)>0?rc.xScale=rc.yScale=r.parseF2Dot14():(g&64)>0?(rc.xScale=r.parseF2Dot14(),rc.yScale=r.parseF2Dot14()):(g&128)>0&&(rc.xScale=r.parseF2Dot14(),rc.scale01=r.parseF2Dot14(),rc.scale10=r.parseF2Dot14(),rc.yScale=r.parseF2Dot14()),t.components.push(rc),Xs=!!(g&32)}if(g&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var ic=0;ic<t.instructionLength;ic+=1)t.instructions.push(r.parseByte())}}}function vr(t,e){for(var n=[],r=0;r<t.length;r+=1){var g=t[r],$={x:e.xScale*g.x+e.scale01*g.y+e.dx,y:e.scale10*g.x+e.yScale*g.y+e.dy,onCurve:g.onCurve,lastPointOfContour:g.lastPointOfContour};n.push($)}return n}function xu(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var g=t[r];n.push(g),g.lastPointOfContour&&(e.push(n),n=[])}return F$1.argument(n.length===0,"There are still points left in the current contour."),e}function ko$1(t){var e=new le;if(!t)return e;for(var n=xu(t),r=0;r<n.length;++r){var g=n[r],$=null,y=g[g.length-1],k=g[0];if(y.onCurve)e.moveTo(y.x,y.y);else if(k.onCurve)e.moveTo(k.x,k.y);else{var L={x:(y.x+k.x)*.5,y:(y.y+k.y)*.5};e.moveTo(L.x,L.y)}for(var V=0;V<g.length;++V)if($=y,y=k,k=g[(V+1)%g.length],y.onCurve)e.lineTo(y.x,y.y);else{var z=k;$.onCurve||((y.x+$.x)*.5,(y.y+$.y)*.5),k.onCurve||(z={x:(y.x+k.x)*.5,y:(y.y+k.y)*.5}),e.quadraticCurveTo(y.x,y.y,z.x,z.y)}e.closePath()}return e}function Lo$1(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],g=t.get(r.glyphIndex);if(g.getPath(),g.points){var $=void 0;if(r.matchedPoints===void 0)$=vr(g.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>g.points.length-1)throw Error("Matched points out of range in "+e.name);var y=e.points[r.matchedPoints[0]],k=g.points[r.matchedPoints[1]],L={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};k=vr([k],L)[0],L.dx=y.x-k.x,L.dy=y.y-k.y,$=vr(g.points,L)}e.points=e.points.concat($)}}return ko$1(e.points)}function wu(t,e,n,r){for(var g=new Ve$1.GlyphSet(r),$=0;$<n.length-1;$+=1){var y=n[$],k=n[$+1];y!==k?g.push($,Ve$1.ttfGlyphLoader(r,$,Mo$1,t,e+y,Lo$1)):g.push($,Ve$1.glyphLoader(r,$))}return g}function Su(t,e,n,r){var g=new Ve$1.GlyphSet(r);return r._push=function($){var y=n[$],k=n[$+1];y!==k?g.push($,Ve$1.ttfGlyphLoader(r,$,Mo$1,t,e+y,Lo$1)):g.push($,Ve$1.glyphLoader(r,$))},g}function _u(t,e,n,r,g){return g.lowMemory?Su(t,e,n,r):wu(t,e,n,r)}var Bo$1={getPath:ko$1,parse:_u},Ao$1,vt$1,Oo$1,cs;function Po(t){this.font=t,this.getCommands=function(e){return Bo$1.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Cu(t){return t}function Do$1(t){return Math.sign(t)*Math.round(Math.abs(t))}function Tu(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function Iu(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Eu(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Mu(t){return Math.sign(t)*Math.floor(Math.abs(t))}var Ro$1=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,g=1;return t<0&&(t=-t,g=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*g:t*g},Ge$1={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var g,$,y,k,L,V,z;if(!r||r===this){if(g=t.xo-e.xo,$=t.xo-n.xo,L=e.x-e.xo,V=n.x-n.xo,y=Math.abs(g),k=Math.abs($),z=y+k,z===0){t.x=t.xo+(L+V)/2;return}t.x=t.xo+(L*k+V*y)/z;return}if(g=r.distance(t,e,!0,!0),$=r.distance(t,n,!0,!0),L=r.distance(e,e,!1,!0),V=r.distance(n,n,!1,!0),y=Math.abs(g),k=Math.abs($),z=y+k,z===0){Ge$1.setRelative(t,t,(L+V)/2,r,!0);return}Ge$1.setRelative(t,t,(L*k+V*y)/z,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,g){if(!r||r===this){t.x=(g?e.xo:e.x)+n;return}var $=g?e.xo:e.x,y=g?e.yo:e.y,k=$+n*r.x,L=y+n*r.y;t.x=k+(t.y-L)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},qe$1={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var g,$,y,k,L,V,z;if(!r||r===this){if(g=t.yo-e.yo,$=t.yo-n.yo,L=e.y-e.yo,V=n.y-n.yo,y=Math.abs(g),k=Math.abs($),z=y+k,z===0){t.y=t.yo+(L+V)/2;return}t.y=t.yo+(L*k+V*y)/z;return}if(g=r.distance(t,e,!0,!0),$=r.distance(t,n,!0,!0),L=r.distance(e,e,!1,!0),V=r.distance(n,n,!1,!0),y=Math.abs(g),k=Math.abs($),z=y+k,z===0){qe$1.setRelative(t,t,(L+V)/2,r,!0);return}qe$1.setRelative(t,t,(L*k+V*y)/z,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,g){if(!r||r===this){t.y=(g?e.yo:e.y)+n;return}var $=g?e.xo:e.x,y=g?e.yo:e.y,k=$+n*r.x,L=y+n*r.y;t.y=L+r.normalSlope*(t.x-k)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Ge$1);Object.freeze(qe$1);function mn$2(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}mn$2.prototype.distance=function(t,e,n,r){return this.x*Ge$1.distance(t,e,n,r)+this.y*qe$1.distance(t,e,n,r)};mn$2.prototype.interpolate=function(t,e,n,r){var g,$,y,k,L,V,z;if(y=r.distance(t,e,!0,!0),k=r.distance(t,n,!0,!0),g=r.distance(e,e,!1,!0),$=r.distance(n,n,!1,!0),L=Math.abs(y),V=Math.abs(k),z=L+V,z===0){this.setRelative(t,t,(g+$)/2,r,!0);return}this.setRelative(t,t,(g*V+$*L)/z,r,!0)};mn$2.prototype.setRelative=function(t,e,n,r,g){r=r||this;var $=g?e.xo:e.x,y=g?e.yo:e.y,k=$+n*r.x,L=y+n*r.y,V=r.normalSlope,z=this.slope,j=t.x,ie=t.y;t.x=(z*j-V*k+L-ie)/(z-V),t.y=z*(t.x-j)+ie};mn$2.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function yn$2(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Ge$1:t===0&&e===1?qe$1:new mn$2(t,e)}function Ye$1(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Ye$1.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Ye$1.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var ln$2=Object.freeze(new Ye$1(0,0)),ku={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function nt$1(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Ge$1,this.round=Do$1}}Po.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var g=this._fpgmState;if(!g){nt$1.prototype=ku,g=this._fpgmState=new nt$1("fpgm",n.tables.fpgm),g.funcs=[],g.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),g.step=-1);try{vt$1(g)}catch(V){console.log("Hinting error in FPGM:"+V),this._errorState=3;return}}nt$1.prototype=g,r=this._prepState=new nt$1("prep",n.tables.prep),r.ppem=e;var $=n.tables.cvt;if($)for(var y=r.cvt=new Array($.length),k=e/n.unitsPerEm,L=0;L<$.length;L++)y[L]=$[L]*k;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{vt$1(r)}catch(V){this._errorState<2&&console.log("Hinting error in PREP:"+V),this._errorState=2}}if(!(this._errorState>1))try{return Oo$1(t,r)}catch(V){this._errorState<1&&(console.log("Hinting error:"+V),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Oo$1=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,g=t.components,$,y,k;if(nt$1.prototype=e,!g)k=new nt$1("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),k.step=-1),cs(t,k,n,r),y=k.gZone;else{var L=e.font;y=[],$=[];for(var V=0;V<g.length;V++){var z=g[V],j=L.glyphs.get(z.glyphIndex);k=new nt$1("glyf",j.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+V+"---"),k.step=-1),cs(j,k,n,r);for(var ie=Math.round(z.dx*n),Oe=Math.round(z.dy*r),ur=k.gZone,hr=k.contours,Vr=0;Vr<ur.length;Vr++){var dr=ur[Vr];dr.xTouched=dr.yTouched=!1,dr.xo=dr.x=dr.x+ie,dr.yo=dr.y=dr.y+Oe}var ec=y.length;y.push.apply(y,ur);for(var tc=0;tc<hr.length;tc++)$.push(hr[tc]+ec)}t.instructions&&!k.inhibitGridFit&&(k=new nt$1("glyf",t.instructions),k.gZone=k.z0=k.z1=k.z2=y,k.contours=$,y.push(new Ye$1(0,0),new Ye$1(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),k.step=-1),vt$1(k),y.length-=2)}return y};cs=function(t,e,n,r){for(var g=t.points||[],$=g.length,y=e.gZone=e.z0=e.z1=e.z2=[],k=e.contours=[],L,V=0;V<$;V++)L=g[V],y[V]=new Ye$1(L.x*n,L.y*r,L.lastPointOfContour,L.onCurve);for(var z,j,ie=0;ie<$;ie++)L=y[ie],z||(z=L,k.push(ie)),L.lastPointOfContour?(L.nextPointOnContour=z,z.prevPointOnContour=L,z=void 0):(j=y[ie+1],L.nextPointOnContour=j,j.prevPointOnContour=L);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var Oe=0;Oe<$;Oe++)console.log(Oe,y[Oe].x,y[Oe].y)}if(y.push(new Ye$1(0,0),new Ye$1(Math.round(t.advanceWidth*n),0)),vt$1(e),y.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var ur=0;ur<$;ur++)console.log(ur,y[ur].x,y[ur].y)}}};vt$1=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=Ao$1[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function sr(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Ye$1(0,0)}function Uo$1(t,e){var n=t.prog,r=t.ip,g=1,$;do if($=n[++r],$===88)g++;else if($===89)g--;else if($===64)r+=n[r+1]+1;else if($===65)r+=2*n[r+1]+1;else if($>=176&&$<=183)r+=$-176+1;else if($>=184&&$<=191)r+=($-184+1)*2;else if(e&&g===1&&$===27)break;while(g>0);t.ip=r}function Mi$1(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function ki$1(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function Li$1(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function Bi$1(t,e){var n=e.stack,r=n.pop(),g=n.pop(),$=e.z2[r],y=e.z1[g];exports.DEBUG&&console.log("SPVTL["+t+"]",r,g);var k,L;t?(k=$.y-y.y,L=y.x-$.x):(k=y.x-$.x,L=y.y-$.y),e.pv=e.dpv=yn$2(k,L)}function Ai$1(t,e){var n=e.stack,r=n.pop(),g=n.pop(),$=e.z2[r],y=e.z1[g];exports.DEBUG&&console.log("SFVTL["+t+"]",r,g);var k,L;t?(k=$.y-y.y,L=y.x-$.x):(k=y.x-$.x,L=y.y-$.y),e.fv=yn$2(k,L)}function Lu(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=yn$2(r,n)}function Bu(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=yn$2(r,n)}function Au(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Ou(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Pu(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function Du(t){var e=t.stack,n=e.pop(),r=e.pop(),g=e.pop(),$=e.pop(),y=e.pop(),k=t.z0,L=t.z1,V=k[n],z=k[r],j=L[g],ie=L[$],Oe=t.z2[y];exports.DEBUG&&console.log("ISECT[], ",n,r,g,$,y);var ur=V.x,hr=V.y,Vr=z.x,dr=z.y,ec=j.x,tc=j.y,Xs=ie.x,rc=ie.y,ic=(ur-Vr)*(tc-rc)-(hr-dr)*(ec-Xs),_c=ur*dr-hr*Vr,qm=ec*rc-tc*Xs;Oe.x=(_c*(ec-Xs)-qm*(ur-Vr))/ic,Oe.y=(_c*(tc-rc)-qm*(hr-dr))/ic}function Ru(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function Uu(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function Fu(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function Nu(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||sr(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function zu(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||sr(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Gu(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||sr(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function ju(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||sr(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Vu(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function Hu(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=Do$1}function Wu(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Iu}function $u(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function qu(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),Uo$1(t,!1)}function Xu(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function Yu(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function Zu(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function xr(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Ku(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function Qu(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function Ju(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function ed(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var g=t.ip,$=t.prog;t.prog=t.funcs[n];for(var y=0;y<r;y++)vt$1(t),exports.DEBUG&&console.log(++t.step,y+1<r?"next loopcall":"done loopcall",y);t.ip=g,t.prog=$}function td(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],vt$1(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function nd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function rd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function sd(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,g=e.pop(),$=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",g);n[++r]!==45;);t.ip=r,t.funcs[g]=n.slice($+1,r)}function Oi(t,e){var n=e.stack.pop(),r=e.z0[n],g=e.fv,$=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var y=$.distance(r,ln$2);t&&(y=e.round(y)),g.setRelative(r,ln$2,y,$),g.touch(r),e.rp0=e.rp1=n}function Pi$1(t,e){var n=e.z2,r=n.length-2,g,$,y;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var k=0;k<r;k++)g=n[k],!t.touched(g)&&($=g.prevTouched(t),$!==g&&(y=g.nextTouched(t),$===y&&t.setRelative(g,g,t.distance($,$,!1,!0),t,!0),t.interpolate(g,$,y,t)))}function Di$1(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,g=(t?e.z0:e.z1)[r],$=e.fv,y=e.pv,k=e.loop,L=e.z2;k--;){var V=n.pop(),z=L[V],j=y.distance(g,g,!1,!0);$.setRelative(z,z,j,y),$.touch(z),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-k)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",V)}e.loop=1}function Ri(t,e){var n=e.stack,r=t?e.rp1:e.rp2,g=(t?e.z0:e.z1)[r],$=e.fv,y=e.pv,k=n.pop(),L=e.z2[e.contours[k]],V=L;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",k);var z=y.distance(g,g,!1,!0);do V!==g&&$.setRelative(V,V,z,y),V=V.nextPointOnContour;while(V!==L)}function Ui(t,e){var n=e.stack,r=t?e.rp1:e.rp2,g=(t?e.z0:e.z1)[r],$=e.fv,y=e.pv,k=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",k);var L;switch(k){case 0:L=e.tZone;break;case 1:L=e.gZone;break;default:throw new Error("Invalid zone")}for(var V,z=y.distance(g,g,!1,!0),j=L.length-2,ie=0;ie<j;ie++)V=L[ie],$.setRelative(V,V,z,y)}function id(t){for(var e=t.stack,n=t.loop,r=t.fv,g=e.pop()/64,$=t.z2;n--;){var y=e.pop(),k=$[y];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",y,g),r.setRelative(k,k,g),r.touch(k)}t.loop=1}function ad(t){for(var e=t.stack,n=t.rp1,r=t.rp2,g=t.loop,$=t.z0[n],y=t.z1[r],k=t.fv,L=t.dpv,V=t.z2;g--;){var z=e.pop(),j=V[z];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-g)+": ":"")+"IP[]",z,n,"<->",r),k.interpolate(j,$,y,L),k.touch(j)}t.loop=1}function Fi(t,e){var n=e.stack,r=n.pop()/64,g=n.pop(),$=e.z1[g],y=e.z0[e.rp0],k=e.fv,L=e.pv;k.setRelative($,y,r,L),k.touch($),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,g),e.rp1=e.rp0,e.rp2=g,t&&(e.rp0=g)}function od(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],g=t.loop,$=t.fv,y=t.pv,k=t.z1;g--;){var L=e.pop(),V=k[L];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-g)+": ":"")+"ALIGNRP[]",L),$.setRelative(V,r,0,y),$.touch(V)}t.loop=1}function cd(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Tu}function Ni(t,e){var n=e.stack,r=n.pop(),g=n.pop(),$=e.z0[g],y=e.fv,k=e.pv,L=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",L,")",g);var V=k.distance($,ln$2);t&&(Math.abs(V-L)<e.cvCutIn&&(V=L),V=e.round(V)),y.setRelative($,ln$2,V,k),e.zp0===0&&($.xo=$.x,$.yo=$.y),y.touch($),e.rp0=e.rp1=g}function ld(t){var e=t.prog,n=t.ip,r=t.stack,g=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",g);for(var $=0;$<g;$++)r.push(e[++n]);t.ip=n}function hd(t){var e=t.ip,n=t.prog,r=t.stack,g=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",g);for(var $=0;$<g;$++){var y=n[++e]<<8|n[++e];y&32768&&(y=-((y^65535)+1)),r.push(y)}t.ip=e}function ud(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),g=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,g),n[g]=r}function dd(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var g=n&&n[r]||0;e.push(g)}function pd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function fd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function zi$1(t,e){var n=e.stack,r=n.pop(),g=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(g,ln$2,t,!1)*64)}function Gi(t,e){var n=e.stack,r=n.pop(),g=n.pop(),$=e.z1[r],y=e.z0[g],k=e.dpv.distance(y,$,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,g,"->",k),e.stack.push(Math.round(k*64))}function gd(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function md(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function yd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function bd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function vd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function xd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function wd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function Sd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function _d(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function Cd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function Td(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(Uo$1(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function Id(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function Ed(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function Md(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function kd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function wr(t,e){var n=e.stack,r=n.pop(),g=e.fv,$=e.pv,y=e.ppem,k=e.deltaBase+(t-1)*16,L=e.deltaShift,V=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var z=0;z<r;z++){var j=n.pop(),ie=n.pop(),Oe=k+((ie&240)>>4);if(Oe===y){var ur=(ie&15)-8;ur>=0&&ur++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",j,"by",ur*L);var hr=V[j];g.setRelative(hr,hr,ur*L,$)}}}function Ld(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function Bd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function Ad(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function Od(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function Pd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function Dd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function Rd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function Ud(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function Fd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function Nd(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function Bn$1(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function zd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function Sr(t,e){var n=e.stack,r=n.pop(),g=e.ppem,$=e.deltaBase+(t-1)*16,y=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var k=0;k<r;k++){var L=n.pop(),V=n.pop(),z=$+((V&240)>>4);if(z===g){var j=(V&15)-8;j>=0&&j++;var ie=j*y;exports.DEBUG&&console.log(e.step,"DELTACFIX",L,"by",ie),e.cvt[L]+=ie}}}function Gd(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=Ro$1;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function jd(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=Ro$1;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function Vd(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Cu}function Hd(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Eu}function Wd(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Mu}function $d(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function ji(t,e){var n=e.stack,r=n.pop(),g=n.pop(),$=e.z2[r],y=e.z1[g];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,g);var k,L;t?(k=$.y-y.y,L=y.x-$.x):(k=y.x-$.x,L=y.y-$.y),e.dpv=yn$2(k,L)}function qd(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function Xd(t){var e=t.stack,n=e.pop(),r=e.pop(),g=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(g)}function Yd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function Zd(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function Kd(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function Qd(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Je$1(t,e){var n=e.stack,r=e.prog,g=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var $=0;$<t;$++)n.push(r[++g]);e.ip=g}function et$1(t,e){var n=e.ip,r=e.prog,g=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var $=0;$<t;$++){var y=r[++n]<<8|r[++n];y&32768&&(y=-((y^65535)+1)),g.push(y)}e.ip=n}function D$1(t,e,n,r,g,$){var y=$.stack,k=t&&y.pop(),L=y.pop(),V=$.rp0,z=$.z0[V],j=$.z1[L],ie=$.minDis,Oe=$.fv,ur=$.dpv,hr,Vr,dr,ec;Vr=hr=ur.distance(j,z,!0,!0),dr=Vr>=0?1:-1,Vr=Math.abs(Vr),t&&(ec=$.cvt[k],r&&Math.abs(Vr-ec)<$.cvCutIn&&(Vr=ec)),n&&Vr<ie&&(Vr=ie),r&&(Vr=$.round(Vr)),Oe.setRelative(j,z,dr*Vr,ur),Oe.touch(j),exports.DEBUG&&console.log($.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(g===0?"Gr":g===1?"Bl":g===2?"Wh":"")+"]",t?k+"("+$.cvt[k]+","+ec+")":"",L,"(d =",hr,"->",dr*Vr,")"),$.rp1=$.rp0,$.rp2=L,e&&($.rp0=L)}Ao$1=[Mi$1.bind(void 0,qe$1),Mi$1.bind(void 0,Ge$1),ki$1.bind(void 0,qe$1),ki$1.bind(void 0,Ge$1),Li$1.bind(void 0,qe$1),Li$1.bind(void 0,Ge$1),Bi$1.bind(void 0,0),Bi$1.bind(void 0,1),Ai$1.bind(void 0,0),Ai$1.bind(void 0,1),Lu,Bu,Au,Ou,Pu,Du,Ru,Uu,Fu,Nu,zu,Gu,ju,Vu,Hu,Wu,$u,qu,Xu,Yu,void 0,void 0,Zu,xr,Ku,Qu,Ju,nd,rd,void 0,void 0,void 0,ed,td,sd,void 0,Oi.bind(void 0,0),Oi.bind(void 0,1),Pi$1.bind(void 0,qe$1),Pi$1.bind(void 0,Ge$1),Di$1.bind(void 0,0),Di$1.bind(void 0,1),Ri.bind(void 0,0),Ri.bind(void 0,1),Ui.bind(void 0,0),Ui.bind(void 0,1),id,ad,Fi.bind(void 0,0),Fi.bind(void 0,1),od,cd,Ni.bind(void 0,0),Ni.bind(void 0,1),ld,hd,ud,dd,pd,fd,zi$1.bind(void 0,0),zi$1.bind(void 0,1),void 0,Gi.bind(void 0,0),Gi.bind(void 0,1),gd,void 0,md,void 0,void 0,yd,bd,vd,xd,wd,Sd,_d,Cd,Td,Id,Ed,Md,kd,wr.bind(void 0,1),Ld,Bd,Ad,Od,Pd,Dd,Rd,Ud,Fd,Nd,Bn$1.bind(void 0,0),Bn$1.bind(void 0,1),Bn$1.bind(void 0,2),Bn$1.bind(void 0,3),void 0,void 0,void 0,void 0,zd,wr.bind(void 0,2),wr.bind(void 0,3),Sr.bind(void 0,1),Sr.bind(void 0,2),Sr.bind(void 0,3),Gd,jd,void 0,void 0,Vd,void 0,Hd,Wd,xr,xr,void 0,void 0,void 0,void 0,void 0,$d,ji.bind(void 0,0),ji.bind(void 0,1),qd,void 0,Xd,Yd,Zd,Kd,Qd,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Je$1.bind(void 0,1),Je$1.bind(void 0,2),Je$1.bind(void 0,3),Je$1.bind(void 0,4),Je$1.bind(void 0,5),Je$1.bind(void 0,6),Je$1.bind(void 0,7),Je$1.bind(void 0,8),et$1.bind(void 0,1),et$1.bind(void 0,2),et$1.bind(void 0,3),et$1.bind(void 0,4),et$1.bind(void 0,5),et$1.bind(void 0,6),et$1.bind(void 0,7),et$1.bind(void 0,8),D$1.bind(void 0,0,0,0,0,0),D$1.bind(void 0,0,0,0,0,1),D$1.bind(void 0,0,0,0,0,2),D$1.bind(void 0,0,0,0,0,3),D$1.bind(void 0,0,0,0,1,0),D$1.bind(void 0,0,0,0,1,1),D$1.bind(void 0,0,0,0,1,2),D$1.bind(void 0,0,0,0,1,3),D$1.bind(void 0,0,0,1,0,0),D$1.bind(void 0,0,0,1,0,1),D$1.bind(void 0,0,0,1,0,2),D$1.bind(void 0,0,0,1,0,3),D$1.bind(void 0,0,0,1,1,0),D$1.bind(void 0,0,0,1,1,1),D$1.bind(void 0,0,0,1,1,2),D$1.bind(void 0,0,0,1,1,3),D$1.bind(void 0,0,1,0,0,0),D$1.bind(void 0,0,1,0,0,1),D$1.bind(void 0,0,1,0,0,2),D$1.bind(void 0,0,1,0,0,3),D$1.bind(void 0,0,1,0,1,0),D$1.bind(void 0,0,1,0,1,1),D$1.bind(void 0,0,1,0,1,2),D$1.bind(void 0,0,1,0,1,3),D$1.bind(void 0,0,1,1,0,0),D$1.bind(void 0,0,1,1,0,1),D$1.bind(void 0,0,1,1,0,2),D$1.bind(void 0,0,1,1,0,3),D$1.bind(void 0,0,1,1,1,0),D$1.bind(void 0,0,1,1,1,1),D$1.bind(void 0,0,1,1,1,2),D$1.bind(void 0,0,1,1,1,3),D$1.bind(void 0,1,0,0,0,0),D$1.bind(void 0,1,0,0,0,1),D$1.bind(void 0,1,0,0,0,2),D$1.bind(void 0,1,0,0,0,3),D$1.bind(void 0,1,0,0,1,0),D$1.bind(void 0,1,0,0,1,1),D$1.bind(void 0,1,0,0,1,2),D$1.bind(void 0,1,0,0,1,3),D$1.bind(void 0,1,0,1,0,0),D$1.bind(void 0,1,0,1,0,1),D$1.bind(void 0,1,0,1,0,2),D$1.bind(void 0,1,0,1,0,3),D$1.bind(void 0,1,0,1,1,0),D$1.bind(void 0,1,0,1,1,1),D$1.bind(void 0,1,0,1,1,2),D$1.bind(void 0,1,0,1,1,3),D$1.bind(void 0,1,1,0,0,0),D$1.bind(void 0,1,1,0,0,1),D$1.bind(void 0,1,1,0,0,2),D$1.bind(void 0,1,1,0,0,3),D$1.bind(void 0,1,1,0,1,0),D$1.bind(void 0,1,1,0,1,1),D$1.bind(void 0,1,1,0,1,2),D$1.bind(void 0,1,1,0,1,3),D$1.bind(void 0,1,1,1,0,0),D$1.bind(void 0,1,1,1,0,1),D$1.bind(void 0,1,1,1,0,2),D$1.bind(void 0,1,1,1,0,3),D$1.bind(void 0,1,1,1,1,0),D$1.bind(void 0,1,1,1,1,1),D$1.bind(void 0,1,1,1,1,2),D$1.bind(void 0,1,1,1,1,3)];function Gt$2(t){this.char=t,this.state={},this.activeState=null}function Ms(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function Jd(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function ke$1(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function ir(t){this.eventId=t,this.subscribers=[]}function ep(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(g){Object.defineProperty(e.events,g,{value:new ir(g)})}),t&&n.forEach(function(g){var $=t[g];typeof $=="function"&&e.events[g].subscribe($)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(g){e.events[g].subscribe(e.updateContextsRanges)})}function te$2(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],ep.call(this,t)}Gt$2.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Gt$2.prototype.getState=function(t){return this.state[t]||null};te$2.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};te$2.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function($){return e[$[0]].apply(e,$.slice(1).concat(n))}),g=function($){return typeof $=="object"&&$.hasOwnProperty("FAIL")};if(r.every(g))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(g)};this.dispatch("composeRUD",[r.filter(function($){return!g($)})])};te$2.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var g=n.every(function(y){return y instanceof Gt$2});if(!isNaN(t)&&this.inboundIndex(t)&&g){var $=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[$,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};te$2.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Gt$2){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};te$2.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};te$2.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};te$2.prototype.insertToken=function(t,e,n){var r=t.every(function(g){return g instanceof Gt$2});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};te$2.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,g){var $=[r,g],y=e===null||e.apply(this,$)===!0,k=[r,g];if(y){var L=n.apply(this,k);r.setState(t,L)}}),this.registeredModifiers.push(t)};ir.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};ir.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};ke$1.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};ke$1.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};te$2.prototype.rangeToText=function(t){if(t instanceof Ms)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};te$2.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};te$2.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};te$2.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};te$2.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof ir&&r.subscribers.forEach(function(g){g.apply(n,e||[])})};te$2.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new Jd(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};te$2.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};te$2.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};te$2.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};te$2.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new ke$1(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};te$2.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new Ms(n,t,e),g=this.getContext(e).ranges;return r.rangeId=e+"."+g.length,g.push(r),this.getContext(e).openRange=null,r};te$2.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var g=r.contextName,$=e.getContext(g).openRange;if(!$&&r.checkStart(t)&&($=new Ms(n,null,g),e.getContext(g).openRange=$,e.dispatch("contextStart",[g,n])),$&&r.checkEnd(t)){var y=n-$.startIndex+1,k=e.setEndOffset(y,g);e.dispatch("contextEnd",[g,k])}})};te$2.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],g=new ke$1(e,n);this.dispatch("next",[g]),this.runContextCheck(g);var $=new Gt$2(r);this.tokens.push($),this.dispatch("newToken",[$,g])}return this.dispatch("end",[this.tokens]),this.tokens};function at$1(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function Fo$1(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function ct$1(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function Gn$1(t){return/[A-z]/.test(t)}function tp(t){return/\s/.test(t)}function we$2(t){this.font=t,this.features={}}function mt$1(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function bn$1(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var g=n[r];if(t>=g.start&&t<=g.end){var $=t-g.start;return g.index+$}}break;default:return-1}return-1}function np(t,e){var n=bn$1(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function rp(t,e){var n=bn$1(t,e.coverage);return n===-1?null:e.substitute[n]}function _r(t,e){for(var n=[],r=0;r<t.length;r++){var g=t[r],$=e.current;$=Array.isArray($)?$[0]:$;var y=bn$1($,g);y!==-1&&n.push(y)}return n.length!==t.length?-1:n}function sp(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=_r(e.inputCoverage,t);if(r===-1)return[];var g=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var $=t.lookahead.slice(g);$.length&&ct$1($[0].char);)$.shift();var y=new ke$1($,0),k=_r(e.lookaheadCoverage,y),L=[].concat(t.backtrack);for(L.reverse();L.length&&ct$1(L[0].char);)L.shift();if(L.length<e.backtrackCoverage.length)return[];var V=new ke$1(L,0),z=_r(e.backtrackCoverage,V),j=r.length===e.inputCoverage.length&&k.length===e.lookaheadCoverage.length&&z.length===e.backtrackCoverage.length,ie=[];if(j)for(var Oe=0;Oe<e.lookupRecords.length;Oe++)for(var ur=e.lookupRecords[Oe],hr=ur.lookupListIndex,Vr=this.getLookupByIndex(hr),dr=0;dr<Vr.subtables.length;dr++){var ec=Vr.subtables[dr],tc=this.getLookupMethod(Vr,ec),Xs=this.getSubstitutionType(Vr,ec);if(Xs==="12")for(var rc=0;rc<r.length;rc++){var ic=t.get(rc),_c=tc(ic);_c&&ie.push(_c)}}return ie}function ip(t,e){var n=t.current,r=bn$1(n,e.coverage);if(r===-1)return null;for(var g,$=e.ligatureSets[r],y=0;y<$.length;y++){g=$[y];for(var k=0;k<g.components.length;k++){var L=t.lookahead[k],V=g.components[k];if(L!==V)break;if(k===g.components.length-1)return g}}return null}function ap(t,e){var n=bn$1(t,e.coverage);return n===-1?null:e.sequences[n]}we$2.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};we$2.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var g=n[r];if(g.tag===t&&g.script.defaultLangSys)return g.script.defaultLangSys.featureIndexes;var $=g.langSysRecords;if($)for(var y=0;y<$.length;y++){var k=$[y];if(k.tag===t){var L=k.langSys;return L.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};we$2.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var g=t[r].tag,$=t[r].feature;n[g]=$}this.features[e].tags=n};we$2.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(g){return r.features[g]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};we$2.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};we$2.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(g){return np.apply(n,[g,e])};case"12":return function(g){return rp.apply(n,[g,e])};case"63":return function(g){return sp.apply(n,[g,e])};case"41":return function(g){return ip.apply(n,[g,e])};case"21":return function(g){return ap.apply(n,[g,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};we$2.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var g=this.getFeatureLookups(r),$=[].concat(e.context),y=0;y<g.length;y++)for(var k=g[y],L=this.getLookupSubtables(k),V=0;V<L.length;V++){var z=L[V],j=this.getSubstitutionType(k,z),ie=this.getLookupMethod(k,z),Oe=void 0;switch(j){case"11":Oe=ie(e.current),Oe&&$.splice(n,1,new mt$1({id:11,tag:t.tag,substitution:Oe}));break;case"12":Oe=ie(e.current),Oe&&$.splice(n,1,new mt$1({id:12,tag:t.tag,substitution:Oe}));break;case"63":Oe=ie(e),Array.isArray(Oe)&&Oe.length&&$.splice(n,1,new mt$1({id:63,tag:t.tag,substitution:Oe}));break;case"41":Oe=ie(e),Oe&&$.splice(n,1,new mt$1({id:41,tag:t.tag,substitution:Oe}));break;case"21":Oe=ie(e.current),Oe&&$.splice(n,1,new mt$1({id:21,tag:t.tag,substitution:Oe}));break}e=new ke$1($,n),!(Array.isArray(Oe)&&!Oe.length)&&(Oe=null)}return $.length?$:null};we$2.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};we$2.prototype.getLookupSubtables=function(t){return t.subtables||null};we$2.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};we$2.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};we$2.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var e=this.features[t.script];return e?e.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function op(t){var e=t.current,n=t.get(-1);return n===null&&at$1(e)||!at$1(n)&&at$1(e)}function cp(t){var e=t.get(1);return e===null||!at$1(e)}var lp={startCheck:op,endCheck:cp};function hp(t){var e=t.current,n=t.get(-1);return(at$1(e)||ct$1(e))&&!at$1(n)}function up(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!at$1(e)&&!ct$1(e)):var n=tp(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(g){return at$1(g)||ct$1(g)}),!r)return!0}break;default:return!1}}var dp={startCheck:hp,endCheck:up};function pp(t,e,n){e[n].setState(t.tag,t.substitution)}function fp(t,e,n){e[n].setState(t.tag,t.substitution)}function gp(t,e,n){t.substitution.forEach(function(r,g){var $=e[n+g];$.setState(t.tag,r)})}function mp(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var g=t.substitution.components.length,$=0;$<g;$++)r=e[n+$+1],r.setState("deleted",!0)}var Vi$1={11:pp,12:fp,63:gp,41:mp};function ks(t,e,n){t instanceof mt$1&&Vi$1[t.id]&&Vi$1[t.id](t,e,n)}function yp(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],g=Fo$1(r),$=ct$1(r);if(!g&&!$)return!0;if(g)return!1}return!1}function bp(t){if(Fo$1(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=ct$1(n);if(!r)return!0}return!1}function vp(t){var e=this,n="arab",r=this.featuresTags[n],g=this.tokenizer.getRangeTokens(t);if(g.length!==1){var $=new ke$1(g.map(function(k){return k.getState("glyphIndex")}),0),y=new ke$1(g.map(function(k){return k.char}),0);g.forEach(function(k,L){if(!ct$1(k.char)){$.setCurrentIndex(L),y.setCurrentIndex(L);var V=0;yp(y)&&(V|=1),bp(y)&&(V|=2);var z;switch(V){case 1:z="fina";break;case 2:z="init";break;case 3:z="medi";break}if(r.indexOf(z)!==-1){var j=e.query.lookupFeature({tag:z,script:n,contextParams:$});if(j instanceof Error)return console.info(j.message);j.forEach(function(ie,Oe){ie instanceof mt$1&&(ks(ie,g,Oe),$.context[Oe]=ie.substitution)})}}})}}function Hi(t,e){var n=t.map(function(r){return r.activeState.value});return new ke$1(n,0)}function xp(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),g=Hi(r);g.context.forEach(function($,y){g.setCurrentIndex(y);var k=e.query.lookupFeature({tag:"rlig",script:n,contextParams:g});k.length&&(k.forEach(function(L){return ks(L,r,y)}),g=Hi(r))})}function wp(t){var e=t.current,n=t.get(-1);return n===null&&Gn$1(e)||!Gn$1(n)&&Gn$1(e)}function Sp(t){var e=t.get(1);return e===null||!Gn$1(e)}var _p={startCheck:wp,endCheck:Sp};function Wi(t,e){var n=t.map(function(r){return r.activeState.value});return new ke$1(n,0)}function Cp(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),g=Wi(r);g.context.forEach(function($,y){g.setCurrentIndex(y);var k=e.query.lookupFeature({tag:"liga",script:n,contextParams:g});k.length&&(k.forEach(function(L){return ks(L,r,y)}),g=Wi(r))})}function Ae$2(t){this.baseDir=t||"ltr",this.tokenizer=new te$2,this.featuresTags={}}Ae$2.prototype.setText=function(t){this.text=t};Ae$2.prototype.contextChecks={latinWordCheck:_p,arabicWordCheck:lp,arabicSentenceCheck:dp};function Cr(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function Tp(){return Cr.call(this,"latinWord"),Cr.call(this,"arabicWord"),Cr.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Ip(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}Ae$2.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(g){return n.query.supports({script:t,tag:g})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};Ae$2.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new we$2(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};Ae$2.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function Ls(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Ep(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){Ls.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){vp.call(t,r)})}}function Mp(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){Ls.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(g){xp.call(t,g)})}}}function kp(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){Ls.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(g){Cp.call(t,g)})}}}Ae$2.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};Ae$2.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Ep.call(this),Mp.call(this)),this.checkContextReady("latinWord")&&kp.call(this),this.checkContextReady("arabicSentence")&&Ip.call(this)};Ae$2.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),Tp.call(this),this.applyFeaturesToContexts())};Ae$2.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};Ae$2.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var g=r.activeState.value;e.push(Array.isArray(g)?g[0]:g)}}return e};function W$2(t){t=t||{},t.tables=t.tables||{},t.empty||(Vt$2(t.familyName,"When creating a new Font object, familyName is required."),Vt$2(t.styleName,"When creating a new Font object, styleName is required."),Vt$2(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Vt$2(t.ascender,"When creating a new Font object, ascender is required."),Vt$2(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new Ve$1.GlyphSet(this,t.glyphs||[]),this.encoding=new no$1(this),this.position=new gn$2(this),this.substitution=new xe$1(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Po(this)}})}W$2.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};W$2.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};W$2.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};W$2.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};W$2.prototype.stringToGlyphs=function(t,e){var n=this,r=new Ae$2,g=function(j){return n.charToGlyphIndex(j.char)};r.registerModifier("glyphIndex",null,g);var $=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,$);for(var y=r.getTextGlyphs(t),k=y.length,L=new Array(k),V=this.glyphs.get(0),z=0;z<k;z+=1)L[z]=this.glyphs.get(y[z])||V;return L};W$2.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};W$2.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};W$2.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};W$2.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};W$2.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};W$2.prototype.forEachGlyph=function(t,e,n,r,g,$){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,g=Object.assign({},this.defaultRenderOptions,g);var y=1/this.unitsPerEm*r,k=this.stringToGlyphs(t,g),L;if(g.kerning){var V=g.script||this.position.getDefaultScriptName();L=this.position.getKerningTables(V,g.language)}for(var z=0;z<k.length;z+=1){var j=k[z];if($.call(this,j,e,n,r,g),j.advanceWidth&&(e+=j.advanceWidth*y),g.kerning&&z<k.length-1){var ie=L?this.position.getKerningValue(L,j.index,k[z+1].index):this.getKerningValue(j,k[z+1]);e+=ie*y}g.letterSpacing?e+=g.letterSpacing*r:g.tracking&&(e+=g.tracking/1e3*r)}return e};W$2.prototype.getPath=function(t,e,n,r,g){var $=new le;return this.forEachGlyph(t,e,n,r,g,function(y,k,L,V){var z=y.getPath(k,L,V,g,this);$.extend(z)}),$};W$2.prototype.getPaths=function(t,e,n,r,g){var $=[];return this.forEachGlyph(t,e,n,r,g,function(y,k,L,V){var z=y.getPath(k,L,V,g,this);$.push(z)}),$};W$2.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};W$2.prototype.draw=function(t,e,n,r,g,$){this.getPath(e,n,r,g,$).draw(t)};W$2.prototype.drawPoints=function(t,e,n,r,g,$){this.forEachGlyph(e,n,r,g,$,function(y,k,L,V){y.drawPoints(t,k,L,V)})};W$2.prototype.drawMetrics=function(t,e,n,r,g,$){this.forEachGlyph(e,n,r,g,$,function(y,k,L,V){y.drawMetrics(t,k,L,V)})};W$2.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};W$2.prototype.validate=function(){var t=this;function e(n){var r=t.getEnglishName(n);r&&r.trim().length>0}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),this.unitsPerEm>0};W$2.prototype.toTables=function(){return mu.fontToTable(this)};W$2.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};W$2.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),g=0;g<e.length;g++)r[g]=e[g];return n};W$2.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(bu())if(window.URL=window.URL||window.webkitURL,window.URL){var g=new DataView(r),$=new Blob([g],{type:"font/opentype"}),y=document.createElement("a");y.href=window.URL.createObjectURL($),y.download=t;var k=document.createEvent("MouseEvents");k.initEvent("click",!0,!1),y.dispatchEvent(k)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var L=require("fs"),V=vu(r);L.writeFileSync(t,V)}};W$2.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};W$2.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};W$2.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function No$1(t,e){var n=JSON.stringify(t),r=256;for(var g in e){var $=parseInt(g);if(!(!$||$<256)){if(JSON.stringify(e[g])===n)return $;r<=$&&(r=$+1)}}return e[r]=t,r}function Lp(t,e,n){var r=No$1(e.name,n);return[{name:"tag_"+t,type:"TAG",value:e.tag},{name:"minValue_"+t,type:"FIXED",value:e.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:e.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:e.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:r}]}function Bp(t,e,n){var r={},g=new R$1.Parser(t,e);return r.tag=g.parseTag(),r.minValue=g.parseFixed(),r.defaultValue=g.parseFixed(),r.maxValue=g.parseFixed(),g.skip("uShort",1),r.name=n[g.parseUShort()]||{},r}function Ap(t,e,n,r){for(var g=No$1(e.name,r),$=[{name:"nameID_"+t,type:"USHORT",value:g},{name:"flags_"+t,type:"USHORT",value:0}],y=0;y<n.length;++y){var k=n[y].tag;$.push({name:"axis_"+t+" "+k,type:"FIXED",value:e.coordinates[k]<<16})}return $}function Op(t,e,n,r){var g={},$=new R$1.Parser(t,e);g.name=r[$.parseUShort()]||{},$.skip("uShort",1),g.coordinates={};for(var y=0;y<n.length;++y)g.coordinates[n[y].tag]=$.parseFixed();return g}function Pp(t,e){var n=new P$2.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+t.axes.length*4}]);n.offsetToData=n.sizeOf();for(var r=0;r<t.axes.length;r++)n.fields=n.fields.concat(Lp(r,t.axes[r],e));for(var g=0;g<t.instances.length;g++)n.fields=n.fields.concat(Ap(g,t.instances[g],t.axes,e));return n}function Dp(t,e,n){var r=new R$1.Parser(t,e),g=r.parseULong();F$1.argument(g===65536,"Unsupported fvar table version.");var $=r.parseOffset16();r.skip("uShort",1);for(var y=r.parseUShort(),k=r.parseUShort(),L=r.parseUShort(),V=r.parseUShort(),z=[],j=0;j<y;j++)z.push(Bp(t,e+$+j*k,n));for(var ie=[],Oe=e+$+y*k,ur=0;ur<L;ur++)ie.push(Op(t,Oe+ur*V,z,n));return{axes:z,instances:ie}}var Rp={make:Pp,parse:Dp},Up=function(){return{coverage:this.parsePointer(E$2.coverage),attachPoints:this.parseList(E$2.pointer(E$2.uShortList))}},Fp=function(){var t=this.parseUShort();if(F$1.argument(t===1||t===2||t===3,"Unsupported CaretValue table version."),t===1)return{coordinate:this.parseShort()};if(t===2)return{pointindex:this.parseShort()};if(t===3)return{coordinate:this.parseShort()}},Np=function(){return this.parseList(E$2.pointer(Fp))},zp=function(){return{coverage:this.parsePointer(E$2.coverage),ligGlyphs:this.parseList(E$2.pointer(Np))}},Gp=function(){return this.parseUShort(),this.parseList(E$2.pointer(E$2.coverage))};function jp(t,e){e=e||0;var n=new E$2(t,e),r=n.parseVersion(1);F$1.argument(r===1||r===1.2||r===1.3,"Unsupported GDEF table version.");var g={version:r,classDef:n.parsePointer(E$2.classDef),attachList:n.parsePointer(Up),ligCaretList:n.parsePointer(zp),markAttachClassDef:n.parsePointer(E$2.classDef)};return r>=1.2&&(g.markGlyphSets=n.parsePointer(Gp)),g}var Vp={parse:jp},Le$1=new Array(10);Le$1[1]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{posFormat:1,coverage:this.parsePointer(E$2.coverage),value:this.parseValueRecord()};if(e===2)return{posFormat:2,coverage:this.parsePointer(E$2.coverage),values:this.parseValueRecordList()};F$1.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Le$1[2]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();F$1.assert(e===1||e===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(E$2.coverage),r=this.parseUShort(),g=this.parseUShort();if(e===1)return{posFormat:e,coverage:n,valueFormat1:r,valueFormat2:g,pairSets:this.parseList(E$2.pointer(E$2.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(g)}})))};if(e===2){var $=this.parsePointer(E$2.classDef),y=this.parsePointer(E$2.classDef),k=this.parseUShort(),L=this.parseUShort();return{posFormat:e,coverage:n,valueFormat1:r,valueFormat2:g,classDef1:$,classDef2:y,class1Count:k,class2Count:L,classRecords:this.parseList(k,E$2.list(L,function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(g)}}))}}};Le$1[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Le$1[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Le$1[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Le$1[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Le$1[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Le$1[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Le$1[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function Hp(t,e){e=e||0;var n=new E$2(t,e),r=n.parseVersion(1);return F$1.argument(r===1||r===1.1,"Unsupported GPOS table version "+r),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Le$1)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Le$1),variations:n.parseFeatureVariationsList()}}var Wp=new Array(10);function $p(t){return new P$2.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new P$2.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new P$2.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new P$2.LookupList(t.lookups,Wp)}])}var qp={parse:Hp,make:$p};function Xp(t){var e={};t.skip("uShort");var n=t.parseUShort();F$1.argument(n===0,"Unsupported kern sub-table version."),t.skip("uShort",2);var r=t.parseUShort();t.skip("uShort",3);for(var g=0;g<r;g+=1){var $=t.parseUShort(),y=t.parseUShort(),k=t.parseShort();e[$+","+y]=k}return e}function Yp(t){var e={};t.skip("uShort");var n=t.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var r=t.parseUShort(),g=r&255;if(t.skip("uShort"),g===0){var $=t.parseUShort();t.skip("uShort",3);for(var y=0;y<$;y+=1){var k=t.parseUShort(),L=t.parseUShort(),V=t.parseShort();e[k+","+L]=V}}return e}function Zp(t,e){var n=new R$1.Parser(t,e),r=n.parseUShort();if(r===0)return Xp(n);if(r===1)return Yp(n);throw new Error("Unsupported kern table version ("+r+").")}var Kp={parse:Zp};function Qp(t,e,n,r){for(var g=new R$1.Parser(t,e),$=r?g.parseUShort:g.parseULong,y=[],k=0;k<n+1;k+=1){var L=$.call(g);r&&(L*=2),y.push(L)}return y}var Jp={parse:Qp};function $i$1(t,e){for(var n=[],r=12,g=0;g<e;g+=1){var $=R$1.getTag(t,r),y=R$1.getULong(t,r+4),k=R$1.getULong(t,r+8),L=R$1.getULong(t,r+12);n.push({tag:$,checksum:y,offset:k,length:L,compression:!1}),r+=16}return n}function ef(t,e){for(var n=[],r=44,g=0;g<e;g+=1){var $=R$1.getTag(t,r),y=R$1.getULong(t,r+4),k=R$1.getULong(t,r+8),L=R$1.getULong(t,r+12),V=void 0;k<L?V="WOFF":V=!1,n.push({tag:$,offset:y,compression:V,compressedLength:k,length:L}),r+=20}return n}function re(t,e){if(e.compression==="WOFF"){var n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.length);if(ql$1(n,r),r.byteLength!==e.length)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");var g=new DataView(r.buffer,0);return{data:g,offset:0}}else return{data:t,offset:e.offset}}function tf(t,e){e=e??{};var n,r,g=new W$2({empty:!0}),$=new DataView(t,0),y,k=[],L=R$1.getTag($,0);if(L==="\0\0\0"||L==="true"||L==="typ1")g.outlinesFormat="truetype",y=R$1.getUShort($,4),k=$i$1($,y);else if(L==="OTTO")g.outlinesFormat="cff",y=R$1.getUShort($,4),k=$i$1($,y);else if(L==="wOFF"){var V=R$1.getTag($,4);if(V==="\0\0\0")g.outlinesFormat="truetype";else if(V==="OTTO")g.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+L);y=R$1.getUShort($,12),k=ef($,y)}else throw new Error("Unsupported OpenType signature "+L);for(var z,j,ie,Oe,ur,hr,Vr,dr,ec,tc,Xs,rc,ic=0;ic<y;ic+=1){var _c=k[ic],qm=void 0;switch(_c.tag){case"cmap":qm=re($,_c),g.tables.cmap=to$1.parse(qm.data,qm.offset),g.encoding=new ro$1(g.tables.cmap);break;case"cvt ":qm=re($,_c),rc=new R$1.Parser(qm.data,qm.offset),g.tables.cvt=rc.parseShortList(_c.length/2);break;case"fvar":j=_c;break;case"fpgm":qm=re($,_c),rc=new R$1.Parser(qm.data,qm.offset),g.tables.fpgm=rc.parseByteList(_c.length);break;case"head":qm=re($,_c),g.tables.head=fo$1.parse(qm.data,qm.offset),g.unitsPerEm=g.tables.head.unitsPerEm,n=g.tables.head.indexToLocFormat;break;case"hhea":qm=re($,_c),g.tables.hhea=go$1.parse(qm.data,qm.offset),g.ascender=g.tables.hhea.ascender,g.descender=g.tables.hhea.descender,g.numberOfHMetrics=g.tables.hhea.numberOfHMetrics;break;case"hmtx":Vr=_c;break;case"ltag":qm=re($,_c),r=yo$1.parse(qm.data,qm.offset);break;case"maxp":qm=re($,_c),g.tables.maxp=bo$1.parse(qm.data,qm.offset),g.numGlyphs=g.tables.maxp.numGlyphs;break;case"name":tc=_c;break;case"OS/2":qm=re($,_c),g.tables.os2=os.parse(qm.data,qm.offset);break;case"post":qm=re($,_c),g.tables.post=Co$1.parse(qm.data,qm.offset),g.glyphNames=new Cs(g.tables.post);break;case"prep":qm=re($,_c),rc=new R$1.Parser(qm.data,qm.offset),g.tables.prep=rc.parseByteList(_c.length);break;case"glyf":ie=_c;break;case"loca":ec=_c;break;case"CFF ":z=_c;break;case"kern":dr=_c;break;case"GDEF":Oe=_c;break;case"GPOS":ur=_c;break;case"GSUB":hr=_c;break;case"meta":Xs=_c;break}}var Xm=re($,tc);if(g.tables.name=_o$1.parse(Xm.data,Xm.offset,r),g.names=g.tables.name,ie&&ec){var Km=n===0,tv=re($,ec),nv=Jp.parse(tv.data,tv.offset,g.numGlyphs,Km),sv=re($,ie);g.glyphs=Bo$1.parse(sv.data,sv.offset,nv,g,e)}else if(z){var gv=re($,z);po$1.parse(gv.data,gv.offset,g,e)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var Sv=re($,Vr);if(mo$1.parse(g,Sv.data,Sv.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs,e),fh(g,e),dr){var wv=re($,dr);g.kerningPairs=Kp.parse(wv.data,wv.offset)}else g.kerningPairs={};if(Oe){var rv=re($,Oe);g.tables.gdef=Vp.parse(rv.data,rv.offset)}if(ur){var Jm=re($,ur);g.tables.gpos=qp.parse(Jm.data,Jm.offset),g.position.init()}if(hr){var dv=re($,hr);g.tables.gsub=To$1.parse(dv.data,dv.offset)}if(j){var pv=re($,j);g.tables.fvar=Rp.parse(pv.data,pv.offset,g.names)}if(Xs){var mv=re($,Xs);g.tables.meta=Io$1.parse(mv.data,mv.offset),g.metas=g.tables.meta}return g}function qi(t,e=!1){const n=t[0].index!==null,r=new Set(Object.keys(t[0].attributes)),g=new Set(Object.keys(t[0].morphAttributes)),$={},y={},k=t[0].morphTargetsRelative,L=new BufferGeometry;let V=0;for(let z=0;z<t.length;++z){const j=t[z];let ie=0;if(n!==(j.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const Oe in j.attributes){if(!r.has(Oe))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+'. All geometries must have compatible attributes; make sure "'+Oe+'" attribute exists among all geometries, or in none of them.'),null;$[Oe]===void 0&&($[Oe]=[]),$[Oe].push(j.attributes[Oe]),ie++}if(ie!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". Make sure all geometries have the same number of attributes."),null;if(k!==j.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const Oe in j.morphAttributes){if(!g.has(Oe))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+".  .morphAttributes must be consistent throughout all geometries."),null;y[Oe]===void 0&&(y[Oe]=[]),y[Oe].push(j.morphAttributes[Oe])}if(e){let Oe;if(n)Oe=j.index.count;else if(j.attributes.position!==void 0)Oe=j.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+z+". The geometry must have either an index or a position attribute"),null;L.addGroup(V,Oe,z),V+=Oe}}if(n){let z=0;const j=[];for(let ie=0;ie<t.length;++ie){const Oe=t[ie].index;for(let ur=0;ur<Oe.count;++ur)j.push(Oe.getX(ur)+z);z+=t[ie].attributes.position.count}L.setIndex(j)}for(const z in $){const j=Xi($[z]);if(!j)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+z+" attribute."),null;L.setAttribute(z,j)}for(const z in y){const j=y[z][0].length;if(j===0)break;L.morphAttributes=L.morphAttributes||{},L.morphAttributes[z]=[];for(let ie=0;ie<j;++ie){const Oe=[];for(let hr=0;hr<y[z].length;++hr)Oe.push(y[z][hr][ie]);const ur=Xi(Oe);if(!ur)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+z+" morphAttribute."),null;L.morphAttributes[z].push(ur)}}return L}function Xi(t){let e,n,r,g=-1,$=0;for(let V=0;V<t.length;++V){const z=t[V];if(e===void 0&&(e=z.array.constructor),e!==z.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=z.itemSize),n!==z.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=z.normalized),r!==z.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(g===-1&&(g=z.gpuType),g!==z.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;$+=z.count*n}const y=new e($),k=new BufferAttribute(y,n,r);let L=0;for(let V=0;V<t.length;++V){const z=t[V];if(z.isInterleavedBufferAttribute){const j=L/n;for(let ie=0,Oe=z.count;ie<Oe;ie++)for(let ur=0;ur<n;ur++){const hr=z.getComponent(ie,ur);k.setComponent(ie+j,ur,hr)}}else y.set(z.array,L);L+=z.count*n}return g!==void 0&&(k.gpuType=g),k}function nf(t,e=1e-4){e=Math.max(e,Number.EPSILON);const n={},r=t.getIndex(),g=t.getAttribute("position"),$=r?r.count:g.count;let y=0;const k=Object.keys(t.attributes),L={},V={},z=[],j=["getX","getY","getZ","getW"],ie=["setX","setY","setZ","setW"];for(let ec=0,tc=k.length;ec<tc;ec++){const Xs=k[ec],rc=t.attributes[Xs];L[Xs]=new rc.constructor(new rc.array.constructor(rc.count*rc.itemSize),rc.itemSize,rc.normalized);const ic=t.morphAttributes[Xs];ic&&(V[Xs]||(V[Xs]=[]),ic.forEach((_c,qm)=>{const Xm=new _c.array.constructor(_c.count*_c.itemSize);V[Xs][qm]=new _c.constructor(Xm,_c.itemSize,_c.normalized)}))}const Oe=e*.5,ur=Math.log10(1/e),hr=Math.pow(10,ur),Vr=Oe*hr;for(let ec=0;ec<$;ec++){const tc=r?r.getX(ec):ec;let Xs="";for(let rc=0,ic=k.length;rc<ic;rc++){const _c=k[rc],qm=t.getAttribute(_c),Xm=qm.itemSize;for(let Km=0;Km<Xm;Km++)Xs+=`${~~(qm[j[Km]](tc)*hr+Vr)},`}if(Xs in n)z.push(n[Xs]);else{for(let rc=0,ic=k.length;rc<ic;rc++){const _c=k[rc],qm=t.getAttribute(_c),Xm=t.morphAttributes[_c],Km=qm.itemSize,tv=L[_c],nv=V[_c];for(let sv=0;sv<Km;sv++){const gv=j[sv],Sv=ie[sv];if(tv[Sv](y,qm[gv](tc)),Xm)for(let wv=0,rv=Xm.length;wv<rv;wv++)nv[wv][Sv](y,Xm[wv][gv](tc))}}n[Xs]=y,z.push(y),y++}}const dr=t.clone();for(const ec in t.attributes){const tc=L[ec];if(dr.setAttribute(ec,new tc.constructor(tc.array.slice(0,y*tc.itemSize),tc.itemSize,tc.normalized)),ec in V)for(let Xs=0;Xs<V[ec].length;Xs++){const rc=V[ec][Xs];dr.morphAttributes[ec][Xs]=new rc.constructor(rc.array.slice(0,y*rc.itemSize),rc.itemSize,rc.normalized)}}return dr.setIndex(z),dr}new Vector2;class Yi extends Va$1{constructor(e,n,r){super(),this.isFound=!1,this.char=e,this.fontSize=n,this.font=r,this.width=this.getCharWidth(e,n,r)}toGeometry(){let e=this.font.cache.getGeometry(this.char.charCodeAt(0),this.fontSize);if(e==null){const n=this.font.generateShapes(this.char,this.fontSize);return e=new ShapeGeometry(n,4),e.hasAttribute("uv")&&e.deleteAttribute("uv"),e.hasAttribute("normal")&&e.deleteAttribute("normal"),nf(e,1e-6)}return e}getCharWidth(e,n,r){const g=r.data.glyphs[e];return g?(this.isFound=!0,g.ha*n/r.data.resolution):(this.isFound=!1,0)}}class rf{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const r=[],g=sf(e,n,this.data);for(let $=0,y=g.length;$<y;$++)r.push(...g[$].toShapes());return r}}function sf(t,e,n){const r=Array.from(t),g=e/n.resolution,$=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*g,y=[];let k=0,L=0;for(let V=0;V<r.length;V++){const z=r[V];if(z===`
`)k=0,L-=$;else{const j=af(z,g,k,L,n);k+=j.offsetX,y.push(j.path)}}return y}function af(t,e,n,r,g){const $=g.glyphs[t]||g.glyphs["?"];if(!$){console.error('THREE.Font: character "'+t+'" does not exists in font family '+g.familyName+".");return}const y=new ShapePath;let k,L,V,z,j,ie,Oe,ur;if($.o){const hr=$._cachedOutline||($._cachedOutline=$.o.split(" "));for(let Vr=0,dr=hr.length;Vr<dr;)switch(hr[Vr++]){case"m":k=hr[Vr++]*e+n,L=hr[Vr++]*e+r,y.moveTo(k,L);break;case"l":k=hr[Vr++]*e+n,L=hr[Vr++]*e+r,y.lineTo(k,L);break;case"q":V=hr[Vr++]*e+n,z=hr[Vr++]*e+r,j=hr[Vr++]*e+n,ie=hr[Vr++]*e+r,y.quadraticCurveTo(j,ie,V,z);break;case"b":V=hr[Vr++]*e+n,z=hr[Vr++]*e+r,j=hr[Vr++]*e+n,ie=hr[Vr++]*e+r,Oe=hr[Vr++]*e+n,ur=hr[Vr++]*e+r,y.bezierCurveTo(j,ie,Oe,ur,V,z);break}}return{offsetX:$.ha*e,path:y}}class of extends rf{generateShapes(e,n=100,r="ltr"){const g=[];return cf(e,n,this.data,r).forEach($=>{g.push(...gf($))}),g}}function cf(t,e,n,r="ltr"){const g=Array.from(t),$=e/n.resolution,y=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*$,k=[];let L=0,V=0;(r==="rtl"||r==="tb")&&g.reverse();for(const z of g)if(z===`
`)L=0,V-=y;else{const j=lf(z,$,L,V,n);if(!j)continue;r==="tb"?(L=0,V+=n.ascender*$):L+=j.offsetX,k.push(j.path)}return k}function lf(t,e,n,r,g){const $=g.glyphs[t]||g.glyphs["?"];if(!$){console.error(`THREE.Font: character "${t}" does not exist in font family ${g.familyName}.`);return}const y=new ShapePath;if($.o){const k=$.o.split(" ");let L=0;for(;L<k.length;){const V=k[L++];let z,j,ie,Oe,ur,hr,Vr,dr;switch(V){case"m":z=parseFloat(k[L++])*e+n,j=parseFloat(k[L++])*e+r,y.moveTo(z,j);break;case"l":z=parseFloat(k[L++])*e+n,j=parseFloat(k[L++])*e+r,y.lineTo(z,j);break;case"q":ie=parseFloat(k[L++])*e+n,Oe=parseFloat(k[L++])*e+r,ur=parseFloat(k[L++])*e+n,hr=parseFloat(k[L++])*e+r,y.quadraticCurveTo(ur,hr,ie,Oe);break;case"b":ie=parseFloat(k[L++])*e+n,Oe=parseFloat(k[L++])*e+r,ur=parseFloat(k[L++])*e+n,hr=parseFloat(k[L++])*e+r,Vr=parseFloat(k[L++])*e+n,dr=parseFloat(k[L++])*e+r,y.bezierCurveTo(ur,hr,Vr,dr,ie,Oe);break}}}return{offsetX:$.ha*e,path:y}}function hf(t,e){let n=!1;const{x:r,y:g}=t,$=e.length;for(let y=0,k=$-1;y<$;k=y++){const L=e[y].x,V=e[y].y,z=e[k].x,j=e[k].y;V>g!=j>g&&r<(z-L)*(g-V)/(j-V)+L&&(n=!n)}return n}function uf(t){const e=t.length,n=Array(e).fill(null);for(let r=0;r<e;r++){let g=null,$=1/0;for(let y=0;y<e;y++)if(r!==y&&t[r].every(k=>hf(k,t[y]))){const k=Math.abs(ShapeUtils.area(t[y]));k<$&&($=k,g=y)}n[r]=g}return n}function df(t){const e=t.length,n=Array.from({length:e},()=>[]);for(let r=0;r<e;r++){const g=t[r];g!==null&&n[g].push(r)}return n}function pf(t){return t.map((e,n)=>e===null?n:-1).filter(e=>e>=0)}function ff(t){const e=[];for(let n=t.length-1;n>=0;n--){const r=t[n];if(r instanceof LineCurve)e.push(new LineCurve(r.v2.clone(),r.v1.clone()));else if(r instanceof QuadraticBezierCurve)e.push(new QuadraticBezierCurve(r.v2.clone(),r.v1.clone(),r.v0.clone()));else if(r instanceof CubicBezierCurve)e.push(new CubicBezierCurve(r.v3.clone(),r.v2.clone(),r.v1.clone(),r.v0.clone()));else if(r instanceof EllipseCurve)e.push(new EllipseCurve(r.aX,r.aY,r.xRadius,r.yRadius,r.aEndAngle,r.aStartAngle,!r.aClockwise,r.aRotation));else if(typeof r.getPoints=="function"){const g=r.getPoints(8);for(let $=g.length-1;$>0;$--)e.push(new LineCurve(g[$].clone(),g[$-1].clone()))}}return e}function Zi(t,e){const n=ShapeUtils.area(t.getPoints(32))>0,r=e===n?t.curves.slice():ff(t.curves),g=new Shape;return g.curves.push(...r),g}function gf(t,e=32){const n=t.subPaths;if(!n||n.length===0)return[];const r=n.map(Oe=>Oe.getPoints(e)),g=uf(r),$=df(g),y=pf(g),k=n.length,L=Array(k).fill(-1),V=Array(k).fill(-1);for(const Oe of y){const ur=[{idx:Oe,d:0}];for(;ur.length;){const hr=ur.pop();L[hr.idx]=hr.d,V[hr.idx]=Oe;for(const Vr of $[hr.idx])ur.push({idx:Vr,d:hr.d+1})}}const z=[],j=new Set;function ie(Oe){const ur=Zi(n[Oe],!0);j.add(Oe);for(const hr of $[Oe])if(!j.has(hr)&&L[hr]===L[Oe]+1){const Vr=Zi(n[hr],!1);ur.holes.push(Vr),j.add(hr)}z.push(ur)}for(const Oe of y)ie(Oe);for(let Oe=0;Oe<k;Oe++)j.has(Oe)||ie(Oe);return z}class mf{constructor(e=512){this.maxSize=e,this.map=new Map}get(e){const n=this.map.get(e);return n&&(this.map.delete(e),this.map.set(e,n)),n}set(e,n){if(this.map.has(e))this.map.delete(e);else if(this.map.size>=this.maxSize){const r=this.map.keys().next().value;r!==void 0&&this.map.delete(r)}this.map.set(e,n)}has(e){return this.map.has(e)}clear(){this.map.clear()}}class yf extends ja$1{constructor(e){super(e),this.type="mesh",this.glyphCache=new mf(512);const n=e.data;if(n instanceof ArrayBuffer){const r=this.parseMeshFont(n);this.data=r.data,this.opentypeFont=r.font}else throw new Error("Invalid font cache data. Please remove font cache database named 'mlightcad' in IndexedDB and try again!");this.font=new of(this.data)}parseMeshFont(e){const n=tf(e),r=Math.round,g=n.charToGlyph("A"),$=g?n.unitsPerEm/(g.yMax||n.unitsPerEm):1,y={glyphs:{},familyName:n.getEnglishName("fullName"),ascender:r(n.ascender),descender:r(n.descender),underlinePosition:n.tables.post.underlinePosition,underlineThickness:n.tables.post.underlineThickness,boundingBox:{xMin:n.tables.head.xMin,xMax:n.tables.head.xMax,yMin:n.tables.head.yMin,yMax:n.tables.head.yMax},resolution:n.unitsPerEm||1e3,scaleFactor:$,original_font_information:n.tables.name};return{font:n,data:y}}hasChar(e){return this.opentypeFont.hasChar(e)}hasCode(e){return this.hasChar(String.fromCodePoint(e))}_loadGlyphIfNeeded(e){if(this.data.glyphs[e]||!this.opentypeFont)return;const n=this.glyphCache.get(e);if(n){this.data.glyphs[e]=n;return}const r=this.opentypeFont.charToGlyph(e);if(!r||!r.path)return;const g=Math.round,$={ha:g(r.advanceWidth??0),x_min:g(r.xMin??0),x_max:g(r.xMax??0),o:""};r.path.commands.forEach(y=>{let k=y.type.toLowerCase();k==="c"&&(k="b"),$.o+=k+" ",y.x!==void 0&&y.y!==void 0&&($.o+=g(y.x)+" "+g(y.y)+" "),y.x1!==void 0&&y.y1!==void 0&&($.o+=g(y.x1)+" "+g(y.y1)+" "),y.x2!==void 0&&y.y2!==void 0&&($.o+=g(y.x2)+" "+g(y.y2)+" ")}),this.data.glyphs[e]=$,this.glyphCache.set(e,$)}generateShapes(e,n){for(const r of e)this._loadGlyphIfNeeded(r);return this.font.generateShapes(e,n)}getCharShape(e,n){if(this._loadGlyphIfNeeded(e),!this.data.glyphs[e]){this.addUnsupportedChar(e);return}return new Yi(e,n,this)}getCodeShape(e,n){return this.getCharShape(String.fromCodePoint(e),n)}getScaleFactor(){return this.scaleFactor==null?(this.scaleFactor=this.data.scaleFactor,this.scaleFactor):this.scaleFactor}getNotFoundTextShape(e){return new Yi("?",e,this)}}let fe$2=class{static byteToSByte(e){return(e&127)-(e&128?128:0)}constructor(e){this.position=0,this.data=new DataView(e)}readBytes(e=1){this.data.byteLength<this.position+e&&this.throwOutOfRangeError(this.position+e);const n=new Uint8Array(this.data.buffer,this.position,e);return this.position+=e,n}skip(e){this.data.byteLength<this.position+e&&this.throwOutOfRangeError(this.position+e),this.position+=e}readUint8(){this.data.byteLength<this.position+1&&this.throwOutOfRangeError(this.position+1);const e=this.data.getUint8(this.position);return this.position+=1,e}readInt8(){this.data.byteLength<this.position+1&&this.throwOutOfRangeError(this.position+1);const e=this.data.getInt8(this.position);return this.position+=1,e}readUint16(e=!0){this.data.byteLength<this.position+2&&this.throwOutOfRangeError(this.position+2);const n=this.data.getUint16(this.position,e);return this.position+=2,n}readInt16(){this.data.byteLength<this.position+2&&this.throwOutOfRangeError(this.position+2);const e=this.data.getInt16(this.position,!0);return this.position+=2,e}readUint32(){this.data.byteLength<this.position+4&&this.throwOutOfRangeError(this.position+4);const e=this.data.getUint32(this.position,!0);return this.position+=4,e}readInt32(){this.data.byteLength<this.position+4&&this.throwOutOfRangeError(this.position+4);const e=this.data.getInt32(this.position,!0);return this.position+=4,e}readFloat32(){this.data.byteLength<this.position+4&&this.throwOutOfRangeError(this.position+4);const e=this.data.getFloat32(this.position,!0);return this.position+=4,e}readFloat64(){this.data.byteLength<this.position+8&&this.throwOutOfRangeError(this.position+8);const e=this.data.getFloat64(this.position,!0);return this.position+=8,e}setPosition(e){this.data.byteLength<e&&this.throwOutOfRangeError(e),this.position=e}isEnd(){return this.position===this.data.byteLength-1}get currentPosition(){return this.position}get length(){return this.data.byteLength}throwOutOfRangeError(e){throw new Error(`Position ${e} is out of range for the data length ${this.data.byteLength}!`)}};var me$2=(t=>(t.SHAPES="shapes",t.BIGFONT="bigfont",t.UNIFONT="unifont",t))(me$2||{});class bf{parse(e){const n=this.parseHeader(e).split(" "),r=n[1].toLocaleLowerCase();if(!Object.values(me$2).includes(r))throw new Error(`Invalid font type: ${r}`);return{fileHeader:n[0],fontType:r,fileVersion:n[2]}}parseHeader(e){let n="",r=0;for(;e.currentPosition<e.length-2&&r<1024;){const g=e.readUint8();if(g===13){const $=e.currentPosition,y=e.readUint8(),k=e.readUint8();if(y===10&&k===26)break;e.setPosition($),n+=String.fromCharCode(g)}else n+=String.fromCharCode(g);r++}return n.trim()}}const Te$2=10,vf=[13,10,0];class xf{parse(e){try{e.readBytes(4);const n=e.readInt16();if(n<=0)throw new Error("Invalid shape count in font file");const r=[];for(let y=0;y<n;y++){const k=e.readUint16(),L=e.readUint16();L>0&&r.push({code:k,length:L})}const g={};for(const y of r)try{const k=e.readBytes(y.length);k.length===y.length&&(g[y.code]=k)}catch{console.warn(`Failed to read shape data for code ${y.code}`)}const $={data:g,info:"",baseUp:8,baseDown:2,height:Te$2,width:Te$2,orientation:"horizontal",isExtended:!1};if(0 in g){const y=g[0];try{const k=new TextDecoder().decode(y);let L=y.findIndex(V=>vf.includes(V));L>=0&&($.info=k.substring(0,L),L+3<y.length&&($.baseUp=y[L+1],$.baseDown=y[L+2],$.height=$.baseDown+$.baseUp,$.width=$.height,$.orientation=y[L+3]===0?"horizontal":"vertical"))}catch{console.warn("Failed to parse font info block")}}return $}catch(n){return console.error("Error parsing shape font:",n),{data:{},info:"Failed to parse font file",baseUp:8,baseDown:2,height:Te$2,width:Te$2,orientation:"horizontal",isExtended:!1}}}}class wf{parse(e){try{e.readInt16();const n=e.readInt16(),r=e.readInt16();if(n<=0)throw new Error("Invalid character count in font file");e.skip(r*4);const g=[];for(let k=0;k<n;k++){const L=e.readUint16(),V=e.readUint16(),z=e.readUint32();(L!==0||V!==0||z!==0)&&g.push({code:L,length:V,offset:z})}const $={};for(const k of g)try{e.setPosition(k.offset);const L=e.readBytes(k.length);L.length===k.length&&($[k.code]=L)}catch{console.warn(`Failed to read bigfont data for code ${k.code}`)}const y={data:$,info:"",baseUp:8,baseDown:2,height:Te$2,width:Te$2,orientation:"horizontal",isExtended:!1};if(0 in $){const k=$[0];try{const L=this.utf8ArrayToStr(k);let V=L.pos;V>=0&&(y.info=L.text,V++,V+3<k.length&&(k.length-V>4?(y.height=k[V++],V++,y.orientation=k[V++]===0?"horizontal":"vertical",y.width=k[V++],y.baseUp=y.height,y.baseDown=0,y.isExtended=!0):(y.baseUp=k[V++],y.baseDown=k[V++],y.height=y.baseDown+y.baseUp,y.width=y.height,y.orientation=k[V]===0?"horizontal":"vertical")))}catch{console.warn("Failed to parse bigfont info block")}}return y}catch(n){return console.error("Error parsing big font:",n),{data:{},info:"Failed to parse font file",baseUp:8,baseDown:2,height:Te$2,width:Te$2,orientation:"horizontal",isExtended:!1}}}utf8ArrayToStr(e){let n="",r=0;for(;r<e.length;){const g=e[r];switch(g>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=String.fromCharCode(g);break;case 12:case 13:{const $=e[r++];n+=String.fromCharCode((g&31)<<6|$&63);break}case 14:{const $=e[r++],y=e[r++];n+=String.fromCharCode((g&15)<<12|($&63)<<6|(y&63)<<0);break}}if(n.charCodeAt(n.length-1)===0)break;r++}return{text:n,pos:r}}}let Sf=class{parse(t){try{const e=t.readInt32();if(e<=0)throw new Error("Invalid character count in font file");const n=t.readInt16(),r=t.readBytes(n),g={data:{},info:"",baseUp:8,baseDown:2,height:Te$2,width:Te$2,orientation:"horizontal",isExtended:!1};try{const y=new TextDecoder().decode(r);let k=y.indexOf("\0");k>=0&&(g.info=y.substring(0,k),k+3<r.length&&(g.baseUp=r[k+1],g.baseDown=r[k+2],g.height=g.baseUp+g.baseDown,g.width=g.height,g.orientation=r[k+3]===0?"horizontal":"vertical"))}catch{console.warn("Failed to parse unifont info block")}const $={};for(let y=0;y<e-1;y++)try{const k=t.readUint16(),L=t.readUint16();if(L>0){const V=t.readBytes(L);if(V.length===L){const z=V.indexOf(0);let j=0;z>=0&&z<V.length&&(j=z+1),j<V.length&&($[k]=V.subarray(j))}}}catch{console.warn("Failed to read unifont character data");break}return g.data=$,g}catch(e){return console.error("Error parsing unifont:",e),{data:{},info:"Failed to parse font file",baseUp:8,baseDown:2,height:Te$2,width:Te$2,orientation:"horizontal",isExtended:!1}}}},_f=class{static createParser(t){switch(t){case me$2.SHAPES:return new xf;case me$2.BIGFONT:return new wf;case me$2.UNIFONT:return new Sf;default:throw new Error(`Unsupported font type: ${t}`)}}},oe$1=class f2{constructor(e=0,n=0){this.x=e,this.y=n}set(e,n){return this.x=e,this.y=n,this}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){const e=this.length();return e!==0&&(this.x/=e,this.y/=e),this}clone(){return new f2(this.x,this.y)}add(e){return this.x+=e.x,this.y+=e.y,this}subtract(e){return this.x-=e.x,this.y-=e.y,this}multiply(e){return this.x*=e,this.y*=e,this}divide(e){return e!==0&&(this.x/=e,this.y/=e),this}multiplyScalars(e,n){return this.x*=e,this.y*=n,this}divideScalars(e,n){return e!==0&&(this.x/=e),n!==0&&(this.y/=n),this}distanceTo(e){const n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)}};const Ki=Math.PI/4;let hn$1=class rw{static fromBulge(e,n,r){const g=Math.max(-1,Math.min(1,r));return new rw({start:e,end:n,bulge:g})}static fromOctant(e,n,r,g,$){return new rw({center:e,radius:n,startOctant:r,octantCount:g,isClockwise:$})}constructor(e){if(e.start&&e.end&&e.bulge!==void 0){this.start=e.start.clone(),this.end=e.end.clone(),this.bulge=e.bulge,this.isClockwise=e.bulge<0;const n=this.end.clone().subtract(this.start),r=n.length();if(Math.abs(this.bulge)*r/2===0){this.radius=0,this.center=this.start.clone(),this.startAngle=Math.atan2(n.y,n.x),this.endAngle=this.startAngle;return}const g=4*Math.atan(Math.abs(this.bulge));this.radius=r/(2*Math.sin(g/2));const $=this.start.clone().add(n.clone().divide(2)),y=new oe$1(-n.y,n.x);y.normalize(),y.multiply(Math.abs(this.radius*Math.cos(g/2))),this.center=$.clone(),this.isClockwise?this.center.subtract(y):this.center.add(y),this.startAngle=Math.atan2(this.start.y-this.center.y,this.start.x-this.center.x),this.endAngle=Math.atan2(this.end.y-this.center.y,this.end.x-this.center.x),this.isClockwise?this.endAngle>=this.startAngle&&(this.endAngle-=2*Math.PI):this.endAngle<=this.startAngle&&(this.endAngle+=2*Math.PI)}else if(e.center&&e.radius!==void 0&&e.startOctant!==void 0&&e.octantCount!==void 0&&e.isClockwise!==void 0){this.center=e.center.clone(),this.radius=e.radius,this.isClockwise=e.isClockwise,this.startAngle=e.startOctant*Ki;const n=(e.octantCount===0?8:e.octantCount)*Ki;this.endAngle=this.startAngle+(this.isClockwise?-n:n),this.start=this.center.clone().add(new oe$1(this.radius*Math.cos(this.startAngle),this.radius*Math.sin(this.startAngle))),this.end=this.center.clone().add(new oe$1(this.radius*Math.cos(this.endAngle),this.radius*Math.sin(this.endAngle)))}else throw new Error("Invalid arc parameters")}tessellate(e=Math.PI/18){if(this.radius===0)return[this.start.clone(),this.end.clone()];const n=[this.start.clone()],r=Math.abs(this.endAngle-this.startAngle),g=Math.max(1,Math.floor(r/e));for(let $=1;$<g;$++){const y=$/g,k=this.isClockwise?this.startAngle-y*r:this.startAngle+y*r;n.push(this.center.clone().add(new oe$1(this.radius*Math.cos(k),this.radius*Math.sin(k))))}return n.push(this.end?this.end.clone():this.center.clone().add(new oe$1(this.radius*Math.cos(this.endAngle),this.radius*Math.sin(this.endAngle)))),n}},nn$2=class h2{constructor(e,n=[]){this.lastPoint=e,this.polylines=n}get bbox(){if(this._bbox)return this._bbox;let e=1/0,n=-1/0,r=1/0,g=-1/0;return this.polylines.forEach($=>{$.forEach(y=>{e=Math.min(e,y.x),n=Math.max(n,y.x),r=Math.min(r,y.y),g=Math.max(g,y.y)})}),this._bbox={minX:e,minY:r,maxX:n,maxY:g},this._bbox}offset(e,n=!0){var r,g;return n?new h2((r=this.lastPoint)==null?void 0:r.clone().add(e),this.polylines.map($=>$.map(y=>y.clone().add(e)))):((g=this.lastPoint)==null||g.add(e),this.polylines.forEach($=>$.forEach(y=>y.add(e))),this._bbox&&(this._bbox.maxX+=e.x,this._bbox.minX+=e.x,this._bbox.maxY+=e.y,this._bbox.minY+=e.y),this)}normalizeToOrigin(e=!1){const n=this.bbox;return this.offset(new oe$1(-n.minX,-n.minY),e)}toSVG(e={}){const{strokeWidth:n="0.5%",strokeColor:r="black",isAutoFit:g=!1}=e;let $,y;if(g){const k=this.bbox,L=.2,V=k.maxX-k.minX,z=k.maxY-k.minY,j=V===0?z:V,ie=z===0?V:z,Oe=k.minX-j*L,ur=k.maxX+j*L,hr=k.minY-ie*L,Vr=k.maxY+ie*L;y=this.polylines.map(dr=>{let ec="";return dr.forEach((tc,Xs)=>{const rc=tc.x,ic=-tc.y;ec+=Xs===0?`M ${rc} ${ic} `:`L ${rc} ${ic} `}),`<path d="${ec}" stroke="${r}" stroke-width="${n}" fill="none"/>`}).join(""),$=`${Oe} ${-Vr} ${ur-Oe} ${Vr-hr}`}else $="0 0 20 20",y=this.polylines.map(k=>{let L="";return k.forEach((V,z)=>{const j=V.x+5,ie=-V.y+15;L+=z===0?`M ${j} ${ie} `:`L ${j} ${ie} `}),`<path d="${L}" stroke="${r}" stroke-width="${n}" fill="none"/>`}).join("");return`<svg width="100%" height="100%" viewBox="${$}" preserveAspectRatio="xMidYMid meet">${y}</svg>`}};const Cf=Math.PI/18;class Tf{constructor(e){this.shapeCache=new Map,this.shapeData=new Map,this.fontData=e}release(){this.shapeCache.clear(),this.shapeData.clear()}getCharShape(e,n){const r=n/this.fontData.content.height;return this.parseAndScale(e,{factor:r})}parseAndScale(e,n){if(e===0)return;let r;if(this.shapeCache.has(e))r=this.shapeCache.get(e);else{const g=this.fontData.content.data;if(g[e]){const $=g[e];r=this.parseShape($),this.shapeData.set(e,r),this.shapeCache.set(e,r)}}if(r){if(n.factor!==void 0)return this.scaleShapeByFactor(r,n.factor);if(n.height!==void 0){const g=n.width??n.height;return this.scaleShapeByHeightAndWidth(r,n.height,g)}else return r}}scaleShapeByFactor(e,n){var r;return new nn$2((r=e.lastPoint)==null?void 0:r.clone().multiply(n),e.polylines.map(g=>g.map($=>$.clone().multiply(n))))}scaleShapeByHeightAndWidth(e,n,r){var g;const $=e.bbox,y=$.maxY-$.minY,k=$.maxX-$.minX,L=y>0?n/y:1,V=k>0?r/k:1,z=(g=e.lastPoint)==null?void 0:g.clone();z&&(z.x*=V,z.y*=L);const j=e.polylines.map(ie=>ie.map(Oe=>{const ur=Oe.clone();return ur.x*=V,ur.y*=L,ur}));return new nn$2(z,j)}parseShape(e){const n={currentPoint:new oe$1,polylines:[],currentPolyline:[],sp:[],isPenDown:!1,scale:1};for(let r=0;r<e.length;r++){const g=e[r];g<=15?r=this.handleSpecialCommand(g,e,r,n):this.handleVectorCommand(g,n)}return new nn$2(n.currentPoint,n.polylines)}handleSpecialCommand(e,n,r,g){let $=r;switch(e){case 0:g.currentPolyline=[],g.isPenDown=!1;break;case 1:g.isPenDown=!0,g.currentPolyline.push(g.currentPoint.clone());break;case 2:g.isPenDown=!1,g.currentPolyline.length>1&&g.polylines.push(g.currentPolyline.slice()),g.currentPolyline=[];break;case 3:$++,g.scale/=n[$];break;case 4:$++,g.scale*=n[$];break;case 5:if(g.sp.length===4)throw new Error("The position stack is only four locations deep");g.sp.push(g.currentPoint.clone());break;case 6:g.currentPoint=g.sp.pop()??g.currentPoint;break;case 7:$=this.handleSubshapeCommand(n,$,g);break;case 8:$=this.handleXYDisplacement(n,$,g);break;case 9:$=this.handleMultipleXYDisplacements(n,$,g);break;case 10:$=this.handleOctantArc(n,$,g);break;case 11:$=this.handleFractionalArc(n,$,g);break;case 12:$=this.handleBulgeArc(n,$,g);break;case 13:$=this.handleMultipleBulgeArcs(n,$,g);break;case 14:$=this.skipCode(n,++$);break}return $}handleVectorCommand(e,n){const r=(e&240)>>4,g=e&15,$=this.getVectorForDirection(g);n.currentPoint.add($.multiply(r*n.scale)),n.isPenDown&&n.currentPolyline.push(n.currentPoint.clone())}getVectorForDirection(e){const n=new oe$1;switch(e){case 0:n.x=1;break;case 1:n.x=1,n.y=.5;break;case 2:n.x=1,n.y=1;break;case 3:n.x=.5,n.y=1;break;case 4:n.y=1;break;case 5:n.x=-.5,n.y=1;break;case 6:n.x=-1,n.y=1;break;case 7:n.x=-1,n.y=.5;break;case 8:n.x=-1;break;case 9:n.x=-1,n.y=-.5;break;case 10:n.x=-1,n.y=-1;break;case 11:n.x=-.5,n.y=-1;break;case 12:n.y=-1;break;case 13:n.x=.5,n.y=-1;break;case 14:n.x=1,n.y=-1;break;case 15:n.x=1,n.y=-.5;break}return n}handleSubshapeCommand(e,n,r){let g=n,$=0,y,k=r.scale*this.fontData.content.height,L=k;const V=r.currentPoint.clone();switch(r.currentPolyline.length>1&&(r.polylines.push(r.currentPolyline.slice()),r.currentPolyline=[]),this.fontData.header.fontType){case me$2.SHAPES:g++,$=e[g];break;case me$2.BIGFONT:g++,$=e[g],$===0&&(g++,$=e[g++]<<8|e[g++],V.x=fe$2.byteToSByte(e[g++])*r.scale,V.y=fe$2.byteToSByte(e[g++])*r.scale,this.fontData.content.isExtended&&(L=e[g++]*r.scale),k=e[g]*r.scale);break;case me$2.UNIFONT:g++,$=e[g++]<<8|e[g++];break}return $!==0&&(y=this.getScaledSubshapeAtInsertPoint($,L,k,V),y&&r.polylines.push(...y.polylines.slice())),r.currentPolyline=[],g}handleXYDisplacement(e,n,r){let g=n;const $=new oe$1;return $.x=fe$2.byteToSByte(e[++g]),$.y=fe$2.byteToSByte(e[++g]),r.currentPoint.add($.multiply(r.scale)),r.isPenDown&&r.currentPolyline.push(r.currentPoint.clone()),g}handleMultipleXYDisplacements(e,n,r){let g=n;for(;;){const $=new oe$1;if($.x=fe$2.byteToSByte(e[++g]),$.y=fe$2.byteToSByte(e[++g]),$.x===0&&$.y===0)break;r.currentPoint.add($.multiply(r.scale)),r.isPenDown&&r.currentPolyline.push(r.currentPoint.clone())}return g}handleOctantArc(e,n,r){var g;let $=n;const y=e[++$]*r.scale,k=fe$2.byteToSByte(e[++$]),L=(k&112)>>4;let V=k&7;const z=k<0,j=Math.PI/4*L,ie=r.currentPoint.clone().subtract(new oe$1(Math.cos(j)*y,Math.sin(j)*y)),Oe=hn$1.fromOctant(ie,y,L,V,z);if(r.isPenDown){const ur=Oe.tessellate();r.currentPolyline.pop(),r.currentPolyline.push(...ur.slice())}return r.currentPoint=(g=Oe.tessellate().pop())==null?void 0:g.clone(),$}handleFractionalArc(e,n,r){let g=n;const $=e[++g],y=e[++g],k=e[++g],L=e[++g],V=(k*255+L)*r.scale,z=fe$2.byteToSByte(e[++g]),j=(z&112)>>4;let ie=z&7;ie===0&&(ie=8),y!==0&&ie--;const Oe=Math.PI/4;let ur=Oe*ie,hr=Cf,Vr=1;z<0&&(hr=-hr,ur=-ur,Vr=-1);let dr=Oe*j,ec=dr+ur;dr+=Oe*$/256*Vr,ec+=Oe*y/256*Vr;const tc=r.currentPoint.clone().subtract(new oe$1(V*Math.cos(dr),V*Math.sin(dr)));if(r.currentPoint=tc.clone().add(new oe$1(V*Math.cos(ec),V*Math.sin(ec))),r.isPenDown){let Xs=dr;const rc=[];if(rc.push(tc.clone().add(new oe$1(V*Math.cos(Xs),V*Math.sin(Xs)))),hr>0)for(;Xs+hr<ec;)Xs+=hr,rc.push(tc.clone().add(new oe$1(V*Math.cos(Xs),V*Math.sin(Xs))));else for(;Xs+hr>ec;)Xs+=hr,rc.push(tc.clone().add(new oe$1(V*Math.cos(Xs),V*Math.sin(Xs))));rc.push(tc.clone().add(new oe$1(V*Math.cos(ec),V*Math.sin(ec)))),r.currentPolyline.push(...rc)}return g}handleBulgeArc(e,n,r){let g=n;const $=new oe$1;$.x=fe$2.byteToSByte(e[++g]),$.y=fe$2.byteToSByte(e[++g]);const y=fe$2.byteToSByte(e[++g]);return r.currentPoint=this.handleArcSegment(r.currentPoint,$,y,r.scale,r.isPenDown,r.currentPolyline),g}handleMultipleBulgeArcs(e,n,r){let g=n;for(;;){const $=new oe$1;if($.x=fe$2.byteToSByte(e[++g]),$.y=fe$2.byteToSByte(e[++g]),$.x===0&&$.y===0)break;const y=fe$2.byteToSByte(e[++g]);r.currentPoint=this.handleArcSegment(r.currentPoint,$,y,r.scale,r.isPenDown,r.currentPolyline)}return g}skipCode(e,n){switch(e[n]){case 0:break;case 1:break;case 2:break;case 3:case 4:n++;break;case 5:break;case 6:break;case 7:switch(this.fontData.header.fontType){case me$2.SHAPES:n++;break;case me$2.BIGFONT:n++,e[n]===0&&(n+=this.fontData.content.isExtended?6:5);break;case me$2.UNIFONT:n+=2;break}break;case 8:n+=2;break;case 9:for(;;){const r=e[++n],g=e[++n];if(r===0&&g===0)break}break;case 10:n+=2;break;case 11:n+=5;break;case 12:n+=3;break;case 13:for(;;){const r=e[++n],g=e[++n];if(r===0&&g===0)break;n++}break}return n}getScaledSubshapeAtInsertPoint(e,n,r,g){let $=this.shapeCache.get(e);if(!$){const k=this.fontData.content.data[e];if(!k)return;$=this.parseShape(k),this.shapeData.set(e,$),this.shapeCache.set(e,$)}const y=$.normalizeToOrigin(!0);return this.scaleShapeByHeightAndWidth(y,r,n).offset(g,!1)}handleArcSegment(e,n,r,g,$,y){n.x*=g,n.y*=g,r<-127&&(r=-127);const k=e.clone();if($)if(r===0)y.push(k.clone().add(n));else{const L=k.clone().add(n),V=hn$1.fromBulge(k,L,r/127).tessellate();y.push(...V.slice(1))}return k.add(n),k}}let If=class{constructor(t){if(t instanceof ArrayBuffer){const e=new fe$2(t),n=new bf().parse(e),r=_f.createParser(n.fontType).parse(e);this.fontData={header:n,content:r}}else this.fontData=t;this.shapeParser=new Tf(this.fontData)}hasChar(t){return this.fontData.content.data[t]!==void 0}getCharShape(t,e){let n=this.shapeParser.getCharShape(t,e);return n&&this.fontData.header.fontType===me$2.BIGFONT&&(n=n.normalizeToOrigin()),n}release(){this.shapeParser.release()}};function Ef(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var g=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,g.get?g:{enumerable:!0,get:function(){return t[r]}})}),n}var Go$1={exports:{}},Bs={},ar={};ar.byteLength=Bf;ar.toByteArray=Of;ar.fromByteArray=Rf;var ze$1=[],Se$1=[],kf=typeof Uint8Array<"u"?Uint8Array:Array,Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var St$1=0,Lf=Tr.length;St$1<Lf;++St$1)ze$1[St$1]=Tr[St$1],Se$1[Tr.charCodeAt(St$1)]=St$1;Se$1[45]=62;Se$1[95]=63;function jo$1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Bf(t){var e=jo$1(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Af(t,e,n){return(e+n)*3/4-n}function Of(t){var e,n=jo$1(t),r=n[0],g=n[1],$=new kf(Af(t,r,g)),y=0,k=g>0?r-4:r,L;for(L=0;L<k;L+=4)e=Se$1[t.charCodeAt(L)]<<18|Se$1[t.charCodeAt(L+1)]<<12|Se$1[t.charCodeAt(L+2)]<<6|Se$1[t.charCodeAt(L+3)],$[y++]=e>>16&255,$[y++]=e>>8&255,$[y++]=e&255;return g===2&&(e=Se$1[t.charCodeAt(L)]<<2|Se$1[t.charCodeAt(L+1)]>>4,$[y++]=e&255),g===1&&(e=Se$1[t.charCodeAt(L)]<<10|Se$1[t.charCodeAt(L+1)]<<4|Se$1[t.charCodeAt(L+2)]>>2,$[y++]=e>>8&255,$[y++]=e&255),$}function Pf(t){return ze$1[t>>18&63]+ze$1[t>>12&63]+ze$1[t>>6&63]+ze$1[t&63]}function Df(t,e,n){for(var r,g=[],$=e;$<n;$+=3)r=(t[$]<<16&16711680)+(t[$+1]<<8&65280)+(t[$+2]&255),g.push(Pf(r));return g.join("")}function Rf(t){for(var e,n=t.length,r=n%3,g=[],$=16383,y=0,k=n-r;y<k;y+=$)g.push(Df(t,y,y+$>k?k:y+$));return r===1?(e=t[n-1],g.push(ze$1[e>>2]+ze$1[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],g.push(ze$1[e>>10]+ze$1[e>>4&63]+ze$1[e<<2&63]+"=")),g.join("")}var As={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */As.read=function(t,e,n,r,g){var $,y,k=g*8-r-1,L=(1<<k)-1,V=L>>1,z=-7,j=n?g-1:0,ie=n?-1:1,Oe=t[e+j];for(j+=ie,$=Oe&(1<<-z)-1,Oe>>=-z,z+=k;z>0;$=$*256+t[e+j],j+=ie,z-=8);for(y=$&(1<<-z)-1,$>>=-z,z+=r;z>0;y=y*256+t[e+j],j+=ie,z-=8);if($===0)$=1-V;else{if($===L)return y?NaN:(Oe?-1:1)*(1/0);y=y+Math.pow(2,r),$=$-V}return(Oe?-1:1)*y*Math.pow(2,$-r)};As.write=function(t,e,n,r,g,$){var y,k,L,V=$*8-g-1,z=(1<<V)-1,j=z>>1,ie=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,Oe=r?0:$-1,ur=r?1:-1,hr=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(k=isNaN(e)?1:0,y=z):(y=Math.floor(Math.log(e)/Math.LN2),e*(L=Math.pow(2,-y))<1&&(y--,L*=2),y+j>=1?e+=ie/L:e+=ie*Math.pow(2,1-j),e*L>=2&&(y++,L/=2),y+j>=z?(k=0,y=z):y+j>=1?(k=(e*L-1)*Math.pow(2,g),y=y+j):(k=e*Math.pow(2,j-1)*Math.pow(2,g),y=0));g>=8;t[n+Oe]=k&255,Oe+=ur,k/=256,g-=8);for(y=y<<g|k,V+=g;V>0;t[n+Oe]=y&255,Oe+=ur,y/=256,V-=8);t[n+Oe-ur]|=hr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=ar,n=As,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=k,t.SlowBuffer=ec,t.INSPECT_MAX_BYTES=50;var g=2147483647;t.kMaxLength=g,k.TYPED_ARRAY_SUPPORT=$(),!k.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function $(){try{var av=new Uint8Array(1),fv={foo:function(){return 42}};return Object.setPrototypeOf(fv,Uint8Array.prototype),Object.setPrototypeOf(av,fv),av.foo()===42}catch{return!1}}Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});function y(av){if(av>g)throw new RangeError('The value "'+av+'" is invalid for option "size"');var fv=new Uint8Array(av);return Object.setPrototypeOf(fv,k.prototype),fv}function k(av,fv,lv){if(typeof av=="number"){if(typeof fv=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return j(av)}return L(av,fv,lv)}k.poolSize=8192;function L(av,fv,lv){if(typeof av=="string")return ie(av,fv);if(ArrayBuffer.isView(av))return ur(av);if(av==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof av);if(Vv(av,ArrayBuffer)||av&&Vv(av.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Vv(av,SharedArrayBuffer)||av&&Vv(av.buffer,SharedArrayBuffer)))return hr(av,fv,lv);if(typeof av=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var kv=av.valueOf&&av.valueOf();if(kv!=null&&kv!==av)return k.from(kv,fv,lv);var Iv=Vr(av);if(Iv)return Iv;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof av[Symbol.toPrimitive]=="function")return k.from(av[Symbol.toPrimitive]("string"),fv,lv);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof av)}k.from=function(av,fv,lv){return L(av,fv,lv)},Object.setPrototypeOf(k.prototype,Uint8Array.prototype),Object.setPrototypeOf(k,Uint8Array);function V(av){if(typeof av!="number")throw new TypeError('"size" argument must be of type number');if(av<0)throw new RangeError('The value "'+av+'" is invalid for option "size"')}function z(av,fv,lv){return V(av),av<=0?y(av):fv!==void 0?typeof lv=="string"?y(av).fill(fv,lv):y(av).fill(fv):y(av)}k.alloc=function(av,fv,lv){return z(av,fv,lv)};function j(av){return V(av),y(av<0?0:dr(av)|0)}k.allocUnsafe=function(av){return j(av)},k.allocUnsafeSlow=function(av){return j(av)};function ie(av,fv){if((typeof fv!="string"||fv==="")&&(fv="utf8"),!k.isEncoding(fv))throw new TypeError("Unknown encoding: "+fv);var lv=tc(av,fv)|0,kv=y(lv),Iv=kv.write(av,fv);return Iv!==lv&&(kv=kv.slice(0,Iv)),kv}function Oe(av){for(var fv=av.length<0?0:dr(av.length)|0,lv=y(fv),kv=0;kv<fv;kv+=1)lv[kv]=av[kv]&255;return lv}function ur(av){if(Vv(av,Uint8Array)){var fv=new Uint8Array(av);return hr(fv.buffer,fv.byteOffset,fv.byteLength)}return Oe(av)}function hr(av,fv,lv){if(fv<0||av.byteLength<fv)throw new RangeError('"offset" is outside of buffer bounds');if(av.byteLength<fv+(lv||0))throw new RangeError('"length" is outside of buffer bounds');var kv;return fv===void 0&&lv===void 0?kv=new Uint8Array(av):lv===void 0?kv=new Uint8Array(av,fv):kv=new Uint8Array(av,fv,lv),Object.setPrototypeOf(kv,k.prototype),kv}function Vr(av){if(k.isBuffer(av)){var fv=dr(av.length)|0,lv=y(fv);return lv.length===0||av.copy(lv,0,0,fv),lv}if(av.length!==void 0)return typeof av.length!="number"||Av(av.length)?y(0):Oe(av);if(av.type==="Buffer"&&Array.isArray(av.data))return Oe(av.data)}function dr(av){if(av>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return av|0}function ec(av){return+av!=av&&(av=0),k.alloc(+av)}k.isBuffer=function(av){return av!=null&&av._isBuffer===!0&&av!==k.prototype},k.compare=function(av,fv){if(Vv(av,Uint8Array)&&(av=k.from(av,av.offset,av.byteLength)),Vv(fv,Uint8Array)&&(fv=k.from(fv,fv.offset,fv.byteLength)),!k.isBuffer(av)||!k.isBuffer(fv))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(av===fv)return 0;for(var lv=av.length,kv=fv.length,Iv=0,vv=Math.min(lv,kv);Iv<vv;++Iv)if(av[Iv]!==fv[Iv]){lv=av[Iv],kv=fv[Iv];break}return lv<kv?-1:kv<lv?1:0},k.isEncoding=function(av){switch(String(av).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(av,fv){if(!Array.isArray(av))throw new TypeError('"list" argument must be an Array of Buffers');if(av.length===0)return k.alloc(0);var lv;if(fv===void 0)for(fv=0,lv=0;lv<av.length;++lv)fv+=av[lv].length;var kv=k.allocUnsafe(fv),Iv=0;for(lv=0;lv<av.length;++lv){var vv=av[lv];if(Vv(vv,Uint8Array))Iv+vv.length>kv.length?k.from(vv).copy(kv,Iv):Uint8Array.prototype.set.call(kv,vv,Iv);else if(k.isBuffer(vv))vv.copy(kv,Iv);else throw new TypeError('"list" argument must be an Array of Buffers');Iv+=vv.length}return kv};function tc(av,fv){if(k.isBuffer(av))return av.length;if(ArrayBuffer.isView(av)||Vv(av,ArrayBuffer))return av.byteLength;if(typeof av!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof av);var lv=av.length,kv=arguments.length>2&&arguments[2]===!0;if(!kv&&lv===0)return 0;for(var Iv=!1;;)switch(fv){case"ascii":case"latin1":case"binary":return lv;case"utf8":case"utf-8":return Gv(av).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lv*2;case"hex":return lv>>>1;case"base64":return Pv(av).length;default:if(Iv)return kv?-1:Gv(av).length;fv=(""+fv).toLowerCase(),Iv=!0}}k.byteLength=tc;function Xs(av,fv,lv){var kv=!1;if((fv===void 0||fv<0)&&(fv=0),fv>this.length||((lv===void 0||lv>this.length)&&(lv=this.length),lv<=0)||(lv>>>=0,fv>>>=0,lv<=fv))return"";for(av||(av="utf8");;)switch(av){case"hex":return dv(this,fv,lv);case"utf8":case"utf-8":return gv(this,fv,lv);case"ascii":return rv(this,fv,lv);case"latin1":case"binary":return Jm(this,fv,lv);case"base64":return sv(this,fv,lv);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pv(this,fv,lv);default:if(kv)throw new TypeError("Unknown encoding: "+av);av=(av+"").toLowerCase(),kv=!0}}k.prototype._isBuffer=!0;function rc(av,fv,lv){var kv=av[fv];av[fv]=av[lv],av[lv]=kv}k.prototype.swap16=function(){var av=this.length;if(av%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var fv=0;fv<av;fv+=2)rc(this,fv,fv+1);return this},k.prototype.swap32=function(){var av=this.length;if(av%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var fv=0;fv<av;fv+=4)rc(this,fv,fv+3),rc(this,fv+1,fv+2);return this},k.prototype.swap64=function(){var av=this.length;if(av%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var fv=0;fv<av;fv+=8)rc(this,fv,fv+7),rc(this,fv+1,fv+6),rc(this,fv+2,fv+5),rc(this,fv+3,fv+4);return this},k.prototype.toString=function(){var av=this.length;return av===0?"":arguments.length===0?gv(this,0,av):Xs.apply(this,arguments)},k.prototype.toLocaleString=k.prototype.toString,k.prototype.equals=function(av){if(!k.isBuffer(av))throw new TypeError("Argument must be a Buffer");return this===av?!0:k.compare(this,av)===0},k.prototype.inspect=function(){var av="",fv=t.INSPECT_MAX_BYTES;return av=this.toString("hex",0,fv).replace(/(.{2})/g,"$1 ").trim(),this.length>fv&&(av+=" ... "),"<Buffer "+av+">"},r&&(k.prototype[r]=k.prototype.inspect),k.prototype.compare=function(av,fv,lv,kv,Iv){if(Vv(av,Uint8Array)&&(av=k.from(av,av.offset,av.byteLength)),!k.isBuffer(av))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof av);if(fv===void 0&&(fv=0),lv===void 0&&(lv=av?av.length:0),kv===void 0&&(kv=0),Iv===void 0&&(Iv=this.length),fv<0||lv>av.length||kv<0||Iv>this.length)throw new RangeError("out of range index");if(kv>=Iv&&fv>=lv)return 0;if(kv>=Iv)return-1;if(fv>=lv)return 1;if(fv>>>=0,lv>>>=0,kv>>>=0,Iv>>>=0,this===av)return 0;for(var vv=Iv-kv,Ev=lv-fv,zv=Math.min(vv,Ev),Fv=this.slice(kv,Iv),Yv=av.slice(fv,lv),g0=0;g0<zv;++g0)if(Fv[g0]!==Yv[g0]){vv=Fv[g0],Ev=Yv[g0];break}return vv<Ev?-1:Ev<vv?1:0};function ic(av,fv,lv,kv,Iv){if(av.length===0)return-1;if(typeof lv=="string"?(kv=lv,lv=0):lv>2147483647?lv=2147483647:lv<-2147483648&&(lv=-2147483648),lv=+lv,Av(lv)&&(lv=Iv?0:av.length-1),lv<0&&(lv=av.length+lv),lv>=av.length){if(Iv)return-1;lv=av.length-1}else if(lv<0)if(Iv)lv=0;else return-1;if(typeof fv=="string"&&(fv=k.from(fv,kv)),k.isBuffer(fv))return fv.length===0?-1:_c(av,fv,lv,kv,Iv);if(typeof fv=="number")return fv=fv&255,typeof Uint8Array.prototype.indexOf=="function"?Iv?Uint8Array.prototype.indexOf.call(av,fv,lv):Uint8Array.prototype.lastIndexOf.call(av,fv,lv):_c(av,[fv],lv,kv,Iv);throw new TypeError("val must be string, number or Buffer")}function _c(av,fv,lv,kv,Iv){var vv=1,Ev=av.length,zv=fv.length;if(kv!==void 0&&(kv=String(kv).toLowerCase(),kv==="ucs2"||kv==="ucs-2"||kv==="utf16le"||kv==="utf-16le")){if(av.length<2||fv.length<2)return-1;vv=2,Ev/=2,zv/=2,lv/=2}function Fv(B0,a1){return vv===1?B0[a1]:B0.readUInt16BE(a1*vv)}var Yv;if(Iv){var g0=-1;for(Yv=lv;Yv<Ev;Yv++)if(Fv(av,Yv)===Fv(fv,g0===-1?0:Yv-g0)){if(g0===-1&&(g0=Yv),Yv-g0+1===zv)return g0*vv}else g0!==-1&&(Yv-=Yv-g0),g0=-1}else for(lv+zv>Ev&&(lv=Ev-zv),Yv=lv;Yv>=0;Yv--){for(var Qv=!0,N0=0;N0<zv;N0++)if(Fv(av,Yv+N0)!==Fv(fv,N0)){Qv=!1;break}if(Qv)return Yv}return-1}k.prototype.includes=function(av,fv,lv){return this.indexOf(av,fv,lv)!==-1},k.prototype.indexOf=function(av,fv,lv){return ic(this,av,fv,lv,!0)},k.prototype.lastIndexOf=function(av,fv,lv){return ic(this,av,fv,lv,!1)};function qm(av,fv,lv,kv){lv=Number(lv)||0;var Iv=av.length-lv;kv?(kv=Number(kv),kv>Iv&&(kv=Iv)):kv=Iv;var vv=fv.length;kv>vv/2&&(kv=vv/2);for(var Ev=0;Ev<kv;++Ev){var zv=parseInt(fv.substr(Ev*2,2),16);if(Av(zv))return Ev;av[lv+Ev]=zv}return Ev}function Xm(av,fv,lv,kv){return Tv(Gv(fv,av.length-lv),av,lv,kv)}function Km(av,fv,lv,kv){return Tv(f0(fv),av,lv,kv)}function tv(av,fv,lv,kv){return Tv(Pv(fv),av,lv,kv)}function nv(av,fv,lv,kv){return Tv(qv(fv,av.length-lv),av,lv,kv)}k.prototype.write=function(av,fv,lv,kv){if(fv===void 0)kv="utf8",lv=this.length,fv=0;else if(lv===void 0&&typeof fv=="string")kv=fv,lv=this.length,fv=0;else if(isFinite(fv))fv=fv>>>0,isFinite(lv)?(lv=lv>>>0,kv===void 0&&(kv="utf8")):(kv=lv,lv=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Iv=this.length-fv;if((lv===void 0||lv>Iv)&&(lv=Iv),av.length>0&&(lv<0||fv<0)||fv>this.length)throw new RangeError("Attempt to write outside buffer bounds");kv||(kv="utf8");for(var vv=!1;;)switch(kv){case"hex":return qm(this,av,fv,lv);case"utf8":case"utf-8":return Xm(this,av,fv,lv);case"ascii":case"latin1":case"binary":return Km(this,av,fv,lv);case"base64":return tv(this,av,fv,lv);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nv(this,av,fv,lv);default:if(vv)throw new TypeError("Unknown encoding: "+kv);kv=(""+kv).toLowerCase(),vv=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function sv(av,fv,lv){return fv===0&&lv===av.length?e.fromByteArray(av):e.fromByteArray(av.slice(fv,lv))}function gv(av,fv,lv){lv=Math.min(av.length,lv);for(var kv=[],Iv=fv;Iv<lv;){var vv=av[Iv],Ev=null,zv=vv>239?4:vv>223?3:vv>191?2:1;if(Iv+zv<=lv){var Fv,Yv,g0,Qv;switch(zv){case 1:vv<128&&(Ev=vv);break;case 2:Fv=av[Iv+1],(Fv&192)===128&&(Qv=(vv&31)<<6|Fv&63,Qv>127&&(Ev=Qv));break;case 3:Fv=av[Iv+1],Yv=av[Iv+2],(Fv&192)===128&&(Yv&192)===128&&(Qv=(vv&15)<<12|(Fv&63)<<6|Yv&63,Qv>2047&&(Qv<55296||Qv>57343)&&(Ev=Qv));break;case 4:Fv=av[Iv+1],Yv=av[Iv+2],g0=av[Iv+3],(Fv&192)===128&&(Yv&192)===128&&(g0&192)===128&&(Qv=(vv&15)<<18|(Fv&63)<<12|(Yv&63)<<6|g0&63,Qv>65535&&Qv<1114112&&(Ev=Qv))}}Ev===null?(Ev=65533,zv=1):Ev>65535&&(Ev-=65536,kv.push(Ev>>>10&1023|55296),Ev=56320|Ev&1023),kv.push(Ev),Iv+=zv}return wv(kv)}var Sv=4096;function wv(av){var fv=av.length;if(fv<=Sv)return String.fromCharCode.apply(String,av);for(var lv="",kv=0;kv<fv;)lv+=String.fromCharCode.apply(String,av.slice(kv,kv+=Sv));return lv}function rv(av,fv,lv){var kv="";lv=Math.min(av.length,lv);for(var Iv=fv;Iv<lv;++Iv)kv+=String.fromCharCode(av[Iv]&127);return kv}function Jm(av,fv,lv){var kv="";lv=Math.min(av.length,lv);for(var Iv=fv;Iv<lv;++Iv)kv+=String.fromCharCode(av[Iv]);return kv}function dv(av,fv,lv){var kv=av.length;(!fv||fv<0)&&(fv=0),(!lv||lv<0||lv>kv)&&(lv=kv);for(var Iv="",vv=fv;vv<lv;++vv)Iv+=y0[av[vv]];return Iv}function pv(av,fv,lv){for(var kv=av.slice(fv,lv),Iv="",vv=0;vv<kv.length-1;vv+=2)Iv+=String.fromCharCode(kv[vv]+kv[vv+1]*256);return Iv}k.prototype.slice=function(av,fv){var lv=this.length;av=~~av,fv=fv===void 0?lv:~~fv,av<0?(av+=lv,av<0&&(av=0)):av>lv&&(av=lv),fv<0?(fv+=lv,fv<0&&(fv=0)):fv>lv&&(fv=lv),fv<av&&(fv=av);var kv=this.subarray(av,fv);return Object.setPrototypeOf(kv,k.prototype),kv};function mv(av,fv,lv){if(av%1!==0||av<0)throw new RangeError("offset is not uint");if(av+fv>lv)throw new RangeError("Trying to access beyond buffer length")}k.prototype.readUintLE=k.prototype.readUIntLE=function(av,fv,lv){av=av>>>0,fv=fv>>>0,lv||mv(av,fv,this.length);for(var kv=this[av],Iv=1,vv=0;++vv<fv&&(Iv*=256);)kv+=this[av+vv]*Iv;return kv},k.prototype.readUintBE=k.prototype.readUIntBE=function(av,fv,lv){av=av>>>0,fv=fv>>>0,lv||mv(av,fv,this.length);for(var kv=this[av+--fv],Iv=1;fv>0&&(Iv*=256);)kv+=this[av+--fv]*Iv;return kv},k.prototype.readUint8=k.prototype.readUInt8=function(av,fv){return av=av>>>0,fv||mv(av,1,this.length),this[av]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function(av,fv){return av=av>>>0,fv||mv(av,2,this.length),this[av]|this[av+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function(av,fv){return av=av>>>0,fv||mv(av,2,this.length),this[av]<<8|this[av+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function(av,fv){return av=av>>>0,fv||mv(av,4,this.length),(this[av]|this[av+1]<<8|this[av+2]<<16)+this[av+3]*16777216},k.prototype.readUint32BE=k.prototype.readUInt32BE=function(av,fv){return av=av>>>0,fv||mv(av,4,this.length),this[av]*16777216+(this[av+1]<<16|this[av+2]<<8|this[av+3])},k.prototype.readIntLE=function(av,fv,lv){av=av>>>0,fv=fv>>>0,lv||mv(av,fv,this.length);for(var kv=this[av],Iv=1,vv=0;++vv<fv&&(Iv*=256);)kv+=this[av+vv]*Iv;return Iv*=128,kv>=Iv&&(kv-=Math.pow(2,8*fv)),kv},k.prototype.readIntBE=function(av,fv,lv){av=av>>>0,fv=fv>>>0,lv||mv(av,fv,this.length);for(var kv=fv,Iv=1,vv=this[av+--kv];kv>0&&(Iv*=256);)vv+=this[av+--kv]*Iv;return Iv*=128,vv>=Iv&&(vv-=Math.pow(2,8*fv)),vv},k.prototype.readInt8=function(av,fv){return av=av>>>0,fv||mv(av,1,this.length),this[av]&128?(255-this[av]+1)*-1:this[av]},k.prototype.readInt16LE=function(av,fv){av=av>>>0,fv||mv(av,2,this.length);var lv=this[av]|this[av+1]<<8;return lv&32768?lv|4294901760:lv},k.prototype.readInt16BE=function(av,fv){av=av>>>0,fv||mv(av,2,this.length);var lv=this[av+1]|this[av]<<8;return lv&32768?lv|4294901760:lv},k.prototype.readInt32LE=function(av,fv){return av=av>>>0,fv||mv(av,4,this.length),this[av]|this[av+1]<<8|this[av+2]<<16|this[av+3]<<24},k.prototype.readInt32BE=function(av,fv){return av=av>>>0,fv||mv(av,4,this.length),this[av]<<24|this[av+1]<<16|this[av+2]<<8|this[av+3]},k.prototype.readFloatLE=function(av,fv){return av=av>>>0,fv||mv(av,4,this.length),n.read(this,av,!0,23,4)},k.prototype.readFloatBE=function(av,fv){return av=av>>>0,fv||mv(av,4,this.length),n.read(this,av,!1,23,4)},k.prototype.readDoubleLE=function(av,fv){return av=av>>>0,fv||mv(av,8,this.length),n.read(this,av,!0,52,8)},k.prototype.readDoubleBE=function(av,fv){return av=av>>>0,fv||mv(av,8,this.length),n.read(this,av,!1,52,8)};function Cv(av,fv,lv,kv,Iv,vv){if(!k.isBuffer(av))throw new TypeError('"buffer" argument must be a Buffer instance');if(fv>Iv||fv<vv)throw new RangeError('"value" argument is out of bounds');if(lv+kv>av.length)throw new RangeError("Index out of range")}k.prototype.writeUintLE=k.prototype.writeUIntLE=function(av,fv,lv,kv){if(av=+av,fv=fv>>>0,lv=lv>>>0,!kv){var Iv=Math.pow(2,8*lv)-1;Cv(this,av,fv,lv,Iv,0)}var vv=1,Ev=0;for(this[fv]=av&255;++Ev<lv&&(vv*=256);)this[fv+Ev]=av/vv&255;return fv+lv},k.prototype.writeUintBE=k.prototype.writeUIntBE=function(av,fv,lv,kv){if(av=+av,fv=fv>>>0,lv=lv>>>0,!kv){var Iv=Math.pow(2,8*lv)-1;Cv(this,av,fv,lv,Iv,0)}var vv=lv-1,Ev=1;for(this[fv+vv]=av&255;--vv>=0&&(Ev*=256);)this[fv+vv]=av/Ev&255;return fv+lv},k.prototype.writeUint8=k.prototype.writeUInt8=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,1,255,0),this[fv]=av&255,fv+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,2,65535,0),this[fv]=av&255,this[fv+1]=av>>>8,fv+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,2,65535,0),this[fv]=av>>>8,this[fv+1]=av&255,fv+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,4,4294967295,0),this[fv+3]=av>>>24,this[fv+2]=av>>>16,this[fv+1]=av>>>8,this[fv]=av&255,fv+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,4,4294967295,0),this[fv]=av>>>24,this[fv+1]=av>>>16,this[fv+2]=av>>>8,this[fv+3]=av&255,fv+4},k.prototype.writeIntLE=function(av,fv,lv,kv){if(av=+av,fv=fv>>>0,!kv){var Iv=Math.pow(2,8*lv-1);Cv(this,av,fv,lv,Iv-1,-Iv)}var vv=0,Ev=1,zv=0;for(this[fv]=av&255;++vv<lv&&(Ev*=256);)av<0&&zv===0&&this[fv+vv-1]!==0&&(zv=1),this[fv+vv]=(av/Ev>>0)-zv&255;return fv+lv},k.prototype.writeIntBE=function(av,fv,lv,kv){if(av=+av,fv=fv>>>0,!kv){var Iv=Math.pow(2,8*lv-1);Cv(this,av,fv,lv,Iv-1,-Iv)}var vv=lv-1,Ev=1,zv=0;for(this[fv+vv]=av&255;--vv>=0&&(Ev*=256);)av<0&&zv===0&&this[fv+vv+1]!==0&&(zv=1),this[fv+vv]=(av/Ev>>0)-zv&255;return fv+lv},k.prototype.writeInt8=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,1,127,-128),av<0&&(av=255+av+1),this[fv]=av&255,fv+1},k.prototype.writeInt16LE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,2,32767,-32768),this[fv]=av&255,this[fv+1]=av>>>8,fv+2},k.prototype.writeInt16BE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,2,32767,-32768),this[fv]=av>>>8,this[fv+1]=av&255,fv+2},k.prototype.writeInt32LE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,4,2147483647,-2147483648),this[fv]=av&255,this[fv+1]=av>>>8,this[fv+2]=av>>>16,this[fv+3]=av>>>24,fv+4},k.prototype.writeInt32BE=function(av,fv,lv){return av=+av,fv=fv>>>0,lv||Cv(this,av,fv,4,2147483647,-2147483648),av<0&&(av=4294967295+av+1),this[fv]=av>>>24,this[fv+1]=av>>>16,this[fv+2]=av>>>8,this[fv+3]=av&255,fv+4};function uv(av,fv,lv,kv,Iv,vv){if(lv+kv>av.length)throw new RangeError("Index out of range");if(lv<0)throw new RangeError("Index out of range")}function yv(av,fv,lv,kv,Iv){return fv=+fv,lv=lv>>>0,Iv||uv(av,fv,lv,4),n.write(av,fv,lv,kv,23,4),lv+4}k.prototype.writeFloatLE=function(av,fv,lv){return yv(this,av,fv,!0,lv)},k.prototype.writeFloatBE=function(av,fv,lv){return yv(this,av,fv,!1,lv)};function $v(av,fv,lv,kv,Iv){return fv=+fv,lv=lv>>>0,Iv||uv(av,fv,lv,8),n.write(av,fv,lv,kv,52,8),lv+8}k.prototype.writeDoubleLE=function(av,fv,lv){return $v(this,av,fv,!0,lv)},k.prototype.writeDoubleBE=function(av,fv,lv){return $v(this,av,fv,!1,lv)},k.prototype.copy=function(av,fv,lv,kv){if(!k.isBuffer(av))throw new TypeError("argument should be a Buffer");if(lv||(lv=0),!kv&&kv!==0&&(kv=this.length),fv>=av.length&&(fv=av.length),fv||(fv=0),kv>0&&kv<lv&&(kv=lv),kv===lv||av.length===0||this.length===0)return 0;if(fv<0)throw new RangeError("targetStart out of bounds");if(lv<0||lv>=this.length)throw new RangeError("Index out of range");if(kv<0)throw new RangeError("sourceEnd out of bounds");kv>this.length&&(kv=this.length),av.length-fv<kv-lv&&(kv=av.length-fv+lv);var Iv=kv-lv;return this===av&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(fv,lv,kv):Uint8Array.prototype.set.call(av,this.subarray(lv,kv),fv),Iv},k.prototype.fill=function(av,fv,lv,kv){if(typeof av=="string"){if(typeof fv=="string"?(kv=fv,fv=0,lv=this.length):typeof lv=="string"&&(kv=lv,lv=this.length),kv!==void 0&&typeof kv!="string")throw new TypeError("encoding must be a string");if(typeof kv=="string"&&!k.isEncoding(kv))throw new TypeError("Unknown encoding: "+kv);if(av.length===1){var Iv=av.charCodeAt(0);(kv==="utf8"&&Iv<128||kv==="latin1")&&(av=Iv)}}else typeof av=="number"?av=av&255:typeof av=="boolean"&&(av=Number(av));if(fv<0||this.length<fv||this.length<lv)throw new RangeError("Out of range index");if(lv<=fv)return this;fv=fv>>>0,lv=lv===void 0?this.length:lv>>>0,av||(av=0);var vv;if(typeof av=="number")for(vv=fv;vv<lv;++vv)this[vv]=av;else{var Ev=k.isBuffer(av)?av:k.from(av,kv),zv=Ev.length;if(zv===0)throw new TypeError('The value "'+av+'" is invalid for argument "value"');for(vv=0;vv<lv-fv;++vv)this[vv+fv]=Ev[vv%zv]}return this};var Dv=/[^+/0-9A-Za-z-_]/g;function Hv(av){if(av=av.split("=")[0],av=av.trim().replace(Dv,""),av.length<2)return"";for(;av.length%4!==0;)av=av+"=";return av}function Gv(av,fv){fv=fv||1/0;for(var lv,kv=av.length,Iv=null,vv=[],Ev=0;Ev<kv;++Ev){if(lv=av.charCodeAt(Ev),lv>55295&&lv<57344){if(!Iv){if(lv>56319){(fv-=3)>-1&&vv.push(239,191,189);continue}else if(Ev+1===kv){(fv-=3)>-1&&vv.push(239,191,189);continue}Iv=lv;continue}if(lv<56320){(fv-=3)>-1&&vv.push(239,191,189),Iv=lv;continue}lv=(Iv-55296<<10|lv-56320)+65536}else Iv&&(fv-=3)>-1&&vv.push(239,191,189);if(Iv=null,lv<128){if((fv-=1)<0)break;vv.push(lv)}else if(lv<2048){if((fv-=2)<0)break;vv.push(lv>>6|192,lv&63|128)}else if(lv<65536){if((fv-=3)<0)break;vv.push(lv>>12|224,lv>>6&63|128,lv&63|128)}else if(lv<1114112){if((fv-=4)<0)break;vv.push(lv>>18|240,lv>>12&63|128,lv>>6&63|128,lv&63|128)}else throw new Error("Invalid code point")}return vv}function f0(av){for(var fv=[],lv=0;lv<av.length;++lv)fv.push(av.charCodeAt(lv)&255);return fv}function qv(av,fv){for(var lv,kv,Iv,vv=[],Ev=0;Ev<av.length&&!((fv-=2)<0);++Ev)lv=av.charCodeAt(Ev),kv=lv>>8,Iv=lv%256,vv.push(Iv),vv.push(kv);return vv}function Pv(av){return e.toByteArray(Hv(av))}function Tv(av,fv,lv,kv){for(var Iv=0;Iv<kv&&!(Iv+lv>=fv.length||Iv>=av.length);++Iv)fv[Iv+lv]=av[Iv];return Iv}function Vv(av,fv){return av instanceof fv||av!=null&&av.constructor!=null&&av.constructor.name!=null&&av.constructor.name===fv.name}function Av(av){return av!==av}var y0=function(){for(var av="0123456789abcdef",fv=new Array(256),lv=0;lv<16;++lv)for(var kv=lv*16,Iv=0;Iv<16;++Iv)fv[kv+Iv]=av[lv]+av[Iv];return fv}()})(Bs);var jn$1=Bs,Dt$1=jn$1.Buffer,_e$1={},Ce$1;for(Ce$1 in jn$1)jn$1.hasOwnProperty(Ce$1)&&(Ce$1==="SlowBuffer"||Ce$1==="Buffer"||(_e$1[Ce$1]=jn$1[Ce$1]));var Rt$2=_e$1.Buffer={};for(Ce$1 in Dt$1)Dt$1.hasOwnProperty(Ce$1)&&(Ce$1==="allocUnsafe"||Ce$1==="allocUnsafeSlow"||(Rt$2[Ce$1]=Dt$1[Ce$1]));_e$1.Buffer.prototype=Dt$1.prototype;(!Rt$2.from||Rt$2.from===Uint8Array.from)&&(Rt$2.from=function(t,e,n){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Dt$1(t,e,n)});Rt$2.alloc||(Rt$2.alloc=function(t,e,n){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=Dt$1(t);return!e||e.length===0?r.fill(0):typeof n=="string"?r.fill(e,n):r.fill(e),r});if(!_e$1.kStringMaxLength)try{_e$1.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}_e$1.constants||(_e$1.constants={MAX_LENGTH:_e$1.kMaxLength},_e$1.kStringMaxLength&&(_e$1.constants.MAX_STRING_LENGTH=_e$1.kStringMaxLength));var ut$1=_e$1,Os={},Vo="\uFEFF";Os.PrependBOM=Ps;function Ps(t,e){this.encoder=t,this.addBOM=!0}Ps.prototype.write=function(t){return this.addBOM&&(t=Vo+t,this.addBOM=!1),this.encoder.write(t)};Ps.prototype.end=function(){return this.encoder.end()};Os.StripBOM=Ds;function Ds(t,e){this.decoder=t,this.pass=!1,this.options=e||{}}Ds.prototype.write=function(t){var e=this.decoder.write(t);return this.pass||!e||(e[0]===Vo&&(e=e.slice(1),typeof this.options.stripBOM=="function"&&this.options.stripBOM()),this.pass=!0),e};Ds.prototype.end=function(){return this.decoder.end()};var Uf=typeof Object.hasOwn>"u"?Function.call.bind(Object.prototype.hasOwnProperty):Object.hasOwn;function Ff(t,e){for(var n in e)Uf(e,n)&&(t[n]=e[n])}var Ho$1=Ff,Qi={},Ir={},Er={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ji;function Nf(){return Ji||(Ji=1,function(t,e){var n=Bs,r=n.Buffer;function g(y,k){for(var L in y)k[L]=y[L]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(g(n,e),e.Buffer=$);function $(y,k,L){return r(y,k,L)}$.prototype=Object.create(r.prototype),g(r,$),$.from=function(y,k,L){if(typeof y=="number")throw new TypeError("Argument must not be a number");return r(y,k,L)},$.alloc=function(y,k,L){if(typeof y!="number")throw new TypeError("Argument must be a number");var V=r(y);return k!==void 0?typeof L=="string"?V.fill(k,L):V.fill(k):V.fill(0),V},$.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return r(y)},$.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(y)}}(Er,Er.exports)),Er.exports}var ea$1;function zf(){if(ea$1)return Ir;ea$1=1;var t=Nf().Buffer,e=t.isEncoding||function(dr){switch(dr=""+dr,dr&&dr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(dr){if(!dr)return"utf8";for(var ec;;)switch(dr){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return dr;default:if(ec)return;dr=(""+dr).toLowerCase(),ec=!0}}function r(dr){var ec=n(dr);if(typeof ec!="string"&&(t.isEncoding===e||!e(dr)))throw new Error("Unknown encoding: "+dr);return ec||dr}Ir.StringDecoder=g;function g(dr){this.encoding=r(dr);var ec;switch(this.encoding){case"utf16le":this.text=j,this.end=ie,ec=4;break;case"utf8":this.fillLast=L,ec=4;break;case"base64":this.text=Oe,this.end=ur,ec=3;break;default:this.write=hr,this.end=Vr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(ec)}g.prototype.write=function(dr){if(dr.length===0)return"";var ec,tc;if(this.lastNeed){if(ec=this.fillLast(dr),ec===void 0)return"";tc=this.lastNeed,this.lastNeed=0}else tc=0;return tc<dr.length?ec?ec+this.text(dr,tc):this.text(dr,tc):ec||""},g.prototype.end=z,g.prototype.text=V,g.prototype.fillLast=function(dr){if(this.lastNeed<=dr.length)return dr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);dr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,dr.length),this.lastNeed-=dr.length};function $(dr){return dr<=127?0:dr>>5===6?2:dr>>4===14?3:dr>>3===30?4:dr>>6===2?-1:-2}function y(dr,ec,tc){var Xs=ec.length-1;if(Xs<tc)return 0;var rc=$(ec[Xs]);return rc>=0?(rc>0&&(dr.lastNeed=rc-1),rc):--Xs<tc||rc===-2?0:(rc=$(ec[Xs]),rc>=0?(rc>0&&(dr.lastNeed=rc-2),rc):--Xs<tc||rc===-2?0:(rc=$(ec[Xs]),rc>=0?(rc>0&&(rc===2?rc=0:dr.lastNeed=rc-3),rc):0))}function k(dr,ec,tc){if((ec[0]&192)!==128)return dr.lastNeed=0,"";if(dr.lastNeed>1&&ec.length>1){if((ec[1]&192)!==128)return dr.lastNeed=1,"";if(dr.lastNeed>2&&ec.length>2&&(ec[2]&192)!==128)return dr.lastNeed=2,""}}function L(dr){var ec=this.lastTotal-this.lastNeed,tc=k(this,dr);if(tc!==void 0)return tc;if(this.lastNeed<=dr.length)return dr.copy(this.lastChar,ec,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);dr.copy(this.lastChar,ec,0,dr.length),this.lastNeed-=dr.length}function V(dr,ec){var tc=y(this,dr,ec);if(!this.lastNeed)return dr.toString("utf8",ec);this.lastTotal=tc;var Xs=dr.length-(tc-this.lastNeed);return dr.copy(this.lastChar,0,Xs),dr.toString("utf8",ec,Xs)}function z(dr){var ec=dr&&dr.length?this.write(dr):"";return this.lastNeed?ec+"":ec}function j(dr,ec){if((dr.length-ec)%2===0){var tc=dr.toString("utf16le",ec);if(tc){var Xs=tc.charCodeAt(tc.length-1);if(Xs>=55296&&Xs<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=dr[dr.length-2],this.lastChar[1]=dr[dr.length-1],tc.slice(0,-1)}return tc}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=dr[dr.length-1],dr.toString("utf16le",ec,dr.length-1)}function ie(dr){var ec=dr&&dr.length?this.write(dr):"";if(this.lastNeed){var tc=this.lastTotal-this.lastNeed;return ec+this.lastChar.toString("utf16le",0,tc)}return ec}function Oe(dr,ec){var tc=(dr.length-ec)%3;return tc===0?dr.toString("base64",ec):(this.lastNeed=3-tc,this.lastTotal=3,tc===1?this.lastChar[0]=dr[dr.length-1]:(this.lastChar[0]=dr[dr.length-2],this.lastChar[1]=dr[dr.length-1]),dr.toString("base64",ec,dr.length-tc))}function ur(dr){var ec=dr&&dr.length?this.write(dr):"";return this.lastNeed?ec+this.lastChar.toString("base64",0,3-this.lastNeed):ec}function hr(dr){return dr.toString(this.encoding)}function Vr(dr){return dr&&dr.length?this.write(dr):""}return Ir}var Mr,ta$1;function Gf(){if(ta$1)return Mr;ta$1=1;var t=ut$1.Buffer;Mr={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:e};function e(V,z){this.enc=V.encodingName,this.bomAware=V.bomAware,this.enc==="base64"?this.encoder=$:this.enc==="utf8"?this.encoder=L:this.enc==="cesu8"&&(this.enc="utf8",this.encoder=y,t.from("eda0bdedb2a9","hex").toString()!==""&&(this.decoder=k,this.defaultCharUnicode=z.defaultCharUnicode))}e.prototype.encoder=g,e.prototype.decoder=r;var n=zf().StringDecoder;function r(V,z){this.decoder=new n(z.enc)}r.prototype.write=function(V){return t.isBuffer(V)||(V=t.from(V)),this.decoder.write(V)},r.prototype.end=function(){return this.decoder.end()};function g(V,z){this.enc=z.enc}g.prototype.write=function(V){return t.from(V,this.enc)},g.prototype.end=function(){};function $(V,z){this.prevStr=""}$.prototype.write=function(V){V=this.prevStr+V;var z=V.length-V.length%4;return this.prevStr=V.slice(z),V=V.slice(0,z),t.from(V,"base64")},$.prototype.end=function(){return t.from(this.prevStr,"base64")};function y(V,z){}y.prototype.write=function(V){for(var z=t.alloc(V.length*3),j=0,ie=0;ie<V.length;ie++){var Oe=V.charCodeAt(ie);Oe<128?z[j++]=Oe:Oe<2048?(z[j++]=192+(Oe>>>6),z[j++]=128+(Oe&63)):(z[j++]=224+(Oe>>>12),z[j++]=128+(Oe>>>6&63),z[j++]=128+(Oe&63))}return z.slice(0,j)},y.prototype.end=function(){};function k(V,z){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=z.defaultCharUnicode}k.prototype.write=function(V){for(var z=this.acc,j=this.contBytes,ie=this.accBytes,Oe="",ur=0;ur<V.length;ur++){var hr=V[ur];(hr&192)!==128?(j>0&&(Oe+=this.defaultCharUnicode,j=0),hr<128?Oe+=String.fromCharCode(hr):hr<224?(z=hr&31,j=1,ie=1):hr<240?(z=hr&15,j=2,ie=1):Oe+=this.defaultCharUnicode):j>0?(z=z<<6|hr&63,j--,ie++,j===0&&(ie===2&&z<128&&z>0?Oe+=this.defaultCharUnicode:ie===3&&z<2048?Oe+=this.defaultCharUnicode:Oe+=String.fromCharCode(z))):Oe+=this.defaultCharUnicode}return this.acc=z,this.contBytes=j,this.accBytes=ie,Oe},k.prototype.end=function(){var V=0;return this.contBytes>0&&(V+=this.defaultCharUnicode),V};function L(V,z){this.highSurrogate=""}return L.prototype.write=function(V){if(this.highSurrogate&&(V=this.highSurrogate+V,this.highSurrogate=""),V.length>0){var z=V.charCodeAt(V.length-1);z>=55296&&z<56320&&(this.highSurrogate=V[V.length-1],V=V.slice(0,V.length-1))}return t.from(V,this.enc)},L.prototype.end=function(){if(this.highSurrogate){var V=this.highSurrogate;return this.highSurrogate="",t.from(V,this.enc)}},Mr}var We$2={},na$1;function jf(){if(na$1)return We$2;na$1=1;var t=ut$1.Buffer;We$2._utf32=e;function e(V,z){this.iconv=z,this.bomAware=!0,this.isLE=V.isLE}We$2.utf32le={type:"_utf32",isLE:!0},We$2.utf32be={type:"_utf32",isLE:!1},We$2.ucs4le="utf32le",We$2.ucs4be="utf32be",e.prototype.encoder=n,e.prototype.decoder=r;function n(V,z){this.isLE=z.isLE,this.highSurrogate=0}n.prototype.write=function(V){for(var z=t.from(V,"ucs2"),j=t.alloc(z.length*2),ie=this.isLE?j.writeUInt32LE:j.writeUInt32BE,Oe=0,ur=0;ur<z.length;ur+=2){var hr=z.readUInt16LE(ur),Vr=hr>=55296&&hr<56320,dr=hr>=56320&&hr<57344;if(this.highSurrogate)if(Vr||!dr)ie.call(j,this.highSurrogate,Oe),Oe+=4;else{var ec=(this.highSurrogate-55296<<10|hr-56320)+65536;ie.call(j,ec,Oe),Oe+=4,this.highSurrogate=0;continue}Vr?this.highSurrogate=hr:(ie.call(j,hr,Oe),Oe+=4,this.highSurrogate=0)}return Oe<j.length&&(j=j.slice(0,Oe)),j},n.prototype.end=function(){if(this.highSurrogate){var V=t.alloc(4);return this.isLE?V.writeUInt32LE(this.highSurrogate,0):V.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,V}};function r(V,z){this.isLE=z.isLE,this.badChar=z.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}r.prototype.write=function(V){if(V.length===0)return"";var z=0,j=0,ie=t.alloc(V.length+4),Oe=0,ur=this.isLE,hr=this.overflow,Vr=this.badChar;if(hr.length>0){for(;z<V.length&&hr.length<4;z++)hr.push(V[z]);hr.length===4&&(ur?j=hr[z]|hr[z+1]<<8|hr[z+2]<<16|hr[z+3]<<24:j=hr[z+3]|hr[z+2]<<8|hr[z+1]<<16|hr[z]<<24,hr.length=0,Oe=g(ie,Oe,j,Vr))}for(;z<V.length-3;z+=4)ur?j=V[z]|V[z+1]<<8|V[z+2]<<16|V[z+3]<<24:j=V[z+3]|V[z+2]<<8|V[z+1]<<16|V[z]<<24,Oe=g(ie,Oe,j,Vr);for(;z<V.length;z++)hr.push(V[z]);return ie.slice(0,Oe).toString("ucs2")};function g(V,z,j,ie){if((j<0||j>1114111)&&(j=ie),j>=65536){j-=65536;var Oe=55296|j>>10;V[z++]=Oe&255,V[z++]=Oe>>8;var j=56320|j&1023}return V[z++]=j&255,V[z++]=j>>8,z}r.prototype.end=function(){this.overflow.length=0},We$2.utf32=$,We$2.ucs4="utf32";function $(V,z){this.iconv=z}$.prototype.encoder=y,$.prototype.decoder=k;function y(V,z){V=V||{},V.addBOM===void 0&&(V.addBOM=!0),this.encoder=z.iconv.getEncoder(V.defaultEncoding||"utf-32le",V)}y.prototype.write=function(V){return this.encoder.write(V)},y.prototype.end=function(){return this.encoder.end()};function k(V,z){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=V||{},this.iconv=z.iconv}k.prototype.write=function(V){if(!this.decoder){if(this.initialBufs.push(V),this.initialBufsLen+=V.length,this.initialBufsLen<32)return"";var z=L(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(z,this.options);for(var j="",ie=0;ie<this.initialBufs.length;ie++)j+=this.decoder.write(this.initialBufs[ie]);return this.initialBufs.length=this.initialBufsLen=0,j}return this.decoder.write(V)},k.prototype.end=function(){if(!this.decoder){var V=L(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(V,this.options);for(var z="",j=0;j<this.initialBufs.length;j++)z+=this.decoder.write(this.initialBufs[j]);var ie=this.decoder.end();return ie&&(z+=ie),this.initialBufs.length=this.initialBufsLen=0,z}return this.decoder.end()};function L(V,z){var j=[],ie=0,Oe=0,ur=0,hr=0,Vr=0;e:for(var dr=0;dr<V.length;dr++)for(var ec=V[dr],tc=0;tc<ec.length;tc++)if(j.push(ec[tc]),j.length===4){if(ie===0){if(j[0]===255&&j[1]===254&&j[2]===0&&j[3]===0)return"utf-32le";if(j[0]===0&&j[1]===0&&j[2]===254&&j[3]===255)return"utf-32be"}if((j[0]!==0||j[1]>16)&&ur++,(j[3]!==0||j[2]>16)&&Oe++,j[0]===0&&j[1]===0&&(j[2]!==0||j[3]!==0)&&Vr++,(j[0]!==0||j[1]!==0)&&j[2]===0&&j[3]===0&&hr++,j.length=0,ie++,ie>=100)break e}return Vr-ur>hr-Oe?"utf-32be":Vr-ur<hr-Oe?"utf-32le":z||"utf-32le"}return We$2}var An$1={},ra$1;function Vf(){if(ra$1)return An$1;ra$1=1;var t=ut$1.Buffer;An$1.utf16be=e;function e(){}e.prototype.encoder=n,e.prototype.decoder=r,e.prototype.bomAware=!0;function n(){}n.prototype.write=function(L){for(var V=t.from(L,"ucs2"),z=0;z<V.length;z+=2){var j=V[z];V[z]=V[z+1],V[z+1]=j}return V},n.prototype.end=function(){};function r(){this.overflowByte=-1}r.prototype.write=function(L){if(L.length==0)return"";var V=t.alloc(L.length+1),z=0,j=0;for(this.overflowByte!==-1&&(V[0]=L[0],V[1]=this.overflowByte,z=1,j=2);z<L.length-1;z+=2,j+=2)V[j]=L[z+1],V[j+1]=L[z];return this.overflowByte=z==L.length-1?L[L.length-1]:-1,V.slice(0,j).toString("ucs2")},r.prototype.end=function(){this.overflowByte=-1},An$1.utf16=g;function g(L,V){this.iconv=V}g.prototype.encoder=$,g.prototype.decoder=y;function $(L,V){L=L||{},L.addBOM===void 0&&(L.addBOM=!0),this.encoder=V.iconv.getEncoder("utf-16le",L)}$.prototype.write=function(L){return this.encoder.write(L)},$.prototype.end=function(){return this.encoder.end()};function y(L,V){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=L||{},this.iconv=V.iconv}y.prototype.write=function(L){if(!this.decoder){if(this.initialBufs.push(L),this.initialBufsLen+=L.length,this.initialBufsLen<16)return"";var V=k(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(V,this.options);for(var z="",j=0;j<this.initialBufs.length;j++)z+=this.decoder.write(this.initialBufs[j]);return this.initialBufs.length=this.initialBufsLen=0,z}return this.decoder.write(L)},y.prototype.end=function(){if(!this.decoder){var L=k(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(L,this.options);for(var V="",z=0;z<this.initialBufs.length;z++)V+=this.decoder.write(this.initialBufs[z]);var j=this.decoder.end();return j&&(V+=j),this.initialBufs.length=this.initialBufsLen=0,V}return this.decoder.end()};function k(L,V){var z=[],j=0,ie=0,Oe=0;e:for(var ur=0;ur<L.length;ur++)for(var hr=L[ur],Vr=0;Vr<hr.length;Vr++)if(z.push(hr[Vr]),z.length===2){if(j===0){if(z[0]===255&&z[1]===254)return"utf-16le";if(z[0]===254&&z[1]===255)return"utf-16be"}if(z[0]===0&&z[1]!==0&&Oe++,z[0]!==0&&z[1]===0&&ie++,z.length=0,j++,j>=100)break e}return Oe>ie?"utf-16be":Oe<ie?"utf-16le":V||"utf-16le"}return An$1}var Ht$2={},sa$1;function Hf(){if(sa$1)return Ht$2;sa$1=1;var t=ut$1.Buffer;Ht$2.utf7=e,Ht$2.unicode11utf7="utf7";function e(hr,Vr){this.iconv=Vr}e.prototype.encoder=r,e.prototype.decoder=g,e.prototype.bomAware=!0;var n=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function r(hr,Vr){this.iconv=Vr.iconv}r.prototype.write=function(hr){return t.from(hr.replace(n,(function(Vr){return"+"+(Vr==="+"?"":this.iconv.encode(Vr,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}).bind(this)))},r.prototype.end=function(){};function g(hr,Vr){this.iconv=Vr.iconv,this.inBase64=!1,this.base64Accum=""}for(var $=/[A-Za-z0-9\/+]/,y=[],k=0;k<256;k++)y[k]=$.test(String.fromCharCode(k));var L=43,V=45,z=38;g.prototype.write=function(hr){for(var Vr="",dr=0,ec=this.inBase64,tc=this.base64Accum,Xs=0;Xs<hr.length;Xs++)if(!ec)hr[Xs]==L&&(Vr+=this.iconv.decode(hr.slice(dr,Xs),"ascii"),dr=Xs+1,ec=!0);else if(!y[hr[Xs]]){if(Xs==dr&&hr[Xs]==V)Vr+="+";else{var rc=tc+this.iconv.decode(hr.slice(dr,Xs),"ascii");Vr+=this.iconv.decode(t.from(rc,"base64"),"utf16-be")}hr[Xs]!=V&&Xs--,dr=Xs+1,ec=!1,tc=""}if(!ec)Vr+=this.iconv.decode(hr.slice(dr),"ascii");else{var rc=tc+this.iconv.decode(hr.slice(dr),"ascii"),ic=rc.length-rc.length%8;tc=rc.slice(ic),rc=rc.slice(0,ic),Vr+=this.iconv.decode(t.from(rc,"base64"),"utf16-be")}return this.inBase64=ec,this.base64Accum=tc,Vr},g.prototype.end=function(){var hr="";return this.inBase64&&this.base64Accum.length>0&&(hr=this.iconv.decode(t.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",hr},Ht$2.utf7imap=j;function j(hr,Vr){this.iconv=Vr}j.prototype.encoder=ie,j.prototype.decoder=Oe,j.prototype.bomAware=!0;function ie(hr,Vr){this.iconv=Vr.iconv,this.inBase64=!1,this.base64Accum=t.alloc(6),this.base64AccumIdx=0}ie.prototype.write=function(hr){for(var Vr=this.inBase64,dr=this.base64Accum,ec=this.base64AccumIdx,tc=t.alloc(hr.length*5+10),Xs=0,rc=0;rc<hr.length;rc++){var ic=hr.charCodeAt(rc);ic>=32&&ic<=126?(Vr&&(ec>0&&(Xs+=tc.write(dr.slice(0,ec).toString("base64").replace(/\//g,",").replace(/=+$/,""),Xs),ec=0),tc[Xs++]=V,Vr=!1),Vr||(tc[Xs++]=ic,ic===z&&(tc[Xs++]=V))):(Vr||(tc[Xs++]=z,Vr=!0),Vr&&(dr[ec++]=ic>>8,dr[ec++]=ic&255,ec==dr.length&&(Xs+=tc.write(dr.toString("base64").replace(/\//g,","),Xs),ec=0)))}return this.inBase64=Vr,this.base64AccumIdx=ec,tc.slice(0,Xs)},ie.prototype.end=function(){var hr=t.alloc(10),Vr=0;return this.inBase64&&(this.base64AccumIdx>0&&(Vr+=hr.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),Vr),this.base64AccumIdx=0),hr[Vr++]=V,this.inBase64=!1),hr.slice(0,Vr)};function Oe(hr,Vr){this.iconv=Vr.iconv,this.inBase64=!1,this.base64Accum=""}var ur=y.slice();return ur[44]=!0,Oe.prototype.write=function(hr){for(var Vr="",dr=0,ec=this.inBase64,tc=this.base64Accum,Xs=0;Xs<hr.length;Xs++)if(!ec)hr[Xs]==z&&(Vr+=this.iconv.decode(hr.slice(dr,Xs),"ascii"),dr=Xs+1,ec=!0);else if(!ur[hr[Xs]]){if(Xs==dr&&hr[Xs]==V)Vr+="&";else{var rc=tc+this.iconv.decode(hr.slice(dr,Xs),"ascii").replace(/,/g,"/");Vr+=this.iconv.decode(t.from(rc,"base64"),"utf16-be")}hr[Xs]!=V&&Xs--,dr=Xs+1,ec=!1,tc=""}if(!ec)Vr+=this.iconv.decode(hr.slice(dr),"ascii");else{var rc=tc+this.iconv.decode(hr.slice(dr),"ascii").replace(/,/g,"/"),ic=rc.length-rc.length%8;tc=rc.slice(ic),rc=rc.slice(0,ic),Vr+=this.iconv.decode(t.from(rc,"base64"),"utf16-be")}return this.inBase64=ec,this.base64Accum=tc,Vr},Oe.prototype.end=function(){var hr="";return this.inBase64&&this.base64Accum.length>0&&(hr=this.iconv.decode(t.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",hr},Ht$2}var kr={},ia$1;function Wf(){if(ia$1)return kr;ia$1=1;var t=ut$1.Buffer;kr._sbcs=e;function e(g,$){if(!g)throw new Error("SBCS codec is called without the data.");if(!g.chars||g.chars.length!==128&&g.chars.length!==256)throw new Error("Encoding '"+g.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(g.chars.length===128){for(var y="",k=0;k<128;k++)y+=String.fromCharCode(k);g.chars=y+g.chars}this.decodeBuf=t.from(g.chars,"ucs2");for(var L=t.alloc(65536,$.defaultCharSingleByte.charCodeAt(0)),k=0;k<g.chars.length;k++)L[g.chars.charCodeAt(k)]=k;this.encodeBuf=L}e.prototype.encoder=n,e.prototype.decoder=r;function n(g,$){this.encodeBuf=$.encodeBuf}n.prototype.write=function(g){for(var $=t.alloc(g.length),y=0;y<g.length;y++)$[y]=this.encodeBuf[g.charCodeAt(y)];return $},n.prototype.end=function(){};function r(g,$){this.decodeBuf=$.decodeBuf}return r.prototype.write=function(g){for(var $=this.decodeBuf,y=t.alloc(g.length*2),k=0,L=0,V=0;V<g.length;V++)k=g[V]*2,L=V*2,y[L]=$[k],y[L+1]=$[k+1];return y.toString("ucs2")},r.prototype.end=function(){},kr}var aa$1,oa$1;function $f(){return oa$1||(oa$1=1,aa$1={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),aa$1}var ca$1,la$1;function qf(){return la$1||(la$1=1,ca$1={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\uFEFF"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},iso646cn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}`},iso646jp:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_\`abcdefghijklmnopqrstuvwxyz{|}`},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),ca$1}var Lr={},ha$1;function Xf(){if(ha$1)return Lr;ha$1=1;var t=ut$1.Buffer;Lr._dbcs=L;for(var e=-1,n=-2,r=-10,g=-1e3,$=new Array(256),y=-1,k=0;k<256;k++)$[k]=e;function L(ie,Oe){if(this.encodingName=ie.encodingName,!ie)throw new Error("DBCS codec is called without the data.");if(!ie.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var ur=ie.table();this.decodeTables=[],this.decodeTables[0]=$.slice(0),this.decodeTableSeq=[];for(var hr=0;hr<ur.length;hr++)this._addDecodeChunk(ur[hr]);if(typeof ie.gb18030=="function"){this.gb18030=ie.gb18030();var Vr=this.decodeTables.length;this.decodeTables.push($.slice(0));var dr=this.decodeTables.length;this.decodeTables.push($.slice(0));for(var ec=this.decodeTables[0],hr=129;hr<=254;hr++)for(var tc=this.decodeTables[g-ec[hr]],Xs=48;Xs<=57;Xs++){if(tc[Xs]===e)tc[Xs]=g-Vr;else if(tc[Xs]>g)throw new Error("gb18030 decode tables conflict at byte 2");for(var rc=this.decodeTables[g-tc[Xs]],ic=129;ic<=254;ic++){if(rc[ic]===e)rc[ic]=g-dr;else{if(rc[ic]===g-dr)continue;if(rc[ic]>g)throw new Error("gb18030 decode tables conflict at byte 3")}for(var _c=this.decodeTables[g-rc[ic]],qm=48;qm<=57;qm++)_c[qm]===e&&(_c[qm]=n)}}}this.defaultCharUnicode=Oe.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var Xm={};if(ie.encodeSkipVals)for(var hr=0;hr<ie.encodeSkipVals.length;hr++){var Km=ie.encodeSkipVals[hr];if(typeof Km=="number")Xm[Km]=!0;else for(var Xs=Km.from;Xs<=Km.to;Xs++)Xm[Xs]=!0}if(this._fillEncodeTable(0,0,Xm),ie.encodeAdd)for(var tv in ie.encodeAdd)Object.prototype.hasOwnProperty.call(ie.encodeAdd,tv)&&this._setEncodeChar(tv.charCodeAt(0),ie.encodeAdd[tv]);this.defCharSB=this.encodeTable[0][Oe.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===e&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===e&&(this.defCharSB=63)}L.prototype.encoder=V,L.prototype.decoder=z,L.prototype._getDecodeTrieNode=function(ie){for(var Oe=[];ie>0;ie>>>=8)Oe.push(ie&255);Oe.length==0&&Oe.push(0);for(var ur=this.decodeTables[0],hr=Oe.length-1;hr>0;hr--){var Vr=ur[Oe[hr]];if(Vr==e)ur[Oe[hr]]=g-this.decodeTables.length,this.decodeTables.push(ur=$.slice(0));else if(Vr<=g)ur=this.decodeTables[g-Vr];else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+ie.toString(16))}return ur},L.prototype._addDecodeChunk=function(ie){var Oe=parseInt(ie[0],16),ur=this._getDecodeTrieNode(Oe);Oe=Oe&255;for(var hr=1;hr<ie.length;hr++){var Vr=ie[hr];if(typeof Vr=="string")for(var dr=0;dr<Vr.length;){var ec=Vr.charCodeAt(dr++);if(ec>=55296&&ec<56320){var tc=Vr.charCodeAt(dr++);if(tc>=56320&&tc<57344)ur[Oe++]=65536+(ec-55296)*1024+(tc-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+ie[0])}else if(ec>4080&&ec<=4095){for(var Xs=4095-ec+2,rc=[],ic=0;ic<Xs;ic++)rc.push(Vr.charCodeAt(dr++));ur[Oe++]=r-this.decodeTableSeq.length,this.decodeTableSeq.push(rc)}else ur[Oe++]=ec}else if(typeof Vr=="number")for(var _c=ur[Oe-1]+1,dr=0;dr<Vr;dr++)ur[Oe++]=_c++;else throw new Error("Incorrect type '"+typeof Vr+"' given in "+this.encodingName+" at chunk "+ie[0])}if(Oe>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+ie[0]+": too long"+Oe)},L.prototype._getEncodeBucket=function(ie){var Oe=ie>>8;return this.encodeTable[Oe]===void 0&&(this.encodeTable[Oe]=$.slice(0)),this.encodeTable[Oe]},L.prototype._setEncodeChar=function(ie,Oe){var ur=this._getEncodeBucket(ie),hr=ie&255;ur[hr]<=r?this.encodeTableSeq[r-ur[hr]][y]=Oe:ur[hr]==e&&(ur[hr]=Oe)},L.prototype._setEncodeSequence=function(ie,Oe){var ur=ie[0],hr=this._getEncodeBucket(ur),Vr=ur&255,dr;hr[Vr]<=r?dr=this.encodeTableSeq[r-hr[Vr]]:(dr={},hr[Vr]!==e&&(dr[y]=hr[Vr]),hr[Vr]=r-this.encodeTableSeq.length,this.encodeTableSeq.push(dr));for(var ec=1;ec<ie.length-1;ec++){var tc=dr[ur];typeof tc=="object"?dr=tc:(dr=dr[ur]={},tc!==void 0&&(dr[y]=tc))}ur=ie[ie.length-1],dr[ur]=Oe},L.prototype._fillEncodeTable=function(ie,Oe,ur){for(var hr=this.decodeTables[ie],Vr=!1,dr={},ec=0;ec<256;ec++){var tc=hr[ec],Xs=Oe+ec;if(!ur[Xs])if(tc>=0)this._setEncodeChar(tc,Xs),Vr=!0;else if(tc<=g){var rc=g-tc;if(!dr[rc]){var ic=Xs<<8>>>0;this._fillEncodeTable(rc,ic,ur)?Vr=!0:dr[rc]=!0}}else tc<=r&&(this._setEncodeSequence(this.decodeTableSeq[r-tc],Xs),Vr=!0)}return Vr};function V(ie,Oe){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=Oe.encodeTable,this.encodeTableSeq=Oe.encodeTableSeq,this.defaultCharSingleByte=Oe.defCharSB,this.gb18030=Oe.gb18030}V.prototype.write=function(ie){for(var Oe=t.alloc(ie.length*(this.gb18030?4:3)),ur=this.leadSurrogate,hr=this.seqObj,Vr=-1,dr=0,ec=0;;){if(Vr===-1){if(dr==ie.length)break;var tc=ie.charCodeAt(dr++)}else{var tc=Vr;Vr=-1}if(tc>=55296&&tc<57344)if(tc<56320)if(ur===-1){ur=tc;continue}else ur=tc,tc=e;else ur!==-1?(tc=65536+(ur-55296)*1024+(tc-56320),ur=-1):tc=e;else ur!==-1&&(Vr=tc,tc=e,ur=-1);var Xs=e;if(hr!==void 0&&tc!=e){var rc=hr[tc];if(typeof rc=="object"){hr=rc;continue}else typeof rc=="number"?Xs=rc:rc==null&&(rc=hr[y],rc!==void 0&&(Xs=rc,Vr=tc));hr=void 0}else if(tc>=0){var ic=this.encodeTable[tc>>8];if(ic!==void 0&&(Xs=ic[tc&255]),Xs<=r){hr=this.encodeTableSeq[r-Xs];continue}if(Xs==e&&this.gb18030){var _c=j(this.gb18030.uChars,tc);if(_c!=-1){var Xs=this.gb18030.gbChars[_c]+(tc-this.gb18030.uChars[_c]);Oe[ec++]=129+Math.floor(Xs/12600),Xs=Xs%12600,Oe[ec++]=48+Math.floor(Xs/1260),Xs=Xs%1260,Oe[ec++]=129+Math.floor(Xs/10),Xs=Xs%10,Oe[ec++]=48+Xs;continue}}}Xs===e&&(Xs=this.defaultCharSingleByte),Xs<256?Oe[ec++]=Xs:Xs<65536?(Oe[ec++]=Xs>>8,Oe[ec++]=Xs&255):Xs<16777216?(Oe[ec++]=Xs>>16,Oe[ec++]=Xs>>8&255,Oe[ec++]=Xs&255):(Oe[ec++]=Xs>>>24,Oe[ec++]=Xs>>>16&255,Oe[ec++]=Xs>>>8&255,Oe[ec++]=Xs&255)}return this.seqObj=hr,this.leadSurrogate=ur,Oe.slice(0,ec)},V.prototype.end=function(){if(!(this.leadSurrogate===-1&&this.seqObj===void 0)){var ie=t.alloc(10),Oe=0;if(this.seqObj){var ur=this.seqObj[y];ur!==void 0&&(ur<256?ie[Oe++]=ur:(ie[Oe++]=ur>>8,ie[Oe++]=ur&255)),this.seqObj=void 0}return this.leadSurrogate!==-1&&(ie[Oe++]=this.defaultCharSingleByte,this.leadSurrogate=-1),ie.slice(0,Oe)}},V.prototype.findIdx=j;function z(ie,Oe){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=Oe.decodeTables,this.decodeTableSeq=Oe.decodeTableSeq,this.defaultCharUnicode=Oe.defaultCharUnicode,this.gb18030=Oe.gb18030}z.prototype.write=function(ie){for(var Oe=t.alloc(ie.length*2),ur=this.nodeIdx,hr=this.prevBytes,Vr=this.prevBytes.length,dr=-this.prevBytes.length,ec,tc=0,Xs=0;tc<ie.length;tc++){var rc=tc>=0?ie[tc]:hr[tc+Vr],ec=this.decodeTables[ur][rc];if(!(ec>=0))if(ec===e)ec=this.defaultCharUnicode.charCodeAt(0),tc=dr;else if(ec===n){if(tc>=3)var ic=(ie[tc-3]-129)*12600+(ie[tc-2]-48)*1260+(ie[tc-1]-129)*10+(rc-48);else var ic=(hr[tc-3+Vr]-129)*12600+((tc-2>=0?ie[tc-2]:hr[tc-2+Vr])-48)*1260+((tc-1>=0?ie[tc-1]:hr[tc-1+Vr])-129)*10+(rc-48);var _c=j(this.gb18030.gbChars,ic);ec=this.gb18030.uChars[_c]+ic-this.gb18030.gbChars[_c]}else if(ec<=g){ur=g-ec;continue}else if(ec<=r){for(var qm=this.decodeTableSeq[r-ec],Xm=0;Xm<qm.length-1;Xm++)ec=qm[Xm],Oe[Xs++]=ec&255,Oe[Xs++]=ec>>8;ec=qm[qm.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+ec+" at "+ur+"/"+rc);if(ec>=65536){ec-=65536;var Km=55296|ec>>10;Oe[Xs++]=Km&255,Oe[Xs++]=Km>>8,ec=56320|ec&1023}Oe[Xs++]=ec&255,Oe[Xs++]=ec>>8,ur=0,dr=tc+1}return this.nodeIdx=ur,this.prevBytes=dr>=0?Array.prototype.slice.call(ie,dr):hr.slice(dr+Vr).concat(Array.prototype.slice.call(ie)),Oe.slice(0,Xs).toString("ucs2")},z.prototype.end=function(){for(var ie="";this.prevBytes.length>0;){ie+=this.defaultCharUnicode;var Oe=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,Oe.length>0&&(ie+=this.write(Oe))}return this.prevBytes=[],this.nodeIdx=0,ie};function j(ie,Oe){if(ie[0]>Oe)return-1;for(var ur=0,hr=ie.length;ur<hr-1;){var Vr=ur+(hr-ur+1>>1);ie[Vr]<=Oe?ur=Vr:hr=Vr}return ur}return Lr}const Yf=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],Zf=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]],Br=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]],ua$1=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],Kf=[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],Qf=[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3],Jf={uChars:Kf,gbChars:Qf},eg=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]],da$1=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]],tg=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];var pa$1,fa$1;function ng(){return fa$1||(fa$1=1,pa$1={shiftjis:{type:"_dbcs",table:function(){return Yf},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return Zf},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return Br}},gbk:{type:"_dbcs",table:function(){return Br.concat(ua$1)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return Br.concat(ua$1)},gb18030:function(){return Jf},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return eg}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return da$1}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return da$1.concat(tg)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}),pa$1}var ga$1;function rg(){return ga$1||(ga$1=1,function(t){for(var e=Ho$1,n=[Gf(),jf(),Vf(),Hf(),Wf(),$f(),qf(),Xf(),ng()],r=0;r<n.length;r++){var g=n[r];e(t,g)}}(Qi)),Qi}var Ar,ma$1;function sg(){if(ma$1)return Ar;ma$1=1;var t=ut$1.Buffer;return Ar=function(e){var n=e.Transform;function r($,y){this.conv=$,y=y||{},y.decodeStrings=!1,n.call(this,y)}r.prototype=Object.create(n.prototype,{constructor:{value:r}}),r.prototype._transform=function($,y,k){if(typeof $!="string")return k(new Error("Iconv encoding stream needs strings as its input."));try{var L=this.conv.write($);L&&L.length&&this.push(L),k()}catch(V){k(V)}},r.prototype._flush=function($){try{var y=this.conv.end();y&&y.length&&this.push(y),$()}catch(k){$(k)}},r.prototype.collect=function($){var y=[];return this.on("error",$),this.on("data",function(k){y.push(k)}),this.on("end",function(){$(null,t.concat(y))}),this};function g($,y){this.conv=$,y=y||{},y.encoding=this.encoding="utf8",n.call(this,y)}return g.prototype=Object.create(n.prototype,{constructor:{value:g}}),g.prototype._transform=function($,y,k){if(!t.isBuffer($)&&!($ instanceof Uint8Array))return k(new Error("Iconv decoding stream needs buffers as its input."));try{var L=this.conv.write($);L&&L.length&&this.push(L,this.encoding),k()}catch(V){k(V)}},g.prototype._flush=function($){try{var y=this.conv.end();y&&y.length&&this.push(y,this.encoding),$()}catch(k){$(k)}},g.prototype.collect=function($){var y="";return this.on("error",$),this.on("data",function(k){y+=k}),this.on("end",function(){$(null,y)}),this},{IconvLiteEncoderStream:r,IconvLiteDecoderStream:g}},Ar}const ig={},ag=Object.freeze(Object.defineProperty({__proto__:null,default:ig},Symbol.toStringTag,{value:"Module"})),og=Mf(ag);(function(t){var e=ut$1.Buffer,n=Os,r=Ho$1,g=t.exports;g.encodings=null,g.defaultCharUnicode="",g.defaultCharSingleByte="?",g.encode=function(y,k,L){y=""+(y||"");var V=g.getEncoder(k,L),z=V.write(y),j=V.end();return j&&j.length>0?e.concat([z,j]):z},g.decode=function(y,k,L){typeof y=="string"&&(g.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),g.skipDecodeWarning=!0),y=e.from(""+(y||""),"binary"));var V=g.getDecoder(k,L),z=V.write(y),j=V.end();return j?z+j:z},g.encodingExists=function(y){try{return g.getCodec(y),!0}catch{return!1}},g.toEncoding=g.encode,g.fromEncoding=g.decode,g._codecDataCache={__proto__:null},g.getCodec=function(y){if(!g.encodings){var k=rg();g.encodings={__proto__:null},r(g.encodings,k)}for(var L=g._canonicalizeEncoding(y),V={};;){var z=g._codecDataCache[L];if(z)return z;var j=g.encodings[L];switch(typeof j){case"string":L=j;break;case"object":for(var ie in j)V[ie]=j[ie];V.encodingName||(V.encodingName=L),L=j.type;break;case"function":return V.encodingName||(V.encodingName=L),z=new j(V,g),g._codecDataCache[V.encodingName]=z,z;default:throw new Error("Encoding not recognized: '"+y+"' (searched as: '"+L+"')")}}},g._canonicalizeEncoding=function(y){return(""+y).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},g.getEncoder=function(y,k){var L=g.getCodec(y),V=new L.encoder(k,L);return L.bomAware&&k&&k.addBOM&&(V=new n.PrependBOM(V,k)),V},g.getDecoder=function(y,k){var L=g.getCodec(y),V=new L.decoder(k,L);return L.bomAware&&!(k&&k.stripBOM===!1)&&(V=new n.StripBOM(V,k)),V},g.enableStreamingAPI=function(y){if(!g.supportsStreams){var k=sg()(y);g.IconvLiteEncoderStream=k.IconvLiteEncoderStream,g.IconvLiteDecoderStream=k.IconvLiteDecoderStream,g.encodeStream=function(L,V){return new g.IconvLiteEncoderStream(g.getEncoder(L,V),V)},g.decodeStream=function(L,V){return new g.IconvLiteDecoderStream(g.getDecoder(L,V),V)},g.supportsStreams=!0}};var $;try{$=og}catch{}$&&$.Transform?g.enableStreamingAPI($):g.encodeStream=g.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}})(Go$1);var cg=Go$1.exports;const lg=Ef(cg);class Rs extends Va$1{constructor(e,n,r,g){var $;super(),this.fontSize=n,this.shape=r,this.font=g,this.code=e,g.data.header.fontType===me$2.BIGFONT?this.width=this.calcWidth():this.width=(($=r.lastPoint)==null?void 0:$.x)??this.calcWidth()}calcWidth(){const e=this.shape.bbox;return e.maxX-e.minX}offset(e){return new Rs(this.code,this.fontSize,this.shape.offset(e),this.font)}toGeometry(){let e=this.font.cache.getGeometry(this.code,this.fontSize);if(e==null){const n=this.shape.polylines,r=[],g=[];let $=0;e=new BufferGeometry;for(let y=0;y<n.length;y++){const k=n[y];for(let L=0;L<k.length;L++){const V=k[L];r.push(V.x,V.y,0),L===k.length-1||g.push($,$+1),$++}}e.setAttribute("position",new Float32BufferAttribute(r,3)),e.setIndex(g)}return e}}class hg extends ja$1{constructor(e){super(e),this.type="shx",this.font=new If(e.data),this.data=this.font.fontData}hasChar(e){const n=this.getCode(e);return this.font.hasChar(n)}hasCode(e){return this.font.hasChar(e)}generateShapes(e,n){const r=[];let g=0;for(let $=0;$<e.length;$++){const y=e[$];if(y===" "){g+=n;continue}const k=this.getCharShape(y,n);if(!k){g+=n,this.addUnsupportedChar(y);continue}r.push(k.offset(new oe$1(g,0))),g+=k.width}return r}getScaleFactor(){return 1}getCharShape(e,n){return this.getCodeShape(this.getCode(e),n)}getCodeShape(e,n){const r=this.font.getCharShape(e,n);return r?new Rs(e,n,r,this):void 0}getNotFoundTextShape(e){const n=this.font.fontData.header.fontType===me$2.BIGFONT?"":"?";return this.getCharShape(n,e)}getCode(e){if(this.font.fontData.header.fontType===me$2.BIGFONT&&this.encoding){const n=lg.encode(e[0],this.encoding);return n.length===1?n[0]:n[0]<<8|n[1]}else return e.charCodeAt(0)}}let Or=class __{constructor(){}static get instance(){return __._instance||(__._instance=new __),__._instance}createFont(e){if(e.type==="shx")return new hg(e);if(e.type==="mesh")return new yf(e);throw new Error("Unsupported font data type")}},Xe$2=class w_{constructor(){this.fontMapping={},this.loadedFontMap=new Map,this.unsupportedChars={},this.missedFonts={},this.enableFontCache=!0,this.defaultFont="simkai",this.events={fontNotFound:new ti$1,fontLoaded:new ti$1},this.loader=new FileLoader,this.loader.setResponseType("arraybuffer"),this.fileNames=[],this.fontLoader=new Wo$1}static get instance(){return w_._instance||(w_._instance=new w_),w_._instance}get baseUrl(){return this.fontLoader.baseUrl}set baseUrl(e){this.fontLoader.baseUrl=e}setFontMapping(e){this.fontMapping=e}setFontLoader(e){this.fontLoader=e}async getAvailableFonts(){return await this.fontLoader.getAvailableFonts()}isDefaultFontLoaded(){return this.loadedFontMap.get(this.defaultFont.toLowerCase())!=null}async loadDefaultFont(){return await this.loadFontsByNames(this.defaultFont)}async loadFontsByNames(e){return e=Array.isArray(e)?e:[e],await this.fontLoader.load(e)}async loadFonts(e){e=Array.isArray(e)?e:[e];const n=[];for(let g=0;g<e.length;g++)n.push(this.loadFont(e[g]));const r=[];return await Promise.allSettled(n).then(g=>{g.forEach(($,y)=>{const k=$.status==="fulfilled",L=e[y].url,V=oi$1(L.toLowerCase());r.push({fontName:V,url:L,status:k?"Success":"FailedToLoad"}),k&&this.fileNames.push(V)})}),r}findAndReplaceFont(e){let n=this.loadedFontMap.get(e.toLowerCase());if(n==null){const r=this.fontMapping[e];if(r)return n=this.loadedFontMap.get(r.toLowerCase()),r}return n?e:this.defaultFont}getFontByName(e,n=!0){if(this.loadedFontMap.size===0)return;e==null&&(e="");const r=e.lastIndexOf(".");(r>0&&r==e.length-4||r==e.length-5)&&(e=e.substring(0,r));const g=this.loadedFontMap.get(e.toLowerCase());if(!g){n&&this.recordMissedFonts(e);return}return g}getFontByChar(e){for(const[,n]of this.loadedFontMap)if(n.hasChar(e))return n}getCharShape(e,n,r){let g=this.getFontByName(n);return g||(g=this.getFontByChar(e)),g==null?void 0:g.getCharShape(e,r)}getFontScaleFactor(e){const n=this.loadedFontMap.get(e.toLowerCase());return n?n.getScaleFactor():1}getFontType(e){const n=this.loadedFontMap.get(e.toLowerCase());return n==null?void 0:n.type}getNotFoundTextShape(e){for(const[,n]of this.loadedFontMap){const r=n.getNotFoundTextShape(e);if(r)return r}}isFontLoaded(e){return this.loadedFontMap.has(e.toLowerCase())}recordMissedFonts(e){e&&(this.missedFonts[e]||(this.missedFonts[e]=0),this.missedFonts[e]++,this.events.fontNotFound.dispatch({fontName:e,count:this.missedFonts[e]}))}async loadFont(e){if(!$a$1(e.file))throw new Error(`Invalid font file name: ${e.file}`);const n=this.fontInfoToFontData(e),r=n.name;if(this.isFontLoaded(n.name))return;const g=await gr.instance.get(r);if(g){const $=Or.instance.createFont(g);this.loadedFontMap.set(r,$)}else{const $=await this.loader.loadAsync(e.url);n.data=$;const y=Or.instance.createFont(n);y&&(e.name.forEach(k=>y.names.add(k)),this.loadedFontMap.set(r,y),this.enableFontCache&&await gr.instance.set(r,n))}this.events.fontLoaded.dispatch({fontName:r})}fontInfoToFontData(e){const n=oi$1(e.file).toLowerCase(),r=["ttf","otf","woff"].includes(e.type)?"mesh":e.type;return{name:n,alias:e.name,type:r,encoding:e.encoding}}async getAllFontsFromCache(){if(this.loadedFontMap.size!==0)return;const e=await gr.instance.getAll();for(const n of e){const{name:r}=n;if(this.fileNames&&!this.fileNames.includes(r))continue;const g=Or.instance.createFont(n);this.loadedFontMap.set(r,g)}}getUnsupportedChar(){for(const[,e]of this.loadedFontMap)Object.assign(this.unsupportedChars,e.unsupportedChars);return this.unsupportedChars}release(e){return e==null?(this.loadedFontMap.clear(),!0):this.loadedFontMap.delete(e)}},Wo$1=class{constructor(){this._avaiableFonts=[],this._avaiableFontMap=new Map,this._baseUrl="https://mlightcad.gitlab.io/cad-data/fonts/"}get baseUrl(){return this._baseUrl}set baseUrl(e){this._baseUrl=e,this.onFontUrlChanged(e)}get avaiableFonts(){return this._avaiableFonts}onFontUrlChanged(e){}async getAvailableFonts(){if(this._avaiableFonts.length==0){const e=this._baseUrl+"fonts.json";try{const n=await fetch(e);this._avaiableFonts=await n.json()}catch(n){throw new Error(`Filed to get avaiable font from '${e}' due to ${n}!`)}this._avaiableFonts.forEach(n=>{n.url=this._baseUrl+n.file})}return this.buildFontMap(),this._avaiableFonts}async load(e){if(e==null||e.length===0)return[];await this.getAvailableFonts();const n=[],r=[];e.forEach(y=>{const k=y.toLowerCase(),L=this._avaiableFontMap.get(k);L&&(Xe$2.instance.isFontLoaded(k)&&n.push({fontName:k,url:L.url,status:"Success"}),r.push(L))});const g=await Xe$2.instance.loadFonts(r),$={};return[...n,...g].forEach(y=>{$[y.fontName]=y}),e.map(y=>{const k=y.toLowerCase();return $[k]||{fontName:k,url:"",status:"NotFound"}})}buildFontMap(){const e=this._avaiableFontMap;this._avaiableFonts.forEach(n=>{n.name.forEach(r=>{e.set(r.toLocaleLowerCase(),n)})})}};var At$1=(t=>(t[t.NONE=0]="NONE",t[t.WORD=1]="WORD",t[t.STACK=2]="STACK",t[t.SPACE=3]="SPACE",t[t.NBSP=4]="NBSP",t[t.TABULATOR=5]="TABULATOR",t[t.NEW_PARAGRAPH=6]="NEW_PARAGRAPH",t[t.NEW_COLUMN=7]="NEW_COLUMN",t[t.WRAP_AT_DIMLINE=8]="WRAP_AT_DIMLINE",t[t.PROPERTIES_CHANGED=9]="PROPERTIES_CHANGED",t))(At$1||{}),Kt$2=(t=>(t[t.BOTTOM=0]="BOTTOM",t[t.MIDDLE=1]="MIDDLE",t[t.TOP=2]="TOP",t))(Kt$2||{}),Ee$1=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.CENTER=3]="CENTER",t[t.JUSTIFIED=4]="JUSTIFIED",t[t.DISTRIBUTED=5]="DISTRIBUTED",t))(Ee$1||{});const ug={c:"",d:"",p:"","%":"%"},dg={l:1,r:2,c:3,j:4,d:5};function pg(t,e=!1){const n=new Set,r=/\\[fF](.*?)[;|]/g;return[...t.matchAll(r)].forEach(g=>{let $=g[1].toLowerCase();e&&($=$.replace(/\.(ttf|otf|woff|shx)$/,"")),n.add($)}),n}class fg{constructor(e){this.stack=[],this.stack.push(e)}push(e){this.stack.push(e)}pop(){if(this.stack.length<=1)return;const e=this.stack.pop(),n=this.stack[this.stack.length-1];return JSON.stringify(n.paragraph)!==JSON.stringify(e.paragraph)&&(n.paragraph={...e.paragraph}),e}get current(){return this.stack[this.stack.length-1]}get depth(){return this.stack.length-1}get root(){return this.stack[0]}setCurrent(e){this.stack[this.stack.length-1]=e}}class gg{constructor(e,n,r={}){this.continueStroke=!1,this.inStackContext=!1,this.scanner=new Pr(e);const g=n??new vn$1;this.ctxStack=new fg(g),this.yieldPropertyCommands=r.yieldPropertyCommands??!1,this.resetParagraphParameters=r.resetParagraphParameters??!1,this.mifDecoder=r.mifDecoder??this.decodeMultiByteChar.bind(this),this.mifCodeLength=r.mifCodeLength??"auto"}decodeMultiByteChar(e){try{if(e.length===5){const n=e[0];let r="gbk";n==="1"?r="shift-jis":n==="2"&&(r="big5");const g=new Uint8Array([parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16)]);return new TextDecoder(r).decode(g)}else if(e.length===4){const n=new Uint8Array([parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16)]),r=new TextDecoder("gbk").decode(n);if(r!=="")return r;const g=new TextDecoder("big5").decode(n);if(g!=="")return g}return""}catch{return""}}extractMifCode(e){var n,r,g;return e==="auto"?((n=this.scanner.tail.match(/^[0-9A-Fa-f]{5}/))==null?void 0:n[0])||((r=this.scanner.tail.match(/^[0-9A-Fa-f]{4}/))==null?void 0:r[0])||null:((g=this.scanner.tail.match(new RegExp(`^[0-9A-Fa-f]{${e}}`)))==null?void 0:g[0])||null}pushCtx(){this.ctxStack.push(this.ctxStack.current)}popCtx(){this.ctxStack.pop()}parseStacking(){const e=new Pr(this.extractExpression(!0));let n="",r="",g="";const $=()=>{let L=e.peek(),V=!1;return L.charCodeAt(0)<32&&(L=" "),L==="\\"&&(V=!0,e.consume(1),L=e.peek()),e.consume(1),[L,V]},y=()=>{let L="";for(;e.hasData;){const[V,z]=$();if(!z&&(V==="/"||V==="#"||V==="^"))return[L,V];L+=V}return[L,""]},k=L=>{let V="",z=L;for(;e.hasData;){const[j,ie]=$();if(!(z&&j===" ")){if(z=!1,!ie&&j===";")break;V+=j}}return V};return[n,g]=y(),g&&(r=k(g==="^")),n===""&&r.includes("I/")?[2,[" "," ","/"]]:g==="^"?[2,[n,r,"^"]]:[2,[n,r,g]]}parseProperties(e){const n=this.ctxStack.current.copy(),r=this.ctxStack.current.copy();switch(e){case"L":r.underline=!0,this.continueStroke=!0;break;case"l":r.underline=!1,r.hasAnyStroke||(this.continueStroke=!1);break;case"O":r.overline=!0,this.continueStroke=!0;break;case"o":r.overline=!1,r.hasAnyStroke||(this.continueStroke=!1);break;case"K":r.strikeThrough=!0,this.continueStroke=!0;break;case"k":r.strikeThrough=!1,r.hasAnyStroke||(this.continueStroke=!1);break;case"A":this.parseAlign(r);break;case"C":this.parseAciColor(r);break;case"c":this.parseRgbColor(r);break;case"H":this.parseHeight(r);break;case"W":this.parseWidth(r);break;case"Q":this.parseOblique(r);break;case"T":this.parseCharTracking(r);break;case"p":this.parseParagraphProperties(r);break;case"f":case"F":this.parseFontProperties(r);break;default:throw new Error(`Unknown command: ${e}`)}if(this.continueStroke=r.hasAnyStroke,r.continueStroke=this.continueStroke,this.ctxStack.setCurrent(r),this.yieldPropertyCommands){const g=this.getPropertyChanges(n,r);if(Object.keys(g).length>0)return{command:e,changes:g,depth:this.ctxStack.depth}}}getPropertyChanges(e,n){const r={};if(e.underline!==n.underline&&(r.underline=n.underline),e.overline!==n.overline&&(r.overline=n.overline),e.strikeThrough!==n.strikeThrough&&(r.strikeThrough=n.strikeThrough),e.color.aci!==n.color.aci&&(r.aci=n.color.aci),e.color.rgbValue!==n.color.rgbValue&&(r.rgb=n.color.rgb),e.align!==n.align&&(r.align=n.align),JSON.stringify(e.fontFace)!==JSON.stringify(n.fontFace)&&(r.fontFace=n.fontFace),(e.capHeight.value!==n.capHeight.value||e.capHeight.isRelative!==n.capHeight.isRelative)&&(r.capHeight=n.capHeight),(e.widthFactor.value!==n.widthFactor.value||e.widthFactor.isRelative!==n.widthFactor.isRelative)&&(r.widthFactor=n.widthFactor),(e.charTrackingFactor.value!==n.charTrackingFactor.value||e.charTrackingFactor.isRelative!==n.charTrackingFactor.isRelative)&&(r.charTrackingFactor=n.charTrackingFactor),e.oblique!==n.oblique&&(r.oblique=n.oblique),JSON.stringify(e.paragraph)!==JSON.stringify(n.paragraph)){const g={};e.paragraph.indent!==n.paragraph.indent&&(g.indent=n.paragraph.indent),e.paragraph.align!==n.paragraph.align&&(g.align=n.paragraph.align),e.paragraph.left!==n.paragraph.left&&(g.left=n.paragraph.left),e.paragraph.right!==n.paragraph.right&&(g.right=n.paragraph.right),JSON.stringify(e.paragraph.tabs)!==JSON.stringify(n.paragraph.tabs)&&(g.tabs=n.paragraph.tabs),Object.keys(g).length>0&&(r.paragraph=g)}return r}parseAlign(e){const n=this.scanner.get();"012".includes(n)?e.align=parseInt(n):e.align=0,this.consumeOptionalTerminator()}parseHeight(e){const n=this.extractFloatExpression(!0);if(n)try{n.endsWith("x")?e.capHeight={value:parseFloat(n.slice(0,-1)),isRelative:!0}:e.capHeight={value:parseFloat(n),isRelative:!1}}catch{this.scanner.consume(-n.length);return}this.consumeOptionalTerminator()}parseWidth(e){const n=this.extractFloatExpression(!0);if(n)try{n.endsWith("x")?e.widthFactor={value:parseFloat(n.slice(0,-1)),isRelative:!0}:e.widthFactor={value:parseFloat(n),isRelative:!1}}catch{this.scanner.consume(-n.length);return}this.consumeOptionalTerminator()}parseCharTracking(e){const n=this.extractFloatExpression(!0);if(n)try{n.endsWith("x")?e.charTrackingFactor={value:Math.abs(parseFloat(n.slice(0,-1))),isRelative:!0}:e.charTrackingFactor={value:Math.abs(parseFloat(n)),isRelative:!1}}catch{this.scanner.consume(-n.length);return}this.consumeOptionalTerminator()}parseFloatValueOrFactor(e){const n=this.extractFloatExpression(!0);if(n)if(n.endsWith("x")){const r=parseFloat(n.slice(0,-1));e*=r}else e=parseFloat(n);return e}parseOblique(e){const n=this.extractFloatExpression(!1);n&&(e.oblique=parseFloat(n)),this.consumeOptionalTerminator()}parseAciColor(e){const n=this.extractIntExpression();if(n){const r=parseInt(n);r<257&&(e.color.aci=r)}this.consumeOptionalTerminator()}parseRgbColor(e){const n=this.extractIntExpression();if(n){const r=parseInt(n)&16777215;e.color.rgbValue=r}this.consumeOptionalTerminator()}extractFloatExpression(e=!1){const n=e?/^[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?x?/:/^[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?/,r=this.scanner.tail.match(n);if(r){const g=r[0];return this.scanner.consume(g.length),g}return""}extractIntExpression(){const e=this.scanner.tail.match(/^\d+/);if(e){const n=e[0];return this.scanner.consume(n.length),n}return""}extractExpression(e=!1){const n=this.scanner.find(";",e);if(n<0){const $=this.scanner.tail;return this.scanner.consume($.length),$}const r=this.scanner.peek(n-this.scanner.currentIndex-1)==="\\",g=this.scanner.tail.slice(0,n-this.scanner.currentIndex+(r?1:0));return this.scanner.consume(g.length+1),g}parseFontProperties(e){const n=this.extractExpression().split("|");if(n.length>0&&n[0]){const r=n[0];let g="Regular",$=400;for(const y of n.slice(1))y.startsWith("b1")?$=700:y==="i"||y.startsWith("i1")?g="Italic":(y==="i0"||y.startsWith("i0"))&&(g="Regular");e.fontFace={family:r,style:g,weight:$}}}parseParagraphProperties(e){const n=new Pr(this.extractExpression());let r=e.paragraph.indent,g=e.paragraph.left,$=e.paragraph.right,y=e.paragraph.align,k=[];const L=()=>{const V=n.tail.match(/^[+-]?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/);if(V){const z=parseFloat(V[0]);for(n.consume(V[0].length);n.peek()===",";)n.consume(1);return z}return 0};for(;n.hasData;)switch(n.get()){case"i":r=L();break;case"l":g=L();break;case"r":$=L();break;case"x":break;case"q":{const V=n.get();for(y=dg[V]||0;n.peek()===",";)n.consume(1);break}case"t":for(k=[];n.hasData;){const V=n.peek();if(V==="r"||V==="c"){n.consume(1);const z=L();k.push(V+z.toString())}else{const z=L();isNaN(z)?n.consume(1):k.push(z)}}break}e.paragraph={indent:r,left:g,right:$,align:y,tabs:k}}consumeOptionalTerminator(){this.scanner.peek()===";"&&this.scanner.consume(1)}*parse(){let e=null;function n(g){const $={...g.paragraph};g.paragraph={indent:0,left:0,right:0,align:0,tabs:[]};const y={};return $.indent!==0&&(y.indent=0),$.left!==0&&(y.left=0),$.right!==0&&(y.right=0),$.align!==0&&(y.align=0),JSON.stringify($.tabs)!==JSON.stringify([])&&(y.tabs=[]),y}const r=()=>{let g="";for(;this.scanner.hasData;){let $=!1,y=this.scanner.peek();const k=this.scanner.currentIndex;if(y.charCodeAt(0)<32){if(this.scanner.consume(1),y==="	")return[5,null];if(y===`
`)return[6,null];y=" "}if(y==="\\")if("\\{}".includes(this.scanner.peek(1)))$=!0,this.scanner.consume(1),y=this.scanner.peek();else{if(g)return[1,g];this.scanner.consume(1);const L=this.scanner.get();switch(L){case"~":return[4,null];case"P":return[6,null];case"N":return[7,null];case"X":return[8,null];case"S":{this.inStackContext=!0;const V=this.parseStacking();return this.inStackContext=!1,V}case"m":case"M":if(this.scanner.peek()==="+"){this.scanner.consume(1);const V=this.extractMifCode(this.mifCodeLength);if(V){this.scanner.consume(V.length);const z=this.mifDecoder(V);return g?[1,g]:[1,z]}this.scanner.consume(-1)}g+="\\M";continue;case"U":if(this.scanner.peek()==="+"){this.scanner.consume(1);const V=this.scanner.tail.match(/^[0-9A-Fa-f]{4,8}/);if(V){const z=V[0];this.scanner.consume(z.length);const j=parseInt(z,16);let ie="";try{ie=String.fromCodePoint(j)}catch{ie=""}return g?[1,g]:[1,ie]}this.scanner.consume(-1)}g+="\\U";continue;default:if(L)try{const V=this.parseProperties(L);if(this.yieldPropertyCommands&&V)return[9,V];continue}catch{const V=this.scanner.tail.slice(k,this.scanner.currentIndex);g+=V}}continue}if(y==="%"&&this.scanner.peek(1)==="%"){const L=this.scanner.peek(2).toLowerCase(),V=ug[L];if(V){this.scanner.consume(3),g+=V;continue}else{const z=[L,this.scanner.peek(3),this.scanner.peek(4)];if(z.every(j=>j>="0"&&j<="9")){const j=Number.parseInt(z.join(""),10);this.scanner.consume(5),g+=String.fromCharCode(j)}else this.scanner.consume(3);continue}}if(y===" ")return g?(this.scanner.consume(1),e=3,[1,g]):(this.scanner.consume(1),[3,null]);if(!$){if(y==="{"){if(g)return[1,g];this.scanner.consume(1),this.pushCtx();continue}else if(y==="}"){if(g)return[1,g];if(this.scanner.consume(1),this.yieldPropertyCommands){const L=this.ctxStack.current;this.popCtx();const V=this.getPropertyChanges(L,this.ctxStack.current);if(Object.keys(V).length>0)return[9,{command:void 0,changes:V,depth:this.ctxStack.depth}]}else this.popCtx();continue}}if(!this.inStackContext&&y==="^"){const L=this.scanner.peek(1);if(L){const V=L.charCodeAt(0);if(this.scanner.consume(2),V===32)g+="^";else{if(V===73)return g?[1,g]:[5,null];if(V===74)return g?[1,g]:[6,null];if(V===77)continue;g+=""}continue}}this.scanner.consume(1),y.charCodeAt(0)>=32&&(g+=y)}return g?[1,g]:[0,null]};for(;;){const[g,$]=r.call(this);if(g){if(yield new Dr(g,this.ctxStack.current.copy(),$),g===6&&this.resetParagraphParameters){const y=this.ctxStack.current,k=n(y);this.yieldPropertyCommands&&Object.keys(k).length>0&&(yield new Dr(9,y.copy(),{command:void 0,changes:{paragraph:k},depth:this.ctxStack.depth}))}e&&(yield new Dr(e,this.ctxStack.current.copy(),null),e=null)}else break}}}class Pr{constructor(e){this.text=e,this.textLen=e.length,this._index=0}get currentIndex(){return this._index}get isEmpty(){return this._index>=this.textLen}get hasData(){return this._index<this.textLen}get(){if(this.isEmpty)return"";const e=this.text[this._index];return this._index++,e}consume(e=1){this._index=Math.max(0,Math.min(this._index+e,this.textLen))}peek(e=0){const n=this._index+e;return n>=this.textLen||n<0?"":this.text[n]}find(e,n=!1){let r=this._index;for(;r<this.textLen;){if(n&&this.text[r]==="\\"){if(r+1<this.textLen){if(this.text[r+1]===e)return r+1;r+=2;continue}r++;continue}if(this.text[r]===e)return r;r++}return-1}get tail(){return this.text.slice(this._index)}isNextSpace(){return this.peek()===" "}consumeSpaces(){let e=0;for(;this.isNextSpace();)this.consume(),e++;return e}}class Us{constructor(e){this._aci=256,this._rgbValue=null,Array.isArray(e)?this.rgb=e:typeof e=="number"?this.aci=e:this.aci=256}get aci(){return this._aci}set aci(e){if(e===null)this._aci=null;else if(e>=0&&e<=256)this._aci=e,this._rgbValue=null;else throw new Error("ACI not in range [0, 256]")}get rgb(){if(this._rgbValue===null)return null;const e=this._rgbValue>>16&255,n=this._rgbValue>>8&255,r=this._rgbValue&255;return[e,n,r]}set rgb(e){if(e){const[n,r,g]=e;this._rgbValue=(n&255)<<16|(r&255)<<8|g&255,this._aci=null}else this._rgbValue=null}get isRgb(){return this._rgbValue!==null}get isAci(){return this._rgbValue===null&&this._aci!==null}get rgbValue(){return this._rgbValue}set rgbValue(e){e===null?this._rgbValue=null:(this._rgbValue=e&16777215,this._aci=null)}copy(){const e=new Us;return e._aci=this._aci,e._rgbValue=this._rgbValue,e}toObject(){return{aci:this._aci,rgb:this.rgb,rgbValue:this._rgbValue}}equals(e){return this._aci===e._aci&&this._rgbValue===e._rgbValue}}let vn$1=class p2{constructor(){this._stroke=0,this.continueStroke=!1,this.color=new Us,this.align=0,this.fontFace={family:"",style:"Regular",weight:400},this._capHeight={value:1,isRelative:!1},this._widthFactor={value:1,isRelative:!1},this._charTrackingFactor={value:1,isRelative:!1},this.oblique=0,this.paragraph={indent:0,left:0,right:0,align:0,tabs:[]}}get capHeight(){return this._capHeight}set capHeight(e){this._capHeight={value:Math.abs(e.value),isRelative:e.isRelative}}get widthFactor(){return this._widthFactor}set widthFactor(e){this._widthFactor={value:Math.abs(e.value),isRelative:e.isRelative}}get charTrackingFactor(){return this._charTrackingFactor}set charTrackingFactor(e){this._charTrackingFactor={value:Math.abs(e.value),isRelative:e.isRelative}}get aci(){return this.color.aci}set aci(e){this.color.aci=e}get rgb(){return this.color.rgb}set rgb(e){this.color.rgb=e}get italic(){return this.fontFace.style==="Italic"}set italic(e){this.fontFace.style=e?"Italic":"Regular"}get bold(){return(this.fontFace.weight||400)>=700}set bold(e){this.fontFace.weight=e?700:400}get underline(){return!!(this._stroke&1)}set underline(e){this._setStrokeState(1,e)}get strikeThrough(){return!!(this._stroke&4)}set strikeThrough(e){this._setStrokeState(4,e)}get overline(){return!!(this._stroke&2)}set overline(e){this._setStrokeState(2,e)}get hasAnyStroke(){return!!this._stroke}_setStrokeState(e,n=!0){n?this._stroke|=e:this._stroke&=~e}copy(){const e=new p2;return e._stroke=this._stroke,e.continueStroke=this.continueStroke,e.color=this.color.copy(),e.align=this.align,e.fontFace={...this.fontFace},e._capHeight={...this._capHeight},e._widthFactor={...this._widthFactor},e._charTrackingFactor={...this._charTrackingFactor},e.oblique=this.oblique,e.paragraph={...this.paragraph},e}};class Dr{constructor(e,n,r){this.type=e,this.ctx=n,this.data=r}}var un$2=(t=>(t[t.LEFT_TO_RIGHT=1]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=2]="RIGHT_TO_LEFT",t[t.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=4]="BOTTOM_TO_TOP",t[t.BY_STYLE=5]="BY_STYLE",t))(un$2||{});const mg=new Vector3,yg=1.666666;class Fs extends vn$1{constructor(e){super(),this.fontScaleFactor=1,this.fontSize=1,this.fontSizeScaleFactor=1,this.blankWidth=0,e&&Object.assign(this,e)}clone(){const e=new Fs;return e.continueStroke=this.continueStroke,e.color=this.color.copy(),e.align=this.align,e.fontFace={...this.fontFace},e.capHeight={...this.capHeight},e.widthFactor={...this.widthFactor},e.charTrackingFactor={...this.charTrackingFactor},e.oblique=this.oblique,e.paragraph={...this.paragraph},e.fontScaleFactor=this.fontScaleFactor,e.fontSize=this.fontSize,e.fontSizeScaleFactor=this.fontSizeScaleFactor,e.blankWidth=this.blankWidth,e}getColorAsHex(){return this.color.isRgb&&this.color.rgbValue!==null?this.color.rgbValue:this.color.isAci&&this.color.aci!==null?Nl$1(this.color.aci):16777215}setColorFromHex(e){const n=e>>16&255,r=e>>8&255,g=e&255;this.color.rgb=[n,r,g]}}class bg{constructor(e,n,r,g){this._contextStack=[],this._maxFontSize=0,this._currentIndent=0,this._currentLeftMargin=0,this._currentRightMargin=0,this._style=e,this._styleManager=n,this._fontManager=r,this._options=g,this._totalHeight=0,this._hOffset=0,this._vOffset=0,this._lineCount=1,this._currentLineObjects=[],this._currentContext=new Fs({fontScaleFactor:this.fontManager.getFontScaleFactor(this.textStyle.font.toLowerCase()),fontSize:g.fontSize,fontSizeScaleFactor:1,italic:!1,bold:!1,blankWidth:this.calculateBlankWidthForFont(this.textStyle.font.toLowerCase(),g.fontSize)}),this._currentContext.setColorFromHex(e.color),this._currentContext.fontFace.family=this.textStyle.font.toLowerCase(),this._currentContext.widthFactor={value:g.widthFactor,isRelative:!0},this._currentContext.oblique=e.obliqueAngle||0,this._maxFontSize=0,this._currentHorizontalAlignment=g.horizontalAlignment,this._currentIndent=0,this._currentLeftMargin=0,this._currentRightMargin=0,this.initLineParams()}get fontManager(){return this._fontManager}get styleManager(){return this._styleManager}get textStyle(){return this._style}get totalHeight(){return this._lineCount==1?this.currentMaxFontSize:this._totalHeight+this.currentLineHeight}get maxWidth(){return this._options.maxWidth}get flowDirection(){return this._options.flowDirection}get defaultHorizontalAlignment(){return this._options.horizontalAlignment}get defaultWidthFactor(){return this._options.widthFactor}get defaultFontSize(){return this._options.fontSize}get defaultLineSpaceFactor(){return this._options.lineSpaceFactor}get currentFont(){return this._currentContext.fontFace.family}get currentHorizontalAlignment(){return this._currentHorizontalAlignment}get currentFontSize(){return this._currentContext.fontSize}get currentLineHeight(){return this.defaultLineSpaceFactor*this.currentFontSize*yg+this.currentMaxFontSize}get currentMaxFontSize(){return this._maxFontSize}get currentWordSpace(){return this._currentContext.charTrackingFactor.value}get currentWidthFactor(){return this._currentContext.widthFactor.value}get currentLineObjects(){return this._currentLineObjects}get hOffset(){return this._hOffset}set hOffset(e){this._hOffset=e}get vOffset(){return this._vOffset}set vOffset(e){this._vOffset=e}get currentIndent(){return this._currentIndent}get currentLeftMargin(){return this._currentLeftMargin}get currentRightMargin(){return this._currentRightMargin}get maxLineWidth(){return this.maxWidth-this._currentLeftMargin-this._currentRightMargin}processFormat(e){switch(e.command){case"f":case"F":e.changes.fontFace&&(this.changeFont(e.changes.fontFace.family),this.fontManager.getFontType(this._currentContext.fontFace.family)==="mesh"?(this._currentContext.italic=e.changes.fontFace.style==="Italic",this._currentContext.bold=(e.changes.fontFace.weight||400)>=700,this._currentContext.oblique=this.textStyle.obliqueAngle||0):(this._currentContext.italic=!1,this._currentContext.bold=!1,e.changes.fontFace.style==="Italic"?this._currentContext.oblique=15:this._currentContext.oblique=this.textStyle.obliqueAngle||0));break;case"c":case"C":e.changes.aci?e.changes.aci===0?this._currentContext.setColorFromHex(this._options.byBlockColor):e.changes.aci===256?this._currentContext.setColorFromHex(this._options.byLayerColor):this._currentContext.color.aci=e.changes.aci:e.changes.rgb&&(this._currentContext.color.rgb=e.changes.rgb);break;case"W":e.changes.widthFactor&&(e.changes.widthFactor.isRelative?this._currentContext.widthFactor={value:e.changes.widthFactor.value*this.maxWidth,isRelative:!1}:this._currentContext.widthFactor={value:e.changes.widthFactor.value*.93,isRelative:!1});break;case"H":e.changes.capHeight&&(e.changes.capHeight.isRelative?this.changeFontSizeScaleFactor(e.changes.capHeight.value):this.changeFontHeight(e.changes.capHeight.value));break;case"T":e.changes.charTrackingFactor&&(e.changes.charTrackingFactor.isRelative?this._currentContext.charTrackingFactor={value:e.changes.charTrackingFactor.value+1,isRelative:!1}:this._currentContext.charTrackingFactor={value:e.changes.charTrackingFactor.value,isRelative:!1});break;case"p":e.changes.paragraph&&(e.changes.paragraph.align&&(this._currentHorizontalAlignment=e.changes.paragraph.align),typeof e.changes.paragraph.indent=="number"&&(this._currentIndent=e.changes.paragraph.indent*this.defaultFontSize,this._hOffset+=this._currentIndent),typeof e.changes.paragraph.left=="number"&&(this._currentLeftMargin=e.changes.paragraph.left*this.defaultFontSize),typeof e.changes.paragraph.right=="number"&&(this._currentRightMargin=e.changes.paragraph.right*this.defaultFontSize));break;case"L":this._currentContext.underline=!0;break;case"l":this._currentContext.underline=!1;break;case"O":this._currentContext.overline=!0;break;case"o":this._currentContext.overline=!1;break;case"K":this._currentContext.strikeThrough=!0;break;case"k":this._currentContext.strikeThrough=!1;break;case"Q":e.changes.oblique!==void 0&&(this._currentContext.oblique=e.changes.oblique);break}}resetParagraphProperties(){this._currentIndent=0,this._currentLeftMargin=0,this._currentRightMargin=0,this._currentHorizontalAlignment=this._options.horizontalAlignment}startNewParagraph(e,n,r){this.processGeometries(e,n,r),this.startNewLine(),this.resetParagraphProperties()}processText(e){const n=[],r=[],g=new Group;for(const $ of e)if($.type===At$1.NEW_PARAGRAPH)this.startNewParagraph(n,r,g);else if($.type===At$1.WORD){const y=$.data;Array.isArray(y)?y.forEach(k=>this.processWord(k,n,r)):typeof y=="string"&&y.length>0&&this.processWord(y,n,r)}else if($.type===At$1.SPACE)this.processBlank();else if($.type===At$1.PROPERTIES_CHANGED){this.processGeometries(n,r,g);const y=$.data;y.command===void 0?this._contextStack.length>0&&(this._currentContext=this._contextStack.pop()):(y.depth>0&&this._contextStack.push(this._currentContext.clone()),this.processFormat(y))}else $.type===At$1.STACK&&(this.processStack($.data,n,r),this.processGeometries(n,r,g));return(n.length>0||r.length>0)&&this.processGeometries(n,r,g),this.processLastLine(),g}processGeometries(e,n,r){if(e.length>0||n.length>0){const g=this.toThreeObject(e,n);r.add(g),this._currentLineObjects.push(g),e.length=0,n.length=0}}processWord(e,n,r){let g=0;for(let $=0;$<e.length;$++){const y=this.getCharShape(e[$]);y?this.currentHorizontalAlignment==Ee$1.DISTRIBUTED?g+=y.width*this.currentWidthFactor:g+=y.width*this.currentWordSpace*this.currentWidthFactor:g+=this._currentContext.blankWidth}this.hOffset+g>(this.maxLineWidth||1/0)&&this.startNewLine();for(let $=0;$<e.length;$++)this.processChar(e[$],n,r)}processStack(e,n,r){const[g,$,y]=e,k=this._hOffset,L=this._vOffset,V=this._currentContext.charTrackingFactor.value,z=this._currentContext.fontSize,j=this._currentContext.fontSizeScaleFactor;this._hOffset=k,this._currentContext.charTrackingFactor={value:1,isRelative:!1};let ie=0;for(let dr=0;dr<g.length;dr++){const ec=this.getCharShape(g[dr]);ec&&(ie+=ec.width*this.currentWidthFactor)}this._hOffset=k;let Oe=0;for(let dr=0;dr<$.length;dr++){const ec=this.getCharShape($[dr]);ec&&(Oe+=ec.width*this.currentWidthFactor)}const ur=Math.max(ie,Oe),hr=(ur-ie)/2,Vr=(ur-Oe)/2;if(y==="^"){if(this._currentContext.fontSizeScaleFactor=j*.7,this.calcuateLineParams(),g&&!$){const dr=[],ec=[];this._hOffset=k,this._vOffset=L+z*.1;for(let tc=0;tc<g.length;tc++)this.processChar(g[tc],dr,ec);n.push(...dr),r.push(...ec),this._hOffset=k+ie}else if(!g&&$){const dr=[],ec=[];this._hOffset=k,this._vOffset=L-z*.6;for(let tc=0;tc<$.length;tc++)this.processChar($[tc],dr,ec);n.push(...dr),r.push(...ec),this._hOffset=k+Oe}this._currentContext.fontSizeScaleFactor=j,this.calcuateLineParams()}else{const dr=[],ec=[];this._hOffset=k+hr,this._vOffset=L+this.currentFontSize*.3;for(let rc=0;rc<g.length;rc++)this.processChar(g[rc],dr,ec);n.push(...dr),r.push(...ec);const tc=[],Xs=[];this._hOffset=k+Vr,this._vOffset=L-this.currentFontSize*.6;for(let rc=0;rc<$.length;rc++)this.processChar($[rc],tc,Xs);if(n.push(...tc),r.push(...Xs),y==="/"||y==="#"){const rc=new BufferGeometry,ic=new Float32Array([k,L-this.currentFontSize*.8,0,k+ur,L-this.currentFontSize*.8,0]);rc.setAttribute("position",new BufferAttribute(ic,3)),rc.setIndex(null),r.push(rc)}this._hOffset=k+ur}this._vOffset=L,this._currentContext.charTrackingFactor={value:V,isRelative:!1}}processBlank(){this._hOffset+=this._currentContext.blankWidth}processChar(e,n,r){const g=this.getCharShape(e);if(!g){this.processBlank();return}const $=g.toGeometry();$.scale(this.currentWidthFactor,1,1);let y=this._currentContext.oblique;if(this._currentContext.italic&&(y+=15),y){const ur=y*Math.PI/180,hr=new Matrix4;hr.set(1,Math.tan(ur),0,0,0,1,0,0,0,0,1,0,0,0,0,1),$.applyMatrix4(hr)}const k=this.fontManager.getFontType(this.currentFont);this._currentContext.bold&&k==="mesh"&&$.scale(1.06,1.06,1),this.hOffset>(this.maxLineWidth||1/0)&&this.startNewLine();const L=this.hOffset,V=this.flowDirection==un$2.BOTTOM_TO_TOP?this.vOffset:this.vOffset-this.currentFontSize,z=g.width*this.currentWidthFactor,j=this.currentFontSize;$.translate(L,V,0),this.currentHorizontalAlignment==Ee$1.DISTRIBUTED?this._hOffset+=g.width*this.currentWidthFactor:this._hOffset+=g.width*this.currentWordSpace*this.currentWidthFactor,n.push($);const ie=j*.05,Oe=.001;if(this._currentContext.underline){const ur=new BufferGeometry,hr=V-ie;ur.setAttribute("position",new BufferAttribute(new Float32Array([L,hr,Oe,L+z,hr,Oe]),3)),ur.setIndex(null),r.push(ur)}if(this._currentContext.overline){const ur=new BufferGeometry,hr=V+j+ie;ur.setAttribute("position",new BufferAttribute(new Float32Array([L,hr,Oe,L+z,hr,Oe]),3)),ur.setIndex(null),r.push(ur)}if(this._currentContext.strikeThrough){const ur=new BufferGeometry,hr=V+j/2-j*.2;ur.setAttribute("position",new BufferAttribute(new Float32Array([L,hr,Oe,L+z,hr,Oe]),3)),ur.setIndex(null),r.push(ur)}}processLastLine(){this.processAlignment()}initLineParams(){this.calcuateLineParams()}changeFont(e){let n=e;this._options.removeFontExtension&&(n=e.replace(/\.(ttf|otf|woff|shx)$/,"")),this._currentContext.fontFace.family=this.fontManager.findAndReplaceFont(n),this._currentContext.blankWidth=this.calculateBlankWidthForFont(this._currentContext.fontFace.family,this._currentContext.fontSize),this.calcuateLineParams()}calcuateLineParams(e){this._currentContext.fontScaleFactor=this.fontManager.getFontScaleFactor(this.currentFont);const n=e||this.defaultFontSize||this.textStyle.fixedTextHeight;this._currentContext.fontSize=n*this._currentContext.fontScaleFactor*this._currentContext.fontSizeScaleFactor}getCharShape(e){let n=this.fontManager.getCharShape(e,this.currentFont,this.currentFontSize);return this.textStyle.bigFont&&!n&&(n=this.fontManager.getCharShape(e,this.textStyle.bigFont,this.currentFontSize)),n||(n=this.fontManager.getCharShape(e,"",this.currentFontSize)),n||(n=this.fontManager.getNotFoundTextShape(this.currentFontSize)),this.currentFontSize>this._maxFontSize&&(this._maxFontSize=this.currentFontSize),n}startNewLine(){this._hOffset=0,this.flowDirection==un$2.BOTTOM_TO_TOP?this._vOffset+=this.currentLineHeight:this._vOffset-=this.currentLineHeight,this._lineCount++,this.processAlignment(),this._currentLineObjects=[],this._lineCount==2?this._totalHeight=this.currentMaxFontSize:this._totalHeight=this._totalHeight+this.currentLineHeight,this._maxFontSize=0}processAlignment(){const e=[];if(this.currentLineObjects.forEach(r=>r.traverse(g=>{"geometry"in g&&e.push(g.geometry)})),e.length==0)return;let n;if(e.forEach((r,g)=>{r.boundingBox||r.computeBoundingBox(),g===0?n=r.boundingBox:n.union(r.boundingBox)}),n){const r=n.getSize(mg);switch(this.currentHorizontalAlignment){case Ee$1.LEFT:e.forEach(g=>g.translate(this._currentLeftMargin-n.min.x,0,0));break;case Ee$1.CENTER:e.forEach(g=>g.translate(this._currentLeftMargin+(this.maxLineWidth-r.x)/2-n.min.x,0,0));break;case Ee$1.RIGHT:e.forEach(g=>g.translate(this._currentLeftMargin+this.maxLineWidth-r.x-n.min.x,0,0));break;case Ee$1.DISTRIBUTED:if(e.length>1){const g=(this.maxLineWidth-r.x)/(e.length-1);for(let $=1;$<e.length;$++)e[$].translate(g*$,0,0)}e.forEach(g=>g.translate(this._currentLeftMargin-n.min.x,0,0));break}}}calculateBlankWidthForFont(e,n){return this.fontManager.getFontType(e)==="shx"?n*.5:n*.3}toThreeObject(e,n){const r=new Group,g=this._currentContext.getColorAsHex(),$=e.filter(k=>k instanceof ShapeGeometry);if($.length>0){const k=new Mesh;k.geometry=qi($),k.material=this.styleManager.getMeshBasicMaterial({layer:this._style.layer,isByLayer:this._style.isByLayer,color:g}),k.userData.bboxIntersectionCheck=!0,r.add(k)}const y=[...n,...e.filter(k=>!(k instanceof ShapeGeometry))];if(y.length>0){const k=new LineSegments;k.geometry=qi(y),k.material=this.styleManager.getLineBasicMaterial({layer:this._style.layer,isByLayer:this._style.isByLayer,color:g}),k.userData.bboxIntersectionCheck=!0,r.add(k)}return r.children.length===1?r.children[0]:r}changeFontSizeScaleFactor(e){this._currentContext.fontSizeScaleFactor*=e,this.calcuateLineParams()}changeFontHeight(e){this._currentContext.fontSize=e*this._currentContext.fontScaleFactor*this._currentContext.fontSizeScaleFactor,this.calcuateLineParams()}}const Rr=new Vector3,pt$1=new Vector3,Ur=new Vector3,Fr=new Quaternion,Nr=new Matrix4,ya$1=new Matrix4,ba$1=new Vector3(1,0,0);let Jn$1=class m2 extends Object3D{static getFonts(e,n=!1){return pg(e,n)}constructor(e,n,r,g,$={byLayerColor:16777215,byBlockColor:16777215}){super(),this._style=n,this._styleManager=r,this._fontManager=g,this._colorSettings={byLayerColor:$.byLayerColor,byBlockColor:$.byBlockColor},this._box=new Box3,this._boxes=[],this._mtextData=e,this._fontsInStyleLoaded=!1}get fontManager(){return this._fontManager}dispose(){this.disposeThreeObject(this)}async asyncDraw(){const e=Array.from(m2.getFonts(this._mtextData.text||"",!0));if(!this._fontsInStyleLoaded){if(this._style.font){const n=this.getFontName(this._style.font);n&&e.push(n)}if(this._style.bigFont){const n=this.getFontName(this._style.bigFont);n&&e.push(n)}if(this._style.extendedFont){const n=this.getFontName(this._style.extendedFont);n&&e.push(n)}}e.length>0&&(await this._fontManager.loadFontsByNames(e),this._fontsInStyleLoaded=!0),this.syncDraw()}syncDraw(){const e=this.loadMText(this._mtextData,this._style);e&&(this.getBoxes(e,this._boxes),this._boxes.forEach(n=>this.box.union(n)),this.add(e))}get styleManager(){return this._styleManager}get textStyle(){return this._style}get box(){return this._box}set box(e){this._box.copy(e)}raycast(e,n){this._boxes.forEach(r=>{if(e.ray.intersectBox(r,Rr)){const g=e.ray.origin.distanceTo(Rr);n.push({distance:g,point:Rr.clone(),object:this,face:null,faceIndex:void 0,uv:void 0})}})}loadMText(e,n){const{object:r,height:g}=this.createMTextGroup(e,n);if(!r)return;r.matrix.decompose(pt$1,Fr,Ur),e.position&&(pt$1.x+=e.position.x,pt$1.y+=e.position.y,r.matrix.compose(pt$1,Fr,Ur));const $=e.width,y=this.calculateAnchorPoint($,g,e.attachmentPoint,e.drawingDirection);r.traverse(V=>{"geometry"in V&&V.geometry.translate(y.x,y.y,0),V.layers.enableAll()});let k=e.rotation||0;if(e.directionVector){const V=e.directionVector,z=new Vector3(V.x,V.y,V.z),j=z.clone().cross(ba$1),ie=ba$1.angleTo(z);k=j.z>0?-ie:ie}r.matrix.compose(pt$1,Fr,Ur);const L=e.position?pt$1.clone().sub(e.position):pt$1;return Nr.makeTranslation(-L.x,-L.y,0),ya$1.makeRotationZ(k),r.matrix.multiply(Nr),r.matrix.multiply(ya$1),r.matrix.multiply(Nr.invert()),r.matrix.decompose(r.position,r.quaternion,r.scale),r}createMTextGroup(e,n){if(n&&n.font&&n.font.endsWith(".shx")){const Oe=`${n.font}_${n.name}`;this.styleManager.unsupportedTextStyles[Oe]||(this.styleManager.unsupportedTextStyles[Oe]=0),this.styleManager.unsupportedTextStyles[Oe]++}const r=e.width||0;let g=Ee$1.LEFT;e.width&&e.attachmentPoint&&([1,4,7].includes(e.attachmentPoint)?g=Ee$1.LEFT:[2,5,8].includes(e.attachmentPoint)?g=Ee$1.CENTER:[3,6,9].includes(e.attachmentPoint)&&(g=Ee$1.RIGHT));let $=Kt$2.BOTTOM;e.attachmentPoint&&([1,2,3].includes(e.attachmentPoint)?$=Kt$2.TOP:[4,5,6].includes(e.attachmentPoint)?$=Kt$2.MIDDLE:[7,8,9].includes(e.attachmentPoint)&&($=Kt$2.BOTTOM));const y=e.height||0,k=e.lineSpaceFactor||.3,L=e.drawingDirection??un$2.LEFT_TO_RIGHT,V={fontSize:y,widthFactor:e.widthFactor??1,lineSpaceFactor:k,horizontalAlignment:g,maxWidth:r,flowDirection:L,byBlockColor:this._colorSettings.byBlockColor,byLayerColor:this._colorSettings.byLayerColor,removeFontExtension:!0},z=new vn$1;z.fontFace.family=n.font,z.capHeight={value:e.height||1,isRelative:!0},z.widthFactor={value:e.widthFactor??1,isRelative:!0},z.align=$,z.paragraph.align=g;const j=new bg(n,this.styleManager,this.fontManager,V),ie=new gg(e.text,z,{resetParagraphParameters:!0,yieldPropertyCommands:!0}).parse();return{object:j.processText(ie),height:j.totalHeight}}calculateAnchorPoint(e,n,r,g){let $=0,y=0;switch(r){case void 0:case 1:$=0,y=0;break;case 2:$-=e/2,y=0;break;case 3:$-=e,y=0;break;case 4:$=0,y+=n/2;break;case 5:$-=e/2,y+=n/2;break;case 6:$-=e,y+=n/2;break;case 7:$=0,y+=n;break;case 8:$-=e/2,y+=n;break;case 9:$-=e,y+=n;break}return g==un$2.BOTTOM_TO_TOP&&(y-=n),{x:$,y}}getBoxes(e,n){if(e.updateWorldMatrix(!1,!1),e instanceof Line||e instanceof Mesh){const g=e.geometry;g.boundingBox===null&&g.computeBoundingBox();const $=new Box3().copy(g.boundingBox);$.applyMatrix4(e.matrixWorld),n.push($)}const r=e.children;for(let g=0,$=r.length;g<$;g++)this.getBoxes(r[g],n)}disposeThreeObject(e){e.traverse(n=>{if(n.geometry&&typeof n.geometry.dispose=="function")try{n.geometry.dispose()}catch{}if(n.material){const r=g=>{if(g&&typeof g.dispose=="function")try{g.dispose()}catch{}};Array.isArray(n.material)?n.material.forEach(r):r(n.material)}})}getFontName(e){if(e){const n=e.lastIndexOf(".");return n>=0?e.substring(0,n).toLowerCase():e.toLowerCase()}}},$o$1=class{constructor(){this.lineBasicMaterials={},this.meshBasicMaterials={},this.unsupportedTextStyles={}}getMeshBasicMaterial(e){const n=this.buildKey(e);return this.meshBasicMaterials[n]||(this.meshBasicMaterials[n]=new MeshBasicMaterial({color:e.color})),this.meshBasicMaterials[n]}getLineBasicMaterial(e){const n=this.buildKey(e);return this.lineBasicMaterials[n]||(this.lineBasicMaterials[n]=new LineBasicMaterial({color:e.color})),this.lineBasicMaterials[n]}buildKey(e){return e.isByLayer&&e.layer?`layer_${e.layer}_${e.color}`:`entity_${e.color}`}};class vg{constructor(e={}){this.workers=[],this.inFlightPerWorker=[],this.pendingRequests=new Map,this.requestId=0,this.readyPromise=null,this.poolSize=e.poolSize??Math.max(1,navigator.hardwareConcurrency?Math.min(4,navigator.hardwareConcurrency):2),this.defaultStyleManager=new $o$1;const n=e.workerUrl??"./mtext-renderer-worker.js";this.timeOut=e.timeOut??12e4;for(let r=0;r<this.poolSize;r++){const g=new Worker(new URL(n,import.meta.url),{type:"module"});this.attachWorkerHandlers(g,r),this.workers.push(g),this.inFlightPerWorker.push(0)}this.isInitialized=!1}get styleManager(){return this.defaultStyleManager}set styleManager(e){this.defaultStyleManager=e}async ensureInitialized(){this.isInitialized||(await this.loadFonts([Xe$2.instance.defaultFont]),this.isInitialized=!0)}handleWorkerMessage(e,n){const{id:r,success:g,data:$,error:y}=e,k=this.pendingRequests.get(r);k?(this.pendingRequests.delete(r),this.inFlightPerWorker[n]=Math.max(0,this.inFlightPerWorker[n]-1),g?k.resolve($):k.reject(new Error(y||"Unknown worker error"))):console.warn(`No pending request found for worker response id=${r}`)}attachWorkerHandlers(e,n){e.onmessage=r=>{this.handleWorkerMessage(r.data,n)},e.onerror=r=>{console.error(`Worker ${n} error:`,r);const g=[];this.pendingRequests.forEach(($,y)=>{$.workerIndex===n&&g.push(y)}),g.forEach($=>{const y=this.pendingRequests.get($);y&&(y.reject(new Error("Worker error occurred")),this.pendingRequests.delete($))}),this.inFlightPerWorker[n]=0}}pickLeastLoadedWorker(){let e=0,n=this.inFlightPerWorker[0]??0;for(let r=1;r<this.inFlightPerWorker.length;r++){const g=this.inFlightPerWorker[r]??0;g<n&&(n=g,e=r)}return e}sendMessageToAllWorkers(e){return Promise.all(this.workers.map((n,r)=>this.sendMessageToOneWorker(e,r)))}sendMessageToOneWorker(e,n){const r=n??this.pickLeastLoadedWorker(),g=this.workers[r];return new Promise(($,y)=>{const k=`req_${++this.requestId}`,L={...e,id:k};this.pendingRequests.set(k,{resolve:V=>$(V),reject:y,workerIndex:r}),this.inFlightPerWorker[r]=(this.inFlightPerWorker[r]??0)+1,g.postMessage(L),setTimeout(()=>{this.pendingRequests.get(k)&&(this.pendingRequests.delete(k),this.inFlightPerWorker[r]=Math.max(0,this.inFlightPerWorker[r]-1),y(new Error("Worker request timeout")))},this.timeOut)})}ensureTasksFinished(){return this.readyPromise?this.readyPromise:this.workers.length===0?Promise.resolve():(this.readyPromise=Promise.all(this.workers.map((e,n)=>new Promise((r,g)=>{const $=`req_${++this.requestId}`;this.pendingRequests.set($,{resolve:()=>r(),reject:g,workerIndex:n}),this.inFlightPerWorker[n]=(this.inFlightPerWorker[n]??0)+1,e.postMessage({type:"getAvailableFonts",id:$}),setTimeout(()=>{this.pendingRequests.get($)&&(this.pendingRequests.delete($),this.inFlightPerWorker[n]=Math.max(0,this.inFlightPerWorker[n]-1),g(new Error("Worker init timeout")))},this.timeOut)}))).then(()=>{}),this.readyPromise)}async setFontUrl(e){await this.sendMessageToAllWorkers({type:"setFontUrl",data:{url:e}})}async asyncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215}){await this.ensureInitialized();const g=await this.sendMessageToOneWorker({type:"render",data:{mtextContent:e,textStyle:n,colorSettings:r}});return this.reconstructMText(g,n)}syncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215}){throw new Error("Fuction 'syncRenderMText' isn't supported in 'WebWorkerRenderer'!")}async loadFonts(e){await this.ensureTasksFinished();const n=await this.sendMessageToAllWorkers({type:"loadFonts",data:{fonts:e}}),r=new Set;return n.forEach(g=>{var $;return($=g==null?void 0:g.loaded)==null?void 0:$.forEach(y=>r.add(y))}),{loaded:Array.from(r)}}async getAvailableFonts(){return(await this.sendMessageToAllWorkers({type:"getAvailableFonts"}))[0]??{fonts:[]}}reconstructMText(e,n){const r=new Group;return e.children.forEach(g=>{const $=new BufferGeometry;if(Object.keys(g.geometry.attributes).forEach(L=>{const V=g.geometry.attributes[L],z=new Float32Array(V.arrayBuffer,V.byteOffset,V.length),j=new BufferAttribute(z,V.itemSize,V.normalized);$.setAttribute(L,j)}),g.geometry.index)if(g.geometry.index.componentType==="uint32"){const L=new Uint32Array(g.geometry.index.arrayBuffer,g.geometry.index.byteOffset,g.geometry.index.length);$.setIndex(new Uint32BufferAttribute(L,1))}else{const L=new Uint16Array(g.geometry.index.arrayBuffer,g.geometry.index.byteOffset,g.geometry.index.length);$.setIndex(new Uint16BufferAttribute(L,1))}let y;g.type==="mesh"?(y=this.defaultStyleManager.getMeshBasicMaterial({layer:n.layer,isByLayer:n.isByLayer,color:g.material.color}),g.material.transparent!==void 0&&(y.transparent=g.material.transparent),g.material.opacity!==void 0&&(y.opacity=g.material.opacity),g.material.side!==void 0&&(y.side=g.material.side)):(y=this.defaultStyleManager.getLineBasicMaterial({layer:n.layer,isByLayer:n.isByLayer,color:g.material.color}),g.material.transparent!==void 0&&(y.transparent=g.material.transparent),g.material.opacity!==void 0&&(y.opacity=g.material.opacity),g.material.linewidth!==void 0&&(y.linewidth=g.material.linewidth));let k;g.type==="mesh"?k=new Mesh($,y):k=new LineSegments($,y),$.boundingBox||$.computeBoundingBox(),$.boundingSphere||$.computeBoundingSphere(),k.position.set(g.position.x,g.position.y,g.position.z),k.quaternion.set(g.rotation.x,g.rotation.y,g.rotation.z,g.rotation.w),k.scale.set(g.scale.x,g.scale.y,g.scale.z),r.add(k)}),r.box=new Box3(new Vector3(e.box.min.x,e.box.min.y,e.box.min.z),new Vector3(e.box.max.x,e.box.max.y,e.box.max.z)),r}terminate(){this.workers.forEach(e=>e.terminate()),this.workers=[],this.inFlightPerWorker=[],this.readyPromise=null,this.pendingRequests.forEach(({reject:e})=>{e(new Error("Renderer terminated"))}),this.pendingRequests.clear()}destroy(){this.terminate()}}class xg{constructor(){this.fontManager=Xe$2.instance,this.defaultStyleManager=new $o$1,this.isInitialized=!1}get styleManager(){return this.defaultStyleManager}set styleManager(e){this.defaultStyleManager=e}async setFontUrl(e){this.fontManager.baseUrl=e}async asyncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215}){await this.ensureInitialized();const g=new Jn$1(e,n,this.defaultStyleManager,this.fontManager,r);return await g.asyncDraw(),g.updateMatrixWorld(!0),g}syncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215}){const g=new Jn$1(e,n,this.defaultStyleManager,this.fontManager,r);return g.syncDraw(),g.updateMatrixWorld(!0),g}async loadFonts(e){return await this.fontManager.loadFontsByNames(e),{loaded:e}}async getAvailableFonts(){return{fonts:await this.fontManager.getAvailableFonts()}}destroy(){}async ensureInitialized(){this.isInitialized||(await this.loadFonts([Xe$2.instance.defaultFont]),this.isInitialized=!0)}}class wg{constructor(e="main",n={}){this.defaultMode=e,this.mainThreadRenderer=new xg,this.webWorkerRenderer=new vg(n),this.renderer=this.mainThreadRenderer,e==="worker"&&(this.renderer=this.webWorkerRenderer)}setStyleManager(e){this.renderer.styleManager=e}setDefaultMode(e){this.defaultMode!==e&&(this.defaultMode=e,e==="worker"?this.renderer=this.webWorkerRenderer:this.renderer=this.mainThreadRenderer)}setFontUrl(e){return this.renderer.setFontUrl(e)}getDefaultMode(){return this.defaultMode}async asyncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215},g){return g?(g==="worker"?this.webWorkerRenderer:this.mainThreadRenderer).asyncRenderMText(e,n,r):this.renderer.asyncRenderMText(e,n,r)}syncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215}){return this.mainThreadRenderer.syncRenderMText(e,n,r)}async loadFonts(e){return this.renderer.loadFonts(e)}async getAvailableFonts(){return this.renderer.getAvailableFonts()}destroy(){this.webWorkerRenderer&&this.webWorkerRenderer.terminate(),this.mainThreadRenderer.destroy()}}var ge$1;(function(t){t[t.BeforeStart=0]="BeforeStart",t[t.EqualStart=1]="EqualStart",t[t.BetweenStartAndEnd=2]="BetweenStartAndEnd",t[t.EqualEnd=3]="EqualEnd",t[t.AfterEnd=4]="AfterEnd"})(ge$1||(ge$1={}));class Sg{pointsSame(e,n){return this.pointsSameX(e,n)&&this.pointsSameY(e,n)}pointsCompare(e,n){return this.pointsSameX(e,n)?this.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1}}let qo$1=class extends Sg{constructor(e=1e-10){super(),this.epsilon=e}pointAboveOrOnLine(e,n,r){const g=n[0],$=n[1],y=r[0],k=r[1],L=e[0],V=e[1];return(y-g)*(V-$)-(k-$)*(L-g)>=-this.epsilon}pointBetween(e,n,r){const g=e[1]-n[1],$=r[0]-n[0],y=e[0]-n[0],k=r[1]-n[1],L=y*$+g*k;if(L<this.epsilon)return!1;const V=$*$+k*k;return!(L-V>-this.epsilon)}pointsSameX(e,n){return Math.abs(e[0]-n[0])<this.epsilon}pointsSameY(e,n){return Math.abs(e[1]-n[1])<this.epsilon}pointsCollinear(e,n,r){const g=e[0]-n[0],$=e[1]-n[1],y=n[0]-r[0],k=n[1]-r[1];return Math.abs(g*k-y*$)<this.epsilon}linesIntersect(e,n,r,g){const $=n[0]-e[0],y=n[1]-e[1],k=g[0]-r[0],L=g[1]-r[1],V=$*L-y*k;if(Math.abs(V)<this.epsilon)return null;const z=e[0]-r[0],j=e[1]-r[1],ie=(k*j-L*z)/V,Oe=($*j-y*z)/V,ur=Vr=>Vr<=-this.epsilon?ge$1.BeforeStart:Vr<this.epsilon?ge$1.EqualStart:Vr-1<=-this.epsilon?ge$1.BetweenStartAndEnd:Vr-1<this.epsilon?ge$1.EqualEnd:ge$1.AfterEnd,hr=[e[0]+ie*$,e[1]+ie*y];return{alongA:ur(ie),alongB:ur(Oe),p:hr}}},va$1=class{constructor(){this.nodes=[]}remove(e){const n=this.nodes.indexOf(e);n>=0&&this.nodes.splice(n,1)}getIndex(e){return this.nodes.indexOf(e)}isEmpty(){return this.nodes.length<=0}getHead(){return this.nodes[0]}removeHead(){this.nodes.shift()}insertBefore(e,n){this.findTransition(e,n).insert(e)}findTransition(e,n){var r,g;const $=(L,V)=>n(V)-n(L);let y=0,k=this.nodes.length;for(;y<k;){const L=y+k>>1;$(this.nodes[L],e)>0?k=L:y=L+1}return{before:y<=0?null:(r=this.nodes[y-1])!==null&&r!==void 0?r:null,after:(g=this.nodes[y])!==null&&g!==void 0?g:null,insert:L=>(this.nodes.splice(y,0,L),L)}}},Ut$2=class{constructor(e,n,r,g){var $;this.otherFill=null,this.id=($=g==null?void 0:g.segmentId())!==null&&$!==void 0?$:-1,this.start=e,this.end=n,this.myFill={above:r?r.myFill.above:null,below:r?r.myFill.below:null}}},xa$1=class{constructor(e,n,r,g){this.status=null,this.isStart=e,this.p=n,this.seg=r,this.primary=g}},wa$1=class{constructor(e,n,r=null){this.events=new va$1,this.status=new va$1,this.selfIntersection=e,this.geo=n,this.log=r}compareEvents(e,n,r,g,$,y){const k=this.geo.pointsCompare(n,$);return k!==0?k:this.geo.pointsSame(r,y)?0:e!==g?e?1:-1:this.geo.pointAboveOrOnLine(r,g?$:y,g?y:$)?1:-1}addEvent(e){this.events.insertBefore(e,n=>n===e?0:this.compareEvents(e.isStart,e.p,e.other.p,n.isStart,n.p,n.other.p))}divideEvent(e,n){var r;const g=new Ut$2(n,e.seg.end,e.seg,this.log);return(r=this.log)===null||r===void 0||r.segmentChop(e.seg,n),this.events.remove(e.other),e.seg.end=n,e.other.p=n,this.addEvent(e.other),this.addSegment(g,e.primary)}newSegment(e,n){const r=this.geo.pointsCompare(e,n);return r===0?null:r<0?new Ut$2(e,n,null,this.log):new Ut$2(n,e,null,this.log)}addSegment(e,n){const r=new xa$1(!0,e.start,e,n),g=new xa$1(!1,e.end,e,n);return r.other=g,g.other=r,this.addEvent(r),this.addEvent(g),r}addRegion(e){let n,r=e[e.length-1];for(let g=0;g<e.length;g++){n=r,r=e[g];const $=this.newSegment(n,r);$&&this.addSegment($,!0)}}compareStatus(e,n){const r=e.seg.start,g=e.seg.end,$=n.seg.start,y=n.seg.end;return this.geo.pointsCollinear(r,$,y)?this.geo.pointsCollinear(g,$,y)||this.geo.pointAboveOrOnLine(g,$,y)?1:-1:this.geo.pointAboveOrOnLine(r,$,y)?1:-1}statusFindSurrounding(e){return this.status.findTransition(e,n=>n===e?0:-this.compareStatus(e,n))}checkIntersection(e,n){var r;const g=e.seg,$=n.seg,y=g.start,k=g.end,L=$.start,V=$.end;(r=this.log)===null||r===void 0||r.checkIntersection(g,$);const z=this.geo.linesIntersect(y,k,L,V);if(z===null){if(!this.geo.pointsCollinear(y,k,L)||this.geo.pointsSame(y,V)||this.geo.pointsSame(k,L))return null;const j=this.geo.pointsSame(y,L),ie=this.geo.pointsSame(k,V);if(j&&ie)return n;const Oe=!j&&this.geo.pointBetween(y,L,V),ur=!ie&&this.geo.pointBetween(k,L,V);if(j)return ur?this.divideEvent(n,k):this.divideEvent(e,V),n;Oe&&(ie||(ur?this.divideEvent(n,k):this.divideEvent(e,V)),this.divideEvent(n,y))}else z.alongA===ge$1.BetweenStartAndEnd&&(z.alongB===ge$1.EqualStart?this.divideEvent(e,L):z.alongB===ge$1.BetweenStartAndEnd?this.divideEvent(e,z.p):z.alongB===ge$1.EqualEnd&&this.divideEvent(e,V)),z.alongB===ge$1.BetweenStartAndEnd&&(z.alongA===ge$1.EqualStart?this.divideEvent(n,y):z.alongA===ge$1.BetweenStartAndEnd?this.divideEvent(n,z.p):z.alongA===ge$1.EqualEnd&&this.divideEvent(n,k));return null}calculate(e,n){var r,g,$,y,k,L,V,z;const j=[];for(;!this.events.isEmpty();){const ie=this.events.getHead();if((r=this.log)===null||r===void 0||r.vert(ie.p[0]),ie.isStart){(g=this.log)===null||g===void 0||g.segmentNew(ie.seg,ie.primary);const Oe=this.statusFindSurrounding(ie),ur=Oe.before,hr=Oe.after;($=this.log)===null||$===void 0||$.tempStatus(ie.seg,ur?ur.seg:!1,hr?hr.seg:!1);const Vr=(()=>{if(ur){const dr=this.checkIntersection(ie,ur);if(dr)return dr}return hr?this.checkIntersection(ie,hr):null})();if(Vr){if(this.selfIntersection){let dr;ie.seg.myFill.below===null?dr=!0:dr=ie.seg.myFill.above!==ie.seg.myFill.below,dr&&(Vr.seg.myFill.above=!Vr.seg.myFill.above)}else Vr.seg.otherFill=ie.seg.myFill;(y=this.log)===null||y===void 0||y.segmentUpdate(Vr.seg),this.events.remove(ie.other),this.events.remove(ie)}if(this.events.getHead()!==ie){(k=this.log)===null||k===void 0||k.rewind(ie.seg);continue}if(this.selfIntersection){let dr;ie.seg.myFill.below===null?dr=!0:dr=ie.seg.myFill.above!==ie.seg.myFill.below,hr?ie.seg.myFill.below=hr.seg.myFill.above:ie.seg.myFill.below=e,dr?ie.seg.myFill.above=!ie.seg.myFill.below:ie.seg.myFill.above=ie.seg.myFill.below}else if(ie.seg.otherFill===null){let dr;if(!hr)dr=ie.primary?n:e;else if(ie.primary===hr.primary){if(hr.seg.otherFill===null)throw new Error("otherFill is null");dr=hr.seg.otherFill.above}else dr=hr.seg.myFill.above;ie.seg.otherFill={above:dr,below:dr}}(L=this.log)===null||L===void 0||L.status(ie.seg,ur?ur.seg:!1,hr?hr.seg:!1),ie.other.status=Oe.insert(ie)}else{const Oe=ie.status;if(Oe===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");const ur=this.status.getIndex(Oe);if(ur>0&&ur<this.status.nodes.length-1){const hr=this.status.nodes[ur-1],Vr=this.status.nodes[ur+1];this.checkIntersection(hr,Vr)}if((V=this.log)===null||V===void 0||V.statusRemove(Oe.seg),this.status.remove(Oe),!ie.primary){if(!ie.seg.otherFill)throw new Error("otherFill is null");const hr=ie.seg.myFill;ie.seg.myFill=ie.seg.otherFill,ie.seg.otherFill=hr}j.push(ie.seg)}this.events.removeHead()}return(z=this.log)===null||z===void 0||z.done(),j}};function Wt$2(t,e,n){const r=[];for(const g of t){const $=(g.myFill.above?8:0)+(g.myFill.below?4:0)+(g.otherFill&&g.otherFill.above?2:0)+(g.otherFill&&g.otherFill.below?1:0);if(e[$]!==0){const y=new Ut$2(g.start,g.end,null,n);y.myFill.above=e[$]===1,y.myFill.below=e[$]===2,r.push(y)}}return n==null||n.selected(r),r}let $t$2=class{static union(e,n){return Wt$2(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)}static intersect(e,n){return Wt$2(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)}static difference(e,n){return Wt$2(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)}static differenceRev(e,n){return Wt$2(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)}static xor(e,n){return Wt$2(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}};function _g(t,e,n){const r=[],g=[];for(const $ of t){let y=function(dr,ec,tc){return Oe&&(Oe.index=dr,Oe.matches_head=ec,Oe.matches_pt1=tc),Oe===j?(Oe=ie,!1):(Oe=null,!0)},k=function(dr){n==null||n.chainReverse(dr),r[dr].reverse()},L=function(dr,ec){const tc=r[dr],Xs=r[ec];let rc=tc[tc.length-1];const ic=tc[tc.length-2],_c=Xs[0],qm=Xs[1];e.pointsCollinear(ic,rc,_c)&&(n==null||n.chainRemoveTail(dr,rc),tc.pop(),rc=ic),e.pointsCollinear(rc,_c,qm)&&(n==null||n.chainRemoveHead(ec,_c),Xs.shift()),n==null||n.chainJoin(dr,ec),r[dr]=tc.concat(Xs),r.splice(ec,1)};const V=$.start,z=$.end;if(e.pointsSame(V,z)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");continue}n==null||n.chainStart($);const j={index:0,matches_head:!1,matches_pt1:!1},ie={index:0,matches_head:!1,matches_pt1:!1};let Oe=j;for(let dr=0;dr<r.length;dr++){const ec=r[dr],tc=ec[0],Xs=ec[ec.length-1];if(e.pointsSame(tc,V)){if(y(dr,!0,!0))break}else if(e.pointsSame(tc,z)){if(y(dr,!0,!1))break}else if(e.pointsSame(Xs,V)){if(y(dr,!1,!0))break}else if(e.pointsSame(Xs,z)&&y(dr,!1,!1))break}if(Oe===j){r.push([V,z]),n==null||n.chainNew(V,z);continue}if(Oe===ie){n==null||n.chainMatch(j.index);const dr=j.index,ec=j.matches_pt1?z:V,tc=j.matches_head,Xs=r[dr];let rc=tc?Xs[0]:Xs[Xs.length-1];const ic=tc?Xs[1]:Xs[Xs.length-2],_c=tc?Xs[Xs.length-1]:Xs[0],qm=tc?Xs[Xs.length-2]:Xs[1];if(e.pointsCollinear(ic,rc,ec)&&(tc?(n==null||n.chainRemoveHead(j.index,ec),Xs.shift()):(n==null||n.chainRemoveTail(j.index,ec),Xs.pop()),rc=ic),e.pointsSame(_c,ec)){r.splice(dr,1),e.pointsCollinear(qm,_c,rc)&&(tc?(n==null||n.chainRemoveTail(j.index,rc),Xs.pop()):(n==null||n.chainRemoveHead(j.index,rc),Xs.shift())),n==null||n.chainClose(j.index),g.push(Xs);continue}tc?(n==null||n.chainAddHead(j.index,ec),Xs.unshift(ec)):(n==null||n.chainAddTail(j.index,ec),Xs.push(ec));continue}const ur=j.index,hr=ie.index;n==null||n.chainConnect(ur,hr);const Vr=r[ur].length<r[hr].length;j.matches_head?ie.matches_head?Vr?(k(ur),L(ur,hr)):(k(hr),L(hr,ur)):L(hr,ur):ie.matches_head?L(ur,hr):Vr?(k(ur),L(hr,ur)):(k(hr),L(ur,hr))}return g}class Cg{constructor(){this.list=[],this.nextSegmentId=0,this.curVert=NaN}push(e,n){this.list.push({type:e,data:JSON.parse(JSON.stringify(n))})}segmentId(){return this.nextSegmentId++}checkIntersection(e,n){this.push("check",{seg1:e,seg2:n})}segmentChop(e,n){this.push("div_seg",{seg:e,p:n}),this.push("chop",{seg:e,p:n})}statusRemove(e){this.push("pop_seg",{seg:e})}segmentUpdate(e){this.push("seg_update",{seg:e})}segmentNew(e,n){this.push("new_seg",{seg:e,primary:n})}tempStatus(e,n,r){this.push("temp_status",{seg:e,above:n,below:r})}rewind(e){this.push("rewind",{seg:e})}status(e,n,r){this.push("status",{seg:e,above:n,below:r})}vert(e){e!==this.curVert&&(this.push("vert",{x:e}),this.curVert=e)}selected(e){this.push("selected",{segs:e})}chainStart(e){this.push("chain_start",{seg:e})}chainRemoveHead(e,n){this.push("chain_rem_head",{index:e,p:n})}chainRemoveTail(e,n){this.push("chain_rem_tail",{index:e,p:n})}chainNew(e,n){this.push("chain_new",{p1:e,p2:n})}chainMatch(e){this.push("chain_match",{index:e})}chainClose(e){this.push("chain_close",{index:e})}chainAddHead(e,n){this.push("chain_add_head",{index:e,p:n})}chainAddTail(e,n){this.push("chain_add_tail",{index:e,p:n})}chainConnect(e,n){this.push("chain_con",{index1:e,index2:n})}chainReverse(e){this.push("chain_rev",{index:e})}chainJoin(e,n){this.push("chain_join",{index1:e,index2:n})}done(){this.push("done",null)}}let Xo$1=class{constructor(e){this.log=null,this.geo=e}buildLog(e){var n;return this.log=e?new Cg:null,(n=this.log)===null||n===void 0?void 0:n.list}segments(e){const n=new wa$1(!0,this.geo,this.log);for(const r of e.regions)n.addRegion(r);return{segments:n.calculate(e.inverted,!1),inverted:e.inverted}}combine(e,n){const r=new wa$1(!1,this.geo,this.log);for(const g of e.segments)r.addSegment(new Ut$2(g.start,g.end,g,this.log),!0);for(const g of n.segments)r.addSegment(new Ut$2(g.start,g.end,g,this.log),!1);return{combined:r.calculate(e.inverted,n.inverted),inverted1:e.inverted,inverted2:n.inverted}}selectUnion(e){return{segments:$t$2.union(e.combined,this.log),inverted:e.inverted1||e.inverted2}}selectIntersect(e){return{segments:$t$2.intersect(e.combined,this.log),inverted:e.inverted1&&e.inverted2}}selectDifference(e){return{segments:$t$2.difference(e.combined,this.log),inverted:e.inverted1&&!e.inverted2}}selectDifferenceRev(e){return{segments:$t$2.differenceRev(e.combined,this.log),inverted:!e.inverted1&&e.inverted2}}selectXor(e){return{segments:$t$2.xor(e.combined,this.log),inverted:e.inverted1!==e.inverted2}}polygon(e){return{regions:_g(e.segments,this.geo,this.log),inverted:e.inverted}}union(e,n){const r=this.segments(e),g=this.segments(n),$=this.combine(r,g),y=this.selectUnion($);return this.polygon(y)}intersect(e,n){const r=this.segments(e),g=this.segments(n),$=this.combine(r,g),y=this.selectIntersect($);return this.polygon(y)}difference(e,n){const r=this.segments(e),g=this.segments(n),$=this.combine(r,g),y=this.selectDifference($);return this.polygon(y)}differenceRev(e,n){const r=this.segments(e),g=this.segments(n),$=this.combine(r,g),y=this.selectDifferenceRev($);return this.polygon(y)}xor(e,n){const r=this.segments(e),g=this.segments(n),$=this.combine(r,g),y=this.selectXor($);return this.polygon(y)}};new Xo$1(new qo$1);const De$2=[.5,0,0,.48429158056431554,-.1243449435824274,0,.4381533400219318,-.24087683705085766,0,.3644843137107058,-.3422735529643443,0,.2679133974894983,-.42216396275100754,0,.15450849718747373,-.47552825814757677,0,.03139525976465676,-.4990133642141358,0,-.09369065729286241,-.4911436253643443,0,-.21288964578253636,-.45241352623300973,0,-.3187119948743449,-.3852566213878946,0,-.40450849718747367,-.2938926261462366,0,-.4648882429441257,-.18406227634233907,0,-.4960573506572389,-.06266661678215227,0,-.49605735065723894,.06266661678215214,0,-.4648882429441256,.18406227634233915,0,-.4045084971874738,.2938926261462365,0,-.31871199487434476,.3852566213878947,0,-.21288964578253608,.4524135262330099,0,-.09369065729286231,.49114362536434436,0,.031395259764656416,.4990133642141358,0,.15450849718747361,.4755282581475768,0,.267913397489498,.42216396275100776,0,.3644843137107056,.3422735529643445,0,.4381533400219318,.24087683705085766,0,.4842915805643155,.12434494358242767,0,.5,0,0],Re$1=[0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25],Tg=new Map([[2,{position:new Float32Array([-1,0,0,1,0,0,0,-1,0,0,1,0]),indices:new Uint16Array([0,1,2,3])}],[3,{position:new Float32Array([-Math.SQRT1_2,Math.SQRT1_2,0,Math.SQRT1_2,-Math.SQRT1_2,0,-Math.SQRT1_2,-Math.SQRT1_2,0,Math.SQRT1_2,Math.SQRT1_2,0]),indices:new Uint16Array([0,1,2,3])}],[4,{position:new Float32Array([0,0,0,0,.5,0]),indices:new Uint16Array([0,1,2,3])}],[32,{position:new Float32Array(De$2),indices:new Uint16Array(Re$1)}],[33,{position:new Float32Array(De$2),indices:new Uint16Array(Re$1)}],[34,{position:new Float32Array([...De$2,-1,0,0,1,0,0,0,-1,0,0,1,0]),indices:new Uint16Array([...Re$1,26,27,28,29])}],[35,{position:new Float32Array([...De$2,-Math.SQRT1_2,Math.SQRT1_2,0,Math.SQRT1_2,-Math.SQRT1_2,0,-Math.SQRT1_2,-Math.SQRT1_2,0,Math.SQRT1_2,Math.SQRT1_2,0]),indices:new Uint16Array([...Re$1,26,27,28,29])}],[36,{position:new Float32Array([...De$2,0,0,0,0,.5,0]),indices:new Uint16Array([...Re$1,26,27])}],[64,{position:new Float32Array([-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-.5,.5,0]),indices:new Uint16Array([0,1,1,2,2,3,3,4])}],[65,{position:new Float32Array([-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-.5,.5,0]),indices:new Uint16Array([0,1,1,2,2,3,3,4])}],[66,{position:new Float32Array([-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-.5,.5,0,-1,0,0,1,0,0,0,-1,0,0,1,0]),indices:new Uint16Array([0,1,1,2,2,3,3,4,5,6,7,8])}],[67,{position:new Float32Array([-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-Math.SQRT1_2,Math.SQRT1_2,0,Math.SQRT1_2,-Math.SQRT1_2,0,-Math.SQRT1_2,-Math.SQRT1_2,0,Math.SQRT1_2,Math.SQRT1_2,0]),indices:new Uint16Array([0,1,1,2,2,3,3,0,4,5,6,7])}],[68,{position:new Float32Array([-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-.5,.5,0,0,0,0,0,.5,0]),indices:new Uint16Array([0,1,1,2,2,3,3,4,5,6])}],[96,{position:new Float32Array([...De$2,-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0]),indices:new Uint16Array([...Re$1,26,27,27,28,28,29,29,26])}],[97,{position:new Float32Array([...De$2,-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-.5,.5,0]),indices:new Uint16Array([...Re$1,26,27,27,28,28,29,29,30])}],[98,{position:new Float32Array([...De$2,-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-.5,.5,0,-1,0,0,1,0,0,0,-1,0,0,1,0]),indices:new Uint16Array([...Re$1,26,27,27,28,28,29,29,30,31,32,33,34])}],[99,{position:new Float32Array([...De$2,-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-Math.SQRT1_2,Math.SQRT1_2,0,Math.SQRT1_2,-Math.SQRT1_2,0,-Math.SQRT1_2,-Math.SQRT1_2,0,Math.SQRT1_2,Math.SQRT1_2,0]),indices:new Uint16Array([...Re$1,26,27,27,28,28,29,29,26,30,31,32,33])}],[100,{position:new Float32Array([...De$2,-.5,.5,0,.5,.5,0,.5,-.5,0,-.5,-.5,0,-.5,.5,0,0,0,0,0,.5,0]),indices:new Uint16Array([...Re$1,26,27,27,28,28,29,29,30,31,32])}]]);let rt$1=class E_{constructor(){this._symbols=this.initialize()}static get instance(){return E_._instance||(E_._instance=new E_),E_._instance}isShowPoint(e=null){return e==null||e==0||e==32||e==64||e==96}create(e=null,n={x:0,y:0,z:0}){const r={};if(e==null||e==0)qt$2.copy(n),r.point=new BufferGeometry().setFromPoints([qt$2]);else if(e!=1){const g=this._symbols.get(e);if(g==null)throw new Error(`[AcTrPointSymbolCreator] Invalid point type value: '${e}'!`);qt$2.copy(n),Sa$1.identity().makeTranslation(qt$2),r.line=g.clone().applyMatrix4(Sa$1),(e==32||e==64||e==96)&&(r.point=new BufferGeometry().setFromPoints([qt$2]))}return r}initialize(){const e=new Map;return Tg.forEach((n,r)=>{const g=new BufferGeometry;g.setAttribute("position",new BufferAttribute(n.position,3)),g.setIndex(new BufferAttribute(n.indices,1)),e.set(r,g)}),e}};const Sa$1=new Matrix4,qt$2=new Vector3,On$1=new Vector3,Pn$1=new Vector3;let dn$2=class ow{static release(e){e.index=null,e.attributes={}}static toNonIndexed(e){if(!e.index)return e;const n=new BufferGeometry,r=e.index;for(const g in e.attributes)n.setAttribute(g,ow.createGeometryAttributeByIndex(e.attributes[g],r));return n}static createGeometryAttributeByIndex(e,n){const r=n.count,g=e.itemSize,$=e.array.constructor,y=new $(r*g);for(let k=0;k<r;k++){const L=n.getX(k)*g;for(let V=0;V<g;V++)y[k*g+V]=e.array[L+V]}return new BufferAttribute(y,g,e.normalized)}static tryConvertInterleavedBufferAttributes(e){!e||!e.attributes||Object.keys(e.attributes).forEach(n=>{const r=e.attributes[n];if(r instanceof InterleavedBufferAttribute){const g=r.clone();e.attributes[n]=g}})}static createBufferGeometryByPoints(e){const n=new BufferGeometry,r=new Float32Array(e.length*3),g=new Uint16Array((e.length-1)*2);return e.forEach(($,y)=>{let k=y*3;r[k]=$.x,r[k+1]=$.y,r[k+2]=$.z,y>0&&(k=(y-1)*2,g[k]=y-1,g[k+1]=y)}),n.setAttribute("position",new Float32BufferAttribute(r,3)),n.setIndex(new Uint16BufferAttribute(g,1)),n}static computeLineDistance(e){const n=e.isLineSegments===!0;let r=e.geometry;const g=e.matrixWorld;if(r.index&&(r=ow.toNonIndexed(r)),r.index===null){const $=r.attributes.position;if(!$||$.count===0)return;const y=[];if(n)for(let k=0,L=$.count;k<L;k+=2)On$1.fromBufferAttribute($,k).applyMatrix4(g),Pn$1.fromBufferAttribute($,k+1).applyMatrix4(g),y[k]=k===0?0:y[k-1],y[k+1]=y[k]+On$1.distanceTo(Pn$1);else{y[0]=0;for(let k=1,L=$.count;k<L;k++)On$1.fromBufferAttribute($,k-1).applyMatrix4(g),Pn$1.fromBufferAttribute($,k).applyMatrix4(g),y[k]=y[k-1],y[k]+=On$1.distanceTo(Pn$1)}r.setAttribute("lineDistance",new Float32BufferAttribute(y,1)),e.geometry.dispose(),e.geometry=r}}static computeLineDistances(e){e.traverse(n=>{let r=n;r.isLine&&r.material instanceof ShaderMaterial&&this.computeLineDistance(r)})}static apply2dTransform(e,n,r=0,g=1){const $=e.attributes.position,y=$.itemSize,k=$.array;if(r!=0){const L=Math.cos(r),V=Math.sin(r);for(let z=0;z<k.length;z+=y){const j=k[z],ie=k[z+1],Oe=j*L-ie*V,ur=j*V+ie*L;k[z]=Oe*g+n.x,k[z+1]=ur*g+n.y}}else for(let L=0;L<k.length;L+=y)k[L]=k[L]*g+n.x,k[L+1]+=k[L+1]*g+n.y;return $.needsUpdate=!0,e}static apply3dTransform(e,n,r){const g=e.attributes.position,$=g.itemSize,y=g.array,k=Math.cos(r.x),L=Math.sin(r.x),V=Math.cos(r.y),z=Math.sin(r.y),j=Math.cos(r.z),ie=Math.sin(r.z);for(let Oe=0;Oe<y.length;Oe+=$){let ur=y[Oe],hr=y[Oe+1],Vr=y[Oe+2],dr=hr*k-Vr*L,ec=hr*L+Vr*k;hr=dr,Vr=ec;let tc=ur*V+Vr*z;ec=-ur*z+Vr*V,ur=tc,Vr=ec,tc=ur*j-hr*ie,dr=ur*ie+hr*j,ur=tc,hr=dr,y[Oe]=ur+n.x,y[Oe+1]=hr+n.y,y[Oe+2]=Vr+n.z}return g.needsUpdate=!0,e}},xn$1=class g2{static getExtension(e){return e.substring(e.lastIndexOf(".")+1)}static estimateObjectSize(e){const n=new WeakSet;function r(g){if(g==null)return 0;const $=typeof g;if($==="boolean")return 4;if($==="number")return 8;if($==="string")return g.length*2;if($==="symbol"||$==="function"||n.has(g))return 0;if(n.add(g),Array.isArray(g))return g.map(r).reduce((y,k)=>y+k,0);if($==="object"){let y=0;for(const k in g)Object.prototype.hasOwnProperty.call(g,k)&&(y+=k.length*2,y+=r(g[k]));return y}return 0}return r(e)}static getFileName(e){return e.split("/").pop()}static getFileNameWithoutExtension(e){const n=g2.getFileName(e);if(n){const r=n.lastIndexOf(".");return r===-1?n:n.substring(0,r)}return e}};class ls{static createDefaultTraits(){return{color:new Kr$1,rgbColor:16777215,lineType:{type:"ByLayer",name:"Continuous",standardFlag:0,description:"Solid line",totalPatternLength:0},lineTypeScale:1,lineWeight:xa$2.ByLayer,fillType:{solidFill:!0,patternAngle:0,patternLines:[]},transparency:new fa$2,thickness:0,layer:"0"}}static createTraitsForMText(e){const n=new Kr$1;return e.isByLayer||n.setRGBValue(e.color),{color:n,rgbColor:e.color,lineType:{type:"ByLayer",name:"Continuous",standardFlag:0,description:"Solid line",totalPatternLength:0},lineTypeScale:1,lineWeight:xa$2.ByLayer,fillType:{solidFill:!0,patternAngle:0,patternLines:[]},transparency:new fa$2,thickness:0,layer:e.layer??"0"}}}const Ig=new Color$1(583902);class er{static cloneMaterial(e){if(!e)return e;if(Array.isArray(e)){const n=[];return e.forEach(r=>{n.push(r.clone())}),n}return e.clone()}static setMaterialColor(e,n=Ig){if(Array.isArray(e)){e.forEach(r=>this.setMaterialColor(r,n));return}this.hasColorProperty(e)&&(e.color.set(n),this.hasEmissiveProperty(e)&&e.emissive.set(n)),this.hasUniformsProperty(e)&&e.uniforms.u_color&&e.uniforms.u_color.value.set(n)}static hasColorProperty(e){return"color"in e&&e.color instanceof Color$1}static hasEmissiveProperty(e){return"emissive"in e&&e.emissive instanceof Color$1}static hasUniformsProperty(e){return"uniforms"in e&&e.uniforms!==void 0}}function Ns(t,e){return t-e}function zs(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const g=t.count;for(let $=0;$<g;$++)for(let y=0;y<r;y++)e.setComponent($+n,y,t.getComponent($,y))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Nt$2(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}const _a$1=new Box3,_t$1=new Vector3,Ct$1=new LineSegments,Dn$1=[];class Eg extends LineSegments{constructor(e=1e3,n=e*2,r){super(new BufferGeometry,r),this.boundingBox=null,this.boundingSphere=null,this._geometryInfo=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._geometryInitialized=!1,this.frustumCulled=!1,this._maxVertexCount=e,this._maxIndexCount=n}get geometryCount(){return this._geometryCount}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}get mappingStats(){const e=this._geometryInfo.length;let n=0;return e>0&&(n=xn$1.estimateObjectSize(this._geometryInfo[0])),{count:e,size:e*n}}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,g=this._maxIndexCount;if(this._geometryInitialized===!1){for(const $ in e.attributes){const y=e.getAttribute($),{array:k,itemSize:L,normalized:V}=y,z=new k.constructor(r*L),j=new BufferAttribute(z,L,V);n.setAttribute($,j)}if(e.getIndex()!==null){const $=r>65535?new Uint32Array(g):new Uint16Array(g);n.setIndex(new BufferAttribute($,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('AcTrBatchedLine: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`AcTrBatchedLine: Added geometry missing "${r}". All geometries must have consistent attributes.`);const g=e.getAttribute(r),$=n.getAttribute(r);if(g.itemSize!==$.itemSize||g.normalized!==$.normalized)throw new Error("AcTrBatchedLine: All attributes must have a consistent itemSize and normalized value.")}}_resizeSpaceIfNeeded(e){const n=e.getIndex(),r=n!==null;let g=this._maxIndexCount;r&&this.unusedIndexCount<n.count&&(g=(this._maxIndexCount+n.count)*1.5);const $=e.getAttribute("position");let y=this._maxVertexCount;$&&this.unusedVertexCount<$.count&&(y=(this._maxVertexCount+$.count)*1.5),(g>this._maxIndexCount||y>this._maxVertexCount)&&this.setGeometrySize(y,g)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`AcTrBatchedLine: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}reset(){this.boundingBox=null,this.boundingSphere=null,this._geometryInfo=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._geometryInfo.length=0,this._geometryInitialized=!1,this.geometry.dispose()}getUserData(){const e=[];return this._geometryInfo.forEach(n=>{e.push({position:n.position,objectId:n.objectId,bboxIntersectionCheck:n.bboxIntersectionCheck})}),e}resetGeometry(e){const n=this.getUserData();this.reset();const r=rt$1.instance;n.forEach(g=>{if(g.position){const $=r.create(e,g.position);if($.line){const y=this.addGeometry($.line);this.setGeometryInfo(y,g)}}})}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.boundingBox,n=this._geometryInfo;e.makeEmpty();for(let r=0,g=n.length;r<g;r++){const $=n[r];$.active!==!1&&$.boundingBox!=null&&e.union($.boundingBox)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.boundingSphere,n=this._geometryInfo;e.makeEmpty();for(let r=0,g=n.length;r<g;r++){const $=n[r];$.active!==!1&&$.boundingSphere!=null&&e.union($.boundingSphere)}}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e),e.boundingBox==null&&e.computeBoundingBox(),e.boundingSphere==null&&e.computeBoundingSphere(),this._resizeSpaceIfNeeded(e);const g={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:e.boundingBox,boundingSphere:e.boundingSphere,active:!0,visible:!0},$=this._geometryInfo;g.vertexStart=this._nextVertexStart,g.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const y=e.getIndex();if(y!==null&&(g.indexStart=this._nextIndexStart,g.reservedIndexCount=r===-1?y.count:r),g.indexStart!==-1&&g.indexStart+g.reservedIndexCount>this._maxIndexCount||g.vertexStart+g.reservedVertexCount>this._maxVertexCount)throw new Error("AcTrBatchedLine: Reserved space request exceeds the maximum buffer size.");let k;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Ns),k=this._availableGeometryIds.shift(),$[k]=g):(k=this._geometryCount,this._geometryCount++,$.push(g)),this.setGeometryAt(k,e),this._nextIndexStart=g.indexStart+g.reservedIndexCount,this._nextVertexStart=g.vertexStart+g.reservedVertexCount,k}setGeometryInfo(e,n){if(e>=this._geometryCount)throw new Error("AcTrBatchedLine: Maximum geometry count reached.");const r=this._geometryInfo[e],g=n.position;g&&(r.position={...g}),r.objectId=n.objectId,r.bboxIntersectionCheck=n.bboxIntersectionCheck}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("AcTrBatchedLine: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,g=r.getIndex()!==null,$=r.getIndex(),y=n.getIndex(),k=this._geometryInfo[e];if(g&&y.count>k.reservedIndexCount||n.attributes.position.count>k.reservedVertexCount)throw new Error("AcTrBatchedLine: Reserved space not large enough for provided geometry.");const L=k.vertexStart,V=k.reservedVertexCount;k.vertexCount=n.getAttribute("position").count;for(const z in r.attributes){const j=n.getAttribute(z),ie=r.getAttribute(z);zs(j,ie,L);const Oe=j.itemSize;for(let ur=j.count,hr=V;ur<hr;ur++){const Vr=L+ur;for(let dr=0;dr<Oe;dr++)ie.setComponent(Vr,dr,0)}ie.needsUpdate=!0,ie.addUpdateRange(L*Oe,V*Oe)}if(g&&$){const z=k.indexStart,j=k.reservedIndexCount;k.indexCount=n.getIndex().count;for(let ie=0;ie<y.count;ie++)$.setX(z+ie,L+y.getX(ie));for(let ie=y.count,Oe=j;ie<Oe;ie++)$.setX(z+ie,L);$.needsUpdate=!0,$.addUpdateRange(z,k.reservedIndexCount)}return k.start=g?k.indexStart:k.vertexStart,k.count=g?k.indexCount:k.vertexCount,k.boundingBox=null,n.boundingBox!==null&&(k.boundingBox=n.boundingBox.clone()),k.boundingSphere=null,n.boundingSphere!==null&&(k.boundingSphere=n.boundingSphere.clone()),e}deleteGeometry(e){const n=this._geometryInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableGeometryIds.push(e),this)}optimize(){let e=0,n=0;const r=this._geometryInfo,g=r.map((y,k)=>k).sort((y,k)=>r[y].vertexStart-r[k].vertexStart),$=this.geometry;for(let y=0,k=r.length;y<k;y++){const L=g[y],V=r[L];if(V.active!==!1){if($.index!==null){if(V.indexStart!==n){const{indexStart:z,vertexStart:j,reservedIndexCount:ie}=V,Oe=$.index,ur=Oe.array,hr=e-j;for(let Vr=z;Vr<z+ie;Vr++)ur[Vr]=ur[Vr]+hr;Oe.array.copyWithin(n,z,z+ie),Oe.addUpdateRange(n,ie),V.indexStart=n}n+=V.reservedIndexCount}if(V.vertexStart!==e){const{vertexStart:z,reservedVertexCount:j}=V,ie=$.attributes;for(const Oe in ie){const ur=ie[Oe],{array:hr,itemSize:Vr}=ur;hr.copyWithin(e*Vr,z*Vr,(z+j)*Vr),ur.addUpdateRange(e*Vr,j*Vr)}V.vertexStart=e}e+=V.reservedVertexCount,V.start=$.index?V.indexStart:V.vertexStart,this._nextIndexStart=$.index?V.indexStart+V.reservedIndexCount:0,this._nextVertexStart=V.vertexStart+V.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,g=this._geometryInfo[e];if(g.boundingBox===null){const $=new Box3,y=r.index,k=r.attributes.position;for(let L=g.start,V=g.start+g.count;L<V;L++){let z=L;y&&(z=y.getX(z)),$.expandByPoint(_t$1.fromBufferAttribute(k,z))}g.boundingBox=$}return n.copy(g.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,g=this._geometryInfo[e];if(g.boundingSphere===null){const $=new Sphere;this.getBoundingBoxAt(e,_a$1),_a$1.getCenter($.center);const y=r.index,k=r.attributes.position;let L=0;for(let V=g.start,z=g.start+g.count;V<z;V++){let j=V;y&&(j=y.getX(j)),_t$1.fromBufferAttribute(k,j),L=Math.max(L,$.center.distanceToSquared(_t$1))}$.radius=Math.sqrt(L),g.boundingSphere=$}return n.copy(g.boundingSphere),n}setVisibleAt(e,n){return this.validateGeometryId(e),this._geometryInfo[e].visible===n?this:(this._geometryInfo[e].visible=n,this)}getVisibleAt(e){return this.validateGeometryId(e),this._geometryInfo[e].visible}getGeometryAt(e){return this.validateGeometryId(e),this._geometryInfo[e]}setGeometrySize(e,n){const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(r));const g=this.geometry;r.index&&Nt$2(r.index.array,g.index.array);for(const $ in r.attributes)Nt$2(r.attributes[$].array,g.attributes[$].array)}getObjectAt(e){const n=new LineSegments;this._initializeRaycastObject(n);const r=this._geometryInfo[e];return this._setRaycastObjectInfo(n,e,r.start,r.count),n}_initializeRaycastObject(e){const n=this.geometry;return e.material=this.material,e.geometry.index=n.index,e.geometry.attributes=n.attributes,e.geometry.boundingBox===null&&(e.geometry.boundingBox=new Box3),e.geometry.boundingSphere===null&&(e.geometry.boundingSphere=new Sphere),e}_setRaycastObjectInfo(e,n,r,g){e.geometry.setDrawRange(r,g),this.getBoundingBoxAt(n,e.geometry.boundingBox),this.getBoundingSphereAt(n,e.geometry.boundingSphere)}_resetRaycastObjectInfo(e){e.geometry.index=null,e.geometry.attributes={},e.geometry.setDrawRange(0,1/0)}intersectWith(e,n,r){this._initializeRaycastObject(Ct$1),this._intersectWith(e,n,r),this._resetRaycastObjectInfo(Ct$1)}_intersectWith(e,n,r){const g=this._geometryInfo[e];if(!(!g.visible||!g.active))if(g.bboxIntersectionCheck){const $=g.boundingBox;if(n.ray.intersectBox($,_t$1)){const y=n.ray.origin.distanceTo(_t$1);r.push({distance:y,point:_t$1.clone(),object:this,face:null,faceIndex:void 0,uv:void 0,batchId:e,objectId:g.objectId})}}else{this._setRaycastObjectInfo(Ct$1,e,g.start,g.count),Ct$1.raycast(n,Dn$1);for(let $=0,y=Dn$1.length;$<y;$++){const k=Dn$1[$];k.object=this,k.batchId=e,k.objectId=g.objectId,r.push(k)}Dn$1.length=0}}raycast(e,n){const r=this._geometryInfo;this._initializeRaycastObject(Ct$1);for(let g=0,$=r.length;g<$;g++)this._intersectWith(g,e,n);this._resetRaycastObjectInfo(Ct$1)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this}dispose(){return this.geometry.dispose(),this}}const Ca$1=new Box3,Tt$2=new Vector3,It$2=new Mesh,Rn$1=[];class Mg extends Mesh{constructor(e=1e3,n=e*2,r){super(new BufferGeometry,r),this.boundingBox=null,this.boundingSphere=null,this._geometryInfo=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._geometryInitialized=!1,this.frustumCulled=!1,this._maxVertexCount=e,this._maxIndexCount=n}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}get mappingStats(){const e=this._geometryInfo.length;let n=0;return e>0&&(n=xn$1.estimateObjectSize(this._geometryInfo[0])),{count:e,size:e*n}}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,g=this._maxIndexCount;if(this._geometryInitialized===!1){for(const $ in e.attributes){const y=e.getAttribute($),{array:k,itemSize:L,normalized:V}=y,z=new k.constructor(r*L),j=new BufferAttribute(z,L,V);n.setAttribute($,j)}if(e.getIndex()!==null){const $=r>65535?new Uint32Array(g):new Uint16Array(g);n.setIndex(new BufferAttribute($,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('AcTrBatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`AcTrBatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const g=e.getAttribute(r),$=n.getAttribute(r);if(g.itemSize!==$.itemSize||g.normalized!==$.normalized)throw new Error("AcTrBatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}_resizeSpaceIfNeeded(e){const n=e.getIndex(),r=n!==null;let g=this._maxIndexCount;r&&this.unusedIndexCount<n.count&&(g=(this._maxIndexCount+n.count)*1.5);const $=e.getAttribute("position");let y=this._maxVertexCount;$&&this.unusedVertexCount<$.count&&(y=(this._maxVertexCount+$.count)*1.5),(g>this._maxIndexCount||y>this._maxVertexCount)&&this.setGeometrySize(y,g)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`AcTrBatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.boundingBox,n=this._geometryInfo;e.makeEmpty();for(let r=0,g=n.length;r<g;r++){const $=n[r];$.active!==!1&&$.boundingBox!=null&&e.union($.boundingBox)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.boundingSphere,n=this._geometryInfo;e.makeEmpty();for(let r=0,g=n.length;r<g;r++){const $=n[r];$.active!==!1&&$.boundingSphere!=null&&e.union($.boundingSphere)}}addGeometry(e,n=-1,r=-1){e.hasAttribute("uv")&&e.deleteAttribute("uv"),e.hasAttribute("normal")&&e.deleteAttribute("normal"),this._initializeGeometry(e),this._validateGeometry(e),e.boundingBox==null&&e.computeBoundingBox(),e.boundingSphere==null&&e.computeBoundingSphere(),this._resizeSpaceIfNeeded(e);const g={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:e.boundingBox,boundingSphere:e.boundingSphere,active:!0,visible:!0},$=this._geometryInfo;g.vertexStart=this._nextVertexStart,g.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const y=e.getIndex();if(y!==null&&(g.indexStart=this._nextIndexStart,g.reservedIndexCount=r===-1?y.count:r),g.indexStart!==-1&&g.indexStart+g.reservedIndexCount>this._maxIndexCount||g.vertexStart+g.reservedVertexCount>this._maxVertexCount)throw new Error("AcTrBatchedMesh: Reserved space request exceeds the maximum buffer size.");let k;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Ns),k=this._availableGeometryIds.shift(),$[k]=g):(k=this._geometryCount,this._geometryCount++,$.push(g)),this.setGeometryAt(k,e),this._nextIndexStart=g.indexStart+g.reservedIndexCount,this._nextVertexStart=g.vertexStart+g.reservedVertexCount,k}setGeometryInfo(e,n){if(e>=this._geometryCount)throw new Error("AcTrBatchedMesh: Maximum geometry count reached.");const r=this._geometryInfo[e];r.objectId=n.objectId,r.bboxIntersectionCheck=n.bboxIntersectionCheck}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("AcTrBatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,g=r.getIndex()!==null,$=r.getIndex(),y=n.getIndex(),k=this._geometryInfo[e];if(g&&y.count>k.reservedIndexCount||n.attributes.position.count>k.reservedVertexCount)throw new Error("AcTrBatchedMesh: Reserved space not large enough for provided geometry.");const L=k.vertexStart,V=k.reservedVertexCount;k.vertexCount=n.getAttribute("position").count;for(const z in r.attributes){const j=n.getAttribute(z),ie=r.getAttribute(z);zs(j,ie,L);const Oe=j.itemSize;for(let ur=j.count,hr=V;ur<hr;ur++){const Vr=L+ur;for(let dr=0;dr<Oe;dr++)ie.setComponent(Vr,dr,0)}ie.needsUpdate=!0,ie.addUpdateRange(L*Oe,V*Oe)}if(g&&$){const z=k.indexStart,j=k.reservedIndexCount;k.indexCount=n.getIndex().count;for(let ie=0;ie<y.count;ie++)$.setX(z+ie,L+y.getX(ie));for(let ie=y.count,Oe=j;ie<Oe;ie++)$.setX(z+ie,L);$.needsUpdate=!0,$.addUpdateRange(z,k.reservedIndexCount)}return k.start=g?k.indexStart:k.vertexStart,k.count=g?k.indexCount:k.vertexCount,k.boundingBox=null,n.boundingBox!==null&&(k.boundingBox=n.boundingBox.clone()),k.boundingSphere=null,n.boundingSphere!==null&&(k.boundingSphere=n.boundingSphere.clone()),e}deleteGeometry(e){const n=this._geometryInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableGeometryIds.push(e),this)}optimize(){let e=0,n=0;const r=this._geometryInfo,g=r.map((y,k)=>k).sort((y,k)=>r[y].vertexStart-r[k].vertexStart),$=this.geometry;for(let y=0,k=r.length;y<k;y++){const L=g[y],V=r[L];if(V.active!==!1){if($.index!==null){if(V.indexStart!==n){const{indexStart:z,vertexStart:j,reservedIndexCount:ie}=V,Oe=$.index,ur=Oe.array,hr=e-j;for(let Vr=z;Vr<z+ie;Vr++)ur[Vr]=ur[Vr]+hr;Oe.array.copyWithin(n,z,z+ie),Oe.addUpdateRange(n,ie),V.indexStart=n}n+=V.reservedIndexCount}if(V.vertexStart!==e){const{vertexStart:z,reservedVertexCount:j}=V,ie=$.attributes;for(const Oe in ie){const ur=ie[Oe],{array:hr,itemSize:Vr}=ur;hr.copyWithin(e*Vr,z*Vr,(z+j)*Vr),ur.addUpdateRange(e*Vr,j*Vr)}V.vertexStart=e}e+=V.reservedVertexCount,V.start=$.index?V.indexStart:V.vertexStart,this._nextIndexStart=$.index?V.indexStart+V.reservedIndexCount:0,this._nextVertexStart=V.vertexStart+V.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,g=this._geometryInfo[e];if(g.boundingBox===null){const $=new Box3,y=r.index,k=r.attributes.position;for(let L=g.start,V=g.start+g.count;L<V;L++){let z=L;y&&(z=y.getX(z)),$.expandByPoint(Tt$2.fromBufferAttribute(k,z))}g.boundingBox=$}return n.copy(g.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,g=this._geometryInfo[e];if(g.boundingSphere===null){const $=new Sphere;this.getBoundingBoxAt(e,Ca$1),Ca$1.getCenter($.center);const y=r.index,k=r.attributes.position;let L=0;for(let V=g.start,z=g.start+g.count;V<z;V++){let j=V;y&&(j=y.getX(j)),Tt$2.fromBufferAttribute(k,j),L=Math.max(L,$.center.distanceToSquared(Tt$2))}$.radius=Math.sqrt(L),g.boundingSphere=$}return n.copy(g.boundingSphere),n}setVisibleAt(e,n){return this.validateGeometryId(e),this._geometryInfo[e].visible===n?this:(this._geometryInfo[e].visible=n,this)}getVisibleAt(e){return this.validateGeometryId(e),this._geometryInfo[e].visible}getGeometryRangeAt(e){return this.validateGeometryId(e),this._geometryInfo[e]}setGeometrySize(e,n){const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(r));const g=this.geometry;r.index&&Nt$2(r.index.array,g.index.array);for(const $ in r.attributes)Nt$2(r.attributes[$].array,g.attributes[$].array)}getObjectAt(e){const n=new Mesh;this._initializeRaycastObject(n);const r=this._geometryInfo[e];return this._setRaycastObjectInfo(n,e,r.start,r.count),n}_initializeRaycastObject(e){const n=this.geometry;return e.material=this.material,e.geometry.index=n.index,e.geometry.attributes=n.attributes,e.geometry.boundingBox===null&&(e.geometry.boundingBox=new Box3),e.geometry.boundingSphere===null&&(e.geometry.boundingSphere=new Sphere),e}_setRaycastObjectInfo(e,n,r,g){e.geometry.setDrawRange(r,g),this.getBoundingBoxAt(n,e.geometry.boundingBox),this.getBoundingSphereAt(n,e.geometry.boundingSphere)}_resetRaycastObjectInfo(e){e.geometry.index=null,e.geometry.attributes={},e.geometry.setDrawRange(0,1/0)}intersectWith(e,n,r){this._initializeRaycastObject(It$2),this._intersectWith(e,n,r),this._resetRaycastObjectInfo(It$2)}_intersectWith(e,n,r){const g=this._geometryInfo[e];if(!(!g.visible||!g.active))if(g.bboxIntersectionCheck){const $=g.boundingBox;if(n.ray.intersectBox($,Tt$2)){const y=n.ray.origin.distanceTo(Tt$2);r.push({distance:y,point:Tt$2.clone(),object:this,face:null,faceIndex:void 0,uv:void 0,batchId:e,objectId:g.objectId})}}else{this._setRaycastObjectInfo(It$2,e,g.start,g.count),It$2.raycast(n,Rn$1);for(let $=0,y=Rn$1.length;$<y;$++){const k=Rn$1[$];k.object=this,k.batchId=e,k.objectId=g.objectId,r.push(k)}Rn$1.length=0}}raycast(e,n){const r=this._geometryInfo;this._initializeRaycastObject(It$2);for(let g=0,$=r.length;g<$;g++)this._intersectWith(g,e,n);this._resetRaycastObjectInfo(It$2)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this}dispose(){return this.geometry.dispose(),this}}const Ta$1=new Box3,Et$1=new Vector3,Mt$1=new Points,Un$1=[];class kg extends Points{constructor(e=1e3,n){super(new BufferGeometry,n),this.boundingBox=null,this.boundingSphere=null,this._geometryInfo=[],this._availableGeometryIds=[],this._nextVertexStart=0,this._geometryCount=0,this._geometryInitialized=!1,this.frustumCulled=!1,this._maxVertexCount=e}get geometryCount(){return this._geometryCount}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get mappingStats(){const e=this._geometryInfo.length;let n=0;return e>0&&(n=xn$1.estimateObjectSize(this._geometryInfo[0])),{count:e,size:e*n}}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount;if(this._geometryInitialized===!1){for(const g in e.attributes){const $=e.getAttribute(g),{array:y,itemSize:k,normalized:L}=$,V=new y.constructor(r*k),z=new BufferAttribute(V,k,L);n.setAttribute(g,z)}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`AcTrBatchedLine: Added geometry missing "${r}". All geometries must have consistent attributes.`);const g=e.getAttribute(r),$=n.getAttribute(r);if(g.itemSize!==$.itemSize||g.normalized!==$.normalized)throw new Error("AcTrBatchedLine: All attributes must have a consistent itemSize and normalized value.")}}_resizeSpaceIfNeeded(e){const n=e.getAttribute("position");let r=this._maxVertexCount;n&&this.unusedVertexCount<n.count&&(r=(this._maxVertexCount+n.count)*1.5),r>this._maxVertexCount&&this.setGeometrySize(r)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`AcTrBatchedLine: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}reset(){this.boundingBox=null,this.boundingSphere=null,this._geometryInfo=[],this._availableGeometryIds=[],this._nextVertexStart=0,this._geometryCount=0,this._geometryInfo.length=0,this._geometryInitialized=!1,this.geometry.dispose()}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.boundingBox,n=this._geometryInfo;e.makeEmpty();for(let r=0,g=n.length;r<g;r++){const $=n[r];$.active!==!1&&$.boundingBox!=null&&e.union($.boundingBox)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.boundingSphere,n=this._geometryInfo;e.makeEmpty();for(let r=0,g=n.length;r<g;r++){const $=n[r];$.active!==!1&&$.boundingSphere!=null&&e.union($.boundingSphere)}}addGeometry(e,n=-1){this._initializeGeometry(e),this._validateGeometry(e),e.boundingBox==null&&e.computeBoundingBox(),e.boundingSphere==null&&e.computeBoundingSphere(),this._resizeSpaceIfNeeded(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,boundingBox:e.boundingBox,boundingSphere:e.boundingSphere,active:!0,visible:!0},g=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;let $;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Ns),$=this._availableGeometryIds.shift(),g[$]=r):($=this._geometryCount,this._geometryCount++,g.push(r)),this.setGeometryAt($,e),this._nextVertexStart=r.vertexStart+r.reservedVertexCount,this.geometry.setDrawRange(0,this._nextVertexStart),$}setGeometryInfo(e,n){if(e>=this._geometryCount)throw new Error("AcTrBatchedLine: Maximum geometry count reached.");const r=this._geometryInfo[e],g=n.position;g&&(r.position={...g}),r.objectId=n.objectId,r.bboxIntersectionCheck=n.bboxIntersectionCheck}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("AcTrBatchedLine: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,g=this._geometryInfo[e],$=g.vertexStart,y=g.reservedVertexCount;g.vertexCount=n.getAttribute("position").count;for(const k in r.attributes){const L=n.getAttribute(k),V=r.getAttribute(k);zs(L,V,$);const z=L.itemSize;for(let j=L.count,ie=y;j<ie;j++){const Oe=$+j;for(let ur=0;ur<z;ur++)V.setComponent(Oe,ur,0)}V.needsUpdate=!0,V.addUpdateRange($*z,y*z)}return g.boundingBox=null,n.boundingBox!==null&&(g.boundingBox=n.boundingBox.clone()),g.boundingSphere=null,n.boundingSphere!==null&&(g.boundingSphere=n.boundingSphere.clone()),e}deleteGeometry(e){const n=this._geometryInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableGeometryIds.push(e),this)}optimize(){let e=0;const n=this._geometryInfo,r=n.map(($,y)=>y).sort(($,y)=>n[$].vertexStart-n[y].vertexStart),g=this.geometry;for(let $=0,y=n.length;$<y;$++){const k=r[$],L=n[k];if(L.active!==!1){if(L.vertexStart!==e){const{vertexStart:V,reservedVertexCount:z}=L,j=g.attributes;for(const ie in j){const Oe=j[ie],{array:ur,itemSize:hr}=Oe;ur.copyWithin(e*hr,V*hr,(V+z)*hr),Oe.addUpdateRange(e*hr,z*hr)}L.vertexStart=e}e+=L.reservedVertexCount,this._nextVertexStart=L.vertexStart+L.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,g=this._geometryInfo[e];if(g.boundingBox===null){const $=new Box3,y=r.index,k=r.attributes.position;for(let L=g.vertexStart,V=g.vertexStart+g.vertexCount;L<V;L++){let z=L;y&&(z=y.getX(z)),$.expandByPoint(Et$1.fromBufferAttribute(k,z))}g.boundingBox=$}return n.copy(g.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,g=this._geometryInfo[e];if(g.boundingSphere===null){const $=new Sphere;this.getBoundingBoxAt(e,Ta$1),Ta$1.getCenter($.center);const y=r.index,k=r.attributes.position;let L=0;for(let V=g.vertexStart,z=g.vertexStart+g.vertexCount;V<z;V++){let j=V;y&&(j=y.getX(j)),Et$1.fromBufferAttribute(k,j),L=Math.max(L,$.center.distanceToSquared(Et$1))}$.radius=Math.sqrt(L),g.boundingSphere=$}return n.copy(g.boundingSphere),n}setVisibleAt(e,n){return this.validateGeometryId(e),this._geometryInfo[e].visible===n?this:(this._geometryInfo[e].visible=n,this)}getVisibleAt(e){return this.validateGeometryId(e),this._geometryInfo[e].visible}getGeometryAt(e){return this.validateGeometryId(e),this._geometryInfo[e]}setGeometrySize(e){const n=this.geometry;n.dispose(),this._maxVertexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(n));const r=this.geometry;n.index&&Nt$2(n.index.array,r.index.array);for(const g in n.attributes)Nt$2(n.attributes[g].array,r.attributes[g].array)}getObjectAt(e){const n=new Points;this._initializeRaycastObject(n);const r=this._geometryInfo[e];return this._setRaycastObjectInfo(n,e,r.vertexStart,r.vertexCount),n}_initializeRaycastObject(e){const n=this.geometry;return e.material=this.material,e.geometry.index=n.index,e.geometry.attributes=n.attributes,e.geometry.boundingBox===null&&(e.geometry.boundingBox=new Box3),e.geometry.boundingSphere===null&&(e.geometry.boundingSphere=new Sphere),e}_setRaycastObjectInfo(e,n,r,g){e.geometry.setDrawRange(r,g),this.getBoundingBoxAt(n,e.geometry.boundingBox),this.getBoundingSphereAt(n,e.geometry.boundingSphere)}_resetRaycastObjectInfo(e){e.geometry.index=null,e.geometry.attributes={},e.geometry.setDrawRange(0,1/0)}intersectWith(e,n,r){this._initializeRaycastObject(Mt$1),this._intersectWith(e,n,r),this._resetRaycastObjectInfo(Mt$1)}_intersectWith(e,n,r){const g=this._geometryInfo[e];if(!(!g.visible||!g.active))if(g.bboxIntersectionCheck){const $=g.boundingBox;if(n.ray.intersectBox($,Et$1)){const y=n.ray.origin.distanceTo(Et$1);r.push({distance:y,point:Et$1.clone(),object:this,face:null,faceIndex:void 0,uv:void 0,batchId:e,objectId:g.objectId})}}else{this._setRaycastObjectInfo(Mt$1,e,g.vertexStart,g.vertexCount),Mt$1.raycast(n,Un$1);for(let $=0,y=Un$1.length;$<y;$++){const k=Un$1[$];k.object=this,k.batchId=e,k.objectId=g.objectId,r.push(k)}Un$1.length=0}}raycast(e,n){const r=this._geometryInfo;this._initializeRaycastObject(Mt$1);for(let g=0,$=r.length;g<$;g++)this._intersectWith(g,e,n);this._resetRaycastObjectInfo(Mt$1)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._maxVertexCount=e._maxVertexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this}dispose(){return this.geometry.dispose(),this}}class Lg extends Group{constructor(){super(),this._pointBatches=new Map,this._pointSymbolBatches=new Map,this._lineBatches=new Map,this._lineWithIndexBatches=new Map,this._meshBatches=new Map,this._meshWithIndexBatches=new Map,this._entitiesMap=new Map,this._selectedObjects=new Group,this._hoverObjects=new Group,this.add(this._selectedObjects),this.add(this._hoverObjects)}get entityCount(){return this._entitiesMap.size}get stats(){const e={summary:{entityCount:this._entitiesMap.size,totalGeometrySize:0,totalMappingSize:0},mesh:{indexed:{count:this._meshWithIndexBatches.size,geometrySize:this.getBatchedGeometrySize(this._meshWithIndexBatches),mappingSize:this.getBatchedGeometryMappingSize(this._meshWithIndexBatches)},nonIndexed:{count:this._meshBatches.size,geometrySize:this.getBatchedGeometrySize(this._meshBatches),mappingSize:this.getBatchedGeometryMappingSize(this._meshBatches)}},line:{indexed:{count:this._lineWithIndexBatches.size,geometrySize:this.getBatchedGeometrySize(this._lineWithIndexBatches),mappingSize:this.getBatchedGeometryMappingSize(this._lineWithIndexBatches)},nonIndexed:{count:this._lineBatches.size,geometrySize:this.getBatchedGeometrySize(this._lineBatches),mappingSize:this.getBatchedGeometryMappingSize(this._lineBatches)}},point:{indexed:{count:this._pointSymbolBatches.size,geometrySize:this.getBatchedGeometrySize(this._pointSymbolBatches),mappingSize:this.getBatchedGeometryMappingSize(this._pointSymbolBatches)},nonIndexed:{count:this._pointBatches.size,geometrySize:this.getBatchedGeometrySize(this._pointBatches),mappingSize:this.getBatchedGeometryMappingSize(this._pointBatches)}}};return e.summary.totalGeometrySize=e.line.indexed.geometrySize+e.line.nonIndexed.geometrySize+e.mesh.indexed.geometrySize+e.mesh.nonIndexed.geometrySize+e.point.indexed.geometrySize+e.point.nonIndexed.geometrySize,e.summary.totalMappingSize=e.line.indexed.mappingSize+e.line.nonIndexed.mappingSize+e.mesh.indexed.mappingSize+e.mesh.nonIndexed.mappingSize+e.point.indexed.mappingSize+e.point.nonIndexed.mappingSize,e}rerenderPoints(e){const n=rt$1.instance.create(e);n.line&&this._pointSymbolBatches.forEach(g=>{g.resetGeometry(e)});const r=n.point!=null;this._pointBatches.forEach(g=>{g.visible=r})}clear(){return this.groups.forEach(e=>{e.forEach(n=>{n.dispose()}),e.clear()}),this}updateMaterial(e,n){this.groups.forEach(r=>{const g=r.get(e);g&&(g.material=n,r.set(n.id,g))})}hasEntity(e){return this._entitiesMap.has(e)}addEntity(e){const n=[];this._entitiesMap.set(e.objectId,n),e.updateMatrixWorld(!0),e.traverse(r=>{const g=!!r.userData.bboxIntersectionCheck;r instanceof LineSegments?n.push(this.addLine(r,{position:r.userData.position,objectId:e.objectId,bboxIntersectionCheck:g})):r instanceof Mesh?n.push(this.addMesh(r,{objectId:e.objectId,bboxIntersectionCheck:g})):r instanceof Points&&n.push(this.addPoint(r,{objectId:e.objectId,bboxIntersectionCheck:g}))})}isIntersectWith(e,n){const r=this._entitiesMap.get(e);if(r){const g=[];for(let $=0,y=r.length;$<y;$++){const k=r[$];if(this.getObjectById(k.batchedObjectId).intersectWith(k.batchId,n,g),g.length>0)return!0}}return!1}hover(e){this.highlight(e,this._hoverObjects)}unhover(e){this.unhighlight(e,this._hoverObjects)}select(e){this.highlight(e,this._selectedObjects)}unselect(e){this.unhighlight(e,this._selectedObjects)}get groups(){return[this._lineBatches,this._lineWithIndexBatches,this._meshBatches,this._meshWithIndexBatches,this._pointBatches,this._pointSymbolBatches]}highlight(e,n){const r=this._entitiesMap.get(e);r&&r.forEach(g=>{const $=this.getObjectById(g.batchedObjectId).getObjectAt(g.batchId),y=er.cloneMaterial($.material);er.setMaterialColor(y),$.material=y,$.userData.objectId=e,n.add($)})}unhighlight(e,n){const r=[];n.children.forEach(g=>{g.userData.objectId===e&&r.push(g)}),n.remove(...r)}addLine(e,n){const r=e.material,g=this.getMatchedLineBatches(e);let $=g.get(r.id);$==null&&($=new Eg(1e3,2e3,r),g.set(r.id,$),this.add($)),e.geometry.applyMatrix4(e.matrixWorld);const y=$.addGeometry(e.geometry);return $.setGeometryInfo(y,n),{batchedObjectId:$.id,batchId:y}}addMesh(e,n){const r=e.material,g=this.getMatchedMeshBatches(e);let $=g.get(r.id);$==null&&($=new Mg(1e3,2e3,r),g.set(r.id,$),this.add($)),e.geometry.applyMatrix4(e.matrixWorld);const y=$.addGeometry(e.geometry);return $.setGeometryInfo(y,n),{batchedObjectId:$.id,batchId:y}}addPoint(e,n){const r=e.material;let g=this._pointBatches.get(r.id);g==null&&(g=new kg(100,r),g.visible=e.visible,this._pointBatches.set(r.id,g),this.add(g)),e.geometry.applyMatrix4(e.matrixWorld);const $=g.addGeometry(e.geometry);return g.setGeometryInfo($,n),{batchedObjectId:g.id,batchId:$}}getMatchedLineBatches(e){if(e.userData.isPoint)return this._pointSymbolBatches;{const n=e.geometry.getIndex()!==null;let r=this._lineBatches;return n&&(r=this._lineWithIndexBatches),r}}getMatchedMeshBatches(e){const n=e.geometry.getIndex()!==null;let r=this._meshBatches;return n&&(r=this._meshWithIndexBatches),r}getBatchedGeometrySize(e){let n=0;return e.forEach(r=>{n+=this.getGeometrySize(r)}),n}getBatchedGeometryMappingSize(e){let n=0;return e.forEach(r=>{n+=r.mappingStats.size}),n}getGeometrySize(e){let n=0;if("geometry"in e){const r=e.geometry;r.attributes.position&&(n+=r.attributes.position.array.byteLength),r.attributes.normal&&(n+=r.attributes.normal.array.byteLength),r.attributes.uv&&(n+=r.attributes.uv.array.byteLength),r.index&&(n+=r.index.array.byteLength)}return n}}let Yo$1=class extends Object3D{constructor(e){super(),this._styleManager=e}get styleManager(){return this._styleManager}copy(e,n){return this._styleManager=e._styleManager,super.copy(e,n)}},be$2=class j_ extends Yo$1{constructor(e){super(e),this._box=new Box3}get box(){return this._box}set box(e){this._box.copy(e)}get basePoint(){return this._basePoint}set basePoint(e){e==null?this._basePoint=e:this._basePoint=this._basePoint?this._basePoint.copy(e):new W$3(e)}get objectId(){return this.userData.objectId}set objectId(e){this.userData.objectId=e}get ownerId(){return this.userData.ownerId}set ownerId(e){this.userData.ownerId=e}get layerName(){return this.userData.layerName}set layerName(e){this.userData.layerName=e}static flattenObject(e){const n=[];function r($){$.position.set(0,0,0),$.rotation.set(0,0,0),$.scale.set(1,1,1),$.matrix.identity()}function g($,y){const k=[...$.children];for(const L of k)!L.userData.layerName&&$.userData.layerName&&(L.userData.layerName=$.userData.layerName),L.applyMatrix4(y),r(L),L.children.length>0?g(L,L.matrixWorld):n.push(L);$.children=[]}e.updateMatrixWorld(!0),g(e,e.matrixWorld);for(const $ of n)"geometry"in $&&($.geometry.applyMatrix4($.matrixWorld),$.matrixWorld.identity(),$.matrixWorldNeedsUpdate=!1,e.add($));r(e),e.matrixWorld.identity(),e.matrixWorldNeedsUpdate=!1}static disposeObject(e,n=!0){n&&e.removeFromParent(),(e instanceof Mesh||e instanceof Line||e instanceof Points)&&e.geometry&&e.geometry.dispose(),(e instanceof Mesh||e instanceof Line||e instanceof Points)&&(Array.isArray(e.material)?e.material:[e.material]).forEach(r=>{var g,$,y,k,L,V,z,j;r.dispose(),(g=r.map)==null||g.dispose(),($=r.envMap)==null||$.dispose(),(y=r.lightMap)==null||y.dispose(),(k=r.bumpMap)==null||k.dispose(),(L=r.normalMap)==null||L.dispose(),(V=r.roughnessMap)==null||V.dispose(),(z=r.metalnessMap)==null||z.dispose(),(j=r.alphaMap)==null||j.dispose()}),e.children.forEach(r=>this.disposeObject(r)),"geometry"in e&&(e.geometry=null),"material"in e&&(e.material=null),e.children=[]}flatten(){j_.flattenObject(this)}dispose(){j_.disposeObject(this)}async draw(){}applyMatrix(e){const n=e.elements,r=new Matrix4(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15]);this.applyMatrix4(r),this.updateMatrixWorld(!0),this._box.applyMatrix4(r)}highlight(){this.highlightObject(this)}highlightObject(e){if("material"in e){const n=e.material;if(e.userData.originalMaterial==null){const r=er.cloneMaterial(n);er.setMaterialColor(r),e.userData.originalMaterial=e.material,e.material=r}}else e.children.length>0&&e.children.forEach(n=>{this.highlightObject(n)})}unhighlight(){this.unhighlightObject(this)}fastDeepClone(){const e=new j_(this.styleManager);return e.copy(this,!1),this.copyGeometry(this,e),e}copy(e,n){return this.objectId=e.objectId,this.ownerId=e.ownerId,this.layerName=e.layerName,this.box=e.box,super.copy(e,n)}copyGeometry(e,n){for(let r=0;r<e.children.length;r++){const g=e.children[r].clone(!1);"geometry"in g&&(g.geometry=g.geometry.clone()),n.add(g)}}unhighlightObject(e){if("material"in e){const n=e.material;e.material=e.userData.originalMaterial,delete e.userData.originalMaterial,Array.isArray(n)?n.forEach(r=>r.dispose()):n instanceof Material&&n.dispose()}else e.children.length>0&&e.children.forEach(n=>{this.unhighlightObject(n)})}createColorArray(e,n){const r=(e>>16&255)/256,g=(e>>8&255)/256,$=(e&255)/256,y=new Float32Array(n*3);for(let k=0,L=0;k<n;k++)y[L]=r,y[L+1]=g,y[L+2]=$,L+=3;return y}};class or extends be$2{constructor(e,n){super(n),e.forEach($=>{if(Array.isArray($)){const y=new be$2(n);this.add(y),this.box.union(y.box)}else this.add($),this.box.union($.box)}),this.flatten();let r=!1;const g=this.children;for(let $=0;$<g.length;++$){const y=g[$];if(y.userData.layerName!=null&&y.userData.layerName!=="0"){r=!0;break}}this._isOnTheSameLayer=!r}get isOnTheSameLayer(){return this._isOnTheSameLayer}copy(e,n){return this._isOnTheSameLayer=e._isOnTheSameLayer,super.copy(e,n)}fastDeepClone(){const e=new or([],this.styleManager);return e.copy(this,!1),this.copyGeometry(this,e),e}}let Ia$1=class{constructor(e){this.scene=e,this.transientGroup=new Group,this.transientGroup.name="Transient_Object_Group",this.scene.add(this.transientGroup),this.entities=new Map}clear(){for(const e of this.entities.values())e.dispose();this.entities.clear(),this.transientGroup.clear()}add(e){const n=e.objectId,r=this.entities.get(n);r&&(this.transientGroup.remove(r),r.dispose()),this.entities.set(n,e),this.transientGroup.add(e)}update(e){const n=this.entities.get(e.objectId);n&&(this.transientGroup.remove(n),n.dispose()),this.entities.set(e.objectId,e),this.transientGroup.add(e)}remove(e){const n=this.entities.get(e);n&&(this.transientGroup.remove(n),be$2.disposeObject(n),this.entities.delete(e))}get(e){return this.entities.get(e)}has(e){return this.entities.has(e)}setVisible(e){this.transientGroup.visible=e}dispose(){this.clear(),this.scene.remove(this.transientGroup)}},Bg=class{constructor(t){this.unsupportedTextStyles={},this._styleManager=t}getMeshBasicMaterial(t){const e=ls.createTraitsForMText(t);return this._styleManager.getFillMaterial(e)}getLineBasicMaterial(t){const e=ls.createTraitsForMText(t);return this._styleManager.getLineMaterial(e,!0)}};const Zo$1=class C_{constructor(){}static getInstance(){return C_._instance||(C_._instance=new C_),C_._instance}overrideStyleManager(e){this._styleManager=e}setFontUrl(e){this._renderer&&this._renderer.setFontUrl(e),this._fontUrl=e}setRenderMode(e){this._renderer&&this._renderer.setDefaultMode(e),this._renderMode=e}async asyncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215}){if(!this._renderer)throw new Error("AcTrMTextRenderer not initialized!");return await this._renderer.asyncRenderMText(e,n,r)}syncRenderMText(e,n,r={byLayerColor:16777215,byBlockColor:16777215}){if(this.ensureRendererCreated(),!this._renderer)throw new Error("AcTrMTextRenderer not initialized!");return this._renderer.syncRenderMText(e,n,r)}initialize(e){if(this._workerUrl=e,this._renderer=new wg("worker",{workerUrl:e}),this._fontUrl&&this._renderer.setFontUrl(this._fontUrl),this._renderMode&&this._renderer.setDefaultMode(this._renderMode),this._styleManager){const n=new Bg(this._styleManager);this._renderer.setStyleManager(n)}}dispose(){this._renderer&&(this._renderer.destroy(),this._renderer=void 0)}ensureRendererCreated(){!this._renderer&&this._workerUrl&&this.initialize(this._workerUrl)}};Zo$1._instance=null;let lt$1=Zo$1;class Ag extends Wo$1{onFontUrlChanged(e){lt$1.getInstance().setFontUrl(e)}}class Og extends be$2{constructor(e,n,r){super(r);const g=URL.createObjectURL(e),$=new TextureLoader().load(g);$.colorSpace=SRGBColorSpace;const y=new MeshBasicMaterial({side:DoubleSide,map:$}),k=new Shape(n.boundary),L=new ShapeGeometry(k);this.generateUVs(L);const V=new Mesh(L,y);this.add(V)}generateUVs(e){const n=e.attributes.position.array,r=new Float32Array(n.length/3*2),g=Math.min(...n.filter((z,j)=>j%3===0)),$=Math.max(...n.filter((z,j)=>j%3===0)),y=Math.min(...n.filter((z,j)=>j%3===1)),k=Math.max(...n.filter((z,j)=>j%3===1)),L=$-g,V=k-y;for(let z=0;z<n.length;z+=3){const j=n[z],ie=n[z+1];r[z/3*2]=(j-g)/L,r[z/3*2+1]=(ie-y)/V}e.setAttribute("uv",new BufferAttribute(r,2))}}class Pg extends be$2{constructor(e,n,r){super(r);const g=this.styleManager.getLineMaterial(n),$=e.length,y=new Float32Array($*3),k=$*2>65535?new Uint32Array($*2):new Uint16Array($*2);for(let z=0,j=0;z<$;z++){const ie=e[z];y[j++]=ie.x,y[j++]=ie.y,y[j++]=ie.z??0}for(let z=0,j=0;z<$-1;z++)k[j++]=z,k[j++]=z+1;const L=new BufferGeometry;L.setAttribute("position",new BufferAttribute(y,3)),L.setIndex(new BufferAttribute(k,1)),this.setBoundingBox(L),this.geometry=L;const V=new LineSegments(L,g);dn$2.computeLineDistances(V),this.add(V)}setBoundingBox(e){e.computeBoundingBox(),this.box=e.boundingBox}}class Dg extends be$2{constructor(e,n,r,g,$){super($);const y=this.styleManager.getLineMaterial(g),k=new BufferGeometry;k.setAttribute("position",new BufferAttribute(e,n)),k.setIndex(new BufferAttribute(r,1)),k.computeBoundingBox(),this.box=k.boundingBox;const L=new LineSegments(k,y);dn$2.computeLineDistances(L),this.add(L)}}class Rg extends be$2{constructor(e,n,r,g,$=!1){super(g),this._text=e,this._style={...r,color:n.rgbColor,isByLayer:n.color.isByLayer,layer:n.layer},$||this.syncDraw()}async syncDraw(){const e=lt$1.getInstance();if(e)try{const n=this._style;this._mtext=e.syncRenderMText(this._text,n,{byLayerColor:n.byLayerColor,byBlockColor:n.byBlockColor}),this.add(this._mtext),this.flatten(),this.traverse(r=>{r.userData.bboxIntersectionCheck=!0}),this.box=this._mtext.box}catch(n){console.log(`Failed to render mtext '${this._text.text}' with the following error:
`,n)}}async draw(){const e=lt$1.getInstance();if(e)try{const n=this._style;this._mtext=await e.asyncRenderMText(this._text,n,{byLayerColor:n.byLayerColor,byBlockColor:n.byBlockColor}).then(r=>{this._mtext=r,this.add(this._mtext),this.flatten(),this.traverse(g=>{g.userData.bboxIntersectionCheck=!0}),this.box=this._mtext.box})}catch(n){console.log(`Failed to render mtext '${this._text.text}' with the following error:
`,n)}}raycast(e,n){var r;(r=this._mtext)==null||r.raycast(e,n)}}const Ug=new Vector3;class Fg extends be$2{constructor(e,n,r,g){super(g);const $=rt$1.instance.create(r.displayMode,e);this.isShowPoint=$.point!=null;const y=$.point??new BufferGeometry().setFromPoints([Ug.copy(e)]);y.computeBoundingBox(),y.boundingBox&&this.box.union(y.boundingBox);const k=this.styleManager.getPointsMaterial(n),L=new Points(y,k);if(L.userData.bboxIntersectionCheck=!0,L.visible=this.isShowPoint,this.add(L),$.line){const V=$.line;V.computeBoundingBox(),V.boundingBox&&this.box.union(V.boundingBox);const z=this.styleManager.getLineMaterial(n,!0),j=new LineSegments(V,z);j.userData.bboxIntersectionCheck=!0,j.userData.isPoint=!0,j.userData.position={x:e.x,y:e.y,z:e.z},this.add(j)}}}class Ng extends be$2{constructor(e,n,r){var g;super(r);const $=e.getPoints(100),y=e.buildHierarchy(),k=[];this.buildHatchGeometry($,y,k);let L;if(k.length>0&&(L=mergeGeometries(k)),!L||!L.getIndex()||((g=L.getIndex())==null?void 0:g.count)===0)console.warn("Failed to convert hatch boundaries!");else{L.computeBoundingBox(),this.box=L.boundingBox;const V=this.styleManager.getFillMaterial(n);this.add(new Mesh(L,V))}}buildHatchGeometry(e,n,r){if(n.children.length===0)return;const g=[],$=new Map;n.children.forEach(L=>{L.children.length===0?g.push(L.index):$.set(L.index,L.children.map(V=>V.index))});const y=L=>{try{const V=new ShapeGeometry(L);V.hasAttribute("uv")&&V.deleteAttribute("uv"),V.hasAttribute("normal")&&V.deleteAttribute("normal"),r.push(V)}catch{console.warn(`Triangulate shape error: ${L.getPoints().map(V=>V.toArray()).toString()}`)}};g.forEach(L=>{const V=e[L];if(V.length===0)return;const z=new Shape(V);y(z)});const k=L=>L.map(V=>V.toArray());for(const L of $){const V=new Shape(e[L[0]]);let z={regions:[],inverted:!1};const j=this.findIntersectHole(e,L[1]);j.forEach(Oe=>{let ur={segments:[],inverted:!1},hr=1e-6;try{Oe.forEach((Vr,dr)=>{hr=Math.min(e[Vr][0].relativeEps(),1e-6);const ec=new Xo$1(new qo$1(hr));if(dr===0)ur=ec.segments({regions:[k(e[Vr])],inverted:!1});else{const tc=ec.segments({regions:[k(e[Vr])],inverted:!1}),Xs=ec.combine(ur,tc);z=ec.polygon(ec.selectUnion(Xs)),z.regions.length>0?z.regions.forEach(rc=>{if(rc.length===0)return;const ic=rc.map(_c=>new Vector2(_c[0],_c[1]));V.holes.push(new Path(ic))}):console.warn("mergedHoles.regions is empty!")}})}catch(Vr){console.warn(`Polybool error: ${Vr}, epsilon is ${hr}`)}});const ie=j.flat(2);for(let Oe=0;Oe<L[1].length;Oe++){const ur=L[1][Oe];ie.includes(ur)||V.holes.push(new Path(e[ur]))}y(V)}n.children.forEach(L=>{L.children.forEach(V=>{this.buildHatchGeometry(e,V,r)})})}findIntersectHole(e,n){const r=n.length,g=[];for(let $=0;$<r;$++){const y=e[n[$]];let k=!1;const L=[];for(let V=$+1;V<r;V++){const z=e[n[V]];Vc.isPolygonIntersect(y,z)&&(k=!0,L.push(n[V]))}k&&(L.push(n[$]),g.push(L))}return g}}function zg(t,e,n,r,g=0){const $={u_cameraZoom:{value:n},u_patternLines:{value:t},u_patternAngle:{value:e},u_color:{value:r}},y=`
        varying vec3 v_pos;

        #include <clipping_planes_pars_vertex>
        void main() {
            //vec4 worldPosition = modelMatrix * vec4(position, 1.0);
            v_pos = position;

            #include <begin_vertex>
            #include <project_vertex>
            #include <clipping_planes_vertex>
        }`,k=`
        uniform mat4 modelMatrix;
        uniform float u_cameraZoom;
        uniform vec3 u_color;
        varying vec3 v_pos;

        struct PatternLine {
            vec2 origin;
            vec2 delta;
            float angle;
            float pattern[MAX_PATTERN_SEGMENT_COUNT];
            float patternSum[MAX_PATTERN_SEGMENT_COUNT+1];
            float patternLength;
        };

        uniform PatternLine u_patternLines[${t.length}];
        uniform float u_patternAngle;

        #include <clipping_planes_pars_fragment>

        // Clamp [0..1] range
        #define saturate(a) clamp(a, 0.0, 1.0)

        const float EPS = 1000.0;

        vec2 getWorldScale() {
            return vec2(length(modelMatrix[0].xyz), length(modelMatrix[1].xyz));
        }

        vec2 rotate(vec2 st, float rotation) {
            const float PI = 3.1415926;
            float angle = rotation * PI/180.0;
            float sine = sin(angle), cosine = cos(angle);
            return vec2(cosine * st.x - sine * st.y, cosine * st.y + sine * st.x);
        }

        vec2 translate(vec2 samplePosition, vec2 offset) {
            //move sample point in the opposite direction that we want to move shapes in
            return samplePosition - offset;
        }

        vec2 scale(vec2 samplePosition, float scale) {
            return samplePosition / scale;
        }

        float sdfLine(vec2 st, vec2 a, vec2 b) {
            vec2 ap = st - a;
            vec2 ab = b - a;
            return abs(((ap.x * ab.y) - (ab.x * ap.y))) / length(ab);
        }

        float drawSpaceLine(vec2 st, float distanceBetweenLines, float thick) {
            float dist = sdfLine(st , vec2(0.0, 0.0) , vec2(1.0, 0.0));

            //vec2 tt = dFdy(st);
            //float scale = (abs(tt.x)+abs(tt.y))/2.0;
            //float scale = length(fwidth(st)) * 0.5;
            // close to a pixel
            //float thick = 2.0;
            //thick = (thick * 0.5 - 0.5) * scale;

            float lineDistance = abs(fract(dist / distanceBetweenLines + 0.5) - 0.5) * distanceBetweenLines;
            //float lineDistance = fract(dist / distanceBetweenLines);
            //float distanceChange = fwidth(dist) * 0.5;
            //float threshold = smoothstep(thick - distanceChange, thick + distanceChange, lineDistance);
            //float threshold = step(thick, lineDistance);
            // remove gradient
            //float threshold = step(0.001, lineDistance);
            float threshold = step(thick, lineDistance);

            return threshold;
        }

        float drawSolidLine(PatternLine patternLine, float thick) {
            vec2 origin = patternLine.origin;
            vec2 delta = patternLine.delta;
            float distanceBetweenLines = length(delta);

            origin = rotate(origin,u_patternAngle);
            vec2 st = rotate(v_pos.xy - origin, -(patternLine.angle + u_patternAngle));

            return drawSpaceLine(st, distanceBetweenLines , thick);
        }

        int getPatternIndex(PatternLine patternLine, float u, out float distance ) {
            //u = mod(u, patternLine.patternLength);
            float y = floor(u/patternLine.patternLength);
            u = u - patternLine.patternLength * y;
            //float distance = 0.0;

            #pragma unroll_loop_start
            for(int i = 1; i < patternLine.patternSum.length(); i++){
                if(u <= patternLine.patternSum[i]) {
                    distance = u - patternLine.patternSum[i-1];
                    return i - 1;
                }
            }
            #pragma unroll_loop_end

            return -1;
        }

        float drawDashedLine(PatternLine patternLine, float thick){
            float threshold = 1.0;
            vec2 origin = patternLine.origin;
            vec2 delta = patternLine.delta;        
            float distanceBetweenLines = abs(delta.y);

            origin = rotate(origin, u_patternAngle);
            vec2 st = rotate(v_pos.xy - origin, -(patternLine.angle + u_patternAngle));

            float offsetX = st.y * delta.x/delta.y;
            float u = st.x - offsetX;
            float distance = 0.0;
            int index = getPatternIndex(patternLine, u, distance);
            if(index < 0) {
                return threshold;
            }

            float size = patternLine.pattern[index];
            if(size >= 0.0) {
                threshold = drawSpaceLine(st, distanceBetweenLines , thick);
                // Try to solve the problem caused by the precision after zooming out by drawing a part of the dashed line
            } else if (distance < thick) {
                //threshold = 0.8;
                threshold = drawSpaceLine(st, distanceBetweenLines , thick);
            }

            return threshold;
        }

        float drawLine(PatternLine patternLine, float thick) {
            float t = 0.0;
            if(patternLine.patternLength > 0.0) {
                t = drawDashedLine(patternLine, thick);
            } else {
                t = drawSolidLine(patternLine, thick);
            }
            return t;
        }

        void main() {
            #include <clipping_planes_fragment>

            // Idealy, the thickness of lines in hatch pattern should always be 1 pixel.
            // In Viewer2d, it uses orthographic camera and always in top view,
            // so we adjust thickness by cameraZoom (and also consider worldScale).
            // While 3d view is more complex, it can use perspective camera,
            // its camera position and direction is flexible. We cannot keep line thickness
            // in a fixed pixel any more, and there is no proper way to adjust thickness as camera
            // position changes. So, we need to use a fixed thickness in world coordinates.
#if ${g} > 0
            float thick = float(${g});
#else
            vec2 worldScale = getWorldScale();
            float averageScale = (abs(worldScale.x) + abs(worldScale.y))/2.0;
            // possible size of a pixel 
            float thick = (0.7 / averageScale) / u_cameraZoom;
#endif

            if(thick > EPS) {
                gl_FragColor = vec4(u_color, 1.0);
                #include <colorspace_fragment>
                return;
            }

            float total = 0.0;

#if ${t.length} > 1
            #pragma unroll_loop_start
            for (int i = 0; i < u_patternLines.length(); i++) {
                PatternLine pl = u_patternLines[i];
                float t = drawLine(pl, thick);
                total += (1.0 - t);
            }
            #pragma unroll_loop_end
#else
            float t = drawLine(u_patternLines[0], thick);
            total += (1.0 - t);
#endif

            total = saturate(total);
            if (total < 0.001) {
                discard;
            }

            gl_FragColor = vec4(u_color * total, 1.0);
            #include <colorspace_fragment>
        }
        `;return new ShaderMaterial({uniforms:$,vertexShader:y,fragmentShader:k,clipping:!0})}class Gs{constructor(e){this.cache={},this.keyToTraits={},this.options=e}getMaterial(e,n){const r=this.buildKey(e,n);return this.keyToTraits[r]||(this.keyToTraits[r]={...Io$2(e),...n}),this.cache[r]?this.cache[r]:this.createMaterial(r,e,n)}updateLayerMaterial(e,n){const r={};for(const g of Object.keys(this.cache)){const $=this.cache[g],y=$.userData||{};if(!(y.layer===e&&y.isByLayer))continue;const k=this.keyToTraits[g];if(!k)continue;const L={...Io$2(k),...n},V=this.buildKey(L,L),z=$.id;$.dispose(),delete this.cache[g],delete this.keyToTraits[g];const j=this.createMaterial(V,L,L);this.keyToTraits[V]=L,r[z]=j}return r}dispose(){Object.values(this.cache).forEach(e=>e.dispose()),this.cache={},this.keyToTraits={}}createMaterial(e,n,r){const g=this.createMaterialImpl(n,r);return g.userData.layer=n.layer,g.userData.isByLayer=this.isByLayer(n),this.cache[e]=g,g}isByLayer(e){return e.color.isByLayer||e.lineType.type==="ByLayer"}}class Gg extends Gs{createMaterialImpl(e,n){const r=e.fillType;return!r.patternLines||r.patternLines.length<1?this.createMeshBasicMaterial(e):r.patternLines.some(g=>!g.dashPattern)?(console.warn("Invalid dash pattern",r),this.createMeshBasicMaterial(e)):this.createHatchShaderMaterial(e,n)}createHatchShaderMaterial(e,n){const r=e.fillType,g=.005,$=.05;let y=2;r.patternLines.forEach(j=>{y=Math.max(j.dashPattern.length,y)});let k=0;const L=[],V=new Vector2;for(const j of r.patternLines){const ie=new Vector2(j.origin.x,j.origin.y).sub(n.rebaseOffset).rotateAround(V,-MathUtils.degToRad(r.patternAngle)),Oe=new Vector2(j.delta.x,j.delta.y).rotateAround(V,-MathUtils.degToRad(j.angle));if(Oe.y===0){console.warn("delta.y is zero, skipping pattern line");continue}const ur=j.dashPattern.length;let hr=!0,Vr=0;for(let ic=0;ic<ur;++ic){const _c=j.dashPattern[ic];_c>0&&(hr=!1),Vr+=Math.abs(_c)}const dr=hr?$:g,ec=[],tc=[];let Xs=0;tc[0]=Xs;for(let ic=0;ic<ur;++ic)ec[ic]=j.dashPattern[ic],ec[ic]===0&&(ec[ic]=dr*Vr),Xs+=Math.abs(ec[ic]),tc[ic+1]=Xs;for(let ic=ur;ic<y;++ic)ec[ic]=0;for(let ic=tc.length;ic<y+1;++ic)tc[ic]=Xs;const rc={origin:ie,delta:Oe,angle:j.angle-r.patternAngle,pattern:ec,patternSum:tc,patternLength:Xs};if(k+=4,k+=y,k+=y+1,k>this.options.maxFragmentUniforms){console.warn("There will be warning in fragment shader when number of uniforms exceeds 1024, so extra hatch line patterns are ignored here!");break}L.push(rc)}const z=zg(L,r.patternAngle,this.options.cameraZoomUniform,new Color$1(e.rgbColor));return z.defines={MAX_PATTERN_SEGMENT_COUNT:y},z}createMeshBasicMaterial(e){return new MeshBasicMaterial({color:e.rgbColor})}buildKey(e,n){const r=e.fillType;if(!r.patternLines||r.patternLines.length===0)return`solid_${e.layer}_${e.rgbColor}`;const g=r.patternLines.map($=>$.dashPattern.join(",")+`@${$.angle},${$.origin.x},${$.origin.y}`).join("|");return`hatch_${e.layer}_${e.rgbColor}_${r.patternAngle}_${g}`}}class jg{static createLineShaderMaterial(e,n,r,g,$){let y=0;const k=[];for(let j=0;j<e.length;j++)k[j]=e[j].elementLength*r,y+=Math.abs(k[j]);for(let j=0;j<k.length;j++)k[j]===0&&(k[j]=y*.01*r,y+=k[j]);const L=UniformsUtils.merge([UniformsLib.common,{pattern:{value:k},patternLength:{value:y},u_color:{value:new Color$1(n)}}]);L.u_viewportScale={value:g},L.u_cameraZoom={value:$};const V=`
            attribute float lineDistance;
            varying float vLineDistance;

            #include <clipping_planes_pars_vertex>

            void main() {
                vLineDistance = lineDistance;

                #include <begin_vertex>
                #include <project_vertex>
                #include <clipping_planes_vertex>
            }`,z=`
            uniform mat4 modelMatrix;
            uniform vec3 diffuse;
            uniform vec3 u_color;
            uniform float opacity;
            uniform float pattern[${e.length}];
            uniform float patternLength;
            uniform float u_viewportScale;
            uniform float u_cameraZoom;
            varying float vLineDistance;

            #include <clipping_planes_pars_fragment>

            vec2 getWorldScale() {
                return vec2(length(modelMatrix[0].xyz), length(modelMatrix[1].xyz));
            }

            void main() {

                #include <clipping_planes_fragment>

                // vec2 worldScale = getWorldScale();
                // float averageScale = (abs(worldScale.x) + abs(worldScale.y))/2.0;
                // When zoomed out to a certain extent, it is displayed as a solid line.
                if(patternLength * u_viewportScale * u_cameraZoom/1.5 < 1.0){
                    gl_FragColor = vec4(u_color, opacity);
                    #include <colorspace_fragment>
                    return;
                }

                float pos = mod(vLineDistance, patternLength * u_viewportScale);

                for ( int i = 0; i < ${e.length}; i++ ) {
                    pos = pos - abs(pattern[i] * u_viewportScale);
                    if ( pos < 0.0 ) {
                        if ( pattern[i] > 0.0 ) {
                            gl_FragColor = vec4(u_color, opacity);
                            break;
                        }
                        discard;
                    }
                }
                #include <colorspace_fragment>
            }`;return new ShaderMaterial({uniforms:L,vertexShader:V,fragmentShader:z,clipping:!0})}}class Vg extends Gs{buildKey(e,n){const r=this.isByLayer(e);return this.isShaderMaterial(e,n)?r?`layer_${e.layer}_${e.lineType.name}_${e.rgbColor}_${e.lineTypeScale}`:`entity_${e.lineType.name}_${e.rgbColor}_${e.lineTypeScale}`:r?`layer_${e.layer}_${e.rgbColor}`:`entity_${e.rgbColor}`}isShaderMaterial(e,n){return!!(!n.basicMaterialOnly&&e.lineType.pattern&&e.lineType.pattern.length>0)}createMaterialImpl(e,n={}){let r;return this.isShaderMaterial(e,n)?r=jg.createLineShaderMaterial(e.lineType.pattern,e.rgbColor,e.lineTypeScale,this.options.viewportScaleUniform,this.options.cameraZoomUniform):r=new LineBasicMaterial({color:e.rgbColor}),r}}class Hg extends Gs{buildKey(e,n){const r=n.size??1;return this.isByLayer(e)?`layer_${e.layer}_${e.rgbColor}_${r}`:`entity_${e.rgbColor}_${r}`}isByLayer(e){return e.color.isByLayer}createMaterialImpl(e,n={}){return new PointsMaterial({color:e.rgbColor,size:n.size})}}const Ko$1=class K_{constructor(){this.unsupportedTextStyles={},this.pointMgr=new Hg(K_.options),this.lineMgr=new Vg(K_.options),this.fillMgr=new Gg(K_.options)}getPointsMaterial(e,n=2){return this.pointMgr.getMaterial(e,{size:n})}getLineMaterial(e,n){return this.lineMgr.getMaterial(e,{basicMaterialOnly:n})}getFillMaterial(e,n=$g){return this.fillMgr.getMaterial(e,{rebaseOffset:n})}updateLayerMaterial(e,n){return{...this.lineMgr.updateLayerMaterial(e,n),...this.pointMgr.updateLayerMaterial(e,n),...this.fillMgr.updateLayerMaterial(e,n)}}dispose(){this.lineMgr.dispose(),this.pointMgr.dispose(),this.fillMgr.dispose()}};Ko$1.options={cameraZoomUniform:1,viewportScaleUniform:1,maxFragmentUniforms:1024};let Wg=Ko$1;const $g=new Vector2(0,0);class qg{constructor(e){this.events={fontNotFound:new oe$2},this._renderer=e,this._styleManager=new Wg,lt$1.getInstance().overrideStyleManager(this._styleManager),Xe$2.instance.events.fontNotFound.addEventListener(n=>{this.events.fontNotFound.dispatch(n)}),this._subEntityTraits=ls.createDefaultTraits()}get subEntityTraits(){return this._subEntityTraits}get autoClear(){return this._renderer.autoClear}set autoClear(e){this._renderer.autoClear=e}get domElement(){return this._renderer.domElement}get basePoint(){return this._basePoint}set basePoint(e){e==null?this._basePoint=e:this._basePoint=this._basePoint?this._basePoint.copy(e):new W$3(e)}setSize(e,n){this._renderer.setSize(e,n)}getViewport(e){return this._renderer.getViewport(e)}setViewport(e,n,r,g){this._renderer.setViewport(e,n,r,g)}clear(){this._renderer.clear()}clearDepth(){this._renderer.clearDepth()}render(e,n){this._renderer.render(e,n.internalCamera)}setClearColor(e,n){this._renderer.setClearColor(e,n)}getClearColor(){const e=new Color$1;return this._renderer.getClearColor(e),e.getHex()}setClearAlpha(e){this._renderer.setClearAlpha(e)}getClearAlpha(){return this._renderer.getClearAlpha()}get internalRenderer(){return this._renderer}setFontMapping(e){Xe$2.instance.setFontMapping(e)}get missedFonts(){return Xe$2.instance.missedFonts}updateLayerMaterial(e,n){return this._styleManager.updateLayerMaterial(e,n)}createObject(){return new Yo$1(this._styleManager)}createEntity(){return new be$2(this._styleManager)}group(e){return new or(e,this._styleManager)}point(e,n){return new Fg(e,this._subEntityTraits,n,this._styleManager)}circularArc(e){return this.linePoints(e.getPoints(100))}ellipticalArc(e){return this.linePoints(e.getPoints(100))}lines(e){return this.linePoints(e)}lineSegments(e,n,r){return new Dg(e,n,r,this._subEntityTraits,this._styleManager)}area(e){return new Ng(e,this._subEntityTraits,this._styleManager)}mtext(e,n,r){return new Rg(e,this._subEntityTraits,n,this._styleManager,r)}image(e,n){return new Og(e,n,this._styleManager)}dispose(){this._styleManager.dispose(),Xe$2.instance.missedFonts={}}linePoints(e){return new Pg(e,this._subEntityTraits,this._styleManager)}}class Xg{constructor(e){this._camera=e}get position(){return this._camera.position}get left(){return this._camera.left}set left(e){this._camera.left=e}get right(){return this._camera.right}set right(e){this._camera.right=e}get top(){return this._camera.top}set top(e){this._camera.top=e}get bottom(){return this._camera.bottom}set bottom(e){this._camera.bottom=e}get zoom(){return this._camera.zoom}set zoom(e){this._camera.zoom=e}get internalCamera(){return this._camera}lookAt(e){this._camera.lookAt(e)}setRotationFromEuler(e){this._camera.setRotationFromEuler(e)}updateProjectionMatrix(){this._camera.updateProjectionMatrix()}cwcs2Wcs(e,n,r){const g=new Vector3(e.x,e.y,0);g.x=e.x/n*2-1,g.y=-(e.y/r)*2+1;const $=g.unproject(this._camera);return new Nt$3($.x,$.y)}wcs2Cwcs(e,n,r){const g=new Vector3(e.x,e.y,0).project(this._camera);return new Nt$3((g.x+1)/2*n,(-g.y+1)/2*r)}wcs2Ndc(e,n,r){const g=this.wcs2Cwcs(e,n,r);return this.cwcs2Ndc(g,n,r)}cwcs2Ndc(e,n,r){return new Nt$3(e.x/n*2-1,-(e.y/r)*2+1)}}let Qo$1=class{constructor(e,n,r){this._frustum=400,this.events={viewChanged:new oe$2},this._renderer=e,this._width=n,this._height=r;const g=this.createCamera();this._camera=new Xg(g),this._cameraControls=this.createCameraControls(),this._cameraControls.addEventListener("change",()=>{this.events.viewChanged.dispatch({view:this})}),this._raycaster=new Raycaster}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get enabled(){return this._cameraControls.enabled}set enabled(e){this._cameraControls.enabled=e}get center(){return this._camera.cwcs2Wcs({x:this._width/2,y:this._height/2},this._width,this._height)}set center(e){this._camera.position.set(e.x,e.y,this._camera.position.z),this._camera.updateProjectionMatrix()}cwcs2Wcs(e){return this._camera.cwcs2Wcs(e,this._width,this._height)}wcs2Cwcs(e){return this._camera.wcs2Cwcs(e,this._width,this._height)}pointToBox(e,n){const r=this.wcs2Cwcs(e),g=this.cwcs2Wcs({x:r.x+n,y:r.y+n}),$=this.cwcs2Wcs({x:r.x-n,y:r.y-n});return new Se$2().setFromPoints([g,$])}resetRaycaster(e,n){const r=this._camera.wcs2Ndc(e,this._width,this._height);return this._raycaster.setFromCamera(new Vector2(r.x,r.y),this._camera.internalCamera),this._raycaster.params.Line.threshold=n,this._raycaster.params.Points.threshold=n,this._raycaster}zoomTo(e,n=1.1){const r=new te$3;e.getSize(r);const g=new te$3;e.getCenter(g);const $=new Vector3(g.x,g.y,0);this._camera.position.set(g.x,g.y,this._camera.position.z),this._camera.lookAt($),this._camera.setRotationFromEuler(new Euler(0,0,0));const y=r.x*n,k=r.y*n,L=this._width/y,V=this._height/k;this._camera.zoom=Math.min(L,V),this._cameraControls.target=$,this.updateCameraFrustum()}updateCameraFrustum(e,n){const r=(e??this._width)/(n??this._height);this._camera.left=-r*this._frustum,this._camera.right=r*this._frustum,this._camera.top=this._frustum,this._camera.bottom=-this._frustum,this._camera.updateProjectionMatrix(),this._cameraControls.update()}createCamera(){const e=new OrthographicCamera(-this._width/2,this._width/2,this._height/2,-this._height/2,.1,1e3);return e.position.set(0,0,500),e.up.set(0,1,0),e.updateProjectionMatrix(),e}createCameraControls(){const e=new OrbitControls(this._camera.internalCamera,this._renderer.domElement);return e.enableDamping=!1,e.autoRotate=!1,e.enableRotate=!1,e.zoomSpeed=5,e.mouseButtons={MIDDLE:MOUSE.PAN},e.touches={ONE:TOUCH.PAN,TWO:TOUCH.DOLLY_PAN},e.update(),e}};class tr extends Qo$1{static calculateViewportWindowBox(e,n){const r=n.box,g=new Se$2;return g.expandByPoint(e.wcs2Cwcs(r.min)),g.expandByPoint(e.wcs2Cwcs(r.max)),g}constructor(e,n,r){const g=tr.calculateViewportWindowBox(e,n).size;super(r,g.width,g.height),this._parentView=e,this._viewport=n.clone(),this._frustum*=n.height/e.height,this.zoomTo(this._viewport.viewBox),this.enabled=!1}get viewport(){return this._viewport}update(){this.zoomTo(this._viewport.viewBox)}render(e){const n=tr.calculateViewportWindowBox(this._parentView,this._viewport);if(!n.isEmpty()){const r=this._parentView.height-n.min.y-n.size.height;this._renderer.setViewport(n.min.x,r,n.size.width,n.size.height),this._renderer.internalRenderer.setScissor(n.min.x,r,n.size.width,n.size.height),this._renderer.internalRenderer.setScissorTest(!0),this._renderer.render(e,this._camera),this._renderer.internalRenderer.setScissorTest(!1)}}}class Yg extends vs{constructor(e,n){super(e),this._circle=new Ki$1(n,0)}get entity(){return this._circle}update(e){this._circle.radius=e}}class Zg extends ve$1{async execute(e){const n=new st$1(ce$1.t("jig.circle.center")),r=await ee$1.instance.editor.getPoint(n),g=new ml$1(ce$1.t("jig.circle.radius"));g.jig=new Yg(e.view,r);const $=await ee$1.instance.editor.getDistance(g),y=e.doc.database,k=new Ki$1(r,$);y.tables.blockTable.modelSpace.appendEntity(k)}}let cr$1=class{constructor(){this._objectId="",this._ownerId="",this._layerName="",this._visible=!0,this._userData={},this._box=new Se$2,this._svg=""}get box(){return this._box}set box(e){this._box.copy(e)}get basePoint(){return this._basePoint}set basePoint(e){e==null?this._basePoint=e:this._basePoint=this._basePoint?this._basePoint.copy(e):new W$3(e)}get svg(){return this._svg}set svg(e){this._svg=e}get objectId(){return this._objectId}set objectId(e){this._objectId=e}get ownerId(){return this._ownerId}set ownerId(e){this._ownerId=e}get layerName(){return this._layerName}set layerName(e){this._layerName=e}get visible(){return this._visible}set visible(e){this._visible=e}get userData(){return this._userData}set userData(e){this._userData=e}applyMatrix(e){}recomputeBoundingBox(){}highlight(){}unhighlight(){}fastDeepClone(){return this}};class Kg extends cr$1{constructor(e){if(super(),e.closed)this.svg=`
<circle cx="${e.center.x}" cy="${e.center.y}" r="${e.radius}"/>`;else{const r=e.startPoint,g=e.endPoint,$=e.clockwise?0:1;this.svg=`
<path d="M${r.x},${r.y} A${e.radius},${e.radius} 0 ${e.isLargeArc},${$} ${g.x},${g.y}"/>`}const n=e.box;this._box.min.copy(n.min),this._box.max.copy(n.max)}}class Qg extends cr$1{constructor(e){if(super(),e.closed)this.svg=`
<epllise cx="${e.center.x}" cy="${e.center.y}" rx="${e.majorAxisRadius}" ry="${e.minorAxisRadius}"/>`;else{const r=e.startPoint,g=e.endPoint,$=It$3.radToDeg(e.majorAxis.angleTo(K$1.X_AXIS)),y=e.clockwise?0:1;this.svg=`
<path d="M${r.x},${r.y} A${e.majorAxisRadius},${e.minorAxisRadius} ${$} ${e.isLargeArc},${y} ${g.x},${g.y}"/>`}const n=e.box;this._box.min.copy(n.min),this._box.max.copy(n.max)}}class Jg extends cr$1{constructor(e){super();const n=e.reduce((r,g,$)=>(r+=$===0?"M":"L",r+=g.x+","+g.y,this.box.expandByPoint(g),r),"");n&&(this.svg=`<path d="${n}" />`)}}class em{constructor(){this._container=new Array,this._bbox=new Se$2,this._subEntityTraits={color:new Kr$1,rgbColor:0,lineType:{type:"ByLayer",name:"Continuous",standardFlag:0,description:"Solid line",totalPatternLength:0},lineTypeScale:1,lineWeight:xa$2.ByLayer,fillType:{solidFill:!0,patternAngle:0,patternLines:[]},transparency:new fa$2,thickness:0,layer:"0"}}get subEntityTraits(){return this._subEntityTraits}get basePoint(){return this._basePoint}set basePoint(e){e==null?this._basePoint=e:this._basePoint=this._basePoint?this._basePoint.copy(e):new W$3(e)}setFontMapping(e){}group(e){return kt}point(e){return kt}circularArc(e){const n=new Kg(e);return this._container.push(n.svg),this._bbox.union(n.box),n}ellipticalArc(e){const n=new Qg(e);return this._container.push(n.svg),this._bbox.union(n.box),n}lines(e){const n=new Jg(e);return this._container.push(n.svg),this._bbox.union(n.box),n}lineSegments(e,n,r){return kt}area(e){return kt}mtext(e,n,r){return kt}image(e,n){return kt}export(){const e=this._container.join(`
`),n=this._bbox.isEmpty()?{x:0,y:0,width:0,height:0}:{x:this._bbox.min.x,y:-this._bbox.max.y,width:this._bbox.max.x-this._bbox.min.x,height:this._bbox.max.y-this._bbox.min.y};return`<?xml version="1.0"?>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
      preserveAspectRatio="xMinYMin meet"
      viewBox="${n.x} ${n.y} ${n.width} ${n.height}"
      width="100%" height="100%"
    >
      <g stroke="#000000" stroke-width="0.1%" fill="none" transform="matrix(1,0,0,-1,0,0)">
        ${e}
      </g>
    </svg>`}}const kt=new cr$1;class tm{convert(){const e=ee$1.instance.curDocument.database.tables.blockTable.modelSpace.newIterator(),n=new em;for(const r of e)r.worldDraw(n);this.createFileAndDownloadIt(n.export())}createFileAndDownloadIt(e){const n=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),r=URL.createObjectURL(n),g=document.createElement("a");g.href=r,g.download="example.svg",document.body.appendChild(g),g.click()}}class nm extends ve$1{execute(e){new tm().convert()}}class rm extends vs{constructor(e,n,r,g){super(e),this._dimBlockName="*UDIM",this._db=n,new gu$1(n).createArrowBlock(),this._dim=new ha$2(r,g,r),this._dim.rotation=0}get entity(){return this._dim}update(e){this._dim.dimLinePoint=e,this._dim.rotation=this.calculateAngle(this._dim.xLine1Point,this._dim.xLine2Point),this._dim.dimensionText=this._dim.xLine1Point.distanceTo(this._dim.xLine2Point).toFixed(3);const n=this._dimBlockName;this._db.tables.blockTable.remove(n),this._db.tables.blockTable.add(this._dim.createDimBlock(n)),this._dim.dimBlockId=n}end(){super.end(),this._db.tables.blockTable.remove(this._dimBlockName)}calculateAngle(e,n){const r=n.x-e.x,g=n.y-e.y;return Math.atan2(g,r)}}class sm extends ve$1{async execute(e){const n=new st$1(ce$1.t("jig.dimlinear.xLine1Point")),r=await ee$1.instance.editor.getPoint(n),g=new st$1(ce$1.t("jig.dimlinear.xLine2Point"));g.useBasePoint=!0;const $=await ee$1.instance.editor.getPoint(g),y=new st$1(ce$1.t("jig.dimlinear.dimLinePoint"));y.jig=new rm(e.view,e.doc.database,r,$);const k=await ee$1.instance.editor.getPoint(y),L=e.doc.database,V=new ha$2(r,$,k),z=this.getAvaiableDimBlockName(L);L.tables.blockTable.add(V.createDimBlock(z)),V.dimBlockId=z,L.tables.blockTable.modelSpace.appendEntity(V)}getAvaiableDimBlockName(e){const n=e.tables.blockTable.newIterator();let r=0;for(const g of n){const $=g.name;if(!$.startsWith("*D"))continue;const y=Number($.slice(2));Number.isInteger(y)&&y>r&&(r=y)}return`*D${r+1}`}}class im extends vs{constructor(e,n){super(e),this._line=new ai$2(n,n)}get entity(){return this._line}update(e){this._line.endPoint=e}}class am extends ve$1{async execute(e){const n=new st$1(ce$1.t("jig.line.firstPoint")),r=await ee$1.instance.editor.getPoint(n),g=new st$1(ce$1.t("jig.line.nextPoint"));g.useDashedLine=!0,g.jig=new im(e.view,r),g.useDashedLine=!0,g.useBasePoint=!0;const $=await ee$1.instance.editor.getPoint(g),y=e.doc.database,k=new ai$2(r,$);y.tables.blockTable.modelSpace.appendEntity(k)}}class om extends ve$1{execute(e){this.printSelectionSet(e),this.printStats(e),this.printPerformanceData()}printSelectionSet(e){const n=e.doc.database.tables.blockTable.modelSpace;e.view.selectionSet.ids.forEach(r=>{const g=n.getIdAt(r);g&&console.log(g)})}printStats(e){const n=e.view.stats.layouts;console.log("Geometry information in current drawing:");for(let r=0;r<n.length;++r){console.group(`Layout: ${r}`);const g=n[r],$=[0,0,0,0,0,0],y=[0,0,0,0,0,0],k=g.layers.map(L=>($[0]=L.line.indexed.geometrySize/1024,$[1]=L.line.nonIndexed.geometrySize/1024,$[2]=L.mesh.indexed.geometrySize/1024,$[3]=L.mesh.nonIndexed.geometrySize/1024,$[4]=L.point.indexed.geometrySize/1024,$[5]=L.point.nonIndexed.geometrySize/1024,y[0]+=$[0],y[1]+=$[1],y[2]+=$[2],y[3]+=$[3],y[4]+=$[4],y[5]+=$[5],{name:L.name,"idx line (KB)":$[0].toFixed(1),"line (KB)":$[1].toFixed(1),"idx mesh (KB)":$[2].toFixed(1),"mesh (KB)":$[3].toFixed(1),"idx point (KB)":$[4].toFixed(1),"point (KB)":$[5].toFixed(1),"total geo (KB)":(L.summary.totalGeometrySize/1024).toFixed(1),"total mapping (KB)":(L.summary.totalMappingSize/1024).toFixed(1)}));k.push({name:"total","idx line (KB)":y[0].toFixed(1),"line (KB)":y[1].toFixed(1),"idx mesh (KB)":y[2].toFixed(1),"mesh (KB)":y[3].toFixed(1),"idx point (KB)":y[4].toFixed(1),"point (KB)":y[5].toFixed(1),"total geo (KB)":(g.summary.totalSize.geometry/1024).toFixed(1),"total mapping (KB)":(g.summary.totalSize.mapping/1024).toFixed(1)}),console.table(k),console.groupEnd()}}printPerformanceData(){Qo$2.getInstance().printAll()}}class cm extends ve$1{execute(e){ot$1.emit("open-file",{})}}class lm extends ve$1{execute(e){const n=ee$1.instance.baseUrl;ee$1.instance.openUrl(n+"templates/acadiso.dxf")}}class hm extends ve$1{execute(){ee$1.instance.regen()}}class um extends ve$1{execute(e){e.view.mode=it$1.SELECTION,e.view.setCursor(pn$2.Crosshair)}}class dm extends ve$1{async execute(e){const n=new yl$1(ce$1.t("jig.sysvar.prompt")),r=await ee$1.instance.editor.getString(n),g=Xo$2.instance();g.getDescriptor(this.globalName)&&g.setVar(this.globalName,r)}}class pm extends ve$1{execute(e){e.view.zoomToFitDrawing()}}class fm extends ve$1{async execute(e){const n=await ee$1.instance.editor.getSelection();return e.view.zoomTo(n,1)}}class gm extends ve$1{execute(e){e.view.mode=it$1.PAN,e.view.setCursor(pn$2.Grab)}}const mm=t=>new Lt$2(t.min,t.max),ym=t=>new Se$2(t.min,t.max),bm=t=>new Box3(t.min,t.max),vm=t=>new Se$2(t.min,t.max),xm=t=>new Box2(t.min,t.max),wm=t=>new Se$2(t.min,t.max),Sm=t=>{const e=new Box3;return e.min.set(t.min.x,t.min.y,0),e.max.set(t.max.x,t.max.y,0),e},Ea$1={threeBo2dToGeBox2d:vm,geBox2dToThreeBox2d:xm,threeBox3dToGeBox3d:mm,geBox3dToThreeBox3d:bm,goBox3dToGeBox2d:ym,threeBox3dToGeBox2d:wm,geBox2dToThreeBox3d:Sm};var lr=(t=>(t[t.LEFT_BOTTOM=0]="LEFT_BOTTOM",t[t.LEFT_TOP=1]="LEFT_TOP",t[t.RIGHT_TOP=2]="RIGHT_TOP",t[t.RIGHT_BOTTOM=4]="RIGHT_BOTTOM",t))(lr||{});class _m extends Object3D{constructor(e,n,r=150,g=2){super(),this.camera=e,this.renderer=n,this.gizmoCamera=new OrthographicCamera(-2,2,2,-2,0,4),this.gizmoCamera.position.set(0,0,2),this.gizmoDim=r,this.gizmoPos=g,this.initialize()}initialize(){}update(){this.updateOrientation();const e=this.renderer.autoClear;this.renderer.autoClear=!1,this.renderer.clearDepth();const n=new Vector4;this.renderer.getViewport(n);const r=this.calculateViewportPos();this.renderer.setViewport(r.x,r.y,this.gizmoDim,this.gizmoDim),this.renderer.render(this,this.gizmoCamera),this.renderer.setViewport(n.x,n.y,n.z,n.w),this.renderer.autoClear=e}dispose(){}updateOrientation(){this.quaternion.copy(this.camera.quaternion).invert(),this.updateMatrixWorld()}calculatePosInViewport(e,n,r){const g=(e-r.min.x)/this.gizmoDim*2-1,$=-((n-r.min.y)/this.gizmoDim)*2+1;return{x:g,y:$}}calculateViewportPos(){const e=this.renderer.domElement,n=e.offsetWidth,r=e.offsetHeight,g=this.gizmoPos,$=this.gizmoDim;let y=n-$,k=r-$;switch(g){case 0:y=0,k=0;break;case 1:y=0;break;case 4:k=0;break}return{x:y,y:k}}calculateViewportBbox(){const e=this.renderer.domElement,n=e.offsetWidth,r=e.offsetHeight,g=this.gizmoPos,$=this.gizmoDim,y=new Box2(new Vector2(n-$,0),new Vector2(n,$));switch(g){case 0:y.set(new Vector2(0,r-$),new Vector2($,r));break;case 1:y.set(new Vector2(0,0),new Vector2($,$));break;case 4:y.set(new Vector2(n-$,r-$),new Vector2(n,r));break}return y}}function Cm(t,e){const n=e.font||"Helvetica",r=e.fontSize||30,g=e.width||200,$=e.height||200,y=e.bgColor?e.bgColor.join(", "):"255, 255, 255, 1.0",k=e.color?e.color.join(", "):"0, 0, 0, 1.0",L=document.createElement("canvas");L.width=g,L.height=$;const V=L.getContext("2d");if(V){V.font=`bold ${r}px ${n}`,V.fillStyle=`rgba(${y})`,V.fillRect(0,0,g,$);const j=V.measureText(t).width;V.fillStyle=`rgba(${k})`,V.fillText(t,g/2-j/2,$/2+r/2-2)}const z=new Texture(L);return z.minFilter=LinearFilter,z.needsUpdate=!0,z}function zr(t){const e=Cm(t,{fontSize:100,font:"Arial Narrow, sans-serif",color:[255,255,255,1],bgColor:[0,0,0,0]}),n=new SpriteMaterial({map:e,transparent:!0});return new Sprite(n)}lr.RIGHT_TOP;const Tm={pos:lr.LEFT_BOTTOM,size:100,hasZAxis:!0};class Im extends _m{constructor(e,n,r){const g={...Tm,...r};super(e,n,g.size,r.pos),this.hasZAxis=g.hasZAxis;const $=[0,0,0,2,0,0,0,0,0,0,2,0],y=[1,0,0,1,.6,0,0,1,0,.6,1,0];this.hasZAxis&&($.push(0,0,0,0,0,2),y.push(0,0,1,0,.6,1));const k=new BufferGeometry;k.setAttribute("position",new Float32BufferAttribute($,3)),k.setAttribute("color",new Float32BufferAttribute(y,3));const L=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});this.axes=new LineSegments(k,L),this.axes.position.set(-1,-1,-1),this.add(this.axes),this.xText=zr("X"),this.xText.position.set(1.5,-1,-1),this.add(this.xText),this.yText=zr("Y"),this.yText.position.set(-1,1.5,-1),this.add(this.yText),this.hasZAxis&&(this.zText=zr("Z"),this.zText.position.set(-1,-1,1.5),this.add(this.zText))}setLineColors(e,n){const r=new Color$1,g=this.axes.geometry.attributes.color.array;return r.set(e),r.toArray(g,0),r.toArray(g,3),r.set(n),r.toArray(g,6),r.toArray(g,9),this.axes.geometry.attributes.color.needsUpdate=!0,this}setTextColor(e){this.xText.material.color=e,this.yText.material.color=e}dispose(){var e,n;this.axes.geometry.dispose(),this.axes.material.dispose(),this.xText.geometry.dispose(),this.xText.material.dispose(),this.yText.geometry.dispose(),this.yText.material.dispose(),this.hasZAxis&&((e=this.zText)==null||e.geometry.dispose(),(n=this.zText)==null||n.material.dispose())}}class Em extends Qo$1{constructor(e,n,r,g){super(e,r,g),this._layoutBtrId=n,this._mode=it$1.SELECTION,this._axesGizmo=this.createAxesGizmo(),this._viewportViews=new Map}get layoutBtrId(){return this._layoutBtrId}get mode(){return this._mode}set mode(e){e==it$1.SELECTION?this._cameraControls.mouseButtons={MIDDLE:MOUSE.PAN}:e==it$1.PAN&&(this._cameraControls.mouseButtons={LEFT:MOUSE.PAN}),this._cameraControls.update(),this._mode=e}get viewportCount(){return this._viewportViews.size}addViewport(e){this._viewportViews.set(e.viewport.id,e)}removeViewport(e){this._viewportViews.delete(e)}resize(e,n){this._height=n,this._width=e,this.updateCameraFrustum(),this._viewportViews.forEach(r=>{r.update()})}render(e){var n;this._renderer.clear(),this._renderer.render(e.internalScene,this._camera);const r=e.modelSpaceLayout;r&&this.drawViewports(r.internalObject),(n=this._axesGizmo)==null||n.update()}createAxesGizmo(){return new Im(this._camera.internalCamera,this._renderer.internalRenderer,{hasZAxis:!1,pos:lr.LEFT_BOTTOM})}drawViewports(e){if(this._viewportViews.size>0){const n=this._renderer.autoClear;this._renderer.autoClear=!1;const r=new Vector4;this._renderer.getViewport(r),this._renderer.clearDepth();const g=e.visible;e.visible=!0,this._viewportViews.forEach($=>{$.render(e)}),e.visible=g,this._renderer.setViewport(r.x,r.y,r.z,r.w),this._renderer.autoClear=n}}}class Mm{constructor(){this._activeLayoutBtrId="",this._layoutViews=new Map}get activeLayoutBtrId(){return this._activeLayoutBtrId}set activeLayoutBtrId(e){this._activeLayoutBtrId=e,this._layoutViews.forEach(n=>{n.enabled=n.layoutBtrId==e})}get activeLayoutView(){return this._layoutViews.get(this._activeLayoutBtrId)}has(e){return this._layoutViews.has(e)}getAt(e){return this._layoutViews.get(e)}resize(e,n){this._layoutViews.forEach(r=>{r.resize(e,n)})}add(e){this._layoutViews.set(e.layoutBtrId,e)}render(e){var n;(n=this.activeLayoutView)==null||n.render(e)}}function Jo$1(t,e,n=0,r=t.length-1,g=km){for(;r>n;){if(r-n>600){const L=r-n+1,V=e-n+1,z=Math.log(L),j=.5*Math.exp(2*z/3),ie=.5*Math.sqrt(z*j*(L-j)/L)*(V-L/2<0?-1:1),Oe=Math.max(n,Math.floor(e-V*j/L+ie)),ur=Math.min(r,Math.floor(e+(L-V)*j/L+ie));Jo$1(t,e,Oe,ur,g)}const $=t[e];let y=n,k=r;for(Xt$2(t,n,e),g(t[r],$)>0&&Xt$2(t,n,r);y<k;){for(Xt$2(t,y,k),y++,k--;g(t[y],$)<0;)y++;for(;g(t[k],$)>0;)k--}g(t[n],$)===0?Xt$2(t,n,k):(k++,Xt$2(t,k,r)),k<=e&&(n=k+1),e<=k&&(r=k-1)}}function Xt$2(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function km(t,e){return t<e?-1:t>e?1:0}class Lm{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!Nn$1(e,n))return r;const g=this.toBBox,$=[];for(;n;){for(let y=0;y<n.children.length;y++){const k=n.children[y],L=n.leaf?g(k):k;Nn$1(e,L)&&(n.leaf?r.push(k):jr(e,L)?this._all(k,r):$.push(k))}n=$.pop()}return r}collides(e){let n=this.data;if(!Nn$1(e,n))return!1;const r=[];for(;n;){for(let g=0;g<n.children.length;g++){const $=n.children[g],y=n.leaf?this.toBBox($):$;if(Nn$1(e,y)){if(n.leaf||jr(e,y))return!0;r.push($)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Ot$2([]),this}remove(e,n){if(!e)return this;let r=this.data;const g=this.toBBox(e),$=[],y=[];let k,L,V;for(;r||$.length;){if(r||(r=$.pop(),L=$[$.length-1],k=y.pop(),V=!0),r.leaf){const z=Bm(e,r.children,n);if(z!==-1)return r.children.splice(z,1),$.push(r),this._condense($),this}!V&&!r.leaf&&jr(r,g)?($.push(r),y.push(k),k=0,L=r,r=r.children[0]):L?(k++,r=L.children[k],V=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,g){const $=r-n+1;let y=this._maxEntries,k;if($<=y)return k=Ot$2(e.slice(n,r+1)),Lt$1(k,this.toBBox),k;g||(g=Math.ceil(Math.log($)/Math.log(y)),y=Math.ceil($/Math.pow(y,g-1))),k=Ot$2([]),k.leaf=!1,k.height=g;const L=Math.ceil($/y),V=L*Math.ceil(Math.sqrt(y));Ma$1(e,n,r,V,this.compareMinX);for(let z=n;z<=r;z+=V){const j=Math.min(z+V-1,r);Ma$1(e,z,j,L,this.compareMinY);for(let ie=z;ie<=j;ie+=L){const Oe=Math.min(ie+L-1,j);k.children.push(this._build(e,ie,Oe,g-1))}}return Lt$1(k,this.toBBox),k}_chooseSubtree(e,n,r,g){for(;g.push(n),!(n.leaf||g.length-1===r);){let $=1/0,y=1/0,k;for(let L=0;L<n.children.length;L++){const V=n.children[L],z=Gr(V),j=Pm(e,V)-z;j<y?(y=j,$=z<$?z:$,k=V):j===y&&z<$&&($=z,k=V)}n=k||n.children[0]}return n}_insert(e,n,r){const g=r?e:this.toBBox(e),$=[],y=this._chooseSubtree(g,this.data,n,$);for(y.children.push(e),en$2(y,g);n>=0&&$[n].children.length>this._maxEntries;)this._split($,n),n--;this._adjustParentBBoxes(g,$,n)}_split(e,n){const r=e[n],g=r.children.length,$=this._minEntries;this._chooseSplitAxis(r,$,g);const y=this._chooseSplitIndex(r,$,g),k=Ot$2(r.children.splice(y,r.children.length-y));k.height=r.height,k.leaf=r.leaf,Lt$1(r,this.toBBox),Lt$1(k,this.toBBox),n?e[n-1].children.push(k):this._splitRoot(r,k)}_splitRoot(e,n){this.data=Ot$2([e,n]),this.data.height=e.height+1,this.data.leaf=!1,Lt$1(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let g,$=1/0,y=1/0;for(let k=n;k<=r-n;k++){const L=Jt$2(e,0,k,this.toBBox),V=Jt$2(e,k,r,this.toBBox),z=Dm(L,V),j=Gr(L)+Gr(V);z<$?($=z,g=k,y=j<y?j:y):z===$&&j<y&&(y=j,g=k)}return g||r-n}_chooseSplitAxis(e,n,r){const g=e.leaf?this.compareMinX:Am,$=e.leaf?this.compareMinY:Om,y=this._allDistMargin(e,n,r,g),k=this._allDistMargin(e,n,r,$);y<k&&e.children.sort(g)}_allDistMargin(e,n,r,g){e.children.sort(g);const $=this.toBBox,y=Jt$2(e,0,n,$),k=Jt$2(e,r-n,r,$);let L=Fn$1(y)+Fn$1(k);for(let V=n;V<r-n;V++){const z=e.children[V];en$2(y,e.leaf?$(z):z),L+=Fn$1(y)}for(let V=r-n-1;V>=n;V--){const z=e.children[V];en$2(k,e.leaf?$(z):z),L+=Fn$1(k)}return L}_adjustParentBBoxes(e,n,r){for(let g=r;g>=0;g--)en$2(n[g],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():Lt$1(e[n],this.toBBox)}}function Bm(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function Lt$1(t,e){Jt$2(t,0,t.children.length,e,t)}function Jt$2(t,e,n,r,g){g||(g=Ot$2(null)),g.minX=1/0,g.minY=1/0,g.maxX=-1/0,g.maxY=-1/0;for(let $=e;$<n;$++){const y=t.children[$];en$2(g,t.leaf?r(y):y)}return g}function en$2(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Am(t,e){return t.minX-e.minX}function Om(t,e){return t.minY-e.minY}function Gr(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Fn$1(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Pm(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Dm(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),g=Math.min(t.maxX,e.maxX),$=Math.min(t.maxY,e.maxY);return Math.max(0,g-n)*Math.max(0,$-r)}function jr(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Nn$1(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ot$2(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ma$1(t,e,n,r,g){const $=[e,n];for(;$.length;){if(n=$.pop(),e=$.pop(),n-e<=r)continue;const y=e+Math.ceil((n-e)/r/2)*r;Jo$1(t,y,e,n,g),$.push(e,y,y,n)}}class Rm{constructor(e){this._group=new Lg,this._name=e.name,this._box=new Box3,this._group.visible=!(e.isFrozen||e.isOff)}get name(){return this._name}set name(e){this._name=e}get box(){return this._box}get visible(){return this._group.visible}set visible(e){this._group.visible=e}get internalObject(){return this._group}get stats(){const e=this._group.stats;return{name:this._name,...e}}get entityCount(){return this._group.entityCount}update(e){this._name=e.name,this._group.visible=!(e.isFrozen||e.isOff)}updateMaterial(e,n){this._group.updateMaterial(e,n)}rerenderPoints(e){this._group.rerenderPoints(e)}hasEntity(e){return this._group.hasEntity(e)}addEntity(e,n=!0){this._group.addEntity(e);const r=e.box;n&&this._box.union(r)}isIntersectWith(e,n){return this._group.isIntersectWith(e,n)}removeEntity(e){throw new Error("Not implemented yet!")}updateEntity(e){return this._group.add(e),!0}hover(e){e.forEach(n=>{this._group.hover(n)})}unhover(e){e.forEach(n=>{this._group.unhover(n)})}select(e){e.forEach(n=>{this._group.select(n)})}unselect(e){e.forEach(n=>{this._group.unselect(n)})}}class Um{constructor(){this._group=new Group,this._indexTree=new Lm,this._box=new Box3,this._layers=new Map}get internalObject(){return this._group}get layers(){return this._layers}get box(){return this._box}get visible(){return this._group.visible}set visible(e){this._group.visible=e}get entityCount(){let e=0;return this._layers.forEach(n=>e+=n.entityCount),e}get stats(){const e=[];let n=0,r=0,g=0,$=0,y=0;return this._layers.forEach(k=>{const L=k.stats;e.push(L),g+=L.line.indexed.geometrySize+L.line.nonIndexed.geometrySize,$+=L.mesh.indexed.geometrySize+L.mesh.nonIndexed.geometrySize,y+=L.point.indexed.geometrySize+L.point.nonIndexed.geometrySize,n+=L.summary.totalGeometrySize,r+=L.summary.totalMappingSize}),{layers:e,summary:{entityCount:this.entityCount,totalSize:{line:g,mesh:$,point:y,geometry:n,mapping:r}}}}clear(){return this._layers.forEach(e=>{this._group.remove(e.internalObject)}),this._layers.clear(),this._box.makeEmpty(),this._indexTree.clear(),this}rerenderPoints(e){this._layers.forEach(n=>{n.rerenderPoints(e)})}isIntersectWith(e,n){const r=this.getLayersByObjectId(e);for(let g=0;g<r.length;++g){const $=r[g];if($&&$.isIntersectWith(e,n))return!0}return!1}addEntity(e,n=!0){if(!e.objectId)throw new Error("Object id is required to add one entity!");if(!e.layerName)throw new Error("Layer name is required to add one entity!");const r=this._layers.get(e.layerName);if(!r)throw new Error(`layer '${e.layerName}' doesn't exist!`);r.addEntity(e);const g=e.box;return n&&this._box.union(g),this._indexTree.insert({minX:g.min.x,minY:g.min.y,maxX:g.max.x,maxY:g.max.y,id:e.objectId}),this}removeEntity(e){for(const[n,r]of this._layers)if(r.removeEntity(e))return!0;return!1}updateEntity(e){for(const[n,r]of this._layers)if(r.updateEntity(e))return!0;return!1}getLayer(e){return this._layers.get(e)}addLayer(e){const n=e.name;let r=this._layers.get(n);return r===void 0&&(r=new Rm(e),this._layers.set(n,r),this._group.add(r.internalObject)),r}updateLayer(e){const n=this._layers.get(e.name);return n&&n.update(e),n}hover(e){e.forEach(n=>{this.getLayersByObjectId(n).forEach(r=>r.hover([n]))})}unhover(e){e.forEach(n=>{this.getLayersByObjectId(n).forEach(r=>r.unhover([n]))})}select(e){e.forEach(n=>{this.getLayersByObjectId(n).forEach(r=>r.unselect([n]))})}unselect(e){e.forEach(n=>{this.getLayersByObjectId(n).forEach(r=>r.unselect([n]))})}setSnapObject(e){this._snapPointsObject&&this._group.remove(this._snapPointsObject),this._snapPointsObject=e,this._group.add(e)}search(e){return this._indexTree.search({minX:e.min.x,minY:e.min.y,maxX:e.max.x,maxY:e.max.y})}getLayersByObjectId(e){const n=[];for(const[r,g]of this._layers)g.hasEntity(e)&&n.push(g);return n}}class Fm{constructor(){this._scene=new Scene,this._transientManager=new Ia$1(this._scene),this._layers=new Map,this._layouts=new Map,this._activeLayoutBtrId="",this._modelSpaceBtrId=""}get layers(){return this._layers}get layouts(){return this._layouts}get box(){var e;return(e=this.activeLayout)==null?void 0:e.box}get internalScene(){return this._scene}get modelSpaceBtrId(){return this._modelSpaceBtrId}set modelSpaceBtrId(e){if(this._modelSpaceBtrId=e,!this._layouts.has(e))throw new Error(`[AcTrScene] No layout assiciated with the specified block table record id '${e}'!`)}get activeLayoutBtrId(){return this._activeLayoutBtrId}set activeLayoutBtrId(e){this._activeLayoutBtrId=e,this._layouts.forEach((n,r)=>{n.visible=e==r})}get activeLayout(){if(this._activeLayoutBtrId&&this._layouts.has(this._activeLayoutBtrId))return this._layouts.get(this._activeLayoutBtrId)}get modelSpaceLayout(){if(this._modelSpaceBtrId&&this._layouts.has(this._modelSpaceBtrId))return this._layouts.get(this._modelSpaceBtrId)}get stats(){const e=[];return this._layouts.forEach(n=>e.push(n.stats)),{layouts:e}}addEmptyLayout(e){const n=new Um;return this._layouts.set(e,n),this._scene.add(n.internalObject),n.visible=e==this._activeLayoutBtrId,this._layers.forEach(r=>{n.addLayer(r)}),n}clear(){return this._layouts.forEach(e=>{this._scene.remove(e.internalObject),e.clear()}),this._layouts.clear(),this._layers.clear(),this._transientManager.clear(),this._scene.clear(),this._transientManager=new Ia$1(this._scene),this}hover(e){return this.activeLayout?(this.activeLayout.hover(e),!0):!1}unhover(e){return this.activeLayout?(this.activeLayout.unhover(e),!0):!1}select(e){return this.activeLayout?(this.activeLayout.select(e),!0):!1}unselect(e){return this.activeLayout?(this.activeLayout.unselect(e),!0):!1}search(e){const n=this.activeLayout;return n?n==null?void 0:n.search(e):[]}addLayer(e){const n=[];return this._layers.set(e.name,e),this._layouts.forEach(r=>{const g=r.addLayer(e);g&&n.push(g)}),n}updateLayer(e){const n=[];return this._layers.set(e.name,e),this._layouts.forEach(r=>{const g=r.updateLayer(e);g&&n.push(g)}),n}addTransientEntity(e){this._transientManager.update(e)}removeTransientEntity(e){this._transientManager.remove(e)}addEntity(e,n=!0){const r=e.ownerId;if(r){let g=this._layouts.get(r);g||(g=this.addEmptyLayout(r)),g.addEntity(e,n)}else console.warn("[AcTrSecene] The owner id of one entity cannot be empty!");return this}removeEntity(e){for(const[n,r]of this._layouts)if(r.removeEntity(e))return!0;return!1}updateEntity(e){for(const[n,r]of this._layouts)if(r.updateEntity(e))return!0;return!1}setSnapObject(e){return this._layouts.forEach(n=>{n.setSnapObject(e)}),this}}const ka$1={background:0};class Nm extends _l$1{constructor(e=ka$1){const n={...ka$1,...e},r=new WebGLRenderer({antialias:!0,alpha:!0,canvas:e.canvas});n.canvas==null&&(n.canvas=r.domElement),super(n.canvas),e.calculateSizeCallback&&this.setCalculateSizeCallback(e.calculateSizeCallback),r.setPixelRatio(Math.min(window.devicePixelRatio,2)),r.setSize(this.width,this.height),this._renderer=new qg(r);const g=Ze$2.instance.fontMapping;this._renderer.setFontMapping(g),this._renderer.events.fontNotFound.addEventListener($=>{ot$1.emit("font-not-found",{fontName:$.fontName,count:$.count??0})}),this._scene=this.createScene(),this._renderer.setClearColor(n.background||0),this._stats=this.createStats(Ze$2.instance.isShowStats),Ze$2.instance.events.modified.addEventListener($=>{$.key=="isShowStats"&&this.toggleStatsVisibility(this._stats,$.value)}),this.canvas.addEventListener("click",()=>{this.mode==it$1.SELECTION&&this.select()}),document.addEventListener("keydown",$=>{$.code==="Escape"&&this.selectionSet.clear()}),Gh$1().layoutManager.events.layoutSwitched.addEventListener($=>{this.activeLayoutBtrId=$.layout.blockTableRecordId}),this._missedImages=new Map,this._layoutViewManager=new Mm,this.initialize(),this.onWindowResize(),this.animate(),this._isDirty=!0,this._numOfEntitiesToProcess=0}initialize(){this.setCursor(pn$2.Crosshair)}get mode(){const e=this.activeLayoutView;return e?e.mode:it$1.SELECTION}set mode(e){this.activeLayoutView.mode=e}get renderer(){return this._renderer}get isDirty(){return this._isDirty}set isDirty(e){this._isDirty=e}get missedData(){return{fonts:this._renderer.missedFonts,images:this._missedImages}}get center(){return this.activeLayoutView.center}set center(e){this.activeLayoutView.center=e}get backgroundColor(){return this._renderer.getClearColor()}set backgroundColor(e){this._renderer.setClearColor(e),this._isDirty=!0}get modelSpaceBtrId(){return this._scene.modelSpaceBtrId}set modelSpaceBtrId(e){this._scene.modelSpaceBtrId=e}get activeLayoutBtrId(){return this._scene.activeLayoutBtrId}set activeLayoutBtrId(e){this._layoutViewManager.activeLayoutBtrId=e,this._scene.activeLayoutBtrId=e,this._isDirty=!0}get activeLayoutView(){return this._layoutViewManager.activeLayoutView}get stats(){return this._scene.stats}animate(){var e;requestAnimationFrame(this.animate.bind(this)),this._isDirty&&(this._layoutViewManager.render(this._scene),(e=this._stats)==null||e.update(),this._isDirty=!1)}cwcs2Wcs(e){const n=this.activeLayoutView;return n?n.cwcs2Wcs(e):new Nt$3(e)}wcs2Cwcs(e){const n=this.activeLayoutView;return n?n.wcs2Cwcs(e):new Nt$3(e)}zoomTo(e,n=1.1){this.activeLayoutView.zoomTo(e,n),this._isDirty=!0}rerenderPoints(e){const n=this._scene.activeLayout;n&&(n.rerenderPoints(e),this._isDirty=!0)}zoomToFitDrawing(e=0){new el$1(()=>this._numOfEntitiesToProcess<=0,()=>{if(this._scene.box){const n=Ea$1.threeBox3dToGeBox2d(this._scene.box);this.zoomTo(n),this._isDirty=!0}},300,e).start()}zoomToFitLayer(e){const n=this._scene.activeLayout;if(n){const r=n.getLayer(e);if(r&&!r.box.isEmpty()){const g=Ea$1.threeBox3dToGeBox2d(r.box);return this.zoomTo(g),this._isDirty=!0,!0}}return!1}pick(e,n){e==null&&(e=this.curPos);const r=[],g=this._scene.activeLayout;if(g){const $=this.activeLayoutView,y=$.pointToBox(e,n??this.selectionBoxSize),k=this._scene.search(y),L=Math.max(y.size.width/2,y.size.height/2),V=$.resetRaycaster(e,L);k.forEach(z=>{const j=z.id;g.isIntersectWith(j,V)&&r.push(j)})}return r}search(e){return this._scene.search(e)}select(e){const n=[];this.pick(e).forEach(r=>n.push(r)),n.length>0&&this.selectionSet.add(n)}selectByBox(e){const n=[];this._scene.search(e).forEach(r=>n.push(r.id)),this.selectionSet.add(n)}addLayer(e){this._scene.addLayer({name:e.name,isFrozen:e.isFrozen,isOff:e.isOff,color:e.color}),this._isDirty=!0}updateLayer(e,n){const r=this._scene.updateLayer({name:e.name,isFrozen:e.isFrozen,isOff:e.isOff,color:e.color}),g={};n.color&&(g.color=n.color.clone(),g.rgbColor=n.color.RGB),n.lineStyle&&(g.lineType=e.lineStyle),n.lineWeight!==void 0&&(g.lineWeight=n.lineWeight),n.transparency!==void 0&&(g.transparency=n.transparency),g.layer=e.name;const $=this._renderer.updateLayerMaterial(e.name,g);r.forEach(y=>{for(const k in $){const L=$[k];y.updateMaterial(Number(k),L)}}),this._isDirty=!0}addTransientEntity(e){const n=Array.isArray(e)?e:[e];for(let r=0;r<n.length;++r){const g=n[r],$=this.drawEntity(g,!0);$&&($.objectId=g.objectId,this._scene.addTransientEntity($),this._isDirty=!0)}}removeTransientEntity(e){this._scene.removeTransientEntity(e),this._isDirty=!0}addEntity(e){const n=Array.isArray(e)?e:[e];this._numOfEntitiesToProcess+=n.length,setTimeout(async()=>{await this.batchConvert(n)})}removeEntity(e){this._scene.removeEntity(e)}updateEntity(e){let n=[];Array.isArray(e)?n=e:n.push(e);for(let r=0;r<n.length;++r){const g=n[r],$=g.worldDraw(this._renderer);$&&($.objectId=g.objectId,$.ownerId=g.ownerId,$.layerName=g.layer,$.visible=g.visibility,this._scene.updateEntity($))}this._isDirty=!0,setTimeout(()=>{this._isDirty=!0},100)}addLayout(e){this._scene.addEmptyLayout(e.blockTableRecordId),this.createLayoutViewIfNeeded(e.blockTableRecordId),this._isDirty=!0}clear(){this._scene.clear(),this._isDirty=!0,this._missedImages.clear(),this._renderer.dispose()}highlight(e){this._isDirty=this._scene.select(e)}unhighlight(e){this._isDirty=this._scene.unselect(e)}onHover(e){this._isDirty=this._scene.hover([e])}onUnhover(e){this._isDirty=this._scene.unhover([e])}createScene(){const e=new Fm;return e.layouts.forEach(n=>{n.setSnapObject(this.renderer.createObject())}),e}createStats(e){const n=new Stats;document.body.appendChild(n.dom);const r=n.dom;return r.style.position="fixed",r.style.inset="unset",r.style.bottom="30px",r.style.right="0px",this.toggleStatsVisibility(n,e),n}onWindowResize(){super.onWindowResize(),this._renderer.setSize(this.width,this.height),this._layoutViewManager.resize(this.width,this.height),this._isDirty=!0}createLayoutViewIfNeeded(e){let n=this._layoutViewManager.getAt(e);return n==null&&(n=new Em(this._renderer,e,this.width,this.height),n.events.viewChanged.addEventListener(()=>{this._isDirty=!0}),this._layoutViewManager.add(n)),n}toggleStatsVisibility(e,n){n?e.dom.style.display="block":e.dom.style.display="none"}drawEntity(e,n){return e.worldDraw(this._renderer,n)}async batchConvert(e){for(let n=0;n<e.length;++n){const r=e[n],g=this.drawEntity(r,!0);if(g){if(g.objectId=r.objectId,g.ownerId=r.ownerId,g.layerName=r.layer,g.visible=r.visibility,g instanceof or&&!g.isOnTheSameLayer)this.handleGroup(g),this.decreaseNumOfEntitiesToProcess();else{const $=!(r instanceof sa$2||r instanceof oa$2);await g.draw().then(()=>{this._scene.addEntity(g,$),g.dispose(),this._isDirty=!0}).finally(()=>{this.decreaseNumOfEntitiesToProcess()})}if(r instanceof ia$2){if(r.number>1){const $=this._layoutViewManager.getAt(r.ownerId);if($){const y=new tr($,r.toGiViewport(),this._renderer);$.addViewport(y)}}}else if(r instanceof hi$2){const $=r.imageFileName;$&&this._missedImages.set(r.objectId,$)}}else this.decreaseNumOfEntitiesToProcess()}}handleGroup(e){const n=e.children,r=new Map;n.forEach(L=>{var V;const z=L.userData.layerName;r.has(z)||r.set(z,[]),(V=r.get(z))==null||V.push(L)}),e.children=[];for(const L of n)L.parent=null;const g=e.styleManager,$=e.objectId,y=e.layerName,k=e.box;r.forEach((L,V)=>{const z=new be$2(g);z.applyMatrix4(e.matrix),z.objectId=$,z.ownerId=e.ownerId,z.layerName=V==="0"?y:V,z.box=k;for(let j=0;j<L.length;j++)z.add(L[j]);this._scene.addEntity(z,!0),z.dispose()}),this._isDirty=!0}decreaseNumOfEntitiesToProcess(){this._numOfEntitiesToProcess--,this._numOfEntitiesToProcess<0&&(this._numOfEntitiesToProcess=0,console.warn("Something wrong! The number of entities to process should not be less than 0."))}}class zm{constructor(){this._loader=new Ag}get baseUrl(){return this._loader.baseUrl}set baseUrl(e){this._loader.baseUrl=e}get avaiableFonts(){return this._loader.avaiableFonts}async getAvaiableFonts(){return await this._loader.getAvailableFonts()}async load(e){const n=await this._loader.load(e),r=[],g=[];n.forEach($=>{$.status==="NotFound"?r.push($.fontName):$.status==="FailedToLoad"&&g.push({fontName:$.fontName,url:$.url})}),r.length>0&&ot$1.emit("fonts-not-found",{fonts:r}),g.length>0&&ot$1.emit("fonts-not-loaded",{fonts:g})}}let La$1=class{convert(e){const n=this.createEntity(e);return n&&this.processCommonAttrs(e,n),n}createEntity(e){return e.type=="3DFACE"?this.convertFace(e):e.type=="ARC"?this.convertArc(e):e.type=="CIRCLE"?this.convertCirle(e):e.type=="DIMENSION"?this.convertDimension(e):e.type=="ELLIPSE"?this.convertEllipse(e):e.type=="HATCH"?this.convertHatch(e):e.type=="IMAGE"?this.convertImage(e):e.type=="LEADER"?this.convertLeader(e):e.type=="LINE"?this.convertLine(e):e.type=="LWPOLYLINE"?this.convertLWPolyline(e):e.type=="MTEXT"?this.convertMText(e):e.type=="POINT"?this.convertPoint(e):e.type=="POLYLINE2D"?this.convertPolyline2d(e):e.type=="POLYLINE3D"?this.convertPolyline3d(e):e.type=="RAY"?this.convertRay(e):e.type=="SPLINE"?this.convertSpline(e):e.type=="ACAD_TABLE"?this.convertTable(e):e.type=="TEXT"?this.convertText(e):e.type=="SOLID"?this.convertSolid(e):e.type=="VIEWPORT"?this.convertViewport(e):e.type=="WIPEOUT"?this.convertWipeout(e):e.type=="XLINE"?this.convertXline(e):e.type=="INSERT"?this.convertBlockReference(e):null}convertFace(e){const n=new Zi$1;return e.corner1&&n.setVertexAt(0,e.corner1),e.corner2&&n.setVertexAt(1,e.corner2),e.corner3&&n.setVertexAt(2,e.corner3),e.corner4&&n.setVertexAt(3,e.corner4),n.setEdgeInvisibilities(e.flag),n}convertArc(e){return new Xi$1(e.center,e.radius,e.startAngle,e.endAngle,e.extrusionDirection??K$1.Z_AXIS)}convertCirle(e){return new Ki$1(e.center,e.radius,e.extrusionDirection??K$1.Z_AXIS)}convertEllipse(e){const n=new K$1(e.majorAxisEndPoint),r=n.length();return new $i$2(e.center,e.extrusionDirection??K$1.Z_AXIS,n,r,r*e.axisRatio,e.startAngle,e.endAngle)}convertLine(e){const n=e.startPoint,r=e.endPoint;return new ai$2(new W$3(n.x,n.y,n.z),new W$3(r.x,r.y,r.z))}convertSpline(e){try{if(e.numberOfControlPoints>0&&e.numberOfKnots>0)return new li$2(e.controlPoints,e.knots,e.weights,e.degree,!!(e.flag&1));if(e.numberOfFitPoints>0)return new li$2(e.fitPoints,"Uniform",e.degree,!!(e.flag&1))}catch(n){console.log(`Failed to convert spline with error: ${n}`)}return null}convertPoint(e){const n=new na$2;return n.position=e.position,n}convertSolid(e){const n=new ea$2;return n.setPointAt(0,{...e.corner1,z:0}),n.setPointAt(1,{...e.corner2,z:0}),n.setPointAt(2,{...e.corner3,z:0}),n.setPointAt(3,e.corner4?{...e.corner4,z:0}:{...e.corner3,z:0}),n.thickness=e.thickness,n}convertLWPolyline(e){const n=new ra$2;return n.closed=!!(e.flag&512),e.vertices.forEach((r,g)=>{n.addVertexAt(g,new Nt$3(r.x,r.y),r.bulge,r.startWidth,r.endWidth)}),n}convertPolyline2d(e){const n=!!(e.flag&1),r=[],g=[];e.vertices.map(y=>{y.flag&16||(r.push({x:y.x,y:y.y,z:y.z}),g.push(y.bulge??0))});let $=Ss$1.SimplePoly;return e.flag&2?$=Ss$1.FitCurvePoly:e.flag&4&&(e.smoothType==6?$=Ss$1.CubicSplinePoly:e.smoothType==5&&($=Ss$1.QuadSplinePoly)),new qi$1($,r,0,n,e.startWidth,e.endWidth,g)}convertPolyline3d(e){const n=!!(e.flag&1),r=[];e.vertices.map($=>{$.flag&16||r.push({x:$.x,y:$.y,z:$.z})});let g=$s.SimplePoly;return e.flag&4&&(e.smoothType==6?g=$s.CubicSplinePoly:e.smoothType==5&&(g=$s.QuadSplinePoly)),new Yi$1(g,r,n)}convertHatch(e){var n;const r=new ii$2;return(n=e.definitionLines)==null||n.forEach(g=>{r.definitionLines.push({angle:g.angle,origin:g.base,delta:g.offset,dashPattern:g.numberOfDashLengths>0?g.dashLengths:[]})}),r.isSolidFill=e.solidFill==1,r.hatchStyle=e.hatchStyle,r.patternName=e.patternName,r.patternType=e.patternType,r.patternAngle=e.patternAngle==null?0:e.patternAngle,r.patternScale=e.patternScale==null?0:e.patternScale,e.boundaryPaths.forEach(g=>{if(g.boundaryPathTypeFlag&2){const $=g,y=new Rn$2;y.closed=$.isClosed,$.vertices.forEach((k,L)=>{y.addVertexAt(L,{x:k.x,y:k.y,bulge:k.bulge})}),r.add(y)}else{const $=g,y=new xl$2;$.edges.forEach(k=>{if(k!=null){if(k.type==1){const L=k;y.add(new Ks(L.start,L.end))}else if(k.type==2){const L=k;y.add(new Es$1(L.center,L.radius,L.startAngle,L.endAngle,!L.isCCW))}else if(k.type==3){const L=k;new te$3().subVectors(L.end,L.center);const V=Math.sqrt(Math.pow(L.end.x,2)+Math.pow(L.end.y,2)),z=V*L.lengthOfMinorAxis;let j=L.startAngle,ie=L.endAngle;const Oe=Math.atan2(L.end.y,L.end.x);L.isCCW||(j=Math.PI*2-j,ie=Math.PI*2-ie),y.add(new va$2({...L.center,z:0},V,z,j,ie,!L.isCCW,Oe))}else if(k.type==4){const L=k;if(L.numberOfControlPoints>0&&L.numberOfKnots>0){const V=L.controlPoints.map(ie=>({x:ie.x,y:ie.y,z:0}));let z=!0;const j=L.controlPoints.map(ie=>(ie.weight==null&&(z=!1),ie.weight||1));y.add(new fn$3(V,L.knots,z?j:void 0))}else if(L.numberOfFitData>0){const V=L.fitDatum.map(z=>({x:z.x,y:z.y,z:0}));y.add(new fn$3(V,"Uniform"))}}}}),r.add(y)}}),r}convertTable(e){const n=new Ji$1(e.name,e.rowCount,e.columnCount);return n.attachmentPoint=e.attachmentPoint,n.position.copy(e.startPoint),e.columnWidthArr.forEach((r,g)=>n.setColumnWidth(g,r)),e.rowHeightArr.forEach((r,g)=>n.setRowHeight(g,r)),e.cells.forEach((r,g)=>{n.setCell(g,r)}),n}convertText(e){const n=new ta$2;return n.textString=e.text,n.styleName=e.styleName,n.height=e.textHeight,n.position.copy(e.startPoint),n.rotation=e.rotation,n.oblique=e.obliqueAngle??0,n.thickness=e.thickness,n.horizontalMode=e.halign,n.verticalMode=e.valign,n.widthFactor=e.xScale??1,n}convertMText(e){const n=new oi$2;return n.contents=e.text,e.styleName!=null&&(n.styleName=e.styleName),n.height=e.textHeight,n.width=e.rectWidth,n.rotation=e.rotation||0,n.location=e.insertionPoint,n.attachmentPoint=e.attachmentPoint,e.direction&&(n.direction=new K$1(e.direction)),n.drawingDirection=e.drawingDirection,n}convertLeader(e){const n=new Qi$1;return e.vertices.forEach(r=>{n.appendVertex(r)}),n.hasArrowHead=e.isArrowheadEnabled,n.hasHookLine=e.isHooklineExists,n.isSplined=e.isSpline,n.dimensionStyle=e.styleName,n.annoType=e.leaderCreationFlag,n}convertDimension(e){if(e.subclassMarker=="AcDbAlignedDimension"||e.subclassMarker=="AcDbRotatedDimension"){const n=e,r=new ha$2(n.subDefinitionPoint1,n.subDefinitionPoint2,n.definitionPoint);return n.insertionPoint&&(r.dimBlockPosition={x:n.insertionPoint.x,y:n.insertionPoint.y,z:0}),r.rotation=n.rotationAngle,this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDb3PointAngularDimension"){const n=e,r=new la$2(n.centerPoint,n.subDefinitionPoint1,n.subDefinitionPoint2,n.definitionPoint);return this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDbOrdinateDimension"){const n=e,r=new ua$2(n.subDefinitionPoint1,n.subDefinitionPoint2);return this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDbRadialDimension"){const n=e,r=new da$2(n.definitionPoint,n.centerPoint,n.leaderLength);return this.processDimensionCommonAttrs(e,r),r}else if(e.subclassMarker=="AcDbDiametricDimension"){const n=e,r=new ca$2(n.definitionPoint,n.centerPoint,n.leaderLength);return this.processDimensionCommonAttrs(e,r),r}return null}processImage(e,n){n.position.copy(e.position),n.brightness=e.brightness,n.contrast=e.contrast,n.fade=e.fade,n.imageDefId=e.imageDefHandle.toString(),n.isClipped=e.clipping>0,n.isShownClipped=(e.flags|4)>0,n.isImageShown=(e.flags|3)>0,n.isImageTransparent=(e.flags|8)>0,e.clippingBoundaryPath.forEach(r=>{n.clipBoundary.push(new Nt$3(r))}),n.clipBoundaryType=e.clippingBoundaryType,n.width=Math.sqrt(e.uPixel.x**2+e.uPixel.y**2+e.uPixel.z**2)*e.imageSize.x,n.height=Math.sqrt(e.vPixel.x**2+e.vPixel.y**2+e.vPixel.z**2)*e.imageSize.y,n.rotation=Math.atan2(e.uPixel.y,e.uPixel.x)}convertImage(e){const n=new hi$2;return this.processImage(e,n),n}convertWipeout(e){const n=new aa$2;return this.processImage(e,n),n}convertViewport(e){const n=new ia$2;return n.number=e.viewportId,n.centerPoint.copy(e.viewportCenter),n.height=e.height,n.width=e.width,n.viewCenter.copy(e.displayCenter),n.viewHeight=e.viewHeight,n}convertRay(e){const n=new sa$2;return n.basePoint.copy(e.firstPoint),n.unitDir.copy(e.unitDirection),n}convertXline(e){const n=new oa$2;return n.basePoint.copy(e.firstPoint),n.unitDir.copy(e.unitDirection),n}convertBlockReference(e){const n=new ks$1(e.name);return e.insertionPoint&&n.position.copy(e.insertionPoint),n.scaleFactors.x=e.xScale,n.scaleFactors.y=e.yScale,n.scaleFactors.z=e.zScale,n.rotation=e.rotation,n.normal.copy(e.extrusionDirection),n}processDimensionCommonAttrs(e,n){n.dimBlockId=e.name,n.textPosition.copy(e.textPoint),n.textRotation=e.textRotation||0,e.textLineSpacingFactor&&(n.textLineSpacingFactor=e.textLineSpacingFactor),e.textLineSpacingStyle&&(n.textLineSpacingStyle=e.textLineSpacingStyle),n.dimensionStyleName=e.styleName,n.dimensionText=e.text||"",n.measurement=e.measurement}processCommonAttrs(e,n){if(n.layer=e.layer||"0",n.objectId=e.handle.toString(),n.ownerId=e.ownerBlockRecordSoftId.toString(),e.lineType!=null&&(n.lineType=e.lineType),e.lineweight!=null&&(n.lineWeight=e.lineweight),e.lineTypeScale!=null&&(n.linetypeScale=e.lineTypeScale),e.color!=null&&n.color.setRGBValue(e.color),e.colorIndex!=null&&(n.color.colorIndex=e.colorIndex),e.colorName&&(n.color.colorName=e.colorName),e.isVisible!=null&&(n.visibility=e.isVisible),e.transparency!=null){const r=new fa$2;r.method=e.transparencyType,(r.isByBlock||r.isByBlock)&&(r.alpha=e.transparency),n.transparency=r}}};class Gm extends Nl$2{constructor(e={}){super(e),e.useWorker=!0,e.parserWorkerUrl||(e.parserWorkerUrl="/assets/libredwg-parser-worker.js")}async parse(e){if(this.config.useWorker&&this.config.parserWorkerUrl){const n=a0({workerUrl:this.config.parserWorkerUrl,maxConcurrentWorkers:1}),r=await n.execute(e);return n.destroy(),r.data}else throw new Error("dwg converter can run in web worker only!")}getFonts(e){const n=new Map;e.tables.BLOCK_RECORD.entries.forEach(y=>{n.set(y.name,y)});const r=new Map,g=y=>{if(y){const k=y.lastIndexOf(".");return k>=0?y.substring(0,k).toLowerCase():y.toLowerCase()}};e.tables.STYLE.entries.forEach(y=>{const k=[];let L=g(y.font);L&&k.push(L),L=g(y.bigFont),L&&k.push(L),r.set(y.name,k)});const $=new Set;return this.getFontsInBlock(e.entities,n,r,$),Array.from($)}getFontsInBlock(e,n,r,g){const $=/\\f(.*?)\|/g;e.forEach(y=>{if(y.type=="MTEXT"){const k=y;[...k.text.matchAll($)].forEach(V=>{g.add(V[1].toLowerCase())});const L=r.get(k.styleName);L==null||L.forEach(V=>g.add(V))}else if(y.type=="TEXT"){const k=y,L=r.get(k.styleName);L==null||L.forEach(V=>g.add(V))}else if(y.type=="INSERT"){const k=y,L=n.get(k.name);L&&this.getFontsInBlock(L.entities,n,r,g)}})}processLineTypes(e,n){e.tables.LTYPE.entries.forEach(r=>{const g={name:r.name,description:r.description,standardFlag:r.standardFlag,totalPatternLength:r.totalPatternLength,pattern:r.pattern},$=new si$2(g);this.processCommonTableEntryAttrs(r,$),$.name=r.name,n.tables.linetypeTable.add($)})}processTextStyles(e,n){e.tables.STYLE.entries.forEach(r=>{const g=new jh$1(r);this.processCommonTableEntryAttrs(r,g),n.tables.textStyleTable.add(g)})}processDimStyles(e,n){e.tables.DIMSTYLE.entries.forEach(r=>{const g={name:r.name,ownerId:r.ownerHandle.toString(),dimpost:r.DIMPOST||"",dimapost:r.DIMAPOST||"",dimscale:r.DIMSCALE,dimasz:r.DIMASZ,dimexo:r.DIMEXO,dimdli:r.DIMDLI,dimexe:r.DIMEXE,dimrnd:r.DIMRND,dimdle:r.DIMDLE,dimtp:r.DIMTP,dimtm:r.DIMTM,dimtxt:r.DIMTXT,dimcen:r.DIMCEN,dimtsz:r.DIMTSZ,dimaltf:r.DIMALTF,dimlfac:r.DIMLFAC,dimtvp:r.DIMTVP,dimtfac:r.DIMTFAC,dimgap:r.DIMGAP,dimaltrnd:r.DIMALTRND,dimtol:r.DIMTOL==null||r.DIMTOL==0?0:1,dimlim:r.DIMLIM==null||r.DIMLIM==0?0:1,dimtih:r.DIMTIH==null||r.DIMTIH==0?0:1,dimtoh:r.DIMTOH==null||r.DIMTOH==0?0:1,dimse1:r.DIMSE1==null||r.DIMSE1==0?0:1,dimse2:r.DIMSE2==null||r.DIMSE2==0?0:1,dimtad:r.DIMTAD,dimzin:r.DIMZIN,dimazin:r.DIMAZIN,dimalt:r.DIMALT,dimaltd:r.DIMALTD,dimtofl:r.DIMTOFL,dimsah:r.DIMSAH,dimtix:r.DIMTIX,dimsoxd:r.DIMSOXD,dimclrd:r.DIMCLRD,dimclre:r.DIMCLRE,dimclrt:r.DIMCLRT,dimadec:r.DIMADEC||0,dimunit:r.DIMUNIT||2,dimdec:r.DIMDEC,dimtdec:r.DIMTDEC,dimaltu:r.DIMALTU,dimalttd:r.DIMALTTD,dimaunit:r.DIMAUNIT,dimfrac:r.DIMFRAC,dimlunit:r.DIMLUNIT,dimdsep:r.DIMDSEP,dimtmove:r.DIMTMOVE||0,dimjust:r.DIMJUST,dimsd1:r.DIMSD1,dimsd2:r.DIMSD2,dimtolj:r.DIMTOLJ,dimtzin:r.DIMTZIN,dimaltz:r.DIMALTZ,dimalttz:r.DIMALTTZ,dimfit:r.DIMFIT||0,dimupt:r.DIMUPT,dimatfit:r.DIMATFIT,dimtxsty:"Standard",dimldrblk:"",dimblk:r.DIMBLK||"",dimblk1:r.DIMBLK1||"",dimblk2:r.DIMBLK2||"",dimlwd:r.DIMLWD,dimlwe:r.DIMLWE},$=new Ts$1(g);this.processCommonTableEntryAttrs(r,$),n.tables.dimStyleTable.add($)})}processLayers(e,n){e.tables.LAYER.entries.forEach(r=>{const g=new Kr$1;g.colorIndex=r.colorIndex;const $=new Ma$2({name:r.name,standardFlags:r.standardFlag,linetype:r.lineType,lineWeight:r.lineweight,isOff:r.off,color:g,isPlottable:r.plotFlag!=0});this.processCommonTableEntryAttrs(r,$),n.tables.layerTable.add($)})}processViewports(e,n){e.tables.VPORT.entries.forEach(r=>{const g=new x0;this.processCommonTableEntryAttrs(r,g),r.circleSides&&(g.circleSides=r.circleSides),g.standardFlag=r.standardFlag,g.center.copy(r.center),g.lowerLeftCorner.copy(r.lowerLeftCorner),g.upperRightCorner.copy(r.upperRightCorner),r.snapBasePoint&&g.snapBase.copy(r.snapBasePoint),r.snapRotationAngle&&(g.snapAngle=r.snapRotationAngle),r.snapSpacing&&g.snapIncrements.copy(r.snapSpacing),r.majorGridLines&&(g.gridMajor=r.majorGridLines),r.gridSpacing&&g.gridIncrements.copy(r.gridSpacing),r.backgroundObjectId&&(g.backgroundObjectId=r.backgroundObjectId),g.gsView.center.copy(r.center),g.gsView.viewDirectionFromTarget.copy(r.viewDirectionFromTarget),g.gsView.viewTarget.copy(r.viewTarget),r.lensLength&&(g.gsView.lensLength=r.lensLength),r.frontClippingPlane&&(g.gsView.frontClippingPlane=r.frontClippingPlane),r.backClippingPlane&&(g.gsView.backClippingPlane=r.backClippingPlane),r.viewHeight&&(g.gsView.viewHeight=r.viewHeight),r.viewTwistAngle&&(g.gsView.viewTwistAngle=r.viewTwistAngle),r.frozenLayers&&(g.gsView.frozenLayers=r.frozenLayers),r.styleSheet&&(g.gsView.styleSheet=r.styleSheet),r.renderMode&&(g.gsView.renderMode=r.renderMode),r.viewMode&&(g.gsView.viewMode=r.viewMode),r.ucsIconSetting&&(g.gsView.ucsIconSetting=r.ucsIconSetting),r.ucsOrigin&&g.gsView.ucsOrigin.copy(r.ucsOrigin),r.ucsXAxis&&g.gsView.ucsXAxis.copy(r.ucsXAxis),r.ucsYAxis&&g.gsView.ucsYAxis.copy(r.ucsYAxis),r.orthographicType&&(g.gsView.orthographicType=r.orthographicType),r.shadePlotSetting&&(g.gsView.shadePlotSetting=r.shadePlotSetting),r.shadePlotObjectId&&(g.gsView.shadePlotObjectId=r.shadePlotObjectId),r.visualStyleObjectId&&(g.gsView.visualStyleObjectId=r.visualStyleObjectId),r.isDefaultLightingOn&&(g.gsView.isDefaultLightingOn=r.isDefaultLightingOn),r.defaultLightingType&&(g.gsView.defaultLightingType=r.defaultLightingType),r.brightness&&(g.gsView.brightness=r.brightness),r.contrast&&(g.gsView.contrast=r.contrast),r.ambientColor&&(g.gsView.ambientColor=r.ambientColor),n.tables.viewportTable.add(g)})}processBlockTables(e,n){e.tables.BLOCK_RECORD.entries.forEach(r=>{let g=n.tables.blockTable.getAt(r.name);g||(g=new me$3,g.objectId=r.handle.toString(),g.name=r.name,g.ownerId=r.ownerHandle.toString(),g.origin.copy(r.basePoint),g.layoutId=r.layout.toString(),n.tables.blockTable.add(g)),!g.isModelSapce&&!g.isPaperSapce&&r.entities&&r.entities.length>0&&this.processEntitiesInBlock(r.entities,g)})}processBlocks(e,n){}async processEntitiesInBlock(e,n){const r=new La$1,g=e.length,$=[];for(let y=0;y<g;y++){const k=e[y],L=r.convert(k);L&&$.push(L)}n.appendEntity($)}async processEntities(e,n,r,g,$){const y=new La$1;let k=e.entities;const L=k.length,V=new Jo$2(L,100-g.value,r);this.config.convertByEntityType&&(k=this.groupAndFlattenByType(k));const z=n.tables.blockTable.modelSpace;await V.processChunk(async(j,ie)=>{const Oe=[];for(let ur=j;ur<ie;ur++){const hr=k[ur],Vr=y.convert(hr);Vr&&Oe.push(Vr)}if(z.appendEntity(Oe),$){let ur=g.value+ie/L*(100-g.value);ur>100&&(ur=100),await $(ur,"ENTITY","IN-PROGRESS")}})}processHeader(e,n){const r=e.header;r.CECOLOR&&(r.CECOLOR.index>=0&&r.CECOLOR.index<=256?n.cecolor.colorIndex=r.CECOLOR.index:n.cecolor.setRGBValue(r.CECOLOR.rgb)),n.angBase=r.ANGBASE??0,n.angDir=r.ANGDIR??0,n.aunits=r.AUNITS??0,r.EXTMAX&&(n.extmax=r.EXTMAX),r.EXTMIN&&(n.extmin=r.EXTMIN),n.insunits=r.INSUNITS??1,n.pdmode=r.PDMODE??0,n.pdsize=r.PDSIZE??0}processCommonTableEntryAttrs(e,n){n.name=e.name,n.objectId=e.handle.toString(),n.ownerId=e.ownerHandle.toString()}processObjects(e,n){this.processLayouts(e,n),this.processImageDefs(e,n)}processLayouts(e,n){const r=n.dictionaries.layouts;e.objects.LAYOUT.forEach(g=>{const $=new wa$2;$.layoutName=g.layoutName,$.tabOrder=g.tabOrder;const y=n.tables.blockTable.newIterator();$.objectId=g.handle.toString();for(const k of y)if(k.layoutId===$.objectId){$.blockTableRecordId=k.objectId;break}$.blockTableRecordId||g.layoutName==="Model"&&($.blockTableRecordId=n.tables.blockTable.modelSpace.objectId),$.limits.min.copy(g.minLimit),$.limits.max.copy(g.maxLimit),$.extents.min.copy(g.minExtent),$.extents.max.copy(g.maxExtent),this.processCommonObjectAttrs(g,$),r.setAt($.layoutName,$)})}processImageDefs(e,n){const r=n.dictionaries.imageDefs;e.objects.IMAGEDEF.forEach(g=>{const $=new mu$1;$.sourceFileName=g.fileName,this.processCommonObjectAttrs(g,$),r.setAt($.objectId,$)})}processCommonObjectAttrs(e,n){n.objectId=e.handle.toString(),n.ownerId=e.ownerHandle.toString()}groupAndFlattenByType(e){const n={},r=[];for(const g of e)n[g.type]||(n[g.type]=[],r.push(g.type)),n[g.type].push(g);return r.flatMap(g=>n[g])}}function jm(){try{const t=new o0({convertByEntityType:!1,useWorker:!0,parserWorkerUrl:"./assets/dxf-parser-worker.js"});Nr$1.instance.register(ni$2.DXF,t)}catch(t){console.error("Failed to register dxf converter: ",t)}try{const t=new Gm({convertByEntityType:!1,useWorker:!0,parserWorkerUrl:"./assets/libredwg-parser-worker.js"});Nr$1.instance.register(ni$2.DWG,t)}catch(t){console.error("Failed to register dwg converter: ",t)}}function Vm(){jm(),typeof window<"u"&&window.location&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?lt$1.getInstance().initialize("/assets/mtext-renderer-worker.js"):lt$1.getInstance().initialize("./mtext-renderer-worker.js")}const $e$1=class l_{constructor(e={}){this.options={size:e.size??"48px",borderWidth:e.borderWidth??"5px",color:e.color??"#0b84ff",overlay:e.overlay??!0,overlayColor:e.overlayColor??"rgba(0,0,0,0.5)",message:e.message??""},l_.stylesInjected||this.injectStyles(),this.createDom()}show(){return this.root.style.display="flex",this}hide(){return this.root.style.display="none",this}setMessage(e=""){return this.messageEl.textContent=e,this.messageEl.style.display=e?"block":"none",this}destroy(){var e;(e=this.root)!=null&&e.parentNode&&this.root.parentNode.removeChild(this.root)}createDom(){const e=document.createElement("div");e.className="ml-ccl-overlay",e.style.display="flex",e.style.background=this.options.overlay?this.options.overlayColor:"transparent";const n=document.createElement("div");n.className="ml-ccl-spinner",n.style.width=this.options.size,n.style.height=this.options.size,n.style.borderWidth=this.options.borderWidth,n.style.borderTopColor=this.options.color;const r=document.createElement("div");r.className="ml-ccl-message",r.textContent=this.options.message,r.style.display=this.options.message?"block":"none";const g=document.createElement("div");g.className="ml-ccl-wrapper",g.appendChild(n),g.appendChild(r),e.appendChild(g),document.body.appendChild(e),this.root=e,this.spinner=n,this.messageEl=r}injectStyles(){if(document.getElementById(l_.styleId)){l_.stylesInjected=!0;return}const e=`
  .ml-ccl-overlay {
    position: fixed;
    inset: 0;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    pointer-events: auto;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
  }
  
  .ml-ccl-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .ml-ccl-spinner {
    border-radius: 50%;
    border-style: solid;
    border-color: rgba(0,0,0,0.25);
    border-top-color: #0b84ff;
    animation: ml-ccl-rotate 0.85s linear infinite;
    box-sizing: border-box;
  }
  
  .ml-ccl-message {
    margin-top: 12px;
    font-size: 14px;
    color: #FFF;
    text-align: center;
    user-select: none;
  }
  
  @keyframes ml-ccl-rotate {
    to { transform: rotate(360deg); }
  }
      `.trim(),n=document.createElement("style");n.id=l_.styleId,n.textContent=e,document.head.appendChild(n),l_.stylesInjected=!0}};$e$1.styleId="ml-ccl-loader-styles",$e$1.stylesInjected=!1;let hs=$e$1;const Hm={isDebug:!1,isShowCommandLine:!0,isShowCoordinate:!0,isShowEntityInfo:!1,isShowLanguageSelector:!0,isShowMainMenu:!0,isShowToolbar:!0,isShowStats:!1,fontMapping:{}},Ba$1="settings";let Ze$2=class v2{constructor(){this.events={modified:new oe$2}}static get instance(){return this._instance||(this._instance=new v2),this._instance}set(e,n){const r=this.settings;r[e]=n,localStorage.setItem(Ba$1,JSON.stringify(r)),this.events.modified.dispatch({key:e,value:n})}get(e){return this.settings[e]}toggle(e){const n=this.get(e);this.set(e,!n)}get isDebug(){return this.get("isDebug")}set isDebug(e){this.set("isDebug",e)}get isShowCommandLine(){return this.get("isShowCommandLine")}set isShowCommandLine(e){this.set("isShowCommandLine",e)}get isShowCoordinate(){return this.get("isShowCoordinate")}set isShowCoordinate(e){this.set("isShowCoordinate",e)}get isShowEntityInfo(){return this.get("isShowEntityInfo")}set isShowEntityInfo(e){this.set("isShowEntityInfo",e)}get isShowLanguageSelector(){return this.get("isShowLanguageSelector")}set isShowLanguageSelector(e){this.set("isShowLanguageSelector",e)}get isShowMainMenu(){return this.get("isShowMainMenu")}set isShowMainMenu(e){this.set("isShowMainMenu",e)}get isShowToolbar(){return this.get("isShowToolbar")}set isShowToolbar(e){this.set("isShowToolbar",e)}get isShowStats(){return this.get("isShowStats")}set isShowStats(e){this.set("isShowStats",e)}get fontMapping(){return this.get("fontMapping")}set fontMapping(e){this.set("fontMapping",e)}setFontMapping(e,n){const r=this.get("fontMapping");r[e]=n,this.set("fontMapping",r)}get settings(){const e=localStorage.getItem(Ba$1),n=e==null?{}:JSON.parse(e);return defaults(n,Hm)}};const Wm="https://mlightcad.gitlab.io/cad-data/";let ee$1=class Kb{constructor(e={}){this.events={documentCreated:new oe$2,documentActivated:new oe$2},this._baseUrl=e.baseUrl??Wm,e.useMainThreadDraw?lt$1.getInstance().setRenderMode("main"):lt$1.getInstance().setRenderMode("worker");const n=new Cl$1;n.database.events.openProgress.addEventListener($=>{const y={database:n.database,percentage:$.percentage,stage:$.stage,subStage:$.subStage,subStageStatus:$.subStageStatus,data:$.data};ot$1.emit("open-file-progress",y),this.updateProgress(y)});const r=()=>({width:window.innerWidth,height:window.innerHeight-30}),g=new Nm({canvas:e.canvas,calculateSizeCallback:r});this._context=new Kc(g,n),this._fontLoader=new zm,this._fontLoader.baseUrl=this._baseUrl+"fonts/",Gh$1().workingDatabase=n.database,this.registerCommands(),this._progress=new hs,this._progress.hide(),e.notLoadDefaultFonts||this.loadDefaultFonts(),Vm(),this.createCommandLine()}static createInstance(e={}){return Kb._instance==null&&(Kb._instance=new Kb(e)),this._instance}static get instance(){return Kb._instance||(Kb._instance=new Kb),Kb._instance}get context(){return this._context}get curDocument(){return this._context.doc}get mdiActiveDocument(){return this._context.doc}get curView(){return this._context.view}get editor(){return this._context.view.editor}get baseUrl(){return this._baseUrl}get avaiableFonts(){return this._fontLoader.avaiableFonts}async loadFonts(e){await this._fontLoader.load(e)}async loadDefaultFonts(e){e==null?await this._fontLoader.load(["simkai"]):await this._fontLoader.load(e)}async openUrl(e,n){this.onBeforeOpenDocument(),n=this.setOptions(n);const r=await this.context.doc.openUri(e,n);return this.onAfterOpenDocument(r),r}async openDocument(e,n,r){this.onBeforeOpenDocument(),r=this.setOptions(r);const g=await this.context.doc.openDocument(e,n,r);return this.onAfterOpenDocument(g),g}regen(){this.curView.clear(),this.context.doc.database.regen()}registerCommands(){const e=Q$1.instance;e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"circle","circle",new Zg),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"csvg","csvg",new nm),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"dimlinear","dimlinear",new sm),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"line","line",new am),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"log","log",new om),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"open","open",new cm),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"pan","pan",new gm),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"qnew","qnew",new lm),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"regen","regen",new hm),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"select","select",new um),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"zoom","zoom",new pm),e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"zoomw","zoomw",new fm),Xo$2.instance().getAllDescriptors().forEach(n=>{e.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,n.name,n.name,new dm)})}sendStringToExecute(e){const n=Q$1.instance.lookupGlobalCmd(e);n==null||n.execute(this.context)}setActiveLayout(){const e=this.curView;e.activeLayoutBtrId=this.curDocument.database.currentSpaceId,e.modelSpaceBtrId=this.curDocument.database.currentSpaceId}onBeforeOpenDocument(){this.curView.clear()}onAfterOpenDocument(e){if(e){const n=this.context.doc;this.events.documentActivated.dispatch({doc:n}),this.setActiveLayout();const r=n.database;r.extents.isEmpty()?this.curView.zoomToFitDrawing():this.curView.zoomTo(new Se$2(r.extmin,r.extmax))}}setOptions(e){return e==null?e={fontLoader:this._fontLoader}:e.fontLoader==null&&(e.fontLoader=this._fontLoader),e}updateProgress(e){if(e.stage==="CONVERSION"){if(e.subStage){const n="main.progress."+e.subStage.replace(/_/g,"").toLowerCase();this._progress.setMessage(ce$1.t(n))}}else e.stage==="FETCH_FILE"&&this._progress.setMessage(ce$1.t("main.message.fetchingDrawingFile"));e.percentage>=100?this._progress.hide():this._progress.show()}createCommandLine(){const e=new cl$1(document.body);e.visible=Ze$2.instance.isShowCommandLine,Ze$2.instance.events.modified.addEventListener(()=>{e.visible=Ze$2.instance.isShowCommandLine})}};/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function makeMap(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn$1=(t,e)=>hasOwnProperty$2.call(t,e),isArray$1=Array.isArray,isMap=t=>toTypeString$1(t)==="[object Map]",isSet=t=>toTypeString$1(t)==="[object Set]",isDate$1=t=>toTypeString$1(t)==="[object Date]",isFunction$1=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$2=t=>t!==null&&typeof t=="object",isPromise$1=t=>(isObject$2(t)||isFunction$1(t))&&isFunction$1(t.then)&&isFunction$1(t.catch),objectToString$1=Object.prototype.toString,toTypeString$1=t=>objectToString$1.call(t),toRawType=t=>toTypeString$1(t).slice(8,-1),isPlainObject$1=t=>toTypeString$1(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-\w/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,e=>e.slice(1).toUpperCase())),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$2=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize$2(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},def=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},looseToNumber$1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber=t=>{const e=isString$1(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(t){if(isArray$1(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],g=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(g)for(const $ in g)e[$]=g[$]}return e}else if(isString$1(t)||isObject$2(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$1(t))e=t;else if(isArray$1(t))for(let n=0;n<t.length;n++){const r=normalizeClass(t[n]);r&&(e+=r+" ")}else if(isObject$2(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function normalizeProps(t){if(!t)return null;let{class:e,style:n}=t;return e&&!isString$1(e)&&(t.class=normalizeClass(e)),n&&(t.style=normalizeStyle(n)),t}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=looseEqual(t[r],e[r]);return n}function looseEqual(t,e){if(t===e)return!0;let n=isDate$1(t),r=isDate$1(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=isSymbol(t),r=isSymbol(e),n||r)return t===e;if(n=isArray$1(t),r=isArray$1(e),n||r)return n&&r?looseCompareArrays(t,e):!1;if(n=isObject$2(t),r=isObject$2(e),n||r){if(!n||!r)return!1;const g=Object.keys(t).length,$=Object.keys(e).length;if(g!==$)return!1;for(const y in t){const k=t.hasOwnProperty(y),L=e.hasOwnProperty(y);if(k&&!L||!k&&L||!looseEqual(t[y],e[y]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(n=>looseEqual(n,e))}const isRef$1=t=>!!(t&&t.__v_isRef===!0),toDisplayString$1=t=>isString$1(t)?t:t==null?"":isArray$1(t)||isObject$2(t)&&(t.toString===objectToString$1||!isFunction$1(t.toString))?isRef$1(t)?toDisplayString$1(t.value):JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>isRef$1(e)?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,g],$)=>(n[stringifySymbol(r,$)+" =>"]=g,n),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>stringifySymbol(n))}:isSymbol(e)?stringifySymbol(e):isObject$2(e)&&!isArray$1(e)&&!isPlainObject$1(e)?String(e):e,stringifySymbol=(t,e="")=>{var n;return isSymbol(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function normalizeCssVarValue(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=n}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function effectScope(t){return new EffectScope(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t,e=!1){activeEffectScope&&activeEffectScope.cleanups.push(t)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const e=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=e,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)removeSub(e);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(t,e=!1){if(t.flags|=8,e){t.next=batchedComputed,batchedComputed=t;return}t.next=batchedSub,batchedSub=t}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let e=batchedComputed;for(batchedComputed=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;batchedSub;){let e=batchedSub;for(batchedSub=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function prepareDeps(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cleanupDeps(t){let e,n=t.depsTail,r=n;for(;r;){const g=r.prevDep;r.version===-1?(r===n&&(n=g),removeSub(r),removeDep(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=g}t.deps=e,t.depsTail=n}function isDirty(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(refreshComputed(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function refreshComputed(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===globalVersion)||(t.globalVersion=globalVersion,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!isDirty(t))))return;t.flags|=2;const e=t.dep,n=activeSub,r=shouldTrack;activeSub=t,shouldTrack=!0;try{prepareDeps(t);const g=t.fn(t._value);(e.version===0||hasChanged(g,t._value))&&(t.flags|=128,t._value=g,e.version++)}catch(g){throw e.version++,g}finally{activeSub=n,shouldTrack=r,cleanupDeps(t),t.flags&=-3}}function removeSub(t,e=!1){const{dep:n,prevSub:r,nextSub:g}=t;if(r&&(r.nextSub=g,t.prevSub=void 0),g&&(g.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let $=n.computed.deps;$;$=$.nextDep)removeSub($,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function cleanupEffect(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=activeSub;activeSub=void 0;try{e()}finally{activeSub=n}}}let globalVersion=0,Link$1=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Dep{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link$1(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=r)}return n}trigger(e){this.version++,globalVersion++,this.notify(e)}notify(e){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)addSub(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(t,e,n){if(shouldTrack&&activeSub){let r=targetMap.get(t);r||targetMap.set(t,r=new Map);let g=r.get(n);g||(r.set(n,g=new Dep),g.map=r,g.key=n),g.track()}}function trigger(t,e,n,r,g,$){const y=targetMap.get(t);if(!y){globalVersion++;return}const k=L=>{L&&L.trigger()};if(startBatch(),e==="clear")y.forEach(k);else{const L=isArray$1(t),V=L&&isIntegerKey(n);if(L&&n==="length"){const z=Number(r);y.forEach((j,ie)=>{(ie==="length"||ie===ARRAY_ITERATE_KEY||!isSymbol(ie)&&ie>=z)&&k(j)})}else switch((n!==void 0||y.has(void 0))&&k(y.get(n)),V&&k(y.get(ARRAY_ITERATE_KEY)),e){case"add":L?V&&k(y.get("length")):(k(y.get(ITERATE_KEY)),isMap(t)&&k(y.get(MAP_KEY_ITERATE_KEY)));break;case"delete":L||(k(y.get(ITERATE_KEY)),isMap(t)&&k(y.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&k(y.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(t,e){const n=targetMap.get(t);return n&&n.get(e)}function reactiveReadArray(t){const e=toRaw(t);return e===t?e:(track(e,"iterate",ARRAY_ITERATE_KEY),isShallow(t)?e:e.map(toReactive$1))}function shallowReadArray(t){return track(t=toRaw(t),"iterate",ARRAY_ITERATE_KEY),t}function toWrapped(t,e){return isReadonly(t)?isReactive(t)?toReadonly(toReactive$1(e)):toReadonly(e):toReactive$1(e)}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,t=>toWrapped(this,t))},concat(...t){return reactiveReadArray(this).concat(...t.map(e=>isArray$1(e)?reactiveReadArray(e):e))},entries(){return iterator(this,"entries",t=>(t[1]=toWrapped(this,t[1]),t))},every(t,e){return apply$1(this,"every",t,e,void 0,arguments)},filter(t,e){return apply$1(this,"filter",t,e,n=>n.map(r=>toWrapped(this,r)),arguments)},find(t,e){return apply$1(this,"find",t,e,n=>toWrapped(this,n),arguments)},findIndex(t,e){return apply$1(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return apply$1(this,"findLast",t,e,n=>toWrapped(this,n),arguments)},findLastIndex(t,e){return apply$1(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return apply$1(this,"forEach",t,e,void 0,arguments)},includes(...t){return searchProxy(this,"includes",t)},indexOf(...t){return searchProxy(this,"indexOf",t)},join(t){return reactiveReadArray(this).join(t)},lastIndexOf(...t){return searchProxy(this,"lastIndexOf",t)},map(t,e){return apply$1(this,"map",t,e,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...t){return noTracking(this,"push",t)},reduce(t,...e){return reduce(this,"reduce",t,e)},reduceRight(t,...e){return reduce(this,"reduceRight",t,e)},shift(){return noTracking(this,"shift")},some(t,e){return apply$1(this,"some",t,e,void 0,arguments)},splice(...t){return noTracking(this,"splice",t)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(t){return reactiveReadArray(this).toSorted(t)},toSpliced(...t){return reactiveReadArray(this).toSpliced(...t)},unshift(...t){return noTracking(this,"unshift",t)},values(){return iterator(this,"values",t=>toWrapped(this,t))}};function iterator(t,e,n){const r=shallowReadArray(t),g=r[e]();return r!==t&&!isShallow(t)&&(g._next=g.next,g.next=()=>{const $=g._next();return $.done||($.value=n($.value)),$}),g}const arrayProto=Array.prototype;function apply$1(t,e,n,r,g,$){const y=shallowReadArray(t),k=y!==t&&!isShallow(t),L=y[e];if(L!==arrayProto[e]){const j=L.apply(t,$);return k?toReactive$1(j):j}let V=n;y!==t&&(k?V=function(j,ie){return n.call(this,toWrapped(t,j),ie,t)}:n.length>2&&(V=function(j,ie){return n.call(this,j,ie,t)}));const z=L.call(y,V,r);return k&&g?g(z):z}function reduce(t,e,n,r){const g=shallowReadArray(t);let $=n;return g!==t&&(isShallow(t)?n.length>3&&($=function(y,k,L){return n.call(this,y,k,L,t)}):$=function(y,k,L){return n.call(this,y,toWrapped(t,k),L,t)}),g[e]($,...r)}function searchProxy(t,e,n){const r=toRaw(t);track(r,"iterate",ARRAY_ITERATE_KEY);const g=r[e](...n);return(g===-1||g===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),r[e](...n)):g}function noTracking(t,e,n=[]){pauseTracking(),startBatch();const r=toRaw(t)[e].apply(t,n);return endBatch(),resetTracking(),r}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol));function hasOwnProperty$1(t){isSymbol(t)||(t=String(t));const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}class BaseReactiveHandler{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const g=this._isReadonly,$=this._isShallow;if(n==="__v_isReactive")return!g;if(n==="__v_isReadonly")return g;if(n==="__v_isShallow")return $;if(n==="__v_raw")return r===(g?$?shallowReadonlyMap:readonlyMap:$?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const y=isArray$1(e);if(!g){let L;if(y&&(L=arrayInstrumentations[n]))return L;if(n==="hasOwnProperty")return hasOwnProperty$1}const k=Reflect.get(e,n,isRef(e)?e:r);if((isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(g||track(e,"get",n),$))return k;if(isRef(k)){const L=y&&isIntegerKey(n)?k:k.value;return g&&isObject$2(L)?readonly(L):L}return isObject$2(k)?g?readonly(k):reactive(k):k}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,n,r,g){let $=e[n];const y=isArray$1(e)&&isIntegerKey(n);if(!this._isShallow){const V=isReadonly($);if(!isShallow(r)&&!isReadonly(r)&&($=toRaw($),r=toRaw(r)),!y&&isRef($)&&!isRef(r))return V||($.value=r),!0}const k=y?Number(n)<e.length:hasOwn$1(e,n),L=Reflect.set(e,n,r,isRef(e)?e:g);return e===toRaw(g)&&(k?hasChanged(r,$)&&trigger(e,"set",n,r):trigger(e,"add",n,r)),L}deleteProperty(e,n){const r=hasOwn$1(e,n);e[n];const g=Reflect.deleteProperty(e,n);return g&&r&&trigger(e,"delete",n,void 0),g}has(e,n){const r=Reflect.has(e,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(e,"has",n),r}ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function createIterableMethod(t,e,n){return function(...r){const g=this.__v_raw,$=toRaw(g),y=isMap($),k=t==="entries"||t===Symbol.iterator&&y,L=t==="keys"&&y,V=g[t](...r),z=n?toShallow:e?toReadonly:toReactive$1;return!e&&track($,"iterate",L?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:j,done:ie}=V.next();return ie?{value:j,done:ie}:{value:k?[z(j[0]),z(j[1])]:z(j),done:ie}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function createInstrumentations(t,e){const n={get(g){const $=this.__v_raw,y=toRaw($),k=toRaw(g);t||(hasChanged(g,k)&&track(y,"get",g),track(y,"get",k));const{has:L}=getProto(y),V=e?toShallow:t?toReadonly:toReactive$1;if(L.call(y,g))return V($.get(g));if(L.call(y,k))return V($.get(k));$!==y&&$.get(g)},get size(){const g=this.__v_raw;return!t&&track(toRaw(g),"iterate",ITERATE_KEY),g.size},has(g){const $=this.__v_raw,y=toRaw($),k=toRaw(g);return t||(hasChanged(g,k)&&track(y,"has",g),track(y,"has",k)),g===k?$.has(g):$.has(g)||$.has(k)},forEach(g,$){const y=this,k=y.__v_raw,L=toRaw(k),V=e?toShallow:t?toReadonly:toReactive$1;return!t&&track(L,"iterate",ITERATE_KEY),k.forEach((z,j)=>g.call($,V(z),V(j),y))}};return extend(n,t?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(g){!e&&!isShallow(g)&&!isReadonly(g)&&(g=toRaw(g));const $=toRaw(this);return getProto($).has.call($,g)||($.add(g),trigger($,"add",g,g)),this},set(g,$){!e&&!isShallow($)&&!isReadonly($)&&($=toRaw($));const y=toRaw(this),{has:k,get:L}=getProto(y);let V=k.call(y,g);V||(g=toRaw(g),V=k.call(y,g));const z=L.call(y,g);return y.set(g,$),V?hasChanged($,z)&&trigger(y,"set",g,$):trigger(y,"add",g,$),this},delete(g){const $=toRaw(this),{has:y,get:k}=getProto($);let L=y.call($,g);L||(g=toRaw(g),L=y.call($,g)),k&&k.call($,g);const V=$.delete(g);return L&&trigger($,"delete",g,void 0),V},clear(){const g=toRaw(this),$=g.size!==0,y=g.clear();return $&&trigger(g,"clear",void 0,void 0),y}}),["keys","values","entries",Symbol.iterator].forEach(g=>{n[g]=createIterableMethod(g,t,e)}),n}function createInstrumentationGetter(t,e){const n=createInstrumentations(t,e);return(r,g,$)=>g==="__v_isReactive"?!t:g==="__v_isReadonly"?t:g==="__v_raw"?r:Reflect.get(hasOwn$1(n,g)&&g in r?n:r,g,$)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,n,r,g){if(!isObject$2(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const $=getTargetType(t);if($===0)return t;const y=g.get(t);if(y)return y;const k=new Proxy(t,$===2?r:n);return g.set(t,k),k}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return t?!!t.__v_raw:!1}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return!hasOwn$1(t,"__v_skip")&&Object.isExtensible(t)&&def(t,"__v_skip",!0),t}const toReactive$1=t=>isObject$2(t)?reactive(t):t,toReadonly=t=>isObject$2(t)?readonly(t):t;function isRef(t){return t?t.__v_isRef===!0:!1}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:toRaw(e),this._value=n?e:toReactive$1(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,n)&&(this._rawValue=e,this._value=r?e:toReactive$1(e),this.dep.trigger())}}function triggerRef(t){t.dep&&t.dep.trigger()}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,n)=>e==="__v_raw"?t:unref(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const g=t[e];return isRef(g)&&!isRef(n)?(g.value=n,!0):Reflect.set(t,e,n,r)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Dep,{get:r,set:g}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=g}get value(){return this._value=this._get()}set value(e){this._set(e)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const e=isArray$1(t)?new Array(t.length):{};for(const n in t)e[n]=propertyToRef(t,n);return e}class ObjectRefImpl{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=toRaw(e);let g=!0,$=e;if(!isArray$1(e)||!isIntegerKey(String(n)))do g=!isProxy($)||isShallow($);while(g&&($=$.__v_raw));this._shallow=g}get value(){let e=this._object[this._key];return this._shallow&&(e=unref(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&isRef(this._raw[this._key])){const n=this._object[this._key];if(isRef(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return getDepFromReactive(this._raw,this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef$1(t,e,n){return isRef(t)?t:isFunction$1(t)?new GetterRefImpl(t):isObject$2(t)&&arguments.length>1?propertyToRef(t,e,n):ref(t)}function propertyToRef(t,e,n){return new ObjectRefImpl(t,e,n)}class ComputedRefImpl{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const e=this.dep.track();return refreshComputed(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function computed$1(t,e,n=!1){let r,g;return isFunction$1(t)?r=t:(r=t.get,g=t.set),new ComputedRefImpl(r,g,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(t,e=!1,n=activeWatcher){if(n){let r=cleanupMap.get(n);r||cleanupMap.set(n,r=[]),r.push(t)}}function watch$1(t,e,n=EMPTY_OBJ){const{immediate:r,deep:g,once:$,scheduler:y,augmentJob:k,call:L}=n,V=Xs=>g?Xs:isShallow(Xs)||g===!1||g===0?traverse(Xs,1):traverse(Xs);let z,j,ie,Oe,ur=!1,hr=!1;if(isRef(t)?(j=()=>t.value,ur=isShallow(t)):isReactive(t)?(j=()=>V(t),ur=!0):isArray$1(t)?(hr=!0,ur=t.some(Xs=>isReactive(Xs)||isShallow(Xs)),j=()=>t.map(Xs=>{if(isRef(Xs))return Xs.value;if(isReactive(Xs))return V(Xs);if(isFunction$1(Xs))return L?L(Xs,2):Xs()})):isFunction$1(t)?e?j=L?()=>L(t,2):t:j=()=>{if(ie){pauseTracking();try{ie()}finally{resetTracking()}}const Xs=activeWatcher;activeWatcher=z;try{return L?L(t,3,[Oe]):t(Oe)}finally{activeWatcher=Xs}}:j=NOOP,e&&g){const Xs=j,rc=g===!0?1/0:g;j=()=>traverse(Xs(),rc)}const Vr=getCurrentScope(),dr=()=>{z.stop(),Vr&&Vr.active&&remove(Vr.effects,z)};if($&&e){const Xs=e;e=(...rc)=>{Xs(...rc),dr()}}let ec=hr?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const tc=Xs=>{if(!(!(z.flags&1)||!z.dirty&&!Xs))if(e){const rc=z.run();if(g||ur||(hr?rc.some((ic,_c)=>hasChanged(ic,ec[_c])):hasChanged(rc,ec))){ie&&ie();const ic=activeWatcher;activeWatcher=z;try{const _c=[rc,ec===INITIAL_WATCHER_VALUE?void 0:hr&&ec[0]===INITIAL_WATCHER_VALUE?[]:ec,Oe];ec=rc,L?L(e,3,_c):e(..._c)}finally{activeWatcher=ic}}}else z.run()};return k&&k(tc),z=new ReactiveEffect(j),z.scheduler=y?()=>y(tc,!1):tc,Oe=Xs=>onWatcherCleanup(Xs,!1,z),ie=z.onStop=()=>{const Xs=cleanupMap.get(z);if(Xs){if(L)L(Xs,4);else for(const rc of Xs)rc();cleanupMap.delete(z)}},e?r?tc(!0):ec=z.run():y?y(tc.bind(null,!0),!0):z.run(),dr.pause=z.pause.bind(z),dr.resume=z.resume.bind(z),dr.stop=dr,dr}function traverse(t,e=1/0,n){if(e<=0||!isObject$2(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,isRef(t))traverse(t.value,e,n);else if(isArray$1(t))for(let r=0;r<t.length;r++)traverse(t[r],e,n);else if(isSet(t)||isMap(t))t.forEach(r=>{traverse(r,e,n)});else if(isPlainObject$1(t)){for(const r in t)traverse(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&traverse(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(t,...e){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,r=n&&n.appContext.config.warnHandler,g=getComponentTrace();if(r)callWithErrorHandling(r,n,11,[t+e.map($=>{var y,k;return(k=(y=$.toString)==null?void 0:y.call($))!=null?k:JSON.stringify($)}).join(""),n&&n.proxy,g.map(({vnode:$})=>`at <${formatComponentName(n,$.type)}>`).join(`
`),g]);else{const $=[`[Vue warn]: ${t}`,...e];g.length&&$.push(`
`,...formatTrace(g)),console.warn(...$)}resetTracking(),isWarning=!1}function getComponentTrace(){let t=stack[stack.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function formatTrace(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...formatTraceEntry(n))}),e}function formatTraceEntry({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,g=` at <${formatComponentName(t.component,t.type,r)}`,$=">"+n;return t.props?[g,...formatProps(t.props),$]:[g+$]}function formatProps(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...formatProp(r,t[r]))}),n.length>3&&e.push(" ..."),e}function formatProp(t,e,n){return isString$1(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:isRef(e)?(e=formatProp(t,toRaw(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):isFunction$1(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),n?e:[`${t}=`,e])}function callWithErrorHandling(t,e,n,r){try{return r?t(...r):t()}catch(g){handleError(g,e,n)}}function callWithAsyncErrorHandling(t,e,n,r){if(isFunction$1(t)){const g=callWithErrorHandling(t,e,n,r);return g&&isPromise$1(g)&&g.catch($=>{handleError($,e,n)}),g}if(isArray$1(t)){const g=[];for(let $=0;$<t.length;$++)g.push(callWithAsyncErrorHandling(t[$],e,n,r));return g}}function handleError(t,e,n,r=!0){const g=e?e.vnode:null,{errorHandler:$,throwUnhandledErrorInProduction:y}=e&&e.appContext.config||EMPTY_OBJ;if(e){let k=e.parent;const L=e.proxy,V=`https://vuejs.org/error-reference/#runtime-${n}`;for(;k;){const z=k.ec;if(z){for(let j=0;j<z.length;j++)if(z[j](t,L,V)===!1)return}k=k.parent}if($){pauseTracking(),callWithErrorHandling($,null,10,[t,L,V]),resetTracking();return}}logError(t,n,g,r,y)}function logError(t,e,n,r=!0,g=!1){if(g)throw t;console.error(t)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,n=queue.length;for(;e<n;){const r=e+n>>>1,g=queue[r],$=getId(g);$<t||$===t&&g.flags&2?e=r+1:n=r}return e}function queueJob(t){if(!(t.flags&1)){const e=getId(t),n=queue[queue.length-1];!n||!(t.flags&2)&&e>=getId(n)?queue.push(t):queue.splice(findInsertionIndex(e),0,t),t.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(t){isArray$1(t)?pendingPostFlushCbs.push(...t):activePostFlushCbs&&t.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,t):t.flags&1||(pendingPostFlushCbs.push(t),t.flags|=1),queueFlush()}function flushPreFlushCbs(t,e,n=flushIndex+1){for(;n<queue.length;n++){const r=queue[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;queue.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((n,r)=>getId(n)-getId(r));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?t.flags&2?-1:1/0:t.id;function flushJobs(t){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),callWithErrorHandling(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&(e.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}function withCtx(t,e=currentRenderingInstance,n){if(!e||t._n)return t;const r=(...g)=>{r._d&&setBlockTracking(-1);const $=setCurrentRenderingInstance(e);let y;try{y=t(...g)}finally{setCurrentRenderingInstance($),r._d&&setBlockTracking(1)}return y};return r._n=!0,r._c=!0,r._d=!0,r}function withDirectives(t,e){if(currentRenderingInstance===null)return t;const n=getComponentPublicInstance(currentRenderingInstance),r=t.dirs||(t.dirs=[]);for(let g=0;g<e.length;g++){let[$,y,k,L=EMPTY_OBJ]=e[g];$&&(isFunction$1($)&&($={mounted:$,updated:$}),$.deep&&traverse(y),r.push({dir:$,instance:n,value:y,oldValue:void 0,arg:k,modifiers:L}))}return t}function invokeDirectiveHook(t,e,n,r){const g=t.dirs,$=e&&e.dirs;for(let y=0;y<g.length;y++){const k=g[y];$&&(k.oldValue=$[y].value);let L=k.dir[r];L&&(pauseTracking(),callWithAsyncErrorHandling(L,n,8,[t.el,k,t,e]),resetTracking())}}function provide(t,e){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[t]=e}}function inject(t,e,n=!1){const r=getCurrentInstance();if(r||currentApp){let g=currentApp?currentApp._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(g&&t in g)return g[t];if(arguments.length>1)return n&&isFunction$1(e)?e.call(r&&r.proxy):e}}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(t,e){return doWatch(t,null,e)}function watchSyncEffect(t,e){return doWatch(t,null,{flush:"sync"})}function watch(t,e,n){return doWatch(t,e,n)}function doWatch(t,e,n=EMPTY_OBJ){const{immediate:r,deep:g,flush:$,once:y}=n,k=extend({},n),L=e&&r||!e&&$!=="post";let V;if(isInSSRComponentSetup){if($==="sync"){const Oe=useSSRContext();V=Oe.__watcherHandles||(Oe.__watcherHandles=[])}else if(!L){const Oe=()=>{};return Oe.stop=NOOP,Oe.resume=NOOP,Oe.pause=NOOP,Oe}}const z=currentInstance;k.call=(Oe,ur,hr)=>callWithAsyncErrorHandling(Oe,z,ur,hr);let j=!1;$==="post"?k.scheduler=Oe=>{queuePostRenderEffect(Oe,z&&z.suspense)}:$!=="sync"&&(j=!0,k.scheduler=(Oe,ur)=>{ur?Oe():queueJob(Oe)}),k.augmentJob=Oe=>{e&&(Oe.flags|=4),j&&(Oe.flags|=2,z&&(Oe.id=z.uid,Oe.i=z))};const ie=watch$1(t,e,k);return isInSSRComponentSetup&&(V?V.push(ie):L&&ie()),ie}function instanceWatch(t,e,n){const r=this.proxy,g=isString$1(t)?t.includes(".")?createPathGetter(r,t):()=>r[t]:t.bind(r,r);let $;isFunction$1(e)?$=e:($=e.handler,n=e);const y=setCurrentInstance(this),k=doWatch(g,$.bind(r),n);return y(),k}function createPathGetter(t,e){const n=e.split(".");return()=>{let r=t;for(let g=0;g<n.length&&r;g++)r=r[n[g]];return r}}const TeleportEndKey=Symbol("_vte"),isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTeleportDeferred=t=>t&&(t.defer||t.defer===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,isTargetMathML=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,resolveTarget=(t,e)=>{const n=t&&t.to;return isString$1(n)?e?e(n):null:n},TeleportImpl={name:"Teleport",__isTeleport:!0,process(t,e,n,r,g,$,y,k,L,V){const{mc:z,pc:j,pbc:ie,o:{insert:Oe,querySelector:ur,createText:hr,createComment:Vr}}=V,dr=isTeleportDisabled(e.props);let{shapeFlag:ec,children:tc,dynamicChildren:Xs}=e;if(t==null){const rc=e.el=hr(""),ic=e.anchor=hr("");Oe(rc,n,r),Oe(ic,n,r);const _c=(Xm,Km)=>{ec&16&&z(tc,Xm,Km,g,$,y,k,L)},qm=()=>{const Xm=e.target=resolveTarget(e.props,ur),Km=prepareAnchor(Xm,e,hr,Oe);Xm&&(y!=="svg"&&isTargetSVG(Xm)?y="svg":y!=="mathml"&&isTargetMathML(Xm)&&(y="mathml"),g&&g.isCE&&(g.ce._teleportTargets||(g.ce._teleportTargets=new Set)).add(Xm),dr||(_c(Xm,Km),updateCssVars(e,!1)))};dr&&(_c(n,ic),updateCssVars(e,!0)),isTeleportDeferred(e.props)?(e.el.__isMounted=!1,queuePostRenderEffect(()=>{qm(),delete e.el.__isMounted},$)):qm()}else{if(isTeleportDeferred(e.props)&&t.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(t,e,n,r,g,$,y,k,L,V)},$);return}e.el=t.el,e.targetStart=t.targetStart;const rc=e.anchor=t.anchor,ic=e.target=t.target,_c=e.targetAnchor=t.targetAnchor,qm=isTeleportDisabled(t.props),Xm=qm?n:ic,Km=qm?rc:_c;if(y==="svg"||isTargetSVG(ic)?y="svg":(y==="mathml"||isTargetMathML(ic))&&(y="mathml"),Xs?(ie(t.dynamicChildren,Xs,Xm,g,$,y,k),traverseStaticChildren(t,e,!0)):L||j(t,e,Xm,Km,g,$,y,k,!1),dr)qm?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):moveTeleport(e,n,rc,V,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const tv=e.target=resolveTarget(e.props,ur);tv&&moveTeleport(e,tv,null,V,0)}else qm&&moveTeleport(e,ic,_c,V,1);updateCssVars(e,dr)}},remove(t,e,n,{um:r,o:{remove:g}},$){const{shapeFlag:y,children:k,anchor:L,targetStart:V,targetAnchor:z,target:j,props:ie}=t;if(j&&(g(V),g(z)),$&&g(L),y&16){const Oe=$||!isTeleportDisabled(ie);for(let ur=0;ur<k.length;ur++){const hr=k[ur];r(hr,e,n,Oe,!!hr.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,n,{o:{insert:r},m:g},$=2){$===0&&r(t.targetAnchor,e,n);const{el:y,anchor:k,shapeFlag:L,children:V,props:z}=t,j=$===2;if(j&&r(y,e,n),(!j||isTeleportDisabled(z))&&L&16)for(let ie=0;ie<V.length;ie++)g(V[ie],e,n,2);j&&r(k,e,n)}function hydrateTeleport(t,e,n,r,g,$,{o:{nextSibling:y,parentNode:k,querySelector:L,insert:V,createText:z}},j){function ie(hr,Vr,dr,ec){Vr.anchor=j(y(hr),Vr,k(hr),n,r,g,$),Vr.targetStart=dr,Vr.targetAnchor=ec}const Oe=e.target=resolveTarget(e.props,L),ur=isTeleportDisabled(e.props);if(Oe){const hr=Oe._lpa||Oe.firstChild;if(e.shapeFlag&16)if(ur)ie(t,e,hr,hr&&y(hr));else{e.anchor=y(t);let Vr=hr;for(;Vr;){if(Vr&&Vr.nodeType===8){if(Vr.data==="teleport start anchor")e.targetStart=Vr;else if(Vr.data==="teleport anchor"){e.targetAnchor=Vr,Oe._lpa=e.targetAnchor&&y(e.targetAnchor);break}}Vr=y(Vr)}e.targetAnchor||prepareAnchor(Oe,e,z,V),j(hr&&y(hr),e,Oe,n,r,g,$)}updateCssVars(e,ur)}else ur&&e.shapeFlag&16&&ie(t,e,t,y(t));return e.anchor&&y(e.anchor)}const Teleport$1=TeleportImpl;function updateCssVars(t,e){const n=t.ctx;if(n&&n.ut){let r,g;for(e?(r=t.el,g=t.anchor):(r=t.targetStart,g=t.targetAnchor);r&&r!==g;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function prepareAnchor(t,e,n,r){const g=e.targetStart=n(""),$=e.targetAnchor=n("");return g[TeleportEndKey]=$,t&&(r(g,t),r($,t)),$}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=t=>{const e=t.subTree;return e.component?recursiveGetSubtree(e.component):e},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const n=getCurrentInstance(),r=useTransitionState();return()=>{const g=e.default&&getTransitionRawChildren(e.default(),!0);if(!g||!g.length)return;const $=findNonCommentChild(g),y=toRaw(t),{mode:k}=y;if(r.isLeaving)return emptyPlaceholder($);const L=getInnerChild$1($);if(!L)return emptyPlaceholder($);let V=resolveTransitionHooks(L,y,r,n,j=>V=j);L.type!==Comment&&setTransitionHooks(L,V);let z=n.subTree&&getInnerChild$1(n.subTree);if(z&&z.type!==Comment&&!isSameVNodeType(z,L)&&recursiveGetSubtree(n).type!==Comment){let j=resolveTransitionHooks(z,y,r,n);if(setTransitionHooks(z,j),k==="out-in"&&L.type!==Comment)return r.isLeaving=!0,j.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete j.afterLeave,z=void 0},emptyPlaceholder($);k==="in-out"&&L.type!==Comment?j.delayLeave=(ie,Oe,ur)=>{const hr=getLeavingNodesForType(r,z);hr[String(z.key)]=z,ie[leaveCbKey]=()=>{Oe(),ie[leaveCbKey]=void 0,delete V.delayedLeave,z=void 0},V.delayedLeave=()=>{ur(),delete V.delayedLeave,z=void 0}}:z=void 0}else z&&(z=void 0);return $}}};function findNonCommentChild(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Comment){e=n;break}}return e}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function resolveTransitionHooks(t,e,n,r,g){const{appear:$,mode:y,persisted:k=!1,onBeforeEnter:L,onEnter:V,onAfterEnter:z,onEnterCancelled:j,onBeforeLeave:ie,onLeave:Oe,onAfterLeave:ur,onLeaveCancelled:hr,onBeforeAppear:Vr,onAppear:dr,onAfterAppear:ec,onAppearCancelled:tc}=e,Xs=String(t.key),rc=getLeavingNodesForType(n,t),ic=(Xm,Km)=>{Xm&&callWithAsyncErrorHandling(Xm,r,9,Km)},_c=(Xm,Km)=>{const tv=Km[1];ic(Xm,Km),isArray$1(Xm)?Xm.every(nv=>nv.length<=1)&&tv():Xm.length<=1&&tv()},qm={mode:y,persisted:k,beforeEnter(Xm){let Km=L;if(!n.isMounted)if($)Km=Vr||L;else return;Xm[leaveCbKey]&&Xm[leaveCbKey](!0);const tv=rc[Xs];tv&&isSameVNodeType(t,tv)&&tv.el[leaveCbKey]&&tv.el[leaveCbKey](),ic(Km,[Xm])},enter(Xm){let Km=V,tv=z,nv=j;if(!n.isMounted)if($)Km=dr||V,tv=ec||z,nv=tc||j;else return;let sv=!1;const gv=Xm[enterCbKey$1]=Sv=>{sv||(sv=!0,Sv?ic(nv,[Xm]):ic(tv,[Xm]),qm.delayedLeave&&qm.delayedLeave(),Xm[enterCbKey$1]=void 0)};Km?_c(Km,[Xm,gv]):gv()},leave(Xm,Km){const tv=String(t.key);if(Xm[enterCbKey$1]&&Xm[enterCbKey$1](!0),n.isUnmounting)return Km();ic(ie,[Xm]);let nv=!1;const sv=Xm[leaveCbKey]=gv=>{nv||(nv=!0,Km(),gv?ic(hr,[Xm]):ic(ur,[Xm]),Xm[leaveCbKey]=void 0,rc[tv]===t&&delete rc[tv])};rc[tv]=t,Oe?_c(Oe,[Xm,sv]):sv()},clone(Xm){const Km=resolveTransitionHooks(Xm,e,n,r,g);return g&&g(Km),Km}};return qm}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getInnerChild$1(t){if(!isKeepAlive(t))return isTeleport(t.type)&&t.children?findNonCommentChild(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&isFunction$1(n.default))return n.default()}}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?(t.transition=e,setTransitionHooks(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,n){let r=[],g=0;for(let $=0;$<t.length;$++){let y=t[$];const k=n==null?y.key:String(n)+String(y.key!=null?y.key:$);y.type===Fragment?(y.patchFlag&128&&g++,r=r.concat(getTransitionRawChildren(y.children,e,k))):(e||y.type!==Comment)&&r.push(k!=null?cloneVNode(y,{key:k}):y)}if(g>1)for(let $=0;$<r.length;$++)r[$].patchFlag=-2;return r}function defineComponent(t,e){return isFunction$1(t)?extend({name:t.name},e,{setup:t}):t}function markAsyncBoundary(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const pendingSetRefMap=new WeakMap;function setRef(t,e,n,r,g=!1){if(isArray$1(t)){t.forEach((ur,hr)=>setRef(ur,e&&(isArray$1(e)?e[hr]:e),n,r,g));return}if(isAsyncWrapper(r)&&!g){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&setRef(t,e,n,r.component.subTree);return}const $=r.shapeFlag&4?getComponentPublicInstance(r.component):r.el,y=g?null:$,{i:k,r:L}=t,V=e&&e.r,z=k.refs===EMPTY_OBJ?k.refs={}:k.refs,j=k.setupState,ie=toRaw(j),Oe=j===EMPTY_OBJ?NO:ur=>hasOwn$1(ie,ur);if(V!=null&&V!==L){if(invalidatePendingSetRef(e),isString$1(V))z[V]=null,Oe(V)&&(j[V]=null);else if(isRef(V)){V.value=null;const ur=e;ur.k&&(z[ur.k]=null)}}if(isFunction$1(L))callWithErrorHandling(L,k,12,[y,z]);else{const ur=isString$1(L),hr=isRef(L);if(ur||hr){const Vr=()=>{if(t.f){const dr=ur?Oe(L)?j[L]:z[L]:L.value;if(g)isArray$1(dr)&&remove(dr,$);else if(isArray$1(dr))dr.includes($)||dr.push($);else if(ur)z[L]=[$],Oe(L)&&(j[L]=z[L]);else{const ec=[$];L.value=ec,t.k&&(z[t.k]=ec)}}else ur?(z[L]=y,Oe(L)&&(j[L]=y)):hr&&(L.value=y,t.k&&(z[t.k]=y))};if(y){const dr=()=>{Vr(),pendingSetRefMap.delete(t)};dr.id=-1,pendingSetRefMap.set(t,dr),queuePostRenderEffect(dr,n)}else invalidatePendingSetRef(t),Vr()}}}function invalidatePendingSetRef(t){const e=pendingSetRefMap.get(t);e&&(e.flags|=8,pendingSetRefMap.delete(t))}getGlobalThis$1().requestIdleCallback;getGlobalThis$1().cancelIdleCallback;const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,n=currentInstance){const r=t.__wdc||(t.__wdc=()=>{let g=n;for(;g;){if(g.isDeactivated)return;g=g.parent}return t()});if(injectHook(e,r,n),n){let g=n.parent;for(;g&&g.parent;)isKeepAlive(g.parent.vnode)&&injectToKeepAliveRoot(r,e,n,g),g=g.parent}}function injectToKeepAliveRoot(t,e,n,r){const g=injectHook(e,t,r,!0);onUnmounted(()=>{remove(r[e],g)},n)}function injectHook(t,e,n=currentInstance,r=!1){if(n){const g=n[t]||(n[t]=[]),$=e.__weh||(e.__weh=(...y)=>{pauseTracking();const k=setCurrentInstance(n),L=callWithAsyncErrorHandling(e,n,t,y);return k(),resetTracking(),L});return r?g.unshift($):g.push($),$}}const createHook=t=>(e,n=currentInstance)=>{(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...r)=>e(...r),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString$1(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,n=!0,r=!1){const g=currentRenderingInstance||currentInstance;if(g){const $=g.type;if(t===COMPONENTS){const k=getComponentName($,!1);if(k&&(k===e||k===camelize(e)||k===capitalize$2(camelize(e))))return $}const y=resolve(g[t]||$[t],e)||resolve(g.appContext[t],e);return!y&&r?$:y}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize$2(camelize(e))])}function renderList(t,e,n,r){let g;const $=n,y=isArray$1(t);if(y||isString$1(t)){const k=y&&isReactive(t);let L=!1,V=!1;k&&(L=!isShallow(t),V=isReadonly(t),t=shallowReadArray(t)),g=new Array(t.length);for(let z=0,j=t.length;z<j;z++)g[z]=e(L?V?toReadonly(toReactive$1(t[z])):toReactive$1(t[z]):t[z],z,void 0,$)}else if(typeof t=="number"){g=new Array(t);for(let k=0;k<t;k++)g[k]=e(k+1,k,void 0,$)}else if(isObject$2(t))if(t[Symbol.iterator])g=Array.from(t,(k,L)=>e(k,L,void 0,$));else{const k=Object.keys(t);g=new Array(k.length);for(let L=0,V=k.length;L<V;L++){const z=k[L];g[L]=e(t[z],z,L,$)}}else g=[];return g}function createSlots(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(isArray$1(r))for(let g=0;g<r.length;g++)t[r[g].name]=r[g].fn;else r&&(t[r.name]=r.key?(...g)=>{const $=r.fn(...g);return $&&($.key=r.key),$}:r.fn)}return t}function renderSlot(t,e,n={},r,g){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce){const V=Object.keys(n).length>0;return e!=="default"&&(n.name=e),openBlock(),createBlock(Fragment,null,[createVNode("slot",n,r&&r())],V?-2:64)}let $=t[e];$&&$._c&&($._d=!1),openBlock();const y=$&&ensureValidVNode$1($(n)),k=n.key||y&&y.key,L=createBlock(Fragment,{key:(k&&!isSymbol(k)?k:`_${e}`)+(!y&&r?"_fb":"")},y||(r?r():[]),y&&t._===1?64:-2);return!g&&L.scopeId&&(L.slotScopeIds=[L.scopeId+"-s"]),$&&$._c&&($._d=!0),L}function ensureValidVNode$1(t){return t.some(e=>isVNode$1(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode$1(e.children)):!0)?t:null}function toHandlers(t,e){const n={};for(const r in t)n[toHandlerKey(r)]=t[r];return n}const getPublicInstance=t=>t?isStatefulComponent(t)?getComponentPublicInstance(t):getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>{queueJob(t.update)}),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn$1(t,e),PublicInstanceProxyHandlers={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:g,props:$,accessCache:y,type:k,appContext:L}=t;if(e[0]!=="$"){const ie=y[e];if(ie!==void 0)switch(ie){case 1:return r[e];case 2:return g[e];case 4:return n[e];case 3:return $[e]}else{if(hasSetupBinding(r,e))return y[e]=1,r[e];if(g!==EMPTY_OBJ&&hasOwn$1(g,e))return y[e]=2,g[e];if(hasOwn$1($,e))return y[e]=3,$[e];if(n!==EMPTY_OBJ&&hasOwn$1(n,e))return y[e]=4,n[e];shouldCacheAccess&&(y[e]=0)}}const V=publicPropertiesMap[e];let z,j;if(V)return e==="$attrs"&&track(t.attrs,"get",""),V(t);if((z=k.__cssModules)&&(z=z[e]))return z;if(n!==EMPTY_OBJ&&hasOwn$1(n,e))return y[e]=4,n[e];if(j=L.config.globalProperties,hasOwn$1(j,e))return j[e]},set({_:t},e,n){const{data:r,setupState:g,ctx:$}=t;return hasSetupBinding(g,e)?(g[e]=n,!0):r!==EMPTY_OBJ&&hasOwn$1(r,e)?(r[e]=n,!0):hasOwn$1(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:($[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:g,props:$,type:y}},k){let L;return!!(n[k]||t!==EMPTY_OBJ&&k[0]!=="$"&&hasOwn$1(t,k)||hasSetupBinding(e,k)||hasOwn$1($,k)||hasOwn$1(r,k)||hasOwn$1(publicPropertiesMap,k)||hasOwn$1(g.config.globalProperties,k)||(L=y.__cssModules)&&L[k])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:hasOwn$1(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function useSlots(){return getContext().slots}function useAttrs$1(){return getContext().attrs}function getContext(t){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function normalizePropsOrEmits(t){return isArray$1(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function mergeModels(t,e){return!t||!e?t||e:isArray$1(t)&&isArray$1(e)?t.concat(e):extend({},normalizePropsOrEmits(t),normalizePropsOrEmits(e))}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),n=t.proxy,r=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:g,computed:$,methods:y,watch:k,provide:L,inject:V,created:z,beforeMount:j,mounted:ie,beforeUpdate:Oe,updated:ur,activated:hr,deactivated:Vr,beforeDestroy:dr,beforeUnmount:ec,destroyed:tc,unmounted:Xs,render:rc,renderTracked:ic,renderTriggered:_c,errorCaptured:qm,serverPrefetch:Xm,expose:Km,inheritAttrs:tv,components:nv,directives:sv,filters:gv}=e;if(V&&resolveInjections(V,r,null),y)for(const rv in y){const Jm=y[rv];isFunction$1(Jm)&&(r[rv]=Jm.bind(n))}if(g){const rv=g.call(n,n);isObject$2(rv)&&(t.data=reactive(rv))}if(shouldCacheAccess=!0,$)for(const rv in $){const Jm=$[rv],dv=isFunction$1(Jm)?Jm.bind(n,n):isFunction$1(Jm.get)?Jm.get.bind(n,n):NOOP,pv=!isFunction$1(Jm)&&isFunction$1(Jm.set)?Jm.set.bind(n):NOOP,mv=computed({get:dv,set:pv});Object.defineProperty(r,rv,{enumerable:!0,configurable:!0,get:()=>mv.value,set:Cv=>mv.value=Cv})}if(k)for(const rv in k)createWatcher(k[rv],r,n,rv);if(L){const rv=isFunction$1(L)?L.call(n):L;Reflect.ownKeys(rv).forEach(Jm=>{provide(Jm,rv[Jm])})}z&&callHook$1(z,t,"c");function wv(rv,Jm){isArray$1(Jm)?Jm.forEach(dv=>rv(dv.bind(n))):Jm&&rv(Jm.bind(n))}if(wv(onBeforeMount,j),wv(onMounted,ie),wv(onBeforeUpdate,Oe),wv(onUpdated,ur),wv(onActivated,hr),wv(onDeactivated,Vr),wv(onErrorCaptured,qm),wv(onRenderTracked,ic),wv(onRenderTriggered,_c),wv(onBeforeUnmount,ec),wv(onUnmounted,Xs),wv(onServerPrefetch,Xm),isArray$1(Km))if(Km.length){const rv=t.exposed||(t.exposed={});Km.forEach(Jm=>{Object.defineProperty(rv,Jm,{get:()=>n[Jm],set:dv=>n[Jm]=dv,enumerable:!0})})}else t.exposed||(t.exposed={});rc&&t.render===NOOP&&(t.render=rc),tv!=null&&(t.inheritAttrs=tv),nv&&(t.components=nv),sv&&(t.directives=sv),Xm&&markAsyncBoundary(t)}function resolveInjections(t,e,n=NOOP){isArray$1(t)&&(t=normalizeInject(t));for(const r in t){const g=t[r];let $;isObject$2(g)?"default"in g?$=inject(g.from||r,g.default,!0):$=inject(g.from||r):$=inject(g),isRef($)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>$.value,set:y=>$.value=y}):e[r]=$}}function callHook$1(t,e,n){callWithAsyncErrorHandling(isArray$1(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function createWatcher(t,e,n,r){let g=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(t)){const $=e[t];isFunction$1($)&&watch(g,$)}else if(isFunction$1(t))watch(g,t.bind(n));else if(isObject$2(t))if(isArray$1(t))t.forEach($=>createWatcher($,e,n,r));else{const $=isFunction$1(t.handler)?t.handler.bind(n):e[t.handler];isFunction$1($)&&watch(g,$,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:g,optionsCache:$,config:{optionMergeStrategies:y}}=t.appContext,k=$.get(e);let L;return k?L=k:!g.length&&!n&&!r?L=e:(L={},g.length&&g.forEach(V=>mergeOptions$1(L,V,y,!0)),mergeOptions$1(L,e,y)),isObject$2(e)&&$.set(e,L),L}function mergeOptions$1(t,e,n,r=!1){const{mixins:g,extends:$}=e;$&&mergeOptions$1(t,$,n,!0),g&&g.forEach(y=>mergeOptions$1(t,y,n,!0));for(const y in e)if(!(r&&y==="expose")){const k=internalOptionMergeStrats[y]||n&&n[y];t[y]=k?k(t[y],e[y]):e[y]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$1(t)?t.call(this,this):t,isFunction$1(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$1(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$1(t)&&isArray$1(e)?[...new Set([...t,...e])]:extend(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const n=extend(Object.create(null),t);for(const r in e)n[r]=mergeAsArray(t[r],e[r]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(r,g=null){isFunction$1(r)||(r=extend({},r)),g!=null&&!isObject$2(g)&&(g=null);const $=createAppContext(),y=new WeakSet,k=[];let L=!1;const V=$.app={_uid:uid$1++,_component:r,_props:g,_container:null,_context:$,_instance:null,version:version$1,get config(){return $.config},set config(z){},use(z,...j){return y.has(z)||(z&&isFunction$1(z.install)?(y.add(z),z.install(V,...j)):isFunction$1(z)&&(y.add(z),z(V,...j))),V},mixin(z){return $.mixins.includes(z)||$.mixins.push(z),V},component(z,j){return j?($.components[z]=j,V):$.components[z]},directive(z,j){return j?($.directives[z]=j,V):$.directives[z]},mount(z,j,ie){if(!L){const Oe=V._ceVNode||createVNode(r,g);return Oe.appContext=$,ie===!0?ie="svg":ie===!1&&(ie=void 0),t(Oe,z,ie),L=!0,V._container=z,z.__vue_app__=V,getComponentPublicInstance(Oe.component)}},onUnmount(z){k.push(z)},unmount(){L&&(callWithAsyncErrorHandling(k,V._instance,16),t(null,V._container),delete V._container.__vue_app__)},provide(z,j){return $.provides[z]=j,V},runWithContext(z){const j=currentApp;currentApp=V;try{return z()}finally{currentApp=j}}};return V}}let currentApp=null;function useModel(t,e,n=EMPTY_OBJ){const r=getCurrentInstance(),g=camelize(e),$=hyphenate(e),y=getModelModifiers(t,g),k=customRef((L,V)=>{let z,j=EMPTY_OBJ,ie;return watchSyncEffect(()=>{const Oe=t[g];hasChanged(z,Oe)&&(z=Oe,V())}),{get(){return L(),n.get?n.get(z):z},set(Oe){const ur=n.set?n.set(Oe):Oe;if(!hasChanged(ur,z)&&!(j!==EMPTY_OBJ&&hasChanged(Oe,j)))return;const hr=r.vnode.props;hr&&(e in hr||g in hr||$ in hr)&&(`onUpdate:${e}`in hr||`onUpdate:${g}`in hr||`onUpdate:${$}`in hr)||(z=Oe,V()),r.emit(`update:${e}`,ur),hasChanged(Oe,ur)&&hasChanged(Oe,j)&&!hasChanged(ur,ie)&&V(),j=Oe,ie=ur}}});return k[Symbol.iterator]=()=>{let L=0;return{next(){return L<2?{value:L++?y||EMPTY_OBJ:k,done:!1}:{done:!0}}}},k}const getModelModifiers=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${camelize(e)}Modifiers`]||t[`${hyphenate(e)}Modifiers`];function emit(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||EMPTY_OBJ;let g=n;const $=e.startsWith("update:"),y=$&&getModelModifiers(r,e.slice(7));y&&(y.trim&&(g=n.map(z=>isString$1(z)?z.trim():z)),y.number&&(g=n.map(looseToNumber$1)));let k,L=r[k=toHandlerKey(e)]||r[k=toHandlerKey(camelize(e))];!L&&$&&(L=r[k=toHandlerKey(hyphenate(e))]),L&&callWithAsyncErrorHandling(L,t,6,g);const V=r[k+"Once"];if(V){if(!t.emitted)t.emitted={};else if(t.emitted[k])return;t.emitted[k]=!0,callWithAsyncErrorHandling(V,t,6,g)}}const mixinEmitsCache=new WeakMap;function normalizeEmitsOptions(t,e,n=!1){const r=n?mixinEmitsCache:e.emitsCache,g=r.get(t);if(g!==void 0)return g;const $=t.emits;let y={},k=!1;if(!isFunction$1(t)){const L=V=>{const z=normalizeEmitsOptions(V,e,!0);z&&(k=!0,extend(y,z))};!n&&e.mixins.length&&e.mixins.forEach(L),t.extends&&L(t.extends),t.mixins&&t.mixins.forEach(L)}return!$&&!k?(isObject$2(t)&&r.set(t,null),null):(isArray$1($)?$.forEach(L=>y[L]=null):extend(y,$),isObject$2(t)&&r.set(t,y),y)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$1(t,e[0].toLowerCase()+e.slice(1))||hasOwn$1(t,hyphenate(e))||hasOwn$1(t,e))}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:n,proxy:r,withProxy:g,propsOptions:[$],slots:y,attrs:k,emit:L,render:V,renderCache:z,props:j,data:ie,setupState:Oe,ctx:ur,inheritAttrs:hr}=t,Vr=setCurrentRenderingInstance(t);let dr,ec;try{if(n.shapeFlag&4){const Xs=g||r,rc=Xs;dr=normalizeVNode(V.call(rc,Xs,z,j,Oe,ie,ur)),ec=k}else{const Xs=e;dr=normalizeVNode(Xs.length>1?Xs(j,{attrs:k,slots:y,emit:L}):Xs(j,null)),ec=e.props?k:getFunctionalFallthrough(k)}}catch(Xs){blockStack.length=0,handleError(Xs,t,1),dr=createVNode(Comment)}let tc=dr;if(ec&&hr!==!1){const Xs=Object.keys(ec),{shapeFlag:rc}=tc;Xs.length&&rc&7&&($&&Xs.some(isModelListener)&&(ec=filterModelListeners(ec,$)),tc=cloneVNode(tc,ec,!1,!0))}return n.dirs&&(tc=cloneVNode(tc,null,!1,!0),tc.dirs=tc.dirs?tc.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(tc,n.transition),dr=tc,setCurrentRenderingInstance(Vr),dr}const getFunctionalFallthrough=t=>{let e;for(const n in t)(n==="class"||n==="style"||isOn(n))&&((e||(e={}))[n]=t[n]);return e},filterModelListeners=(t,e)=>{const n={};for(const r in t)(!isModelListener(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function shouldUpdateComponent(t,e,n){const{props:r,children:g,component:$}=t,{props:y,children:k,patchFlag:L}=e,V=$.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&L>=0){if(L&1024)return!0;if(L&16)return r?hasPropsChanged(r,y,V):!!y;if(L&8){const z=e.dynamicProps;for(let j=0;j<z.length;j++){const ie=z[j];if(y[ie]!==r[ie]&&!isEmitListener(V,ie))return!0}}}else return(g||k)&&(!k||!k.$stable)?!0:r===y?!1:r?y?hasPropsChanged(r,y,V):!0:!!y;return!1}function hasPropsChanged(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let g=0;g<r.length;g++){const $=r[g];if(e[$]!==t[$]&&!isEmitListener(n,$))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=t=>Object.getPrototypeOf(t)===internalObjectProto;function initProps(t,e,n,r=!1){const g={},$=createInternalObject();t.propsDefaults=Object.create(null),setFullProps(t,e,g,$);for(const y in t.propsOptions[0])y in g||(g[y]=void 0);n?t.props=r?g:shallowReactive(g):t.type.props?t.props=g:t.props=$,t.attrs=$}function updateProps(t,e,n,r){const{props:g,attrs:$,vnode:{patchFlag:y}}=t,k=toRaw(g),[L]=t.propsOptions;let V=!1;if((r||y>0)&&!(y&16)){if(y&8){const z=t.vnode.dynamicProps;for(let j=0;j<z.length;j++){let ie=z[j];if(isEmitListener(t.emitsOptions,ie))continue;const Oe=e[ie];if(L)if(hasOwn$1($,ie))Oe!==$[ie]&&($[ie]=Oe,V=!0);else{const ur=camelize(ie);g[ur]=resolvePropValue(L,k,ur,Oe,t,!1)}else Oe!==$[ie]&&($[ie]=Oe,V=!0)}}}else{setFullProps(t,e,g,$)&&(V=!0);let z;for(const j in k)(!e||!hasOwn$1(e,j)&&((z=hyphenate(j))===j||!hasOwn$1(e,z)))&&(L?n&&(n[j]!==void 0||n[z]!==void 0)&&(g[j]=resolvePropValue(L,k,j,void 0,t,!0)):delete g[j]);if($!==k)for(const j in $)(!e||!hasOwn$1(e,j))&&(delete $[j],V=!0)}V&&trigger(t.attrs,"set","")}function setFullProps(t,e,n,r){const[g,$]=t.propsOptions;let y=!1,k;if(e)for(let L in e){if(isReservedProp(L))continue;const V=e[L];let z;g&&hasOwn$1(g,z=camelize(L))?!$||!$.includes(z)?n[z]=V:(k||(k={}))[z]=V:isEmitListener(t.emitsOptions,L)||(!(L in r)||V!==r[L])&&(r[L]=V,y=!0)}if($){const L=toRaw(n),V=k||EMPTY_OBJ;for(let z=0;z<$.length;z++){const j=$[z];n[j]=resolvePropValue(g,L,j,V[j],t,!hasOwn$1(V,j))}}return y}function resolvePropValue(t,e,n,r,g,$){const y=t[n];if(y!=null){const k=hasOwn$1(y,"default");if(k&&r===void 0){const L=y.default;if(y.type!==Function&&!y.skipFactory&&isFunction$1(L)){const{propsDefaults:V}=g;if(n in V)r=V[n];else{const z=setCurrentInstance(g);r=V[n]=L.call(null,e),z()}}else r=L;g.ce&&g.ce._setProp(n,r)}y[0]&&($&&!k?r=!1:y[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}const mixinPropsCache=new WeakMap;function normalizePropsOptions(t,e,n=!1){const r=n?mixinPropsCache:e.propsCache,g=r.get(t);if(g)return g;const $=t.props,y={},k=[];let L=!1;if(!isFunction$1(t)){const z=j=>{L=!0;const[ie,Oe]=normalizePropsOptions(j,e,!0);extend(y,ie),Oe&&k.push(...Oe)};!n&&e.mixins.length&&e.mixins.forEach(z),t.extends&&z(t.extends),t.mixins&&t.mixins.forEach(z)}if(!$&&!L)return isObject$2(t)&&r.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$1($))for(let z=0;z<$.length;z++){const j=camelize($[z]);validatePropName(j)&&(y[j]=EMPTY_OBJ)}else if($)for(const z in $){const j=camelize(z);if(validatePropName(j)){const ie=$[z],Oe=y[j]=isArray$1(ie)||isFunction$1(ie)?{type:ie}:extend({},ie),ur=Oe.type;let hr=!1,Vr=!0;if(isArray$1(ur))for(let dr=0;dr<ur.length;++dr){const ec=ur[dr],tc=isFunction$1(ec)&&ec.name;if(tc==="Boolean"){hr=!0;break}else tc==="String"&&(Vr=!1)}else hr=isFunction$1(ur)&&ur.name==="Boolean";Oe[0]=hr,Oe[1]=Vr,(hr||hasOwn$1(Oe,"default"))&&k.push(j)}}const V=[y,k];return isObject$2(t)&&r.set(t,V),V}function validatePropName(t){return t[0]!=="$"&&!isReservedProp(t)}const isInternalKey=t=>t==="_"||t==="_ctx"||t==="$stable",normalizeSlotValue=t=>isArray$1(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,e,n)=>{if(e._n)return e;const r=withCtx((...g)=>normalizeSlotValue(e(...g)),n);return r._c=!1,r},normalizeObjectSlots=(t,e,n)=>{const r=t._ctx;for(const g in t){if(isInternalKey(g))continue;const $=t[g];if(isFunction$1($))e[g]=normalizeSlot(g,$,r);else if($!=null){const y=normalizeSlotValue($);e[g]=()=>y}}},normalizeVNodeSlots=(t,e)=>{const n=normalizeSlotValue(e);t.slots.default=()=>n},assignSlots=(t,e,n)=>{for(const r in e)(n||!isInternalKey(r))&&(t[r]=e[r])},initSlots=(t,e,n)=>{const r=t.slots=createInternalObject();if(t.vnode.shapeFlag&32){const g=e._;g?(assignSlots(r,e,n),n&&def(r,"_",g,!0)):normalizeObjectSlots(e,r)}else e&&normalizeVNodeSlots(t,e)},updateSlots=(t,e,n)=>{const{vnode:r,slots:g}=t;let $=!0,y=EMPTY_OBJ;if(r.shapeFlag&32){const k=e._;k?n&&k===1?$=!1:assignSlots(g,e,n):($=!e.$stable,normalizeObjectSlots(e,g)),y=e}else e&&(normalizeVNodeSlots(t,e),y={default:1});if($)for(const k in g)!isInternalKey(k)&&y[k]==null&&delete g[k]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const n=getGlobalThis$1();n.__VUE__=!0;const{insert:r,remove:g,patchProp:$,createElement:y,createText:k,createComment:L,setText:V,setElementText:z,parentNode:j,nextSibling:ie,setScopeId:Oe=NOOP,insertStaticContent:ur}=t,hr=(Tv,Vv,Av,y0=null,av=null,fv=null,lv=void 0,kv=null,Iv=!!Vv.dynamicChildren)=>{if(Tv===Vv)return;Tv&&!isSameVNodeType(Tv,Vv)&&(y0=Hv(Tv),Cv(Tv,av,fv,!0),Tv=null),Vv.patchFlag===-2&&(Iv=!1,Vv.dynamicChildren=null);const{type:vv,ref:Ev,shapeFlag:zv}=Vv;switch(vv){case Text$1:Vr(Tv,Vv,Av,y0);break;case Comment:dr(Tv,Vv,Av,y0);break;case Static:Tv==null&&ec(Vv,Av,y0,lv);break;case Fragment:nv(Tv,Vv,Av,y0,av,fv,lv,kv,Iv);break;default:zv&1?rc(Tv,Vv,Av,y0,av,fv,lv,kv,Iv):zv&6?sv(Tv,Vv,Av,y0,av,fv,lv,kv,Iv):(zv&64||zv&128)&&vv.process(Tv,Vv,Av,y0,av,fv,lv,kv,Iv,qv)}Ev!=null&&av?setRef(Ev,Tv&&Tv.ref,fv,Vv||Tv,!Vv):Ev==null&&Tv&&Tv.ref!=null&&setRef(Tv.ref,null,fv,Tv,!0)},Vr=(Tv,Vv,Av,y0)=>{if(Tv==null)r(Vv.el=k(Vv.children),Av,y0);else{const av=Vv.el=Tv.el;Vv.children!==Tv.children&&V(av,Vv.children)}},dr=(Tv,Vv,Av,y0)=>{Tv==null?r(Vv.el=L(Vv.children||""),Av,y0):Vv.el=Tv.el},ec=(Tv,Vv,Av,y0)=>{[Tv.el,Tv.anchor]=ur(Tv.children,Vv,Av,y0,Tv.el,Tv.anchor)},tc=({el:Tv,anchor:Vv},Av,y0)=>{let av;for(;Tv&&Tv!==Vv;)av=ie(Tv),r(Tv,Av,y0),Tv=av;r(Vv,Av,y0)},Xs=({el:Tv,anchor:Vv})=>{let Av;for(;Tv&&Tv!==Vv;)Av=ie(Tv),g(Tv),Tv=Av;g(Vv)},rc=(Tv,Vv,Av,y0,av,fv,lv,kv,Iv)=>{if(Vv.type==="svg"?lv="svg":Vv.type==="math"&&(lv="mathml"),Tv==null)ic(Vv,Av,y0,av,fv,lv,kv,Iv);else{const vv=Tv.el&&Tv.el._isVueCE?Tv.el:null;try{vv&&vv._beginPatch(),Xm(Tv,Vv,av,fv,lv,kv,Iv)}finally{vv&&vv._endPatch()}}},ic=(Tv,Vv,Av,y0,av,fv,lv,kv)=>{let Iv,vv;const{props:Ev,shapeFlag:zv,transition:Fv,dirs:Yv}=Tv;if(Iv=Tv.el=y(Tv.type,fv,Ev&&Ev.is,Ev),zv&8?z(Iv,Tv.children):zv&16&&qm(Tv.children,Iv,null,y0,av,resolveChildrenNamespace(Tv,fv),lv,kv),Yv&&invokeDirectiveHook(Tv,null,y0,"created"),_c(Iv,Tv,Tv.scopeId,lv,y0),Ev){for(const Qv in Ev)Qv!=="value"&&!isReservedProp(Qv)&&$(Iv,Qv,null,Ev[Qv],fv,y0);"value"in Ev&&$(Iv,"value",null,Ev.value,fv),(vv=Ev.onVnodeBeforeMount)&&invokeVNodeHook(vv,y0,Tv)}Yv&&invokeDirectiveHook(Tv,null,y0,"beforeMount");const g0=needTransition(av,Fv);g0&&Fv.beforeEnter(Iv),r(Iv,Vv,Av),((vv=Ev&&Ev.onVnodeMounted)||g0||Yv)&&queuePostRenderEffect(()=>{vv&&invokeVNodeHook(vv,y0,Tv),g0&&Fv.enter(Iv),Yv&&invokeDirectiveHook(Tv,null,y0,"mounted")},av)},_c=(Tv,Vv,Av,y0,av)=>{if(Av&&Oe(Tv,Av),y0)for(let fv=0;fv<y0.length;fv++)Oe(Tv,y0[fv]);if(av){let fv=av.subTree;if(Vv===fv||isSuspense(fv.type)&&(fv.ssContent===Vv||fv.ssFallback===Vv)){const lv=av.vnode;_c(Tv,lv,lv.scopeId,lv.slotScopeIds,av.parent)}}},qm=(Tv,Vv,Av,y0,av,fv,lv,kv,Iv=0)=>{for(let vv=Iv;vv<Tv.length;vv++){const Ev=Tv[vv]=kv?cloneIfMounted(Tv[vv]):normalizeVNode(Tv[vv]);hr(null,Ev,Vv,Av,y0,av,fv,lv,kv)}},Xm=(Tv,Vv,Av,y0,av,fv,lv)=>{const kv=Vv.el=Tv.el;let{patchFlag:Iv,dynamicChildren:vv,dirs:Ev}=Vv;Iv|=Tv.patchFlag&16;const zv=Tv.props||EMPTY_OBJ,Fv=Vv.props||EMPTY_OBJ;let Yv;if(Av&&toggleRecurse(Av,!1),(Yv=Fv.onVnodeBeforeUpdate)&&invokeVNodeHook(Yv,Av,Vv,Tv),Ev&&invokeDirectiveHook(Vv,Tv,Av,"beforeUpdate"),Av&&toggleRecurse(Av,!0),(zv.innerHTML&&Fv.innerHTML==null||zv.textContent&&Fv.textContent==null)&&z(kv,""),vv?Km(Tv.dynamicChildren,vv,kv,Av,y0,resolveChildrenNamespace(Vv,av),fv):lv||Jm(Tv,Vv,kv,null,Av,y0,resolveChildrenNamespace(Vv,av),fv,!1),Iv>0){if(Iv&16)tv(kv,zv,Fv,Av,av);else if(Iv&2&&zv.class!==Fv.class&&$(kv,"class",null,Fv.class,av),Iv&4&&$(kv,"style",zv.style,Fv.style,av),Iv&8){const g0=Vv.dynamicProps;for(let Qv=0;Qv<g0.length;Qv++){const N0=g0[Qv],B0=zv[N0],a1=Fv[N0];(a1!==B0||N0==="value")&&$(kv,N0,B0,a1,av,Av)}}Iv&1&&Tv.children!==Vv.children&&z(kv,Vv.children)}else!lv&&vv==null&&tv(kv,zv,Fv,Av,av);((Yv=Fv.onVnodeUpdated)||Ev)&&queuePostRenderEffect(()=>{Yv&&invokeVNodeHook(Yv,Av,Vv,Tv),Ev&&invokeDirectiveHook(Vv,Tv,Av,"updated")},y0)},Km=(Tv,Vv,Av,y0,av,fv,lv)=>{for(let kv=0;kv<Vv.length;kv++){const Iv=Tv[kv],vv=Vv[kv],Ev=Iv.el&&(Iv.type===Fragment||!isSameVNodeType(Iv,vv)||Iv.shapeFlag&198)?j(Iv.el):Av;hr(Iv,vv,Ev,null,y0,av,fv,lv,!0)}},tv=(Tv,Vv,Av,y0,av)=>{if(Vv!==Av){if(Vv!==EMPTY_OBJ)for(const fv in Vv)!isReservedProp(fv)&&!(fv in Av)&&$(Tv,fv,Vv[fv],null,av,y0);for(const fv in Av){if(isReservedProp(fv))continue;const lv=Av[fv],kv=Vv[fv];lv!==kv&&fv!=="value"&&$(Tv,fv,kv,lv,av,y0)}"value"in Av&&$(Tv,"value",Vv.value,Av.value,av)}},nv=(Tv,Vv,Av,y0,av,fv,lv,kv,Iv)=>{const vv=Vv.el=Tv?Tv.el:k(""),Ev=Vv.anchor=Tv?Tv.anchor:k("");let{patchFlag:zv,dynamicChildren:Fv,slotScopeIds:Yv}=Vv;Yv&&(kv=kv?kv.concat(Yv):Yv),Tv==null?(r(vv,Av,y0),r(Ev,Av,y0),qm(Vv.children||[],Av,Ev,av,fv,lv,kv,Iv)):zv>0&&zv&64&&Fv&&Tv.dynamicChildren&&Tv.dynamicChildren.length===Fv.length?(Km(Tv.dynamicChildren,Fv,Av,av,fv,lv,kv),(Vv.key!=null||av&&Vv===av.subTree)&&traverseStaticChildren(Tv,Vv,!0)):Jm(Tv,Vv,Av,Ev,av,fv,lv,kv,Iv)},sv=(Tv,Vv,Av,y0,av,fv,lv,kv,Iv)=>{Vv.slotScopeIds=kv,Tv==null?Vv.shapeFlag&512?av.ctx.activate(Vv,Av,y0,lv,Iv):gv(Vv,Av,y0,av,fv,lv,Iv):Sv(Tv,Vv,Iv)},gv=(Tv,Vv,Av,y0,av,fv,lv)=>{const kv=Tv.component=createComponentInstance(Tv,y0,av);if(isKeepAlive(Tv)&&(kv.ctx.renderer=qv),setupComponent(kv,!1,lv),kv.asyncDep){if(av&&av.registerDep(kv,wv,lv),!Tv.el){const Iv=kv.subTree=createVNode(Comment);dr(null,Iv,Vv,Av),Tv.placeholder=Iv.el}}else wv(kv,Tv,Vv,Av,av,fv,lv)},Sv=(Tv,Vv,Av)=>{const y0=Vv.component=Tv.component;if(shouldUpdateComponent(Tv,Vv,Av))if(y0.asyncDep&&!y0.asyncResolved){rv(y0,Vv,Av);return}else y0.next=Vv,y0.update();else Vv.el=Tv.el,y0.vnode=Vv},wv=(Tv,Vv,Av,y0,av,fv,lv)=>{const kv=()=>{if(Tv.isMounted){let{next:zv,bu:Fv,u:Yv,parent:g0,vnode:Qv}=Tv;{const M0=locateNonHydratedAsyncRoot(Tv);if(M0){zv&&(zv.el=Qv.el,rv(Tv,zv,lv)),M0.asyncDep.then(()=>{Tv.isUnmounted||kv()});return}}let N0=zv,B0;toggleRecurse(Tv,!1),zv?(zv.el=Qv.el,rv(Tv,zv,lv)):zv=Qv,Fv&&invokeArrayFns(Fv),(B0=zv.props&&zv.props.onVnodeBeforeUpdate)&&invokeVNodeHook(B0,g0,zv,Qv),toggleRecurse(Tv,!0);const a1=renderComponentRoot(Tv),I0=Tv.subTree;Tv.subTree=a1,hr(I0,a1,j(I0.el),Hv(I0),Tv,av,fv),zv.el=a1.el,N0===null&&updateHOCHostEl(Tv,a1.el),Yv&&queuePostRenderEffect(Yv,av),(B0=zv.props&&zv.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(B0,g0,zv,Qv),av)}else{let zv;const{el:Fv,props:Yv}=Vv,{bm:g0,m:Qv,parent:N0,root:B0,type:a1}=Tv,I0=isAsyncWrapper(Vv);toggleRecurse(Tv,!1),g0&&invokeArrayFns(g0),!I0&&(zv=Yv&&Yv.onVnodeBeforeMount)&&invokeVNodeHook(zv,N0,Vv),toggleRecurse(Tv,!0);{B0.ce&&B0.ce._def.shadowRoot!==!1&&B0.ce._injectChildStyle(a1);const M0=Tv.subTree=renderComponentRoot(Tv);hr(null,M0,Av,y0,Tv,av,fv),Vv.el=M0.el}if(Qv&&queuePostRenderEffect(Qv,av),!I0&&(zv=Yv&&Yv.onVnodeMounted)){const M0=Vv;queuePostRenderEffect(()=>invokeVNodeHook(zv,N0,M0),av)}(Vv.shapeFlag&256||N0&&isAsyncWrapper(N0.vnode)&&N0.vnode.shapeFlag&256)&&Tv.a&&queuePostRenderEffect(Tv.a,av),Tv.isMounted=!0,Vv=Av=y0=null}};Tv.scope.on();const Iv=Tv.effect=new ReactiveEffect(kv);Tv.scope.off();const vv=Tv.update=Iv.run.bind(Iv),Ev=Tv.job=Iv.runIfDirty.bind(Iv);Ev.i=Tv,Ev.id=Tv.uid,Iv.scheduler=()=>queueJob(Ev),toggleRecurse(Tv,!0),vv()},rv=(Tv,Vv,Av)=>{Vv.component=Tv;const y0=Tv.vnode.props;Tv.vnode=Vv,Tv.next=null,updateProps(Tv,Vv.props,y0,Av),updateSlots(Tv,Vv.children,Av),pauseTracking(),flushPreFlushCbs(Tv),resetTracking()},Jm=(Tv,Vv,Av,y0,av,fv,lv,kv,Iv=!1)=>{const vv=Tv&&Tv.children,Ev=Tv?Tv.shapeFlag:0,zv=Vv.children,{patchFlag:Fv,shapeFlag:Yv}=Vv;if(Fv>0){if(Fv&128){pv(vv,zv,Av,y0,av,fv,lv,kv,Iv);return}else if(Fv&256){dv(vv,zv,Av,y0,av,fv,lv,kv,Iv);return}}Yv&8?(Ev&16&&Dv(vv,av,fv),zv!==vv&&z(Av,zv)):Ev&16?Yv&16?pv(vv,zv,Av,y0,av,fv,lv,kv,Iv):Dv(vv,av,fv,!0):(Ev&8&&z(Av,""),Yv&16&&qm(zv,Av,y0,av,fv,lv,kv,Iv))},dv=(Tv,Vv,Av,y0,av,fv,lv,kv,Iv)=>{Tv=Tv||EMPTY_ARR,Vv=Vv||EMPTY_ARR;const vv=Tv.length,Ev=Vv.length,zv=Math.min(vv,Ev);let Fv;for(Fv=0;Fv<zv;Fv++){const Yv=Vv[Fv]=Iv?cloneIfMounted(Vv[Fv]):normalizeVNode(Vv[Fv]);hr(Tv[Fv],Yv,Av,null,av,fv,lv,kv,Iv)}vv>Ev?Dv(Tv,av,fv,!0,!1,zv):qm(Vv,Av,y0,av,fv,lv,kv,Iv,zv)},pv=(Tv,Vv,Av,y0,av,fv,lv,kv,Iv)=>{let vv=0;const Ev=Vv.length;let zv=Tv.length-1,Fv=Ev-1;for(;vv<=zv&&vv<=Fv;){const Yv=Tv[vv],g0=Vv[vv]=Iv?cloneIfMounted(Vv[vv]):normalizeVNode(Vv[vv]);if(isSameVNodeType(Yv,g0))hr(Yv,g0,Av,null,av,fv,lv,kv,Iv);else break;vv++}for(;vv<=zv&&vv<=Fv;){const Yv=Tv[zv],g0=Vv[Fv]=Iv?cloneIfMounted(Vv[Fv]):normalizeVNode(Vv[Fv]);if(isSameVNodeType(Yv,g0))hr(Yv,g0,Av,null,av,fv,lv,kv,Iv);else break;zv--,Fv--}if(vv>zv){if(vv<=Fv){const Yv=Fv+1,g0=Yv<Ev?Vv[Yv].el:y0;for(;vv<=Fv;)hr(null,Vv[vv]=Iv?cloneIfMounted(Vv[vv]):normalizeVNode(Vv[vv]),Av,g0,av,fv,lv,kv,Iv),vv++}}else if(vv>Fv)for(;vv<=zv;)Cv(Tv[vv],av,fv,!0),vv++;else{const Yv=vv,g0=vv,Qv=new Map;for(vv=g0;vv<=Fv;vv++){const Zv=Vv[vv]=Iv?cloneIfMounted(Vv[vv]):normalizeVNode(Vv[vv]);Zv.key!=null&&Qv.set(Zv.key,vv)}let N0,B0=0;const a1=Fv-g0+1;let I0=!1,M0=0;const D0=new Array(a1);for(vv=0;vv<a1;vv++)D0[vv]=0;for(vv=Yv;vv<=zv;vv++){const Zv=Tv[vv];if(B0>=a1){Cv(Zv,av,fv,!0);continue}let z0;if(Zv.key!=null)z0=Qv.get(Zv.key);else for(N0=g0;N0<=Fv;N0++)if(D0[N0-g0]===0&&isSameVNodeType(Zv,Vv[N0])){z0=N0;break}z0===void 0?Cv(Zv,av,fv,!0):(D0[z0-g0]=vv+1,z0>=M0?M0=z0:I0=!0,hr(Zv,Vv[z0],Av,null,av,fv,lv,kv,Iv),B0++)}const W0=I0?getSequence(D0):EMPTY_ARR;for(N0=W0.length-1,vv=a1-1;vv>=0;vv--){const Zv=g0+vv,z0=Vv[Zv],_0=Vv[Zv+1],q0=Zv+1<Ev?_0.el||resolveAsyncComponentPlaceholder(_0):y0;D0[vv]===0?hr(null,z0,Av,q0,av,fv,lv,kv,Iv):I0&&(N0<0||vv!==W0[N0]?mv(z0,Av,q0,2):N0--)}}},mv=(Tv,Vv,Av,y0,av=null)=>{const{el:fv,type:lv,transition:kv,children:Iv,shapeFlag:vv}=Tv;if(vv&6){mv(Tv.component.subTree,Vv,Av,y0);return}if(vv&128){Tv.suspense.move(Vv,Av,y0);return}if(vv&64){lv.move(Tv,Vv,Av,qv);return}if(lv===Fragment){r(fv,Vv,Av);for(let zv=0;zv<Iv.length;zv++)mv(Iv[zv],Vv,Av,y0);r(Tv.anchor,Vv,Av);return}if(lv===Static){tc(Tv,Vv,Av);return}if(y0!==2&&vv&1&&kv)if(y0===0)kv.beforeEnter(fv),r(fv,Vv,Av),queuePostRenderEffect(()=>kv.enter(fv),av);else{const{leave:zv,delayLeave:Fv,afterLeave:Yv}=kv,g0=()=>{Tv.ctx.isUnmounted?g(fv):r(fv,Vv,Av)},Qv=()=>{fv._isLeaving&&fv[leaveCbKey](!0),zv(fv,()=>{g0(),Yv&&Yv()})};Fv?Fv(fv,g0,Qv):Qv()}else r(fv,Vv,Av)},Cv=(Tv,Vv,Av,y0=!1,av=!1)=>{const{type:fv,props:lv,ref:kv,children:Iv,dynamicChildren:vv,shapeFlag:Ev,patchFlag:zv,dirs:Fv,cacheIndex:Yv}=Tv;if(zv===-2&&(av=!1),kv!=null&&(pauseTracking(),setRef(kv,null,Av,Tv,!0),resetTracking()),Yv!=null&&(Vv.renderCache[Yv]=void 0),Ev&256){Vv.ctx.deactivate(Tv);return}const g0=Ev&1&&Fv,Qv=!isAsyncWrapper(Tv);let N0;if(Qv&&(N0=lv&&lv.onVnodeBeforeUnmount)&&invokeVNodeHook(N0,Vv,Tv),Ev&6)$v(Tv.component,Av,y0);else{if(Ev&128){Tv.suspense.unmount(Av,y0);return}g0&&invokeDirectiveHook(Tv,null,Vv,"beforeUnmount"),Ev&64?Tv.type.remove(Tv,Vv,Av,qv,y0):vv&&!vv.hasOnce&&(fv!==Fragment||zv>0&&zv&64)?Dv(vv,Vv,Av,!1,!0):(fv===Fragment&&zv&384||!av&&Ev&16)&&Dv(Iv,Vv,Av),y0&&uv(Tv)}(Qv&&(N0=lv&&lv.onVnodeUnmounted)||g0)&&queuePostRenderEffect(()=>{N0&&invokeVNodeHook(N0,Vv,Tv),g0&&invokeDirectiveHook(Tv,null,Vv,"unmounted")},Av)},uv=Tv=>{const{type:Vv,el:Av,anchor:y0,transition:av}=Tv;if(Vv===Fragment){yv(Av,y0);return}if(Vv===Static){Xs(Tv);return}const fv=()=>{g(Av),av&&!av.persisted&&av.afterLeave&&av.afterLeave()};if(Tv.shapeFlag&1&&av&&!av.persisted){const{leave:lv,delayLeave:kv}=av,Iv=()=>lv(Av,fv);kv?kv(Tv.el,fv,Iv):Iv()}else fv()},yv=(Tv,Vv)=>{let Av;for(;Tv!==Vv;)Av=ie(Tv),g(Tv),Tv=Av;g(Vv)},$v=(Tv,Vv,Av)=>{const{bum:y0,scope:av,job:fv,subTree:lv,um:kv,m:Iv,a:vv}=Tv;invalidateMount(Iv),invalidateMount(vv),y0&&invokeArrayFns(y0),av.stop(),fv&&(fv.flags|=8,Cv(lv,Tv,Vv,Av)),kv&&queuePostRenderEffect(kv,Vv),queuePostRenderEffect(()=>{Tv.isUnmounted=!0},Vv)},Dv=(Tv,Vv,Av,y0=!1,av=!1,fv=0)=>{for(let lv=fv;lv<Tv.length;lv++)Cv(Tv[lv],Vv,Av,y0,av)},Hv=Tv=>{if(Tv.shapeFlag&6)return Hv(Tv.component.subTree);if(Tv.shapeFlag&128)return Tv.suspense.next();const Vv=ie(Tv.anchor||Tv.el),Av=Vv&&Vv[TeleportEndKey];return Av?ie(Av):Vv};let Gv=!1;const f0=(Tv,Vv,Av)=>{let y0;Tv==null?Vv._vnode&&(Cv(Vv._vnode,null,null,!0),y0=Vv._vnode.component):hr(Vv._vnode||null,Tv,Vv,null,null,null,Av),Vv._vnode=Tv,Gv||(Gv=!0,flushPreFlushCbs(y0),flushPostFlushCbs(),Gv=!1)},qv={p:hr,um:Cv,m:mv,r:uv,mt:gv,mc:qm,pc:Jm,pbc:Km,n:Hv,o:t};return{render:f0,hydrate:void 0,createApp:createAppAPI(f0)}}function resolveChildrenNamespace({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function toggleRecurse({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function needTransition(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(t,e,n=!1){const r=t.children,g=e.children;if(isArray$1(r)&&isArray$1(g))for(let $=0;$<r.length;$++){const y=r[$];let k=g[$];k.shapeFlag&1&&!k.dynamicChildren&&((k.patchFlag<=0||k.patchFlag===32)&&(k=g[$]=cloneIfMounted(g[$]),k.el=y.el),!n&&k.patchFlag!==-2&&traverseStaticChildren(y,k)),k.type===Text$1&&(k.patchFlag!==-1?k.el=y.el:k.__elIndex=$+(t.type===Fragment?1:0)),k.type===Comment&&!k.el&&(k.el=y.el)}}function getSequence(t){const e=t.slice(),n=[0];let r,g,$,y,k;const L=t.length;for(r=0;r<L;r++){const V=t[r];if(V!==0){if(g=n[n.length-1],t[g]<V){e[r]=g,n.push(r);continue}for($=0,y=n.length-1;$<y;)k=$+y>>1,t[n[k]]<V?$=k+1:y=k;V<t[n[$]]&&($>0&&(e[r]=n[$-1]),n[$]=r)}}for($=n.length,y=n[$-1];$-- >0;)n[$]=y,y=e[y];return n}function locateNonHydratedAsyncRoot(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:locateNonHydratedAsyncRoot(e)}function invalidateMount(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function resolveAsyncComponentPlaceholder(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?resolveAsyncComponentPlaceholder(e.subTree):null}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$1(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}const Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t,e=!1){isBlockTreeEnabled+=t,t<0&&currentBlock&&e&&(currentBlock.hasOnce=!0)}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,n,r,g,$){return setupBlock(createBaseVNode(t,e,n,r,g,$,!0))}function createBlock(t,e,n,r,g){return setupBlock(createVNode(t,e,n,r,g,!0))}function isVNode$1(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?isString$1(t)||isRef(t)||isFunction$1(t)?{i:currentRenderingInstance,r:t,k:e,f:!!n}:t:null);function createBaseVNode(t,e=null,n=null,r=0,g=null,$=t===Fragment?0:1,y=!1,k=!1){const L={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:$,patchFlag:r,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return k?(normalizeChildren(L,n),$&128&&t.normalize(L)):n&&(L.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!y&&currentBlock&&(L.patchFlag>0||$&6)&&L.patchFlag!==32&&currentBlock.push(L),L}const createVNode=_createVNode;function _createVNode(t,e=null,n=null,r=0,g=null,$=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode$1(t)){const k=cloneVNode(t,e,!0);return n&&normalizeChildren(k,n),isBlockTreeEnabled>0&&!$&&currentBlock&&(k.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=k:currentBlock.push(k)),k.patchFlag=-2,k}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:k,style:L}=e;k&&!isString$1(k)&&(e.class=normalizeClass(k)),isObject$2(L)&&(isProxy(L)&&!isArray$1(L)&&(L=extend({},L)),e.style=normalizeStyle(L))}const y=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$2(t)?4:isFunction$1(t)?2:0;return createBaseVNode(t,e,n,r,g,y,$,!0)}function guardReactiveProps(t){return t?isProxy(t)||isInternalObject(t)?extend({},t):t:null}function cloneVNode(t,e,n=!1,r=!1){const{props:g,ref:$,patchFlag:y,children:k,transition:L}=t,V=e?mergeProps(g||{},e):g,z={__v_isVNode:!0,__v_skip:!0,type:t.type,props:V,key:V&&normalizeKey(V),ref:e&&e.ref?n&&$?isArray$1($)?$.concat(normalizeRef(e)):[$,normalizeRef(e)]:normalizeRef(e):$,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:k,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?y===-1?16:y|16:y,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:L,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return L&&r&&setTransitionHooks(z,L.clone(z)),z}function createTextVNode(t=" ",e=0){return createVNode(Text$1,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$1(t)?createVNode(Fragment,null,t.slice()):isVNode$1(t)?cloneIfMounted(t):createVNode(Text$1,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(isArray$1(e))n=16;else if(typeof e=="object")if(r&65){const g=e.default;g&&(g._c&&(g._d=!1),normalizeChildren(t,g()),g._c&&(g._d=!0));return}else{n=32;const g=e._;!g&&!isInternalObject(e)?e._ctx=currentRenderingInstance:g===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$1(e)?(e={default:e,_ctx:currentRenderingInstance},n=32):(e=String(e),r&64?(n=16,e=[createTextVNode(e)]):n=8);t.children=e,t.shapeFlag|=n}function mergeProps(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const g in r)if(g==="class")e.class!==r.class&&(e.class=normalizeClass([e.class,r.class]));else if(g==="style")e.style=normalizeStyle([e.style,r.style]);else if(isOn(g)){const $=e[g],y=r[g];y&&$!==y&&!(isArray$1($)&&$.includes(y))&&(e[g]=$?[].concat($,y):y)}else g!==""&&(e[g]=r[g])}return e}function invokeVNodeHook(t,e,n,r=null){callWithAsyncErrorHandling(t,e,7,[n,r])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(t,e,n){const r=t.type,g=(e?e.appContext:t.appContext)||emptyAppContext,$={uid:uid$2++,vnode:t,type:r,parent:e,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(g.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,g),emitsOptions:normalizeEmitsOptions(r,g),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return $.ctx={_:$},$.root=e?e.root:$,$.emit=emit.bind(null,$),t.ce&&t.ce($),$}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const t=getGlobalThis$1(),e=(n,r)=>{let g;return(g=t[n])||(g=t[n]=[]),g.push(r),$=>{g.length>1?g.forEach(y=>y($)):g[0]($)}};internalSetCurrentInstance=e("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=e("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=t=>{const e=currentInstance;return internalSetCurrentInstance(t),t.scope.on(),()=>{t.scope.off(),internalSetCurrentInstance(e)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1,n=!1){e&&setInSSRSetupState(e);const{props:r,children:g}=t.vnode,$=isStatefulComponent(t);initProps(t,r,$,e),initSlots(t,g,n||e);const y=$?setupStatefulComponent(t,e):void 0;return e&&setInSSRSetupState(!1),y}function setupStatefulComponent(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,PublicInstanceProxyHandlers);const{setup:r}=n;if(r){pauseTracking();const g=t.setupContext=r.length>1?createSetupContext(t):null,$=setCurrentInstance(t),y=callWithErrorHandling(r,t,0,[t.props,g]),k=isPromise$1(y);if(resetTracking(),$(),(k||t.sp)&&!isAsyncWrapper(t)&&markAsyncBoundary(t),k){if(y.then(unsetCurrentInstance,unsetCurrentInstance),e)return y.then(L=>{handleSetupResult(t,L)}).catch(L=>{handleError(L,t,0)});t.asyncDep=y}else handleSetupResult(t,y)}else finishComponentSetup(t)}function handleSetupResult(t,e,n){isFunction$1(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$2(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t)}function finishComponentSetup(t,e,n){const r=t.type;t.render||(t.render=r.render||NOOP);{const g=setCurrentInstance(t);pauseTracking();try{applyOptions(t)}finally{resetTracking(),g()}}}const attrsProxyHandlers={get(t,e){return track(t,"get",""),t[e]}};function createSetupContext(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,attrsProxyHandlers),slots:t.slots,emit:t.emit,expose:e}}function getComponentPublicInstance(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)},has(e,n){return n in e||n in publicPropertiesMap}})):t.proxy}const classifyRE=/(?:^|[-_])\w/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(t,e=!0){return isFunction$1(t)?t.displayName||t.name:t.name||e&&t.__name}function formatComponentName(t,e,n=!1){let r=getComponentName(e);if(!r&&e.__file){const g=e.__file.match(/([^/\\]+)\.\w+$/);g&&(r=g[1])}if(!r&&t){const g=$=>{for(const y in $)if($[y]===e)return y};r=g(t.components)||t.parent&&g(t.parent.type.components)||g(t.appContext.components)}return r?classify(r):n?"App":"Anonymous"}function isClassComponent(t){return isFunction$1(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h$1(t,e,n){try{setBlockTracking(-1);const r=arguments.length;return r===2?isObject$2(e)&&!isArray$1(e)?isVNode$1(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode$1(n)&&(n=[n]),createVNode(t,e,n))}finally{setBlockTracking(1)}}const version$1="3.5.26",warn$2=NOOP;/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt$1=typeof window<"u"&&window.trustedTypes;if(tt$1)try{policy=tt$1.createPolicy("vue",{createHTML:t=>t})}catch{}const unsafeToTrustedHTML=policy?t=>policy.createHTML(t):t=>t,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const g=e==="svg"?doc.createElementNS(svgNS,t):e==="mathml"?doc.createElementNS(mathmlNS,t):n?doc.createElement(t,{is:n}):doc.createElement(t);return t==="select"&&r&&r.multiple!=null&&g.setAttribute("multiple",r.multiple),g},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,g,$){const y=n?n.previousSibling:e.lastChild;if(g&&(g===$||g.nextSibling))for(;e.insertBefore(g.cloneNode(!0),n),!(g===$||!(g=g.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const k=templateContainer.content;if(r==="svg"||r==="mathml"){const L=k.firstChild;for(;L.firstChild;)k.appendChild(L.firstChild);k.removeChild(L)}e.insertBefore(k,n)}return[y?y.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=t=>(t.displayName="Transition",t.props=TransitionPropsValidators,t),Transition=decorate$1((t,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(t),e)),callHook=(t,e=[])=>{isArray$1(t)?t.forEach(n=>n(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$1(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const nv in t)nv in DOMTransitionPropsValidators||(e[nv]=t[nv]);if(t.css===!1)return e;const{name:n="v",type:r,duration:g,enterFromClass:$=`${n}-enter-from`,enterActiveClass:y=`${n}-enter-active`,enterToClass:k=`${n}-enter-to`,appearFromClass:L=$,appearActiveClass:V=y,appearToClass:z=k,leaveFromClass:j=`${n}-leave-from`,leaveActiveClass:ie=`${n}-leave-active`,leaveToClass:Oe=`${n}-leave-to`}=t,ur=normalizeDuration(g),hr=ur&&ur[0],Vr=ur&&ur[1],{onBeforeEnter:dr,onEnter:ec,onEnterCancelled:tc,onLeave:Xs,onLeaveCancelled:rc,onBeforeAppear:ic=dr,onAppear:_c=ec,onAppearCancelled:qm=tc}=e,Xm=(nv,sv,gv,Sv)=>{nv._enterCancelled=Sv,removeTransitionClass(nv,sv?z:k),removeTransitionClass(nv,sv?V:y),gv&&gv()},Km=(nv,sv)=>{nv._isLeaving=!1,removeTransitionClass(nv,j),removeTransitionClass(nv,Oe),removeTransitionClass(nv,ie),sv&&sv()},tv=nv=>(sv,gv)=>{const Sv=nv?_c:ec,wv=()=>Xm(sv,nv,gv);callHook(Sv,[sv,wv]),nextFrame(()=>{removeTransitionClass(sv,nv?L:$),addTransitionClass(sv,nv?z:k),hasExplicitCallback(Sv)||whenTransitionEnds(sv,r,hr,wv)})};return extend(e,{onBeforeEnter(nv){callHook(dr,[nv]),addTransitionClass(nv,$),addTransitionClass(nv,y)},onBeforeAppear(nv){callHook(ic,[nv]),addTransitionClass(nv,L),addTransitionClass(nv,V)},onEnter:tv(!1),onAppear:tv(!0),onLeave(nv,sv){nv._isLeaving=!0;const gv=()=>Km(nv,sv);addTransitionClass(nv,j),nv._enterCancelled?(addTransitionClass(nv,ie),forceReflow(nv)):(forceReflow(nv),addTransitionClass(nv,ie)),nextFrame(()=>{nv._isLeaving&&(removeTransitionClass(nv,j),addTransitionClass(nv,Oe),hasExplicitCallback(Xs)||whenTransitionEnds(nv,r,Vr,gv))}),callHook(Xs,[nv,gv])},onEnterCancelled(nv){Xm(nv,!1,void 0,!0),callHook(tc,[nv])},onAppearCancelled(nv){Xm(nv,!0,void 0,!0),callHook(qm,[nv])},onLeaveCancelled(nv){Km(nv),callHook(rc,[nv])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$2(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[vtcKey]||(t[vtcKey]=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[vtcKey];n&&(n.delete(e),n.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,n,r){const g=t._endId=++endId,$=()=>{g===t._endId&&r()};if(n!=null)return setTimeout($,n);const{type:y,timeout:k,propCount:L}=getTransitionInfo(t,e);if(!y)return r();const V=y+"end";let z=0;const j=()=>{t.removeEventListener(V,ie),$()},ie=Oe=>{Oe.target===t&&++z>=L&&j()};setTimeout(()=>{z<L&&j()},k+1),t.addEventListener(V,ie)}function getTransitionInfo(t,e){const n=window.getComputedStyle(t),r=ur=>(n[ur]||"").split(", "),g=r(`${TRANSITION}Delay`),$=r(`${TRANSITION}Duration`),y=getTimeout(g,$),k=r(`${ANIMATION}Delay`),L=r(`${ANIMATION}Duration`),V=getTimeout(k,L);let z=null,j=0,ie=0;e===TRANSITION?y>0&&(z=TRANSITION,j=y,ie=$.length):e===ANIMATION?V>0&&(z=ANIMATION,j=V,ie=L.length):(j=Math.max(y,V),z=j>0?y>V?TRANSITION:ANIMATION:null,ie=z?z===TRANSITION?$.length:L.length:0);const Oe=z===TRANSITION&&/\b(?:transform|all)(?:,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:z,timeout:j,propCount:ie,hasTransform:Oe}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>toMs(n)+toMs(t[r])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(t){return(t?t.ownerDocument:document).body.offsetHeight}function patchClass(t,e,n){const r=t[vtcKey];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={name:"show",beforeMount(t,{value:e},{transition:n}){t[vShowOriginalDisplay]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),setDisplay(t,!0),r.enter(t)):r.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t[vShowOriginalDisplay]:"none",t[vShowHidden]=!e}const CSS_VAR_TEXT=Symbol("");function useCssVars(t){const e=getCurrentInstance();if(!e)return;const n=e.ut=(g=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach($=>setVarsOnNode($,g))},r=()=>{const g=t(e.proxy);e.ce?setVarsOnNode(e.ce,g):setVarsOnVNode(e.subTree,g),n(g)};onBeforeUpdate(()=>{queuePostFlushCb(r)}),onMounted(()=>{watch(r,NOOP,{flush:"post"});const g=new MutationObserver(r);g.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>g.disconnect())})}function setVarsOnVNode(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{setVarsOnVNode(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)setVarsOnNode(t.el,e);else if(t.type===Fragment)t.children.forEach(n=>setVarsOnVNode(n,e));else if(t.type===Static){let{el:n,anchor:r}=t;for(;n&&(setVarsOnNode(n,e),n!==r);)n=n.nextSibling}}function setVarsOnNode(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const g in e){const $=normalizeCssVarValue(e[g]);n.setProperty(`--${g}`,$),r+=`--${g}: ${$};`}n[CSS_VAR_TEXT]=r}}const displayRE=/(?:^|;)\s*display\s*:/;function patchStyle(t,e,n){const r=t.style,g=isString$1(n);let $=!1;if(n&&!g){if(e)if(isString$1(e))for(const y of e.split(";")){const k=y.slice(0,y.indexOf(":")).trim();n[k]==null&&setStyle$1(r,k,"")}else for(const y in e)n[y]==null&&setStyle$1(r,y,"");for(const y in n)y==="display"&&($=!0),setStyle$1(r,y,n[y])}else if(g){if(e!==n){const y=r[CSS_VAR_TEXT];y&&(n+=";"+y),r.cssText=n,$=displayRE.test(n)}}else e&&t.removeAttribute("style");vShowOriginalDisplay in t&&(t[vShowOriginalDisplay]=$?r.display:"",t[vShowHidden]&&(r.display="none"))}const importantRE=/\s*!important$/;function setStyle$1(t,e,n){if(isArray$1(n))n.forEach(r=>setStyle$1(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=autoPrefix(t,e);importantRE.test(n)?t.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):t[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const n=prefixCache[e];if(n)return n;let r=camelize(e);if(r!=="filter"&&r in t)return prefixCache[e]=r;r=capitalize$2(r);for(let g=0;g<prefixes.length;g++){const $=prefixes[g]+r;if($ in t)return prefixCache[e]=$}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,n,r,g,$=isSpecialBooleanAttr(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,n):n==null||$&&!includeBooleanAttr(n)?t.removeAttribute(e):t.setAttribute(e,$?"":isSymbol(n)?String(n):n)}function patchDOMProp(t,e,n,r,g){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?unsafeToTrustedHTML(n):n);return}const $=t.tagName;if(e==="value"&&$!=="PROGRESS"&&!$.includes("-")){const k=$==="OPTION"?t.getAttribute("value")||"":t.value,L=n==null?t.type==="checkbox"?"on":"":String(n);(k!==L||!("_value"in t))&&(t.value=L),n==null&&t.removeAttribute(e),t._value=n;return}let y=!1;if(n===""||n==null){const k=typeof t[e];k==="boolean"?n=includeBooleanAttr(n):n==null&&k==="string"?(n="",y=!0):k==="number"&&(n=0,y=!0)}try{t[e]=n}catch{}y&&t.removeAttribute(g||e)}function addEventListener(t,e,n,r){t.addEventListener(e,n,r)}function removeEventListener(t,e,n,r){t.removeEventListener(e,n,r)}const veiKey=Symbol("_vei");function patchEvent(t,e,n,r,g=null){const $=t[veiKey]||(t[veiKey]={}),y=$[e];if(r&&y)y.value=r;else{const[k,L]=parseName(e);if(r){const V=$[e]=createInvoker(r,g);addEventListener(t,k,V,L)}else y&&(removeEventListener(t,k,y,L),$[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let r;for(;r=t.match(optionsModifierRE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),e,5,[r])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,e){if(isArray$1(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>g=>!g._stopped&&r&&r(g))}else return e}const isNativeOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,patchProp=(t,e,n,r,g,$)=>{const y=g==="svg";e==="class"?patchClass(t,r,y):e==="style"?patchStyle(t,n,r):isOn(e)?isModelListener(e)||patchEvent(t,e,n,r,$):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,r,y))?(patchDOMProp(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&patchAttr(t,e,r,y,$,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!isString$1(r))?patchDOMProp(t,camelize(e),r,$,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),patchAttr(t,e,r,y))};function shouldSetAsProp(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&isNativeOn(e)&&isFunction$1(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const g=t.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return isNativeOn(e)&&isString$1(n)?!1:e in t}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),decorate=t=>(delete t.props.mode,t),TransitionGroupImpl=decorate({name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=getCurrentInstance(),r=useTransitionState();let g,$;return onUpdated(()=>{if(!g.length)return;const y=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(g[0].el,n.vnode.el,y)){g=[];return}g.forEach(callPendingCbs),g.forEach(recordPosition);const k=g.filter(applyTranslation);forceReflow(n.vnode.el),k.forEach(L=>{const V=L.el,z=V.style;addTransitionClass(V,y),z.transform=z.webkitTransform=z.transitionDuration="";const j=V[moveCbKey]=ie=>{ie&&ie.target!==V||(!ie||ie.propertyName.endsWith("transform"))&&(V.removeEventListener("transitionend",j),V[moveCbKey]=null,removeTransitionClass(V,y))};V.addEventListener("transitionend",j)}),g=[]}),()=>{const y=toRaw(t),k=resolveTransitionProps(y);let L=y.tag||Fragment;if(g=[],$)for(let V=0;V<$.length;V++){const z=$[V];z.el&&z.el instanceof Element&&(g.push(z),setTransitionHooks(z,resolveTransitionHooks(z,k,r,n)),positionMap.set(z,{left:z.el.offsetLeft,top:z.el.offsetTop}))}$=e.default?getTransitionRawChildren(e.default()):[];for(let V=0;V<$.length;V++){const z=$[V];z.key!=null&&setTransitionHooks(z,resolveTransitionHooks(z,k,r,n))}return createVNode(L,null,$)}}}),TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e[moveCbKey]&&e[moveCbKey](),e[enterCbKey]&&e[enterCbKey]()}function recordPosition(t){newPositionMap.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function applyTranslation(t){const e=positionMap.get(t),n=newPositionMap.get(t),r=e.left-n.left,g=e.top-n.top;if(r||g){const $=t.el.style;return $.transform=$.webkitTransform=`translate(${r}px,${g}px)`,$.transitionDuration="0s",t}}function hasCSSTransform(t,e,n){const r=t.cloneNode(),g=t[vtcKey];g&&g.forEach(k=>{k.split(/\s+/).forEach(L=>L&&r.classList.remove(L))}),n.split(/\s+/).forEach(k=>k&&r.classList.add(k)),r.style.display="none";const $=e.nodeType===1?e:e.parentNode;$.appendChild(r);const{hasTransform:y}=getTransitionInfo(r);return $.removeChild(r),y}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray$1(e)?n=>invokeArrayFns(e,n):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign");function castValue(t,e,n){return e&&(t=t.trim()),n&&(t=looseToNumber$1(t)),t}const vModelText={created(t,{modifiers:{lazy:e,trim:n,number:r}},g){t[assignKey]=getModelAssigner(g);const $=r||g.props&&g.props.type==="number";addEventListener(t,e?"change":"input",y=>{y.target.composing||t[assignKey](castValue(t.value,n,$))}),(n||$)&&addEventListener(t,"change",()=>{t.value=castValue(t.value,n,$)}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:g,number:$}},y){if(t[assignKey]=getModelAssigner(y),t.composing)return;const k=($||t.type==="number")&&!/^0\d/.test(t.value)?looseToNumber$1(t.value):t.value,L=e??"";k!==L&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||g&&t.value.trim()===L)||(t.value=L))}},vModelCheckbox={deep:!0,created(t,e,n){t[assignKey]=getModelAssigner(n),addEventListener(t,"change",()=>{const r=t._modelValue,g=getValue$1(t),$=t.checked,y=t[assignKey];if(isArray$1(r)){const k=looseIndexOf(r,g),L=k!==-1;if($&&!L)y(r.concat(g));else if(!$&&L){const V=[...r];V.splice(k,1),y(V)}}else if(isSet(r)){const k=new Set(r);$?k.add(g):k.delete(g),y(k)}else y(getCheckboxValue(t,$))})},mounted:setChecked,beforeUpdate(t,e,n){t[assignKey]=getModelAssigner(n),setChecked(t,e,n)}};function setChecked(t,{value:e,oldValue:n},r){t._modelValue=e;let g;if(isArray$1(e))g=looseIndexOf(e,r.props.value)>-1;else if(isSet(e))g=e.has(r.props.value);else{if(e===n)return;g=looseEqual(e,getCheckboxValue(t,!0))}t.checked!==g&&(t.checked=g)}const vModelRadio={created(t,{value:e},n){t.checked=looseEqual(e,n.props.value),t[assignKey]=getModelAssigner(n),addEventListener(t,"change",()=>{t[assignKey](getValue$1(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[assignKey]=getModelAssigner(r),e!==n&&(t.checked=looseEqual(e,r.props.value))}};function getValue$1(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(n=>t[`${n}Key`]&&!e.includes(n))},withModifiers=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(g,...$)=>{for(let y=0;y<e.length;y++){const k=modifierGuards[e[y]];if(k&&k(g,e))return}return t(g,...$)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=g=>{if(!("key"in g))return;const $=hyphenate(g.key);if(e.some(y=>y===$||keyNames[y]===$))return t(g)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...t)=>{ensureRenderer().render(...t)},createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:n}=e;return e.mount=r=>{const g=normalizeContainer(r);if(!g)return;const $=e._component;!isFunction$1($)&&!$.render&&!$.template&&($.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const y=n(g,!1,resolveRootNamespace(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),y},e};function resolveRootNamespace(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}function computedEager(t,e){var n;const r=shallowRef();return watchEffect(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),readonly(r)}function tryOnScopeDispose(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}function toValue(t){return typeof t=="function"?t():unref(t)}function toReactive(t){if(!isRef(t))return reactive(t);const e=new Proxy({},{get(n,r,g){return unref(Reflect.get(t.value,r,g))},set(n,r,g){return isRef(t.value[r])&&!isRef(g)?t.value[r].value=g:t.value[r]=g,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return reactive(e)}function reactiveComputed(t){return toReactive(computed(t))}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const isDef=t=>typeof t<"u",notNullish=t=>t!=null,toString=Object.prototype.toString,isObject$1=t=>toString.call(t)==="[object Object]",clamp$1=(t,e,n)=>Math.min(n,Math.max(e,t)),noop=()=>{},isIOS=getIsIOS();function getIsIOS(){var t,e;return isClient&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function createFilterWrapper(t,e){function n(...r){return new Promise((g,$)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(g).catch($)})}return n}const bypassFilter=t=>t();function debounceFilter(t,e={}){let n,r,g=noop;const $=k=>{clearTimeout(k),g(),g=noop};return k=>{const L=toValue(t),V=toValue(e.maxWait);return n&&$(n),L<=0||V!==void 0&&V<=0?(r&&($(r),r=null),Promise.resolve(k())):new Promise((z,j)=>{g=e.rejectOnCancel?j:z,V&&!r&&(r=setTimeout(()=>{n&&$(n),r=null,z(k())},V)),n=setTimeout(()=>{r&&$(r),r=null,z(k())},L)})}}function throttleFilter(...t){let e=0,n,r=!0,g=noop,$,y,k,L,V;!isRef(t[0])&&typeof t[0]=="object"?{delay:y,trailing:k=!0,leading:L=!0,rejectOnCancel:V=!1}=t[0]:[y,k=!0,L=!0,V=!1]=t;const z=()=>{n&&(clearTimeout(n),n=void 0,g(),g=noop)};return ie=>{const Oe=toValue(y),ur=Date.now()-e,hr=()=>$=ie();return z(),Oe<=0?(e=Date.now(),hr()):(ur>Oe&&(L||!r)?(e=Date.now(),hr()):k&&($=new Promise((Vr,dr)=>{g=V?dr:Vr,n=setTimeout(()=>{e=Date.now(),r=!0,Vr(hr()),z()},Math.max(0,Oe-ur))})),!L&&!n&&(n=setTimeout(()=>r=!0,Oe)),r=!1,$)}}function pausableFilter(t=bypassFilter){const e=ref(!0);function n(){e.value=!1}function r(){e.value=!0}const g=(...$)=>{e.value&&t(...$)};return{isActive:readonly(e),pause:n,resume:r,eventFilter:g}}function getLifeCycleTarget(t){return getCurrentInstance()}function toRef(...t){if(t.length!==1)return toRef$1(...t);const e=t[0];return typeof e=="function"?readonly(customRef(()=>({get:e,set:noop}))):ref(e)}function useDebounceFn(t,e=200,n={}){return createFilterWrapper(debounceFilter(e,n),t)}function refDebounced(t,e=200,n={}){const r=ref(t.value),g=useDebounceFn(()=>{r.value=t.value},e,n);return watch(t,()=>g()),r}function useThrottleFn(t,e=200,n=!1,r=!0,g=!1){return createFilterWrapper(throttleFilter(e,n,r,g),t)}function watchWithFilter(t,e,n={}){const{eventFilter:r=bypassFilter,...g}=n;return watch(t,createFilterWrapper(r,e),g)}function watchPausable(t,e,n={}){const{eventFilter:r,...g}=n,{eventFilter:$,pause:y,resume:k,isActive:L}=pausableFilter(r);return{stop:watchWithFilter(t,e,{...g,eventFilter:$}),pause:y,resume:k,isActive:L}}function tryOnMounted(t,e=!0,n){getLifeCycleTarget()?onMounted(t,n):e?t():nextTick(t)}function useTimeoutFn(t,e,n={}){const{immediate:r=!0}=n,g=ref(!1);let $=null;function y(){$&&(clearTimeout($),$=null)}function k(){g.value=!1,y()}function L(...V){y(),g.value=!0,$=setTimeout(()=>{g.value=!1,$=null,t(...V)},toValue(e))}return r&&(g.value=!0,isClient&&L()),tryOnScopeDispose(k),{isPending:readonly(g),start:L,stop:k}}function useToggle(t=!1,e={}){const{truthyValue:n=!0,falsyValue:r=!1}=e,g=isRef(t),$=ref(t);function y(k){if(arguments.length)return $.value=k,$.value;{const L=toValue(n);return $.value=$.value===L?toValue(r):L,$.value}}return g?y:[$,y]}function unrefElement(t){var e;const n=toValue(t);return(e=n==null?void 0:n.$el)!=null?e:n}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...t){let e,n,r,g;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,g]=t,e=defaultWindow):[e,n,r,g]=t,!e)return noop;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const $=[],y=()=>{$.forEach(z=>z()),$.length=0},k=(z,j,ie,Oe)=>(z.addEventListener(j,ie,Oe),()=>z.removeEventListener(j,ie,Oe)),L=watch(()=>[unrefElement(e),toValue(g)],([z,j])=>{if(y(),!z)return;const ie=isObject$1(j)?{...j}:j;$.push(...n.flatMap(Oe=>r.map(ur=>k(z,Oe,ur,ie))))},{immediate:!0,flush:"post"}),V=()=>{L(),y()};return tryOnScopeDispose(V),V}let _iOSWorkaround=!1;function onClickOutside(t,e,n={}){const{window:r=defaultWindow,ignore:g=[],capture:$=!0,detectIframe:y=!1}=n;if(!r)return noop;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(r.document.body.children).forEach(ie=>ie.addEventListener("click",noop)),r.document.documentElement.addEventListener("click",noop));let k=!0;const L=ie=>g.some(Oe=>{if(typeof Oe=="string")return Array.from(r.document.querySelectorAll(Oe)).some(ur=>ur===ie.target||ie.composedPath().includes(ur));{const ur=unrefElement(Oe);return ur&&(ie.target===ur||ie.composedPath().includes(ur))}}),z=[useEventListener(r,"click",ie=>{const Oe=unrefElement(t);if(!(!Oe||Oe===ie.target||ie.composedPath().includes(Oe))){if(ie.detail===0&&(k=!L(ie)),!k){k=!0;return}e(ie)}},{passive:!0,capture:$}),useEventListener(r,"pointerdown",ie=>{const Oe=unrefElement(t);k=!L(ie)&&!!(Oe&&!ie.composedPath().includes(Oe))},{passive:!0}),y&&useEventListener(r,"blur",ie=>{setTimeout(()=>{var Oe;const ur=unrefElement(t);((Oe=r.document.activeElement)==null?void 0:Oe.tagName)==="IFRAME"&&!(ur!=null&&ur.contains(r.document.activeElement))&&e(ie)},0)})].filter(Boolean);return()=>z.forEach(ie=>ie())}function useMounted(){const t=ref(!1),e=getCurrentInstance();return e&&onMounted(()=>{t.value=!0},e),t}function useSupported(t){const e=useMounted();return computed(()=>(e.value,!!t()))}function useMutationObserver(t,e,n={}){const{window:r=defaultWindow,...g}=n;let $;const y=useSupported(()=>r&&"MutationObserver"in r),k=()=>{$&&($.disconnect(),$=void 0)},L=computed(()=>{const ie=toValue(t),Oe=(Array.isArray(ie)?ie:[ie]).map(unrefElement).filter(notNullish);return new Set(Oe)}),V=watch(()=>L.value,ie=>{k(),y.value&&ie.size&&($=new MutationObserver(e),ie.forEach(Oe=>$.observe(Oe,g)))},{immediate:!0,flush:"post"}),z=()=>$==null?void 0:$.takeRecords(),j=()=>{k(),V()};return tryOnScopeDispose(j),{isSupported:y,stop:j,takeRecords:z}}function useActiveElement(t={}){var e;const{window:n=defaultWindow,deep:r=!0,triggerOnRemoval:g=!1}=t,$=(e=t.document)!=null?e:n==null?void 0:n.document,y=()=>{var V;let z=$==null?void 0:$.activeElement;if(r)for(;z!=null&&z.shadowRoot;)z=(V=z==null?void 0:z.shadowRoot)==null?void 0:V.activeElement;return z},k=ref(),L=()=>{k.value=y()};return n&&(useEventListener(n,"blur",V=>{V.relatedTarget===null&&L()},!0),useEventListener(n,"focus",L,!0)),g&&useMutationObserver($,V=>{V.filter(z=>z.removedNodes.length).map(z=>Array.from(z.removedNodes)).flat().forEach(z=>{z===k.value&&L()})},{childList:!0,subtree:!0}),L(),k}function useMediaQuery(t,e={}){const{window:n=defaultWindow}=e,r=useSupported(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let g;const $=ref(!1),y=V=>{$.value=V.matches},k=()=>{g&&("removeEventListener"in g?g.removeEventListener("change",y):g.removeListener(y))},L=watchEffect(()=>{r.value&&(k(),g=n.matchMedia(toValue(t)),"addEventListener"in g?g.addEventListener("change",y):g.addListener(y),$.value=g.matches)});return tryOnScopeDispose(()=>{L(),k(),g=void 0}),$}function cloneFnJSON(t){return JSON.parse(JSON.stringify(t))}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__",handlers=getHandlers();function getHandlers(){return globalKey in _global||(_global[globalKey]=_global[globalKey]||{}),_global[globalKey]}function getSSRHandler(t,e){return handlers[t]||e}function guessSerializerType(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const StorageSerializers={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(t,e,n,r={}){var g;const{flush:$="pre",deep:y=!0,listenToStorageChanges:k=!0,writeDefaults:L=!0,mergeDefaults:V=!1,shallow:z,window:j=defaultWindow,eventFilter:ie,onError:Oe=Km=>{console.error(Km)},initOnMounted:ur}=r,hr=(z?shallowRef:ref)(typeof e=="function"?e():e);if(!n)try{n=getSSRHandler("getDefaultStorage",()=>{var Km;return(Km=defaultWindow)==null?void 0:Km.localStorage})()}catch(Km){Oe(Km)}if(!n)return hr;const Vr=toValue(e),dr=guessSerializerType(Vr),ec=(g=r.serializer)!=null?g:StorageSerializers[dr],{pause:tc,resume:Xs}=watchPausable(hr,()=>ic(hr.value),{flush:$,deep:y,eventFilter:ie});j&&k&&tryOnMounted(()=>{useEventListener(j,"storage",qm),useEventListener(j,customStorageEventName,Xm),ur&&qm()}),ur||qm();function rc(Km,tv){j&&j.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:t,oldValue:Km,newValue:tv,storageArea:n}}))}function ic(Km){try{const tv=n.getItem(t);if(Km==null)rc(tv,null),n.removeItem(t);else{const nv=ec.write(Km);tv!==nv&&(n.setItem(t,nv),rc(tv,nv))}}catch(tv){Oe(tv)}}function _c(Km){const tv=Km?Km.newValue:n.getItem(t);if(tv==null)return L&&Vr!=null&&n.setItem(t,ec.write(Vr)),Vr;if(!Km&&V){const nv=ec.read(tv);return typeof V=="function"?V(nv,Vr):dr==="object"&&!Array.isArray(nv)?{...Vr,...nv}:nv}else return typeof tv!="string"?tv:ec.read(tv)}function qm(Km){if(!(Km&&Km.storageArea!==n)){if(Km&&Km.key==null){hr.value=Vr;return}if(!(Km&&Km.key!==t)){tc();try{(Km==null?void 0:Km.newValue)!==ec.write(hr.value)&&(hr.value=_c(Km))}catch(tv){Oe(tv)}finally{Km?nextTick(Xs):Xs()}}}}function Xm(Km){qm(Km.detail)}return hr}function usePreferredDark(t){return useMediaQuery("(prefers-color-scheme: dark)",t)}function useColorMode(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:g=defaultWindow,storage:$,storageKey:y="vueuse-color-scheme",listenToStorageChanges:k=!0,storageRef:L,emitAuto:V,disableTransition:z=!0}=t,j={auto:"",light:"light",dark:"dark",...t.modes||{}},ie=usePreferredDark({window:g}),Oe=computed(()=>ie.value?"dark":"light"),ur=L||(y==null?toRef(r):useStorage(y,r,$,{window:g,listenToStorageChanges:k})),hr=computed(()=>ur.value==="auto"?Oe.value:ur.value),Vr=getSSRHandler("updateHTMLAttrs",(Xs,rc,ic)=>{const _c=typeof Xs=="string"?g==null?void 0:g.document.querySelector(Xs):unrefElement(Xs);if(!_c)return;let qm;if(z&&(qm=g.document.createElement("style"),qm.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),g.document.head.appendChild(qm)),rc==="class"){const Xm=ic.split(/\s/g);Object.values(j).flatMap(Km=>(Km||"").split(/\s/g)).filter(Boolean).forEach(Km=>{Xm.includes(Km)?_c.classList.add(Km):_c.classList.remove(Km)})}else _c.setAttribute(rc,ic);z&&(g.getComputedStyle(qm).opacity,document.head.removeChild(qm))});function dr(Xs){var rc;Vr(e,n,(rc=j[Xs])!=null?rc:Xs)}function ec(Xs){t.onChanged?t.onChanged(Xs,dr):dr(Xs)}watch(hr,ec,{flush:"post",immediate:!0}),tryOnMounted(()=>ec(hr.value));const tc=computed({get(){return V?ur.value:hr.value},set(Xs){ur.value=Xs}});try{return Object.assign(tc,{store:ur,system:Oe,state:hr})}catch{return tc}}function useCssVar(t,e,n={}){const{window:r=defaultWindow,initialValue:g="",observe:$=!1}=n,y=ref(g),k=computed(()=>{var V;return unrefElement(e)||((V=r==null?void 0:r.document)==null?void 0:V.documentElement)});function L(){var V;const z=toValue(t),j=toValue(k);if(j&&r){const ie=(V=r.getComputedStyle(j).getPropertyValue(z))==null?void 0:V.trim();y.value=ie||g}}return $&&useMutationObserver(k,L,{attributeFilter:["style","class"],window:r}),watch([k,()=>toValue(t)],L,{immediate:!0}),watch(y,V=>{var z;(z=k.value)!=null&&z.style&&k.value.style.setProperty(toValue(t),V)}),y}function useDark(t={}){const{valueDark:e="dark",valueLight:n="",window:r=defaultWindow}=t,g=useColorMode({...t,onChanged:(k,L)=>{var V;t.onChanged?(V=t.onChanged)==null||V.call(t,k==="dark",L,k):L(k)},modes:{dark:e,light:n}}),$=computed(()=>g.system?g.system.value:usePreferredDark({window:r}).value?"dark":"light");return computed({get(){return g.value==="dark"},set(k){const L=k?"dark":"light";$.value===L?g.value="auto":g.value=L}})}function useDocumentVisibility(t={}){const{document:e=defaultDocument}=t;if(!e)return ref("visible");const n=ref(e.visibilityState);return useEventListener(e,"visibilitychange",()=>{n.value=e.visibilityState}),n}function useResizeObserver(t,e,n={}){const{window:r=defaultWindow,...g}=n;let $;const y=useSupported(()=>r&&"ResizeObserver"in r),k=()=>{$&&($.disconnect(),$=void 0)},L=computed(()=>Array.isArray(t)?t.map(j=>unrefElement(j)):[unrefElement(t)]),V=watch(L,j=>{if(k(),y.value&&r){$=new ResizeObserver(e);for(const ie of j)ie&&$.observe(ie,g)}},{immediate:!0,flush:"post"}),z=()=>{k(),V()};return tryOnScopeDispose(z),{isSupported:y,stop:z}}function useElementBounding(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:g=!0,immediate:$=!0}=e,y=ref(0),k=ref(0),L=ref(0),V=ref(0),z=ref(0),j=ref(0),ie=ref(0),Oe=ref(0);function ur(){const hr=unrefElement(t);if(!hr){n&&(y.value=0,k.value=0,L.value=0,V.value=0,z.value=0,j.value=0,ie.value=0,Oe.value=0);return}const Vr=hr.getBoundingClientRect();y.value=Vr.height,k.value=Vr.bottom,L.value=Vr.left,V.value=Vr.right,z.value=Vr.top,j.value=Vr.width,ie.value=Vr.x,Oe.value=Vr.y}return useResizeObserver(t,ur),watch(()=>unrefElement(t),hr=>!hr&&ur()),useMutationObserver(t,ur,{attributeFilter:["style","class"]}),g&&useEventListener("scroll",ur,{capture:!0,passive:!0}),r&&useEventListener("resize",ur,{passive:!0}),tryOnMounted(()=>{$&&ur()}),{height:y,bottom:k,left:L,right:V,top:z,width:j,x:ie,y:Oe,update:ur}}function useElementSize(t,e={width:0,height:0},n={}){const{window:r=defaultWindow,box:g="content-box"}=n,$=computed(()=>{var j,ie;return(ie=(j=unrefElement(t))==null?void 0:j.namespaceURI)==null?void 0:ie.includes("svg")}),y=ref(e.width),k=ref(e.height),{stop:L}=useResizeObserver(t,([j])=>{const ie=g==="border-box"?j.borderBoxSize:g==="content-box"?j.contentBoxSize:j.devicePixelContentBoxSize;if(r&&$.value){const Oe=unrefElement(t);if(Oe){const ur=Oe.getBoundingClientRect();y.value=ur.width,k.value=ur.height}}else if(ie){const Oe=Array.isArray(ie)?ie:[ie];y.value=Oe.reduce((ur,{inlineSize:hr})=>ur+hr,0),k.value=Oe.reduce((ur,{blockSize:hr})=>ur+hr,0)}else y.value=j.contentRect.width,k.value=j.contentRect.height},n);tryOnMounted(()=>{const j=unrefElement(t);j&&(y.value="offsetWidth"in j?j.offsetWidth:e.width,k.value="offsetHeight"in j?j.offsetHeight:e.height)});const V=watch(()=>unrefElement(t),j=>{y.value=j?e.width:0,k.value=j?e.height:0});function z(){L(),V()}return{width:y,height:k,stop:z}}function useIntersectionObserver(t,e,n={}){const{root:r,rootMargin:g="0px",threshold:$=.1,window:y=defaultWindow,immediate:k=!0}=n,L=useSupported(()=>y&&"IntersectionObserver"in y),V=computed(()=>{const ur=toValue(t);return(Array.isArray(ur)?ur:[ur]).map(unrefElement).filter(notNullish)});let z=noop;const j=ref(k),ie=L.value?watch(()=>[V.value,unrefElement(r),j.value],([ur,hr])=>{if(z(),!j.value||!ur.length)return;const Vr=new IntersectionObserver(e,{root:unrefElement(hr),rootMargin:g,threshold:$});ur.forEach(dr=>dr&&Vr.observe(dr)),z=()=>{Vr.disconnect(),z=noop}},{immediate:k,flush:"post"}):noop,Oe=()=>{z(),ie(),j.value=!1};return tryOnScopeDispose(Oe),{isSupported:L,isActive:j,pause(){z(),j.value=!1},resume(){j.value=!0},stop:Oe}}const eventHandlers=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function useFullscreen(t,e={}){const{document:n=defaultDocument,autoExit:r=!1}=e,g=computed(()=>{var dr;return(dr=unrefElement(t))!=null?dr:n==null?void 0:n.querySelector("html")}),$=ref(!1),y=computed(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(dr=>n&&dr in n||g.value&&dr in g.value)),k=computed(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(dr=>n&&dr in n||g.value&&dr in g.value)),L=computed(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(dr=>n&&dr in n||g.value&&dr in g.value)),V=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(dr=>n&&dr in n),z=useSupported(()=>g.value&&n&&y.value!==void 0&&k.value!==void 0&&L.value!==void 0),j=()=>V?(n==null?void 0:n[V])===g.value:!1,ie=()=>{if(L.value){if(n&&n[L.value]!=null)return n[L.value];{const dr=g.value;if((dr==null?void 0:dr[L.value])!=null)return!!dr[L.value]}}return!1};async function Oe(){if(!(!z.value||!$.value)){if(k.value)if((n==null?void 0:n[k.value])!=null)await n[k.value]();else{const dr=g.value;(dr==null?void 0:dr[k.value])!=null&&await dr[k.value]()}$.value=!1}}async function ur(){if(!z.value||$.value)return;ie()&&await Oe();const dr=g.value;y.value&&(dr==null?void 0:dr[y.value])!=null&&(await dr[y.value](),$.value=!0)}async function hr(){await($.value?Oe():ur())}const Vr=()=>{const dr=ie();(!dr||dr&&j())&&($.value=dr)};return useEventListener(n,eventHandlers,Vr,!1),useEventListener(()=>unrefElement(g),eventHandlers,Vr,!1),r&&tryOnScopeDispose(Oe),{isSupported:z,isFullscreen:$,enter:ur,exit:Oe,toggle:hr}}function useVModel(t,e,n,r={}){var g,$,y;const{clone:k=!1,passive:L=!1,eventName:V,deep:z=!1,defaultValue:j,shouldEmit:ie}=r,Oe=getCurrentInstance(),ur=n||(Oe==null?void 0:Oe.emit)||((g=Oe==null?void 0:Oe.$emit)==null?void 0:g.bind(Oe))||((y=($=Oe==null?void 0:Oe.proxy)==null?void 0:$.$emit)==null?void 0:y.bind(Oe==null?void 0:Oe.proxy));let hr=V;e||(e="modelValue"),hr=hr||`update:${e.toString()}`;const Vr=tc=>k?typeof k=="function"?k(tc):cloneFnJSON(tc):tc,dr=()=>isDef(t[e])?Vr(t[e]):j,ec=tc=>{ie?ie(tc)&&ur(hr,tc):ur(hr,tc)};if(L){const tc=dr(),Xs=ref(tc);let rc=!1;return watch(()=>t[e],ic=>{rc||(rc=!0,Xs.value=Vr(ic),nextTick(()=>rc=!1))}),watch(Xs,ic=>{!rc&&(ic!==t[e]||z)&&ec(ic)},{deep:z}),Xs}else return computed({get(){return dr()},set(tc){ec(tc)}})}function useWindowFocus(t={}){const{window:e=defaultWindow}=t;if(!e)return ref(!1);const n=ref(e.document.hasFocus());return useEventListener(e,"blur",()=>{n.value=!1}),useEventListener(e,"focus",()=>{n.value=!0}),n}function useWindowSize(t={}){const{window:e=defaultWindow,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:g=!0,includeScrollbar:$=!0}=t,y=ref(n),k=ref(r),L=()=>{e&&($?(y.value=e.innerWidth,k.value=e.innerHeight):(y.value=e.document.documentElement.clientWidth,k.value=e.document.documentElement.clientHeight))};if(L(),tryOnMounted(L),useEventListener("resize",L,{passive:!0}),g){const V=useMediaQuery("(orientation: portrait)");watch(V,()=>L())}return{width:y,height:k}}var English={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value",alphaDescription:"alpha {alpha}, current color is {color}",hueLabel:"pick hue value",hueDescription:"hue {hue}, current color is {color}",svLabel:"pick saturation and brightness value",svDescription:"saturation {saturation}, brightness {brightness}, current color is {color}",predefineDescription:"select {value} as the color"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum",selectAllLabel:"Select all rows",selectRowLabel:"Select this row",expandRowLabel:"Expand this row",collapseRowLabel:"Collapse this row",sortLabel:"Sort by {column}",filterLabel:"Filter by {column}"},tag:{close:"Close this tag"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}},zhCn={name:"zh-cn",el:{breadcrumb:{label:""},colorpicker:{confirm:"",clear:"",defaultLabel:"",description:" {color} Enter ",alphaLabel:"",alphaDescription:" {alpha},  {color}",hueLabel:"",hueDescription:" {hue},  {color}",svLabel:"",svDescription:" {saturation},  {brightness},  {color}",predefineDescription:" {value} "},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",dateTablePrompt:" Enter ",monthTablePrompt:" Enter ",yearTablePrompt:" Enter ",selectedDate:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},weeksFull:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},inputNumber:{decrease:"",increase:""},select:{loading:"",noMatch:"",noData:"",placeholder:""},mention:{loading:""},dropdown:{toggleDropdown:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:"",page:"",prev:"",next:"",currentPage:" {pager} ",prevPages:" {pager} ",nextPages:" {pager} ",deprecationWarning:" el-pagination "},dialog:{close:""},drawer:{close:""},messagebox:{title:"",confirm:"",cancel:"",error:"!",close:""},upload:{deleteTip:" Delete ",delete:"",preview:"",continue:""},slider:{defaultLabel:" {min}  {max}",defaultRangeStartLabel:"",defaultRangeEndLabel:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:"",selectAllLabel:"",selectRowLabel:"",expandRowLabel:"",collapseRowLabel:"",sortLabel:" {column} ",filterLabel:" {column} "},tag:{close:""},tour:{next:"",previous:"",finish:"",close:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""},carousel:{leftArrow:"",rightArrow:"",indicator:" {index}"}}};/*!
  * shared v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function warn(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const inBrowser=typeof window<"u",makeSymbol=(t,e=!1)=>e?Symbol.for(t):Symbol(t),generateFormatCacheKey=(t,e,n)=>friendlyJSONstringify({l:t,k:e,s:n}),friendlyJSONstringify=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber$1=t=>typeof t=="number"&&isFinite(t),isDate=t=>toTypeString(t)==="[object Date]",isRegExp=t=>toTypeString(t)==="[object RegExp]",isEmptyObject=t=>isPlainObject(t)&&Object.keys(t).length===0,assign=Object.assign,_create=Object.create,create=(t=null)=>_create(t);let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:create());function escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function escapeAttributeValue(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sanitizeTranslatedHtml(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,g,$)=>`${g}="${escapeAttributeValue($)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,g,$)=>`${g}='${escapeAttributeValue($)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(t,e){return hasOwnProperty.call(t,e)}const isArray=Array.isArray,isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",isBoolean$1=t=>typeof t=="boolean",isObject=t=>t!==null&&typeof t=="object",isPromise=t=>isObject(t)&&isFunction(t.then)&&isFunction(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),isPlainObject=t=>toTypeString(t)==="[object Object]",toDisplayString=t=>t==null?"":isArray(t)||isPlainObject(t)&&t.toString===objectToString?JSON.stringify(t,null,2):String(t);function join(t,e=""){return t.reduce((n,r,g)=>g===0?n+r:n+e+r,"")}const isNotObjectOrIsArray=t=>!isObject(t)||isArray(t);function deepCopy(t,e){if(isNotObjectOrIsArray(t)||isNotObjectOrIsArray(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:g}=n.pop();Object.keys(r).forEach($=>{$!=="__proto__"&&(isObject(r[$])&&!isObject(g[$])&&(g[$]=Array.isArray(r[$])?[]:create()),isNotObjectOrIsArray(g[$])||isNotObjectOrIsArray(r[$])?g[$]=r[$]:n.push({src:r[$],des:g[$]}))})}}/*!
  * message-compiler v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(t,e,n){return{line:t,column:e,offset:n}}function createLocation(t,e,n){return{start:t,end:e}}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},COMPILE_ERROR_CODES_EXTEND_POINT=17;function createCompileError(t,e,n={}){const{domain:r,messages:g,args:$}=n,y=t,k=new SyntaxError(String(y));return k.code=t,e&&(k.location=e),k.domain=r,k}function defaultOnError(t){throw t}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS="\u2028",CHAR_PS="\u2029";function createScanner(t){const e=t;let n=0,r=1,g=1,$=0;const y=_c=>e[_c]===CHAR_CR&&e[_c+1]===CHAR_LF,k=_c=>e[_c]===CHAR_LF,L=_c=>e[_c]===CHAR_PS,V=_c=>e[_c]===CHAR_LS,z=_c=>y(_c)||k(_c)||L(_c)||V(_c),j=()=>n,ie=()=>r,Oe=()=>g,ur=()=>$,hr=_c=>y(_c)||L(_c)||V(_c)?CHAR_LF:e[_c],Vr=()=>hr(n),dr=()=>hr(n+$);function ec(){return $=0,z(n)&&(r++,g=0),y(n)&&n++,n++,g++,e[n]}function tc(){return y(n+$)&&$++,$++,e[n+$]}function Xs(){n=0,r=1,g=1,$=0}function rc(_c=0){$=_c}function ic(){const _c=n+$;for(;_c!==n;)ec();$=0}return{index:j,line:ie,column:Oe,peekOffset:ur,charAt:hr,currentChar:Vr,currentPeek:dr,next:ec,peek:tc,reset:Xs,resetPeek:rc,skipToPeek:ic}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(t,e={}){const n=e.location!==!1,r=createScanner(t),g=()=>r.index(),$=()=>createPosition(r.line(),r.column(),r.index()),y=$(),k=g(),L={currentType:13,offset:k,startLoc:y,endLoc:y,lastType:13,lastOffset:k,lastStartLoc:y,lastEndLoc:y,braceNest:0,inLinked:!1,text:""},V=()=>L,{onError:z}=e;function j(lv,kv,Iv,...vv){const Ev=V();if(kv.column+=Iv,kv.offset+=Iv,z){const zv=n?createLocation(Ev.startLoc,kv):null,Fv=createCompileError(lv,zv,{domain:ERROR_DOMAIN$3,args:vv});z(Fv)}}function ie(lv,kv,Iv){lv.endLoc=$(),lv.currentType=kv;const vv={type:kv};return n&&(vv.loc=createLocation(lv.startLoc,lv.endLoc)),Iv!=null&&(vv.value=Iv),vv}const Oe=lv=>ie(lv,13);function ur(lv,kv){return lv.currentChar()===kv?(lv.next(),kv):(j(CompileErrorCodes.EXPECTED_TOKEN,$(),0,kv),"")}function hr(lv){let kv="";for(;lv.currentPeek()===CHAR_SP||lv.currentPeek()===CHAR_LF;)kv+=lv.currentPeek(),lv.peek();return kv}function Vr(lv){const kv=hr(lv);return lv.skipToPeek(),kv}function dr(lv){if(lv===EOF)return!1;const kv=lv.charCodeAt(0);return kv>=97&&kv<=122||kv>=65&&kv<=90||kv===95}function ec(lv){if(lv===EOF)return!1;const kv=lv.charCodeAt(0);return kv>=48&&kv<=57}function tc(lv,kv){const{currentType:Iv}=kv;if(Iv!==2)return!1;hr(lv);const vv=dr(lv.currentPeek());return lv.resetPeek(),vv}function Xs(lv,kv){const{currentType:Iv}=kv;if(Iv!==2)return!1;hr(lv);const vv=lv.currentPeek()==="-"?lv.peek():lv.currentPeek(),Ev=ec(vv);return lv.resetPeek(),Ev}function rc(lv,kv){const{currentType:Iv}=kv;if(Iv!==2)return!1;hr(lv);const vv=lv.currentPeek()===LITERAL_DELIMITER;return lv.resetPeek(),vv}function ic(lv,kv){const{currentType:Iv}=kv;if(Iv!==7)return!1;hr(lv);const vv=lv.currentPeek()===".";return lv.resetPeek(),vv}function _c(lv,kv){const{currentType:Iv}=kv;if(Iv!==8)return!1;hr(lv);const vv=dr(lv.currentPeek());return lv.resetPeek(),vv}function qm(lv,kv){const{currentType:Iv}=kv;if(!(Iv===7||Iv===11))return!1;hr(lv);const vv=lv.currentPeek()===":";return lv.resetPeek(),vv}function Xm(lv,kv){const{currentType:Iv}=kv;if(Iv!==9)return!1;const vv=()=>{const zv=lv.currentPeek();return zv==="{"?dr(lv.peek()):zv==="@"||zv==="|"||zv===":"||zv==="."||zv===CHAR_SP||!zv?!1:zv===CHAR_LF?(lv.peek(),vv()):tv(lv,!1)},Ev=vv();return lv.resetPeek(),Ev}function Km(lv){hr(lv);const kv=lv.currentPeek()==="|";return lv.resetPeek(),kv}function tv(lv,kv=!0){const Iv=(Ev=!1,zv="")=>{const Fv=lv.currentPeek();return Fv==="{"||Fv==="@"||!Fv?Ev:Fv==="|"?!(zv===CHAR_SP||zv===CHAR_LF):Fv===CHAR_SP?(lv.peek(),Iv(!0,CHAR_SP)):Fv===CHAR_LF?(lv.peek(),Iv(!0,CHAR_LF)):!0},vv=Iv();return kv&&lv.resetPeek(),vv}function nv(lv,kv){const Iv=lv.currentChar();return Iv===EOF?EOF:kv(Iv)?(lv.next(),Iv):null}function sv(lv){const kv=lv.charCodeAt(0);return kv>=97&&kv<=122||kv>=65&&kv<=90||kv>=48&&kv<=57||kv===95||kv===36}function gv(lv){return nv(lv,sv)}function Sv(lv){const kv=lv.charCodeAt(0);return kv>=97&&kv<=122||kv>=65&&kv<=90||kv>=48&&kv<=57||kv===95||kv===36||kv===45}function wv(lv){return nv(lv,Sv)}function rv(lv){const kv=lv.charCodeAt(0);return kv>=48&&kv<=57}function Jm(lv){return nv(lv,rv)}function dv(lv){const kv=lv.charCodeAt(0);return kv>=48&&kv<=57||kv>=65&&kv<=70||kv>=97&&kv<=102}function pv(lv){return nv(lv,dv)}function mv(lv){let kv="",Iv="";for(;kv=Jm(lv);)Iv+=kv;return Iv}function Cv(lv){let kv="";for(;;){const Iv=lv.currentChar();if(Iv==="{"||Iv==="}"||Iv==="@"||Iv==="|"||!Iv)break;if(Iv===CHAR_SP||Iv===CHAR_LF)if(tv(lv))kv+=Iv,lv.next();else{if(Km(lv))break;kv+=Iv,lv.next()}else kv+=Iv,lv.next()}return kv}function uv(lv){Vr(lv);let kv="",Iv="";for(;kv=wv(lv);)Iv+=kv;return lv.currentChar()===EOF&&j(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,$(),0),Iv}function yv(lv){Vr(lv);let kv="";return lv.currentChar()==="-"?(lv.next(),kv+=`-${mv(lv)}`):kv+=mv(lv),lv.currentChar()===EOF&&j(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,$(),0),kv}function $v(lv){return lv!==LITERAL_DELIMITER&&lv!==CHAR_LF}function Dv(lv){Vr(lv),ur(lv,"'");let kv="",Iv="";for(;kv=nv(lv,$v);)kv==="\\"?Iv+=Hv(lv):Iv+=kv;const vv=lv.currentChar();return vv===CHAR_LF||vv===EOF?(j(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,$(),0),vv===CHAR_LF&&(lv.next(),ur(lv,"'")),Iv):(ur(lv,"'"),Iv)}function Hv(lv){const kv=lv.currentChar();switch(kv){case"\\":case"'":return lv.next(),`\\${kv}`;case"u":return Gv(lv,kv,4);case"U":return Gv(lv,kv,6);default:return j(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,$(),0,kv),""}}function Gv(lv,kv,Iv){ur(lv,kv);let vv="";for(let Ev=0;Ev<Iv;Ev++){const zv=pv(lv);if(!zv){j(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,$(),0,`\\${kv}${vv}${lv.currentChar()}`);break}vv+=zv}return`\\${kv}${vv}`}function f0(lv){return lv!=="{"&&lv!=="}"&&lv!==CHAR_SP&&lv!==CHAR_LF}function qv(lv){Vr(lv);let kv="",Iv="";for(;kv=nv(lv,f0);)Iv+=kv;return Iv}function Pv(lv){let kv="",Iv="";for(;kv=gv(lv);)Iv+=kv;return Iv}function Tv(lv){const kv=Iv=>{const vv=lv.currentChar();return vv==="{"||vv==="@"||vv==="|"||vv==="("||vv===")"||!vv||vv===CHAR_SP?Iv:(Iv+=vv,lv.next(),kv(Iv))};return kv("")}function Vv(lv){Vr(lv);const kv=ur(lv,"|");return Vr(lv),kv}function Av(lv,kv){let Iv=null;switch(lv.currentChar()){case"{":return kv.braceNest>=1&&j(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,$(),0),lv.next(),Iv=ie(kv,2,"{"),Vr(lv),kv.braceNest++,Iv;case"}":return kv.braceNest>0&&kv.currentType===2&&j(CompileErrorCodes.EMPTY_PLACEHOLDER,$(),0),lv.next(),Iv=ie(kv,3,"}"),kv.braceNest--,kv.braceNest>0&&Vr(lv),kv.inLinked&&kv.braceNest===0&&(kv.inLinked=!1),Iv;case"@":return kv.braceNest>0&&j(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,$(),0),Iv=y0(lv,kv)||Oe(kv),kv.braceNest=0,Iv;default:{let Ev=!0,zv=!0,Fv=!0;if(Km(lv))return kv.braceNest>0&&j(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,$(),0),Iv=ie(kv,1,Vv(lv)),kv.braceNest=0,kv.inLinked=!1,Iv;if(kv.braceNest>0&&(kv.currentType===4||kv.currentType===5||kv.currentType===6))return j(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,$(),0),kv.braceNest=0,av(lv,kv);if(Ev=tc(lv,kv))return Iv=ie(kv,4,uv(lv)),Vr(lv),Iv;if(zv=Xs(lv,kv))return Iv=ie(kv,5,yv(lv)),Vr(lv),Iv;if(Fv=rc(lv,kv))return Iv=ie(kv,6,Dv(lv)),Vr(lv),Iv;if(!Ev&&!zv&&!Fv)return Iv=ie(kv,12,qv(lv)),j(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,$(),0,Iv.value),Vr(lv),Iv;break}}return Iv}function y0(lv,kv){const{currentType:Iv}=kv;let vv=null;const Ev=lv.currentChar();switch((Iv===7||Iv===8||Iv===11||Iv===9)&&(Ev===CHAR_LF||Ev===CHAR_SP)&&j(CompileErrorCodes.INVALID_LINKED_FORMAT,$(),0),Ev){case"@":return lv.next(),vv=ie(kv,7,"@"),kv.inLinked=!0,vv;case".":return Vr(lv),lv.next(),ie(kv,8,".");case":":return Vr(lv),lv.next(),ie(kv,9,":");default:return Km(lv)?(vv=ie(kv,1,Vv(lv)),kv.braceNest=0,kv.inLinked=!1,vv):ic(lv,kv)||qm(lv,kv)?(Vr(lv),y0(lv,kv)):_c(lv,kv)?(Vr(lv),ie(kv,11,Pv(lv))):Xm(lv,kv)?(Vr(lv),Ev==="{"?Av(lv,kv)||vv:ie(kv,10,Tv(lv))):(Iv===7&&j(CompileErrorCodes.INVALID_LINKED_FORMAT,$(),0),kv.braceNest=0,kv.inLinked=!1,av(lv,kv))}}function av(lv,kv){let Iv={type:13};if(kv.braceNest>0)return Av(lv,kv)||Oe(kv);if(kv.inLinked)return y0(lv,kv)||Oe(kv);switch(lv.currentChar()){case"{":return Av(lv,kv)||Oe(kv);case"}":return j(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,$(),0),lv.next(),ie(kv,3,"}");case"@":return y0(lv,kv)||Oe(kv);default:{if(Km(lv))return Iv=ie(kv,1,Vv(lv)),kv.braceNest=0,kv.inLinked=!1,Iv;if(tv(lv))return ie(kv,0,Cv(lv));break}}return Iv}function fv(){const{currentType:lv,offset:kv,startLoc:Iv,endLoc:vv}=L;return L.lastType=lv,L.lastOffset=kv,L.lastStartLoc=Iv,L.lastEndLoc=vv,L.offset=g(),L.startLoc=$(),r.currentChar()===EOF?ie(L,13):av(r,L)}return{nextToken:fv,currentOffset:g,currentPosition:$,context:V}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function createParser(t={}){const e=t.location!==!1,{onError:n}=t;function r(dr,ec,tc,Xs,...rc){const ic=dr.currentPosition();if(ic.offset+=Xs,ic.column+=Xs,n){const _c=e?createLocation(tc,ic):null,qm=createCompileError(ec,_c,{domain:ERROR_DOMAIN$2,args:rc});n(qm)}}function g(dr,ec,tc){const Xs={type:dr};return e&&(Xs.start=ec,Xs.end=ec,Xs.loc={start:tc,end:tc}),Xs}function $(dr,ec,tc,Xs){e&&(dr.end=ec,dr.loc&&(dr.loc.end=tc))}function y(dr,ec){const tc=dr.context(),Xs=g(3,tc.offset,tc.startLoc);return Xs.value=ec,$(Xs,dr.currentOffset(),dr.currentPosition()),Xs}function k(dr,ec){const tc=dr.context(),{lastOffset:Xs,lastStartLoc:rc}=tc,ic=g(5,Xs,rc);return ic.index=parseInt(ec,10),dr.nextToken(),$(ic,dr.currentOffset(),dr.currentPosition()),ic}function L(dr,ec){const tc=dr.context(),{lastOffset:Xs,lastStartLoc:rc}=tc,ic=g(4,Xs,rc);return ic.key=ec,dr.nextToken(),$(ic,dr.currentOffset(),dr.currentPosition()),ic}function V(dr,ec){const tc=dr.context(),{lastOffset:Xs,lastStartLoc:rc}=tc,ic=g(9,Xs,rc);return ic.value=ec.replace(KNOWN_ESCAPES,fromEscapeSequence),dr.nextToken(),$(ic,dr.currentOffset(),dr.currentPosition()),ic}function z(dr){const ec=dr.nextToken(),tc=dr.context(),{lastOffset:Xs,lastStartLoc:rc}=tc,ic=g(8,Xs,rc);return ec.type!==11?(r(dr,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,tc.lastStartLoc,0),ic.value="",$(ic,Xs,rc),{nextConsumeToken:ec,node:ic}):(ec.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,tc.lastStartLoc,0,getTokenCaption(ec)),ic.value=ec.value||"",$(ic,dr.currentOffset(),dr.currentPosition()),{node:ic})}function j(dr,ec){const tc=dr.context(),Xs=g(7,tc.offset,tc.startLoc);return Xs.value=ec,$(Xs,dr.currentOffset(),dr.currentPosition()),Xs}function ie(dr){const ec=dr.context(),tc=g(6,ec.offset,ec.startLoc);let Xs=dr.nextToken();if(Xs.type===8){const rc=z(dr);tc.modifier=rc.node,Xs=rc.nextConsumeToken||dr.nextToken()}switch(Xs.type!==9&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xs)),Xs=dr.nextToken(),Xs.type===2&&(Xs=dr.nextToken()),Xs.type){case 10:Xs.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xs)),tc.key=j(dr,Xs.value||"");break;case 4:Xs.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xs)),tc.key=L(dr,Xs.value||"");break;case 5:Xs.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xs)),tc.key=k(dr,Xs.value||"");break;case 6:Xs.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xs)),tc.key=V(dr,Xs.value||"");break;default:{r(dr,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,ec.lastStartLoc,0);const rc=dr.context(),ic=g(7,rc.offset,rc.startLoc);return ic.value="",$(ic,rc.offset,rc.startLoc),tc.key=ic,$(tc,rc.offset,rc.startLoc),{nextConsumeToken:Xs,node:tc}}}return $(tc,dr.currentOffset(),dr.currentPosition()),{node:tc}}function Oe(dr){const ec=dr.context(),tc=ec.currentType===1?dr.currentOffset():ec.offset,Xs=ec.currentType===1?ec.endLoc:ec.startLoc,rc=g(2,tc,Xs);rc.items=[];let ic=null;do{const Xm=ic||dr.nextToken();switch(ic=null,Xm.type){case 0:Xm.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xm)),rc.items.push(y(dr,Xm.value||""));break;case 5:Xm.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xm)),rc.items.push(k(dr,Xm.value||""));break;case 4:Xm.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xm)),rc.items.push(L(dr,Xm.value||""));break;case 6:Xm.value==null&&r(dr,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,ec.lastStartLoc,0,getTokenCaption(Xm)),rc.items.push(V(dr,Xm.value||""));break;case 7:{const Km=ie(dr);rc.items.push(Km.node),ic=Km.nextConsumeToken||null;break}}}while(ec.currentType!==13&&ec.currentType!==1);const _c=ec.currentType===1?ec.lastOffset:dr.currentOffset(),qm=ec.currentType===1?ec.lastEndLoc:dr.currentPosition();return $(rc,_c,qm),rc}function ur(dr,ec,tc,Xs){const rc=dr.context();let ic=Xs.items.length===0;const _c=g(1,ec,tc);_c.cases=[],_c.cases.push(Xs);do{const qm=Oe(dr);ic||(ic=qm.items.length===0),_c.cases.push(qm)}while(rc.currentType!==13);return ic&&r(dr,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,tc,0),$(_c,dr.currentOffset(),dr.currentPosition()),_c}function hr(dr){const ec=dr.context(),{offset:tc,startLoc:Xs}=ec,rc=Oe(dr);return ec.currentType===13?rc:ur(dr,tc,Xs,rc)}function Vr(dr){const ec=createTokenizer(dr,assign({},t)),tc=ec.context(),Xs=g(0,tc.offset,tc.startLoc);return e&&Xs.loc&&(Xs.loc.source=dr),Xs.body=hr(ec),t.onCacheKey&&(Xs.cacheKey=t.onCacheKey(dr)),tc.currentType!==13&&r(ec,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,tc.lastStartLoc,0,dr[tc.offset]||""),$(Xs,ec.currentOffset(),ec.currentPosition()),Xs}return{parse:Vr}}function getTokenCaption(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function createTransformer(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:$=>(n.helpers.add($),$)}}function traverseNodes(t,e){for(let n=0;n<t.length;n++)traverseNode(t[n],e)}function traverseNode(t,e){switch(t.type){case 1:traverseNodes(t.cases,e),e.helper("plural");break;case 2:traverseNodes(t.items,e);break;case 6:{traverseNode(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function transform(t,e={}){const n=createTransformer(t);n.helper("normalize"),t.body&&traverseNode(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function optimize(t){const e=t.body;return e.type===2?optimizeMessageNode(e):e.cases.forEach(n=>optimizeMessageNode(n)),t}function optimizeMessageNode(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=join(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function minify(t){switch(t.t=t.type,t.type){case 0:{const e=t;minify(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)minify(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)minify(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;minify(e.key),e.k=e.key,delete e.key,e.modifier&&(minify(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function createCodeGenerator(t,e){const{filename:n,breakLineCode:r,needIndent:g}=e,$=e.location!==!1,y={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:g,indentLevel:0};$&&t.loc&&(y.source=t.loc.source);const k=()=>y;function L(hr,Vr){y.code+=hr}function V(hr,Vr=!0){const dr=Vr?r:"";L(g?dr+"  ".repeat(hr):dr)}function z(hr=!0){const Vr=++y.indentLevel;hr&&V(Vr)}function j(hr=!0){const Vr=--y.indentLevel;hr&&V(Vr)}function ie(){V(y.indentLevel)}return{context:k,push:L,indent:z,deindent:j,newline:ie,helper:hr=>`_${hr}`,needIndent:()=>y.needIndent}}function generateLinkedNode(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),generateNode(t,e.key),e.modifier?(t.push(", "),generateNode(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function generateMessageNode(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const g=e.items.length;for(let $=0;$<g&&(generateNode(t,e.items[$]),$!==g-1);$++)t.push(", ");t.deindent(r()),t.push("])")}function generatePluralNode(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const g=e.cases.length;for(let $=0;$<g&&(generateNode(t,e.cases[$]),$!==g-1);$++)t.push(", ");t.deindent(r()),t.push("])")}}function generateResource(t,e){e.body?generateNode(t,e.body):t.push("null")}function generateNode(t,e){const{helper:n}=t;switch(e.type){case 0:generateResource(t,e);break;case 1:generatePluralNode(t,e);break;case 2:generateMessageNode(t,e);break;case 6:generateLinkedNode(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const generate=(t,e={})=>{const n=isString(e.mode)?e.mode:"normal",r=isString(e.filename)?e.filename:"message.intl";e.sourceMap;const g=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,$=e.needIndent?e.needIndent:n!=="arrow",y=t.helpers||[],k=createCodeGenerator(t,{filename:r,breakLineCode:g,needIndent:$});k.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),k.indent($),y.length>0&&(k.push(`const { ${join(y.map(z=>`${z}: _${z}`),", ")} } = ctx`),k.newline()),k.push("return "),generateNode(k,t),k.deindent($),k.push("}"),delete t.helpers;const{code:L,map:V}=k.context();return{ast:t,code:L,map:V?V.toJSON():void 0}};function baseCompile$1(t,e={}){const n=assign({},e),r=!!n.jit,g=!!n.minify,$=n.optimize==null?!0:n.optimize,k=createParser(n).parse(t);return r?($&&optimize(k),g&&minify(k),{ast:k,code:""}):(transform(k,n),generate(k,n))}/*!
  * core-base v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function isMessageAST(t){return isObject(t)&&resolveType(t)===0&&(hasOwn(t,"b")||hasOwn(t,"body"))}const PROPS_BODY=["b","body"];function resolveBody(t){return resolveProps(t,PROPS_BODY)}const PROPS_CASES=["c","cases"];function resolveCases(t){return resolveProps(t,PROPS_CASES,[])}const PROPS_STATIC=["s","static"];function resolveStatic(t){return resolveProps(t,PROPS_STATIC)}const PROPS_ITEMS=["i","items"];function resolveItems(t){return resolveProps(t,PROPS_ITEMS,[])}const PROPS_TYPE=["t","type"];function resolveType(t){return resolveProps(t,PROPS_TYPE)}const PROPS_VALUE=["v","value"];function resolveValue$1(t,e){const n=resolveProps(t,PROPS_VALUE);if(n!=null)return n;throw createUnhandleNodeError(e)}const PROPS_MODIFIER=["m","modifier"];function resolveLinkedModifier(t){return resolveProps(t,PROPS_MODIFIER)}const PROPS_KEY=["k","key"];function resolveLinkedKey(t){const e=resolveProps(t,PROPS_KEY);if(e)return e;throw createUnhandleNodeError(6)}function resolveProps(t,e,n){for(let r=0;r<e.length;r++){const g=e[r];if(hasOwn(t,g)&&t[g]!=null)return t[g]}return n}const AST_NODE_PROPS_KEYS=[...PROPS_BODY,...PROPS_CASES,...PROPS_STATIC,...PROPS_ITEMS,...PROPS_KEY,...PROPS_MODIFIER,...PROPS_VALUE,...PROPS_TYPE];function createUnhandleNodeError(t){return new Error(`unhandled node type: ${t}`)}function format$1(t){return n=>formatParts(n,t)}function formatParts(t,e){const n=resolveBody(e);if(n==null)throw createUnhandleNodeError(0);if(resolveType(n)===1){const $=resolveCases(n);return t.plural($.reduce((y,k)=>[...y,formatMessageParts(t,k)],[]))}else return formatMessageParts(t,n)}function formatMessageParts(t,e){const n=resolveStatic(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=resolveItems(e).reduce((g,$)=>[...g,formatMessagePart(t,$)],[]);return t.normalize(r)}}function formatMessagePart(t,e){const n=resolveType(e);switch(n){case 3:return resolveValue$1(e,n);case 9:return resolveValue$1(e,n);case 4:{const r=e;if(hasOwn(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(hasOwn(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw createUnhandleNodeError(n)}case 5:{const r=e;if(hasOwn(r,"i")&&isNumber$1(r.i))return t.interpolate(t.list(r.i));if(hasOwn(r,"index")&&isNumber$1(r.index))return t.interpolate(t.list(r.index));throw createUnhandleNodeError(n)}case 6:{const r=e,g=resolveLinkedModifier(r),$=resolveLinkedKey(r);return t.linked(formatMessagePart(t,$),g?formatMessagePart(t,g):void 0,t.type)}case 7:return resolveValue$1(e,n);case 8:return resolveValue$1(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const defaultOnCacheKey=t=>t;let compileCache=create();function baseCompile(t,e={}){let n=!1;const r=e.onError||defaultOnError;return e.onError=g=>{n=!0,r(g)},{...baseCompile$1(t,e),detectError:n}}function compile(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString(t)){isBoolean$1(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||defaultOnCacheKey)(t),g=compileCache[r];if(g)return g;const{ast:$,detectError:y}=baseCompile(t,{...e,location:!1,jit:!0}),k=format$1($);return y?k:compileCache[r]=k}else{const n=t.cacheKey;if(n){const r=compileCache[n];return r||(compileCache[n]=format$1(t))}else return format$1(t)}}let devtools=null;function setDevToolsHook(t){devtools=t}function initI18nDevTools(t,e,n){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(t){return e=>devtools&&devtools.emit(t,e)}const CoreErrorCodes={INVALID_ARGUMENT:COMPILE_ERROR_CODES_EXTEND_POINT,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},CORE_ERROR_CODES_EXTEND_POINT=24;function createCoreError(t){return createCompileError(t,null,void 0)}function getLocale(t,e){return e.locale!=null?resolveLocale(e.locale):resolveLocale(t.locale)}let _resolveLocale;function resolveLocale(t){if(isString(t))return t;if(isFunction(t)){if(t.resolvedOnce&&_resolveLocale!=null)return _resolveLocale;if(t.constructor.name==="Function"){const e=t();if(isPromise(e))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return _resolveLocale=e}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE)}function fallbackWithSimple(t,e,n){return[...new Set([n,...isArray(e)?e:isObject(e)?Object.keys(e):isString(e)?[e]:[n]])]}function fallbackWithLocaleChain(t,e,n){const r=isString(n)?n:DEFAULT_LOCALE,g=t;g.__localeChainCache||(g.__localeChainCache=new Map);let $=g.__localeChainCache.get(r);if(!$){$=[];let y=[n];for(;isArray(y);)y=appendBlockToChain($,y,e);const k=isArray(e)||!isPlainObject(e)?e:e.default?e.default:null;y=isString(k)?[k]:k,isArray(y)&&appendBlockToChain($,y,!1),g.__localeChainCache.set(r,$)}return $}function appendBlockToChain(t,e,n){let r=!0;for(let g=0;g<e.length&&isBoolean$1(r);g++){const $=e[g];isString($)&&(r=appendLocaleToChain(t,e[g],n))}return r}function appendLocaleToChain(t,e,n){let r;const g=e.split("-");do{const $=g.join("-");r=appendItemToChain(t,$,n),g.splice(-1,1)}while(g.length&&r===!0);return r}function appendItemToChain(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const g=e.replace(/!/g,"");t.push(g),(isArray(n)||isPlainObject(n))&&n[g]&&(r=n[g])}return r}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]};pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]};pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]};pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]};pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(t){return literalValueRE.test(t)}function stripQuotes(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function getPathCharType(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:isLiteral(e)?stripQuotes(e):"*"+e}function parse(t){const e=[];let n=-1,r=0,g=0,$,y,k,L,V,z,j;const ie=[];ie[0]=()=>{y===void 0?y=k:y+=k},ie[1]=()=>{y!==void 0&&(e.push(y),y=void 0)},ie[2]=()=>{ie[0](),g++},ie[3]=()=>{if(g>0)g--,r=4,ie[0]();else{if(g=0,y===void 0||(y=formatSubPath(y),y===!1))return!1;ie[1]()}};function Oe(){const ur=t[n+1];if(r===5&&ur==="'"||r===6&&ur==='"')return n++,k="\\"+ur,ie[0](),!0}for(;r!==null;)if(n++,$=t[n],!($==="\\"&&Oe())){if(L=getPathCharType($),j=pathStateMachine[r],V=j[L]||j.l||8,V===8||(r=V[0],V[1]!==void 0&&(z=ie[V[1]],z&&(k=$,z()===!1))))return;if(r===7)return e}}const cache$1=new Map;function resolveWithKeyValue(t,e){return isObject(t)?t[e]:null}function resolveValue(t,e){if(!isObject(t))return null;let n=cache$1.get(e);if(n||(n=parse(e),n&&cache$1.set(e,n)),!n)return null;const r=n.length;let g=t,$=0;for(;$<r;){const y=n[$];if(AST_NODE_PROPS_KEYS.includes(y)&&isMessageAST(g))return null;const k=g[y];if(k===void 0||isFunction(g))return null;g=k,$++}return g}const VERSION$1="10.0.8",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize$1=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(t,e)=>e==="text"&&isString(t)?t.toUpperCase():e==="vnode"&&isObject(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&isString(t)?t.toLowerCase():e==="vnode"&&isObject(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&isString(t)?capitalize$1(t):e==="vnode"&&isObject(t)&&"__v_isVNode"in t?capitalize$1(t.children):t}}let _compiler;function registerMessageCompiler(t){_compiler=t}let _resolver;function registerMessageResolver(t){_resolver=t}let _fallbacker;function registerLocaleFallbacker(t){_fallbacker=t}let _additionalMeta=null;const setAdditionalMeta=t=>{_additionalMeta=t},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=t=>{_fallbackContext=t},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(t={}){const e=isFunction(t.onWarn)?t.onWarn:warn,n=isString(t.version)?t.version:VERSION$1,r=isString(t.locale)||isFunction(t.locale)?t.locale:DEFAULT_LOCALE,g=isFunction(r)?DEFAULT_LOCALE:r,$=isArray(t.fallbackLocale)||isPlainObject(t.fallbackLocale)||isString(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:g,y=isPlainObject(t.messages)?t.messages:createResources(g),k=isPlainObject(t.datetimeFormats)?t.datetimeFormats:createResources(g),L=isPlainObject(t.numberFormats)?t.numberFormats:createResources(g),V=assign(create(),t.modifiers,getDefaultLinkedModifiers()),z=t.pluralRules||create(),j=isFunction(t.missing)?t.missing:null,ie=isBoolean$1(t.missingWarn)||isRegExp(t.missingWarn)?t.missingWarn:!0,Oe=isBoolean$1(t.fallbackWarn)||isRegExp(t.fallbackWarn)?t.fallbackWarn:!0,ur=!!t.fallbackFormat,hr=!!t.unresolving,Vr=isFunction(t.postTranslation)?t.postTranslation:null,dr=isPlainObject(t.processor)?t.processor:null,ec=isBoolean$1(t.warnHtmlMessage)?t.warnHtmlMessage:!0,tc=!!t.escapeParameter,Xs=isFunction(t.messageCompiler)?t.messageCompiler:_compiler,rc=isFunction(t.messageResolver)?t.messageResolver:_resolver||resolveWithKeyValue,ic=isFunction(t.localeFallbacker)?t.localeFallbacker:_fallbacker||fallbackWithSimple,_c=isObject(t.fallbackContext)?t.fallbackContext:void 0,qm=t,Xm=isObject(qm.__datetimeFormatters)?qm.__datetimeFormatters:new Map,Km=isObject(qm.__numberFormatters)?qm.__numberFormatters:new Map,tv=isObject(qm.__meta)?qm.__meta:{};_cid++;const nv={version:n,cid:_cid,locale:r,fallbackLocale:$,messages:y,modifiers:V,pluralRules:z,missing:j,missingWarn:ie,fallbackWarn:Oe,fallbackFormat:ur,unresolving:hr,postTranslation:Vr,processor:dr,warnHtmlMessage:ec,escapeParameter:tc,messageCompiler:Xs,messageResolver:rc,localeFallbacker:ic,fallbackContext:_c,onWarn:e,__meta:tv};return nv.datetimeFormats=k,nv.numberFormats=L,nv.__datetimeFormatters=Xm,nv.__numberFormatters=Km,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(nv,n,tv),nv}const createResources=t=>({[t]:create()});function handleMissing(t,e,n,r,g){const{missing:$,onWarn:y}=t;if($!==null){const k=$(t,n,e,g);return isString(k)?k:e}else return e}function updateFallbackLocale(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function isAlmostSameLocale(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function isImplicitFallback(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(isAlmostSameLocale(t,e[r]))return!0;return!1}function datetime(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:g,onWarn:$,localeFallbacker:y}=t,{__datetimeFormatters:k}=t,[L,V,z,j]=parseDateTimeArgs(...e),ie=isBoolean$1(z.missingWarn)?z.missingWarn:t.missingWarn;isBoolean$1(z.fallbackWarn)?z.fallbackWarn:t.fallbackWarn;const Oe=!!z.part,ur=getLocale(t,z),hr=y(t,g,ur);if(!isString(L)||L==="")return new Intl.DateTimeFormat(ur,j).format(V);let Vr={},dr,ec=null;const tc="datetime format";for(let ic=0;ic<hr.length&&(dr=hr[ic],Vr=n[dr]||{},ec=Vr[L],!isPlainObject(ec));ic++)handleMissing(t,L,dr,ie,tc);if(!isPlainObject(ec)||!isString(dr))return r?NOT_REOSLVED:L;let Xs=`${dr}__${L}`;isEmptyObject(j)||(Xs=`${Xs}__${JSON.stringify(j)}`);let rc=k.get(Xs);return rc||(rc=new Intl.DateTimeFormat(dr,assign({},ec,j)),k.set(Xs,rc)),Oe?rc.formatToParts(V):rc.format(V)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...t){const[e,n,r,g]=t,$=create();let y=create(),k;if(isString(e)){const L=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!L)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const V=L[3]?L[3].trim().startsWith("T")?`${L[1].trim()}${L[3].trim()}`:`${L[1].trim()}T${L[3].trim()}`:L[1].trim();k=new Date(V);try{k.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate(e)){if(isNaN(e.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);k=e}else if(isNumber$1(e))k=e;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString(n)?$.key=n:isPlainObject(n)&&Object.keys(n).forEach(L=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(L)?y[L]=n[L]:$[L]=n[L]}),isString(r)?$.locale=r:isPlainObject(r)&&(y=r),isPlainObject(g)&&(y=g),[$.key||"",k,$,y]}function clearDateTimeFormat(t,e,n){const r=t;for(const g in n){const $=`${e}__${g}`;r.__datetimeFormatters.has($)&&r.__datetimeFormatters.delete($)}}function number(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:g,onWarn:$,localeFallbacker:y}=t,{__numberFormatters:k}=t,[L,V,z,j]=parseNumberArgs(...e),ie=isBoolean$1(z.missingWarn)?z.missingWarn:t.missingWarn;isBoolean$1(z.fallbackWarn)?z.fallbackWarn:t.fallbackWarn;const Oe=!!z.part,ur=getLocale(t,z),hr=y(t,g,ur);if(!isString(L)||L==="")return new Intl.NumberFormat(ur,j).format(V);let Vr={},dr,ec=null;const tc="number format";for(let ic=0;ic<hr.length&&(dr=hr[ic],Vr=n[dr]||{},ec=Vr[L],!isPlainObject(ec));ic++)handleMissing(t,L,dr,ie,tc);if(!isPlainObject(ec)||!isString(dr))return r?NOT_REOSLVED:L;let Xs=`${dr}__${L}`;isEmptyObject(j)||(Xs=`${Xs}__${JSON.stringify(j)}`);let rc=k.get(Xs);return rc||(rc=new Intl.NumberFormat(dr,assign({},ec,j)),k.set(Xs,rc)),Oe?rc.formatToParts(V):rc.format(V)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...t){const[e,n,r,g]=t,$=create();let y=create();if(!isNumber$1(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const k=e;return isString(n)?$.key=n:isPlainObject(n)&&Object.keys(n).forEach(L=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(L)?y[L]=n[L]:$[L]=n[L]}),isString(r)?$.locale=r:isPlainObject(r)&&(y=r),isPlainObject(g)&&(y=g),[$.key||"",k,$,y]}function clearNumberFormat(t,e,n){const r=t;for(const g in n){const $=`${e}__${g}`;r.__numberFormatters.has($)&&r.__numberFormatters.delete($)}}const DEFAULT_MODIFIER=t=>t,DEFAULT_MESSAGE=t=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=t=>t.length===0?"":join(t),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function getPluralIndex(t){const e=isNumber$1(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(isNumber$1(t.named.count)||isNumber$1(t.named.n))?isNumber$1(t.named.count)?t.named.count:isNumber$1(t.named.n)?t.named.n:e:e}function normalizeNamed(t,e){e.count||(e.count=t),e.n||(e.n=t)}function createMessageContext(t={}){const e=t.locale,n=getPluralIndex(t),r=isObject(t.pluralRules)&&isString(e)&&isFunction(t.pluralRules[e])?t.pluralRules[e]:pluralDefault,g=isObject(t.pluralRules)&&isString(e)&&isFunction(t.pluralRules[e])?pluralDefault:void 0,$=dr=>dr[r(n,dr.length,g)],y=t.list||[],k=dr=>y[dr],L=t.named||create();isNumber$1(t.pluralIndex)&&normalizeNamed(n,L);const V=dr=>L[dr];function z(dr,ec){const tc=isFunction(t.messages)?t.messages(dr,!!ec):isObject(t.messages)?t.messages[dr]:!1;return tc||(t.parent?t.parent.message(dr):DEFAULT_MESSAGE)}const j=dr=>t.modifiers?t.modifiers[dr]:DEFAULT_MODIFIER,ie=isPlainObject(t.processor)&&isFunction(t.processor.normalize)?t.processor.normalize:DEFAULT_NORMALIZE,Oe=isPlainObject(t.processor)&&isFunction(t.processor.interpolate)?t.processor.interpolate:DEFAULT_INTERPOLATE,ur=isPlainObject(t.processor)&&isString(t.processor.type)?t.processor.type:DEFAULT_MESSAGE_DATA_TYPE,Vr={list:k,named:V,plural:$,linked:(dr,...ec)=>{const[tc,Xs]=ec;let rc="text",ic="";ec.length===1?isObject(tc)?(ic=tc.modifier||ic,rc=tc.type||rc):isString(tc)&&(ic=tc||ic):ec.length===2&&(isString(tc)&&(ic=tc||ic),isString(Xs)&&(rc=Xs||rc));const _c=z(dr,!0)(Vr),qm=rc==="vnode"&&isArray(_c)&&ic?_c[0]:_c;return ic?j(ic)(qm,rc):qm},message:z,type:ur,interpolate:Oe,normalize:ie,values:assign(create(),y,L)};return Vr}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=t=>isFunction(t);function translate$1(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:g,messageCompiler:$,fallbackLocale:y,messages:k}=t,[L,V]=parseTranslateArgs(...e),z=isBoolean$1(V.missingWarn)?V.missingWarn:t.missingWarn,j=isBoolean$1(V.fallbackWarn)?V.fallbackWarn:t.fallbackWarn,ie=isBoolean$1(V.escapeParameter)?V.escapeParameter:t.escapeParameter,Oe=!!V.resolvedMessage,ur=isString(V.default)||isBoolean$1(V.default)?isBoolean$1(V.default)?$?L:()=>L:V.default:n?$?L:()=>L:null,hr=n||ur!=null&&(isString(ur)||isFunction(ur)),Vr=getLocale(t,V);ie&&escapeParams(V);let[dr,ec,tc]=Oe?[L,Vr,k[Vr]||create()]:resolveMessageFormat(t,L,Vr,y,j,z),Xs=dr,rc=L;if(!Oe&&!(isString(Xs)||isMessageAST(Xs)||isMessageFunction(Xs))&&hr&&(Xs=ur,rc=Xs),!Oe&&(!(isString(Xs)||isMessageAST(Xs)||isMessageFunction(Xs))||!isString(ec)))return g?NOT_REOSLVED:L;let ic=!1;const _c=()=>{ic=!0},qm=isMessageFunction(Xs)?Xs:compileMessageFormat(t,L,ec,Xs,rc,_c);if(ic)return Xs;const Xm=getMessageContextOptions(t,ec,tc,V),Km=createMessageContext(Xm),tv=evaluateMessage(t,qm,Km);let nv=r?r(tv,L):tv;if(ie&&isString(nv)&&(nv=sanitizeTranslatedHtml(nv)),__INTLIFY_PROD_DEVTOOLS__){const sv={timestamp:Date.now(),key:isString(L)?L:isMessageFunction(Xs)?Xs.key:"",locale:ec||(isMessageFunction(Xs)?Xs.locale:""),format:isString(Xs)?Xs:isMessageFunction(Xs)?Xs.source:"",message:nv};sv.meta=assign({},t.__meta,getAdditionalMeta()||{}),translateDevTools(sv)}return nv}function escapeParams(t){isArray(t.list)?t.list=t.list.map(e=>isString(e)?escapeHtml(e):e):isObject(t.named)&&Object.keys(t.named).forEach(e=>{isString(t.named[e])&&(t.named[e]=escapeHtml(t.named[e]))})}function resolveMessageFormat(t,e,n,r,g,$){const{messages:y,onWarn:k,messageResolver:L,localeFallbacker:V}=t,z=V(t,r,n);let j=create(),ie,Oe=null;const ur="translate";for(let hr=0;hr<z.length&&(ie=z[hr],j=y[ie]||create(),(Oe=L(j,e))===null&&(Oe=j[e]),!(isString(Oe)||isMessageAST(Oe)||isMessageFunction(Oe)));hr++)if(!isImplicitFallback(ie,z)){const Vr=handleMissing(t,e,ie,$,ur);Vr!==e&&(Oe=Vr)}return[Oe,ie,j]}function compileMessageFormat(t,e,n,r,g,$){const{messageCompiler:y,warnHtmlMessage:k}=t;if(isMessageFunction(r)){const V=r;return V.locale=V.locale||n,V.key=V.key||e,V}if(y==null){const V=()=>r;return V.locale=n,V.key=e,V}const L=y(r,getCompileContext(t,n,g,r,k,$));return L.locale=n,L.key=e,L.source=r,L}function evaluateMessage(t,e,n){return e(n)}function parseTranslateArgs(...t){const[e,n,r]=t,g=create();if(!isString(e)&&!isNumber$1(e)&&!isMessageFunction(e)&&!isMessageAST(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const $=isNumber$1(e)?String(e):(isMessageFunction(e),e);return isNumber$1(n)?g.plural=n:isString(n)?g.default=n:isPlainObject(n)&&!isEmptyObject(n)?g.named=n:isArray(n)&&(g.list=n),isNumber$1(r)?g.plural=r:isString(r)?g.default=r:isPlainObject(r)&&assign(g,r),[$,g]}function getCompileContext(t,e,n,r,g,$){return{locale:e,key:n,warnHtmlMessage:g,onError:y=>{throw $&&$(y),y},onCacheKey:y=>generateFormatCacheKey(e,n,y)}}function getMessageContextOptions(t,e,n,r){const{modifiers:g,pluralRules:$,messageResolver:y,fallbackLocale:k,fallbackWarn:L,missingWarn:V,fallbackContext:z}=t,ie={locale:e,modifiers:g,pluralRules:$,messages:(Oe,ur)=>{let hr=y(n,Oe);if(hr==null&&(z||ur)){const[,,Vr]=resolveMessageFormat(z||t,Oe,e,k,L,V);hr=y(Vr,Oe)}if(isString(hr)||isMessageAST(hr)){let Vr=!1;const ec=compileMessageFormat(t,Oe,e,hr,Oe,()=>{Vr=!0});return Vr?NOOP_MESSAGE_FUNCTION:ec}else return isMessageFunction(hr)?hr:NOOP_MESSAGE_FUNCTION}};return t.processor&&(ie.processor=t.processor),r.list&&(ie.list=r.list),r.named&&(ie.named=r.named),isNumber$1(r.plural)&&(ie.pluralIndex=r.plural),ie}initFeatureFlags$1();/*!
  * vue-i18n v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION="10.0.8";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}const I18nErrorCodes={UNEXPECTED_RETURN_TYPE:CORE_ERROR_CODES_EXTEND_POINT,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function createI18nError(t,...e){return createCompileError(t,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(t){if(!isObject(t)||isMessageAST(t))return t;for(const e in t)if(hasOwn(t,e))if(!e.includes("."))isObject(t[e])&&handleFlatJson(t[e]);else{const n=e.split("."),r=n.length-1;let g=t,$=!1;for(let y=0;y<r;y++){if(n[y]==="__proto__")throw new Error(`unsafe key: ${n[y]}`);if(n[y]in g||(g[n[y]]=create()),!isObject(g[n[y]])){$=!0;break}g=g[n[y]]}if($||(isMessageAST(g)?AST_NODE_PROPS_KEYS.includes(n[r])||delete t[e]:(g[n[r]]=t[e],delete t[e])),!isMessageAST(g)){const y=g[n[r]];isObject(y)&&handleFlatJson(y)}}return t}function getLocaleMessages(t,e){const{messages:n,__i18n:r,messageResolver:g,flatJson:$}=e,y=isPlainObject(n)?n:isArray(r)?create():{[t]:create()};if(isArray(r)&&r.forEach(k=>{if("locale"in k&&"resource"in k){const{locale:L,resource:V}=k;L?(y[L]=y[L]||create(),deepCopy(V,y[L])):deepCopy(V,y)}else isString(k)&&deepCopy(JSON.parse(k),y)}),g==null&&$)for(const k in y)hasOwn(y,k)&&handleFlatJson(y[k]);return y}function getComponentOptions(t){return t.type}function adjustI18nResources(t,e,n){let r=isObject(e.messages)?e.messages:create();"__i18nGlobal"in n&&(r=getLocaleMessages(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const g=Object.keys(r);g.length&&g.forEach($=>{t.mergeLocaleMessage($,r[$])});{if(isObject(e.datetimeFormats)){const $=Object.keys(e.datetimeFormats);$.length&&$.forEach(y=>{t.mergeDateTimeFormat(y,e.datetimeFormats[y])})}if(isObject(e.numberFormats)){const $=Object.keys(e.numberFormats);$.length&&$.forEach(y=>{t.mergeNumberFormat(y,e.numberFormats[y])})}}}function createTextNode(t){return createVNode(Text$1,null,t,0)}const DEVTOOLS_META="__INTLIFY_META__",NOOP_RETURN_ARRAY=()=>[],NOOP_RETURN_FALSE=()=>!1;let composerID=0;function defineCoreMissingHandler(t){return(e,n,r,g)=>t(n,r,getCurrentInstance()||void 0,g)}const getMetaInfo=()=>{const t=getCurrentInstance();let e=null;return t&&(e=getComponentOptions(t)[DEVTOOLS_META])?{[DEVTOOLS_META]:e}:null};function createComposer(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,g=t.flatJson,$=inBrowser?ref:shallowRef;let y=isBoolean$1(t.inheritLocale)?t.inheritLocale:!0;const k=$(e&&y?e.locale.value:isString(t.locale)?t.locale:DEFAULT_LOCALE),L=$(e&&y?e.fallbackLocale.value:isString(t.fallbackLocale)||isArray(t.fallbackLocale)||isPlainObject(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:k.value),V=$(getLocaleMessages(k.value,t)),z=$(isPlainObject(t.datetimeFormats)?t.datetimeFormats:{[k.value]:{}}),j=$(isPlainObject(t.numberFormats)?t.numberFormats:{[k.value]:{}});let ie=e?e.missingWarn:isBoolean$1(t.missingWarn)||isRegExp(t.missingWarn)?t.missingWarn:!0,Oe=e?e.fallbackWarn:isBoolean$1(t.fallbackWarn)||isRegExp(t.fallbackWarn)?t.fallbackWarn:!0,ur=e?e.fallbackRoot:isBoolean$1(t.fallbackRoot)?t.fallbackRoot:!0,hr=!!t.fallbackFormat,Vr=isFunction(t.missing)?t.missing:null,dr=isFunction(t.missing)?defineCoreMissingHandler(t.missing):null,ec=isFunction(t.postTranslation)?t.postTranslation:null,tc=e?e.warnHtmlMessage:isBoolean$1(t.warnHtmlMessage)?t.warnHtmlMessage:!0,Xs=!!t.escapeParameter;const rc=e?e.modifiers:isPlainObject(t.modifiers)?t.modifiers:{};let ic=t.pluralRules||e&&e.pluralRules,_c;_c=(()=>{r&&setFallbackContext(null);const Fv={version:VERSION,locale:k.value,fallbackLocale:L.value,messages:V.value,modifiers:rc,pluralRules:ic,missing:dr===null?void 0:dr,missingWarn:ie,fallbackWarn:Oe,fallbackFormat:hr,unresolving:!0,postTranslation:ec===null?void 0:ec,warnHtmlMessage:tc,escapeParameter:Xs,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};Fv.datetimeFormats=z.value,Fv.numberFormats=j.value,Fv.__datetimeFormatters=isPlainObject(_c)?_c.__datetimeFormatters:void 0,Fv.__numberFormatters=isPlainObject(_c)?_c.__numberFormatters:void 0;const Yv=createCoreContext(Fv);return r&&setFallbackContext(Yv),Yv})(),updateFallbackLocale(_c,k.value,L.value);function Xm(){return[k.value,L.value,V.value,z.value,j.value]}const Km=computed({get:()=>k.value,set:Fv=>{k.value=Fv,_c.locale=k.value}}),tv=computed({get:()=>L.value,set:Fv=>{L.value=Fv,_c.fallbackLocale=L.value,updateFallbackLocale(_c,k.value,Fv)}}),nv=computed(()=>V.value),sv=computed(()=>z.value),gv=computed(()=>j.value);function Sv(){return isFunction(ec)?ec:null}function wv(Fv){ec=Fv,_c.postTranslation=Fv}function rv(){return Vr}function Jm(Fv){Fv!==null&&(dr=defineCoreMissingHandler(Fv)),Vr=Fv,_c.missing=dr}const dv=(Fv,Yv,g0,Qv,N0,B0)=>{Xm();let a1;try{__INTLIFY_PROD_DEVTOOLS__,r||(_c.fallbackContext=e?getFallbackContext():void 0),a1=Fv(_c)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(_c.fallbackContext=void 0)}if(g0!=="translate exists"&&isNumber$1(a1)&&a1===NOT_REOSLVED||g0==="translate exists"&&!a1){const[I0,M0]=Yv();return e&&ur?Qv(e):N0(I0)}else{if(B0(a1))return a1;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function pv(...Fv){return dv(Yv=>Reflect.apply(translate$1,null,[Yv,...Fv]),()=>parseTranslateArgs(...Fv),"translate",Yv=>Reflect.apply(Yv.t,Yv,[...Fv]),Yv=>Yv,Yv=>isString(Yv))}function mv(...Fv){const[Yv,g0,Qv]=Fv;if(Qv&&!isObject(Qv))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return pv(Yv,g0,assign({resolvedMessage:!0},Qv||{}))}function Cv(...Fv){return dv(Yv=>Reflect.apply(datetime,null,[Yv,...Fv]),()=>parseDateTimeArgs(...Fv),"datetime format",Yv=>Reflect.apply(Yv.d,Yv,[...Fv]),()=>MISSING_RESOLVE_VALUE,Yv=>isString(Yv))}function uv(...Fv){return dv(Yv=>Reflect.apply(number,null,[Yv,...Fv]),()=>parseNumberArgs(...Fv),"number format",Yv=>Reflect.apply(Yv.n,Yv,[...Fv]),()=>MISSING_RESOLVE_VALUE,Yv=>isString(Yv))}function yv(Fv){return Fv.map(Yv=>isString(Yv)||isNumber$1(Yv)||isBoolean$1(Yv)?createTextNode(String(Yv)):Yv)}const Dv={normalize:yv,interpolate:Fv=>Fv,type:"vnode"};function Hv(...Fv){return dv(Yv=>{let g0;const Qv=Yv;try{Qv.processor=Dv,g0=Reflect.apply(translate$1,null,[Qv,...Fv])}finally{Qv.processor=null}return g0},()=>parseTranslateArgs(...Fv),"translate",Yv=>Yv[TranslateVNodeSymbol](...Fv),Yv=>[createTextNode(Yv)],Yv=>isArray(Yv))}function Gv(...Fv){return dv(Yv=>Reflect.apply(number,null,[Yv,...Fv]),()=>parseNumberArgs(...Fv),"number format",Yv=>Yv[NumberPartsSymbol](...Fv),NOOP_RETURN_ARRAY,Yv=>isString(Yv)||isArray(Yv))}function f0(...Fv){return dv(Yv=>Reflect.apply(datetime,null,[Yv,...Fv]),()=>parseDateTimeArgs(...Fv),"datetime format",Yv=>Yv[DatetimePartsSymbol](...Fv),NOOP_RETURN_ARRAY,Yv=>isString(Yv)||isArray(Yv))}function qv(Fv){ic=Fv,_c.pluralRules=ic}function Pv(Fv,Yv){return dv(()=>{if(!Fv)return!1;const g0=isString(Yv)?Yv:k.value,Qv=Av(g0),N0=_c.messageResolver(Qv,Fv);return isMessageAST(N0)||isMessageFunction(N0)||isString(N0)},()=>[Fv],"translate exists",g0=>Reflect.apply(g0.te,g0,[Fv,Yv]),NOOP_RETURN_FALSE,g0=>isBoolean$1(g0))}function Tv(Fv){let Yv=null;const g0=fallbackWithLocaleChain(_c,L.value,k.value);for(let Qv=0;Qv<g0.length;Qv++){const N0=V.value[g0[Qv]]||{},B0=_c.messageResolver(N0,Fv);if(B0!=null){Yv=B0;break}}return Yv}function Vv(Fv){const Yv=Tv(Fv);return Yv??(e?e.tm(Fv)||{}:{})}function Av(Fv){return V.value[Fv]||{}}function y0(Fv,Yv){if(g){const g0={[Fv]:Yv};for(const Qv in g0)hasOwn(g0,Qv)&&handleFlatJson(g0[Qv]);Yv=g0[Fv]}V.value[Fv]=Yv,_c.messages=V.value}function av(Fv,Yv){V.value[Fv]=V.value[Fv]||{};const g0={[Fv]:Yv};if(g)for(const Qv in g0)hasOwn(g0,Qv)&&handleFlatJson(g0[Qv]);Yv=g0[Fv],deepCopy(Yv,V.value[Fv]),_c.messages=V.value}function fv(Fv){return z.value[Fv]||{}}function lv(Fv,Yv){z.value[Fv]=Yv,_c.datetimeFormats=z.value,clearDateTimeFormat(_c,Fv,Yv)}function kv(Fv,Yv){z.value[Fv]=assign(z.value[Fv]||{},Yv),_c.datetimeFormats=z.value,clearDateTimeFormat(_c,Fv,Yv)}function Iv(Fv){return j.value[Fv]||{}}function vv(Fv,Yv){j.value[Fv]=Yv,_c.numberFormats=j.value,clearNumberFormat(_c,Fv,Yv)}function Ev(Fv,Yv){j.value[Fv]=assign(j.value[Fv]||{},Yv),_c.numberFormats=j.value,clearNumberFormat(_c,Fv,Yv)}composerID++,e&&inBrowser&&(watch(e.locale,Fv=>{y&&(k.value=Fv,_c.locale=Fv,updateFallbackLocale(_c,k.value,L.value))}),watch(e.fallbackLocale,Fv=>{y&&(L.value=Fv,_c.fallbackLocale=Fv,updateFallbackLocale(_c,k.value,L.value))}));const zv={id:composerID,locale:Km,fallbackLocale:tv,get inheritLocale(){return y},set inheritLocale(Fv){y=Fv,Fv&&e&&(k.value=e.locale.value,L.value=e.fallbackLocale.value,updateFallbackLocale(_c,k.value,L.value))},get availableLocales(){return Object.keys(V.value).sort()},messages:nv,get modifiers(){return rc},get pluralRules(){return ic||{}},get isGlobal(){return r},get missingWarn(){return ie},set missingWarn(Fv){ie=Fv,_c.missingWarn=ie},get fallbackWarn(){return Oe},set fallbackWarn(Fv){Oe=Fv,_c.fallbackWarn=Oe},get fallbackRoot(){return ur},set fallbackRoot(Fv){ur=Fv},get fallbackFormat(){return hr},set fallbackFormat(Fv){hr=Fv,_c.fallbackFormat=hr},get warnHtmlMessage(){return tc},set warnHtmlMessage(Fv){tc=Fv,_c.warnHtmlMessage=Fv},get escapeParameter(){return Xs},set escapeParameter(Fv){Xs=Fv,_c.escapeParameter=Fv},t:pv,getLocaleMessage:Av,setLocaleMessage:y0,mergeLocaleMessage:av,getPostTranslationHandler:Sv,setPostTranslationHandler:wv,getMissingHandler:rv,setMissingHandler:Jm,[SetPluralRulesSymbol]:qv};return zv.datetimeFormats=sv,zv.numberFormats=gv,zv.rt=mv,zv.te=Pv,zv.tm=Vv,zv.d=Cv,zv.n=uv,zv.getDateTimeFormat=fv,zv.setDateTimeFormat=lv,zv.mergeDateTimeFormat=kv,zv.getNumberFormat=Iv,zv.setNumberFormat=vv,zv.mergeNumberFormat=Ev,zv[InejctWithOptionSymbol]=n,zv[TranslateVNodeSymbol]=Hv,zv[DatetimePartsSymbol]=f0,zv[NumberPartsSymbol]=Gv,zv}function convertComposerOptions(t){const e=isString(t.locale)?t.locale:DEFAULT_LOCALE,n=isString(t.fallbackLocale)||isArray(t.fallbackLocale)||isPlainObject(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=isFunction(t.missing)?t.missing:void 0,g=isBoolean$1(t.silentTranslationWarn)||isRegExp(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,$=isBoolean$1(t.silentFallbackWarn)||isRegExp(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,y=isBoolean$1(t.fallbackRoot)?t.fallbackRoot:!0,k=!!t.formatFallbackMessages,L=isPlainObject(t.modifiers)?t.modifiers:{},V=t.pluralizationRules,z=isFunction(t.postTranslation)?t.postTranslation:void 0,j=isString(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,ie=!!t.escapeParameterHtml,Oe=isBoolean$1(t.sync)?t.sync:!0;let ur=t.messages;if(isPlainObject(t.sharedMessages)){const rc=t.sharedMessages;ur=Object.keys(rc).reduce((_c,qm)=>{const Xm=_c[qm]||(_c[qm]={});return assign(Xm,rc[qm]),_c},ur||{})}const{__i18n:hr,__root:Vr,__injectWithOption:dr}=t,ec=t.datetimeFormats,tc=t.numberFormats,Xs=t.flatJson;return{locale:e,fallbackLocale:n,messages:ur,flatJson:Xs,datetimeFormats:ec,numberFormats:tc,missing:r,missingWarn:g,fallbackWarn:$,fallbackRoot:y,fallbackFormat:k,modifiers:L,pluralRules:V,postTranslation:z,warnHtmlMessage:j,escapeParameter:ie,messageResolver:t.messageResolver,inheritLocale:Oe,__i18n:hr,__root:Vr,__injectWithOption:dr}}function createVueI18n(t={}){const e=createComposer(convertComposerOptions(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(g){e.locale.value=g},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(g){e.fallbackLocale.value=g},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(g){e.setMissingHandler(g)},get silentTranslationWarn(){return isBoolean$1(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(g){e.missingWarn=isBoolean$1(g)?!g:g},get silentFallbackWarn(){return isBoolean$1(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(g){e.fallbackWarn=isBoolean$1(g)?!g:g},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(g){e.fallbackFormat=g},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(g){e.setPostTranslationHandler(g)},get sync(){return e.inheritLocale},set sync(g){e.inheritLocale=g},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(g){e.warnHtmlMessage=g!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(g){e.escapeParameter=g},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...g){return Reflect.apply(e.t,e,[...g])},rt(...g){return Reflect.apply(e.rt,e,[...g])},tc(...g){const[$,y,k]=g,L={plural:1};let V=null,z=null;if(!isString($))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const j=$;return isString(y)?L.locale=y:isNumber$1(y)?L.plural=y:isArray(y)?V=y:isPlainObject(y)&&(z=y),isString(k)?L.locale=k:isArray(k)?V=k:isPlainObject(k)&&(z=k),Reflect.apply(e.t,e,[j,V||z||{},L])},te(g,$){return e.te(g,$)},tm(g){return e.tm(g)},getLocaleMessage(g){return e.getLocaleMessage(g)},setLocaleMessage(g,$){e.setLocaleMessage(g,$)},mergeLocaleMessage(g,$){e.mergeLocaleMessage(g,$)},d(...g){return Reflect.apply(e.d,e,[...g])},getDateTimeFormat(g){return e.getDateTimeFormat(g)},setDateTimeFormat(g,$){e.setDateTimeFormat(g,$)},mergeDateTimeFormat(g,$){e.mergeDateTimeFormat(g,$)},n(...g){return Reflect.apply(e.n,e,[...g])},getNumberFormat(g){return e.getNumberFormat(g)},setNumberFormat(g,$){e.setNumberFormat(g,$)},mergeNumberFormat(g,$){e.mergeNumberFormat(g,$)}};return r.__extender=n,r}function defineMixin(t,e,n){return{beforeCreate(){const r=getCurrentInstance();if(!r)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const g=this.$options;if(g.i18n){const $=g.i18n;if(g.__i18n&&($.__i18n=g.__i18n),$.__root=e,this===this.$root)this.$i18n=mergeToGlobal(t,$);else{$.__injectWithOption=!0,$.__extender=n.__vueI18nExtend,this.$i18n=createVueI18n($);const y=this.$i18n;y.__extender&&(y.__disposer=y.__extender(this.$i18n))}}else if(g.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(t,g);else{this.$i18n=createVueI18n({__i18n:g.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const $=this.$i18n;$.__extender&&($.__disposer=$.__extender(this.$i18n))}else this.$i18n=t;g.__i18nGlobal&&adjustI18nResources(e,g,g),this.$t=(...$)=>this.$i18n.t(...$),this.$rt=(...$)=>this.$i18n.rt(...$),this.$tc=(...$)=>this.$i18n.tc(...$),this.$te=($,y)=>this.$i18n.te($,y),this.$d=(...$)=>this.$i18n.d(...$),this.$n=(...$)=>this.$i18n.n(...$),this.$tm=$=>this.$i18n.tm($),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=getCurrentInstance();if(!r)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const g=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,g.__disposer&&(g.__disposer(),delete g.__disposer,delete g.__extender),n.__deleteInstance(r),delete this.$i18n}}}function mergeToGlobal(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[SetPluralRulesSymbol](e.pluralizationRules||t.pluralizationRules);const n=getLocaleMessages(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,g)=>[...r,...g.type===Fragment?g.children:[g]],[]):e.reduce((n,r)=>{const g=t[r];return g&&(n[r]=g()),n},create())}function getFragmentableTag(){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>isNumber$1(t)||!isNaN(t)}},baseFormatProps),setup(t,e){const{slots:n,attrs:r}=e,g=t.i18n||useI18n({useScope:t.scope,__useComponent:!0});return()=>{const $=Object.keys(n).filter(j=>j!=="_"),y=create();t.locale&&(y.locale=t.locale),t.plural!==void 0&&(y.plural=isString(t.plural)?+t.plural:t.plural);const k=getInterpolateArg(e,$),L=g[TranslateVNodeSymbol](t.keypath,k,y),V=assign(create(),r),z=isString(t.tag)||isObject(t.tag)?t.tag:getFragmentableTag();return h$1(z,V,L)}}}),Translation=TranslationImpl;function isVNode(t){return isArray(t)&&!isString(t[0])}function renderFormatter(t,e,n,r){const{slots:g,attrs:$}=e;return()=>{const y={part:!0};let k=create();t.locale&&(y.locale=t.locale),isString(t.format)?y.key=t.format:isObject(t.format)&&(isString(t.format.key)&&(y.key=t.format.key),k=Object.keys(t.format).reduce((ie,Oe)=>n.includes(Oe)?assign(create(),ie,{[Oe]:t.format[Oe]}):ie,create()));const L=r(t.value,y,k);let V=[y.key];isArray(L)?V=L.map((ie,Oe)=>{const ur=g[ie.type],hr=ur?ur({[ie.type]:ie.value,index:Oe,parts:L}):[ie.value];return isVNode(hr)&&(hr[0].key=`${ie.type}-${Oe}`),hr}):isString(L)&&(V=[L]);const z=assign(create(),$),j=isString(t.tag)||isObject(t.tag)?t.tag:getFragmentableTag();return h$1(j,z,V)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(t,e){const n=t.i18n||useI18n({useScope:t.scope,__useComponent:!0});return renderFormatter(t,e,NUMBER_FORMAT_OPTIONS_KEYS,(...r)=>n[NumberPartsSymbol](...r))}}),NumberFormat=NumberFormatImpl,DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(t,e){const n=t.i18n||useI18n({useScope:t.scope,__useComponent:!0});return renderFormatter(t,e,DATETIME_FORMAT_OPTIONS_KEYS,(...r)=>n[DatetimePartsSymbol](...r))}}),DatetimeFormat=DatetimeFormatImpl;function getComposer$1(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function vTDirective(t){const e=y=>{const{instance:k,value:L}=y;if(!k||!k.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const V=getComposer$1(t,k.$),z=parseValue(L);return[Reflect.apply(V.t,V,[...makeParams(z)]),V]};return{created:(y,k)=>{const[L,V]=e(k);inBrowser&&t.global===V&&(y.__i18nWatcher=watch(V.locale,()=>{k.instance&&k.instance.$forceUpdate()})),y.__composer=V,y.textContent=L},unmounted:y=>{inBrowser&&y.__i18nWatcher&&(y.__i18nWatcher(),y.__i18nWatcher=void 0,delete y.__i18nWatcher),y.__composer&&(y.__composer=void 0,delete y.__composer)},beforeUpdate:(y,{value:k})=>{if(y.__composer){const L=y.__composer,V=parseValue(k);y.textContent=Reflect.apply(L.t,L,[...makeParams(V)])}},getSSRProps:y=>{const[k]=e(y);return{textContent:k}}}}function parseValue(t){if(isString(t))return{path:t};if(isPlainObject(t)){if(!("path"in t))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return t}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(t){const{path:e,locale:n,args:r,choice:g,plural:$}=t,y={},k=r||{};return isString(n)&&(y.locale=n),isNumber$1(g)&&(y.plural=g),isNumber$1($)&&(y.plural=$),[e,k,y]}function apply(t,e,...n){const r=isPlainObject(n[0])?n[0]:{};(isBoolean$1(r.globalInstall)?r.globalInstall:!0)&&([Translation.name,"I18nT"].forEach($=>t.component($,Translation)),[NumberFormat.name,"I18nN"].forEach($=>t.component($,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach($=>t.component($,DatetimeFormat))),t.directive("t",vTDirective(e))}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(t={},e){const n=__VUE_I18N_LEGACY_API__&&isBoolean$1(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=isBoolean$1(t.globalInjection)?t.globalInjection:!0,g=new Map,[$,y]=createGlobal(t,n),k=makeSymbol("");function L(ie){return g.get(ie)||null}function V(ie,Oe){g.set(ie,Oe)}function z(ie){g.delete(ie)}const j={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},async install(ie,...Oe){if(ie.__VUE_I18N_SYMBOL__=k,ie.provide(ie.__VUE_I18N_SYMBOL__,j),isPlainObject(Oe[0])){const Vr=Oe[0];j.__composerExtend=Vr.__composerExtend,j.__vueI18nExtend=Vr.__vueI18nExtend}let ur=null;!n&&r&&(ur=injectGlobalFields(ie,j.global)),__VUE_I18N_FULL_INSTALL__&&apply(ie,j,...Oe),__VUE_I18N_LEGACY_API__&&n&&ie.mixin(defineMixin(y,y.__composer,j));const hr=ie.unmount;ie.unmount=()=>{ur&&ur(),j.dispose(),hr()}},get global(){return y},dispose(){$.stop()},__instances:g,__getInstance:L,__setInstance:V,__deleteInstance:z};return j}function useI18n(t={}){const e=getCurrentInstance();if(e==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const n=getI18nInstance(e),r=getGlobalComposer(n),g=getComponentOptions(e),$=getScope(t,g);if($==="global")return adjustI18nResources(r,t,g),r;if($==="parent"){let L=getComposer(n,e,t.__useComponent);return L==null&&(L=r),L}const y=n;let k=y.__getInstance(e);if(k==null){const L=assign({},t);"__i18n"in g&&(L.__i18n=g.__i18n),r&&(L.__root=r),k=createComposer(L),y.__composerExtend&&(k[DisposeSymbol]=y.__composerExtend(k)),setupLifeCycle(y,e,k),y.__setInstance(e,k)}return k}function createGlobal(t,e,n){const r=effectScope(),g=__VUE_I18N_LEGACY_API__&&e?r.run(()=>createVueI18n(t)):r.run(()=>createComposer(t));if(g==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[r,g]}function getI18nInstance(t){const e=inject(t.isCE?I18nInjectionKey:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw createI18nError(t.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return e}function getScope(t,e){return isEmptyObject(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function getGlobalComposer(t){return t.mode==="composition"?t.global:t.global.__composer}function getComposer(t,e,n=!1){let r=null;const g=e.root;let $=getParentComponentInstance(e,n);for(;$!=null;){const y=t;if(t.mode==="composition")r=y.__getInstance($);else if(__VUE_I18N_LEGACY_API__){const k=y.__getInstance($);k!=null&&(r=k.__composer,n&&r&&!r[InejctWithOptionSymbol]&&(r=null))}if(r!=null||g===$)break;$=$.parent}return r}function getParentComponentInstance(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function setupLifeCycle(t,e,n){onMounted(()=>{},e),onUnmounted(()=>{const r=n;t.__deleteInstance(e);const g=r[DisposeSymbol];g&&(g(),delete r[DisposeSymbol])},e)}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(t,e){const n=Object.create(null);return globalExportProps.forEach(g=>{const $=Object.getOwnPropertyDescriptor(e,g);if(!$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const y=isRef($.value)?{get(){return $.value.value},set(k){$.value.value=k}}:{get(){return $.get&&$.get()}};Object.defineProperty(n,g,y)}),t.config.globalProperties.$i18n=n,globalExportMethods.forEach(g=>{const $=Object.getOwnPropertyDescriptor(e,g);if(!$||!$.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${g}`,$)}),()=>{delete t.config.globalProperties.$i18n,globalExportMethods.forEach(g=>{delete t.config.globalProperties[`$${g}`]})}}initFeatureFlags();registerMessageCompiler(compile);registerMessageResolver(resolveValue);registerLocaleFallbacker(fallbackWithLocaleChain);if(__INTLIFY_PROD_DEVTOOLS__){const t=getGlobalThis();t.__INTLIFY__=!0,setDevToolsHook(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const version="2.13.0",INSTALLED_KEY=Symbol("INSTALLED_KEY"),configProviderContextKey=Symbol(),defaultNamespace="el",statePrefix="is-",_bem=(t,e,n,r,g)=>{let $=`${t}-${e}`;return n&&($+=`-${n}`),r&&($+=`__${r}`),g&&($+=`--${g}`),$},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=t=>{const e=t||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed(()=>unref(e)||defaultNamespace)},useNamespace=(t,e)=>{const n=useGetDerivedNamespace(e);return{namespace:n,b:(hr="")=>_bem(n.value,t,hr,"",""),e:hr=>hr?_bem(n.value,t,"",hr,""):"",m:hr=>hr?_bem(n.value,t,"","",hr):"",be:(hr,Vr)=>hr&&Vr?_bem(n.value,t,hr,Vr,""):"",em:(hr,Vr)=>hr&&Vr?_bem(n.value,t,"",hr,Vr):"",bm:(hr,Vr)=>hr&&Vr?_bem(n.value,t,hr,"",Vr):"",bem:(hr,Vr,dr)=>hr&&Vr&&dr?_bem(n.value,t,hr,Vr,dr):"",is:(hr,...Vr)=>{const dr=Vr.length>=1?Vr[0]:!0;return hr&&dr?`${statePrefix}${hr}`:""},cssVar:hr=>{const Vr={};for(const dr in hr)hr[dr]&&(Vr[`--${n.value}-${dr}`]=hr[dr]);return Vr},cssVarName:hr=>`--${n.value}-${hr}`,cssVarBlock:hr=>{const Vr={};for(const dr in hr)hr[dr]&&(Vr[`--${n.value}-${t}-${dr}`]=hr[dr]);return Vr},cssVarBlockName:hr=>`--${n.value}-${t}-${hr}`}},isUndefined=t=>t===void 0,isBoolean=t=>typeof t=="boolean",isNumber=t=>typeof t=="number",isEmpty=t=>!t&&t!==0||isArray$1(t)&&t.length===0||isObject$2(t)&&!Object.keys(t).length,isElement$1=t=>typeof Element>"u"?!1:t instanceof Element,isPropAbsent=t=>isNil(t),isStringNumber=t=>isString$1(t)?!Number.isNaN(Number(t)):!1,isWindow=t=>t===window;class ElementPlusError extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function throwError(t,e){throw new ElementPlusError(`[${t}] ${e}`)}function debugWarn(t,e){}const initial={current:0},zIndex=ref(0),defaultInitialZIndex=2e3,ZINDEX_INJECTION_KEY=Symbol("elZIndexContextKey"),zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=t=>{const e=getCurrentInstance()?inject(ZINDEX_INJECTION_KEY,initial):initial,n=t||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),r=computed(()=>{const y=unref(n);return isNumber(y)?y:defaultInitialZIndex}),g=computed(()=>r.value+zIndex.value),$=()=>(e.current++,zIndex.value=e.current,g.value);return!isClient&&inject(ZINDEX_INJECTION_KEY),{initialZIndex:r,currentZIndex:g,nextZIndex:$}},buildTranslator=t=>(e,n)=>translate(e,n,unref(t)),translate=(t,e,n)=>get(n,t,t).replace(/\{(\w+)\}/g,(r,g)=>{var $;return`${($=e==null?void 0:e[g])!=null?$:`{${g}}`}`}),buildLocaleContext=t=>{const e=computed(()=>unref(t).name),n=isRef(t)?t:ref(t);return{lang:e,locale:n,t:buildTranslator(t)}},localeContextKey=Symbol("localeContextKey"),useLocale=t=>{const e=t||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>e.value||English))},epPropKey="__epPropKey",definePropType=t=>t,isEpProp=t=>isObject$2(t)&&!!t[epPropKey],buildProp=(t,e)=>{if(!isObject$2(t)||isEpProp(t))return t;const{values:n,required:r,default:g,type:$,validator:y}=t,L={type:$,required:!!r,validator:n||y?V=>{let z=!1,j=[];if(n&&(j=Array.from(n),hasOwn$1(t,"default")&&j.push(g),z||(z=j.includes(V))),y&&(z||(z=y(V))),!z&&j.length>0){const ie=[...new Set(j)].map(Oe=>JSON.stringify(Oe)).join(", ");warn$2(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${ie}], got value ${JSON.stringify(V)}.`)}return z}:void 0,[epPropKey]:!0};return hasOwn$1(t,"default")&&(L.default=g),L},buildProps=t=>fromPairs(Object.entries(t).map(([e,n])=>[e,buildProp(n,e)])),componentSizes=["","default","small","large"],useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const t=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(t.size)||"")},emptyValuesContextKey=Symbol("emptyValuesContextKey"),DEFAULT_EMPTY_VALUES=["",void 0,null],DEFAULT_VALUE_ON_CLEAR=void 0,useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:definePropType([String,Number,Boolean,Function]),default:void 0,validator:t=>(t=isFunction$1(t)?t():t,isArray$1(t)?t.every(e=>!e):!t)}}),useEmptyValues=(t,e)=>{const n=getCurrentInstance()?inject(emptyValuesContextKey,ref({})):ref({}),r=computed(()=>t.emptyValues||n.value.emptyValues||DEFAULT_EMPTY_VALUES),g=computed(()=>isFunction$1(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:isFunction$1(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:DEFAULT_VALUE_ON_CLEAR),$=y=>{let k=!0;return isArray$1(y)?k=r.value.some(L=>isEqual$1(y,L)):k=r.value.includes(y),k};return $(g.value),{emptyValues:r,valueOnClear:g,isEmptyValue:$}},keysOf=t=>Object.keys(t),entriesOf=t=>Object.entries(t),getProp=(t,e,n)=>({get value(){return get(t,e,n)},set value(r){set(t,e,r)}}),globalConfig=ref();function useGlobalConfig(t,e=void 0){const n=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return t?computed(()=>{var r,g;return(g=(r=n.value)==null?void 0:r[t])!=null?g:e}):n}function useGlobalComponentSettings(t,e){const n=useGlobalConfig(),r=useNamespace(t,computed(()=>{var k;return((k=n.value)==null?void 0:k.namespace)||defaultNamespace})),g=useLocale(computed(()=>{var k;return(k=n.value)==null?void 0:k.locale})),$=useZIndex(computed(()=>{var k;return((k=n.value)==null?void 0:k.zIndex)||defaultInitialZIndex})),y=computed(()=>{var k;return unref(e)||((k=n.value)==null?void 0:k.size)||""});return provideGlobalConfig(computed(()=>unref(n)||{})),{ns:r,locale:g,zIndex:$,size:y}}const provideGlobalConfig=(t,e,n=!1)=>{var r;const g=!!getCurrentInstance(),$=g?useGlobalConfig():void 0,y=(r=e==null?void 0:e.provide)!=null?r:g?provide:void 0;if(!y)return;const k=computed(()=>{const L=unref(t);return $!=null&&$.value?mergeConfig($.value,L):L});return y(configProviderContextKey,k),y(localeContextKey,computed(()=>k.value.locale)),y(namespaceContextKey,computed(()=>k.value.namespace)),y(zIndexContextKey,computed(()=>k.value.zIndex)),y(SIZE_INJECTION_KEY,{size:computed(()=>k.value.size||"")}),y(emptyValuesContextKey,computed(()=>({emptyValues:k.value.emptyValues,valueOnClear:k.value.valueOnClear}))),(n||!globalConfig.value)&&(globalConfig.value=k.value),k},mergeConfig=(t,e)=>{const n=[...new Set([...keysOf(t),...keysOf(e)])],r={};for(const g of n)r[g]=e[g]!==void 0?e[g]:t[g];return r},makeInstaller=(t=[])=>({version,install:(n,r)=>{n[INSTALLED_KEY]||(n[INSTALLED_KEY]=!0,t.forEach(g=>n.use(g)),r&&provideGlobalConfig(r,n,!0))}}),teleportProps=buildProps({to:{type:definePropType([String,Object]),required:!0},disabled:Boolean});var _export_sfc$1=(t,e)=>{const n=t.__vccOpts||t;for(const[r,g]of e)n[r]=g;return n};const _sfc_main$2w=defineComponent({__name:"teleport",props:teleportProps,setup(t){return(e,n)=>e.disabled?renderSlot(e.$slots,"default",{key:0}):(openBlock(),createBlock(Teleport$1,{key:1,to:e.to},[renderSlot(e.$slots,"default")],8,["to"]))}});var Teleport=_export_sfc$1(_sfc_main$2w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/teleport/src/teleport.vue"]]);const withInstall=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},withInstallFunction=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),withInstallDirective=(t,e)=>(t.install=n=>{n.directive(e,t)},t),withNoopInstall=t=>(t.install=NOOP,t),ElTeleport=withInstall(Teleport),UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",affixProps=buildProps({zIndex:{type:definePropType([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"},teleported:Boolean,appendTo:{type:teleportProps.to.type,default:"body"}}),affixEmits={scroll:({scrollTop:t,fixed:e})=>isNumber(t)&&isBoolean(e),[CHANGE_EVENT]:t=>isBoolean(t)};function easeInOutCubic(t,e,n,r){const g=n-e;return t/=r/2,t<1?g/2*t*t*t+e:g/2*((t-=2)*t*t+2)+e}const rAF=t=>isClient?window.requestAnimationFrame(t):setTimeout(t,16),cAF=t=>isClient?window.cancelAnimationFrame(t):clearTimeout(t),classNameToArray=(t="")=>t.split(" ").filter(e=>!!e.trim()),hasClass=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},addClass=(t,e)=>{!t||!e.trim()||t.classList.add(...classNameToArray(e))},removeClass=(t,e)=>{!t||!e.trim()||t.classList.remove(...classNameToArray(e))},getStyle=(t,e)=>{var n;if(!isClient||!t||!e)return"";let r=camelize(e);r==="float"&&(r="cssFloat");try{const g=t.style[r];if(g)return g;const $=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return $?$[r]:""}catch{return t.style[r]}},setStyle=(t,e,n)=>{if(!(!t||!e))if(isObject$2(e))entriesOf(e).forEach(([r,g])=>setStyle(t,r,g));else{const r=camelize(e);t.style[r]=n}};function addUnit(t,e="px"){if(!t&&t!==0)return"";if(isNumber(t)||isStringNumber(t))return`${t}${e}`;if(isString$1(t))return t}const isScroll=(t,e)=>{if(!isClient)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=getStyle(t,n);return["scroll","auto","overlay"].some(g=>r.includes(g))},getScrollContainer=(t,e)=>{if(!isClient)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(isScroll(n,e))return n;n=n.parentNode}return n};let scrollBarWidth;const getScrollBarWidth=t=>{var e;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const g=document.createElement("div");g.style.width="100%",n.appendChild(g);const $=g.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),scrollBarWidth=r-$,scrollBarWidth};function scrollIntoView(t,e){if(!isClient)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const g=e.offsetTop+n.reduce((L,V)=>L+V.offsetTop,0),$=g+e.offsetHeight,y=t.scrollTop,k=y+t.clientHeight;g<y?t.scrollTop=g:$>k&&(t.scrollTop=$-t.clientHeight)}function animateScrollTo(t,e,n,r,g){const $=Date.now();let y;const k=()=>{const V=Date.now()-$,z=easeInOutCubic(V>r?r:V,e,n,r);isWindow(t)?t.scrollTo(window.pageXOffset,z):t.scrollTop=z,V<r?y=rAF(k):isFunction$1(g)&&g()};return k(),()=>{y&&cAF(y)}}const getScrollElement=(t,e)=>isWindow(e)?t.ownerDocument.documentElement:e,getScrollTop=t=>isWindow(t)?window.scrollY:t.scrollTop,COMPONENT_NAME$o="ElAffix",_sfc_main$2v=defineComponent({name:COMPONENT_NAME$o,__name:"affix",props:affixProps,emits:affixEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useNamespace("affix"),y=shallowRef(),k=shallowRef(),L=shallowRef(),{height:V}=useWindowSize(),{height:z,width:j,top:ie,bottom:Oe,left:ur,update:hr}=useElementBounding(k,{windowScroll:!1}),Vr=useElementBounding(y),dr=ref(!1),ec=ref(0),tc=ref(0),Xs=computed(()=>!r.teleported||!dr.value),rc=computed(()=>({height:dr.value?`${z.value}px`:"",width:dr.value?`${j.value}px`:""})),ic=computed(()=>{if(!dr.value)return{};const Km=addUnit(r.offset);return{height:`${z.value}px`,width:`${j.value}px`,top:r.position==="top"?Km:"",bottom:r.position==="bottom"?Km:"",left:r.teleported?`${ur.value}px`:"",transform:tc.value?`translateY(${tc.value}px)`:"",zIndex:r.zIndex}}),_c=()=>{if(!L.value)return;ec.value=L.value instanceof Window?document.documentElement.scrollTop:L.value.scrollTop||0;const{position:Km,target:tv,offset:nv}=r,sv=nv+z.value;if(Km==="top")if(tv){const gv=Vr.bottom.value-sv;dr.value=nv>ie.value&&Vr.bottom.value>0,tc.value=gv<0?gv:0}else dr.value=nv>ie.value;else if(tv){const gv=V.value-Vr.top.value-sv;dr.value=V.value-nv<Oe.value&&V.value>Vr.top.value,tc.value=gv<0?-gv:0}else dr.value=V.value-nv<Oe.value},qm=async()=>{if(!dr.value){hr();return}dr.value=!1,await nextTick(),hr(),dr.value=!0},Xm=async()=>{hr(),await nextTick(),g("scroll",{scrollTop:ec.value,fixed:dr.value})};return watch(dr,Km=>g(CHANGE_EVENT,Km)),onMounted(()=>{var Km;r.target?(y.value=(Km=document.querySelector(r.target))!=null?Km:void 0,y.value||throwError(COMPONENT_NAME$o,`Target does not exist: ${r.target}`)):y.value=document.documentElement,L.value=getScrollContainer(k.value,!0),hr()}),useEventListener(L,"scroll",Xm),watchEffect(_c),e({update:_c,updateRoot:qm}),(Km,tv)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:k,class:normalizeClass(unref($).b()),style:normalizeStyle(rc.value)},[createVNode(unref(ElTeleport),{disabled:Xs.value,to:Km.appendTo},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({[unref($).m("fixed")]:dr.value}),style:normalizeStyle(ic.value)},[renderSlot(Km.$slots,"default")],6)]),_:3},8,["disabled","to"])],6))}});var Affix=_export_sfc$1(_sfc_main$2v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const ElAffix=withInstall(Affix),iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),_sfc_main$2u=defineComponent({name:"ElIcon",inheritAttrs:!1,__name:"icon",props:iconProps,setup(t){const e=t,n=useNamespace("icon"),r=computed(()=>{const{size:g,color:$}=e,y=addUnit(g);return!y&&!$?{}:{fontSize:y,"--color":$}});return(g,$)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(n).b(),style:r.value},g.$attrs),[renderSlot(g.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$2u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ElIcon=withInstall(Icon);/*! Element Plus Icons Vue v2.3.2 */var _sfc_main6=defineComponent({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z"})]))}}),arrow_down_default=_sfc_main6,_sfc_main8=defineComponent({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0"})]))}}),arrow_left_default=_sfc_main8,_sfc_main10=defineComponent({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_right_default=_sfc_main10,_sfc_main12=defineComponent({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),arrow_up_default=_sfc_main12,_sfc_main14=defineComponent({name:"Back",__name:"back",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),createBaseVNode("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),back_default=_sfc_main14,_sfc_main29=defineComponent({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),calendar_default=_sfc_main29,_sfc_main34=defineComponent({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),caret_right_default=_sfc_main34,_sfc_main35=defineComponent({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),caret_top_default=_sfc_main35,_sfc_main43=defineComponent({name:"Check",__name:"check",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),check_default=_sfc_main43,_sfc_main48=defineComponent({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),circle_check_filled_default=_sfc_main48,_sfc_main49=defineComponent({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),circle_check_default=_sfc_main49,_sfc_main50=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),circle_close_filled_default=_sfc_main50,_sfc_main51=defineComponent({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),circle_close_default=_sfc_main51,_sfc_main54=defineComponent({name:"Clock",__name:"clock",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),clock_default=_sfc_main54,_sfc_main56=defineComponent({name:"Close",__name:"close",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),close_default=_sfc_main56,_sfc_main72=defineComponent({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z"})]))}}),d_arrow_left_default=_sfc_main72,_sfc_main73=defineComponent({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688"})]))}}),d_arrow_right_default=_sfc_main73,_sfc_main80=defineComponent({name:"Delete",__name:"delete",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),delete_default=_sfc_main80,_sfc_main90=defineComponent({name:"Document",__name:"document",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),document_default=_sfc_main90,_sfc_main118=defineComponent({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),full_screen_default=_sfc_main118,_sfc_main133=defineComponent({name:"Hide",__name:"hide",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),hide_default=_sfc_main133,_sfc_main143=defineComponent({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),info_filled_default=_sfc_main143,_sfc_main150=defineComponent({name:"Loading",__name:"loading",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),loading_default=_sfc_main150,_sfc_main169=defineComponent({name:"Minus",__name:"minus",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),minus_default=_sfc_main169,_sfc_main174=defineComponent({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),more_filled_default=_sfc_main174,_sfc_main175=defineComponent({name:"More",__name:"more",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),more_default=_sfc_main175,_sfc_main195=defineComponent({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),picture_filled_default=_sfc_main195,_sfc_main201=defineComponent({name:"Plus",__name:"plus",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),plus_default=_sfc_main201,_sfc_main211=defineComponent({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592q0-64.416-42.24-101.376c-28.16-25.344-65.472-37.312-111.232-37.312m-12.672 406.208a54.27 54.27 0 0 0-38.72 14.784 49.4 49.4 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.85 54.85 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.97 51.97 0 0 0-15.488-38.016 55.94 55.94 0 0 0-39.424-14.784"})]))}}),question_filled_default=_sfc_main211,_sfc_main215=defineComponent({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),refresh_left_default=_sfc_main215,_sfc_main216=defineComponent({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88"})]))}}),refresh_right_default=_sfc_main216,_sfc_main222=defineComponent({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512"})]))}}),scale_to_original_default=_sfc_main222,_sfc_main225=defineComponent({name:"Search",__name:"search",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),search_default=_sfc_main225,_sfc_main242=defineComponent({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),sort_down_default=_sfc_main242,_sfc_main243=defineComponent({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),sort_up_default=_sfc_main243,_sfc_main246=defineComponent({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M313.6 924.48a70.4 70.4 0 0 1-74.152-5.365 70.4 70.4 0 0 1-27.992-68.875l37.888-220.928L88.96 472.96a70.4 70.4 0 0 1 3.788-104.225A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 100.246-28.595 70.4 70.4 0 0 1 25.962 28.595l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),star_filled_default=_sfc_main246,_sfc_main247=defineComponent({name:"Star",__name:"star",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),star_default=_sfc_main247,_sfc_main249=defineComponent({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),success_filled_default=_sfc_main249,_sfc_main283=defineComponent({name:"View",__name:"view",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),view_default=_sfc_main283,_sfc_main287=defineComponent({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),warning_filled_default=_sfc_main287,_sfc_main292=defineComponent({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),zoom_in_default=_sfc_main292,_sfc_main293=defineComponent({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),zoom_out_default=_sfc_main293;const iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={primary:info_filled_default,success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},alertEffects=["light","dark"],alertProps=buildProps({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:keysOf(TypeComponentsMap),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:alertEffects,default:"light"},showAfter:Number,hideAfter:Number,autoClose:Number}),alertEmits={close:t=>t instanceof MouseEvent},_sfc_main$2t=defineComponent({name:"ElAlert",__name:"alert",props:alertProps,emits:alertEmits,setup(t,{emit:e}){const{Close:n}=TypeComponents,r=t,g=e,$=useSlots(),y=useNamespace("alert"),k=ref(!0),L=computed(()=>TypeComponentsMap[r.type]),V=computed(()=>!!(r.description||$.default)),z=j=>{k.value=!1,g("close",j)};return r.showAfter||r.hideAfter||r.autoClose,(j,ie)=>(openBlock(),createBlock(Transition,{name:unref(y).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass([unref(y).b(),unref(y).m(j.type),unref(y).is("center",j.center),unref(y).is(j.effect)]),role:"alert"},[j.showIcon&&(j.$slots.icon||L.value)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).e("icon"),unref(y).is("big",V.value)])},{default:withCtx(()=>[renderSlot(j.$slots,"icon",{},()=>[(openBlock(),createBlock(resolveDynamicComponent(L.value)))])]),_:3},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("content"))},[j.title||j.$slots.title?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(y).e("title"),{"with-description":V.value}])},[renderSlot(j.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(j.title),1)])],2)):createCommentVNode("v-if",!0),V.value?(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(unref(y).e("description"))},[renderSlot(j.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(j.description),1)])],2)):createCommentVNode("v-if",!0),j.closable?(openBlock(),createElementBlock(Fragment,{key:2},[j.closeText?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(y).e("close-btn"),unref(y).is("customed")]),onClick:z},toDisplayString$1(j.closeText),3)):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(y).e("close-btn")),onClick:z},{default:withCtx(()=>[createVNode(unref(n))]),_:1},8,["class"]))],64)):createCommentVNode("v-if",!0)],2)],2),[[vShow,k.value]])]),_:3},8,["name"]))}});var Alert=_export_sfc$1(_sfc_main$2t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const ElAlert=withInstall(Alert),isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent),isAndroid=()=>isClient&&/android/i.test(window.navigator.userAgent);let hiddenTextarea;const HIDDEN_STYLE={height:"0",visibility:"hidden",overflow:isFirefox()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],looseToNumber=t=>{const e=Number.parseFloat(t);return Number.isNaN(e)?t:e};function calculateNodeStyling(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),g=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(y=>[y,e.getPropertyValue(y)]),paddingSize:r,borderSize:g,boxSizing:n}}function calcTextareaHeight(t,e=1,n){var r,g;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),((r=t.parentNode)!=null?r:document.body).appendChild(hiddenTextarea));const{paddingSize:$,borderSize:y,boxSizing:k,contextStyle:L}=calculateNodeStyling(t);L.forEach(([ie,Oe])=>hiddenTextarea==null?void 0:hiddenTextarea.style.setProperty(ie,Oe)),Object.entries(HIDDEN_STYLE).forEach(([ie,Oe])=>hiddenTextarea==null?void 0:hiddenTextarea.style.setProperty(ie,Oe,"important")),hiddenTextarea.value=t.value||t.placeholder||"";let V=hiddenTextarea.scrollHeight;const z={};k==="border-box"?V=V+y:k==="content-box"&&(V=V-$),hiddenTextarea.value="";const j=hiddenTextarea.scrollHeight-$;if(isNumber(e)){let ie=j*e;k==="border-box"&&(ie=ie+$+y),V=Math.max(ie,V),z.minHeight=`${ie}px`}if(isNumber(n)){let ie=j*n;k==="border-box"&&(ie=ie+$+y),V=Math.min(ie,V)}return z.height=`${V}px`,(g=hiddenTextarea.parentNode)==null||g.removeChild(hiddenTextarea),hiddenTextarea=void 0,z}const mutable=t=>t,ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=t=>pick(ariaProps,t),inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:{type:Boolean,default:void 0},modelValue:{type:definePropType([String,Number,Object]),default:""},modelModifiers:{type:definePropType(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:definePropType(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:definePropType(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:iconPropType,default:circle_close_default},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:Boolean,rows:{type:Number,default:2},...useAriaProps(["ariaLabel"]),inputmode:{type:definePropType(String),default:void 0},name:String}),inputEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t),input:t=>isString$1(t),change:(t,e)=>isString$1(t)&&(e instanceof Event||e===void 0),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=computed(()=>((n==null?void 0:n.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),g=getCurrentInstance();return computed(g?()=>{var $;return fromPairs(Object.entries(($=g.proxy)==null?void 0:$.$attrs).filter(([y])=>!r.value.includes(y)&&!(e&&LISTENER_PREFIX.test(y))))}:()=>({}))},defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=t=>{const e=useIdInjection(),n=useGetDerivedNamespace();return computedEager(()=>unref(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormItem=()=>{const t=inject(formContextKey,void 0),e=inject(formItemContextKey,void 0);return{form:t,formItem:e}},useFormItemInputId=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=ref(!1)),r||(r=ref(!1));const g=getCurrentInstance(),$=()=>{let V=g==null?void 0:g.parent;for(;V;){if(V.type.name==="ElFormItem")return!1;if(V.type.name==="ElLabelWrap")return!0;V=V.parent}return!1},y=ref();let k;const L=computed(()=>{var V;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((V=e.inputIds)==null?void 0:V.length)<=1)});return onMounted(()=>{k=watch([toRef$1(t,"id"),n],([V,z])=>{const j=V??(z?void 0:useId().value);j!==y.value&&(e!=null&&e.removeInputId&&!$()&&(y.value&&e.removeInputId(y.value),!(r!=null&&r.value)&&!z&&j&&e.addInputId(j)),y.value=j)},{immediate:!0})}),onUnmounted(()=>{k&&k(),e!=null&&e.removeInputId&&y.value&&e.removeInputId(y.value)}),{isLabeledByFormItem:L,inputId:y}},useProp=t=>{const e=getCurrentInstance();return computed(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})},useFormSize=(t,e={})=>{const n=ref(void 0),r=e.prop?n:useProp("size"),g=e.global?n:useGlobalSize(),$=e.form?{size:void 0}:inject(formContextKey,void 0),y=e.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>r.value||unref(t)||(y==null?void 0:y.size)||($==null?void 0:$.size)||g.value||"")},useFormDisabled=t=>{const e=useProp("disabled"),n=inject(formContextKey,void 0);return computed(()=>{var r,g,$;return($=(g=(r=e.value)!=null?r:unref(t))!=null?g:n==null?void 0:n.disabled)!=null?$:!1})},FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isHTMLElement$1=t=>typeof Element>"u"?!1:t instanceof Element,isVisible=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,obtainAllFocusableElements$1=t=>Array.from(t.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(e=>isFocusable(e)&&isVisible(e)),isFocusable=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},triggerEvent=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const g=document.createEvent(r);return g.initEvent(e,...n),t.dispatchEvent(g),t},isLeaf=t=>!t.getAttribute("aria-owns"),getSibling=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const g=r.querySelectorAll(n),$=Array.prototype.indexOf.call(g,t);return g[$+e]||null},focusElement=(t,e)=>{if(!t||!t.focus)return;let n=!1;isHTMLElement$1(t)&&!isFocusable(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),n=!0),t.focus(e),isHTMLElement$1(t)&&n&&t.removeAttribute("tabindex")},focusNode=t=>{t&&(focusElement(t),!isLeaf(t)&&t.click())};function useFocusController(t,{disabled:e,beforeFocus:n,afterFocus:r,beforeBlur:g,afterBlur:$}={}){const y=getCurrentInstance(),{emit:k}=y,L=shallowRef(),V=ref(!1),z=Oe=>{const ur=isFunction$1(n)?n(Oe):!1;unref(e)||V.value||ur||(V.value=!0,k("focus",Oe),r==null||r())},j=Oe=>{var ur;const hr=isFunction$1(g)?g(Oe):!1;unref(e)||Oe.relatedTarget&&((ur=L.value)!=null&&ur.contains(Oe.relatedTarget))||hr||(V.value=!1,k("blur",Oe),$==null||$())},ie=Oe=>{var ur,hr;unref(e)||isFocusable(Oe.target)||(ur=L.value)!=null&&ur.contains(document.activeElement)&&L.value!==document.activeElement||(hr=t.value)==null||hr.focus()};return watch([L,()=>unref(e)],([Oe,ur])=>{Oe&&(ur?Oe.removeAttribute("tabindex"):Oe.setAttribute("tabindex","-1"))}),useEventListener(L,"focus",z,!0),useEventListener(L,"blur",j,!0),useEventListener(L,"click",ie,!0),{isFocused:V,wrapperRef:L,handleFocus:z,handleBlur:j}}const isKorean=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function useComposition({afterComposition:t,emit:e}){const n=ref(!1),r=k=>{e==null||e("compositionstart",k),n.value=!0},g=k=>{var L;e==null||e("compositionupdate",k);const V=(L=k.target)==null?void 0:L.value,z=V[V.length-1]||"";n.value=!isKorean(z)},$=k=>{e==null||e("compositionend",k),n.value&&(n.value=!1,nextTick(()=>t(k)))};return{isComposing:n,handleComposition:k=>{k.type==="compositionend"?$(k):g(k)},handleCompositionStart:r,handleCompositionUpdate:g,handleCompositionEnd:$}}function useCursor(t){let e;function n(){if(t.value==null)return;const{selectionStart:g,selectionEnd:$,value:y}=t.value;if(g==null||$==null)return;const k=y.slice(0,Math.max(0,g)),L=y.slice(Math.max(0,$));e={selectionStart:g,selectionEnd:$,value:y,beforeTxt:k,afterTxt:L}}function r(){if(t.value==null||e==null)return;const{value:g}=t.value,{beforeTxt:$,afterTxt:y,selectionStart:k}=e;if($==null||y==null||k==null)return;let L=g.length;if(g.endsWith(y))L=g.length-y.length;else if(g.startsWith($))L=$.length;else{const V=$[k-1],z=g.indexOf(V,k-1);z!==-1&&(L=z+1)}t.value.setSelectionRange(L,L)}return[n,r]}const _hoisted_1$1f=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],_hoisted_2$H=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"],COMPONENT_NAME$n="ElInput",_sfc_main$2s=defineComponent({name:COMPONENT_NAME$n,inheritAttrs:!1,__name:"input",props:inputProps,emits:inputEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useAttrs$1(),y=useAttrs(),k=useSlots(),L=computed(()=>[r.type==="textarea"?Vr.b():hr.b(),hr.m(Oe.value),hr.is("disabled",ur.value),hr.is("exceed",uv.value),{[hr.b("group")]:k.prepend||k.append,[hr.m("prefix")]:k.prefix||r.prefixIcon,[hr.m("suffix")]:k.suffix||r.suffixIcon||r.clearable||r.showPassword,[hr.bm("suffix","password-clear")]:dv.value&&pv.value,[hr.b("hidden")]:r.type==="hidden"},$.class]),V=computed(()=>[hr.e("wrapper"),hr.is("focus",Xm.value)]),{form:z,formItem:j}=useFormItem(),{inputId:ie}=useFormItemInputId(r,{formItemContext:j}),Oe=useFormSize(),ur=useFormDisabled(),hr=useNamespace("input"),Vr=useNamespace("textarea"),dr=shallowRef(),ec=shallowRef(),tc=ref(!1),Xs=ref(!1),rc=ref(),ic=shallowRef(r.inputStyle),_c=computed(()=>dr.value||ec.value),{wrapperRef:qm,isFocused:Xm,handleFocus:Km,handleBlur:tv}=useFocusController(_c,{disabled:ur,afterBlur(){var Qv;r.validateEvent&&((Qv=j==null?void 0:j.validate)==null||Qv.call(j,"blur").catch(N0=>void 0))}}),nv=computed(()=>{var Qv;return(Qv=z==null?void 0:z.statusIcon)!=null?Qv:!1}),sv=computed(()=>(j==null?void 0:j.validateState)||""),gv=computed(()=>sv.value&&ValidateComponentsMap[sv.value]),Sv=computed(()=>Xs.value?view_default:hide_default),wv=computed(()=>[$.style]),rv=computed(()=>[r.inputStyle,ic.value,{resize:r.resize}]),Jm=computed(()=>isNil(r.modelValue)?"":String(r.modelValue)),dv=computed(()=>r.clearable&&!ur.value&&!r.readonly&&!!Jm.value&&(Xm.value||tc.value)),pv=computed(()=>r.showPassword&&!ur.value&&!!Jm.value),mv=computed(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!ur.value&&!r.readonly&&!r.showPassword),Cv=computed(()=>Jm.value.length),uv=computed(()=>!!mv.value&&Cv.value>Number(r.maxlength)),yv=computed(()=>!!k.suffix||!!r.suffixIcon||dv.value||r.showPassword||mv.value||!!sv.value&&nv.value),$v=computed(()=>!!Object.keys(r.modelModifiers).length),[Dv,Hv]=useCursor(dr);useResizeObserver(ec,Qv=>{if(qv(),!mv.value||r.resize!=="both"&&r.resize!=="horizontal")return;const N0=Qv[0],{width:B0}=N0.contentRect;rc.value={right:`calc(100% - ${B0+22-10}px)`}});const Gv=()=>{const{type:Qv,autosize:N0}=r;if(!(!isClient||Qv!=="textarea"||!ec.value))if(N0){const B0=isObject$2(N0)?N0.minRows:void 0,a1=isObject$2(N0)?N0.maxRows:void 0,I0=calcTextareaHeight(ec.value,B0,a1);ic.value={overflowY:"hidden",...I0},nextTick(()=>{ec.value.offsetHeight,ic.value=I0})}else ic.value={minHeight:calcTextareaHeight(ec.value).minHeight}},qv=(Qv=>{let N0=!1;return()=>{var B0;if(N0||!r.autosize)return;((B0=ec.value)==null?void 0:B0.offsetParent)===null||(setTimeout(Qv),N0=!0)}})(Gv),Pv=()=>{const Qv=_c.value,N0=r.formatter?r.formatter(Jm.value):Jm.value;!Qv||Qv.value===N0||r.type==="file"||(Qv.value=N0)},Tv=Qv=>{const{trim:N0,number:B0}=r.modelModifiers;return N0&&(Qv=Qv.trim()),B0&&(Qv=`${looseToNumber(Qv)}`),r.formatter&&r.parser&&(Qv=r.parser(Qv)),Qv},Vv=async Qv=>{if(y0.value)return;const{lazy:N0}=r.modelModifiers;let{value:B0}=Qv.target;if(N0){g(INPUT_EVENT,B0);return}if(B0=Tv(B0),String(B0)===Jm.value){r.formatter&&Pv();return}Dv(),g(UPDATE_MODEL_EVENT,B0),g(INPUT_EVENT,B0),await nextTick(),(r.formatter&&r.parser||!$v.value)&&Pv(),Hv()},Av=async Qv=>{let{value:N0}=Qv.target;N0=Tv(N0),r.modelModifiers.lazy&&g(UPDATE_MODEL_EVENT,N0),g(CHANGE_EVENT,N0,Qv),await nextTick(),Pv()},{isComposing:y0,handleCompositionStart:av,handleCompositionUpdate:fv,handleCompositionEnd:lv}=useComposition({emit:g,afterComposition:Vv}),kv=()=>{Xs.value=!Xs.value},Iv=()=>{var Qv;return(Qv=_c.value)==null?void 0:Qv.focus()},vv=()=>{var Qv;return(Qv=_c.value)==null?void 0:Qv.blur()},Ev=Qv=>{tc.value=!1,g("mouseleave",Qv)},zv=Qv=>{tc.value=!0,g("mouseenter",Qv)},Fv=Qv=>{g("keydown",Qv)},Yv=()=>{var Qv;(Qv=_c.value)==null||Qv.select()},g0=()=>{g(UPDATE_MODEL_EVENT,""),g(CHANGE_EVENT,""),g("clear"),g(INPUT_EVENT,"")};return watch(()=>r.modelValue,()=>{var Qv;nextTick(()=>Gv()),r.validateEvent&&((Qv=j==null?void 0:j.validate)==null||Qv.call(j,"change").catch(N0=>void 0))}),watch(Jm,Qv=>{if(!_c.value)return;const{trim:N0,number:B0}=r.modelModifiers,a1=_c.value.value,I0=(B0||r.type==="number")&&!/^0\d/.test(a1)?`${looseToNumber(a1)}`:a1;I0!==Qv&&(document.activeElement===_c.value&&_c.value.type!=="range"&&N0&&I0.trim()===Qv||Pv())}),watch(()=>r.type,async()=>{await nextTick(),Pv(),Gv()}),onMounted(()=>{!r.formatter&&r.parser,Pv(),nextTick(Gv)}),e({input:dr,textarea:ec,ref:_c,textareaStyle:rv,autosize:toRef$1(r,"autosize"),isComposing:y0,focus:Iv,blur:vv,select:Yv,clear:g0,resizeTextarea:Gv}),(Qv,N0)=>(openBlock(),createElementBlock("div",{class:normalizeClass([L.value,{[unref(hr).bm("group","append")]:Qv.$slots.append,[unref(hr).bm("group","prepend")]:Qv.$slots.prepend}]),style:normalizeStyle(wv.value),onMouseenter:zv,onMouseleave:Ev},[createCommentVNode(" input "),Qv.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),Qv.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(hr).be("group","prepend"))},[renderSlot(Qv.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:qm,class:normalizeClass(V.value)},[createCommentVNode(" prefix slot "),Qv.$slots.prefix||Qv.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(hr).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(hr).e("prefix-inner"))},[renderSlot(Qv.$slots,"prefix"),Qv.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(hr).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Qv.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(ie),ref_key:"input",ref:dr,class:unref(hr).e("inner")},unref(y),{name:Qv.name,minlength:Qv.minlength,maxlength:Qv.maxlength,type:Qv.showPassword?Xs.value?"text":"password":Qv.type,disabled:unref(ur),readonly:Qv.readonly,autocomplete:Qv.autocomplete,tabindex:Qv.tabindex,"aria-label":Qv.ariaLabel,placeholder:Qv.placeholder,style:Qv.inputStyle,form:Qv.form,autofocus:Qv.autofocus,role:Qv.containerRole,inputmode:Qv.inputmode,onCompositionstart:N0[0]||(N0[0]=(...B0)=>unref(av)&&unref(av)(...B0)),onCompositionupdate:N0[1]||(N0[1]=(...B0)=>unref(fv)&&unref(fv)(...B0)),onCompositionend:N0[2]||(N0[2]=(...B0)=>unref(lv)&&unref(lv)(...B0)),onInput:Vv,onChange:Av,onKeydown:Fv}),null,16,_hoisted_1$1f),createCommentVNode(" suffix slot "),yv.value?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(hr).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(hr).e("suffix-inner"))},[!dv.value||!pv.value||!mv.value?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(Qv.$slots,"suffix"),Qv.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(hr).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Qv.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),dv.value?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(hr).e("icon"),unref(hr).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:g0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Qv.clearIcon)))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),pv.value?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(hr).e("icon"),unref(hr).e("password")]),onClick:kv,onMousedown:withModifiers(unref(NOOP),["prevent"]),onMouseup:withModifiers(unref(NOOP),["prevent"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Sv.value)))]),_:1},8,["class","onMousedown","onMouseup"])):createCommentVNode("v-if",!0),mv.value?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass([unref(hr).e("count"),unref(hr).is("outside",Qv.wordLimitPosition==="outside")])},[createBaseVNode("span",{class:normalizeClass(unref(hr).e("count-inner"))},toDisplayString$1(Cv.value)+" / "+toDisplayString$1(Qv.maxlength),3)],2)):createCommentVNode("v-if",!0),sv.value&&gv.value&&nv.value?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(hr).e("icon"),unref(hr).e("validateIcon"),unref(hr).is("loading",sv.value==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(gv.value)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),Qv.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(hr).be("group","append"))},[renderSlot(Qv.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(ie),ref_key:"textarea",ref:ec,class:[unref(Vr).e("inner"),unref(hr).is("focus",unref(Xm))]},unref(y),{name:Qv.name,minlength:Qv.minlength,maxlength:Qv.maxlength,tabindex:Qv.tabindex,disabled:unref(ur),readonly:Qv.readonly,autocomplete:Qv.autocomplete,style:rv.value,"aria-label":Qv.ariaLabel,placeholder:Qv.placeholder,form:Qv.form,autofocus:Qv.autofocus,rows:Qv.rows,role:Qv.containerRole,onCompositionstart:N0[3]||(N0[3]=(...B0)=>unref(av)&&unref(av)(...B0)),onCompositionupdate:N0[4]||(N0[4]=(...B0)=>unref(fv)&&unref(fv)(...B0)),onCompositionend:N0[5]||(N0[5]=(...B0)=>unref(lv)&&unref(lv)(...B0)),onInput:Vv,onFocus:N0[6]||(N0[6]=(...B0)=>unref(Km)&&unref(Km)(...B0)),onBlur:N0[7]||(N0[7]=(...B0)=>unref(tv)&&unref(tv)(...B0)),onChange:Av,onKeydown:Fv}),null,16,_hoisted_2$H),mv.value?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle(rc.value),class:normalizeClass([unref(hr).e("count"),unref(hr).is("outside",Qv.wordLimitPosition==="outside")])},toDisplayString$1(Cv.value)+" / "+toDisplayString$1(Qv.maxlength),7)):createCommentVNode("v-if",!0)],64))],38))}});var Input=_export_sfc$1(_sfc_main$2s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle$1=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$m="Thumb",_sfc_main$2r=defineComponent({__name:"thumb",props:thumbProps,setup(t){const e=t,n=inject(scrollbarContextKey),r=useNamespace("scrollbar");n||throwError(COMPONENT_NAME$m,"can not inject scrollbar context");const g=ref(),$=ref(),y=ref({}),k=ref(!1);let L=!1,V=!1,z=0,j=0,ie=isClient?document.onselectstart:null;const Oe=computed(()=>BAR_MAP[e.vertical?"vertical":"horizontal"]),ur=computed(()=>renderThumbStyle$1({size:e.size,move:e.move,bar:Oe.value})),hr=computed(()=>g.value[Oe.value.offset]**2/n.wrapElement[Oe.value.scrollSize]/e.ratio/$.value[Oe.value.offset]),Vr=qm=>{var Xm;if(qm.stopPropagation(),qm.ctrlKey||[1,2].includes(qm.button))return;(Xm=window.getSelection())==null||Xm.removeAllRanges(),ec(qm);const Km=qm.currentTarget;Km&&(y.value[Oe.value.axis]=Km[Oe.value.offset]-(qm[Oe.value.client]-Km.getBoundingClientRect()[Oe.value.direction]))},dr=qm=>{if(!$.value||!g.value||!n.wrapElement)return;const Xm=Math.abs(qm.target.getBoundingClientRect()[Oe.value.direction]-qm[Oe.value.client]),Km=$.value[Oe.value.offset]/2,tv=(Xm-Km)*100*hr.value/g.value[Oe.value.offset];n.wrapElement[Oe.value.scroll]=tv*n.wrapElement[Oe.value.scrollSize]/100},ec=qm=>{qm.stopImmediatePropagation(),L=!0,z=n.wrapElement.scrollHeight,j=n.wrapElement.scrollWidth,document.addEventListener("mousemove",tc),document.addEventListener("mouseup",Xs),ie=document.onselectstart,document.onselectstart=()=>!1},tc=qm=>{if(!g.value||!$.value||L===!1)return;const Xm=y.value[Oe.value.axis];if(!Xm)return;const Km=(g.value.getBoundingClientRect()[Oe.value.direction]-qm[Oe.value.client])*-1,tv=$.value[Oe.value.offset]-Xm,nv=(Km-tv)*100*hr.value/g.value[Oe.value.offset];Oe.value.scroll==="scrollLeft"?n.wrapElement[Oe.value.scroll]=nv*j/100:n.wrapElement[Oe.value.scroll]=nv*z/100},Xs=()=>{L=!1,y.value[Oe.value.axis]=0,document.removeEventListener("mousemove",tc),document.removeEventListener("mouseup",Xs),_c(),V&&(k.value=!1)},rc=()=>{V=!1,k.value=!!e.size},ic=()=>{V=!0,k.value=L};onBeforeUnmount(()=>{_c(),document.removeEventListener("mouseup",Xs)});const _c=()=>{document.onselectstart!==ie&&(document.onselectstart=ie)};return useEventListener(toRef$1(n,"scrollbarElement"),"mousemove",rc),useEventListener(toRef$1(n,"scrollbarElement"),"mouseleave",ic),(qm,Xm)=>(openBlock(),createBlock(Transition,{name:unref(r).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:g,class:normalizeClass([unref(r).e("bar"),unref(r).is(Oe.value.key)]),onMousedown:dr,onClick:Xm[0]||(Xm[0]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{ref_key:"thumb",ref:$,class:normalizeClass(unref(r).e("thumb")),style:normalizeStyle(ur.value),onMousedown:Vr},null,38)],34),[[vShow,qm.always||k.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc$1(_sfc_main$2r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),_sfc_main$2q=defineComponent({__name:"bar",props:barProps,setup(t,{expose:e}){const n=t,r=inject(scrollbarContextKey),g=ref(0),$=ref(0),y=ref(""),k=ref(""),L=ref(1),V=ref(1);return e({handleScroll:ie=>{if(ie){const Oe=ie.offsetHeight-GAP,ur=ie.offsetWidth-GAP;$.value=ie.scrollTop*100/Oe*L.value,g.value=ie.scrollLeft*100/ur*V.value}},update:()=>{const ie=r==null?void 0:r.wrapElement;if(!ie)return;const Oe=ie.offsetHeight-GAP,ur=ie.offsetWidth-GAP,hr=Oe**2/ie.scrollHeight,Vr=ur**2/ie.scrollWidth,dr=Math.max(hr,n.minSize),ec=Math.max(Vr,n.minSize);L.value=hr/(Oe-hr)/(dr/(Oe-dr)),V.value=Vr/(ur-Vr)/(ec/(ur-ec)),k.value=dr+GAP<Oe?`${dr}px`:"",y.value=ec+GAP<ur?`${ec}px`:""}}),(ie,Oe)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Thumb,{move:g.value,ratio:V.value,size:y.value,always:ie.always},null,8,["move","ratio","size","always"]),createVNode(Thumb,{move:$.value,ratio:L.value,size:k.value,vertical:"",always:ie.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc$1(_sfc_main$2q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...useAriaProps(["ariaLabel","ariaOrientation"])}),scrollbarEmits={"end-reached":t=>["left","right","top","bottom"].includes(t),scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(isNumber)},_hoisted_1$1e=["tabindex"],COMPONENT_NAME$l="ElScrollbar",_sfc_main$2p=defineComponent({name:COMPONENT_NAME$l,__name:"scrollbar",props:scrollbarProps,emits:scrollbarEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useNamespace("scrollbar");let y,k,L,V=0,z=0,j="";const ie={bottom:!1,top:!1,right:!1,left:!1},Oe=ref(),ur=ref(),hr=ref(),Vr=ref(),dr=computed(()=>{const nv={},sv=addUnit(r.height),gv=addUnit(r.maxHeight);return sv&&(nv.height=sv),gv&&(nv.maxHeight=gv),[r.wrapStyle,nv]}),ec=computed(()=>[r.wrapClass,$.e("wrap"),{[$.em("wrap","hidden-default")]:!r.native}]),tc=computed(()=>[$.e("view"),r.viewClass]),Xs=nv=>{var sv;return(sv=ie[nv])!=null?sv:!1},rc={top:"bottom",bottom:"top",left:"right",right:"left"},ic=nv=>{const sv=rc[j];if(!sv)return;const gv=nv[j],Sv=nv[sv];gv&&!ie[j]&&(ie[j]=!0),!Sv&&ie[sv]&&(ie[sv]=!1)},_c=()=>{var nv;if(ur.value){(nv=Vr.value)==null||nv.handleScroll(ur.value);const sv=V,gv=z;V=ur.value.scrollTop,z=ur.value.scrollLeft;const Sv={bottom:V+ur.value.clientHeight>=ur.value.scrollHeight-r.distance,top:V<=r.distance&&sv!==0,right:z+ur.value.clientWidth>=ur.value.scrollWidth-r.distance&&gv!==z,left:z<=r.distance&&gv!==0};if(g("scroll",{scrollTop:V,scrollLeft:z}),sv!==V&&(j=V>sv?"bottom":"top"),gv!==z&&(j=z>gv?"right":"left"),r.distance>0){if(Xs(j))return;ic(Sv)}Sv[j]&&g("end-reached",j)}};function qm(nv,sv){isObject$2(nv)?ur.value.scrollTo(nv):isNumber(nv)&&isNumber(sv)&&ur.value.scrollTo(nv,sv)}const Xm=nv=>{isNumber(nv)&&(ur.value.scrollTop=nv)},Km=nv=>{isNumber(nv)&&(ur.value.scrollLeft=nv)},tv=()=>{var nv;(nv=Vr.value)==null||nv.update(),ie[j]=!1};return watch(()=>r.noresize,nv=>{nv?(y==null||y(),k==null||k(),L==null||L()):({stop:y}=useResizeObserver(hr,tv),{stop:k}=useResizeObserver(ur,tv),L=useEventListener("resize",tv))},{immediate:!0}),watch(()=>[r.maxHeight,r.height],()=>{r.native||nextTick(()=>{var nv;tv(),ur.value&&((nv=Vr.value)==null||nv.handleScroll(ur.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:Oe,wrapElement:ur})),onActivated(()=>{ur.value&&(ur.value.scrollTop=V,ur.value.scrollLeft=z)}),onMounted(()=>{r.native||nextTick(()=>{tv()})}),onUpdated(()=>tv()),e({wrapRef:ur,update:tv,scrollTo:qm,setScrollTop:Xm,setScrollLeft:Km,handleScroll:_c}),(nv,sv)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:Oe,class:normalizeClass(unref($).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:ur,class:normalizeClass(ec.value),style:normalizeStyle(dr.value),tabindex:nv.tabindex,onScroll:_c},[(openBlock(),createBlock(resolveDynamicComponent(nv.tag),{id:nv.id,ref_key:"resizeRef",ref:hr,class:normalizeClass(tc.value),style:normalizeStyle(nv.viewStyle),role:nv.role,"aria-label":nv.ariaLabel,"aria-orientation":nv.ariaOrientation},{default:withCtx(()=>[renderSlot(nv.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,_hoisted_1$1e),nv.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:Vr,always:nv.always,"min-size":nv.minSize},null,8,["always","min-size"]))],2))}});var Scrollbar=_export_sfc$1(_sfc_main$2p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),_sfc_main$2o=defineComponent({name:"ElPopper",inheritAttrs:!1,__name:"popper",props:popperProps,setup(t,{expose:e}){const n=t,r=ref(),g=ref(),$=ref(),y=ref(),k=computed(()=>n.role),L={triggerRef:r,popperInstanceRef:g,contentRef:$,referenceRef:y,role:k};return e(L),provide(POPPER_INJECTION_KEY,L),(V,z)=>renderSlot(V.$slots,"default")}});var Popper=_export_sfc$1(_sfc_main$2o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const _sfc_main$2n=defineComponent({name:"ElPopperArrow",inheritAttrs:!1,__name:"arrow",setup(t,{expose:e}){const n=useNamespace("popper"),{arrowRef:r,arrowStyle:g}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return onBeforeUnmount(()=>{r.value=void 0}),e({arrowRef:r}),($,y)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:r,class:normalizeClass(unref(n).e("arrow")),style:normalizeStyle(unref(g)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc$1(_sfc_main$2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=t=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:n=>{t.value=n}})},useForwardRefDirective=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(t,{slots:e,attrs:n}){var r;const g=inject(FORWARD_REF_INJECTION_KEY),$=useForwardRefDirective((r=g==null?void 0:g.setForwardRef)!=null?r:NOOP);return()=>{var y;const k=(y=e.default)==null?void 0:y.call(e,n);if(!k)return null;const[L,V]=findFirstLegitChild(k);return L?withDirectives(cloneVNode(L,n),[[$]]):null}}});function findFirstLegitChild(t){if(!t)return[null,0];const e=t,n=e.filter(r=>r.type!==Comment).length;for(const r of e){if(isObject$2(r))switch(r.type){case Comment:continue;case Text$1:case"svg":return[wrapTextContent(r),n];case Fragment:return findFirstLegitChild(r.children);default:return[r,n]}return[wrapTextContent(r),n]}return[null,0]}function wrapTextContent(t){const e=useNamespace("only-child");return createVNode("span",{class:e.e("content")},[t])}const _sfc_main$2m=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1,__name:"trigger",props:popperTriggerProps,setup(t,{expose:e}){const n=t,{role:r,triggerRef:g}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(g);const $=computed(()=>k.value?n.id:void 0),y=computed(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),k=computed(()=>{if(r&&r.value!=="tooltip")return r.value}),L=computed(()=>k.value?`${n.open}`:void 0);let V;const z=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return onMounted(()=>{watch(()=>n.virtualRef,j=>{j&&(g.value=unrefElement(j))},{immediate:!0}),watch(g,(j,ie)=>{V==null||V(),V=void 0,isElement$1(ie)&&z.forEach(Oe=>{const ur=n[Oe];ur&&ie.removeEventListener(Oe.slice(2).toLowerCase(),ur,["onFocus","onBlur"].includes(Oe))}),isElement$1(j)&&(z.forEach(Oe=>{const ur=n[Oe];ur&&j.addEventListener(Oe.slice(2).toLowerCase(),ur,["onFocus","onBlur"].includes(Oe))}),isFocusable(j)&&(V=watch([$,y,k,L],Oe=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((ur,hr)=>{isNil(Oe[hr])?j.removeAttribute(ur):j.setAttribute(ur,Oe[hr])})},{immediate:!0}))),isElement$1(ie)&&isFocusable(ie)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(Oe=>ie.removeAttribute(Oe))},{immediate:!0})}),onBeforeUnmount(()=>{if(V==null||V(),V=void 0,g.value&&isElement$1(g.value)){const j=g.value;z.forEach(ie=>{const Oe=n[ie];Oe&&j.removeEventListener(ie.slice(2).toLowerCase(),Oe,["onFocus","onBlur"].includes(ie))}),g.value=void 0}}),e({triggerRef:g}),(j,ie)=>j.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},j.$attrs,{"aria-controls":$.value,"aria-describedby":y.value,"aria-expanded":L.value,"aria-haspopup":k.value}),{default:withCtx(()=>[renderSlot(j.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc$1(_sfc_main$2m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const g=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||g?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},getVisibleElement=(t,e)=>{for(const n of t)if(!isHidden(n,e))return n},isHidden=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},getEdges=t=>{const e=obtainAllFocusableElements(t),n=getVisibleElement(e,t),r=getVisibleElement(e.reverse(),t);return[n,r]},isSelectable=t=>t instanceof HTMLInputElement&&"select"in t,tryFocus=(t,e)=>{if(t){const n=document.activeElement;focusElement(t,{preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),t!==n&&isSelectable(t)&&e&&t.select()}};function removeFromStack(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const createFocusableStack=()=>{let t=[];return{push:r=>{const g=t[0];g&&r!==g&&g.pause(),t=removeFromStack(t,r),t.unshift(r)},remove:r=>{var g,$;t=removeFromStack(t,r),($=(g=t[0])==null?void 0:g.resume)==null||$.call(g)}}},focusFirstDescendant=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(tryFocus(r,e),document.activeElement!==n)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=t=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:t}),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},composeEventHandlers=(t,e,{checkForDefaultPrevented:n=!0}={})=>g=>{const $=t==null?void 0:t(g);if(n===!1||!$)return e==null?void 0:e(g)},whenMouse=t=>e=>e.pointerType==="mouse"?t(e):void 0,getEventCode=t=>{if(t.code&&t.code!=="Unidentified")return t.code;const e=getEventKey(t);if(e){if(Object.values(EVENT_CODE).includes(e))return e;switch(e){case" ":return EVENT_CODE.space;default:return""}}return""},getEventKey=t=>{let e=t.key&&t.key!=="Unidentified"?t.key:"";if(!e&&t.type==="keyup"&&isAndroid()){const n=t.target;e=n.value.charAt(n.selectionStart-1)}return e};let registeredEscapeHandlers=[];const cachedHandler=t=>{getEventCode(t)===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(n=>n(t))},useEscapeKeydown=t=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(t)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(e=>e!==t),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})},_sfc_main$2l=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=ref();let r,g;const{focusReason:$}=useFocusReason();useEscapeKeydown(ur=>{t.trapped&&!y.paused&&e("release-requested",ur)});const y={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},k=ur=>{if(!t.loop&&!t.trapped||y.paused)return;const{altKey:hr,ctrlKey:Vr,metaKey:dr,currentTarget:ec,shiftKey:tc}=ur,{loop:Xs}=t,ic=getEventCode(ur)===EVENT_CODE.tab&&!hr&&!Vr&&!dr,_c=document.activeElement;if(ic&&_c){const qm=ec,[Xm,Km]=getEdges(qm);if(Xm&&Km){if(!tc&&_c===Km){const nv=createFocusOutPreventedEvent({focusReason:$.value});e("focusout-prevented",nv),nv.defaultPrevented||(ur.preventDefault(),Xs&&tryFocus(Xm,!0))}else if(tc&&[Xm,qm].includes(_c)){const nv=createFocusOutPreventedEvent({focusReason:$.value});e("focusout-prevented",nv),nv.defaultPrevented||(ur.preventDefault(),Xs&&tryFocus(Km,!0))}}else if(_c===qm){const nv=createFocusOutPreventedEvent({focusReason:$.value});e("focusout-prevented",nv),nv.defaultPrevented||ur.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:n,onKeydown:k}),watch(()=>t.focusTrapEl,ur=>{ur&&(n.value=ur)},{immediate:!0}),watch([n],([ur],[hr])=>{ur&&(ur.addEventListener("keydown",k),ur.addEventListener("focusin",z),ur.addEventListener("focusout",j)),hr&&(hr.removeEventListener("keydown",k),hr.removeEventListener("focusin",z),hr.removeEventListener("focusout",j))});const L=ur=>{e(ON_TRAP_FOCUS_EVT,ur)},V=ur=>e(ON_RELEASE_FOCUS_EVT,ur),z=ur=>{const hr=unref(n);if(!hr)return;const Vr=ur.target,dr=ur.relatedTarget,ec=Vr&&hr.contains(Vr);t.trapped||dr&&hr.contains(dr)||(r=dr),ec&&e("focusin",ur),!y.paused&&t.trapped&&(ec?g=Vr:tryFocus(g,!0))},j=ur=>{const hr=unref(n);if(!(y.paused||!hr))if(t.trapped){const Vr=ur.relatedTarget;!isNil(Vr)&&!hr.contains(Vr)&&setTimeout(()=>{if(!y.paused&&t.trapped){const dr=createFocusOutPreventedEvent({focusReason:$.value});e("focusout-prevented",dr),dr.defaultPrevented||tryFocus(g,!0)}},0)}else{const Vr=ur.target;Vr&&hr.contains(Vr)||e("focusout",ur)}};async function ie(){await nextTick();const ur=unref(n);if(ur){focusableStack.push(y);const hr=ur.contains(document.activeElement)?r:document.activeElement;if(r=hr,!ur.contains(hr)){const dr=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);ur.addEventListener(FOCUS_AFTER_TRAPPED,L),ur.dispatchEvent(dr),dr.defaultPrevented||nextTick(()=>{let ec=t.focusStartEl;isString$1(ec)||(tryFocus(ec),document.activeElement!==ec&&(ec="first")),ec==="first"&&focusFirstDescendant(obtainAllFocusableElements(ur),!0),(document.activeElement===hr||ec==="container")&&tryFocus(ur)})}}}function Oe(){const ur=unref(n);if(ur){ur.removeEventListener(FOCUS_AFTER_TRAPPED,L);const hr=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:$.value}});ur.addEventListener(FOCUS_AFTER_RELEASED,V),ur.dispatchEvent(hr),!hr.defaultPrevented&&($.value=="keyboard"||!isFocusCausedByUserEvent()||ur.contains(document.activeElement))&&tryFocus(r??document.body),ur.removeEventListener(FOCUS_AFTER_RELEASED,V),focusableStack.remove(y),r=null,g=null}}return onMounted(()=>{t.trapped&&ie(),watch(()=>t.trapped,ur=>{ur?ie():Oe()})}),onBeforeUnmount(()=>{t.trapped&&Oe(),n.value&&(n.value.removeEventListener("keydown",k),n.value.removeEventListener("focusin",z),n.value.removeEventListener("focusout",j),n.value=void 0),r=null,g=null}),{onKeydown:k}}});function _sfc_render$m(t,e,n,r,g,$){return renderSlot(t.$slots,"default",{handleKeydown:t.onKeydown})}var ElFocusTrap=_export_sfc$1(_sfc_main$2l,[["render",_sfc_render$m],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]),E$1="top",R="bottom",W$1="right",P$1="left",me$1="auto",G$1=[E$1,R,W$1,P$1],U$1="start",J="end",Xe$1="clippingParents",je$1="viewport",K="popper",Ye="reference",De$1=G$1.reduce(function(t,e){return t.concat([e+"-"+U$1,e+"-"+J])},[]),Ee=[].concat(G$1,[me$1]).reduce(function(t,e){return t.concat([e,e+"-"+U$1,e+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze$1="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze$1,et,tt,nt,rt];function C(t){return t?(t.nodeName||"").toLowerCase():null}function H(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Q(t){var e=H(t).Element;return t instanceof e||t instanceof Element}function B(t){var e=H(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Pe$1(t){if(typeof ShadowRoot>"u")return!1;var e=H(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Mt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},g=e.attributes[n]||{},$=e.elements[n];!B($)||!C($)||(Object.assign($.style,r),Object.keys(g).forEach(function(y){var k=g[y];k===!1?$.removeAttribute(y):$.setAttribute(y,k===!0?"":k)}))})}function Rt$1(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var g=e.elements[r],$=e.attributes[r]||{},y=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),k=y.reduce(function(L,V){return L[V]="",L},{});!B(g)||!C(g)||(Object.assign(g.style,k),Object.keys($).forEach(function(L){g.removeAttribute(L)}))})}}var Ae$1={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt$1,requires:["computeStyles"]};function q(t){return t.split("-")[0]}var X$1=Math.max,ve=Math.min,Z=Math.round;function ee(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,g=1;if(B(t)&&e){var $=t.offsetHeight,y=t.offsetWidth;y>0&&(r=Z(n.width)/y||1),$>0&&(g=Z(n.height)/$||1)}return{width:n.width/r,height:n.height/g,top:n.top/g,right:n.right/r,bottom:n.bottom/g,left:n.left/r,x:n.left/r,y:n.top/g}}function ke(t){var e=ee(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function it(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Pe$1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function N$1(t){return H(t).getComputedStyle(t)}function Wt$1(t){return["table","td","th"].indexOf(C(t))>=0}function I$1(t){return((Q(t)?t.ownerDocument:t.document)||window.document).documentElement}function ge(t){return C(t)==="html"?t:t.assignedSlot||t.parentNode||(Pe$1(t)?t.host:null)||I$1(t)}function at(t){return!B(t)||N$1(t).position==="fixed"?null:t.offsetParent}function Bt$1(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&B(t)){var r=N$1(t);if(r.position==="fixed")return null}var g=ge(t);for(Pe$1(g)&&(g=g.host);B(g)&&["html","body"].indexOf(C(g))<0;){var $=N$1(g);if($.transform!=="none"||$.perspective!=="none"||$.contain==="paint"||["transform","perspective"].indexOf($.willChange)!==-1||e&&$.willChange==="filter"||e&&$.filter&&$.filter!=="none")return g;g=g.parentNode}return null}function se(t){for(var e=H(t),n=at(t);n&&Wt$1(n)&&N$1(n).position==="static";)n=at(n);return n&&(C(n)==="html"||C(n)==="body"&&N$1(n).position==="static")?e:n||Bt$1(t)||e}function Le(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fe$1(t,e,n){return X$1(t,ve(e,n))}function St(t,e,n){var r=fe$1(t,e,n);return r>n?n:r}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(t){return Object.assign({},st(),t)}function ct(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Tt$1=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,ft(typeof t!="number"?t:ct(t,G$1))};function Ht$1(t){var e,n=t.state,r=t.name,g=t.options,$=n.elements.arrow,y=n.modifiersData.popperOffsets,k=q(n.placement),L=Le(k),V=[P$1,W$1].indexOf(k)>=0,z=V?"height":"width";if(!(!$||!y)){var j=Tt$1(g.padding,n),ie=ke($),Oe=L==="y"?E$1:P$1,ur=L==="y"?R:W$1,hr=n.rects.reference[z]+n.rects.reference[L]-y[L]-n.rects.popper[z],Vr=y[L]-n.rects.reference[L],dr=se($),ec=dr?L==="y"?dr.clientHeight||0:dr.clientWidth||0:0,tc=hr/2-Vr/2,Xs=j[Oe],rc=ec-ie[z]-j[ur],ic=ec/2-ie[z]/2+tc,_c=fe$1(Xs,ic,rc),qm=L;n.modifiersData[r]=(e={},e[qm]=_c,e.centerOffset=_c-ic,e)}}function Ct(t){var e=t.state,n=t.options,r=n.element,g=r===void 0?"[data-popper-arrow]":r;g!=null&&(typeof g=="string"&&(g=e.elements.popper.querySelector(g),!g)||!it(e.elements.popper,g)||(e.elements.arrow=g))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht$1,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te$1(t){return t.split("-")[1]}var qt$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt$1(t){var e=t.x,n=t.y,r=window,g=r.devicePixelRatio||1;return{x:Z(e*g)/g||0,y:Z(n*g)/g||0}}function ut(t){var e,n=t.popper,r=t.popperRect,g=t.placement,$=t.variation,y=t.offsets,k=t.position,L=t.gpuAcceleration,V=t.adaptive,z=t.roundOffsets,j=t.isFixed,ie=y.x,Oe=ie===void 0?0:ie,ur=y.y,hr=ur===void 0?0:ur,Vr=typeof z=="function"?z({x:Oe,y:hr}):{x:Oe,y:hr};Oe=Vr.x,hr=Vr.y;var dr=y.hasOwnProperty("x"),ec=y.hasOwnProperty("y"),tc=P$1,Xs=E$1,rc=window;if(V){var ic=se(n),_c="clientHeight",qm="clientWidth";if(ic===H(n)&&(ic=I$1(n),N$1(ic).position!=="static"&&k==="absolute"&&(_c="scrollHeight",qm="scrollWidth")),ic=ic,g===E$1||(g===P$1||g===W$1)&&$===J){Xs=R;var Xm=j&&ic===rc&&rc.visualViewport?rc.visualViewport.height:ic[_c];hr-=Xm-r.height,hr*=L?1:-1}if(g===P$1||(g===E$1||g===R)&&$===J){tc=W$1;var Km=j&&ic===rc&&rc.visualViewport?rc.visualViewport.width:ic[qm];Oe-=Km-r.width,Oe*=L?1:-1}}var tv=Object.assign({position:k},V&&qt$1),nv=z===!0?Vt$1({x:Oe,y:hr}):{x:Oe,y:hr};if(Oe=nv.x,hr=nv.y,L){var sv;return Object.assign({},tv,(sv={},sv[Xs]=ec?"0":"",sv[tc]=dr?"0":"",sv.transform=(rc.devicePixelRatio||1)<=1?"translate("+Oe+"px, "+hr+"px)":"translate3d("+Oe+"px, "+hr+"px, 0)",sv))}return Object.assign({},tv,(e={},e[Xs]=ec?hr+"px":"",e[tc]=dr?Oe+"px":"",e.transform="",e))}function Nt$1(t){var e=t.state,n=t.options,r=n.gpuAcceleration,g=r===void 0?!0:r,$=n.adaptive,y=$===void 0?!0:$,k=n.roundOffsets,L=k===void 0?!0:k,V={placement:q(e.placement),variation:te$1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:g,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ut(Object.assign({},V,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:y,roundOffsets:L})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ut(Object.assign({},V,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:L})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt$1,data:{}},ye={passive:!0};function It$1(t){var e=t.state,n=t.instance,r=t.options,g=r.scroll,$=g===void 0?!0:g,y=r.resize,k=y===void 0?!0:y,L=H(e.elements.popper),V=[].concat(e.scrollParents.reference,e.scrollParents.popper);return $&&V.forEach(function(z){z.addEventListener("scroll",n.update,ye)}),k&&L.addEventListener("resize",n.update,ye),function(){$&&V.forEach(function(z){z.removeEventListener("scroll",n.update,ye)}),k&&L.removeEventListener("resize",n.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It$1,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be$1(t){return t.replace(/left|right|bottom|top/g,function(e){return _t[e]})}var zt$1={start:"end",end:"start"};function lt(t){return t.replace(/start|end/g,function(e){return zt$1[e]})}function We$1(t){var e=H(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Be$1(t){return ee(I$1(t)).left+We$1(t).scrollLeft}function Ft$1(t){var e=H(t),n=I$1(t),r=e.visualViewport,g=n.clientWidth,$=n.clientHeight,y=0,k=0;return r&&(g=r.width,$=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(y=r.offsetLeft,k=r.offsetTop)),{width:g,height:$,x:y+Be$1(t),y:k}}function Ut$1(t){var e,n=I$1(t),r=We$1(t),g=(e=t.ownerDocument)==null?void 0:e.body,$=X$1(n.scrollWidth,n.clientWidth,g?g.scrollWidth:0,g?g.clientWidth:0),y=X$1(n.scrollHeight,n.clientHeight,g?g.scrollHeight:0,g?g.clientHeight:0),k=-r.scrollLeft+Be$1(t),L=-r.scrollTop;return N$1(g||n).direction==="rtl"&&(k+=X$1(n.clientWidth,g?g.clientWidth:0)-$),{width:$,height:y,x:k,y:L}}function Se(t){var e=N$1(t),n=e.overflow,r=e.overflowX,g=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+g+r)}function dt(t){return["html","body","#document"].indexOf(C(t))>=0?t.ownerDocument.body:B(t)&&Se(t)?t:dt(ge(t))}function ce(t,e){var n;e===void 0&&(e=[]);var r=dt(t),g=r===((n=t.ownerDocument)==null?void 0:n.body),$=H(r),y=g?[$].concat($.visualViewport||[],Se(r)?r:[]):r,k=e.concat(y);return g?k:k.concat(ce(ge(y)))}function Te$1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Xt$1(t){var e=ee(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function ht(t,e){return e===je$1?Te$1(Ft$1(t)):Q(e)?Xt$1(e):Te$1(Ut$1(I$1(t)))}function Yt$1(t){var e=ce(ge(t)),n=["absolute","fixed"].indexOf(N$1(t).position)>=0,r=n&&B(t)?se(t):t;return Q(r)?e.filter(function(g){return Q(g)&&it(g,r)&&C(g)!=="body"}):[]}function Gt$1(t,e,n){var r=e==="clippingParents"?Yt$1(t):[].concat(e),g=[].concat(r,[n]),$=g[0],y=g.reduce(function(k,L){var V=ht(t,L);return k.top=X$1(V.top,k.top),k.right=ve(V.right,k.right),k.bottom=ve(V.bottom,k.bottom),k.left=X$1(V.left,k.left),k},ht(t,$));return y.width=y.right-y.left,y.height=y.bottom-y.top,y.x=y.left,y.y=y.top,y}function mt(t){var e=t.reference,n=t.element,r=t.placement,g=r?q(r):null,$=r?te$1(r):null,y=e.x+e.width/2-n.width/2,k=e.y+e.height/2-n.height/2,L;switch(g){case E$1:L={x:y,y:e.y-n.height};break;case R:L={x:y,y:e.y+e.height};break;case W$1:L={x:e.x+e.width,y:k};break;case P$1:L={x:e.x-n.width,y:k};break;default:L={x:e.x,y:e.y}}var V=g?Le(g):null;if(V!=null){var z=V==="y"?"height":"width";switch($){case U$1:L[V]=L[V]-(e[z]/2-n[z]/2);break;case J:L[V]=L[V]+(e[z]/2-n[z]/2);break}}return L}function ne(t,e){e===void 0&&(e={});var n=e,r=n.placement,g=r===void 0?t.placement:r,$=n.boundary,y=$===void 0?Xe$1:$,k=n.rootBoundary,L=k===void 0?je$1:k,V=n.elementContext,z=V===void 0?K:V,j=n.altBoundary,ie=j===void 0?!1:j,Oe=n.padding,ur=Oe===void 0?0:Oe,hr=ft(typeof ur!="number"?ur:ct(ur,G$1)),Vr=z===K?Ye:K,dr=t.rects.popper,ec=t.elements[ie?Vr:z],tc=Gt$1(Q(ec)?ec:ec.contextElement||I$1(t.elements.popper),y,L),Xs=ee(t.elements.reference),rc=mt({reference:Xs,element:dr,placement:g}),ic=Te$1(Object.assign({},dr,rc)),_c=z===K?ic:Xs,qm={top:tc.top-_c.top+hr.top,bottom:_c.bottom-tc.bottom+hr.bottom,left:tc.left-_c.left+hr.left,right:_c.right-tc.right+hr.right},Xm=t.modifiersData.offset;if(z===K&&Xm){var Km=Xm[g];Object.keys(qm).forEach(function(tv){var nv=[W$1,R].indexOf(tv)>=0?1:-1,sv=[E$1,R].indexOf(tv)>=0?"y":"x";qm[tv]+=Km[sv]*nv})}return qm}function Jt$1(t,e){e===void 0&&(e={});var n=e,r=n.placement,g=n.boundary,$=n.rootBoundary,y=n.padding,k=n.flipVariations,L=n.allowedAutoPlacements,V=L===void 0?Ee:L,z=te$1(r),j=z?k?De$1:De$1.filter(function(ur){return te$1(ur)===z}):G$1,ie=j.filter(function(ur){return V.indexOf(ur)>=0});ie.length===0&&(ie=j);var Oe=ie.reduce(function(ur,hr){return ur[hr]=ne(t,{placement:hr,boundary:g,rootBoundary:$,padding:y})[q(hr)],ur},{});return Object.keys(Oe).sort(function(ur,hr){return Oe[ur]-Oe[hr]})}function Kt$1(t){if(q(t)===me$1)return[];var e=be$1(t);return[lt(t),e,lt(e)]}function Qt$1(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var g=n.mainAxis,$=g===void 0?!0:g,y=n.altAxis,k=y===void 0?!0:y,L=n.fallbackPlacements,V=n.padding,z=n.boundary,j=n.rootBoundary,ie=n.altBoundary,Oe=n.flipVariations,ur=Oe===void 0?!0:Oe,hr=n.allowedAutoPlacements,Vr=e.options.placement,dr=q(Vr),ec=dr===Vr,tc=L||(ec||!ur?[be$1(Vr)]:Kt$1(Vr)),Xs=[Vr].concat(tc).reduce(function(yv,$v){return yv.concat(q($v)===me$1?Jt$1(e,{placement:$v,boundary:z,rootBoundary:j,padding:V,flipVariations:ur,allowedAutoPlacements:hr}):$v)},[]),rc=e.rects.reference,ic=e.rects.popper,_c=new Map,qm=!0,Xm=Xs[0],Km=0;Km<Xs.length;Km++){var tv=Xs[Km],nv=q(tv),sv=te$1(tv)===U$1,gv=[E$1,R].indexOf(nv)>=0,Sv=gv?"width":"height",wv=ne(e,{placement:tv,boundary:z,rootBoundary:j,altBoundary:ie,padding:V}),rv=gv?sv?W$1:P$1:sv?R:E$1;rc[Sv]>ic[Sv]&&(rv=be$1(rv));var Jm=be$1(rv),dv=[];if($&&dv.push(wv[nv]<=0),k&&dv.push(wv[rv]<=0,wv[Jm]<=0),dv.every(function(yv){return yv})){Xm=tv,qm=!1;break}_c.set(tv,dv)}if(qm)for(var pv=ur?3:1,mv=function(yv){var $v=Xs.find(function(Dv){var Hv=_c.get(Dv);if(Hv)return Hv.slice(0,yv).every(function(Gv){return Gv})});if($v)return Xm=$v,"break"},Cv=pv;Cv>0;Cv--){var uv=mv(Cv);if(uv==="break")break}e.placement!==Xm&&(e.modifiersData[r]._skip=!0,e.placement=Xm,e.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt$1,requiresIfExists:["offset"],data:{_skip:!1}};function gt(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function yt(t){return[E$1,W$1,R,P$1].some(function(e){return t[e]>=0})}function Zt$1(t){var e=t.state,n=t.name,r=e.rects.reference,g=e.rects.popper,$=e.modifiersData.preventOverflow,y=ne(e,{elementContext:"reference"}),k=ne(e,{altBoundary:!0}),L=gt(y,r),V=gt(k,g,$),z=yt(L),j=yt(V);e.modifiersData[n]={referenceClippingOffsets:L,popperEscapeOffsets:V,isReferenceHidden:z,hasPopperEscaped:j},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":z,"data-popper-escaped":j})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt$1};function en$1(t,e,n){var r=q(t),g=[P$1,E$1].indexOf(r)>=0?-1:1,$=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,y=$[0],k=$[1];return y=y||0,k=(k||0)*g,[P$1,W$1].indexOf(r)>=0?{x:k,y}:{x:y,y:k}}function tn$1(t){var e=t.state,n=t.options,r=t.name,g=n.offset,$=g===void 0?[0,0]:g,y=Ee.reduce(function(z,j){return z[j]=en$1(j,e.rects,$),z},{}),k=y[e.placement],L=k.x,V=k.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=L,e.modifiersData.popperOffsets.y+=V),e.modifiersData[r]=y}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn$1};function nn$1(t){var e=t.state,n=t.name;e.modifiersData[n]=mt({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn$1,data:{}};function rn$1(t){return t==="x"?"y":"x"}function on$1(t){var e=t.state,n=t.options,r=t.name,g=n.mainAxis,$=g===void 0?!0:g,y=n.altAxis,k=y===void 0?!1:y,L=n.boundary,V=n.rootBoundary,z=n.altBoundary,j=n.padding,ie=n.tether,Oe=ie===void 0?!0:ie,ur=n.tetherOffset,hr=ur===void 0?0:ur,Vr=ne(e,{boundary:L,rootBoundary:V,padding:j,altBoundary:z}),dr=q(e.placement),ec=te$1(e.placement),tc=!ec,Xs=Le(dr),rc=rn$1(Xs),ic=e.modifiersData.popperOffsets,_c=e.rects.reference,qm=e.rects.popper,Xm=typeof hr=="function"?hr(Object.assign({},e.rects,{placement:e.placement})):hr,Km=typeof Xm=="number"?{mainAxis:Xm,altAxis:Xm}:Object.assign({mainAxis:0,altAxis:0},Xm),tv=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,nv={x:0,y:0};if(ic){if($){var sv,gv=Xs==="y"?E$1:P$1,Sv=Xs==="y"?R:W$1,wv=Xs==="y"?"height":"width",rv=ic[Xs],Jm=rv+Vr[gv],dv=rv-Vr[Sv],pv=Oe?-qm[wv]/2:0,mv=ec===U$1?_c[wv]:qm[wv],Cv=ec===U$1?-qm[wv]:-_c[wv],uv=e.elements.arrow,yv=Oe&&uv?ke(uv):{width:0,height:0},$v=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:st(),Dv=$v[gv],Hv=$v[Sv],Gv=fe$1(0,_c[wv],yv[wv]),f0=tc?_c[wv]/2-pv-Gv-Dv-Km.mainAxis:mv-Gv-Dv-Km.mainAxis,qv=tc?-_c[wv]/2+pv+Gv+Hv+Km.mainAxis:Cv+Gv+Hv+Km.mainAxis,Pv=e.elements.arrow&&se(e.elements.arrow),Tv=Pv?Xs==="y"?Pv.clientTop||0:Pv.clientLeft||0:0,Vv=(sv=tv==null?void 0:tv[Xs])!=null?sv:0,Av=rv+f0-Vv-Tv,y0=rv+qv-Vv,av=fe$1(Oe?ve(Jm,Av):Jm,rv,Oe?X$1(dv,y0):dv);ic[Xs]=av,nv[Xs]=av-rv}if(k){var fv,lv=Xs==="x"?E$1:P$1,kv=Xs==="x"?R:W$1,Iv=ic[rc],vv=rc==="y"?"height":"width",Ev=Iv+Vr[lv],zv=Iv-Vr[kv],Fv=[E$1,P$1].indexOf(dr)!==-1,Yv=(fv=tv==null?void 0:tv[rc])!=null?fv:0,g0=Fv?Ev:Iv-_c[vv]-qm[vv]-Yv+Km.altAxis,Qv=Fv?Iv+_c[vv]+qm[vv]-Yv-Km.altAxis:zv,N0=Oe&&Fv?St(g0,Iv,Qv):fe$1(Oe?g0:Ev,Iv,Oe?Qv:zv);ic[rc]=N0,nv[rc]=N0-Iv}e.modifiersData[r]=nv}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on$1,requiresIfExists:["offset"]};function an$1(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function sn$1(t){return t===H(t)||!B(t)?We$1(t):an$1(t)}function fn$1(t){var e=t.getBoundingClientRect(),n=Z(e.width)/t.offsetWidth||1,r=Z(e.height)/t.offsetHeight||1;return n!==1||r!==1}function cn$1(t,e,n){n===void 0&&(n=!1);var r=B(e),g=B(e)&&fn$1(e),$=I$1(e),y=ee(t,g),k={scrollLeft:0,scrollTop:0},L={x:0,y:0};return(r||!r&&!n)&&((C(e)!=="body"||Se($))&&(k=sn$1(e)),B(e)?(L=ee(e,!0),L.x+=e.clientLeft,L.y+=e.clientTop):$&&(L.x=Be$1($))),{x:y.left+k.scrollLeft-L.x,y:y.top+k.scrollTop-L.y,width:y.width,height:y.height}}function pn$1(t){var e=new Map,n=new Set,r=[];t.forEach(function($){e.set($.name,$)});function g($){n.add($.name);var y=[].concat($.requires||[],$.requiresIfExists||[]);y.forEach(function(k){if(!n.has(k)){var L=e.get(k);L&&g(L)}}),r.push($)}return t.forEach(function($){n.has($.name)||g($)}),r}function un$1(t){var e=pn$1(t);return ot.reduce(function(n,r){return n.concat(e.filter(function(g){return g.phase===r}))},[])}function ln$1(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function dn$1(t){var e=t.reduce(function(n,r){var g=n[r.name];return n[r.name]=g?Object.assign({},g,r,{options:Object.assign({},g.options,r.options),data:Object.assign({},g.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ot$1={placement:"bottom",modifiers:[],strategy:"absolute"};function $t$1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function we$1(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,g=e.defaultOptions,$=g===void 0?Ot$1:g;return function(y,k,L){L===void 0&&(L=$);var V={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot$1,$),modifiersData:{},elements:{reference:y,popper:k},attributes:{},styles:{}},z=[],j=!1,ie={state:V,setOptions:function(hr){var Vr=typeof hr=="function"?hr(V.options):hr;ur(),V.options=Object.assign({},$,V.options,Vr),V.scrollParents={reference:Q(y)?ce(y):y.contextElement?ce(y.contextElement):[],popper:ce(k)};var dr=un$1(dn$1([].concat(r,V.options.modifiers)));return V.orderedModifiers=dr.filter(function(ec){return ec.enabled}),Oe(),ie.update()},forceUpdate:function(){if(!j){var hr=V.elements,Vr=hr.reference,dr=hr.popper;if($t$1(Vr,dr)){V.rects={reference:cn$1(Vr,se(dr),V.options.strategy==="fixed"),popper:ke(dr)},V.reset=!1,V.placement=V.options.placement,V.orderedModifiers.forEach(function(qm){return V.modifiersData[qm.name]=Object.assign({},qm.data)});for(var ec=0;ec<V.orderedModifiers.length;ec++){if(V.reset===!0){V.reset=!1,ec=-1;continue}var tc=V.orderedModifiers[ec],Xs=tc.fn,rc=tc.options,ic=rc===void 0?{}:rc,_c=tc.name;typeof Xs=="function"&&(V=Xs({state:V,options:ic,name:_c,instance:ie})||V)}}}},update:ln$1(function(){return new Promise(function(hr){ie.forceUpdate(),hr(V)})}),destroy:function(){ur(),j=!0}};if(!$t$1(y,k))return ie;ie.setOptions(L).then(function(hr){!j&&L.onFirstUpdate&&L.onFirstUpdate(hr)});function Oe(){V.orderedModifiers.forEach(function(hr){var Vr=hr.name,dr=hr.options,ec=dr===void 0?{}:dr,tc=hr.effect;if(typeof tc=="function"){var Xs=tc({state:V,name:Vr,instance:ie,options:ec}),rc=function(){};z.push(Xs||rc)}})}function ur(){z.forEach(function(hr){return hr()}),z=[]}return ie}}we$1();var mn$1=[Re,He,Me,Ae$1];we$1({defaultModifiers:mn$1});var gn$1=[Re,He,Me,Ae$1,wt,vt,xt,pt,bt],yn$1=we$1({defaultModifiers:gn$1});const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,...popperArrowProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:definePropType(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...useAriaProps(["ariaLabel"]),loop:Boolean}),popperContentEmits={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},usePopperContentFocusTrap=(t,e)=>{const n=ref(!1),r=ref(),g=()=>{e("focus")},$=V=>{var z;((z=V.detail)==null?void 0:z.focusReason)!=="pointer"&&(r.value="first",e("blur"))},y=V=>{t.visible&&!n.value&&(V.target&&(r.value=V.target),n.value=!0)},k=V=>{t.trapping||(V.detail.focusReason==="pointer"&&V.preventDefault(),n.value=!1)},L=()=>{n.value=!1,e("close")};return onBeforeUnmount(()=>{r.value=void 0}),{focusStartRef:r,trapped:n,onFocusAfterReleased:$,onFocusAfterTrapped:g,onFocusInTrap:y,onFocusoutPrevented:k,onReleaseRequested:L}},buildPopperOptions=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:g}=t,$={placement:n,strategy:r,...g,modifiers:[...genModifiers(t),...e]};return deriveExtraModifiers($,g==null?void 0:g.modifiers),$},unwrapMeasurableEl=t=>{if(isClient)return unrefElement(t)};function genModifiers(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function deriveExtraModifiers(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const usePopper=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:L})=>{const V=deriveState(L);Object.assign(y.value,V)},requires:["computeStyles"]},g=computed(()=>{const{onFirstUpdate:L,placement:V,strategy:z,modifiers:j}=unref(n);return{onFirstUpdate:L,placement:V||"bottom",strategy:z||"absolute",modifiers:[...j||[],r,{name:"applyStyles",enabled:!1}]}}),$=shallowRef(),y=ref({styles:{popper:{position:unref(g).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),k=()=>{$.value&&($.value.destroy(),$.value=void 0)};return watch(g,L=>{const V=unref($);V&&V.setOptions(L)},{deep:!0}),watch([t,e],([L,V])=>{k(),!(!L||!V)&&($.value=yn$1(L,V,unref(g)))}),onBeforeUnmount(()=>{k()}),{state:computed(()=>{var L;return{...((L=unref($))==null?void 0:L.state)||{}}}),styles:computed(()=>unref(y).styles),attributes:computed(()=>unref(y).attributes),update:()=>{var L;return(L=unref($))==null?void 0:L.update()},forceUpdate:()=>{var L;return(L=unref($))==null?void 0:L.forceUpdate()},instanceRef:computed(()=>unref($))}};function deriveState(t){const e=Object.keys(t.elements),n=fromPairs(e.map(g=>[g,t.styles[g]||{}])),r=fromPairs(e.map(g=>[g,t.attributes[g]]));return{styles:n,attributes:r}}const DEFAULT_ARROW_OFFSET=0,usePopperContent=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:g}=inject(POPPER_INJECTION_KEY,void 0),$=ref(),y=computed(()=>t.arrowOffset),k=computed(()=>({name:"eventListeners",enabled:!!t.visible})),L=computed(()=>{var dr;const ec=unref($),tc=(dr=unref(y))!=null?dr:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$1(ec),options:{element:ec,padding:tc}}}),V=computed(()=>({onFirstUpdate:()=>{ur()},...buildPopperOptions(t,[unref(L),unref(k)])})),z=computed(()=>unwrapMeasurableEl(t.referenceEl)||unref(r)),{attributes:j,state:ie,styles:Oe,update:ur,forceUpdate:hr,instanceRef:Vr}=usePopper(z,n,V);return watch(Vr,dr=>e.value=dr,{flush:"sync"}),onMounted(()=>{watch(()=>{var dr,ec;return(ec=(dr=unref(z))==null?void 0:dr.getBoundingClientRect)==null?void 0:ec.call(dr)},()=>{ur()})}),onBeforeUnmount(()=>{e.value=void 0}),{attributes:j,arrowRef:$,contentRef:n,instanceRef:Vr,state:ie,styles:Oe,role:g,forceUpdate:hr,update:ur}},usePopperContentDOM=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:g}=useZIndex(),$=useNamespace("popper"),y=computed(()=>unref(e).popper),k=ref(isNumber(t.zIndex)?t.zIndex:g()),L=computed(()=>[$.b(),$.is("pure",t.pure),$.is(t.effect),t.popperClass]),V=computed(()=>[{zIndex:unref(k)},unref(n).popper,t.popperStyle||{}]),z=computed(()=>r.value==="dialog"?"false":void 0),j=computed(()=>unref(n).arrow||{});return{ariaModal:z,arrowStyle:j,contentAttrs:y,contentClass:L,contentStyle:V,contentZIndex:k,updateZIndex:()=>{k.value=isNumber(t.zIndex)?t.zIndex:g()}}},_sfc_main$2k=defineComponent({name:"ElPopperContent",__name:"content",props:popperContentProps,emits:popperContentEmits,setup(t,{expose:e,emit:n}){const r=n,g=t,{focusStartRef:$,trapped:y,onFocusAfterReleased:k,onFocusAfterTrapped:L,onFocusInTrap:V,onFocusoutPrevented:z,onReleaseRequested:j}=usePopperContentFocusTrap(g,r),{attributes:ie,arrowRef:Oe,contentRef:ur,styles:hr,instanceRef:Vr,role:dr,update:ec}=usePopperContent(g),{ariaModal:tc,arrowStyle:Xs,contentAttrs:rc,contentClass:ic,contentStyle:_c,updateZIndex:qm}=usePopperContentDOM(g,{styles:hr,attributes:ie,role:dr}),Xm=inject(formItemContextKey,void 0);provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:Xs,arrowRef:Oe}),Xm&&provide(formItemContextKey,{...Xm,addInputId:NOOP,removeInputId:NOOP});let Km;const tv=(sv=!0)=>{ec(),sv&&qm()},nv=()=>{tv(!1),g.visible&&g.focusOnShow?y.value=!0:g.visible===!1&&(y.value=!1)};return onMounted(()=>{watch(()=>g.triggerTargetEl,(sv,gv)=>{Km==null||Km(),Km=void 0;const Sv=unref(sv||ur.value),wv=unref(gv||ur.value);isElement$1(Sv)&&(Km=watch([dr,()=>g.ariaLabel,tc,()=>g.id],rv=>{["role","aria-label","aria-modal","id"].forEach((Jm,dv)=>{isNil(rv[dv])?Sv.removeAttribute(Jm):Sv.setAttribute(Jm,rv[dv])})},{immediate:!0})),wv!==Sv&&isElement$1(wv)&&["role","aria-label","aria-modal","id"].forEach(rv=>{wv.removeAttribute(rv)})},{immediate:!0}),watch(()=>g.visible,nv,{immediate:!0})}),onBeforeUnmount(()=>{Km==null||Km(),Km=void 0,ur.value=void 0}),e({popperContentRef:ur,popperInstanceRef:Vr,updatePopper:tv,contentStyle:_c}),(sv,gv)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:ur},unref(rc),{style:unref(_c),class:unref(ic),tabindex:"-1",onMouseenter:gv[0]||(gv[0]=Sv=>sv.$emit("mouseenter",Sv)),onMouseleave:gv[1]||(gv[1]=Sv=>sv.$emit("mouseleave",Sv))}),[createVNode(unref(ElFocusTrap),{loop:sv.loop,trapped:unref(y),"trap-on-focus-in":!0,"focus-trap-el":unref(ur),"focus-start-el":unref($),onFocusAfterTrapped:unref(L),onFocusAfterReleased:unref(k),onFocusin:unref(V),onFocusoutPrevented:unref(z),onReleaseRequested:unref(j)},{default:withCtx(()=>[renderSlot(sv.$slots,"default")]),_:3},8,["loop","trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc$1(_sfc_main$2k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip");function useTimeout(){let t;const e=(r,g)=>{n(),t=window.setTimeout(r,g)},n=()=>window.clearTimeout(t);return tryOnScopeDispose(()=>n()),{registerTimeout:e,cancelTimeout:n}}const useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:g})=>{const{registerTimeout:$}=useTimeout(),{registerTimeout:y,cancelTimeout:k}=useTimeout();return{onOpen:(z,j=unref(t))=>{$(()=>{r(z);const ie=unref(n);isNumber(ie)&&ie>0&&y(()=>{g(z)},ie)},j)},onClose:(z,j=unref(e))=>{k(),$(()=>{g(z)},j)}}},useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:teleportProps.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...useAriaProps(["ariaLabel"])}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space]},focusOnTarget:Boolean}),_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],g={[t]:_prop,[n]:_event};return{useModelToggle:({indicator:y,toggleReason:k,shouldHideWhenRouteChanges:L,shouldProceed:V,onShow:z,onHide:j})=>{const ie=getCurrentInstance(),{emit:Oe}=ie,ur=ie.props,hr=computed(()=>isFunction$1(ur[n])),Vr=computed(()=>ur[t]===null),dr=_c=>{y.value!==!0&&(y.value=!0,k&&(k.value=_c),isFunction$1(z)&&z(_c))},ec=_c=>{y.value!==!1&&(y.value=!1,k&&(k.value=_c),isFunction$1(j)&&j(_c))},tc=_c=>{if(ur.disabled===!0||isFunction$1(V)&&!V())return;const qm=hr.value&&isClient;qm&&Oe(e,!0),(Vr.value||!qm)&&dr(_c)},Xs=_c=>{if(ur.disabled===!0||!isClient)return;const qm=hr.value&&isClient;qm&&Oe(e,!1),(Vr.value||!qm)&&ec(_c)},rc=_c=>{isBoolean(_c)&&(ur.disabled&&_c?hr.value&&Oe(e,!1):y.value!==_c&&(_c?dr():ec()))},ic=()=>{y.value?Xs():tc()};return watch(()=>ur[t],rc),L&&ie.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...ie.proxy.$route}),()=>{L.value&&y.value&&Xs()}),onMounted(()=>{rc(ur[t])}),{hide:Xs,show:tc,toggle:ic,hasUpdateHandler:hr}},useModelToggleProps:g,useModelToggleEmits:r}},{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(t,e)=>isArray$1(t)?t.includes(e):t===e,whenTrigger=(t,e,n)=>r=>{isTriggerType(unref(t),e)&&n(r)},_sfc_main$2j=defineComponent({name:"ElTooltipTrigger",__name:"trigger",props:useTooltipTriggerProps,setup(t,{expose:e}){const n=t,r=useNamespace("tooltip"),{controlled:g,id:$,open:y,onOpen:k,onClose:L,onToggle:V}=inject(TOOLTIP_INJECTION_KEY,void 0),z=ref(null),j=()=>{if(unref(g)||n.disabled)return!0},ie=toRef$1(n,"trigger"),Oe=composeEventHandlers(j,whenTrigger(ie,"hover",Xs=>{k(Xs),n.focusOnTarget&&Xs.target&&nextTick(()=>{focusElement(Xs.target,{preventScroll:!0})})})),ur=composeEventHandlers(j,whenTrigger(ie,"hover",L)),hr=composeEventHandlers(j,whenTrigger(ie,"click",Xs=>{Xs.button===0&&V(Xs)})),Vr=composeEventHandlers(j,whenTrigger(ie,"focus",k)),dr=composeEventHandlers(j,whenTrigger(ie,"focus",L)),ec=composeEventHandlers(j,whenTrigger(ie,"contextmenu",Xs=>{Xs.preventDefault(),V(Xs)})),tc=composeEventHandlers(j,Xs=>{const rc=getEventCode(Xs);n.triggerKeys.includes(rc)&&(Xs.preventDefault(),V(Xs))});return e({triggerRef:z}),(Xs,rc)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref($),"virtual-ref":Xs.virtualRef,open:unref(y),"virtual-triggering":Xs.virtualTriggering,class:normalizeClass(unref(r).e("trigger")),onBlur:unref(dr),onClick:unref(hr),onContextmenu:unref(ec),onFocus:unref(Vr),onMouseenter:unref(Oe),onMouseleave:unref(ur),onKeydown:unref(tc)},{default:withCtx(()=>[renderSlot(Xs.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc$1(_sfc_main$2j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const usePopperContainerId=()=>{const t=useGetDerivedNamespace(),e=useIdInjection(),n=computed(()=>`${t.value}-popper-container-${e.prefix}`),r=computed(()=>`#${n.value}`);return{id:n,selector:r}},createContainer=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},usePopperContainer=()=>{const{id:t,selector:e}=usePopperContainerId();return onBeforeMount(()=>{isClient&&(document.body.querySelector(e.value)||createContainer(t.value))}),{id:t,selector:e}},unique=t=>[...new Set(t)],extractFirst=t=>isArray$1(t)?t[0]:t,castArray=t=>!t&&t!==0?[]:isArray$1(t)?t:[t],_sfc_main$2i=defineComponent({name:"ElTooltipContent",inheritAttrs:!1,__name:"content",props:useTooltipContentProps,setup(t,{expose:e}){const n=t,{selector:r}=usePopperContainerId(),g=useNamespace("tooltip"),$=ref(),y=computedEager(()=>{var Jm;return(Jm=$.value)==null?void 0:Jm.popperContentRef});let k;const{controlled:L,id:V,open:z,trigger:j,onClose:ie,onOpen:Oe,onShow:ur,onHide:hr,onBeforeShow:Vr,onBeforeHide:dr}=inject(TOOLTIP_INJECTION_KEY,void 0),ec=computed(()=>n.transition||`${g.namespace.value}-fade-in-linear`),tc=computed(()=>n.persistent);onBeforeUnmount(()=>{k==null||k()});const Xs=computed(()=>unref(tc)?!0:unref(z)),rc=computed(()=>n.disabled?!1:unref(z)),ic=computed(()=>n.appendTo||r.value),_c=computed(()=>{var Jm;return(Jm=n.style)!=null?Jm:{}}),qm=ref(!0),Xm=()=>{hr(),rv()&&focusElement(document.body,{preventScroll:!0}),qm.value=!0},Km=()=>{if(unref(L))return!0},tv=composeEventHandlers(Km,()=>{n.enterable&&isTriggerType(unref(j),"hover")&&Oe()}),nv=composeEventHandlers(Km,()=>{isTriggerType(unref(j),"hover")&&ie()}),sv=()=>{var Jm,dv;(dv=(Jm=$.value)==null?void 0:Jm.updatePopper)==null||dv.call(Jm),Vr==null||Vr()},gv=()=>{dr==null||dr()},Sv=()=>{ur()},wv=()=>{n.virtualTriggering||ie()},rv=Jm=>{var dv;const pv=(dv=$.value)==null?void 0:dv.popperContentRef,mv=(Jm==null?void 0:Jm.relatedTarget)||document.activeElement;return pv==null?void 0:pv.contains(mv)};return watch(()=>unref(z),Jm=>{Jm?(qm.value=!1,k=onClickOutside(y,()=>{if(unref(L))return;castArray(unref(j)).every(pv=>pv!=="hover"&&pv!=="focus")&&ie()},{detectIframe:!0})):k==null||k()},{flush:"post"}),watch(()=>n.content,()=>{var Jm,dv;(dv=(Jm=$.value)==null?void 0:Jm.updatePopper)==null||dv.call(Jm)}),e({contentRef:$,isFocusInsideContent:rv}),(Jm,dv)=>(openBlock(),createBlock(unref(ElTeleport),{disabled:!Jm.teleported,to:ic.value},{default:withCtx(()=>[Xs.value||!qm.value?(openBlock(),createBlock(Transition,{key:0,name:ec.value,appear:!tc.value,onAfterLeave:Xm,onBeforeEnter:sv,onAfterEnter:Sv,onBeforeLeave:gv,persisted:""},{default:withCtx(()=>[withDirectives(createVNode(unref(ElPopperContent),mergeProps({id:unref(V),ref_key:"contentRef",ref:$},Jm.$attrs,{"aria-label":Jm.ariaLabel,"aria-hidden":qm.value,"boundaries-padding":Jm.boundariesPadding,"fallback-placements":Jm.fallbackPlacements,"gpu-acceleration":Jm.gpuAcceleration,offset:Jm.offset,placement:Jm.placement,"popper-options":Jm.popperOptions,"arrow-offset":Jm.arrowOffset,strategy:Jm.strategy,effect:Jm.effect,enterable:Jm.enterable,pure:Jm.pure,"popper-class":Jm.popperClass,"popper-style":[Jm.popperStyle,_c.value],"reference-el":Jm.referenceEl,"trigger-target-el":Jm.triggerTargetEl,visible:rc.value,"z-index":Jm.zIndex,loop:Jm.loop,onMouseenter:unref(tv),onMouseleave:unref(nv),onBlur:wv,onClose:unref(ie)}),{default:withCtx(()=>[renderSlot(Jm.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","arrow-offset","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","loop","onMouseenter","onMouseleave","onClose"]),[[vShow,rc.value]])]),_:3},8,["name","appear"])):createCommentVNode("v-if",!0)]),_:3},8,["disabled","to"]))}});var ElTooltipContent=_export_sfc$1(_sfc_main$2i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$1d=["innerHTML"],_hoisted_2$G={key:1},_sfc_main$2h=defineComponent({name:"ElTooltip",__name:"tooltip",props:useTooltipProps,emits:tooltipEmits,setup(t,{expose:e,emit:n}){const r=t,g=n;usePopperContainer();const $=useNamespace("tooltip"),y=useId(),k=ref(),L=ref(),V=()=>{var Xs;const rc=unref(k);rc&&((Xs=rc.popperInstanceRef)==null||Xs.update())},z=ref(!1),j=ref(),{show:ie,hide:Oe,hasUpdateHandler:ur}=useTooltipModelToggle({indicator:z,toggleReason:j}),{onOpen:hr,onClose:Vr}=useDelayedToggle({showAfter:toRef$1(r,"showAfter"),hideAfter:toRef$1(r,"hideAfter"),autoClose:toRef$1(r,"autoClose"),open:ie,close:Oe}),dr=computed(()=>isBoolean(r.visible)&&!ur.value),ec=computed(()=>[$.b(),r.popperClass]);provide(TOOLTIP_INJECTION_KEY,{controlled:dr,id:y,open:readonly(z),trigger:toRef$1(r,"trigger"),onOpen:hr,onClose:Vr,onToggle:Xs=>{unref(z)?Vr(Xs):hr(Xs)},onShow:()=>{g("show",j.value)},onHide:()=>{g("hide",j.value)},onBeforeShow:()=>{g("before-show",j.value)},onBeforeHide:()=>{g("before-hide",j.value)},updatePopper:V}),watch(()=>r.disabled,Xs=>{Xs&&z.value&&(z.value=!1)});const tc=Xs=>{var rc;return(rc=L.value)==null?void 0:rc.isFocusInsideContent(Xs)};return onDeactivated(()=>z.value&&Oe()),onBeforeUnmount(()=>{j.value=void 0}),e({popperRef:k,contentRef:L,isFocusInsideContent:tc,updatePopper:V,onOpen:hr,onClose:Vr,hide:Oe}),(Xs,rc)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:k,role:Xs.role},{default:withCtx(()=>[createVNode(ElTooltipTrigger,{disabled:Xs.disabled,trigger:Xs.trigger,"trigger-keys":Xs.triggerKeys,"virtual-ref":Xs.virtualRef,"virtual-triggering":Xs.virtualTriggering,"focus-on-target":Xs.focusOnTarget},{default:withCtx(()=>[Xs.$slots.default?renderSlot(Xs.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering","focus-on-target"]),createVNode(ElTooltipContent,{ref_key:"contentRef",ref:L,"aria-label":Xs.ariaLabel,"boundaries-padding":Xs.boundariesPadding,content:Xs.content,disabled:Xs.disabled,effect:Xs.effect,enterable:Xs.enterable,"fallback-placements":Xs.fallbackPlacements,"hide-after":Xs.hideAfter,"gpu-acceleration":Xs.gpuAcceleration,offset:Xs.offset,persistent:Xs.persistent,"popper-class":ec.value,"popper-style":Xs.popperStyle,placement:Xs.placement,"popper-options":Xs.popperOptions,"arrow-offset":Xs.arrowOffset,pure:Xs.pure,"raw-content":Xs.rawContent,"reference-el":Xs.referenceEl,"trigger-target-el":Xs.triggerTargetEl,"show-after":Xs.showAfter,strategy:Xs.strategy,teleported:Xs.teleported,transition:Xs.transition,"virtual-triggering":Xs.virtualTriggering,"z-index":Xs.zIndex,"append-to":Xs.appendTo,loop:Xs.loop},{default:withCtx(()=>[renderSlot(Xs.$slots,"content",{},()=>[Xs.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:Xs.content},null,8,_hoisted_1$1d)):(openBlock(),createElementBlock("span",_hoisted_2$G,toDisplayString$1(Xs.content),1))]),Xs.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0})):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","arrow-offset","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to","loop"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc$1(_sfc_main$2h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),autocompleteProps=buildProps({...inputProps,valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:definePropType(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:definePropType([Function,Array]),default:NOOP},popperClass:useTooltipContentProps.popperClass,popperStyle:useTooltipContentProps.popperStyle,triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:Boolean,hideLoading:Boolean,teleported:useTooltipContentProps.teleported,appendTo:useTooltipContentProps.appendTo,highlightFirstItem:Boolean,fitInputWidth:Boolean,loopNavigation:{type:Boolean,default:!0}}),autocompleteEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t)||isNumber(t),[INPUT_EVENT]:t=>isString$1(t)||isNumber(t),[CHANGE_EVENT]:t=>isString$1(t)||isNumber(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>isObject$2(t)},_hoisted_1$1c=["aria-expanded","aria-owns"],_hoisted_2$F={key:0},_hoisted_3$i=["id","aria-selected","onClick"],COMPONENT_NAME$k="ElAutocomplete",_sfc_main$2g=defineComponent({name:COMPONENT_NAME$k,inheritAttrs:!1,__name:"autocomplete",props:autocompleteProps,emits:autocompleteEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=computed(()=>pick(r,Object.keys(inputProps))),y=useAttrs$1(),k=useFormDisabled(),L=useNamespace("autocomplete"),V=ref(),z=ref(),j=ref(),ie=ref();let Oe=!1,ur=!1;const hr=ref([]),Vr=ref(-1),dr=ref(""),ec=ref(!1),tc=ref(!1),Xs=ref(!1),rc=useId(),ic=computed(()=>y.style),_c=computed(()=>(hr.value.length>0||Xs.value)&&ec.value),qm=computed(()=>!r.hideLoading&&Xs.value),Xm=computed(()=>V.value?Array.from(V.value.$el.querySelectorAll("input")):[]),Km=()=>{_c.value&&(dr.value=`${V.value.$el.offsetWidth}px`)},tv=()=>{Vr.value=-1},nv=async Pv=>{if(tc.value)return;const Tv=Vv=>{Xs.value=!1,!tc.value&&(isArray$1(Vv)?(hr.value=Vv,Vr.value=r.highlightFirstItem?0:-1):throwError(COMPONENT_NAME$k,"autocomplete suggestions must be an array"))};if(Xs.value=!0,isArray$1(r.fetchSuggestions))Tv(r.fetchSuggestions);else{const Vv=await r.fetchSuggestions(Pv,Tv);isArray$1(Vv)&&Tv(Vv)}},sv=computed(()=>r.debounce),gv=useDebounceFn(nv,sv),Sv=Pv=>{const Tv=!!Pv;if(g(INPUT_EVENT,Pv),g(UPDATE_MODEL_EVENT,Pv),tc.value=!1,ec.value||(ec.value=Tv),!r.triggerOnFocus&&!Pv){tc.value=!0,hr.value=[];return}gv(Pv)},wv=Pv=>{var Tv;k.value||(((Tv=Pv.target)==null?void 0:Tv.tagName)!=="INPUT"||Xm.value.includes(document.activeElement))&&(ec.value=!0)},rv=Pv=>{g(CHANGE_EVENT,Pv)},Jm=Pv=>{var Tv;if(ur)ur=!1;else{ec.value=!0,g("focus",Pv);const Vv=(Tv=r.modelValue)!=null?Tv:"";r.triggerOnFocus&&!Oe&&gv(String(Vv))}},dv=Pv=>{setTimeout(()=>{var Tv;if((Tv=j.value)!=null&&Tv.isFocusInsideContent()){ur=!0;return}ec.value&&uv(),g("blur",Pv)})},pv=()=>{ec.value=!1,g(UPDATE_MODEL_EVENT,""),g("clear")},mv=async()=>{var Pv;(Pv=V.value)!=null&&Pv.isComposing||(_c.value&&Vr.value>=0&&Vr.value<hr.value.length?Dv(hr.value[Vr.value]):(r.selectWhenUnmatched&&(g("select",{value:r.modelValue}),hr.value=[],Vr.value=-1),ec.value=!0,gv(String(r.modelValue))))},Cv=Pv=>{_c.value&&(Pv.preventDefault(),Pv.stopPropagation(),uv())},uv=()=>{ec.value=!1},yv=()=>{var Pv;(Pv=V.value)==null||Pv.focus()},$v=()=>{var Pv;(Pv=V.value)==null||Pv.blur()},Dv=async Pv=>{g(INPUT_EVENT,Pv[r.valueKey]),g(UPDATE_MODEL_EVENT,Pv[r.valueKey]),g("select",Pv),hr.value=[],Vr.value=-1},Hv=Pv=>{var Tv,Vv;if(!_c.value||Xs.value)return;if(Pv<0){if(!r.loopNavigation){Vr.value=-1;return}Pv=hr.value.length-1}Pv>=hr.value.length&&(Pv=r.loopNavigation?0:hr.value.length-1);const[Av,y0]=Gv(),av=y0[Pv],fv=Av.scrollTop,{offsetTop:lv,scrollHeight:kv}=av;lv+kv>fv+Av.clientHeight&&(Av.scrollTop=lv+kv-Av.clientHeight),lv<fv&&(Av.scrollTop=lv),Vr.value=Pv,(Vv=(Tv=V.value)==null?void 0:Tv.ref)==null||Vv.setAttribute("aria-activedescendant",`${rc.value}-item-${Vr.value}`)},Gv=()=>{const Pv=z.value.querySelector(`.${L.be("suggestion","wrap")}`),Tv=Pv.querySelectorAll(`.${L.be("suggestion","list")} li`);return[Pv,Tv]},f0=onClickOutside(ie,()=>{var Pv;(Pv=j.value)!=null&&Pv.isFocusInsideContent()||_c.value&&uv()}),qv=Pv=>{switch(getEventCode(Pv)){case EVENT_CODE.up:Pv.preventDefault(),Hv(Vr.value-1);break;case EVENT_CODE.down:Pv.preventDefault(),Hv(Vr.value+1);break;case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:Pv.preventDefault(),mv();break;case EVENT_CODE.tab:uv();break;case EVENT_CODE.esc:Cv(Pv);break;case EVENT_CODE.home:Pv.preventDefault(),Hv(0);break;case EVENT_CODE.end:Pv.preventDefault(),Hv(hr.value.length-1);break;case EVENT_CODE.pageUp:Pv.preventDefault(),Hv(Math.max(0,Vr.value-10));break;case EVENT_CODE.pageDown:Pv.preventDefault(),Hv(Math.min(hr.value.length-1,Vr.value+10));break}};return onBeforeUnmount(()=>{f0==null||f0()}),onMounted(()=>{var Pv;const Tv=(Pv=V.value)==null?void 0:Pv.ref;Tv&&([{key:"role",value:"textbox"},{key:"aria-autocomplete",value:"list"},{key:"aria-controls",value:"id"},{key:"aria-activedescendant",value:`${rc.value}-item-${Vr.value}`}].forEach(({key:Vv,value:Av})=>Tv.setAttribute(Vv,Av)),Oe=Tv.hasAttribute("readonly"))}),e({highlightedIndex:Vr,activated:ec,loading:Xs,inputRef:V,popperRef:j,suggestions:hr,handleSelect:Dv,handleKeyEnter:mv,focus:yv,blur:$v,close:uv,highlight:Hv,getData:nv}),(Pv,Tv)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popperRef",ref:j,visible:_c.value,placement:Pv.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[unref(L).e("popper"),Pv.popperClass],"popper-style":Pv.popperStyle,teleported:Pv.teleported,"append-to":Pv.appendTo,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${unref(L).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:Km,onHide:tv},{content:withCtx(()=>[createBaseVNode("div",{ref_key:"regionRef",ref:z,class:normalizeClass([unref(L).b("suggestion"),unref(L).is("loading",qm.value)]),style:normalizeStyle({[Pv.fitInputWidth?"width":"minWidth"]:dr.value,outline:"none"}),role:"region"},[Pv.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(L).be("suggestion","header")),onClick:Tv[0]||(Tv[0]=withModifiers(()=>{},["stop"]))},[renderSlot(Pv.$slots,"header")],2)):createCommentVNode("v-if",!0),createVNode(unref(ElScrollbar),{id:unref(rc),tag:"ul","wrap-class":unref(L).be("suggestion","wrap"),"view-class":unref(L).be("suggestion","list"),role:"listbox"},{default:withCtx(()=>[qm.value?(openBlock(),createElementBlock("li",_hoisted_2$F,[renderSlot(Pv.$slots,"loading",{},()=>[createVNode(unref(ElIcon),{class:normalizeClass(unref(L).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])])])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(hr.value,(Vv,Av)=>(openBlock(),createElementBlock("li",{id:`${unref(rc)}-item-${Av}`,key:Av,class:normalizeClass({highlighted:Vr.value===Av}),role:"option","aria-selected":Vr.value===Av,onClick:y0=>Dv(Vv)},[renderSlot(Pv.$slots,"default",{item:Vv},()=>[createTextVNode(toDisplayString$1(Vv[Pv.valueKey]),1)])],10,_hoisted_3$i))),128))]),_:3},8,["id","wrap-class","view-class"]),Pv.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(L).be("suggestion","footer")),onClick:Tv[1]||(Tv[1]=withModifiers(()=>{},["stop"]))},[renderSlot(Pv.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"listboxRef",ref:ie,class:normalizeClass([unref(L).b(),Pv.$attrs.class]),style:normalizeStyle(ic.value),role:"combobox","aria-haspopup":"listbox","aria-expanded":_c.value,"aria-owns":unref(rc)},[createVNode(unref(ElInput),mergeProps({ref_key:"inputRef",ref:V},mergeProps($.value,Pv.$attrs),{"model-value":Pv.modelValue,disabled:unref(k),onInput:Sv,onChange:rv,onFocus:Jm,onBlur:dv,onClear:pv,onKeydown:qv,onMousedown:wv}),createSlots({_:2},[Pv.$slots.prepend?{name:"prepend",fn:withCtx(()=>[renderSlot(Pv.$slots,"prepend")]),key:"0"}:void 0,Pv.$slots.append?{name:"append",fn:withCtx(()=>[renderSlot(Pv.$slots,"append")]),key:"1"}:void 0,Pv.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(Pv.$slots,"prefix")]),key:"2"}:void 0,Pv.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(Pv.$slots,"suffix")]),key:"3"}:void 0]),1040,["model-value","disabled"])],14,_hoisted_1$1c)]),_:3},8,["visible","placement","popper-class","popper-style","teleported","append-to","transition"]))}});var Autocomplete=_export_sfc$1(_sfc_main$2g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const ElAutocomplete=withInstall(Autocomplete),avatarProps=buildProps({size:{type:[Number,String],values:componentSizes,default:"",validator:t=>isNumber(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:iconPropType},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:definePropType(String),default:"cover"}}),avatarEmits={error:t=>t instanceof Event},_hoisted_1$1b=["src","alt","srcset"],_sfc_main$2f=defineComponent({name:"ElAvatar",__name:"avatar",props:avatarProps,emits:avatarEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("avatar"),$=ref(!1),y=computed(()=>{const{size:z,icon:j,shape:ie}=n,Oe=[g.b()];return isString$1(z)&&Oe.push(g.m(z)),j&&Oe.push(g.m("icon")),ie&&Oe.push(g.m(ie)),Oe}),k=computed(()=>{const{size:z}=n;return isNumber(z)?g.cssVarBlock({size:addUnit(z)}):void 0}),L=computed(()=>({objectFit:n.fit}));watch(()=>n.src,()=>$.value=!1);function V(z){$.value=!0,r("error",z)}return(z,j)=>(openBlock(),createElementBlock("span",{class:normalizeClass(y.value),style:normalizeStyle(k.value)},[(z.src||z.srcSet)&&!$.value?(openBlock(),createElementBlock("img",{key:0,src:z.src,alt:z.alt,srcset:z.srcSet,style:normalizeStyle(L.value),onError:V},null,44,_hoisted_1$1b)):z.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(z.icon)))]),_:1})):renderSlot(z.$slots,"default",{key:2})],6))}});var Avatar=_export_sfc$1(_sfc_main$2f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const ElAvatar=withInstall(Avatar),backtopProps={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},backtopEmits={click:t=>t instanceof MouseEvent},useBackTop=(t,e,n)=>{const r=shallowRef(),g=shallowRef(),$=ref(!1),y=()=>{r.value&&($.value=r.value.scrollTop>=t.visibilityHeight)},k=V=>{var z;(z=r.value)==null||z.scrollTo({top:0,behavior:"smooth"}),e("click",V)},L=useThrottleFn(y,300,!0);return useEventListener(g,"scroll",L),onMounted(()=>{var V;g.value=document,r.value=document.documentElement,t.target&&(r.value=(V=document.querySelector(t.target))!=null?V:void 0,r.value||throwError(n,`target does not exist: ${t.target}`),g.value=r.value),y()}),{visible:$,handleClick:k}},COMPONENT_NAME$j="ElBacktop",_sfc_main$2e=defineComponent({name:COMPONENT_NAME$j,__name:"backtop",props:backtopProps,emits:backtopEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("backtop"),{handleClick:$,visible:y}=useBackTop(n,r,COMPONENT_NAME$j),k=computed(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(L,V)=>(openBlock(),createBlock(Transition,{name:`${unref(g).namespace.value}-fade-in`},{default:withCtx(()=>[unref(y)?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle(k.value),class:normalizeClass(unref(g).b()),onClick:V[0]||(V[0]=withModifiers((...z)=>unref($)&&unref($)(...z),["stop"]))},[renderSlot(L.$slots,"default",{},()=>[createVNode(unref(ElIcon),{class:normalizeClass(unref(g).e("icon"))},{default:withCtx(()=>[createVNode(unref(caret_top_default))]),_:1},8,["class"])])],6)):createCommentVNode("v-if",!0)]),_:3},8,["name"]))}});var Backtop=_export_sfc$1(_sfc_main$2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const ElBacktop=withInstall(Backtop),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:definePropType([String,Object,Array])},offset:{type:definePropType(Array),default:[0,0]},badgeClass:{type:String}}),_sfc_main$2d=defineComponent({name:"ElBadge",__name:"badge",props:badgeProps,setup(t,{expose:e}){const n=t,r=useNamespace("badge"),g=computed(()=>n.isDot?"":isNumber(n.value)&&isNumber(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),$=computed(()=>{var y;return[{backgroundColor:n.color,marginRight:addUnit(-n.offset[0]),marginTop:addUnit(n.offset[1])},(y=n.badgeStyle)!=null?y:{}]});return e({content:g}),(y,k)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[renderSlot(y.$slots,"default"),createVNode(Transition,{name:`${unref(r).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(r).e("content"),unref(r).em("content",y.type),unref(r).is("fixed",!!y.$slots.default),unref(r).is("dot",y.isDot),unref(r).is("hide-zero",!y.showZero&&y.value===0),y.badgeClass]),style:normalizeStyle($.value)},[renderSlot(y.$slots,"content",{value:g.value},()=>[createTextVNode(toDisplayString$1(g.value),1)])],6),[[vShow,!y.hidden&&(g.value||y.isDot||y.$slots.content)]])]),_:3},8,["name"])],2))}});var Badge=_export_sfc$1(_sfc_main$2d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ElBadge=withInstall(Badge),breadcrumbKey=Symbol("breadcrumbKey"),breadcrumbProps=buildProps({separator:{type:String,default:"/"},separatorIcon:{type:iconPropType}}),_hoisted_1$1a=["aria-label"],_sfc_main$2c=defineComponent({name:"ElBreadcrumb",__name:"breadcrumb",props:breadcrumbProps,setup(t){const{t:e}=useLocale(),n=t,r=useNamespace("breadcrumb"),g=ref();return provide(breadcrumbKey,n),onMounted(()=>{const $=g.value.querySelectorAll(`.${r.e("item")}`);$.length&&$[$.length-1].setAttribute("aria-current","page")}),($,y)=>(openBlock(),createElementBlock("div",{ref_key:"breadcrumb",ref:g,class:normalizeClass(unref(r).b()),"aria-label":unref(e)("el.breadcrumb.label"),role:"navigation"},[renderSlot($.$slots,"default")],10,_hoisted_1$1a))}});var Breadcrumb=_export_sfc$1(_sfc_main$2c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const breadcrumbItemProps=buildProps({to:{type:definePropType([String,Object]),default:""},replace:Boolean}),_sfc_main$2b=defineComponent({name:"ElBreadcrumbItem",__name:"breadcrumb-item",props:breadcrumbItemProps,setup(t){const e=t,n=getCurrentInstance(),r=inject(breadcrumbKey,void 0),g=useNamespace("breadcrumb"),$=n.appContext.config.globalProperties.$router,y=()=>{!e.to||!$||(e.replace?$.replace(e.to):$.push(e.to))};return(k,L)=>{var V,z;return openBlock(),createElementBlock("span",{class:normalizeClass(unref(g).e("item"))},[createBaseVNode("span",{class:normalizeClass([unref(g).e("inner"),unref(g).is("link",!!k.to)]),role:"link",onClick:y},[renderSlot(k.$slots,"default")],2),(V=unref(r))!=null&&V.separatorIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(g).e("separator"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(r).separatorIcon)))]),_:1},8,["class"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(g).e("separator")),role:"presentation"},toDisplayString$1((z=unref(r))==null?void 0:z.separator),3))],2)}}});var BreadcrumbItem=_export_sfc$1(_sfc_main$2b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const ElBreadcrumb=withInstall(Breadcrumb,{BreadcrumbItem}),ElBreadcrumbItem=withNoopInstall(BreadcrumbItem),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useDeprecated=({from:t,replacement:e,scope:n,version:r,ref:g,type:$="API"},y)=>{watch(()=>unref(y),k=>{},{immediate:!0})},useButton=(t,e)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>t.type==="text"));const n=inject(buttonGroupContextKey,void 0),r=useGlobalConfig("button"),{form:g}=useFormItem(),$=useFormSize(computed(()=>n==null?void 0:n.size)),y=useFormDisabled(),k=ref(),L=useSlots(),V=computed(()=>{var dr;return t.type||(n==null?void 0:n.type)||((dr=r.value)==null?void 0:dr.type)||""}),z=computed(()=>{var dr,ec,tc;return(tc=(ec=t.autoInsertSpace)!=null?ec:(dr=r.value)==null?void 0:dr.autoInsertSpace)!=null?tc:!1}),j=computed(()=>{var dr,ec,tc;return(tc=(ec=t.plain)!=null?ec:(dr=r.value)==null?void 0:dr.plain)!=null?tc:!1}),ie=computed(()=>{var dr,ec,tc;return(tc=(ec=t.round)!=null?ec:(dr=r.value)==null?void 0:dr.round)!=null?tc:!1}),Oe=computed(()=>{var dr,ec,tc;return(tc=(ec=t.text)!=null?ec:(dr=r.value)==null?void 0:dr.text)!=null?tc:!1}),ur=computed(()=>t.tag==="button"?{ariaDisabled:y.value||t.loading,disabled:y.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),hr=computed(()=>{var dr;const ec=(dr=L.default)==null?void 0:dr.call(L);if(z.value&&(ec==null?void 0:ec.length)===1){const tc=ec[0];if((tc==null?void 0:tc.type)===Text$1){const Xs=tc.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(Xs.trim())}}return!1});return{_disabled:y,_size:$,_type:V,_ref:k,_props:ur,_plain:j,_round:ie,_text:Oe,shouldAddSpace:hr,handleClick:dr=>{if(y.value||t.loading){dr.stopPropagation();return}t.nativeType==="reset"&&(g==null||g.resetFields()),e("click",dr)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:{type:Boolean,default:void 0},type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:t=>t instanceof MouseEvent};function bound01(t,e){isOnePointZero(t)&&(t="100%");var n=isPercentage(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function clamp01(t){return Math.min(1,Math.max(0,t))}function isOnePointZero(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function isPercentage(t){return typeof t=="string"&&t.indexOf("%")!==-1}function boundAlpha(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function convertToPercentage(t){return t<=1?"".concat(Number(t)*100,"%"):t}function pad2(t){return t.length===1?"0"+t:String(t)}function rgbToRgb(t,e,n){return{r:bound01(t,255)*255,g:bound01(e,255)*255,b:bound01(n,255)*255}}function rgbToHsl(t,e,n){t=bound01(t,255),e=bound01(e,255),n=bound01(n,255);var r=Math.max(t,e,n),g=Math.min(t,e,n),$=0,y=0,k=(r+g)/2;if(r===g)y=0,$=0;else{var L=r-g;switch(y=k>.5?L/(2-r-g):L/(r+g),r){case t:$=(e-n)/L+(e<n?6:0);break;case e:$=(n-t)/L+2;break;case n:$=(t-e)/L+4;break}$/=6}return{h:$,s:y,l:k}}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t,e,n){var r,g,$;if(t=bound01(t,360),e=bound01(e,100),n=bound01(n,100),e===0)g=n,$=n,r=n;else{var y=n<.5?n*(1+e):n+e-n*e,k=2*n-y;r=hue2rgb(k,y,t+1/3),g=hue2rgb(k,y,t),$=hue2rgb(k,y,t-1/3)}return{r:r*255,g:g*255,b:$*255}}function rgbToHsv(t,e,n){t=bound01(t,255),e=bound01(e,255),n=bound01(n,255);var r=Math.max(t,e,n),g=Math.min(t,e,n),$=0,y=r,k=r-g,L=r===0?0:k/r;if(r===g)$=0;else{switch(r){case t:$=(e-n)/k+(e<n?6:0);break;case e:$=(n-t)/k+2;break;case n:$=(t-e)/k+4;break}$/=6}return{h:$,s:L,v:y}}function hsvToRgb(t,e,n){t=bound01(t,360)*6,e=bound01(e,100),n=bound01(n,100);var r=Math.floor(t),g=t-r,$=n*(1-e),y=n*(1-g*e),k=n*(1-(1-g)*e),L=r%6,V=[n,y,$,$,k,n][L],z=[k,n,n,y,$,$][L],j=[$,$,k,n,n,y][L];return{r:V*255,g:z*255,b:j*255}}function rgbToHex(t,e,n,r){var g=[pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(n).toString(16))];return r&&g[0].startsWith(g[0].charAt(1))&&g[1].startsWith(g[1].charAt(1))&&g[2].startsWith(g[2].charAt(1))?g[0].charAt(0)+g[1].charAt(0)+g[2].charAt(0):g.join("")}function rgbaToHex(t,e,n,r,g){var $=[pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(n).toString(16)),pad2(convertDecimalToHex(r))];return g&&$[0].startsWith($[0].charAt(1))&&$[1].startsWith($[1].charAt(1))&&$[2].startsWith($[2].charAt(1))&&$[3].startsWith($[3].charAt(1))?$[0].charAt(0)+$[1].charAt(0)+$[2].charAt(0)+$[3].charAt(0):$.join("")}function convertDecimalToHex(t){return Math.round(parseFloat(t)*255).toString(16)}function convertHexToDecimal(t){return parseIntFromHex(t)/255}function parseIntFromHex(t){return parseInt(t,16)}function numberInputToObject(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(t){var e={r:0,g:0,b:0},n=1,r=null,g=null,$=null,y=!1,k=!1;return typeof t=="string"&&(t=stringInputToObject(t)),typeof t=="object"&&(isValidCSSUnit(t.r)&&isValidCSSUnit(t.g)&&isValidCSSUnit(t.b)?(e=rgbToRgb(t.r,t.g,t.b),y=!0,k=String(t.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.v)?(r=convertToPercentage(t.s),g=convertToPercentage(t.v),e=hsvToRgb(t.h,r,g),y=!0,k="hsv"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.l)&&(r=convertToPercentage(t.s),$=convertToPercentage(t.l),e=hslToRgb(t.h,r,$),y=!0,k="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=boundAlpha(n),{ok:y,format:t.format||k,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(names[t])t=names[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=matchers.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=matchers.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=matchers.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=matchers.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=matchers.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=matchers.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=matchers.hex8.exec(t),n?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),a:convertHexToDecimal(n[4]),format:e?"name":"hex8"}:(n=matchers.hex6.exec(t),n?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),format:e?"name":"hex"}:(n=matchers.hex4.exec(t),n?{r:parseIntFromHex(n[1]+n[1]),g:parseIntFromHex(n[2]+n[2]),b:parseIntFromHex(n[3]+n[3]),a:convertHexToDecimal(n[4]+n[4]),format:e?"name":"hex8"}:(n=matchers.hex3.exec(t),n?{r:parseIntFromHex(n[1]+n[1]),g:parseIntFromHex(n[2]+n[2]),b:parseIntFromHex(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function isValidCSSUnit(t){return!!matchers.CSS_UNIT.exec(String(t))}var TinyColor=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=numberInputToObject(e)),this.originalInput=e;var g=inputToRGB(e);this.originalInput=e,this.r=g.r,this.g=g.g,this.b=g.b,this.a=g.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:g.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=g.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,g,$=e.r/255,y=e.g/255,k=e.b/255;return $<=.03928?n=$/12.92:n=Math.pow(($+.055)/1.055,2.4),y<=.03928?r=y/12.92:r=Math.pow((y+.055)/1.055,2.4),k<=.03928?g=k/12.92:g=Math.pow((k+.055)/1.055,2.4),.2126*n+.7152*r+.0722*g},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=boundAlpha(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=rgbToHsv(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=rgbToHsv(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),g=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(g,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(g,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=rgbToHsl(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=rgbToHsl(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),g=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(g,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(g,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),rgbToHex(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),rgbaToHex(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(bound01(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(bound01(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+rgbToHex(this.r,this.g,this.b,!1),n=0,r=Object.entries(names);n<r.length;n++){var g=r[n],$=g[0],y=g[1];if(e===y)return $}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,g=this.a<1&&this.a>=0,$=!n&&g&&(e.startsWith("hex")||e==="name");return $?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=clamp01(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=clamp01(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=clamp01(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=clamp01(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),g=new t(e).toRgb(),$=n/100,y={r:(g.r-r.r)*$+r.r,g:(g.g-r.g)*$+r.g,b:(g.b-r.b)*$+r.b,a:(g.a-r.a)*$+r.a};return new t(y)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),g=360/n,$=[this];for(r.h=(r.h-(g*e>>1)+720)%360;--e;)r.h=(r.h+g)%360,$.push(new t(r));return $},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,g=n.s,$=n.v,y=[],k=1/e;e--;)y.push(new t({h:r,s:g,v:$})),$=($+k)%1;return y},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),g=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/g,g:(n.g*n.a+r.g*r.a*(1-n.a))/g,b:(n.b*n.a+r.b*r.a*(1-n.a))/g,a:g})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,g=[this],$=360/e,y=1;y<e;y++)g.push(new t({h:(r+y*$)%360,s:n.s,l:n.l}));return g},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function darken(t,e=20){return t.mix("#141414",e).toString()}function useButtonCustomStyle(t){const e=useFormDisabled(),n=useNamespace("button");return computed(()=>{let r={},g=t.color;if(g){const $=g.match(/var\((.*?)\)/);$&&(g=window.getComputedStyle(window.document.documentElement).getPropertyValue($[1]));const y=new TinyColor(g),k=t.dark?y.tint(20).toString():darken(y,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?darken(y,90):y.tint(90).toString(),"text-color":g,"border-color":t.dark?darken(y,50):y.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":g,"hover-border-color":g,"active-bg-color":k,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":k}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?darken(y,90):y.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?darken(y,50):y.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?darken(y,80):y.tint(80).toString());else{const L=t.dark?darken(y,30):y.tint(30).toString(),V=y.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":g,"text-color":V,"border-color":g,"hover-bg-color":L,"hover-text-color":V,"hover-border-color":L,"active-bg-color":k,"active-border-color":k}),e.value){const z=t.dark?darken(y,50):y.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=z,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=z}}}return r})}const _sfc_main$2a=defineComponent({name:"ElButton",__name:"button",props:buttonProps,emits:buttonEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useButtonCustomStyle(r),y=useNamespace("button"),{_ref:k,_size:L,_type:V,_disabled:z,_props:j,_plain:ie,_round:Oe,_text:ur,shouldAddSpace:hr,handleClick:Vr}=useButton(r,g),dr=computed(()=>[y.b(),y.m(V.value),y.m(L.value),y.is("disabled",z.value),y.is("loading",r.loading),y.is("plain",ie.value),y.is("round",Oe.value),y.is("circle",r.circle),y.is("text",ur.value),y.is("link",r.link),y.is("has-bg",r.bg)]);return e({ref:k,size:L,type:V,disabled:z,shouldAddSpace:hr}),(ec,tc)=>(openBlock(),createBlock(resolveDynamicComponent(ec.tag),mergeProps({ref_key:"_ref",ref:k},unref(j),{class:dr.value,style:unref($),onClick:unref(Vr)}),{default:withCtx(()=>[ec.loading?(openBlock(),createElementBlock(Fragment,{key:0},[ec.$slots.loading?renderSlot(ec.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(y).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ec.loadingIcon)))]),_:1},8,["class"]))],64)):ec.icon||ec.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[ec.icon?(openBlock(),createBlock(resolveDynamicComponent(ec.icon),{key:0})):renderSlot(ec.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),ec.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(y).em("text","expand")]:unref(hr)})},[renderSlot(ec.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc$1(_sfc_main$2a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type,direction:{type:definePropType(String),values:["horizontal","vertical"],default:"horizontal"}},_sfc_main$29=defineComponent({name:"ElButtonGroup",__name:"button-group",props:buttonGroupProps,setup(t){const e=t;provide(buttonGroupContextKey,reactive({size:toRef$1(e,"size"),type:toRef$1(e,"type")}));const n=useNamespace("button");return(r,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b("group"),unref(n).bm("group",e.direction)])},[renderSlot(r.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$29,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup}),ElButtonGroup$1=withNoopInstall(ButtonGroup);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dayjs_min={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){var n=1e3,r=6e4,g=36e5,$="millisecond",y="second",k="minute",L="hour",V="day",z="week",j="month",ie="quarter",Oe="year",ur="date",hr="Invalid Date",Vr=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,dr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ec={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(gv){var Sv=["th","st","nd","rd"],wv=gv%100;return"["+gv+(Sv[(wv-20)%10]||Sv[wv]||Sv[0])+"]"}},tc=function(gv,Sv,wv){var rv=String(gv);return!rv||rv.length>=Sv?gv:""+Array(Sv+1-rv.length).join(wv)+gv},Xs={s:tc,z:function(gv){var Sv=-gv.utcOffset(),wv=Math.abs(Sv),rv=Math.floor(wv/60),Jm=wv%60;return(Sv<=0?"+":"-")+tc(rv,2,"0")+":"+tc(Jm,2,"0")},m:function gv(Sv,wv){if(Sv.date()<wv.date())return-gv(wv,Sv);var rv=12*(wv.year()-Sv.year())+(wv.month()-Sv.month()),Jm=Sv.clone().add(rv,j),dv=wv-Jm<0,pv=Sv.clone().add(rv+(dv?-1:1),j);return+(-(rv+(wv-Jm)/(dv?Jm-pv:pv-Jm))||0)},a:function(gv){return gv<0?Math.ceil(gv)||0:Math.floor(gv)},p:function(gv){return{M:j,y:Oe,w:z,d:V,D:ur,h:L,m:k,s:y,ms:$,Q:ie}[gv]||String(gv||"").toLowerCase().replace(/s$/,"")},u:function(gv){return gv===void 0}},rc="en",ic={};ic[rc]=ec;var _c="$isDayjsObject",qm=function(gv){return gv instanceof nv||!(!gv||!gv[_c])},Xm=function gv(Sv,wv,rv){var Jm;if(!Sv)return rc;if(typeof Sv=="string"){var dv=Sv.toLowerCase();ic[dv]&&(Jm=dv),wv&&(ic[dv]=wv,Jm=dv);var pv=Sv.split("-");if(!Jm&&pv.length>1)return gv(pv[0])}else{var mv=Sv.name;ic[mv]=Sv,Jm=mv}return!rv&&Jm&&(rc=Jm),Jm||!rv&&rc},Km=function(gv,Sv){if(qm(gv))return gv.clone();var wv=typeof Sv=="object"?Sv:{};return wv.date=gv,wv.args=arguments,new nv(wv)},tv=Xs;tv.l=Xm,tv.i=qm,tv.w=function(gv,Sv){return Km(gv,{locale:Sv.$L,utc:Sv.$u,x:Sv.$x,$offset:Sv.$offset})};var nv=function(){function gv(wv){this.$L=Xm(wv.locale,null,!0),this.parse(wv),this.$x=this.$x||wv.x||{},this[_c]=!0}var Sv=gv.prototype;return Sv.parse=function(wv){this.$d=function(rv){var Jm=rv.date,dv=rv.utc;if(Jm===null)return new Date(NaN);if(tv.u(Jm))return new Date;if(Jm instanceof Date)return new Date(Jm);if(typeof Jm=="string"&&!/Z$/i.test(Jm)){var pv=Jm.match(Vr);if(pv){var mv=pv[2]-1||0,Cv=(pv[7]||"0").substring(0,3);return dv?new Date(Date.UTC(pv[1],mv,pv[3]||1,pv[4]||0,pv[5]||0,pv[6]||0,Cv)):new Date(pv[1],mv,pv[3]||1,pv[4]||0,pv[5]||0,pv[6]||0,Cv)}}return new Date(Jm)}(wv),this.init()},Sv.init=function(){var wv=this.$d;this.$y=wv.getFullYear(),this.$M=wv.getMonth(),this.$D=wv.getDate(),this.$W=wv.getDay(),this.$H=wv.getHours(),this.$m=wv.getMinutes(),this.$s=wv.getSeconds(),this.$ms=wv.getMilliseconds()},Sv.$utils=function(){return tv},Sv.isValid=function(){return this.$d.toString()!==hr},Sv.isSame=function(wv,rv){var Jm=Km(wv);return this.startOf(rv)<=Jm&&Jm<=this.endOf(rv)},Sv.isAfter=function(wv,rv){return Km(wv)<this.startOf(rv)},Sv.isBefore=function(wv,rv){return this.endOf(rv)<Km(wv)},Sv.$g=function(wv,rv,Jm){return tv.u(wv)?this[rv]:this.set(Jm,wv)},Sv.unix=function(){return Math.floor(this.valueOf()/1e3)},Sv.valueOf=function(){return this.$d.getTime()},Sv.startOf=function(wv,rv){var Jm=this,dv=!!tv.u(rv)||rv,pv=tv.p(wv),mv=function(f0,qv){var Pv=tv.w(Jm.$u?Date.UTC(Jm.$y,qv,f0):new Date(Jm.$y,qv,f0),Jm);return dv?Pv:Pv.endOf(V)},Cv=function(f0,qv){return tv.w(Jm.toDate()[f0].apply(Jm.toDate("s"),(dv?[0,0,0,0]:[23,59,59,999]).slice(qv)),Jm)},uv=this.$W,yv=this.$M,$v=this.$D,Dv="set"+(this.$u?"UTC":"");switch(pv){case Oe:return dv?mv(1,0):mv(31,11);case j:return dv?mv(1,yv):mv(0,yv+1);case z:var Hv=this.$locale().weekStart||0,Gv=(uv<Hv?uv+7:uv)-Hv;return mv(dv?$v-Gv:$v+(6-Gv),yv);case V:case ur:return Cv(Dv+"Hours",0);case L:return Cv(Dv+"Minutes",1);case k:return Cv(Dv+"Seconds",2);case y:return Cv(Dv+"Milliseconds",3);default:return this.clone()}},Sv.endOf=function(wv){return this.startOf(wv,!1)},Sv.$set=function(wv,rv){var Jm,dv=tv.p(wv),pv="set"+(this.$u?"UTC":""),mv=(Jm={},Jm[V]=pv+"Date",Jm[ur]=pv+"Date",Jm[j]=pv+"Month",Jm[Oe]=pv+"FullYear",Jm[L]=pv+"Hours",Jm[k]=pv+"Minutes",Jm[y]=pv+"Seconds",Jm[$]=pv+"Milliseconds",Jm)[dv],Cv=dv===V?this.$D+(rv-this.$W):rv;if(dv===j||dv===Oe){var uv=this.clone().set(ur,1);uv.$d[mv](Cv),uv.init(),this.$d=uv.set(ur,Math.min(this.$D,uv.daysInMonth())).$d}else mv&&this.$d[mv](Cv);return this.init(),this},Sv.set=function(wv,rv){return this.clone().$set(wv,rv)},Sv.get=function(wv){return this[tv.p(wv)]()},Sv.add=function(wv,rv){var Jm,dv=this;wv=Number(wv);var pv=tv.p(rv),mv=function(yv){var $v=Km(dv);return tv.w($v.date($v.date()+Math.round(yv*wv)),dv)};if(pv===j)return this.set(j,this.$M+wv);if(pv===Oe)return this.set(Oe,this.$y+wv);if(pv===V)return mv(1);if(pv===z)return mv(7);var Cv=(Jm={},Jm[k]=r,Jm[L]=g,Jm[y]=n,Jm)[pv]||1,uv=this.$d.getTime()+wv*Cv;return tv.w(uv,this)},Sv.subtract=function(wv,rv){return this.add(-1*wv,rv)},Sv.format=function(wv){var rv=this,Jm=this.$locale();if(!this.isValid())return Jm.invalidDate||hr;var dv=wv||"YYYY-MM-DDTHH:mm:ssZ",pv=tv.z(this),mv=this.$H,Cv=this.$m,uv=this.$M,yv=Jm.weekdays,$v=Jm.months,Dv=Jm.meridiem,Hv=function(qv,Pv,Tv,Vv){return qv&&(qv[Pv]||qv(rv,dv))||Tv[Pv].slice(0,Vv)},Gv=function(qv){return tv.s(mv%12||12,qv,"0")},f0=Dv||function(qv,Pv,Tv){var Vv=qv<12?"AM":"PM";return Tv?Vv.toLowerCase():Vv};return dv.replace(dr,function(qv,Pv){return Pv||function(Tv){switch(Tv){case"YY":return String(rv.$y).slice(-2);case"YYYY":return tv.s(rv.$y,4,"0");case"M":return uv+1;case"MM":return tv.s(uv+1,2,"0");case"MMM":return Hv(Jm.monthsShort,uv,$v,3);case"MMMM":return Hv($v,uv);case"D":return rv.$D;case"DD":return tv.s(rv.$D,2,"0");case"d":return String(rv.$W);case"dd":return Hv(Jm.weekdaysMin,rv.$W,yv,2);case"ddd":return Hv(Jm.weekdaysShort,rv.$W,yv,3);case"dddd":return yv[rv.$W];case"H":return String(mv);case"HH":return tv.s(mv,2,"0");case"h":return Gv(1);case"hh":return Gv(2);case"a":return f0(mv,Cv,!0);case"A":return f0(mv,Cv,!1);case"m":return String(Cv);case"mm":return tv.s(Cv,2,"0");case"s":return String(rv.$s);case"ss":return tv.s(rv.$s,2,"0");case"SSS":return tv.s(rv.$ms,3,"0");case"Z":return pv}return null}(qv)||pv.replace(":","")})},Sv.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Sv.diff=function(wv,rv,Jm){var dv,pv=this,mv=tv.p(rv),Cv=Km(wv),uv=(Cv.utcOffset()-this.utcOffset())*r,yv=this-Cv,$v=function(){return tv.m(pv,Cv)};switch(mv){case Oe:dv=$v()/12;break;case j:dv=$v();break;case ie:dv=$v()/3;break;case z:dv=(yv-uv)/6048e5;break;case V:dv=(yv-uv)/864e5;break;case L:dv=yv/g;break;case k:dv=yv/r;break;case y:dv=yv/n;break;default:dv=yv}return Jm?dv:tv.a(dv)},Sv.daysInMonth=function(){return this.endOf(j).$D},Sv.$locale=function(){return ic[this.$L]},Sv.locale=function(wv,rv){if(!wv)return this.$L;var Jm=this.clone(),dv=Xm(wv,rv,!0);return dv&&(Jm.$L=dv),Jm},Sv.clone=function(){return tv.w(this.$d,this)},Sv.toDate=function(){return new Date(this.valueOf())},Sv.toJSON=function(){return this.isValid()?this.toISOString():null},Sv.toISOString=function(){return this.$d.toISOString()},Sv.toString=function(){return this.$d.toUTCString()},gv}(),sv=nv.prototype;return Km.prototype=sv,[["$ms",$],["$s",y],["$m",k],["$H",L],["$W",V],["$M",j],["$y",Oe],["$D",ur]].forEach(function(gv){sv[gv[1]]=function(Sv){return this.$g(Sv,gv[0],gv[1])}}),Km.extend=function(gv,Sv){return gv.$i||(gv(Sv,nv,Km),gv.$i=!0),Km},Km.locale=Xm,Km.isDayjs=qm,Km.unix=function(gv){return Km(1e3*gv)},Km.en=ic[rc],Km.Ls=ic,Km.p={},Km})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports),buildTimeList=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],rangeArr=t=>Array.from(Array.from({length:t}).keys()),extractDateFormat=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(t,e){const n=isDate$1(t),r=isDate$1(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},valueEquals=function(t,e){const n=isArray$1(t),r=isArray$1(e);return n&&r?t.length!==e.length?!1:t.every((g,$)=>dateEquals(g,e[$])):!n&&!r?dateEquals(t,e):!1},parseDate=function(t,e,n){const r=isEmpty(e)||e==="x"?dayjs(t).locale(n):dayjs(t,e).locale(n);return r.isValid()?r:void 0},formatter=function(t,e,n){return isEmpty(e)?t:e==="x"?+t:dayjs(t).locale(n).format(e)},makeList=(t,e)=>{var n;const r=[],g=e==null?void 0:e();for(let $=0;$<t;$++)r.push((n=g==null?void 0:g.includes($))!=null?n:!1);return r},dayOrDaysToDate=t=>isArray$1(t)?t.map(e=>e.toDate()):t.toDate(),getPrevMonthLastDays=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return rangeArr(e).map((r,g)=>n-(e-g-1))},getMonthDays=t=>{const e=t.daysInMonth();return rangeArr(e).map((n,r)=>r+1)},toNestedArr=t=>rangeArr(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),dateTableProps=buildProps({selectedDay:{type:definePropType(Object)},range:{type:definePropType(Array)},date:{type:definePropType(Object),required:!0},hideHeader:{type:Boolean}}),dateTableEmits={pick:t=>isObject$2(t)};var localeData$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){return function(n,r,g){var $=r.prototype,y=function(j){return j&&(j.indexOf?j:j.s)},k=function(j,ie,Oe,ur,hr){var Vr=j.name?j:j.$locale(),dr=y(Vr[ie]),ec=y(Vr[Oe]),tc=dr||ec.map(function(rc){return rc.slice(0,ur)});if(!hr)return tc;var Xs=Vr.weekStart;return tc.map(function(rc,ic){return tc[(ic+(Xs||0))%7]})},L=function(){return g.Ls[g.locale()]},V=function(j,ie){return j.formats[ie]||function(Oe){return Oe.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ur,hr,Vr){return hr||Vr.slice(1)})}(j.formats[ie.toUpperCase()])},z=function(){var j=this;return{months:function(ie){return ie?ie.format("MMMM"):k(j,"months")},monthsShort:function(ie){return ie?ie.format("MMM"):k(j,"monthsShort","months",3)},firstDayOfWeek:function(){return j.$locale().weekStart||0},weekdays:function(ie){return ie?ie.format("dddd"):k(j,"weekdays")},weekdaysMin:function(ie){return ie?ie.format("dd"):k(j,"weekdaysMin","weekdays",2)},weekdaysShort:function(ie){return ie?ie.format("ddd"):k(j,"weekdaysShort","weekdays",3)},longDateFormat:function(ie){return V(j.$locale(),ie)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};$.localeData=function(){return z.bind(this)()},g.localeData=function(){var j=L();return{firstDayOfWeek:function(){return j.weekStart||0},weekdays:function(){return g.weekdays()},weekdaysShort:function(){return g.weekdaysShort()},weekdaysMin:function(){return g.weekdaysMin()},months:function(){return g.months()},monthsShort:function(){return g.monthsShort()},longDateFormat:function(ie){return V(j,ie)},meridiem:j.meridiem,ordinal:j.ordinal}},g.months=function(){return k(L(),"months")},g.monthsShort=function(){return k(L(),"monthsShort","months",3)},g.weekdays=function(j){return k(L(),"weekdays",null,null,j)},g.weekdaysShort=function(j){return k(L(),"weekdaysShort","weekdays",3,j)},g.weekdaysMin=function(j){return k(L(),"weekdaysMin","weekdays",2,j)}}})})(localeData$1);var localeDataExports=localeData$1.exports;const localeData=getDefaultExportFromCjs(localeDataExports),datePickTypes=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],useDateTable=(t,e)=>{dayjs.extend(localeData);const n=dayjs.localeData().firstDayOfWeek(),{t:r,lang:g}=useLocale(),$=dayjs().locale(g.value),y=computed(()=>!!t.range&&!!t.range.length),k=computed(()=>{let ie=[];if(y.value){const[Oe,ur]=t.range,hr=rangeArr(ur.date()-Oe.date()+1).map(ec=>({text:Oe.date()+ec,type:"current"}));let Vr=hr.length%7;Vr=Vr===0?0:7-Vr;const dr=rangeArr(Vr).map((ec,tc)=>({text:tc+1,type:"next"}));ie=hr.concat(dr)}else{const Oe=t.date.startOf("month").day(),ur=getPrevMonthLastDays(t.date,(Oe-n+7)%7).map(ec=>({text:ec,type:"prev"})),hr=getMonthDays(t.date).map(ec=>({text:ec,type:"current"}));ie=[...ur,...hr];const Vr=7-(ie.length%7||7),dr=rangeArr(Vr).map((ec,tc)=>({text:tc+1,type:"next"}));ie=ie.concat(dr)}return toNestedArr(ie)}),L=computed(()=>{const ie=n;return ie===0?WEEK_DAYS.map(Oe=>r(`el.datepicker.weeks.${Oe}`)):WEEK_DAYS.slice(ie).concat(WEEK_DAYS.slice(0,ie)).map(Oe=>r(`el.datepicker.weeks.${Oe}`))}),V=(ie,Oe)=>{switch(Oe){case"prev":return t.date.startOf("month").subtract(1,"month").date(ie);case"next":return t.date.startOf("month").add(1,"month").date(ie);case"current":return t.date.date(ie)}};return{now:$,isInRange:y,rows:k,weekDays:L,getFormattedDate:V,handlePickDay:({text:ie,type:Oe})=>{const ur=V(ie,Oe);e("pick",ur)},getSlotData:({text:ie,type:Oe})=>{const ur=V(ie,Oe);return{isSelected:ur.isSame(t.selectedDay),type:`${Oe}-month`,day:ur.format("YYYY-MM-DD"),date:ur.toDate()}}}},_hoisted_1$19={key:0},_hoisted_2$E=["onClick"],_sfc_main$28=defineComponent({name:"DateTable",__name:"date-table",props:dateTableProps,emits:dateTableEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{isInRange:$,now:y,rows:k,weekDays:L,getFormattedDate:V,handlePickDay:z,getSlotData:j}=useDateTable(r,g),ie=useNamespace("calendar-table"),Oe=useNamespace("calendar-day"),ur=({text:hr,type:Vr})=>{const dr=[Vr];if(Vr==="current"){const ec=V(hr,Vr);ec.isSame(r.selectedDay,"day")&&dr.push(Oe.is("selected")),ec.isSame(y,"day")&&dr.push(Oe.is("today"))}return dr};return e({getFormattedDate:V}),(hr,Vr)=>(openBlock(),createElementBlock("table",{class:normalizeClass([unref(ie).b(),unref(ie).is("range",unref($))]),cellspacing:"0",cellpadding:"0"},[hr.hideHeader?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("thead",_hoisted_1$19,[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(L),dr=>(openBlock(),createElementBlock("th",{key:dr,scope:"col"},toDisplayString$1(dr),1))),128))])])),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(k),(dr,ec)=>(openBlock(),createElementBlock("tr",{key:ec,class:normalizeClass({[unref(ie).e("row")]:!0,[unref(ie).em("row","hide-border")]:ec===0&&hr.hideHeader})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(dr,(tc,Xs)=>(openBlock(),createElementBlock("td",{key:Xs,class:normalizeClass(ur(tc)),onClick:rc=>unref(z)(tc)},[createBaseVNode("div",{class:normalizeClass(unref(Oe).b())},[renderSlot(hr.$slots,"date-cell",{data:unref(j)(tc)},()=>[createBaseVNode("span",null,toDisplayString$1(tc.text),1)])],2)],10,_hoisted_2$E))),128))],2))),128))])],2))}});var DateTable$1=_export_sfc$1(_sfc_main$28,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const adjacentMonth=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),$=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[$.startOf("week"),e]]},threeConsecutiveMonth=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),g=n.isSame(r,"week")?r.add(1,"week"):r,$=g.endOf("month"),y=e.startOf("month"),k=$.isSame(y,"week")?y.add(1,"week"):y;return[[t,n],[g.startOf("week"),$],[k.startOf("week"),e]]},useCalendar=(t,e,n)=>{const{lang:r}=useLocale(),g=ref(),$=dayjs().locale(r.value),y=computed({get(){return t.modelValue?L.value:g.value},set(Vr){if(!Vr)return;g.value=Vr;const dr=Vr.toDate();e(INPUT_EVENT,dr),e(UPDATE_MODEL_EVENT,dr)}}),k=computed(()=>{if(!t.range||!isArray$1(t.range)||t.range.length!==2||t.range.some(tc=>!isDate$1(tc)))return[];const Vr=t.range.map(tc=>dayjs(tc).locale(r.value)),[dr,ec]=Vr;return dr.isAfter(ec)?[]:dr.isSame(ec,"month")?Oe(dr,ec):dr.add(1,"month").month()!==ec.month()?[]:Oe(dr,ec)}),L=computed(()=>t.modelValue?dayjs(t.modelValue).locale(r.value):y.value||(k.value.length?k.value[0][0]:$)),V=computed(()=>L.value.subtract(1,"month").date(1)),z=computed(()=>L.value.add(1,"month").date(1)),j=computed(()=>L.value.subtract(1,"year").date(1)),ie=computed(()=>L.value.add(1,"year").date(1)),Oe=(Vr,dr)=>{const ec=Vr.startOf("week"),tc=dr.endOf("week"),Xs=ec.get("month"),rc=tc.get("month");return Xs===rc?[[ec,tc]]:(Xs+1)%12===rc?adjacentMonth(ec,tc):Xs+2===rc||(Xs+1)%11===rc?threeConsecutiveMonth(ec,tc):[]},ur=Vr=>{y.value=Vr};return{calculateValidatedDateRange:Oe,date:L,realSelectedDay:y,pickDay:ur,selectDate:Vr=>{const ec={"prev-month":V.value,"next-month":z.value,"prev-year":j.value,"next-year":ie.value,today:$}[Vr];ec.isSame(L.value,"day")||ur(ec)},validatedRange:k}},isValidRange$1=t=>isArray$1(t)&&t.length===2&&t.every(e=>isDate$1(e)),calendarProps=buildProps({modelValue:{type:Date},range:{type:definePropType(Array),validator:isValidRange$1}}),calendarEmits={[UPDATE_MODEL_EVENT]:t=>isDate$1(t),[INPUT_EVENT]:t=>isDate$1(t)},COMPONENT_NAME$i="ElCalendar",_sfc_main$27=defineComponent({name:COMPONENT_NAME$i,__name:"calendar",props:calendarProps,emits:calendarEmits,setup(t,{expose:e,emit:n}){const r=useNamespace("calendar"),g=t,$=n,{calculateValidatedDateRange:y,date:k,pickDay:L,realSelectedDay:V,selectDate:z,validatedRange:j}=useCalendar(g,$),{t:ie}=useLocale(),Oe=computed(()=>{const ur=`el.datepicker.month${k.value.format("M")}`;return`${k.value.year()} ${ie("el.datepicker.year")} ${ie(ur)}`});return e({selectedDay:V,pickDay:L,selectDate:z,calculateValidatedDateRange:y}),(ur,hr)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[createBaseVNode("div",{class:normalizeClass(unref(r).e("header"))},[renderSlot(ur.$slots,"header",{date:Oe.value},()=>[createBaseVNode("div",{class:normalizeClass(unref(r).e("title"))},toDisplayString$1(Oe.value),3),unref(j).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("button-group"))},[createVNode(unref(ElButtonGroup$1),null,{default:withCtx(()=>[createVNode(unref(ElButton),{size:"small",onClick:hr[0]||(hr[0]=Vr=>unref(z)("prev-month"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(ie)("el.datepicker.prevMonth")),1)]),_:1}),createVNode(unref(ElButton),{size:"small",onClick:hr[1]||(hr[1]=Vr=>unref(z)("today"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(ie)("el.datepicker.today")),1)]),_:1}),createVNode(unref(ElButton),{size:"small",onClick:hr[2]||(hr[2]=Vr=>unref(z)("next-month"))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(ie)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):createCommentVNode("v-if",!0)])],2),unref(j).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("body"))},[createVNode(DateTable$1,{date:unref(k),"selected-day":unref(V),onPick:unref(L)},createSlots({_:2},[ur.$slots["date-cell"]?{name:"date-cell",fn:withCtx(Vr=>[renderSlot(ur.$slots,"date-cell",normalizeProps(guardReactiveProps(Vr)))]),key:"0"}:void 0]),1032,["date","selected-day","onPick"])],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("body"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),(Vr,dr)=>(openBlock(),createBlock(DateTable$1,{key:dr,date:Vr[0],"selected-day":unref(V),range:Vr,"hide-header":dr!==0,onPick:unref(L)},createSlots({_:2},[ur.$slots["date-cell"]?{name:"date-cell",fn:withCtx(ec=>[renderSlot(ur.$slots,"date-cell",mergeProps({ref_for:!0},ec))]),key:"0"}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Calendar=_export_sfc$1(_sfc_main$27,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const ElCalendar=withInstall(Calendar),cardProps=buildProps({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}}),_sfc_main$26=defineComponent({name:"ElCard",__name:"card",props:cardProps,setup(t){const e=useGlobalConfig("card"),n=useNamespace("card");return(r,g)=>{var $;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is(`${r.shadow||(($=unref(e))==null?void 0:$.shadow)||"always"}-shadow`)])},[r.$slots.header||r.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("header"),r.headerClass])},[renderSlot(r.$slots,"header",{},()=>[createTextVNode(toDisplayString$1(r.header),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(n).e("body"),r.bodyClass]),style:normalizeStyle(r.bodyStyle)},[renderSlot(r.$slots,"default")],6),r.$slots.footer||r.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("footer"),r.footerClass])},[renderSlot(r.$slots,"footer",{},()=>[createTextVNode(toDisplayString$1(r.footer),1)])],2)):createCommentVNode("v-if",!0)],2)}}});var Card=_export_sfc$1(_sfc_main$26,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const ElCard=withInstall(Card),carouselProps=buildProps({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),carouselEmits={change:(t,e)=>[t,e].every(isNumber)},carouselContextKey=Symbol("carouselContextKey"),CAROUSEL_ITEM_NAME="ElCarouselItem";var PatchFlags=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(PatchFlags||{});function isFragment(t){return isVNode$1(t)&&t.type===Fragment}function isComment(t){return isVNode$1(t)&&t.type===Comment}function isValidElementNode(t){return isVNode$1(t)&&!isFragment(t)&&!isComment(t)}const getNormalizedProps=t=>{if(!isVNode$1(t))return{};const e=t.props||{},n=(isVNode$1(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(g=>{hasOwn$1(n[g],"default")&&(r[g]=n[g].default)}),Object.keys(e).forEach(g=>{r[camelize(g)]=e[g]}),r},flattedChildren=t=>{const e=isArray$1(t)?t:[t],n=[];return e.forEach(r=>{var g;isArray$1(r)?n.push(...flattedChildren(r)):isVNode$1(r)&&((g=r.component)!=null&&g.subTree)?n.push(r,...flattedChildren(r.component.subTree)):isVNode$1(r)&&isArray$1(r.children)?n.push(...flattedChildren(r.children)):isVNode$1(r)&&r.shapeFlag===2?n.push(...flattedChildren(r.type())):n.push(r)}),n},getOrderedChildren=(t,e,n)=>flattedChildren(t.subTree).filter($=>{var y;return isVNode$1($)&&((y=$.type)==null?void 0:y.name)===e&&!!$.component}).map($=>$.component.uid).map($=>n[$]).filter($=>!!$),useOrderedChildren=(t,e)=>{const n=shallowRef({}),r=shallowRef([]),g=new WeakMap,$=z=>{n.value[z.uid]=z,triggerRef(n),onMounted(()=>{const j=z.getVnode().el,ie=j.parentNode;if(!g.has(ie)){g.set(ie,[]);const Oe=ie.insertBefore.bind(ie);ie.insertBefore=(ur,hr)=>(g.get(ie).some(dr=>ur===dr||hr===dr)&&triggerRef(n),Oe(ur,hr))}g.get(ie).push(j)})},y=z=>{delete n.value[z.uid],triggerRef(n);const j=z.getVnode().el,ie=j.parentNode,Oe=g.get(ie),ur=Oe.indexOf(j);Oe.splice(ur,1)},k=()=>{r.value=getOrderedChildren(t,e,n.value)},L=z=>z.render();return{children:r,addChild:$,removeChild:y,ChildrenSorter:defineComponent({setup(z,{slots:j}){return()=>(k(),j.default?h$1(L,{render:j.default}):null)}})}},THROTTLE_TIME=300,useCarousel=(t,e,n)=>{const{children:r,addChild:g,removeChild:$,ChildrenSorter:y}=useOrderedChildren(getCurrentInstance(),CAROUSEL_ITEM_NAME),k=useSlots(),L=ref(-1),V=ref(null),z=ref(!1),j=ref(),ie=ref(0),Oe=ref(!0),ur=computed(()=>t.arrow!=="never"&&!unref(dr)),hr=computed(()=>r.value.some($v=>$v.props.label.toString().length>0)),Vr=computed(()=>t.type==="card"),dr=computed(()=>t.direction==="vertical"),ec=computed(()=>t.height!=="auto"?{height:t.height}:{height:`${ie.value}px`,overflow:"hidden"}),tc=throttle($v=>{Xm($v)},THROTTLE_TIME,{trailing:!0}),Xs=throttle($v=>{rv($v)},THROTTLE_TIME),rc=$v=>Oe.value?L.value<=1?$v<=1:$v>1:!0;function ic(){V.value&&(clearInterval(V.value),V.value=null)}function _c(){t.interval<=0||!t.autoplay||V.value||(V.value=setInterval(()=>qm(),t.interval))}const qm=()=>{L.value<r.value.length-1?L.value=L.value+1:t.loop&&(L.value=0)};function Xm($v){if(isString$1($v)){const Gv=r.value.filter(f0=>f0.props.name===$v);Gv.length>0&&($v=r.value.indexOf(Gv[0]))}if($v=Number($v),Number.isNaN($v)||$v!==Math.floor($v))return;const Dv=r.value.length,Hv=L.value;$v<0?L.value=t.loop?Dv-1:0:$v>=Dv?L.value=t.loop?0:Dv-1:L.value=$v,Hv===L.value&&Km(Hv),pv()}function Km($v){r.value.forEach((Dv,Hv)=>{Dv.translateItem(Hv,L.value,$v)})}function tv($v,Dv){var Hv,Gv,f0,qv;const Pv=unref(r),Tv=Pv.length;if(Tv===0||!$v.states.inStage)return!1;const Vv=Dv+1,Av=Dv-1,y0=Tv-1,av=Pv[y0].states.active,fv=Pv[0].states.active,lv=(Gv=(Hv=Pv[Vv])==null?void 0:Hv.states)==null?void 0:Gv.active,kv=(qv=(f0=Pv[Av])==null?void 0:f0.states)==null?void 0:qv.active;return Dv===y0&&fv||lv?"left":Dv===0&&av||kv?"right":!1}function nv(){z.value=!0,t.pauseOnHover&&ic()}function sv(){z.value=!1,_c()}function gv($v){unref(dr)||r.value.forEach((Dv,Hv)=>{$v===tv(Dv,Hv)&&(Dv.states.hover=!0)})}function Sv(){unref(dr)||r.value.forEach($v=>{$v.states.hover=!1})}function wv($v){L.value=$v}function rv($v){t.trigger==="hover"&&$v!==L.value&&(L.value=$v)}function Jm(){Xm(L.value-1)}function dv(){Xm(L.value+1)}function pv(){ic(),t.pauseOnHover||_c()}function mv($v){t.height==="auto"&&(ie.value=$v)}function Cv(){var $v;const Dv=($v=k.default)==null?void 0:$v.call(k);if(!Dv)return null;const Gv=flattedChildren(Dv).filter(f0=>isVNode$1(f0)&&f0.type.name===CAROUSEL_ITEM_NAME);return(Gv==null?void 0:Gv.length)===2&&t.loop&&!Vr.value?(Oe.value=!0,Gv):(Oe.value=!1,null)}watch(()=>L.value,($v,Dv)=>{Km(Dv),Oe.value&&($v=$v%2,Dv=Dv%2),Dv>-1&&e(CHANGE_EVENT,$v,Dv)});const uv=computed({get:()=>Oe.value?L.value%2:L.value,set:$v=>L.value=$v});watch(()=>t.autoplay,$v=>{$v?_c():ic()}),watch(()=>t.loop,()=>{Xm(L.value)}),watch(()=>t.interval,()=>{pv()});const yv=shallowRef();return onMounted(()=>{watch(()=>r.value,()=>{r.value.length>0&&Xm(t.initialIndex)},{immediate:!0}),yv.value=useResizeObserver(j.value,()=>{Km()}),_c()}),onBeforeUnmount(()=>{ic(),j.value&&yv.value&&yv.value.stop()}),provide(carouselContextKey,{root:j,isCardType:Vr,isVertical:dr,items:r,loop:t.loop,cardScale:t.cardScale,addItem:g,removeItem:$,setActiveItem:Xm,setContainerHeight:mv}),{root:j,activeIndex:L,exposeActiveIndex:uv,arrowDisplay:ur,hasLabel:hr,hover:z,isCardType:Vr,items:r,isVertical:dr,containerStyle:ec,isItemsTwoLength:Oe,handleButtonEnter:gv,handleButtonLeave:Sv,handleIndicatorClick:wv,handleMouseEnter:nv,handleMouseLeave:sv,setActiveItem:Xm,prev:Jm,next:dv,PlaceholderItem:Cv,isTwoLengthShow:rc,ItemsSorter:y,throttledArrowClick:tc,throttledIndicatorHover:Xs}},_hoisted_1$18=["aria-label"],_hoisted_2$D=["aria-label"],_hoisted_3$h=["onMouseenter","onClick"],_hoisted_4$c=["aria-label"],_hoisted_5$9={key:0},_hoisted_6$4={key:2,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},COMPONENT_NAME$h="ElCarousel",_sfc_main$25=defineComponent({name:COMPONENT_NAME$h,__name:"carousel",props:carouselProps,emits:carouselEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{root:$,activeIndex:y,exposeActiveIndex:k,arrowDisplay:L,hasLabel:V,hover:z,isCardType:j,items:ie,isVertical:Oe,containerStyle:ur,handleButtonEnter:hr,handleButtonLeave:Vr,handleIndicatorClick:dr,handleMouseEnter:ec,handleMouseLeave:tc,setActiveItem:Xs,prev:rc,next:ic,PlaceholderItem:_c,isTwoLengthShow:qm,ItemsSorter:Xm,throttledArrowClick:Km,throttledIndicatorHover:tv}=useCarousel(r,g),nv=useNamespace("carousel"),{t:sv}=useLocale(),gv=computed(()=>{const Jm=[nv.b(),nv.m(r.direction)];return unref(j)&&Jm.push(nv.m("card")),Jm}),Sv=computed(()=>{const Jm=[nv.e("indicators"),nv.em("indicators",r.direction)];return unref(V)&&Jm.push(nv.em("indicators","labels")),r.indicatorPosition==="outside"&&Jm.push(nv.em("indicators","outside")),unref(Oe)&&Jm.push(nv.em("indicators","right")),Jm});function wv(Jm){if(!r.motionBlur)return;const dv=unref(Oe)?`${nv.namespace.value}-transitioning-vertical`:`${nv.namespace.value}-transitioning`;Jm.currentTarget.classList.add(dv)}function rv(Jm){if(!r.motionBlur)return;const dv=unref(Oe)?`${nv.namespace.value}-transitioning-vertical`:`${nv.namespace.value}-transitioning`;Jm.currentTarget.classList.remove(dv)}return e({activeIndex:k,setActiveItem:Xs,prev:rc,next:ic}),(Jm,dv)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:$,class:normalizeClass(gv.value),onMouseenter:dv[6]||(dv[6]=withModifiers((...pv)=>unref(ec)&&unref(ec)(...pv),["stop"])),onMouseleave:dv[7]||(dv[7]=withModifiers((...pv)=>unref(tc)&&unref(tc)(...pv),["stop"]))},[unref(L)?(openBlock(),createBlock(Transition,{key:0,name:"carousel-arrow-left",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(nv).e("arrow"),unref(nv).em("arrow","left")]),"aria-label":unref(sv)("el.carousel.leftArrow"),onMouseenter:dv[0]||(dv[0]=pv=>unref(hr)("left")),onMouseleave:dv[1]||(dv[1]=(...pv)=>unref(Vr)&&unref(Vr)(...pv)),onClick:dv[2]||(dv[2]=withModifiers(pv=>unref(Km)(unref(y)-1),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],42,_hoisted_1$18),[[vShow,(Jm.arrow==="always"||unref(z))&&(Jm.loop||unref(y)>0)]])]),_:1})):createCommentVNode("v-if",!0),unref(L)?(openBlock(),createBlock(Transition,{key:1,name:"carousel-arrow-right",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(nv).e("arrow"),unref(nv).em("arrow","right")]),"aria-label":unref(sv)("el.carousel.rightArrow"),onMouseenter:dv[3]||(dv[3]=pv=>unref(hr)("right")),onMouseleave:dv[4]||(dv[4]=(...pv)=>unref(Vr)&&unref(Vr)(...pv)),onClick:dv[5]||(dv[5]=withModifiers(pv=>unref(Km)(unref(y)+1),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],42,_hoisted_2$D),[[vShow,(Jm.arrow==="always"||unref(z))&&(Jm.loop||unref(y)<unref(ie).length-1)]])]),_:1})):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(nv).e("container")),style:normalizeStyle(unref(ur)),onTransitionstart:wv,onTransitionend:rv},[createVNode(unref(_c)),renderSlot(Jm.$slots,"default")],38),createVNode(unref(Xm),null,{default:withCtx(()=>[Jm.indicatorPosition!=="none"?(openBlock(),createElementBlock("ul",{key:0,class:normalizeClass(Sv.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ie),(pv,mv)=>withDirectives((openBlock(),createElementBlock("li",{key:mv,class:normalizeClass([unref(nv).e("indicator"),unref(nv).em("indicator",Jm.direction),unref(nv).is("active",mv===unref(y))]),onMouseenter:Cv=>unref(tv)(mv),onClick:withModifiers(Cv=>unref(dr)(mv),["stop"])},[createBaseVNode("button",{class:normalizeClass(unref(nv).e("button")),"aria-label":unref(sv)("el.carousel.indicator",{index:mv+1})},[unref(V)?(openBlock(),createElementBlock("span",_hoisted_5$9,toDisplayString$1(pv.props.label),1)):createCommentVNode("v-if",!0)],10,_hoisted_4$c)],42,_hoisted_3$h)),[[vShow,unref(qm)(mv)]])),128))],2)):createCommentVNode("v-if",!0)]),_:1}),Jm.motionBlur?(openBlock(),createElementBlock("svg",_hoisted_6$4,[...dv[8]||(dv[8]=[createBaseVNode("defs",null,[createBaseVNode("filter",{id:"elCarouselHorizontal"},[createBaseVNode("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),createBaseVNode("filter",{id:"elCarouselVertical"},[createBaseVNode("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1)])])):createCommentVNode("v-if",!0)],34))}});var Carousel=_export_sfc$1(_sfc_main$25,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const carouselItemProps=buildProps({name:{type:String,default:""},label:{type:[String,Number],default:""}}),useCarouselItem=t=>{const e=inject(carouselContextKey),n=getCurrentInstance(),r=ref(),g=ref(!1),$=ref(0),y=ref(1),k=ref(!1),L=ref(!1),V=ref(!1),z=ref(!1),{isCardType:j,isVertical:ie,cardScale:Oe}=e;function ur(Xs,rc,ic){const _c=ic-1,qm=rc-1,Xm=rc+1,Km=ic/2;return rc===0&&Xs===_c?-1:rc===_c&&Xs===0?ic:Xs<qm&&rc-Xs>=Km?ic+1:Xs>Xm&&Xs-rc>=Km?-2:Xs}function hr(Xs,rc){var ic,_c;const qm=unref(ie)?((ic=e.root.value)==null?void 0:ic.offsetHeight)||0:((_c=e.root.value)==null?void 0:_c.offsetWidth)||0;return V.value?qm*((2-Oe)*(Xs-rc)+1)/4:Xs<rc?-(1+Oe)*qm/4:(3+Oe)*qm/4}function Vr(Xs,rc,ic){const _c=e.root.value;return _c?((ic?_c.offsetHeight:_c.offsetWidth)||0)*(Xs-rc):0}const dr=(Xs,rc,ic)=>{var _c;const qm=unref(j),Xm=(_c=e.items.value.length)!=null?_c:Number.NaN,Km=Xs===rc;!qm&&!isUndefined(ic)&&(z.value=Km||Xs===ic),!Km&&Xm>2&&e.loop&&(Xs=ur(Xs,rc,Xm));const tv=unref(ie);k.value=Km,qm?(V.value=Math.round(Math.abs(Xs-rc))<=1,$.value=hr(Xs,rc),y.value=unref(k)?1:Oe):$.value=Vr(Xs,rc,tv),L.value=!0,Km&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function ec(){if(e&&unref(j)){const Xs=e.items.value.findIndex(({uid:rc})=>rc===n.uid);e.setActiveItem(Xs)}}const tc={props:t,states:reactive({hover:g,translate:$,scale:y,active:k,ready:L,inStage:V,animating:z}),uid:n.uid,getVnode:()=>n.vnode,translateItem:dr};return e.addItem(tc),onBeforeUnmount(()=>{e.removeItem(tc)}),{carouselItemRef:r,active:k,animating:z,hover:g,inStage:V,isVertical:ie,translate:$,isCardType:j,scale:y,ready:L,handleItemClick:ec}},_sfc_main$24=defineComponent({name:CAROUSEL_ITEM_NAME,__name:"carousel-item",props:carouselItemProps,setup(t){const e=t,n=useNamespace("carousel"),{carouselItemRef:r,active:g,animating:$,hover:y,inStage:k,isVertical:L,translate:V,isCardType:z,scale:j,ready:ie,handleItemClick:Oe}=useCarouselItem(e),ur=computed(()=>[n.e("item"),n.is("active",g.value),n.is("in-stage",k.value),n.is("hover",y.value),n.is("animating",$.value),{[n.em("item","card")]:z.value,[n.em("item","card-vertical")]:z.value&&L.value}]),hr=computed(()=>{const dr=`${`translate${unref(L)?"Y":"X"}`}(${unref(V)}px)`,ec=`scale(${unref(j)})`;return{transform:[dr,ec].join(" ")}});return(Vr,dr)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"carouselItemRef",ref:r,class:normalizeClass(ur.value),style:normalizeStyle(hr.value),onClick:dr[0]||(dr[0]=(...ec)=>unref(Oe)&&unref(Oe)(...ec))},[unref(z)?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("mask"))},null,2)),[[vShow,!unref(g)]]):createCommentVNode("v-if",!0),renderSlot(Vr.$slots,"default")],6)),[[vShow,unref(ie)]])}});var CarouselItem=_export_sfc$1(_sfc_main$24,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ElCarousel=withInstall(Carousel,{CarouselItem}),ElCarouselItem=withNoopInstall(CarouselItem),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...useAriaProps(["ariaControls"])},checkboxEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t)||isNumber(t)||isBoolean(t),change:t=>isString$1(t)||isNumber(t)||isBoolean(t)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:t,isChecked:e})=>{const n=inject(checkboxGroupContextKey,void 0),r=inject(formContextKey,void 0),g=computed(()=>{var y,k;const L=(y=n==null?void 0:n.max)==null?void 0:y.value,V=(k=n==null?void 0:n.min)==null?void 0:k.value;return!isUndefined(L)&&t.value.length>=L&&!e.value||!isUndefined(V)&&t.value.length<=V&&e.value});return{isDisabled:useFormDisabled(computed(()=>{var y,k;return n===void 0?(y=r==null?void 0:r.disabled)!=null?y:g.value:((k=n.disabled)==null?void 0:k.value)||g.value})),isLimitDisabled:g}},useCheckboxEvent=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:g,isLabeledByFormItem:$})=>{const y=inject(checkboxGroupContextKey,void 0),{formItem:k}=useFormItem(),{emit:L}=getCurrentInstance();function V(ur){var hr,Vr,dr,ec;return[!0,t.trueValue,t.trueLabel].includes(ur)?(Vr=(hr=t.trueValue)!=null?hr:t.trueLabel)!=null?Vr:!0:(ec=(dr=t.falseValue)!=null?dr:t.falseLabel)!=null?ec:!1}function z(ur,hr){L(CHANGE_EVENT,V(ur),hr)}function j(ur){if(n.value)return;const hr=ur.target;L(CHANGE_EVENT,V(hr.checked),ur)}async function ie(ur){n.value||!r.value&&!g.value&&$.value&&(ur.composedPath().some(dr=>dr.tagName==="LABEL")||(e.value=V([!1,t.falseValue,t.falseLabel].includes(e.value)),await nextTick(),z(e.value,ur)))}const Oe=computed(()=>(y==null?void 0:y.validateEvent)||t.validateEvent);return watch(()=>t.modelValue,()=>{Oe.value&&(k==null||k.validate("change").catch(ur=>void 0))}),{handleChange:j,onClickRoot:ie}},useCheckboxModel=t=>{const e=ref(!1),{emit:n}=getCurrentInstance(),r=inject(checkboxGroupContextKey,void 0),g=computed(()=>isUndefined(r)===!1),$=ref(!1),y=computed({get(){var k,L;return g.value?(k=r==null?void 0:r.modelValue)==null?void 0:k.value:(L=t.modelValue)!=null?L:e.value},set(k){var L,V;g.value&&isArray$1(k)?($.value=((L=r==null?void 0:r.max)==null?void 0:L.value)!==void 0&&k.length>(r==null?void 0:r.max.value)&&k.length>y.value.length,$.value===!1&&((V=r==null?void 0:r.changeEvent)==null||V.call(r,k))):(n(UPDATE_MODEL_EVENT,k),e.value=k)}});return{model:y,isGroup:g,isLimitExceeded:$}},useCheckboxStatus=(t,e,{model:n})=>{const r=inject(checkboxGroupContextKey,void 0),g=ref(!1),$=computed(()=>isPropAbsent(t.value)?t.label:t.value),y=computed(()=>{const z=n.value;return isBoolean(z)?z:isArray$1(z)?isObject$2($.value)?z.map(toRaw).some(j=>isEqual$1(j,$.value)):z.map(toRaw).includes($.value):z!=null?z===t.trueValue||z===t.trueLabel:!!z}),k=useFormSize(computed(()=>{var z;return(z=r==null?void 0:r.size)==null?void 0:z.value}),{prop:!0}),L=useFormSize(computed(()=>{var z;return(z=r==null?void 0:r.size)==null?void 0:z.value})),V=computed(()=>!!e.default||!isPropAbsent($.value));return{checkboxButtonSize:k,isChecked:y,isFocused:g,checkboxSize:L,hasOwnLabel:V,actualValue:$}},useCheckbox=(t,e)=>{const{formItem:n}=useFormItem(),{model:r,isGroup:g,isLimitExceeded:$}=useCheckboxModel(t),{isFocused:y,isChecked:k,checkboxButtonSize:L,checkboxSize:V,hasOwnLabel:z,actualValue:j}=useCheckboxStatus(t,e,{model:r}),{isDisabled:ie}=useCheckboxDisabled({model:r,isChecked:k}),{inputId:Oe,isLabeledByFormItem:ur}=useFormItemInputId(t,{formItemContext:n,disableIdGeneration:z,disableIdManagement:g}),{handleChange:hr,onClickRoot:Vr}=useCheckboxEvent(t,{model:r,isLimitExceeded:$,hasOwnLabel:z,isDisabled:ie,isLabeledByFormItem:ur});return(()=>{function ec(){var tc,Xs;isArray$1(r.value)&&!r.value.includes(j.value)?r.value.push(j.value):r.value=(Xs=(tc=t.trueValue)!=null?tc:t.trueLabel)!=null?Xs:!0}t.checked&&ec()})(),useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>g.value&&isPropAbsent(t.value))),useDeprecated({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!t.trueLabel)),useDeprecated({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!t.falseLabel)),{inputId:Oe,isLabeledByFormItem:ur,isChecked:k,isDisabled:ie,isFocused:y,checkboxButtonSize:L,checkboxSize:V,hasOwnLabel:z,model:r,actualValue:j,handleChange:hr,onClickRoot:Vr}},_hoisted_1$17=["id","indeterminate","name","tabindex","disabled"],_sfc_main$23=defineComponent({name:"ElCheckbox",__name:"checkbox",props:checkboxProps,emits:checkboxEmits,setup(t){const e=t,n=useSlots(),{inputId:r,isLabeledByFormItem:g,isChecked:$,isDisabled:y,isFocused:k,checkboxSize:L,hasOwnLabel:V,model:z,actualValue:j,handleChange:ie,onClickRoot:Oe}=useCheckbox(e,n),ur=computed(()=>{var ec,tc,Xs,rc;return e.trueValue||e.falseValue||e.trueLabel||e.falseLabel?{"true-value":(tc=(ec=e.trueValue)!=null?ec:e.trueLabel)!=null?tc:!0,"false-value":(rc=(Xs=e.falseValue)!=null?Xs:e.falseLabel)!=null?rc:!1}:{value:j.value}}),hr=useNamespace("checkbox"),Vr=computed(()=>[hr.b(),hr.m(L.value),hr.is("disabled",y.value),hr.is("bordered",e.border),hr.is("checked",$.value)]),dr=computed(()=>[hr.e("input"),hr.is("disabled",y.value),hr.is("checked",$.value),hr.is("indeterminate",e.indeterminate),hr.is("focus",k.value)]);return(ec,tc)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(V)&&unref(g)?"span":"label"),{for:!unref(V)&&unref(g)?null:unref(r),class:normalizeClass(Vr.value),"aria-controls":ec.indeterminate?ec.ariaControls:null,"aria-checked":ec.indeterminate?"mixed":void 0,"aria-label":ec.ariaLabel,onClick:unref(Oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(dr.value)},[withDirectives(createBaseVNode("input",mergeProps({id:unref(r),"onUpdate:modelValue":tc[0]||(tc[0]=Xs=>isRef(z)?z.value=Xs:null),class:unref(hr).e("original"),type:"checkbox",indeterminate:ec.indeterminate,name:ec.name,tabindex:ec.tabindex,disabled:unref(y)},ur.value,{onChange:tc[1]||(tc[1]=(...Xs)=>unref(ie)&&unref(ie)(...Xs)),onFocus:tc[2]||(tc[2]=Xs=>k.value=!0),onBlur:tc[3]||(tc[3]=Xs=>k.value=!1),onClick:tc[4]||(tc[4]=withModifiers(()=>{},["stop"]))}),null,16,_hoisted_1$17),[[vModelCheckbox,unref(z)]]),createBaseVNode("span",{class:normalizeClass(unref(hr).e("inner"))},null,2)],2),unref(V)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(hr).e("label"))},[renderSlot(ec.$slots,"default"),ec.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(ec.label),1)],64))],2)):createCommentVNode("v-if",!0)]),_:3},8,["for","class","aria-controls","aria-checked","aria-label","onClick"]))}});var Checkbox=_export_sfc$1(_sfc_main$23,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const _hoisted_1$16=["name","tabindex","disabled"],_sfc_main$22=defineComponent({name:"ElCheckboxButton",__name:"checkbox-button",props:checkboxProps,emits:checkboxEmits,setup(t){const e=t,n=useSlots(),{isFocused:r,isChecked:g,isDisabled:$,checkboxButtonSize:y,model:k,actualValue:L,handleChange:V}=useCheckbox(e,n),z=computed(()=>{var hr,Vr,dr,ec;return e.trueValue||e.falseValue||e.trueLabel||e.falseLabel?{"true-value":(Vr=(hr=e.trueValue)!=null?hr:e.trueLabel)!=null?Vr:!0,"false-value":(ec=(dr=e.falseValue)!=null?dr:e.falseLabel)!=null?ec:!1}:{value:L.value}}),j=inject(checkboxGroupContextKey,void 0),ie=useNamespace("checkbox"),Oe=computed(()=>{var hr,Vr,dr,ec;const tc=(Vr=(hr=j==null?void 0:j.fill)==null?void 0:hr.value)!=null?Vr:"";return{backgroundColor:tc,borderColor:tc,color:(ec=(dr=j==null?void 0:j.textColor)==null?void 0:dr.value)!=null?ec:"",boxShadow:tc?`-1px 0 0 0 ${tc}`:void 0}}),ur=computed(()=>[ie.b("button"),ie.bm("button",y.value),ie.is("disabled",$.value),ie.is("checked",g.value),ie.is("focus",r.value)]);return(hr,Vr)=>(openBlock(),createElementBlock("label",{class:normalizeClass(ur.value)},[withDirectives(createBaseVNode("input",mergeProps({"onUpdate:modelValue":Vr[0]||(Vr[0]=dr=>isRef(k)?k.value=dr:null),class:unref(ie).be("button","original"),type:"checkbox",name:hr.name,tabindex:hr.tabindex,disabled:unref($)},z.value,{onChange:Vr[1]||(Vr[1]=(...dr)=>unref(V)&&unref(V)(...dr)),onFocus:Vr[2]||(Vr[2]=dr=>r.value=!0),onBlur:Vr[3]||(Vr[3]=dr=>r.value=!1),onClick:Vr[4]||(Vr[4]=withModifiers(()=>{},["stop"]))}),null,16,_hoisted_1$16),[[vModelCheckbox,unref(k)]]),hr.$slots.default||hr.label?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ie).be("button","inner")),style:normalizeStyle(unref(g)?Oe.value:void 0)},[renderSlot(hr.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(hr.label),1)])],6)):createCommentVNode("v-if",!0)],2))}});var CheckboxButton=_export_sfc$1(_sfc_main$22,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:useSizeProp,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:definePropType(Array)},props:{type:definePropType(Object),default:()=>checkboxDefaultProps},type:{type:String,values:["checkbox","button"],default:"checkbox"},...useAriaProps(["ariaLabel"])}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:t=>isArray$1(t),change:t=>isArray$1(t)},checkboxDefaultProps={label:"label",value:"value",disabled:"disabled"},_sfc_main$21=defineComponent({name:"ElCheckboxGroup",__name:"checkbox-group",props:checkboxGroupProps,emits:checkboxGroupEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("checkbox"),$=useFormDisabled(),{formItem:y}=useFormItem(),{inputId:k,isLabeledByFormItem:L}=useFormItemInputId(n,{formItemContext:y}),V=async ur=>{r(UPDATE_MODEL_EVENT,ur),await nextTick(),r(CHANGE_EVENT,ur)},z=computed({get(){return n.modelValue},set(ur){V(ur)}}),j=computed(()=>({...checkboxDefaultProps,...n.props})),ie=ur=>{const{label:hr,value:Vr,disabled:dr}=j.value,ec={label:ur[hr],value:ur[Vr],disabled:ur[dr]};return{...omit(ur,[hr,Vr,dr]),...ec}},Oe=computed(()=>n.type==="button"?CheckboxButton:Checkbox);return provide(checkboxGroupContextKey,{...pick(toRefs(n),["size","min","max","validateEvent","fill","textColor"]),disabled:$,modelValue:z,changeEvent:V}),watch(()=>n.modelValue,(ur,hr)=>{n.validateEvent&&!isEqual$1(ur,hr)&&(y==null||y.validate("change").catch(Vr=>void 0))}),(ur,hr)=>{var Vr;return openBlock(),createBlock(resolveDynamicComponent(ur.tag),{id:unref(k),class:normalizeClass(unref(g).b("group")),role:"group","aria-label":unref(L)?void 0:ur.ariaLabel||"checkbox-group","aria-labelledby":unref(L)?(Vr=unref(y))==null?void 0:Vr.labelId:void 0},{default:withCtx(()=>[renderSlot(ur.$slots,"default",{},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(ur.options,(dr,ec)=>(openBlock(),createBlock(resolveDynamicComponent(Oe.value),mergeProps({key:ec},{ref_for:!0},ie(dr)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc$1(_sfc_main$21,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup}),ElCheckboxButton=withNoopInstall(CheckboxButton),ElCheckboxGroup=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({modelValue:{type:[String,Number,Boolean],default:void 0},size:useSizeProp,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),radioProps=buildProps({...radioPropsBase,border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t)||isNumber(t)||isBoolean(t),[CHANGE_EVENT]:t=>isString$1(t)||isNumber(t)||isBoolean(t)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(t,e)=>{const n=ref(),r=inject(radioGroupKey,void 0),g=computed(()=>!!r),$=computed(()=>isPropAbsent(t.value)?t.label:t.value),y=computed({get(){return g.value?r.modelValue:t.modelValue},set(j){g.value?r.changeEvent(j):e&&e(UPDATE_MODEL_EVENT,j),n.value.checked=t.modelValue===$.value}}),k=useFormSize(computed(()=>r==null?void 0:r.size)),L=useFormDisabled(computed(()=>r==null?void 0:r.disabled)),V=ref(!1),z=computed(()=>L.value||g.value&&y.value!==$.value?-1:0);return useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>g.value&&isPropAbsent(t.value))),{radioRef:n,isGroup:g,radioGroup:r,focus:V,size:k,disabled:L,tabIndex:z,modelValue:y,actualValue:$}},_hoisted_1$15=["value","name","disabled","checked"],_sfc_main$20=defineComponent({name:"ElRadio",__name:"radio",props:radioProps,emits:radioEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("radio"),{radioRef:$,radioGroup:y,focus:k,size:L,disabled:V,modelValue:z,actualValue:j}=useRadio(n,r);function ie(){nextTick(()=>r(CHANGE_EVENT,z.value))}return(Oe,ur)=>{var hr;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(g).b(),unref(g).is("disabled",unref(V)),unref(g).is("focus",unref(k)),unref(g).is("bordered",Oe.border),unref(g).is("checked",unref(z)===unref(j)),unref(g).m(unref(L))])},[createBaseVNode("span",{class:normalizeClass([unref(g).e("input"),unref(g).is("disabled",unref(V)),unref(g).is("checked",unref(z)===unref(j))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:$,"onUpdate:modelValue":ur[0]||(ur[0]=Vr=>isRef(z)?z.value=Vr:null),class:normalizeClass(unref(g).e("original")),value:unref(j),name:Oe.name||((hr=unref(y))==null?void 0:hr.name),disabled:unref(V),checked:unref(z)===unref(j),type:"radio",onFocus:ur[1]||(ur[1]=Vr=>k.value=!0),onBlur:ur[2]||(ur[2]=Vr=>k.value=!1),onChange:ie,onClick:ur[3]||(ur[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$15),[[vModelRadio,unref(z)]]),createBaseVNode("span",{class:normalizeClass(unref(g).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(g).e("label")),onKeydown:ur[4]||(ur[4]=withModifiers(()=>{},["stop"]))},[renderSlot(Oe.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(Oe.label),1)])],34)],2)}}});var Radio=_export_sfc$1(_sfc_main$20,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase}),_hoisted_1$14=["value","name","disabled"],_sfc_main$1$=defineComponent({name:"ElRadioButton",__name:"radio-button",props:radioButtonProps,setup(t){const e=t,n=useNamespace("radio"),{radioRef:r,focus:g,size:$,disabled:y,modelValue:k,radioGroup:L,actualValue:V}=useRadio(e),z=computed(()=>({backgroundColor:(L==null?void 0:L.fill)||"",borderColor:(L==null?void 0:L.fill)||"",boxShadow:L!=null&&L.fill?`-1px 0 0 0 ${L.fill}`:"",color:(L==null?void 0:L.textColor)||""}));return(j,ie)=>{var Oe;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(n).b("button"),unref(n).is("active",unref(k)===unref(V)),unref(n).is("disabled",unref(y)),unref(n).is("focus",unref(g)),unref(n).bm("button",unref($))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":ie[0]||(ie[0]=ur=>isRef(k)?k.value=ur:null),class:normalizeClass(unref(n).be("button","original-radio")),value:unref(V),type:"radio",name:j.name||((Oe=unref(L))==null?void 0:Oe.name),disabled:unref(y),onFocus:ie[1]||(ie[1]=ur=>g.value=!0),onBlur:ie[2]||(ie[2]=ur=>g.value=!1),onClick:ie[3]||(ie[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$14),[[vModelRadio,unref(k)]]),createBaseVNode("span",{class:normalizeClass(unref(n).be("button","inner")),style:normalizeStyle(unref(k)===unref(V)?z.value:{}),onKeydown:ie[4]||(ie[4]=withModifiers(()=>{},["stop"]))},[renderSlot(j.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(j.label),1)])],38)],2)}}});var RadioButton=_export_sfc$1(_sfc_main$1$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:definePropType(Array)},props:{type:definePropType(Object),default:()=>radioDefaultProps},type:{type:String,values:["radio","button"],default:"radio"},...useAriaProps(["ariaLabel"])}),radioGroupEmits=radioEmits,radioDefaultProps={label:"label",value:"value",disabled:"disabled"},_hoisted_1$13=["id","aria-label","aria-labelledby"],_sfc_main$1_=defineComponent({name:"ElRadioGroup",__name:"radio-group",props:radioGroupProps,emits:radioGroupEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("radio"),$=useId(),y=ref(),{formItem:k}=useFormItem(),{inputId:L,isLabeledByFormItem:V}=useFormItemInputId(n,{formItemContext:k}),z=hr=>{r(UPDATE_MODEL_EVENT,hr),nextTick(()=>r(CHANGE_EVENT,hr))};onMounted(()=>{const hr=y.value.querySelectorAll("[type=radio]"),Vr=hr[0];!Array.from(hr).some(dr=>dr.checked)&&Vr&&(Vr.tabIndex=0)});const j=computed(()=>n.name||$.value),ie=computed(()=>({...radioDefaultProps,...n.props})),Oe=hr=>{const{label:Vr,value:dr,disabled:ec}=ie.value,tc={label:hr[Vr],value:hr[dr],disabled:hr[ec]};return{...omit(hr,[Vr,dr,ec]),...tc}},ur=computed(()=>n.type==="button"?RadioButton:Radio);return provide(radioGroupKey,reactive({...toRefs(n),changeEvent:z,name:j})),watch(()=>n.modelValue,(hr,Vr)=>{n.validateEvent&&!isEqual$1(hr,Vr)&&(k==null||k.validate("change").catch(dr=>void 0))}),(hr,Vr)=>(openBlock(),createElementBlock("div",{id:unref(L),ref_key:"radioGroupRef",ref:y,class:normalizeClass(unref(g).b("group")),role:"radiogroup","aria-label":unref(V)?void 0:hr.ariaLabel||"radio-group","aria-labelledby":unref(V)?unref(k).labelId:void 0},[renderSlot(hr.$slots,"default",{},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(hr.options,(dr,ec)=>(openBlock(),createBlock(resolveDynamicComponent(ur.value),mergeProps({key:ec},{ref_for:!0},Oe(dr)),null,16))),128))])],10,_hoisted_1$13))}});var RadioGroup=_export_sfc$1(_sfc_main$1_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),ElRadioButton=withNoopInstall(RadioButton),CASCADER_PANEL_INJECTION_KEY=Symbol();function isVNodeEmpty(t){return!!(isArray$1(t)?t.every(({type:e})=>e===Comment):(t==null?void 0:t.type)===Comment)}var NodeContent$1=defineComponent({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(t){const e=useNamespace("cascader-node"),{renderLabelFn:n}=inject(CASCADER_PANEL_INJECTION_KEY),{node:r}=t,{data:g,label:$}=r,y=()=>{const k=n==null?void 0:n({node:r,data:g});return isVNodeEmpty(k)?$:k??$};return()=>createVNode("span",{class:e.e("label")},[y()])}});const _hoisted_1$12=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],_sfc_main$1Z=defineComponent({name:"ElCascaderNode",__name:"node",props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=t,r=e,g=inject(CASCADER_PANEL_INJECTION_KEY),$=useNamespace("cascader-node"),y=computed(()=>g.isHoverMenu),k=computed(()=>g.config.multiple),L=computed(()=>g.config.checkStrictly),V=computed(()=>g.config.showPrefix),z=computed(()=>{var Xm;return(Xm=g.checkedNodes[0])==null?void 0:Xm.uid}),j=computed(()=>n.node.isDisabled),ie=computed(()=>n.node.isLeaf),Oe=computed(()=>L.value&&!ie.value||!j.value),ur=computed(()=>Vr(g.expandingNode)),hr=computed(()=>L.value&&g.checkedNodes.some(Vr)),Vr=Xm=>{var Km;const{level:tv,uid:nv}=n.node;return((Km=Xm==null?void 0:Xm.pathNodes[tv-1])==null?void 0:Km.uid)===nv},dr=()=>{ur.value||g.expandNode(n.node)},ec=Xm=>{const{node:Km}=n;Xm!==Km.checked&&g.handleCheckChange(Km,Xm)},tc=()=>{g.lazyLoad(n.node,()=>{ie.value||dr()})},Xs=Xm=>{y.value&&(rc(),!ie.value&&r("expand",Xm))},rc=()=>{const{node:Xm}=n;!Oe.value||Xm.loading||(Xm.loaded?dr():tc())},ic=()=>{ie.value&&!j.value&&!L.value&&!k.value?qm(!0):(g.config.checkOnClickNode&&(k.value||L.value)||ie.value&&g.config.checkOnClickLeaf)&&!j.value?_c(!n.node.checked):y.value||rc()},_c=Xm=>{L.value?(ec(Xm),n.node.loaded&&dr()):qm(Xm)},qm=Xm=>{n.node.loaded?(ec(Xm),!L.value&&dr()):tc()};return(Xm,Km)=>(openBlock(),createElementBlock("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!ie.value,"aria-owns":ie.value?void 0:t.menuId,"aria-expanded":ur.value,tabindex:Oe.value?-1:void 0,class:normalizeClass([unref($).b(),unref($).is("selectable",L.value),unref($).is("active",t.node.checked),unref($).is("disabled",!Oe.value),ur.value&&"in-active-path",hr.value&&"in-checked-path"]),onMouseenter:Xs,onFocus:Xs,onClick:ic},[createCommentVNode(" prefix "),k.value&&V.value?(openBlock(),createBlock(unref(ElCheckbox),{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:j.value,onClick:Km[0]||(Km[0]=withModifiers(()=>{},["stop"])),"onUpdate:modelValue":_c},null,8,["model-value","indeterminate","disabled"])):L.value&&V.value?(openBlock(),createBlock(unref(ElRadio),{key:1,"model-value":z.value,label:t.node.uid,disabled:j.value,"onUpdate:modelValue":_c,onClick:Km[1]||(Km[1]=withModifiers(()=>{},["stop"]))},{default:withCtx(()=>[createCommentVNode(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Km[2]||(Km[2]=createBaseVNode("span",null,null,-1))]),_:1},8,["model-value","label","disabled"])):ie.value&&t.node.checked?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref($).e("prefix"))},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createCommentVNode(" content "),createVNode(unref(NodeContent$1),{node:t.node},null,8,["node"]),createCommentVNode(" postfix "),ie.value?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:3},[t.node.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref($).is("loading"),unref($).e("postfix")])},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(["arrow-right",unref($).e("postfix")])},{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1},8,["class"]))],64))],42,_hoisted_1$12))}});var ElCascaderNode=_export_sfc$1(_sfc_main$1Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const _sfc_main$1Y=defineComponent({name:"ElCascaderMenu",__name:"menu",props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=t,n=getCurrentInstance(),r=useNamespace("cascader-menu"),{t:g}=useLocale(),$=useId();let y,k;const L=inject(CASCADER_PANEL_INJECTION_KEY),V=ref(),z=computed(()=>!e.nodes.length),j=computed(()=>!L.initialLoaded),ie=computed(()=>`${$.value}-${e.index}`),Oe=dr=>{y=dr.target},ur=dr=>{var ec;if(!(!L.isHoverMenu||!y||!V.value))if(y.contains(dr.target)){hr();const tc=n.vnode.el,{left:Xs}=tc.getBoundingClientRect(),{offsetWidth:rc,offsetHeight:ic}=tc,_c=dr.clientX-Xs,qm=y.offsetTop,Xm=qm+y.offsetHeight,Km=((ec=tc.querySelector(`.${r.e("wrap")}`))==null?void 0:ec.scrollTop)||0;V.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${_c} ${qm} L${rc} ${Km} V${qm} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${_c} ${Xm} L${rc} ${ic+Km} V${Xm} Z" />
        `}else k||(k=window.setTimeout(Vr,L.config.hoverThreshold))},hr=()=>{k&&(clearTimeout(k),k=void 0)},Vr=()=>{V.value&&(V.value.innerHTML="",hr())};return(dr,ec)=>(openBlock(),createBlock(unref(ElScrollbar),{key:ie.value,tag:"ul",role:"menu",class:normalizeClass(unref(r).b()),"wrap-class":unref(r).e("wrap"),"view-class":[unref(r).e("list"),unref(r).is("empty",z.value)],onMousemove:ur,onMouseleave:Vr},{default:withCtx(()=>{var tc;return[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.nodes,Xs=>(openBlock(),createBlock(ElCascaderNode,{key:Xs.uid,node:Xs,"menu-id":ie.value,onExpand:Oe},null,8,["node","menu-id"]))),128)),j.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("empty-text"))},[createVNode(unref(ElIcon),{size:"14",class:normalizeClass(unref(r).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"]),createTextVNode(" "+toDisplayString$1(unref(g)("el.cascader.loading")),1)],2)):z.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("empty-text"))},[renderSlot(dr.$slots,"empty",{},()=>[createTextVNode(toDisplayString$1(unref(g)("el.cascader.noData")),1)])],2)):(tc=unref(L))!=null&&tc.isHoverMenu?(openBlock(),createElementBlock(Fragment,{key:2},[createCommentVNode(" eslint-disable-next-line vue/html-self-closing "),(openBlock(),createElementBlock("svg",{ref_key:"hoverZone",ref:V,class:normalizeClass(unref(r).e("hover-zone"))},null,2))],2112)):createCommentVNode("v-if",!0)]}),_:3},8,["class","wrap-class","view-class"]))}});var ElCascaderMenu=_export_sfc$1(_sfc_main$1Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let uid=0;const calculatePathNodes=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let Node$2=class iw{constructor(e,n,r,g=!1){this.data=e,this.config=n,this.parent=r,this.root=g,this.uid=uid++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:$,label:y,children:k}=n,L=e[k],V=calculatePathNodes(this);this.level=g?0:r?r.level+1:1,this.value=e[$],this.label=e[y],this.pathNodes=V,this.pathValues=V.map(z=>z.value),this.pathLabels=V.map(z=>z.label),this.childrenData=L,this.children=(L||[]).map(z=>new iw(z,n,this)),this.loaded=!n.lazy||this.isLeaf||!isEmpty(L),this.text=""}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:g,checkStrictly:$}=r;return(isFunction$1(g)?g(e,this):!!e[g])||!$&&!!(n!=null&&n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:g}=this,{lazy:$,leaf:y}=n,k=isFunction$1(y)?y(e,this):e[y];return isUndefined(k)?$&&!g?!1:!(isArray$1(r)&&r.length):!!k}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,g=new iw(e,this.config,this);return isArray$1(n)?n.push(e):this.childrenData=[e],r.push(g),g}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e){this.children.forEach(n=>{var r;n&&(n.broadcast(e),(r=n.onParentCheck)==null||r.call(n,e))})}emit(){var e;const{parent:n}=this;n&&((e=n.onChildCheck)==null||e.call(n),n.emit())}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(g=>!g.isDisabled),r=n.length?n.every(g=>g.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((g,$)=>{const y=$.checked?1:$.indeterminate?.5:0;return g+y},0);this.checked=this.loaded&&this.children.filter(g=>!g.isDisabled).every(g=>g.loaded&&g.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast(e),this.setCheckState(e),this.emit())}};const flatNodes=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(flatNodes(r.children,e))),n),[]);class Store{constructor(e,n){this.config=n;const r=(e||[]).map(g=>new Node$2(g,this.config));this.nodes=r,this.allNodes=flatNodes(r,!1),this.leafNodes=flatNodes(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new Node$2(e,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(e,n){e.length>0?e.forEach(r=>this.appendNode(r,n)):n&&n.isLeaf&&this.leafNodes.push(n)}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(e,n=!1){return isPropAbsent(e)?null:this.getFlattedNodes(n).find(g=>isEqual$1(g.value,e)||isEqual$1(g.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:g})=>isEqual$1(e.value,r)&&e.level===g)||null}}const CommonProps=buildProps({modelValue:{type:definePropType([Number,String,Array,Object])},options:{type:definePropType(Array),default:()=>[]},props:{type:definePropType(Object),default:()=>({})}}),DefaultProps={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:NOOP,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},cascaderPanelProps=buildProps({...CommonProps,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),emitChangeFn$2=t=>!0,cascaderPanelEmits={[UPDATE_MODEL_EVENT]:emitChangeFn$2,[CHANGE_EVENT]:emitChangeFn$2,close:()=>!0,"expand-change":t=>t},useCascaderConfig=t=>computed(()=>({...DefaultProps,...t.props})),getMenuIndex=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},checkNode=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():isLeaf(t)&&t.click()},sortByOriginalOrder=(t,e)=>{const n=e.slice(0),r=n.map($=>$.uid),g=t.reduce(($,y)=>{const k=r.indexOf(y.uid);return k>-1&&($.push(y),n.splice(k,1),r.splice(k,1)),$},[]);return g.push(...n),g},_sfc_main$1X=defineComponent({name:"ElCascaderPanel",__name:"index",props:cascaderPanelProps,emits:cascaderPanelEmits,setup(t,{expose:e,emit:n}){const r=t,g=n;let $=!1;const y=useNamespace("cascader"),k=useCascaderConfig(r),L=useSlots();let V;const z=ref(!0),j=ref(!1),ie=ref([]),Oe=ref(),ur=ref([]),hr=ref(),Vr=ref([]),dr=computed(()=>k.value.expandTrigger==="hover"),ec=computed(()=>r.renderLabel||L.default),tc=()=>{const{options:rv}=r,Jm=k.value;$=!1,V=new Store(rv,Jm),ur.value=[V.getNodes()],Jm.lazy&&isEmpty(r.options)?(z.value=!1,Xs(void 0,dv=>{dv&&(V=new Store(dv,Jm),ur.value=[V.getNodes()]),z.value=!0,nv(!1,!0)})):nv(!1,!0)},Xs=(rv,Jm)=>{const dv=k.value;rv=rv||new Node$2({},dv,void 0,!0),rv.loading=!0;const pv=Cv=>{const uv=rv,yv=uv.root?null:uv;uv.loading=!1,uv.loaded=!0,uv.childrenData=uv.childrenData||[],Cv&&(V==null||V.appendNodes(Cv,yv)),Cv&&(Jm==null||Jm(Cv)),rv.level===0&&(j.value=!0)},mv=()=>{rv.loading=!1,rv.loaded=!1,rv.level===0&&(z.value=!0)};dv.lazyLoad(rv,pv,mv)},rc=(rv,Jm)=>{var dv;const{level:pv}=rv,mv=ur.value.slice(0,pv);let Cv;rv.isLeaf?Cv=rv.pathNodes[pv-2]:(Cv=rv,mv.push(rv.children)),((dv=hr.value)==null?void 0:dv.uid)!==(Cv==null?void 0:Cv.uid)&&(hr.value=rv,ur.value=mv,!Jm&&g("expand-change",(rv==null?void 0:rv.pathValues)||[]))},ic=(rv,Jm,dv=!0)=>{const{checkStrictly:pv,multiple:mv}=k.value,Cv=Vr.value[0];$=!0,!mv&&(Cv==null||Cv.doCheck(!1)),rv.doCheck(Jm),tv(),dv&&!mv&&!pv&&g("close"),!dv&&!mv&&_c(rv)},_c=rv=>{rv&&(rv=rv.parent,_c(rv),rv&&rc(rv))},qm=rv=>V==null?void 0:V.getFlattedNodes(rv),Xm=rv=>{var Jm;return(Jm=qm(rv))==null?void 0:Jm.filter(({checked:dv})=>dv!==!1)},Km=()=>{Vr.value.forEach(rv=>rv.doCheck(!1)),tv(),ur.value=ur.value.slice(0,1),hr.value=void 0,g("expand-change",[])},tv=()=>{var rv;const{checkStrictly:Jm,multiple:dv}=k.value,pv=Vr.value,mv=Xm(!Jm),Cv=sortByOriginalOrder(pv,mv),uv=Cv.map(yv=>yv.valueByOption);Vr.value=Cv,Oe.value=dv?uv:(rv=uv[0])!=null?rv:null},nv=(rv=!1,Jm=!1)=>{const{modelValue:dv}=r,{lazy:pv,multiple:mv,checkStrictly:Cv}=k.value,uv=!Cv;if(!(!z.value||$||!Jm&&isEqual$1(dv,Oe.value)))if(pv&&!rv){const $v=unique(flattenDeep(castArray(dv))).map(Dv=>V==null?void 0:V.getNodeByValue(Dv)).filter(Dv=>!!Dv&&!Dv.loaded&&!Dv.loading);$v.length?$v.forEach(Dv=>{Xs(Dv,()=>nv(!1,Jm))}):nv(!0,Jm)}else{const yv=mv?castArray(dv):[dv],$v=unique(yv.map(Dv=>V==null?void 0:V.getNodeByValue(Dv,uv)));sv($v,Jm),Oe.value=cloneDeep(dv??void 0)}},sv=(rv,Jm=!0)=>{const{checkStrictly:dv}=k.value,pv=Vr.value,mv=rv.filter(yv=>!!yv&&(dv||yv.isLeaf)),Cv=V==null?void 0:V.getSameNode(hr.value),uv=Jm&&Cv||mv[0];uv?uv.pathNodes.forEach(yv=>rc(yv,!0)):hr.value=void 0,pv.forEach(yv=>yv.doCheck(!1)),reactive(mv).forEach(yv=>yv.doCheck(!0)),Vr.value=mv,nextTick(gv)},gv=()=>{isClient&&ie.value.forEach(rv=>{const Jm=rv==null?void 0:rv.$el;if(Jm){const dv=Jm.querySelector(`.${y.namespace.value}-scrollbar__wrap`),pv=Jm.querySelector(`.${y.b("node")}.${y.is("active")}:last-child`)||Jm.querySelector(`.${y.b("node")}.in-active-path`);scrollIntoView(dv,pv)}})},Sv=rv=>{const Jm=rv.target,dv=getEventCode(rv);switch(dv){case EVENT_CODE.up:case EVENT_CODE.down:{rv.preventDefault();const pv=dv===EVENT_CODE.up?-1:1;focusNode(getSibling(Jm,pv,`.${y.b("node")}[tabindex="-1"]`));break}case EVENT_CODE.left:{rv.preventDefault();const pv=ie.value[getMenuIndex(Jm)-1],mv=pv==null?void 0:pv.$el.querySelector(`.${y.b("node")}[aria-expanded="true"]`);focusNode(mv);break}case EVENT_CODE.right:{rv.preventDefault();const pv=ie.value[getMenuIndex(Jm)+1],mv=pv==null?void 0:pv.$el.querySelector(`.${y.b("node")}[tabindex="-1"]`);focusNode(mv);break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:checkNode(Jm);break}};provide(CASCADER_PANEL_INJECTION_KEY,reactive({config:k,expandingNode:hr,checkedNodes:Vr,isHoverMenu:dr,initialLoaded:z,renderLabelFn:ec,lazyLoad:Xs,expandNode:rc,handleCheckChange:ic})),watch(k,(rv,Jm)=>{isEqual$1(rv,Jm)||tc()},{immediate:!0}),watch(()=>r.options,tc,{deep:!0}),watch(()=>r.modelValue,()=>{$=!1,nv()},{deep:!0}),watch(()=>Oe.value,rv=>{isEqual$1(rv,r.modelValue)||(g(UPDATE_MODEL_EVENT,rv),g(CHANGE_EVENT,rv))});const wv=()=>{j.value||tc()};return onBeforeUpdate(()=>ie.value=[]),onMounted(()=>!isEmpty(r.modelValue)&&nv()),e({menuList:ie,menus:ur,checkedNodes:Vr,handleKeyDown:Sv,handleCheckChange:ic,getFlattedNodes:qm,getCheckedNodes:Xm,clearCheckedNodes:Km,calculateCheckedValue:tv,scrollToExpandingNode:gv,loadLazyRootNodes:wv}),(rv,Jm)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b("panel"),unref(y).is("bordered",rv.border)]),onKeydown:Sv},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ur.value,(dv,pv)=>(openBlock(),createBlock(ElCascaderMenu,{key:pv,ref_for:!0,ref:mv=>ie.value[pv]=mv,index:pv,nodes:[...dv]},{empty:withCtx(()=>[renderSlot(rv.$slots,"empty")]),_:3},8,["index","nodes"]))),128))],34))}});var CascaderPanel=_export_sfc$1(_sfc_main$1X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);const ElCascaderPanel=withInstall(CascaderPanel),tagProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:componentSizes},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},_hoisted_1$11=["aria-label"],_hoisted_2$C=["aria-label"],_sfc_main$1W=defineComponent({name:"ElTag",__name:"tag",props:tagProps,emits:tagEmits,setup(t,{emit:e}){const n=t,r=e,g=useFormSize(),{t:$}=useLocale(),y=useNamespace("tag"),k=computed(()=>{const{type:j,hit:ie,effect:Oe,closable:ur,round:hr}=n;return[y.b(),y.is("closable",ur),y.m(j||"primary"),y.m(g.value),y.m(Oe),y.is("hit",ie),y.is("round",hr)]}),L=j=>{r("close",j)},V=j=>{r("click",j)},z=j=>{var ie,Oe,ur;(ur=(Oe=(ie=j==null?void 0:j.component)==null?void 0:ie.subTree)==null?void 0:Oe.component)!=null&&ur.bum&&(j.component.subTree.component.bum=null)};return(j,ie)=>j.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(k.value),style:normalizeStyle({backgroundColor:j.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(j.$slots,"default")],2),j.closable?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref($)("el.tag.close"),class:normalizeClass(unref(y).e("close")),type:"button",onClick:withModifiers(L,["stop"])},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],10,_hoisted_1$11)):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(y).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:z},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(k.value),style:normalizeStyle({backgroundColor:j.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(j.$slots,"default")],2),j.closable?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref($)("el.tag.close"),class:normalizeClass(unref(y).e("close")),type:"button",onClick:withModifiers(L,["stop"])},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],10,_hoisted_2$C)):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc$1(_sfc_main$1W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ElTag=withInstall(Tag),cascaderProps=buildProps({...CommonProps,size:useSizeProp,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:iconPropType,default:circle_close_default},filterable:Boolean,filterMethod:{type:definePropType(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:definePropType(Function),default:()=>!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:useTooltipContentProps.popperClass,popperStyle:useTooltipContentProps.popperStyle,teleported:useTooltipContentProps.teleported,effect:{type:definePropType(String),default:"light"},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...useEmptyValuesProps}),emitChangeFn$1=t=>!0,cascaderEmits={[UPDATE_MODEL_EVENT]:emitChangeFn$1,[CHANGE_EVENT]:emitChangeFn$1,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>isBoolean(t),expandChange:t=>!!t,removeTag:t=>!!t},nodeList=new Map;if(isClient){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of nodeList.values())for(const{documentHandler:r}of n)r(e,t);t=void 0}})}function createDocumentHandler(t,e){let n=[];return isArray$1(e.arg)?n=e.arg:isElement$1(e.arg)&&n.push(e.arg),function(r,g){const $=e.instance.popperRef,y=r.target,k=g==null?void 0:g.target,L=!e||!e.instance,V=!y||!k,z=t.contains(y)||t.contains(k),j=t===y,ie=n.length&&n.some(ur=>ur==null?void 0:ur.contains(y))||n.length&&n.includes(k),Oe=$&&($.contains(y)||$.contains(k));L||V||z||j||ie||Oe||e.value(r,g)}}const ClickOutside={beforeMount(t,e){nodeList.has(t)||nodeList.set(t,[]),nodeList.get(t).push({documentHandler:createDocumentHandler(t,e),bindingFn:e.value})},updated(t,e){nodeList.has(t)||nodeList.set(t,[]);const n=nodeList.get(t),r=n.findIndex($=>$.bindingFn===e.oldValue),g={documentHandler:createDocumentHandler(t,e),bindingFn:e.value};r>=0?n.splice(r,1,g):n.push(g)},unmounted(t){nodeList.delete(t)}},_hoisted_1$10=["placeholder"],_hoisted_2$B=["onClick"],_sfc_main$1V=defineComponent({name:"ElCascader",__name:"cascader",props:cascaderProps,emits:cascaderEmits,setup(t,{expose:e,emit:n}){const r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:Ov})=>{const{modifiersData:Kv,placement:E0}=Ov;["right","left","bottom","top"].includes(E0)||Kv.arrow&&(Kv.arrow.x=35)},requires:["arrow"]}]},g=t,$=n,y=useAttrs$1();let k=0,L=0;const V=useNamespace("cascader"),z=useNamespace("input"),{t:j}=useLocale(),{formItem:ie}=useFormItem(),Oe=useFormDisabled(),{valueOnClear:ur}=useEmptyValues(g),{isComposing:hr,handleComposition:Vr}=useComposition({afterComposition(Ov){var Kv;const E0=(Kv=Ov.target)==null?void 0:Kv.value;_0(E0)}}),dr=ref(),ec=ref(),tc=ref(),Xs=ref(),rc=ref(),ic=ref(),_c=ref(!1),qm=ref(!1),Xm=ref(!1),Km=ref(""),tv=ref(""),nv=ref([]),sv=ref([]),gv=computed(()=>g.props.multiple?g.collapseTags?nv.value.slice(0,g.maxCollapseTags):nv.value:[]),Sv=computed(()=>g.props.multiple?g.collapseTags?nv.value.slice(g.maxCollapseTags):[]:[]),wv=computed(()=>y.style),rv=computed(()=>{var Ov;return(Ov=g.placeholder)!=null?Ov:j("el.cascader.placeholder")}),Jm=computed(()=>tv.value||nv.value.length>0||hr.value?"":rv.value),dv=useFormSize(),pv=computed(()=>dv.value==="small"?"small":"default"),mv=computed(()=>!!g.props.multiple),Cv=computed(()=>!g.filterable||mv.value),uv=computed(()=>mv.value?tv.value:Km.value),yv=computed(()=>{var Ov;return((Ov=rc.value)==null?void 0:Ov.checkedNodes)||[]}),{wrapperRef:$v,isFocused:Dv,handleBlur:Hv}=useFocusController(tc,{disabled:Oe,beforeBlur(Ov){var Kv,E0;return((Kv=dr.value)==null?void 0:Kv.isFocusInsideContent(Ov))||((E0=ec.value)==null?void 0:E0.isFocusInsideContent(Ov))},afterBlur(){var Ov;g.validateEvent&&((Ov=ie==null?void 0:ie.validate)==null||Ov.call(ie,"blur").catch(Kv=>void 0))}}),Gv=computed(()=>!g.clearable||Oe.value||Xm.value||!qm.value&&!Dv.value?!1:!!yv.value.length),f0=computed(()=>{const{showAllLevels:Ov,separator:Kv}=g,E0=yv.value;return E0.length?mv.value?"":E0[0].calcText(Ov,Kv):""}),qv=computed(()=>(ie==null?void 0:ie.validateState)||""),Pv=computed({get(){return cloneDeep(g.modelValue)},set(Ov){const Kv=Ov??ur.value;$(UPDATE_MODEL_EVENT,Kv),$(CHANGE_EVENT,Kv),g.validateEvent&&(ie==null||ie.validate("change").catch(E0=>void 0))}}),Tv=computed(()=>[V.b(),V.m(dv.value),V.is("disabled",Oe.value),y.class]),Vv=computed(()=>[z.e("icon"),"icon-arrow-down",V.is("reverse",_c.value)]),Av=computed(()=>V.is("focus",Dv.value)),y0=computed(()=>{var Ov,Kv;return(Kv=(Ov=dr.value)==null?void 0:Ov.popperRef)==null?void 0:Kv.contentRef}),av=Ov=>{if(Dv.value){const Kv=new FocusEvent("blur",Ov);Hv(Kv)}fv(!1)},fv=Ov=>{var Kv,E0;Oe.value||(Ov=Ov??!_c.value,Ov!==_c.value&&(_c.value=Ov,(E0=(Kv=tc.value)==null?void 0:Kv.input)==null||E0.setAttribute("aria-expanded",`${Ov}`),Ov?(lv(),rc.value&&nextTick(rc.value.scrollToExpandingNode)):g.filterable&&I0(),$("visibleChange",Ov)))},lv=()=>{nextTick(()=>{var Ov;(Ov=dr.value)==null||Ov.updatePopper()})},kv=()=>{Xm.value=!1},Iv=Ov=>{const{showAllLevels:Kv,separator:E0}=g;return{node:Ov,key:Ov.uid,text:Ov.calcText(Kv,E0),hitState:!1,closable:!Oe.value&&!Ov.isDisabled}},vv=Ov=>{var Kv;const E0=Ov.node;E0.doCheck(!1),(Kv=rc.value)==null||Kv.calculateCheckedValue(),$("removeTag",E0.valueByOption)},Ev=()=>{switch(g.showCheckedStrategy){case"child":return yv.value;case"parent":{const Ov=Qv(!1),Kv=Ov.map(X0=>X0.value);return Ov.filter(X0=>!X0.parent||!Kv.includes(X0.parent.value))}default:return[]}},zv=()=>{if(!mv.value)return;const Ov=Ev(),Kv=[];Ov.forEach(E0=>Kv.push(Iv(E0))),nv.value=Kv},Fv=()=>{var Ov,Kv;const{filterMethod:E0,showAllLevels:X0,separator:l1}=g,x1=(Kv=(Ov=rc.value)==null?void 0:Ov.getFlattedNodes(!g.props.checkStrictly))==null?void 0:Kv.filter(K0=>K0.isDisabled?!1:(K0.calcText(X0,l1),E0(K0,uv.value)));mv.value&&nv.value.forEach(K0=>{K0.hitState=!1}),Xm.value=!0,sv.value=x1,lv()},Yv=()=>{var Ov;let Kv;Xm.value&&ic.value?Kv=ic.value.$el.querySelector(`.${V.e("suggestion-item")}`):Kv=(Ov=rc.value)==null?void 0:Ov.$el.querySelector(`.${V.b("node")}[tabindex="-1"]`),Kv&&(Kv.focus(),!Xm.value&&Kv.click())},g0=()=>{var Ov,Kv;const E0=(Ov=tc.value)==null?void 0:Ov.input,X0=Xs.value,l1=(Kv=ic.value)==null?void 0:Kv.$el;if(!(!isClient||!E0)){if(l1){const x1=l1.querySelector(`.${V.e("suggestion-list")}`);x1.style.minWidth=`${E0.offsetWidth}px`}if(X0){const{offsetHeight:x1}=X0,K0=nv.value.length>0?`${Math.max(x1,k)-2}px`:`${k}px`;E0.style.height=K0,lv()}}},Qv=Ov=>{var Kv;return(Kv=rc.value)==null?void 0:Kv.getCheckedNodes(Ov)},N0=Ov=>{lv(),$("expandChange",Ov)},B0=Ov=>{if(hr.value)return;switch(getEventCode(Ov)){case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:fv();break;case EVENT_CODE.down:fv(!0),nextTick(Yv),Ov.preventDefault();break;case EVENT_CODE.esc:_c.value===!0&&(Ov.preventDefault(),Ov.stopPropagation(),fv(!1));break;case EVENT_CODE.tab:fv(!1);break}},a1=()=>{var Ov;(Ov=rc.value)==null||Ov.clearCheckedNodes(),!_c.value&&g.filterable&&I0(),fv(!1),$("clear")},I0=()=>{const{value:Ov}=f0;Km.value=Ov,tv.value=Ov},M0=Ov=>{var Kv,E0;const{checked:X0}=Ov;mv.value?(Kv=rc.value)==null||Kv.handleCheckChange(Ov,!X0,!1):(!X0&&((E0=rc.value)==null||E0.handleCheckChange(Ov,!0,!1)),fv(!1))},D0=Ov=>{const Kv=Ov.target,E0=getEventCode(Ov);switch(E0){case EVENT_CODE.up:case EVENT_CODE.down:{Ov.preventDefault();const X0=E0===EVENT_CODE.up?-1:1;focusNode(getSibling(Kv,X0,`.${V.e("suggestion-item")}[tabindex="-1"]`));break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:Kv.click();break}},W0=()=>{const Ov=nv.value[nv.value.length-1];L=tv.value?0:L+1,!(!Ov||!L||g.collapseTags&&nv.value.length>1)&&(Ov.hitState?vv(Ov):Ov.hitState=!0)},Zv=computed(()=>g.debounce),z0=useDebounceFn(()=>{const{value:Ov}=uv;if(!Ov)return;const Kv=g.beforeFilter(Ov);isPromise$1(Kv)?Kv.then(Fv).catch(()=>{}):Kv!==!1?Fv():kv()},Zv),_0=(Ov,Kv)=>{!_c.value&&fv(!0),!(Kv!=null&&Kv.isComposing)&&(Ov?z0():kv())},q0=Ov=>Number.parseFloat(useCssVar(z.cssVarName("input-height"),Ov).value)-2,Rv=()=>{var Ov;(Ov=tc.value)==null||Ov.focus()},k0=()=>{var Ov;(Ov=tc.value)==null||Ov.blur()};return watch(Xm,lv),watch([yv,Oe,()=>g.collapseTags,()=>g.maxCollapseTags],zv),watch(nv,()=>{nextTick(()=>g0())}),watch(dv,async()=>{await nextTick();const Ov=tc.value.input;k=q0(Ov)||k,g0()}),watch(f0,I0,{immediate:!0}),watch(()=>_c.value,Ov=>{var Kv;Ov&&g.props.lazy&&g.props.lazyLoad&&((Kv=rc.value)==null||Kv.loadLazyRootNodes())}),onMounted(()=>{const Ov=tc.value.input,Kv=q0(Ov);k=Ov.offsetHeight||Kv,useResizeObserver(Ov,g0)}),e({getCheckedNodes:Qv,cascaderPanelRef:rc,togglePopperVisible:fv,contentRef:y0,presentText:f0,focus:Rv,blur:k0}),(Ov,Kv)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"tooltipRef",ref:dr,visible:_c.value,teleported:Ov.teleported,"popper-class":[unref(V).e("dropdown"),Ov.popperClass],"popper-style":Ov.popperStyle,"popper-options":r,"fallback-placements":Ov.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:Ov.placement,transition:`${unref(V).namespace.value}-zoom-in-top`,effect:Ov.effect,pure:"",persistent:Ov.persistent,onHide:kv},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:$v,class:normalizeClass(Tv.value),style:normalizeStyle(wv.value),onClick:Kv[8]||(Kv[8]=()=>fv(Cv.value?void 0:!0)),onKeydown:B0,onMouseenter:Kv[9]||(Kv[9]=E0=>qm.value=!0),onMouseleave:Kv[10]||(Kv[10]=E0=>qm.value=!1)},[createVNode(unref(ElInput),{ref_key:"inputRef",ref:tc,modelValue:Km.value,"onUpdate:modelValue":Kv[1]||(Kv[1]=E0=>Km.value=E0),placeholder:Jm.value,readonly:Cv.value,disabled:unref(Oe),"validate-event":!1,size:unref(dv),class:normalizeClass(Av.value),tabindex:mv.value&&Ov.filterable&&!unref(Oe)?-1:void 0,onCompositionstart:unref(Vr),onCompositionupdate:unref(Vr),onCompositionend:unref(Vr),onInput:_0},createSlots({suffix:withCtx(()=>[Gv.value?(openBlock(),createBlock(unref(ElIcon),{key:"clear",class:normalizeClass([unref(z).e("icon"),"icon-circle-close"]),onClick:withModifiers(a1,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ov.clearIcon)))]),_:1},8,["class"])):(openBlock(),createBlock(unref(ElIcon),{key:"arrow-down",class:normalizeClass(Vv.value),onClick:Kv[0]||(Kv[0]=withModifiers(E0=>fv(),["stop"]))},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]))]),_:2},[Ov.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(Ov.$slots,"prefix")]),key:"0"}:void 0]),1032,["modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),mv.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"tagWrapper",ref:Xs,class:normalizeClass([unref(V).e("tags"),unref(V).is("validate",!!qv.value)])},[renderSlot(Ov.$slots,"tag",{data:nv.value,deleteTag:vv},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(gv.value,E0=>(openBlock(),createBlock(unref(ElTag),{key:E0.key,type:Ov.tagType,size:pv.value,effect:Ov.tagEffect,hit:E0.hitState,closable:E0.closable,"disable-transitions":"",onClose:X0=>vv(E0)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(E0.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),Ov.collapseTags&&nv.value.length>Ov.maxCollapseTags?(openBlock(),createBlock(unref(ElTooltip),{key:0,ref_key:"tagTooltipRef",ref:ec,disabled:_c.value||!Ov.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":Ov.popperClass,"popper-style":Ov.popperStyle,effect:Ov.effect,persistent:Ov.persistent},{default:withCtx(()=>[createVNode(unref(ElTag),{closable:!1,size:pv.value,type:Ov.tagType,effect:Ov.tagEffect,"disable-transitions":""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(V).e("tags-text"))}," + "+toDisplayString$1(nv.value.length-Ov.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:withCtx(()=>[createVNode(unref(ElScrollbar),{"max-height":Ov.maxCollapseTagsTooltipHeight},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(V).e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sv.value,(E0,X0)=>(openBlock(),createElementBlock("div",{key:X0,class:normalizeClass(unref(V).e("collapse-tag"))},[(openBlock(),createBlock(unref(ElTag),{key:E0.key,class:"in-tooltip",type:Ov.tagType,size:pv.value,effect:Ov.tagEffect,hit:E0.hitState,closable:E0.closable,"disable-transitions":"",onClose:l1=>vv(E0)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(E0.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):createCommentVNode("v-if",!0),Ov.filterable&&!unref(Oe)?withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":Kv[2]||(Kv[2]=E0=>tv.value=E0),type:"text",class:normalizeClass(unref(V).e("search-input")),placeholder:f0.value?"":rv.value,onInput:Kv[3]||(Kv[3]=E0=>_0(tv.value,E0)),onClick:Kv[4]||(Kv[4]=withModifiers(E0=>fv(!0),["stop"])),onKeydown:withKeys(W0,["delete"]),onCompositionstart:Kv[5]||(Kv[5]=(...E0)=>unref(Vr)&&unref(Vr)(...E0)),onCompositionupdate:Kv[6]||(Kv[6]=(...E0)=>unref(Vr)&&unref(Vr)(...E0)),onCompositionend:Kv[7]||(Kv[7]=(...E0)=>unref(Vr)&&unref(Vr)(...E0))},null,42,_hoisted_1$10)),[[vModelText,tv.value]]):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],38)),[[unref(ClickOutside),av,y0.value]])]),content:withCtx(()=>[Ov.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(V).e("header")),onClick:Kv[11]||(Kv[11]=withModifiers(()=>{},["stop"]))},[renderSlot(Ov.$slots,"header")],2)):createCommentVNode("v-if",!0),withDirectives(createVNode(unref(ElCascaderPanel),{ref_key:"cascaderPanelRef",ref:rc,modelValue:Pv.value,"onUpdate:modelValue":Kv[12]||(Kv[12]=E0=>Pv.value=E0),options:Ov.options,props:g.props,border:!1,"render-label":Ov.$slots.default,onExpandChange:N0,onClose:Kv[13]||(Kv[13]=E0=>Ov.$nextTick(()=>fv(!1)))},{empty:withCtx(()=>[renderSlot(Ov.$slots,"empty")]),_:3},8,["modelValue","options","props","render-label"]),[[vShow,!Xm.value]]),Ov.filterable?withDirectives((openBlock(),createBlock(unref(ElScrollbar),{key:1,ref_key:"suggestionPanel",ref:ic,tag:"ul",class:normalizeClass(unref(V).e("suggestion-panel")),"view-class":unref(V).e("suggestion-list"),onKeydown:D0},{default:withCtx(()=>[sv.value.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(sv.value,E0=>(openBlock(),createElementBlock("li",{key:E0.uid,class:normalizeClass([unref(V).e("suggestion-item"),unref(V).is("checked",E0.checked)]),tabindex:-1,onClick:X0=>M0(E0)},[renderSlot(Ov.$slots,"suggestion-item",{item:E0},()=>[createBaseVNode("span",null,toDisplayString$1(E0.text),1),E0.checked?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1})):createCommentVNode("v-if",!0)])],10,_hoisted_2$B))),128)):renderSlot(Ov.$slots,"empty",{key:1},()=>[createBaseVNode("li",{class:normalizeClass(unref(V).e("empty-text"))},toDisplayString$1(unref(j)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[vShow,Xm.value]]):createCommentVNode("v-if",!0),Ov.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(V).e("footer")),onClick:Kv[14]||(Kv[14]=withModifiers(()=>{},["stop"]))},[renderSlot(Ov.$slots,"footer")],2)):createCommentVNode("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}});var Cascader=_export_sfc$1(_sfc_main$1V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);const ElCascader=withInstall(Cascader),checkTagProps=buildProps({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),checkTagEmits={"update:checked":t=>isBoolean(t),[CHANGE_EVENT]:t=>isBoolean(t)},_sfc_main$1U=defineComponent({name:"ElCheckTag",__name:"check-tag",props:checkTagProps,emits:checkTagEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("check-tag"),$=computed(()=>[g.b(),g.is("checked",n.checked),g.is("disabled",n.disabled),g.m(n.type||"primary")]),y=()=>{if(n.disabled)return;const k=!n.checked;r(CHANGE_EVENT,k),r("update:checked",k)};return(k,L)=>(openBlock(),createElementBlock("span",{class:normalizeClass($.value),onClick:y},[renderSlot(k.$slots,"default")],2))}});var CheckTag=_export_sfc$1(_sfc_main$1U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const ElCheckTag=withInstall(CheckTag),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),rowContextKey=Symbol("rowContextKey"),_sfc_main$1T=defineComponent({name:"ElCol",__name:"col",props:colProps,setup(t){const e=t,{gutter:n}=inject(rowContextKey,{gutter:computed(()=>0)}),r=useNamespace("col"),g=computed(()=>{const y={};return n.value&&(y.paddingLeft=y.paddingRight=`${n.value/2}px`),y}),$=computed(()=>{const y=[];return["span","offset","pull","push"].forEach(V=>{const z=e[V];isNumber(z)&&(V==="span"?y.push(r.b(`${e[V]}`)):z>0&&y.push(r.b(`${V}-${e[V]}`)))}),["xs","sm","md","lg","xl"].forEach(V=>{isNumber(e[V])?y.push(r.b(`${V}-${e[V]}`)):isObject$2(e[V])&&Object.entries(e[V]).forEach(([z,j])=>{y.push(z!=="span"?r.b(`${V}-${z}-${j}`):r.b(`${V}-${j}`))})}),n.value&&y.push(r.is("guttered")),[r.b(),y]});return(y,k)=>(openBlock(),createBlock(resolveDynamicComponent(y.tag),{class:normalizeClass($.value),style:normalizeStyle(g.value)},{default:withCtx(()=>[renderSlot(y.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$1T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const ElCol=withInstall(Col),emitChangeFn=t=>isNumber(t)||isString$1(t)||isArray$1(t),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])},expandIconPosition:{type:definePropType([String]),default:"right"},beforeCollapse:{type:definePropType(Function)}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),SCOPE$5="ElCollapse",useCollapse=(t,e)=>{const n=ref(castArray$1(t.modelValue)),r=y=>{n.value=y;const k=t.accordion?n.value[0]:n.value;e(UPDATE_MODEL_EVENT,k),e(CHANGE_EVENT,k)},g=y=>{if(t.accordion)r([n.value[0]===y?"":y]);else{const k=[...n.value],L=k.indexOf(y);L>-1?k.splice(L,1):k.push(y),r(k)}},$=async y=>{const{beforeCollapse:k}=t;if(!k){g(y);return}const L=k(y);[isPromise$1(L),isBoolean(L)].includes(!0)||throwError(SCOPE$5,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),isPromise$1(L)?L.then(z=>{z!==!1&&g(y)}).catch(z=>{}):L&&g(y)};return watch(()=>t.modelValue,()=>n.value=castArray$1(t.modelValue),{deep:!0}),provide(collapseContextKey,{activeNames:n,handleItemClick:$}),{activeNames:n,setActiveNames:r}},useCollapseDOM=t=>{const e=useNamespace("collapse");return{rootKls:computed(()=>[e.b(),e.b(`icon-position-${t.expandIconPosition}`)])}},_sfc_main$1S=defineComponent({name:"ElCollapse",__name:"collapse",props:collapseProps,emits:collapseEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{activeNames:$,setActiveNames:y}=useCollapse(r,g),{rootKls:k}=useCollapseDOM(r);return e({activeNames:$,setActiveNames:y}),(L,V)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(k))},[renderSlot(L.$slots,"default")],2))}});var Collapse=_export_sfc$1(_sfc_main$1S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const _sfc_main$1R=defineComponent({name:"ElCollapseTransition",__name:"collapse-transition",setup(t){const e=useNamespace("collapse-transition"),n=g=>{g.style.maxHeight="",g.style.overflow=g.dataset.oldOverflow,g.style.paddingTop=g.dataset.oldPaddingTop,g.style.paddingBottom=g.dataset.oldPaddingBottom},r={beforeEnter(g){g.dataset||(g.dataset={}),g.dataset.oldPaddingTop=g.style.paddingTop,g.dataset.oldPaddingBottom=g.style.paddingBottom,g.style.height&&(g.dataset.elExistsHeight=g.style.height),g.style.maxHeight=0,g.style.paddingTop=0,g.style.paddingBottom=0},enter(g){requestAnimationFrame(()=>{g.dataset.oldOverflow=g.style.overflow,g.dataset.elExistsHeight?g.style.maxHeight=g.dataset.elExistsHeight:g.scrollHeight!==0?g.style.maxHeight=`${g.scrollHeight}px`:g.style.maxHeight=0,g.style.paddingTop=g.dataset.oldPaddingTop,g.style.paddingBottom=g.dataset.oldPaddingBottom,g.style.overflow="hidden"})},afterEnter(g){g.style.maxHeight="",g.style.overflow=g.dataset.oldOverflow},enterCancelled(g){n(g)},beforeLeave(g){g.dataset||(g.dataset={}),g.dataset.oldPaddingTop=g.style.paddingTop,g.dataset.oldPaddingBottom=g.style.paddingBottom,g.dataset.oldOverflow=g.style.overflow,g.style.maxHeight=`${g.scrollHeight}px`,g.style.overflow="hidden"},leave(g){g.scrollHeight!==0&&(g.style.maxHeight=0,g.style.paddingTop=0,g.style.paddingBottom=0)},afterLeave(g){n(g)},leaveCancelled(g){n(g)}};return(g,$)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(e).b()},toHandlers(r)),{default:withCtx(()=>[renderSlot(g.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc$1(_sfc_main$1R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const ElCollapseTransition=withInstall(CollapseTransition),collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:void 0},icon:{type:iconPropType,default:arrow_right_default},disabled:Boolean}),useCollapseItem=t=>{const e=inject(collapseContextKey),{namespace:n}=useNamespace("collapse"),r=ref(!1),g=ref(!1),$=useIdInjection(),y=computed(()=>$.current++),k=computed(()=>{var ie;return(ie=t.name)!=null?ie:`${n.value}-id-${$.prefix}-${unref(y)}`}),L=computed(()=>e==null?void 0:e.activeNames.value.includes(unref(k)));return{focusing:r,id:y,isActive:L,handleFocus:()=>{setTimeout(()=>{g.value?g.value=!1:r.value=!0},50)},handleHeaderClick:ie=>{if(t.disabled)return;const Oe=ie.target;Oe!=null&&Oe.closest("input, textarea, select")||(e==null||e.handleItemClick(unref(k)),r.value=!1,g.value=!0)},handleEnterClick:ie=>{const Oe=ie.target;Oe!=null&&Oe.closest("input, textarea, select")||(ie.preventDefault(),e==null||e.handleItemClick(unref(k)))}}},useCollapseItemDOM=(t,{focusing:e,isActive:n,id:r})=>{const g=useNamespace("collapse"),$=computed(()=>[g.b("item"),g.is("active",unref(n)),g.is("disabled",t.disabled)]),y=computed(()=>[g.be("item","header"),g.is("active",unref(n)),{focusing:unref(e)&&!t.disabled}]),k=computed(()=>[g.be("item","arrow"),g.is("active",unref(n))]),L=computed(()=>[g.be("item","title")]),V=computed(()=>g.be("item","wrap")),z=computed(()=>g.be("item","content")),j=computed(()=>g.b(`content-${unref(r)}`)),ie=computed(()=>g.b(`head-${unref(r)}`));return{itemTitleKls:L,arrowKls:k,headKls:y,rootKls:$,itemWrapperKls:V,itemContentKls:z,scopedContentId:j,scopedHeadId:ie}},_hoisted_1$$=["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled"],_hoisted_2$A=["id","aria-hidden","aria-labelledby"],_sfc_main$1Q=defineComponent({name:"ElCollapseItem",__name:"collapse-item",props:collapseItemProps,setup(t,{expose:e}){const n=t,{focusing:r,id:g,isActive:$,handleFocus:y,handleHeaderClick:k,handleEnterClick:L}=useCollapseItem(n),{arrowKls:V,headKls:z,rootKls:j,itemTitleKls:ie,itemWrapperKls:Oe,itemContentKls:ur,scopedContentId:hr,scopedHeadId:Vr}=useCollapseItemDOM(n,{focusing:r,isActive:$,id:g});return e({isActive:$}),(dr,ec)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(j))},[createBaseVNode("div",{id:unref(Vr),class:normalizeClass(unref(z)),"aria-expanded":unref($),"aria-controls":unref(hr),"aria-describedby":unref(hr),tabindex:dr.disabled?void 0:0,"aria-disabled":dr.disabled,role:"button",onClick:ec[0]||(ec[0]=(...tc)=>unref(k)&&unref(k)(...tc)),onKeydown:ec[1]||(ec[1]=withKeys(withModifiers((...tc)=>unref(L)&&unref(L)(...tc),["stop"]),["space","enter"])),onFocus:ec[2]||(ec[2]=(...tc)=>unref(y)&&unref(y)(...tc)),onBlur:ec[3]||(ec[3]=tc=>r.value=!1)},[createBaseVNode("span",{class:normalizeClass(unref(ie))},[renderSlot(dr.$slots,"title",{isActive:unref($)},()=>[createTextVNode(toDisplayString$1(dr.title),1)])],2),renderSlot(dr.$slots,"icon",{isActive:unref($)},()=>[createVNode(unref(ElIcon),{class:normalizeClass(unref(V))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(dr.icon)))]),_:1},8,["class"])])],42,_hoisted_1$$),createVNode(unref(ElCollapseTransition),null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:unref(hr),role:"region",class:normalizeClass(unref(Oe)),"aria-hidden":!unref($),"aria-labelledby":unref(Vr)},[createBaseVNode("div",{class:normalizeClass(unref(ur))},[renderSlot(dr.$slots,"default")],2)],10,_hoisted_2$A),[[vShow,unref($)]])]),_:3})],2))}});var CollapseItem=_export_sfc$1(_sfc_main$1Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const ElCollapse=withInstall(Collapse,{CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:Boolean,disabled:Boolean}),hueSliderProps=alphaSliderProps;let isDragging=!1;function draggable(t,e){if(!isClient)return;const n=function($){var y;(y=e.drag)==null||y.call(e,$)},r=function($){var y;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,isDragging=!1,(y=e.end)==null||y.call(e,$)},g=function($){var y;isDragging||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),isDragging=!0,(y=e.start)==null||y.call(e,$))};t.addEventListener("mousedown",g),t.addEventListener("touchstart",g,{passive:!1})}const getOffsetTop=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},getOffsetTopDistance=(t,e)=>Math.abs(getOffsetTop(t)-getOffsetTop(e)),getClientXY=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},useSlider=(t,{key:e,minValue:n,maxValue:r})=>{const g=getCurrentInstance(),$=shallowRef(),y=shallowRef(),k=computed(()=>t.color.get(e));function L(ie){var Oe;if(t.disabled)return;ie.target!==$.value&&V(ie),(Oe=$.value)==null||Oe.focus()}function V(ie){if(!y.value||!$.value||t.disabled)return;const ur=g.vnode.el.getBoundingClientRect(),{clientX:hr,clientY:Vr}=getClientXY(ie);let dr;if(t.vertical){let ec=Vr-ur.top;ec=Math.max($.value.offsetHeight/2,ec),ec=Math.min(ec,ur.height-$.value.offsetHeight/2),dr=Math.round((ec-$.value.offsetHeight/2)/(ur.height-$.value.offsetHeight)*r)}else{let ec=hr-ur.left;ec=Math.max($.value.offsetWidth/2,ec),ec=Math.min(ec,ur.width-$.value.offsetWidth/2),dr=Math.round((ec-$.value.offsetWidth/2)/(ur.width-$.value.offsetWidth)*r)}t.color.set(e,dr)}function z(ie){if(t.disabled)return;const{shiftKey:Oe}=ie,ur=getEventCode(ie),hr=Oe?10:1,Vr=e==="hue"?-1:1;let dr=!0;switch(ur){case EVENT_CODE.left:case EVENT_CODE.down:j(-hr*Vr);break;case EVENT_CODE.right:case EVENT_CODE.up:j(hr*Vr);break;case EVENT_CODE.home:t.color.set(e,e==="hue"?r:n);break;case EVENT_CODE.end:t.color.set(e,e==="hue"?n:r);break;case EVENT_CODE.pageDown:j(-4*Vr);break;case EVENT_CODE.pageUp:j(4*Vr);break;default:dr=!1;break}dr&&ie.preventDefault()}function j(ie){let Oe=k.value+ie;Oe=Oe<n?n:Oe>r?r:Oe,t.color.set(e,Oe)}return{thumb:$,bar:y,currentValue:k,handleDrag:V,handleClick:L,handleKeydown:z}},useSliderDOM=(t,{namespace:e,maxValue:n,bar:r,thumb:g,currentValue:$,handleDrag:y,getBackground:k})=>{const L=getCurrentInstance(),V=useNamespace(e),z=ref(0),j=ref(0),ie=ref();function Oe(){if(!g.value||t.vertical)return 0;const rc=L.vnode.el,ic=$.value;return rc?Math.round(ic*(rc.offsetWidth-g.value.offsetWidth/2)/n):0}function ur(){if(!g.value)return 0;const rc=L.vnode.el;if(!t.vertical)return 0;const ic=$.value;return rc?Math.round(ic*(rc.offsetHeight-g.value.offsetHeight/2)/n):0}function hr(){z.value=Oe(),j.value=ur(),ie.value=k==null?void 0:k()}onMounted(()=>{if(!r.value||!g.value)return;const rc={drag:ic=>{y(ic)},end:ic=>{y(ic)}};draggable(r.value,rc),draggable(g.value,rc),hr()}),watch($,()=>hr()),watch(()=>t.color.value,()=>hr());const Vr=computed(()=>[V.b(),V.is("vertical",t.vertical),V.is("disabled",t.disabled)]),dr=computed(()=>V.e("bar")),ec=computed(()=>V.e("thumb")),tc=computed(()=>({background:ie.value})),Xs=computed(()=>({left:addUnit(z.value),top:addUnit(j.value)}));return{rootKls:Vr,barKls:dr,barStyle:tc,thumbKls:ec,thumbStyle:Xs,thumbLeft:z,thumbTop:j,update:hr}},_hoisted_1$_=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],minValue$1=0,maxValue$1=100,_sfc_main$1P=defineComponent({name:"ElColorAlphaSlider",__name:"alpha-slider",props:alphaSliderProps,setup(t,{expose:e}){const n=t,{currentValue:r,bar:g,thumb:$,handleDrag:y,handleClick:k,handleKeydown:L}=useSlider(n,{key:"alpha",minValue:minValue$1,maxValue:maxValue$1}),{rootKls:V,barKls:z,barStyle:j,thumbKls:ie,thumbStyle:Oe,update:ur}=useSliderDOM(n,{namespace:"color-alpha-slider",maxValue:maxValue$1,currentValue:r,bar:g,thumb:$,handleDrag:y,getBackground:ec}),{t:hr}=useLocale(),Vr=computed(()=>hr("el.colorpicker.alphaLabel")),dr=computed(()=>hr("el.colorpicker.alphaDescription",{alpha:r.value,color:n.color.value}));function ec(){if(n.color&&n.color.value){const{r:tc,g:Xs,b:rc}=n.color.toRgb();return`linear-gradient(to right, rgba(${tc}, ${Xs}, ${rc}, 0) 0%, rgba(${tc}, ${Xs}, ${rc}, 1) 100%)`}return""}return e({update:ur,bar:g,thumb:$}),(tc,Xs)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(V))},[createBaseVNode("div",{ref_key:"bar",ref:g,class:normalizeClass(unref(z)),style:normalizeStyle(unref(j)),onClick:Xs[0]||(Xs[0]=(...rc)=>unref(k)&&unref(k)(...rc))},null,6),createBaseVNode("div",{ref_key:"thumb",ref:$,class:normalizeClass(unref(ie)),style:normalizeStyle(unref(Oe)),"aria-label":Vr.value,"aria-valuenow":unref(r),"aria-valuetext":dr.value,"aria-orientation":tc.vertical?"vertical":"horizontal","aria-valuemin":minValue$1,"aria-valuemax":maxValue$1,role:"slider",tabindex:tc.disabled?void 0:0,"aria-disabled":tc.disabled,onKeydown:Xs[1]||(Xs[1]=(...rc)=>unref(L)&&unref(L)(...rc))},null,46,_hoisted_1$_)],2))}});var AlphaSlider=_export_sfc$1(_sfc_main$1P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/alpha-slider.vue"]]);const _hoisted_1$Z=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],minValue=0,maxValue=360,_sfc_main$1O=defineComponent({name:"ElColorHueSlider",__name:"hue-slider",props:hueSliderProps,setup(t,{expose:e}){const n=t,{currentValue:r,bar:g,thumb:$,handleDrag:y,handleClick:k,handleKeydown:L}=useSlider(n,{key:"hue",minValue,maxValue}),{rootKls:V,barKls:z,thumbKls:j,thumbStyle:ie,thumbTop:Oe,update:ur}=useSliderDOM(n,{namespace:"color-hue-slider",maxValue,currentValue:r,bar:g,thumb:$,handleDrag:y}),{t:hr}=useLocale(),Vr=computed(()=>hr("el.colorpicker.hueLabel")),dr=computed(()=>hr("el.colorpicker.hueDescription",{hue:r.value,color:n.color.value}));return e({bar:g,thumb:$,thumbTop:Oe,update:ur}),(ec,tc)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(V))},[createBaseVNode("div",{ref_key:"bar",ref:g,class:normalizeClass(unref(z)),onClick:tc[0]||(tc[0]=(...Xs)=>unref(k)&&unref(k)(...Xs))},null,2),createBaseVNode("div",{ref_key:"thumb",ref:$,class:normalizeClass(unref(j)),style:normalizeStyle(unref(ie)),"aria-label":Vr.value,"aria-valuenow":unref(r),"aria-valuetext":dr.value,"aria-orientation":ec.vertical?"vertical":"horizontal","aria-valuemin":minValue,"aria-valuemax":maxValue,role:"slider",tabindex:ec.disabled?void 0:0,"aria-disabled":ec.disabled,onKeydown:tc[1]||(tc[1]=(...Xs)=>unref(L)&&unref(L)(...Xs))},null,46,_hoisted_1$Z)],2))}});var HueSlider=_export_sfc$1(_sfc_main$1O,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/hue-slider.vue"]]);const predefineProps=buildProps({colors:{type:definePropType(Array),required:!0},color:{type:definePropType(Object),required:!0},enableAlpha:{type:Boolean,required:!0},disabled:Boolean}),colorPickerPanelProps=buildProps({modelValue:{type:definePropType(String),default:void 0},border:{type:Boolean,default:!0},showAlpha:Boolean,colorFormat:String,disabled:Boolean,predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0}}),colorPickerPanelEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t)||isNil(t)},ROOT_COMMON_COLOR_INJECTION_KEY=Symbol("colorCommonPickerKey"),colorPickerPanelContextKey=Symbol("colorPickerPanelContextKey");class Color{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this._tiny=new TinyColor,this._isValid=!1,this.enableAlpha=!1,this.format="",this.value="";for(const n in e)hasOwn$1(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)hasOwn$1(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this._isValid=!0,this.doOnChange()}get(e){return["hue","saturation","value","alpha"].includes(e)?Math.round(this[`_${e}`]):this[`_${e}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(e){const n=new TinyColor(e);if(this._isValid=n.isValid,n.isValid){const{h:r,s:g,v:$,a:y}=n.toHsv();this._hue=r,this._saturation=g*100,this._value=$*100,this._alpha=y*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}clear(){this._isValid=!1,this.value="",this._hue=0,this._saturation=100,this._value=100,this._alpha=100}compare(e){const n=new TinyColor({h:e._hue,s:e._saturation/100,v:e._value/100,a:e._alpha/100});return this._tiny.equals(n)}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:g,format:$,enableAlpha:y}=this;let k=$||(y?"rgb":"hex");$==="hex"&&y&&(k="hex8"),this._tiny=new TinyColor({h:e,s:n/100,v:r/100,a:g/100}),this.value=this._isValid?this._tiny.toString(k):""}}const usePredefine=t=>{const{currentColor:e}=inject(colorPickerPanelContextKey),n=ref(g(t.colors,t.color));watch(()=>e.value,$=>{const y=new Color({value:$,enableAlpha:t.enableAlpha});n.value.forEach(k=>{k.selected=y.compare(k)})}),watchEffect(()=>{n.value=g(t.colors,t.color)});function r($){t.color.fromString(t.colors[$])}function g($,y){return $.map(k=>{const L=new Color({value:k,enableAlpha:t.enableAlpha});return L.selected=L.compare(y),L})}return{rgbaColors:n,handleSelect:r}},usePredefineDOM=t=>{const e=useNamespace("color-predefine"),n=computed(()=>[e.b(),e.is("disabled",t.disabled)]),r=computed(()=>e.e("colors"));function g($){return[e.e("color-selector"),e.is("alpha",$.get("alpha")<100),{selected:$.selected}]}return{rootKls:n,colorsKls:r,colorSelectorKls:g}},_hoisted_1$Y=["disabled","aria-label","onClick"],_sfc_main$1N=defineComponent({name:"ElColorPredefine",__name:"predefine",props:predefineProps,setup(t){const e=t,{rgbaColors:n,handleSelect:r}=usePredefine(e),{rootKls:g,colorsKls:$,colorSelectorKls:y}=usePredefineDOM(e),{t:k}=useLocale(),L=V=>k("el.colorpicker.predefineDescription",{value:V});return(V,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g))},[createBaseVNode("div",{class:normalizeClass(unref($))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),(j,ie)=>(openBlock(),createElementBlock("button",{key:V.colors[ie],type:"button",disabled:V.disabled,"aria-label":L(j.value),class:normalizeClass(unref(y)(j)),onClick:Oe=>unref(r)(ie)},[createBaseVNode("div",{style:normalizeStyle({backgroundColor:j.value})},null,4)],10,_hoisted_1$Y))),128))],2)],2))}});var Predefine=_export_sfc$1(_sfc_main$1N,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/predefine.vue"]]);const svPanelProps=buildProps({color:{type:definePropType(Object),required:!0},disabled:Boolean}),useSvPanel=t=>{const e=getCurrentInstance(),n=ref(),r=ref(0),g=ref(0),$=ref("hsl(0, 100%, 50%)"),y=computed(()=>t.color.get("saturation")),k=computed(()=>t.color.get("value")),L=computed(()=>t.color.get("hue"));function V(ur){var hr;if(t.disabled)return;ur.target!==n.value&&z(ur),(hr=n.value)==null||hr.focus({preventScroll:!0})}function z(ur){if(t.disabled)return;const Vr=e.vnode.el.getBoundingClientRect(),{clientX:dr,clientY:ec}=getClientXY(ur);let tc=dr-Vr.left,Xs=ec-Vr.top;tc=Math.max(0,tc),tc=Math.min(tc,Vr.width),Xs=Math.max(0,Xs),Xs=Math.min(Xs,Vr.height),g.value=tc,r.value=Xs,t.color.set({saturation:tc/Vr.width*100,value:100-Xs/Vr.height*100})}function j(ur){if(t.disabled)return;const{shiftKey:hr}=ur,Vr=getEventCode(ur),dr=hr?10:1;let ec=!0;switch(Vr){case EVENT_CODE.left:ie(-dr);break;case EVENT_CODE.right:ie(dr);break;case EVENT_CODE.up:Oe(dr);break;case EVENT_CODE.down:Oe(-dr);break;default:ec=!1;break}ec&&ur.preventDefault()}function ie(ur){let hr=y.value+ur;hr=hr<0?0:hr>100?100:hr,t.color.set("saturation",hr)}function Oe(ur){let hr=k.value+ur;hr=hr<0?0:hr>100?100:hr,t.color.set("value",hr)}return{cursorRef:n,cursorTop:r,cursorLeft:g,background:$,saturation:y,brightness:k,hue:L,handleClick:V,handleDrag:z,handleKeydown:j}},useSvPanelDOM=(t,{cursorTop:e,cursorLeft:n,background:r,handleDrag:g})=>{const $=getCurrentInstance(),y=useNamespace("color-svpanel");function k(){const ie=t.color.get("saturation"),Oe=t.color.get("value"),ur=$.vnode.el,{clientWidth:hr,clientHeight:Vr}=ur;n.value=ie*hr/100,e.value=(100-Oe)*Vr/100,r.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}onMounted(()=>{draggable($.vnode.el,{drag:ie=>{g(ie)},end:ie=>{g(ie)}}),k()}),watch([()=>t.color.get("hue"),()=>t.color.get("value"),()=>t.color.value],()=>k());const L=computed(()=>y.b()),V=computed(()=>y.e("cursor")),z=computed(()=>({backgroundColor:r.value})),j=computed(()=>({top:addUnit(e.value),left:addUnit(n.value)}));return{rootKls:L,cursorKls:V,rootStyle:z,cursorStyle:j,update:k}},_hoisted_1$X=["tabindex","aria-disabled","aria-label","aria-valuenow","aria-valuetext"],_sfc_main$1M=defineComponent({name:"ElSvPanel",__name:"sv-panel",props:svPanelProps,setup(t,{expose:e}){const n=t,{cursorRef:r,cursorTop:g,cursorLeft:$,background:y,saturation:k,brightness:L,handleClick:V,handleDrag:z,handleKeydown:j}=useSvPanel(n),{rootKls:ie,cursorKls:Oe,rootStyle:ur,cursorStyle:hr,update:Vr}=useSvPanelDOM(n,{cursorTop:g,cursorLeft:$,background:y,handleDrag:z}),{t:dr}=useLocale(),ec=computed(()=>dr("el.colorpicker.svLabel")),tc=computed(()=>dr("el.colorpicker.svDescription",{saturation:k.value,brightness:L.value,color:n.color.value}));return e({update:Vr}),(Xs,rc)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(ie)),style:normalizeStyle(unref(ur)),onClick:rc[1]||(rc[1]=(...ic)=>unref(V)&&unref(V)(...ic))},[createBaseVNode("div",{ref_key:"cursorRef",ref:r,class:normalizeClass(unref(Oe)),style:normalizeStyle(unref(hr)),tabindex:Xs.disabled?void 0:0,"aria-disabled":Xs.disabled,role:"slider","aria-valuemin":"0,0","aria-valuemax":"100,100","aria-label":ec.value,"aria-valuenow":`${unref(k)},${unref(L)}`,"aria-valuetext":tc.value,onKeydown:rc[0]||(rc[0]=(...ic)=>unref(j)&&unref(j)(...ic))},null,46,_hoisted_1$X)],6))}});var SvPanel=_export_sfc$1(_sfc_main$1M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/sv-panel.vue"]]);const useCommonColor=(t,e)=>{const n=reactive(new Color({enableAlpha:t.showAlpha,format:t.colorFormat||"",value:t.modelValue}));return watch(()=>[t.colorFormat,t.showAlpha],()=>{n.enableAlpha=t.showAlpha,n.format=t.colorFormat||n.format,n.doOnChange(),e(UPDATE_MODEL_EVENT,n.value)}),{color:n}},_sfc_main$1L=defineComponent({name:"ElColorPickerPanel",__name:"color-picker-panel",props:colorPickerPanelProps,emits:colorPickerPanelEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useNamespace("color-picker-panel"),{formItem:y}=useFormItem(),k=useFormDisabled(),L=ref(),V=ref(),z=ref(),j=ref(),ie=ref(""),{color:Oe}=inject(ROOT_COMMON_COLOR_INJECTION_KEY,()=>useCommonColor(r,g),!0);function ur(){Oe.fromString(ie.value),Oe.value!==ie.value&&(ie.value=Oe.value)}function hr(){var dr;r.validateEvent&&((dr=y==null?void 0:y.validate)==null||dr.call(y,"blur").catch(ec=>void 0))}function Vr(){var dr,ec,tc;(dr=L.value)==null||dr.update(),(ec=V.value)==null||ec.update(),(tc=z.value)==null||tc.update()}return onMounted(()=>{r.modelValue&&(ie.value=Oe.value),nextTick(Vr)}),watch(()=>r.modelValue,dr=>{dr!==Oe.value&&(dr?Oe.fromString(dr):Oe.clear())}),watch(()=>Oe.value,dr=>{g(UPDATE_MODEL_EVENT,dr),ie.value=dr,r.validateEvent&&(y==null||y.validate("change").catch(ec=>void 0))}),provide(colorPickerPanelContextKey,{currentColor:computed(()=>Oe.value)}),e({color:Oe,inputRef:j,update:Vr}),(dr,ec)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref($).b(),unref($).is("disabled",unref(k)),unref($).is("border",dr.border)]),onFocusout:hr},[createBaseVNode("div",{class:normalizeClass(unref($).e("wrapper"))},[createVNode(HueSlider,{ref_key:"hueRef",ref:L,class:"hue-slider",color:unref(Oe),vertical:"",disabled:unref(k)},null,8,["color","disabled"]),createVNode(SvPanel,{ref_key:"svRef",ref:V,color:unref(Oe),disabled:unref(k)},null,8,["color","disabled"])],2),dr.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alphaRef",ref:z,color:unref(Oe),disabled:unref(k)},null,8,["color","disabled"])):createCommentVNode("v-if",!0),dr.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine","enable-alpha":dr.showAlpha,color:unref(Oe),colors:dr.predefine,disabled:unref(k)},null,8,["enable-alpha","color","colors","disabled"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref($).e("footer"))},[createVNode(unref(ElInput),{ref_key:"inputRef",ref:j,modelValue:ie.value,"onUpdate:modelValue":ec[0]||(ec[0]=tc=>ie.value=tc),"validate-event":!1,size:"small",disabled:unref(k),onChange:ur},null,8,["modelValue","disabled"]),renderSlot(dr.$slots,"footer")],2)],34))}});var ColorPickerPanel=_export_sfc$1(_sfc_main$1L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/color-picker-panel.vue"]]);const ElColorPickerPanel=withInstall(ColorPickerPanel),colorPickerProps=buildProps({persistent:{type:Boolean,default:!0},modelValue:{type:definePropType(String),default:void 0},id:String,showAlpha:Boolean,colorFormat:String,disabled:{type:Boolean,default:void 0},size:useSizeProp,popperClass:useTooltipContentProps.popperClass,popperStyle:useTooltipContentProps.popperStyle,tabindex:{type:[String,Number],default:0},teleported:useTooltipContentProps.teleported,appendTo:useTooltipContentProps.appendTo,predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),colorPickerEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t)||isNil(t),[CHANGE_EVENT]:t=>isString$1(t)||isNil(t),activeChange:t=>isString$1(t)||isNil(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},_hoisted_1$W=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],_sfc_main$1K=defineComponent({name:"ElColorPicker",__name:"color-picker",props:colorPickerProps,emits:colorPickerEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{t:$}=useLocale(),y=useNamespace("color"),{formItem:k}=useFormItem(),L=useFormSize(),V=useFormDisabled(),{valueOnClear:z,isEmptyValue:j}=useEmptyValues(r,null),ie=useCommonColor(r,g),{inputId:Oe,isLabeledByFormItem:ur}=useFormItemInputId(r,{formItemContext:k}),hr=ref(),Vr=ref(),dr=ref(),ec=ref(!1),tc=ref(!1);let Xs=!0;const{isFocused:rc,handleFocus:ic,handleBlur:_c}=useFocusController(Vr,{disabled:V,beforeBlur(qv){var Pv;return(Pv=hr.value)==null?void 0:Pv.isFocusInsideContent(qv)},afterBlur(){var qv;wv(!1),pv(),r.validateEvent&&((qv=k==null?void 0:k.validate)==null||qv.call(k,"blur").catch(Pv=>void 0))}}),qm=reactiveComputed(()=>{var qv,Pv;return(Pv=(qv=dr.value)==null?void 0:qv.color)!=null?Pv:ie.color}),Xm=computed(()=>pick(r,Object.keys(colorPickerPanelProps))),Km=computed(()=>!r.modelValue&&!tc.value?"transparent":Sv(qm,r.showAlpha)),tv=computed(()=>!r.modelValue&&!tc.value?"":qm.value),nv=computed(()=>ur.value?void 0:r.ariaLabel||$("el.colorpicker.defaultLabel")),sv=computed(()=>ur.value?k==null?void 0:k.labelId:void 0),gv=computed(()=>[y.b("picker"),y.is("disabled",V.value),y.bm("picker",L.value),y.is("focused",rc.value)]);function Sv(qv,Pv){const{r:Tv,g:Vv,b:Av,a:y0}=qv.toRgb();return Pv?`rgba(${Tv}, ${Vv}, ${Av}, ${y0})`:`rgb(${Tv}, ${Vv}, ${Av})`}function wv(qv){ec.value=qv}const rv=debounce(wv,100,{leading:!0});function Jm(){V.value||wv(!0)}function dv(){rv(!1),pv()}function pv(){nextTick(()=>{r.modelValue?qm.fromString(r.modelValue):(qm.value="",nextTick(()=>{tc.value=!1}))})}function mv(){V.value||(ec.value&&pv(),rv(!ec.value))}function Cv(){const qv=j(qm.value)?z.value:qm.value;g(UPDATE_MODEL_EVENT,qv),g(CHANGE_EVENT,qv),r.validateEvent&&(k==null||k.validate("change").catch(Pv=>void 0)),rv(!1),nextTick(()=>{const Pv=new Color({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});qm.compare(Pv)||pv()})}function uv(){rv(!1),g(UPDATE_MODEL_EVENT,z.value),g(CHANGE_EVENT,z.value),r.modelValue!==z.value&&r.validateEvent&&(k==null||k.validate("change").catch(qv=>void 0)),pv()}function yv(){var qv,Pv;(Pv=(qv=dr==null?void 0:dr.value)==null?void 0:qv.inputRef)==null||Pv.focus()}function $v(){ec.value&&(dv(),rc.value&&Gv())}function Dv(qv){qv.preventDefault(),qv.stopPropagation(),wv(!1),pv()}function Hv(qv){switch(getEventCode(qv)){case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:qv.preventDefault(),qv.stopPropagation(),Jm();break;case EVENT_CODE.esc:Dv(qv);break}}function Gv(){Vr.value.focus()}function f0(){Vr.value.blur()}return watch(()=>tv.value,qv=>{Xs&&g("activeChange",qv),Xs=!0}),watch(()=>qm.value,()=>{!r.modelValue&&!tc.value&&(tc.value=!0)}),watch(()=>r.modelValue,qv=>{qv?qv&&qv!==qm.value&&(Xs=!1,qm.fromString(qv)):tc.value=!1}),watch(()=>ec.value,()=>{dr.value&&nextTick(dr.value.update)}),provide(ROOT_COMMON_COLOR_INJECTION_KEY,ie),e({color:qm,show:Jm,hide:dv,focus:Gv,blur:f0}),(qv,Pv)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:hr,visible:ec.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(y).be("picker","panel"),qv.popperClass],"popper-style":qv.popperStyle,"stop-popper-mouse-event":!1,pure:"",loop:"",role:"dialog",effect:"light",trigger:"click",teleported:qv.teleported,transition:`${unref(y).namespace.value}-zoom-in-top`,persistent:qv.persistent,"append-to":qv.appendTo,onShow:yv,onHide:Pv[2]||(Pv[2]=Tv=>wv(!1))},{content:withCtx(()=>[withDirectives((openBlock(),createBlock(unref(ElColorPickerPanel),mergeProps({ref_key:"pickerPanelRef",ref:dr},Xm.value,{border:!1,"validate-event":!1,onKeydown:withKeys(Dv,["esc"])}),{footer:withCtx(()=>[createBaseVNode("div",null,[createVNode(unref(ElButton),{class:normalizeClass(unref(y).be("footer","link-btn")),text:"",size:"small",onClick:uv},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref($)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(y).be("footer","btn")),onClick:Cv},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref($)("el.colorpicker.confirm")),1)]),_:1},8,["class"])])]),_:1},16)),[[unref(ClickOutside),$v,Vr.value]])]),default:withCtx(()=>[createBaseVNode("div",mergeProps({id:unref(Oe),ref_key:"triggerRef",ref:Vr},qv.$attrs,{class:gv.value,role:"button","aria-label":nv.value,"aria-labelledby":sv.value,"aria-description":unref($)("el.colorpicker.description",{color:qv.modelValue||""}),"aria-disabled":unref(V),tabindex:unref(V)?void 0:qv.tabindex,onKeydown:Hv,onFocus:Pv[0]||(Pv[0]=(...Tv)=>unref(ic)&&unref(ic)(...Tv)),onBlur:Pv[1]||(Pv[1]=(...Tv)=>unref(_c)&&unref(_c)(...Tv))}),[createBaseVNode("div",{class:normalizeClass(unref(y).be("picker","trigger")),onClick:mv},[createBaseVNode("span",{class:normalizeClass([unref(y).be("picker","color"),unref(y).is("alpha",qv.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(y).be("picker","color-inner")),style:normalizeStyle({backgroundColor:Km.value})},[withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(y).be("picker","icon"),unref(y).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,qv.modelValue||tc.value]]),withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(y).be("picker","empty"),unref(y).is("icon-close")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"]),[[vShow,!qv.modelValue&&!tc.value]])],6)],2)],2)],16,_hoisted_1$W)]),_:1},8,["visible","popper-class","popper-style","teleported","transition","persistent","append-to"]))}});var ColorPicker=_export_sfc$1(_sfc_main$1K,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const ElColorPicker=withInstall(ColorPicker),configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},card:{type:definePropType(Object)},dialog:{type:definePropType(Object)},link:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"},...useEmptyValuesProps}),messageConfig={placement:"top"},ConfigProvider=defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(t,{slots:e}){const n=provideGlobalConfig(t);return watch(()=>t.message,r=>{var g,$;Object.assign(messageConfig,($=(g=n==null?void 0:n.value)==null?void 0:g.message)!=null?$:{},r??{})},{immediate:!0,deep:!0}),()=>renderSlot(e,"default",{config:n==null?void 0:n.value})}}),ElConfigProvider=withInstall(ConfigProvider),_sfc_main$1J=defineComponent({name:"ElContainer",__name:"container",props:buildProps({direction:{type:String,values:["horizontal","vertical"]}}),setup(t){const e=t,n=useSlots(),r=useNamespace("container"),g=computed(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(y=>{const k=y.type.name;return k==="ElHeader"||k==="ElFooter"}):!1);return($,y)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(r).b(),unref(r).is("vertical",g.value)])},[renderSlot($.$slots,"default")],2))}});var Container=_export_sfc$1(_sfc_main$1J,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const _sfc_main$1I=defineComponent({name:"ElAside",__name:"aside",props:{width:{type:String,default:null}},setup(t){const e=t,n=useNamespace("aside"),r=computed(()=>e.width?n.cssVarBlock({width:e.width}):{});return(g,$)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(n).b()),style:normalizeStyle(r.value)},[renderSlot(g.$slots,"default")],6))}});var Aside=_export_sfc$1(_sfc_main$1I,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const _sfc_main$1H=defineComponent({name:"ElFooter",__name:"footer",props:{height:{type:String,default:null}},setup(t){const e=t,n=useNamespace("footer"),r=computed(()=>e.height?n.cssVarBlock({height:e.height}):{});return(g,$)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(n).b()),style:normalizeStyle(r.value)},[renderSlot(g.$slots,"default")],6))}});var Footer$2=_export_sfc$1(_sfc_main$1H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const _sfc_main$1G=defineComponent({name:"ElHeader",__name:"header",props:{height:{type:String,default:null}},setup(t){const e=t,n=useNamespace("header"),r=computed(()=>e.height?n.cssVarBlock({height:e.height}):{});return(g,$)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(n).b()),style:normalizeStyle(r.value)},[renderSlot(g.$slots,"default")],6))}});var Header$2=_export_sfc$1(_sfc_main$1G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const _sfc_main$1F=defineComponent({name:"ElMain",__name:"main",setup(t){const e=useNamespace("main");return(n,r)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(e).b())},[renderSlot(n.$slots,"default")],2))}});var Main=_export_sfc$1(_sfc_main$1F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const ElContainer=withInstall(Container,{Aside,Footer:Footer$2,Header:Header$2,Main}),ElAside=withNoopInstall(Aside),ElFooter=withNoopInstall(Footer$2),ElHeader=withNoopInstall(Header$2),ElMain=withNoopInstall(Main);var customParseFormat$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,g=/\d/,$=/\d\d/,y=/\d\d?/,k=/\d*[^-_:/,()\s\d]+/,L={},V=function(Vr){return(Vr=+Vr)+(Vr>68?1900:2e3)},z=function(Vr){return function(dr){this[Vr]=+dr}},j=[/[+-]\d\d:?(\d\d)?|Z/,function(Vr){(this.zone||(this.zone={})).offset=function(dr){if(!dr||dr==="Z")return 0;var ec=dr.match(/([+-]|\d\d)/g),tc=60*ec[1]+(+ec[2]||0);return tc===0?0:ec[0]==="+"?-tc:tc}(Vr)}],ie=function(Vr){var dr=L[Vr];return dr&&(dr.indexOf?dr:dr.s.concat(dr.f))},Oe=function(Vr,dr){var ec,tc=L.meridiem;if(tc){for(var Xs=1;Xs<=24;Xs+=1)if(Vr.indexOf(tc(Xs,0,dr))>-1){ec=Xs>12;break}}else ec=Vr===(dr?"pm":"PM");return ec},ur={A:[k,function(Vr){this.afternoon=Oe(Vr,!1)}],a:[k,function(Vr){this.afternoon=Oe(Vr,!0)}],Q:[g,function(Vr){this.month=3*(Vr-1)+1}],S:[g,function(Vr){this.milliseconds=100*+Vr}],SS:[$,function(Vr){this.milliseconds=10*+Vr}],SSS:[/\d{3}/,function(Vr){this.milliseconds=+Vr}],s:[y,z("seconds")],ss:[y,z("seconds")],m:[y,z("minutes")],mm:[y,z("minutes")],H:[y,z("hours")],h:[y,z("hours")],HH:[y,z("hours")],hh:[y,z("hours")],D:[y,z("day")],DD:[$,z("day")],Do:[k,function(Vr){var dr=L.ordinal,ec=Vr.match(/\d+/);if(this.day=ec[0],dr)for(var tc=1;tc<=31;tc+=1)dr(tc).replace(/\[|\]/g,"")===Vr&&(this.day=tc)}],w:[y,z("week")],ww:[$,z("week")],M:[y,z("month")],MM:[$,z("month")],MMM:[k,function(Vr){var dr=ie("months"),ec=(ie("monthsShort")||dr.map(function(tc){return tc.slice(0,3)})).indexOf(Vr)+1;if(ec<1)throw new Error;this.month=ec%12||ec}],MMMM:[k,function(Vr){var dr=ie("months").indexOf(Vr)+1;if(dr<1)throw new Error;this.month=dr%12||dr}],Y:[/[+-]?\d+/,z("year")],YY:[$,function(Vr){this.year=V(Vr)}],YYYY:[/\d{4}/,z("year")],Z:j,ZZ:j};function hr(Vr){var dr,ec;dr=Vr,ec=L&&L.formats;for(var tc=(Vr=dr.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Km,tv,nv){var sv=nv&&nv.toUpperCase();return tv||ec[nv]||n[nv]||ec[sv].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(gv,Sv,wv){return Sv||wv.slice(1)})})).match(r),Xs=tc.length,rc=0;rc<Xs;rc+=1){var ic=tc[rc],_c=ur[ic],qm=_c&&_c[0],Xm=_c&&_c[1];tc[rc]=Xm?{regex:qm,parser:Xm}:ic.replace(/^\[|\]$/g,"")}return function(Km){for(var tv={},nv=0,sv=0;nv<Xs;nv+=1){var gv=tc[nv];if(typeof gv=="string")sv+=gv.length;else{var Sv=gv.regex,wv=gv.parser,rv=Km.slice(sv),Jm=Sv.exec(rv)[0];wv.call(tv,Jm),Km=Km.replace(Jm,"")}}return function(dv){var pv=dv.afternoon;if(pv!==void 0){var mv=dv.hours;pv?mv<12&&(dv.hours+=12):mv===12&&(dv.hours=0),delete dv.afternoon}}(tv),tv}}return function(Vr,dr,ec){ec.p.customParseFormat=!0,Vr&&Vr.parseTwoDigitYear&&(V=Vr.parseTwoDigitYear);var tc=dr.prototype,Xs=tc.parse;tc.parse=function(rc){var ic=rc.date,_c=rc.utc,qm=rc.args;this.$u=_c;var Xm=qm[1];if(typeof Xm=="string"){var Km=qm[2]===!0,tv=qm[3]===!0,nv=Km||tv,sv=qm[2];tv&&(sv=qm[2]),L=this.$locale(),!Km&&sv&&(L=ec.Ls[sv]),this.$d=function(rv,Jm,dv,pv){try{if(["x","X"].indexOf(Jm)>-1)return new Date((Jm==="X"?1e3:1)*rv);var mv=hr(Jm)(rv),Cv=mv.year,uv=mv.month,yv=mv.day,$v=mv.hours,Dv=mv.minutes,Hv=mv.seconds,Gv=mv.milliseconds,f0=mv.zone,qv=mv.week,Pv=new Date,Tv=yv||(Cv||uv?1:Pv.getDate()),Vv=Cv||Pv.getFullYear(),Av=0;Cv&&!uv||(Av=uv>0?uv-1:Pv.getMonth());var y0,av=$v||0,fv=Dv||0,lv=Hv||0,kv=Gv||0;return f0?new Date(Date.UTC(Vv,Av,Tv,av,fv,lv,kv+60*f0.offset*1e3)):dv?new Date(Date.UTC(Vv,Av,Tv,av,fv,lv,kv)):(y0=new Date(Vv,Av,Tv,av,fv,lv,kv),qv&&(y0=pv(y0).week(qv).toDate()),y0)}catch{return new Date("")}}(ic,Xm,_c,ec),this.init(),sv&&sv!==!0&&(this.$L=this.locale(sv).$L),nv&&ic!=this.format(Xm)&&(this.$d=new Date("")),L={}}else if(Xm instanceof Array)for(var gv=Xm.length,Sv=1;Sv<=gv;Sv+=1){qm[1]=Xm[Sv-1];var wv=ec.apply(this,qm);if(wv.isValid()){this.$d=wv.$d,this.$L=wv.$L,this.init();break}Sv===gv&&(this.$d=new Date(""))}else Xs.call(this,rc)}}})})(customParseFormat$1);var customParseFormatExports=customParseFormat$1.exports;const customParseFormat=getDefaultExportFromCjs(customParseFormatExports),timeUnits$1=["hours","minutes","seconds"],PICKER_BASE_INJECTION_KEY="EP_PICKER_BASE",PICKER_POPPER_OPTIONS_INJECTION_KEY="ElPopperOptions",ROOT_COMMON_PICKER_INJECTION_KEY=Symbol("commonPickerContextKey"),DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},useCommonPicker=(t,e)=>{const{lang:n}=useLocale(),r=ref(!1),g=ref(!1),$=ref(null),y=computed(()=>{const{modelValue:ur}=t;return!ur||isArray$1(ur)&&!ur.filter(Boolean).length}),k=ur=>{if(!valueEquals(t.modelValue,ur)){let hr;isArray$1(ur)?hr=ur.map(dr=>formatter(dr,t.valueFormat,n.value)):ur&&(hr=formatter(ur,t.valueFormat,n.value)),e(UPDATE_MODEL_EVENT,ur&&hr,n.value)}},L=computed(()=>{var ur;let hr;if(y.value?V.value.getDefaultValue&&(hr=V.value.getDefaultValue()):isArray$1(t.modelValue)?hr=t.modelValue.map(Vr=>parseDate(Vr,t.valueFormat,n.value)):hr=parseDate((ur=t.modelValue)!=null?ur:"",t.valueFormat,n.value),V.value.getRangeAvailableTime){const Vr=V.value.getRangeAvailableTime(hr);isEqual$1(Vr,hr)||(hr=Vr,y.value||k(dayOrDaysToDate(hr)))}return isArray$1(hr)&&hr.some(Vr=>!Vr)&&(hr=[]),hr}),V=ref({});return{parsedValue:L,pickerActualVisible:g,pickerOptions:V,pickerVisible:r,userInput:$,valueIsEmpty:y,emitInput:k,onCalendarChange:ur=>{e("calendar-change",ur)},onPanelChange:(ur,hr,Vr)=>{e("panel-change",ur,hr,Vr)},onPick:(ur="",hr=!1)=>{r.value=hr;let Vr;isArray$1(ur)?Vr=ur.map(dr=>dr.toDate()):Vr=ur&&ur.toDate(),$.value=null,k(Vr)},onSetPickerOption:ur=>{V.value[ur[0]]=ur[1],V.value.panelReady=!0}}},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({automaticDropdown:{type:Boolean,default:!0},id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String])},popperClass:useTooltipContentProps.popperClass,popperStyle:useTooltipContentProps.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:Boolean,...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:definePropType(String),values:Ee,default:"bottom"},fallbackPlacements:{type:definePropType(Array),default:["bottom","top","right","left"]},...useEmptyValuesProps,...useAriaProps(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),timePickerRangeTriggerProps=buildProps({id:{type:definePropType(Array)},name:{type:definePropType(Array)},modelValue:{type:definePropType([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),_hoisted_1$V=["id","name","placeholder","value","disabled"],_hoisted_2$z=["id","name","placeholder","value","disabled"],_sfc_main$1E=defineComponent({name:"PickerRangeTrigger",inheritAttrs:!1,__name:"picker-range-trigger",props:timePickerRangeTriggerProps,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const r=t,g=n,{formItem:$}=useFormItem(),{inputId:y}=useFormItemInputId(reactive({id:computed(()=>{var qm;return(qm=r.id)==null?void 0:qm[0]})}),{formItemContext:$}),k=useAttrs(),L=useNamespace("date"),V=useNamespace("range"),z=ref(),j=ref(),{wrapperRef:ie,isFocused:Oe}=useFocusController(z,{disabled:computed(()=>r.disabled)}),ur=qm=>{g("click",qm)},hr=qm=>{g("mouseenter",qm)},Vr=qm=>{g("mouseleave",qm)},dr=qm=>{g("touchstart",qm)},ec=qm=>{g("startInput",qm)},tc=qm=>{g("endInput",qm)},Xs=qm=>{g("startChange",qm)},rc=qm=>{g("endChange",qm)};return e({focus:()=>{var qm;(qm=z.value)==null||qm.focus()},blur:()=>{var qm,Xm;(qm=z.value)==null||qm.blur(),(Xm=j.value)==null||Xm.blur()}}),(qm,Xm)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:ie,class:normalizeClass([unref(L).is("active",unref(Oe)),qm.$attrs.class]),style:normalizeStyle(qm.$attrs.style),onClick:ur,onMouseenter:hr,onMouseleave:Vr,onTouchstartPassive:dr},[renderSlot(qm.$slots,"prefix"),createBaseVNode("input",mergeProps(unref(k),{id:unref(y),ref_key:"inputRef",ref:z,name:qm.name&&qm.name[0],placeholder:qm.startPlaceholder,value:qm.modelValue&&qm.modelValue[0],class:unref(V).b("input"),disabled:qm.disabled,onInput:ec,onChange:Xs}),null,16,_hoisted_1$V),renderSlot(qm.$slots,"range-separator"),createBaseVNode("input",mergeProps(unref(k),{id:qm.id&&qm.id[1],ref_key:"endInputRef",ref:j,name:qm.name&&qm.name[1],placeholder:qm.endPlaceholder,value:qm.modelValue&&qm.modelValue[1],class:unref(V).b("input"),disabled:qm.disabled,onInput:tc,onChange:rc}),null,16,_hoisted_2$z),renderSlot(qm.$slots,"suffix")],38))}});var PickerRangeTrigger=_export_sfc$1(_sfc_main$1E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue"]]);const _sfc_main$1D=defineComponent({name:"Picker",__name:"picker",props:timePickerDefaultProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,g=n,$=useAttrs$1(),y=useNamespace("date"),k=useNamespace("input"),L=useNamespace("range"),{formItem:V}=useFormItem(),z=inject(PICKER_POPPER_OPTIONS_INJECTION_KEY,{}),j=useEmptyValues(r,null),ie=ref(),Oe=ref(),ur=ref(null);let hr=!1;const Vr=useFormDisabled(),dr=useCommonPicker(r,g),{parsedValue:ec,pickerActualVisible:tc,userInput:Xs,pickerVisible:rc,pickerOptions:ic,valueIsEmpty:_c,emitInput:qm,onPick:Xm,onSetPickerOption:Km,onCalendarChange:tv,onPanelChange:nv}=dr,{isFocused:sv,handleFocus:gv,handleBlur:Sv}=useFocusController(Oe,{disabled:Vr,beforeFocus(){return r.readonly},afterFocus(){r.automaticDropdown&&(rc.value=!0)},beforeBlur(_0){var q0;return!hr&&((q0=ie.value)==null?void 0:q0.isFocusInsideContent(_0))},afterBlur(){Yv(),rc.value=!1,hr=!1,r.validateEvent&&(V==null||V.validate("blur").catch(_0=>void 0))}}),wv=ref(!1),rv=computed(()=>[y.b("editor"),y.bm("editor",r.type),k.e("wrapper"),y.is("disabled",Vr.value),y.is("active",rc.value),L.b("editor"),Ev?L.bm("editor",Ev.value):"",$.class]),Jm=computed(()=>[k.e("icon"),L.e("close-icon"),y0.value?"":L.em("close-icon","hidden")]);watch(rc,_0=>{_0?nextTick(()=>{_0&&(ur.value=r.modelValue)}):(Xs.value=null,nextTick(()=>{dv(r.modelValue)}))});const dv=(_0,q0)=>{(q0||!valueEquals(_0,ur.value))&&(g(CHANGE_EVENT,_0),q0&&(ur.value=_0),r.validateEvent&&(V==null||V.validate("change").catch(Rv=>void 0)))},pv=_0=>{g("keydown",_0)},mv=computed(()=>Oe.value?Array.from(Oe.value.$el.querySelectorAll("input")):[]),Cv=(_0,q0,Rv)=>{const k0=mv.value;k0.length&&(!Rv||Rv==="min"?(k0[0].setSelectionRange(_0,q0),k0[0].focus()):Rv==="max"&&(k0[1].setSelectionRange(_0,q0),k0[1].focus()))},uv=()=>{tc.value=!0},yv=()=>{g("visible-change",!0)},$v=()=>{tc.value=!1,rc.value=!1,g("visible-change",!1)},Dv=()=>{rc.value=!0},Hv=()=>{rc.value=!1},Gv=computed(()=>{const _0=Qv(ec.value);return isArray$1(Xs.value)?[Xs.value[0]||_0&&_0[0]||"",Xs.value[1]||_0&&_0[1]||""]:Xs.value!==null?Xs.value:!qv.value&&_c.value||!rc.value&&_c.value?"":_0?Pv.value||Tv.value||Vv.value?_0.join(", "):_0:""}),f0=computed(()=>r.type.includes("time")),qv=computed(()=>r.type.startsWith("time")),Pv=computed(()=>r.type==="dates"),Tv=computed(()=>r.type==="months"),Vv=computed(()=>r.type==="years"),Av=computed(()=>r.prefixIcon||(f0.value?clock_default:calendar_default)),y0=computed(()=>r.clearable&&!Vr.value&&!r.readonly&&!_c.value&&(wv.value||sv.value)),av=_0=>{r.readonly||Vr.value||(y0.value&&(_0.stopPropagation(),ic.value.handleClear?ic.value.handleClear():qm(j.valueOnClear.value),dv(j.valueOnClear.value,!0),$v()),g("clear"))},fv=async _0=>{var q0;r.readonly||Vr.value||(((q0=_0.target)==null?void 0:q0.tagName)!=="INPUT"||sv.value||!r.automaticDropdown)&&(rc.value=!0)},lv=()=>{r.readonly||Vr.value||!_c.value&&r.clearable&&(wv.value=!0)},kv=()=>{wv.value=!1},Iv=_0=>{var q0;r.readonly||Vr.value||(((q0=_0.touches[0].target)==null?void 0:q0.tagName)!=="INPUT"||sv.value||!r.automaticDropdown)&&(rc.value=!0)},vv=computed(()=>r.type.includes("range")),Ev=useFormSize(),zv=computed(()=>{var _0,q0;return(q0=(_0=unref(ie))==null?void 0:_0.popperRef)==null?void 0:q0.contentRef}),Fv=onClickOutside(Oe,_0=>{const q0=unref(zv),Rv=unrefElement(Oe);q0&&(_0.target===q0||_0.composedPath().includes(q0))||_0.target===Rv||Rv&&_0.composedPath().includes(Rv)||(rc.value=!1)});onBeforeUnmount(()=>{Fv==null||Fv()});const Yv=()=>{if(Xs.value){const _0=g0(Gv.value);_0&&(N0(_0)&&qm(dayOrDaysToDate(_0)),Xs.value=null)}Xs.value===""&&(qm(j.valueOnClear.value),dv(j.valueOnClear.value,!0),Xs.value=null)},g0=_0=>_0?ic.value.parseUserInput(_0):null,Qv=_0=>_0?isArray$1(_0)?_0.map(Rv=>Rv.format(r.format)):_0.format(r.format):null,N0=_0=>ic.value.isValidValue(_0),B0=async _0=>{if(r.readonly||Vr.value)return;const q0=getEventCode(_0);if(pv(_0),q0===EVENT_CODE.esc){rc.value===!0&&(rc.value=!1,_0.preventDefault(),_0.stopPropagation());return}if(q0===EVENT_CODE.down&&(ic.value.handleFocusPicker&&(_0.preventDefault(),_0.stopPropagation()),rc.value===!1&&(rc.value=!0,await nextTick()),ic.value.handleFocusPicker)){ic.value.handleFocusPicker();return}if(q0===EVENT_CODE.tab){hr=!0;return}if(q0===EVENT_CODE.enter||q0===EVENT_CODE.numpadEnter){rc.value?(Xs.value===null||Xs.value===""||N0(g0(Gv.value)))&&(Yv(),rc.value=!1):rc.value=!0,_0.preventDefault(),_0.stopPropagation();return}if(Xs.value){_0.stopPropagation();return}ic.value.handleKeydownInput&&ic.value.handleKeydownInput(_0)},a1=_0=>{Xs.value=_0,rc.value||(rc.value=!0)},I0=_0=>{const q0=_0.target;Xs.value?Xs.value=[q0.value,Xs.value[1]]:Xs.value=[q0.value,null]},M0=_0=>{const q0=_0.target;Xs.value?Xs.value=[Xs.value[0],q0.value]:Xs.value=[null,q0.value]},D0=()=>{var _0;const q0=Xs.value,Rv=g0(q0&&q0[0]),k0=unref(ec);if(Rv&&Rv.isValid()){Xs.value=[Qv(Rv),((_0=Gv.value)==null?void 0:_0[1])||null];const Ov=[Rv,k0&&(k0[1]||null)];N0(Ov)&&(qm(dayOrDaysToDate(Ov)),Xs.value=null)}},W0=()=>{var _0;const q0=unref(Xs),Rv=g0(q0&&q0[1]),k0=unref(ec);if(Rv&&Rv.isValid()){Xs.value=[((_0=unref(Gv))==null?void 0:_0[0])||null,Qv(Rv)];const Ov=[k0&&k0[0],Rv];N0(Ov)&&(qm(dayOrDaysToDate(Ov)),Xs.value=null)}},Zv=()=>{var _0;(_0=Oe.value)==null||_0.focus()},z0=()=>{var _0;(_0=Oe.value)==null||_0.blur()};return provide(PICKER_BASE_INJECTION_KEY,{props:r,emptyValues:j}),provide(ROOT_COMMON_PICKER_INJECTION_KEY,dr),e({focus:Zv,blur:z0,handleOpen:Dv,handleClose:Hv,onPick:Xm}),(_0,q0)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:ie,visible:unref(rc),effect:"light",pure:"",trigger:"click"},_0.$attrs,{role:"dialog",teleported:"",transition:`${unref(y).namespace.value}-zoom-in-top`,"popper-class":[`${unref(y).namespace.value}-picker__popper`,_0.popperClass],"popper-style":_0.popperStyle,"popper-options":unref(z),"fallback-placements":_0.fallbackPlacements,"gpu-acceleration":!1,placement:_0.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:uv,onShow:yv,onHide:$v}),{default:withCtx(()=>[vv.value?(openBlock(),createBlock(PickerRangeTrigger,{key:1,id:_0.id,ref_key:"inputRef",ref:Oe,"model-value":Gv.value,name:_0.name,disabled:unref(Vr),readonly:!_0.editable||_0.readonly,"start-placeholder":_0.startPlaceholder,"end-placeholder":_0.endPlaceholder,class:normalizeClass(rv.value),style:normalizeStyle(_0.$attrs.style),"aria-label":_0.ariaLabel,tabindex:_0.tabindex,autocomplete:"off",role:"combobox",onClick:fv,onFocus:unref(gv),onBlur:unref(Sv),onStartInput:I0,onStartChange:D0,onEndInput:M0,onEndChange:W0,onMousedown:fv,onMouseenter:lv,onMouseleave:kv,onTouchstartPassive:Iv,onKeydown:B0},{prefix:withCtx(()=>[Av.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(k).e("icon"),unref(L).e("icon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Av.value)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),"range-separator":withCtx(()=>[renderSlot(_0.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(L).b("separator"))},toDisplayString$1(_0.rangeSeparator),3)])]),suffix:withCtx(()=>[_0.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(Jm.value),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:av},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_0.clearIcon)))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(openBlock(),createBlock(unref(ElInput),{key:0,id:_0.id,ref_key:"inputRef",ref:Oe,"container-role":"combobox","model-value":Gv.value,name:_0.name,size:unref(Ev),disabled:unref(Vr),placeholder:_0.placeholder,class:normalizeClass([unref(y).b("editor"),unref(y).bm("editor",_0.type),unref(y).is("focus",unref(rc)),_0.$attrs.class]),style:normalizeStyle(_0.$attrs.style),readonly:!_0.editable||_0.readonly||Pv.value||Tv.value||Vv.value||_0.type==="week","aria-label":_0.ariaLabel,tabindex:_0.tabindex,"validate-event":!1,onInput:a1,onFocus:unref(gv),onBlur:unref(Sv),onKeydown:B0,onChange:Yv,onMousedown:fv,onMouseenter:lv,onMouseleave:kv,onTouchstartPassive:Iv,onClick:q0[0]||(q0[0]=withModifiers(()=>{},["stop"]))},{prefix:withCtx(()=>[Av.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(k).e("icon")),onMousedown:withModifiers(fv,["prevent"]),onTouchstartPassive:Iv},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Av.value)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[y0.value&&_0.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(k).e("icon")} clear-icon`),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:av},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_0.clearIcon)))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:withCtx(()=>[renderSlot(_0.$slots,"default",{visible:unref(rc),actualVisible:unref(tc),parsedValue:unref(ec),format:_0.format,dateFormat:_0.dateFormat,timeFormat:_0.timeFormat,unlinkPanels:_0.unlinkPanels,type:_0.type,defaultValue:_0.defaultValue,showNow:_0.showNow,showConfirm:_0.showConfirm,showFooter:_0.showFooter,showWeekNumber:_0.showWeekNumber,onPick:q0[1]||(q0[1]=(...Rv)=>unref(Xm)&&unref(Xm)(...Rv)),onSelectRange:Cv,onSetPickerOption:q0[2]||(q0[2]=(...Rv)=>unref(Km)&&unref(Km)(...Rv)),onCalendarChange:q0[3]||(q0[3]=(...Rv)=>unref(tv)&&unref(tv)(...Rv)),onPanelChange:q0[4]||(q0[4]=(...Rv)=>unref(nv)&&unref(nv)(...Rv)),onMousedown:q0[5]||(q0[5]=withModifiers(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});var CommonPicker=_export_sfc$1(_sfc_main$1D,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(y,k,L,V)=>{const z={hour:t,minute:e,second:n};let j=y;return["hour","minute","second"].forEach(ie=>{if(z[ie]){let Oe;const ur=z[ie];switch(ie){case"minute":{Oe=ur(j.hour(),k,V);break}case"second":{Oe=ur(j.hour(),j.minute(),k,V);break}default:{Oe=ur(k,V);break}}if(Oe!=null&&Oe.length&&!Oe.includes(j[ie]())){const hr=L?0:Oe.length-1;j=j[ie](Oe[hr])}}}),j},g={};return{timePickerOptions:g,getAvailableTime:r,onSetOption:([y,k])=>{g[y]=k}}},makeAvailableArr=t=>{const e=(r,g)=>r||g,n=r=>r!==!0;return t.map(e).filter(n)},getTimeLists=(t,e,n)=>({getHoursList:(y,k)=>makeList(24,t&&(()=>t==null?void 0:t(y,k))),getMinutesList:(y,k,L)=>makeList(60,e&&(()=>e==null?void 0:e(y,k,L))),getSecondsList:(y,k,L,V)=>makeList(60,n&&(()=>n==null?void 0:n(y,k,L,V)))}),buildAvailableTimeSlotGetter=(t,e,n)=>{const{getHoursList:r,getMinutesList:g,getSecondsList:$}=getTimeLists(t,e,n);return{getAvailableHours:(V,z)=>makeAvailableArr(r(V,z)),getAvailableMinutes:(V,z,j)=>makeAvailableArr(g(V,z,j)),getAvailableSeconds:(V,z,j,ie)=>makeAvailableArr($(V,z,j,ie))}},useOldValue=t=>{const e=ref(t.parsedValue);return watch(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),REPEAT_INTERVAL=100,REPEAT_DELAY=600,SCOPE$4="_RepeatClick",vRepeatClick={beforeMount(t,e){const n=e.value,{interval:r=REPEAT_INTERVAL,delay:g=REPEAT_DELAY}=isFunction$1(n)?{}:n;let $,y;const k=()=>isFunction$1(n)?n():n.handler(),L=()=>{y&&(clearTimeout(y),y=void 0),$&&(clearInterval($),$=void 0)},V=z=>{z.button===0&&(L(),k(),document.addEventListener("mouseup",L,{once:!0}),y=setTimeout(()=>{$=setInterval(()=>{k()},r)},g))};t[SCOPE$4]={start:V,clear:L},t.addEventListener("mousedown",V)},unmounted(t){if(!t[SCOPE$4])return;const{start:e,clear:n}=t[SCOPE$4];e&&t.removeEventListener("mousedown",e),n&&(n(),document.removeEventListener("mouseup",n)),t[SCOPE$4]=null}},_hoisted_1$U=["onClick"],_hoisted_2$y=["onMouseenter"],_sfc_main$1C=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:[CHANGE_EVENT,"select-range","set-option"],setup(t,{emit:e}){const n=t,r=inject(PICKER_BASE_INJECTION_KEY),{isRange:g,format:$}=r.props,y=e,k=useNamespace("time"),{getHoursList:L,getMinutesList:V,getSecondsList:z}=getTimeLists(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let j=!1;const ie=ref(),Oe=ref(),ur=ref(),hr=ref(),Vr={hours:Oe,minutes:ur,seconds:hr},dr=computed(()=>n.showSeconds?timeUnits$1:timeUnits$1.slice(0,2)),ec=computed(()=>{const{spinnerDate:uv}=n,yv=uv.hour(),$v=uv.minute(),Dv=uv.second();return{hours:yv,minutes:$v,seconds:Dv}}),tc=computed(()=>{const{hours:uv,minutes:yv}=unref(ec),{role:$v,spinnerDate:Dv}=n,Hv=g?void 0:Dv;return{hours:L($v,Hv),minutes:V(uv,$v,Hv),seconds:z(uv,yv,$v,Hv)}}),Xs=computed(()=>{const{hours:uv,minutes:yv,seconds:$v}=unref(ec);return{hours:buildTimeList(uv,23),minutes:buildTimeList(yv,59),seconds:buildTimeList($v,59)}}),rc=debounce(uv=>{j=!1,qm(uv)},200),ic=uv=>{if(!!!n.amPmMode)return"";const $v=n.amPmMode==="A";let Dv=uv<12?" am":" pm";return $v&&(Dv=Dv.toUpperCase()),Dv},_c=uv=>{let yv=[0,0];const $v=$||DEFAULT_FORMATS_TIME,Dv=$v.indexOf("HH"),Hv=$v.indexOf("mm"),Gv=$v.indexOf("ss");switch(uv){case"hours":Dv!==-1&&(yv=[Dv,Dv+2]);break;case"minutes":Hv!==-1&&(yv=[Hv,Hv+2]);break;case"seconds":Gv!==-1&&(yv=[Gv,Gv+2]);break}const[f0,qv]=yv;y("select-range",f0,qv),ie.value=uv},qm=uv=>{tv(uv,unref(ec)[uv])},Xm=()=>{qm("hours"),qm("minutes"),qm("seconds")},Km=uv=>uv.querySelector(`.${k.namespace.value}-scrollbar__wrap`),tv=(uv,yv)=>{if(n.arrowControl)return;const $v=unref(Vr[uv]);$v&&$v.$el&&(Km($v.$el).scrollTop=Math.max(0,yv*nv(uv)))},nv=uv=>{const yv=unref(Vr[uv]),$v=yv==null?void 0:yv.$el.querySelector("li");return $v&&Number.parseFloat(getStyle($v,"height"))||0},sv=()=>{Sv(1)},gv=()=>{Sv(-1)},Sv=uv=>{ie.value||_c("hours");const yv=ie.value,$v=unref(ec)[yv],Dv=ie.value==="hours"?24:60,Hv=wv(yv,$v,uv,Dv);rv(yv,Hv),tv(yv,Hv),nextTick(()=>_c(yv))},wv=(uv,yv,$v,Dv)=>{let Hv=(yv+$v+Dv)%Dv;const Gv=unref(tc)[uv];for(;Gv[Hv]&&Hv!==yv;)Hv=(Hv+$v+Dv)%Dv;return Hv},rv=(uv,yv)=>{if(unref(tc)[uv][yv])return;const{hours:Hv,minutes:Gv,seconds:f0}=unref(ec);let qv;switch(uv){case"hours":qv=n.spinnerDate.hour(yv).minute(Gv).second(f0);break;case"minutes":qv=n.spinnerDate.hour(Hv).minute(yv).second(f0);break;case"seconds":qv=n.spinnerDate.hour(Hv).minute(Gv).second(yv);break}y(CHANGE_EVENT,qv)},Jm=(uv,{value:yv,disabled:$v})=>{$v||(rv(uv,yv),_c(uv),tv(uv,yv))},dv=uv=>{const yv=unref(Vr[uv]);if(!yv)return;j=!0,rc(uv);const $v=Math.min(Math.round((Km(yv.$el).scrollTop-(pv(uv)*.5-10)/nv(uv)+3)/nv(uv)),uv==="hours"?23:59);rv(uv,$v)},pv=uv=>unref(Vr[uv]).$el.offsetHeight,mv=()=>{const uv=yv=>{const $v=unref(Vr[yv]);$v&&$v.$el&&(Km($v.$el).onscroll=()=>{dv(yv)})};uv("hours"),uv("minutes"),uv("seconds")};onMounted(()=>{nextTick(()=>{!n.arrowControl&&mv(),Xm(),n.role==="start"&&_c("hours")})});const Cv=(uv,yv)=>{Vr[yv].value=uv??void 0};return y("set-option",[`${n.role}_scrollDown`,Sv]),y("set-option",[`${n.role}_emitSelectRange`,_c]),watch(()=>n.spinnerDate,()=>{j||Xm()}),(uv,yv)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(k).b("spinner"),{"has-seconds":uv.showSeconds}])},[uv.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(dr.value,$v=>(openBlock(),createBlock(unref(ElScrollbar),{key:$v,ref_for:!0,ref:Dv=>Cv(Dv,$v),class:normalizeClass(unref(k).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref(k).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Dv=>_c($v),onMousemove:Dv=>qm($v)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(tc.value[$v],(Dv,Hv)=>(openBlock(),createElementBlock("li",{key:Hv,class:normalizeClass([unref(k).be("spinner","item"),unref(k).is("active",Hv===ec.value[$v]),unref(k).is("disabled",Dv)]),onClick:Gv=>Jm($v,{value:Hv,disabled:Dv})},[$v==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(("0"+(uv.amPmMode?Hv%12||12:Hv)).slice(-2))+toDisplayString$1(ic(Hv)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString$1(("0"+Hv).slice(-2)),1)],64))],10,_hoisted_1$U))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),uv.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(dr.value,$v=>(openBlock(),createElementBlock("div",{key:$v,class:normalizeClass([unref(k).be("spinner","wrapper"),unref(k).is("arrow")]),onMouseenter:Dv=>_c($v)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref(k).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),gv]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref(k).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),sv]]),createBaseVNode("ul",{class:normalizeClass(unref(k).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Xs.value[$v],(Dv,Hv)=>(openBlock(),createElementBlock("li",{key:Hv,class:normalizeClass([unref(k).be("spinner","item"),unref(k).is("active",Dv===ec.value[$v]),unref(k).is("disabled",tc.value[$v][Dv])])},[unref(isNumber)(Dv)?(openBlock(),createElementBlock(Fragment,{key:0},[$v==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(("0"+(uv.amPmMode?Dv%12||12:Dv)).slice(-2))+toDisplayString$1(ic(Dv)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString$1(("0"+Dv).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,_hoisted_2$y))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc$1(_sfc_main$1C,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const _sfc_main$1B=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=e,g=inject(PICKER_BASE_INJECTION_KEY),{arrowControl:$,disabledHours:y,disabledMinutes:k,disabledSeconds:L,defaultValue:V}=g.props,{getAvailableHours:z,getAvailableMinutes:j,getAvailableSeconds:ie}=buildAvailableTimeSlotGetter(y,k,L),Oe=useNamespace("time"),{t:ur,lang:hr}=useLocale(),Vr=ref([0,2]),dr=useOldValue(n),ec=computed(()=>isUndefined(n.actualVisible)?`${Oe.namespace.value}-zoom-in-top`:""),tc=computed(()=>n.format.includes("ss")),Xs=computed(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),rc=Jm=>{const dv=dayjs(Jm).locale(hr.value),pv=Sv(dv);return dv.isSame(pv)},ic=()=>{const Jm=dr.value;r("pick",Jm,!1),nextTick(()=>{dr.value=Jm})},_c=(Jm=!1,dv=!1)=>{dv||r("pick",n.parsedValue,Jm)},qm=Jm=>{if(!n.visible)return;const dv=Sv(Jm).millisecond(0);r("pick",dv,!0)},Xm=(Jm,dv)=>{r("select-range",Jm,dv),Vr.value=[Jm,dv]},Km=Jm=>{const dv=n.format,pv=dv.indexOf("HH"),mv=dv.indexOf("mm"),Cv=dv.indexOf("ss"),uv=[],yv=[];pv!==-1&&(uv.push(pv),yv.push("hours")),mv!==-1&&(uv.push(mv),yv.push("minutes")),Cv!==-1&&tc.value&&(uv.push(Cv),yv.push("seconds"));const Dv=(uv.indexOf(Vr.value[0])+Jm+uv.length)%uv.length;nv.start_emitSelectRange(yv[Dv])},tv=Jm=>{const dv=getEventCode(Jm),{left:pv,right:mv,up:Cv,down:uv}=EVENT_CODE;if([pv,mv].includes(dv)){Km(dv===pv?-1:1),Jm.preventDefault();return}if([Cv,uv].includes(dv)){const yv=dv===Cv?-1:1;nv.start_scrollDown(yv),Jm.preventDefault();return}},{timePickerOptions:nv,onSetOption:sv,getAvailableTime:gv}=useTimePanel({getAvailableHours:z,getAvailableMinutes:j,getAvailableSeconds:ie}),Sv=Jm=>gv(Jm,n.datetimeRole||"",!0),wv=Jm=>Jm?dayjs(Jm,n.format).locale(hr.value):null,rv=()=>dayjs(V).locale(hr.value);return r("set-picker-option",["isValidValue",rc]),r("set-picker-option",["parseUserInput",wv]),r("set-picker-option",["handleKeydownInput",tv]),r("set-picker-option",["getRangeAvailableTime",Sv]),r("set-picker-option",["getDefaultValue",rv]),(Jm,dv)=>(openBlock(),createBlock(Transition,{name:ec.value},{default:withCtx(()=>[Jm.actualVisible||Jm.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Oe).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(Oe).be("panel","content"),{"has-seconds":tc.value}])},[createVNode(TimeSpinner,{ref:"spinner",role:Jm.datetimeRole||"start","arrow-control":unref($),"show-seconds":tc.value,"am-pm-mode":Xs.value,"spinner-date":Jm.parsedValue,"disabled-hours":unref(y),"disabled-minutes":unref(k),"disabled-seconds":unref(L),onChange:qm,onSetOption:unref(sv),onSelectRange:Xm},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(Oe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(Oe).be("panel","btn"),"cancel"]),onClick:ic},toDisplayString$1(unref(ur)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Oe).be("panel","btn"),"confirm"]),onClick:dv[0]||(dv[0]=pv=>_c())},toDisplayString$1(unref(ur)("el.datepicker.confirm")),3)],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc$1(_sfc_main$1B,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_hoisted_1$T=["disabled"],_sfc_main$1A=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=e,g=(Pv,Tv)=>{const Vv=[];for(let Av=Pv;Av<=Tv;Av++)Vv.push(Av);return Vv},{t:$,lang:y}=useLocale(),k=useNamespace("time"),L=useNamespace("picker"),V=inject(PICKER_BASE_INJECTION_KEY),{arrowControl:z,disabledHours:j,disabledMinutes:ie,disabledSeconds:Oe,defaultValue:ur}=V.props,hr=computed(()=>[k.be("range-picker","body"),k.be("panel","content"),k.is("arrow",z),rc.value?"has-seconds":""]),Vr=computed(()=>[k.be("range-picker","body"),k.be("panel","content"),k.is("arrow",z),rc.value?"has-seconds":""]),dr=computed(()=>n.parsedValue[0]),ec=computed(()=>n.parsedValue[1]),tc=useOldValue(n),Xs=()=>{const Pv=tc.value;r("pick",Pv,!1),nextTick(()=>{tc.value=Pv})},rc=computed(()=>n.format.includes("ss")),ic=computed(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),_c=(Pv=!1)=>{r("pick",[dr.value,ec.value],Pv)},qm=Pv=>{tv(Pv.millisecond(0),ec.value)},Xm=Pv=>{tv(dr.value,Pv.millisecond(0))},Km=Pv=>{const Tv=Pv.map(Av=>dayjs(Av).locale(y.value)),Vv=Cv(Tv);return Tv[0].isSame(Vv[0])&&Tv[1].isSame(Vv[1])},tv=(Pv,Tv)=>{n.visible&&r("pick",[Pv,Tv],!0)},nv=computed(()=>dr.value>ec.value),sv=ref([0,2]),gv=(Pv,Tv)=>{r("select-range",Pv,Tv,"min"),sv.value=[Pv,Tv]},Sv=computed(()=>rc.value?11:8),wv=(Pv,Tv)=>{r("select-range",Pv,Tv,"max");const Vv=unref(Sv);sv.value=[Pv+Vv,Tv+Vv]},rv=Pv=>{const Tv=rc.value?[0,3,6,11,14,17]:[0,3,8,11],Vv=["hours","minutes"].concat(rc.value?["seconds"]:[]),y0=(Tv.indexOf(sv.value[0])+Pv+Tv.length)%Tv.length,av=Tv.length/2;y0<av?Dv.start_emitSelectRange(Vv[y0]):Dv.end_emitSelectRange(Vv[y0-av])},Jm=Pv=>{const Tv=getEventCode(Pv),{left:Vv,right:Av,up:y0,down:av}=EVENT_CODE;if([Vv,Av].includes(Tv)){rv(Tv===Vv?-1:1),Pv.preventDefault();return}if([y0,av].includes(Tv)){const fv=Tv===y0?-1:1,lv=sv.value[0]<Sv.value?"start":"end";Dv[`${lv}_scrollDown`](fv),Pv.preventDefault();return}},dv=(Pv,Tv)=>{const Vv=j?j(Pv):[],Av=Pv==="start",av=(Tv||(Av?ec.value:dr.value)).hour(),fv=Av?g(av+1,23):g(0,av-1);return union(Vv,fv)},pv=(Pv,Tv,Vv)=>{const Av=ie?ie(Pv,Tv):[],y0=Tv==="start",av=Vv||(y0?ec.value:dr.value),fv=av.hour();if(Pv!==fv)return Av;const lv=av.minute(),kv=y0?g(lv+1,59):g(0,lv-1);return union(Av,kv)},mv=(Pv,Tv,Vv,Av)=>{const y0=Oe?Oe(Pv,Tv,Vv):[],av=Vv==="start",fv=Av||(av?ec.value:dr.value),lv=fv.hour(),kv=fv.minute();if(Pv!==lv||Tv!==kv)return y0;const Iv=fv.second(),vv=av?g(Iv+1,59):g(0,Iv-1);return union(y0,vv)},Cv=([Pv,Tv])=>[Hv(Pv,"start",!0,Tv),Hv(Tv,"end",!1,Pv)],{getAvailableHours:uv,getAvailableMinutes:yv,getAvailableSeconds:$v}=buildAvailableTimeSlotGetter(dv,pv,mv),{timePickerOptions:Dv,getAvailableTime:Hv,onSetOption:Gv}=useTimePanel({getAvailableHours:uv,getAvailableMinutes:yv,getAvailableSeconds:$v}),f0=Pv=>Pv?isArray$1(Pv)?Pv.map(Tv=>dayjs(Tv,n.format).locale(y.value)):dayjs(Pv,n.format).locale(y.value):null,qv=()=>{if(isArray$1(ur))return ur.map(Tv=>dayjs(Tv).locale(y.value));const Pv=dayjs(ur).locale(y.value);return[Pv,Pv.add(60,"m")]};return r("set-picker-option",["parseUserInput",f0]),r("set-picker-option",["isValidValue",Km]),r("set-picker-option",["handleKeydownInput",Jm]),r("set-picker-option",["getDefaultValue",qv]),r("set-picker-option",["getRangeAvailableTime",Cv]),(Pv,Tv)=>Pv.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(k).b("range-picker"),unref(L).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref(k).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref(k).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(k).be("range-picker","header"))},toDisplayString$1(unref($)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass(hr.value)},[createVNode(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":rc.value,"am-pm-mode":ic.value,"arrow-control":unref(z),"spinner-date":dr.value,"disabled-hours":dv,"disabled-minutes":pv,"disabled-seconds":mv,onChange:qm,onSetOption:unref(Gv),onSelectRange:gv},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref(k).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(k).be("range-picker","header"))},toDisplayString$1(unref($)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass(Vr.value)},[createVNode(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":rc.value,"am-pm-mode":ic.value,"arrow-control":unref(z),"spinner-date":ec.value,"disabled-hours":dv,"disabled-minutes":pv,"disabled-seconds":mv,onChange:Xm,onSetOption:unref(Gv),onSelectRange:wv},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref(k).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(k).be("panel","btn"),"cancel"]),onClick:Tv[0]||(Tv[0]=Vv=>Xs())},toDisplayString$1(unref($)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(k).be("panel","btn"),"confirm"]),disabled:nv.value,onClick:Tv[1]||(Tv[1]=Vv=>_c())},toDisplayString$1(unref($)("el.datepicker.confirm")),11,_hoisted_1$T)],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc$1(_sfc_main$1A,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:Boolean},emits:[UPDATE_MODEL_EVENT],setup(t,e){const n=ref(),[r,g]=t.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],$=y=>e.emit(UPDATE_MODEL_EVENT,y);return provide(PICKER_POPPER_OPTIONS_INJECTION_KEY,t.popperOptions),e.expose({focus:()=>{var y;(y=n.value)==null||y.focus()},blur:()=>{var y;(y=n.value)==null||y.blur()},handleOpen:()=>{var y;(y=n.value)==null||y.handleOpen()},handleClose:()=>{var y;(y=n.value)==null||y.handleClose()}}),()=>{var y;const k=(y=t.format)!=null?y:DEFAULT_FORMATS_TIME;return createVNode(CommonPicker,mergeProps(t,{ref:n,type:r,format:k,"onUpdate:modelValue":$}),{default:L=>createVNode(g,L,null)})}}});const ElTimePicker=withInstall(TimePicker);var advancedFormat$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){return function(n,r){var g=r.prototype,$=g.format;g.format=function(y){var k=this,L=this.$locale();if(!this.isValid())return $.bind(this)(y);var V=this.$utils(),z=(y||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(j){switch(j){case"Q":return Math.ceil((k.$M+1)/3);case"Do":return L.ordinal(k.$D);case"gggg":return k.weekYear();case"GGGG":return k.isoWeekYear();case"wo":return L.ordinal(k.week(),"W");case"w":case"ww":return V.s(k.week(),j==="w"?1:2,"0");case"W":case"WW":return V.s(k.isoWeek(),j==="W"?1:2,"0");case"k":case"kk":return V.s(String(k.$H===0?24:k.$H),j==="k"?1:2,"0");case"X":return Math.floor(k.$d.getTime()/1e3);case"x":return k.$d.getTime();case"z":return"["+k.offsetName()+"]";case"zzz":return"["+k.offsetName("long")+"]";default:return j}});return $.bind(this)(z)}}})})(advancedFormat$1);var advancedFormatExports=advancedFormat$1.exports;const advancedFormat=getDefaultExportFromCjs(advancedFormatExports);var weekOfYear$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){var n="week",r="year";return function(g,$,y){var k=$.prototype;k.week=function(L){if(L===void 0&&(L=null),L!==null)return this.add(7*(L-this.week()),"day");var V=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var z=y(this).startOf(r).add(1,r).date(V),j=y(this).endOf(n);if(z.isBefore(j))return 1}var ie=y(this).startOf(r).date(V).startOf(n).subtract(1,"millisecond"),Oe=this.diff(ie,n,!0);return Oe<0?y(this).startOf("week").week():Math.ceil(Oe)},k.weeks=function(L){return L===void 0&&(L=null),this.week(L)}}})})(weekOfYear$1);var weekOfYearExports=weekOfYear$1.exports;const weekOfYear=getDefaultExportFromCjs(weekOfYearExports);var weekYear$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){return function(n,r){r.prototype.weekYear=function(){var g=this.month(),$=this.week(),y=this.year();return $===1&&g===11?y+1:g===0&&$>=52?y-1:y}}})})(weekYear$1);var weekYearExports=weekYear$1.exports;const weekYear=getDefaultExportFromCjs(weekYearExports);var dayOfYear$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){return function(n,r,g){r.prototype.dayOfYear=function($){var y=Math.round((g(this).startOf("day")-g(this).startOf("year"))/864e5)+1;return $==null?y:this.add($-y,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports);var isSameOrAfter$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){return function(n,r){r.prototype.isSameOrAfter=function(g,$){return this.isSame(g,$)||this.isAfter(g,$)}}})})(isSameOrAfter$1);var isSameOrAfterExports=isSameOrAfter$1.exports;const isSameOrAfter=getDefaultExportFromCjs(isSameOrAfterExports);var isSameOrBefore$1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(commonjsGlobal,function(){return function(n,r){r.prototype.isSameOrBefore=function(g,$){return this.isSame(g,$)||this.isBefore(g,$)}}})})(isSameOrBefore$1);var isSameOrBeforeExports=isSameOrBefore$1.exports;const isSameOrBefore=getDefaultExportFromCjs(isSameOrBeforeExports),datePickerPanelProps=buildProps({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:Boolean,...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:definePropType(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),ROOT_PICKER_INJECTION_KEY=Symbol("rootPickerContextKey"),ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY="ElIsDefaultFormat",selectionModes=["date","dates","year","years","month","months","week","range"],datePickerSharedProps=buildProps({cellClassName:{type:definePropType(Function)},disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=t=>({type:String,values:selectionModes,default:t}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),isValidRange=t=>{if(!isArray$1(t))return!1;const[e,n]=t;return dayjs.isDayjs(e)&&dayjs.isDayjs(n)&&dayjs(e).isValid()&&dayjs(n).isValid()&&e.isSameOrBefore(n)},getDefaultValue=(t,{lang:e,step:n=1,unit:r,unlinkPanels:g})=>{let $;if(isArray$1(t)){let[y,k]=t.map(L=>dayjs(L).locale(e));return g||(k=y.add(n,r)),[y,k]}else t?$=dayjs(t):$=dayjs();return $=$.locale(e),[$,$.add(n,r)]},buildPickerTable=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:g,now:$,unit:y,relativeDateGetter:k,setCellMetadata:L,setRowMetadata:V})=>{for(let z=0;z<t.row;z++){const j=e[z];for(let ie=0;ie<t.column;ie++){let Oe=j[ie+n];Oe||(Oe={row:z,column:ie,type:"normal",inRange:!1,start:!1,end:!1});const ur=z*t.column+ie,hr=k(ur);Oe.dayjs=hr,Oe.date=hr.toDate(),Oe.timestamp=hr.valueOf(),Oe.type="normal",Oe.inRange=!!(r&&hr.isSameOrAfter(r,y)&&g&&hr.isSameOrBefore(g,y))||!!(r&&hr.isSameOrBefore(r,y)&&g&&hr.isSameOrAfter(g,y)),r!=null&&r.isSameOrAfter(g)?(Oe.start=!!g&&hr.isSame(g,y),Oe.end=r&&hr.isSame(r,y)):(Oe.start=!!r&&hr.isSame(r,y),Oe.end=!!g&&hr.isSame(g,y)),hr.isSame($,y)&&(Oe.type="today"),L==null||L(Oe,{rowIndex:z,columnIndex:ie}),j[ie+n]=Oe}V==null||V(j)}},datesInMonth=(t,e,n,r)=>{const g=dayjs().locale(r).startOf("month").month(n).year(e).hour(t.hour()).minute(t.minute()).second(t.second()),$=g.daysInMonth();return rangeArr($).map(y=>g.add(y,"day").toDate())},getValidDateOfMonth=(t,e,n,r,g)=>{const $=dayjs().year(e).month(n).startOf("month").hour(t.hour()).minute(t.minute()).second(t.second()),y=datesInMonth(t,e,n,r).find(k=>!(g!=null&&g(k)));return y?dayjs(y).locale(r):$.locale(r)},getValidDateOfYear=(t,e,n)=>{const r=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const g=t.month();if(!datesInMonth(t,r,g,e).every(n))return getValidDateOfMonth(t,r,g,e,n);for(let $=0;$<12;$++)if(!datesInMonth(t,r,$,e).every(n))return getValidDateOfMonth(t,r,$,e,n);return t},correctlyParseUserInput=(t,e,n,r)=>{if(isArray$1(t))return t.map(g=>correctlyParseUserInput(g,e,n,r));if(isString$1(t)){const g=r!=null&&r.value?dayjs(t):dayjs(t,e);if(!g.isValid())return g}return dayjs(t,e).locale(n)},basicDateTableProps=buildProps({...datePickerSharedProps,showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),basicDateTableEmits=["changerange","pick","select"],isNormalDay=(t="")=>["normal","today"].includes(t),useBasicDateTable=(t,e)=>{const{lang:n}=useLocale(),r=ref(),g=ref(),$=ref(),y=ref(),k=ref([[],[],[],[],[],[]]);let L=!1;const V=t.date.$locale().weekStart||7,z=t.date.locale("en").localeData().weekdaysShort().map(dv=>dv.toLowerCase()),j=computed(()=>V>3?7-V:-V),ie=computed(()=>{const dv=t.date.startOf("month");return dv.subtract(dv.day()||7,"day")}),Oe=computed(()=>z.concat(z).slice(V,V+7)),ur=computed(()=>flatten(unref(Xs)).some(dv=>dv.isCurrent)),hr=computed(()=>{const dv=t.date.startOf("month"),pv=dv.day()||7,mv=dv.daysInMonth(),Cv=dv.subtract(1,"month").daysInMonth();return{startOfMonthDay:pv,dateCountOfMonth:mv,dateCountOfLastMonth:Cv}}),Vr=computed(()=>t.selectionMode==="dates"?castArray(t.parsedValue):[]),dr=(dv,{count:pv,rowIndex:mv,columnIndex:Cv})=>{const{startOfMonthDay:uv,dateCountOfMonth:yv,dateCountOfLastMonth:$v}=unref(hr),Dv=unref(j);if(mv>=0&&mv<=1){const Hv=uv+Dv<0?7+uv+Dv:uv+Dv;if(Cv+mv*7>=Hv)return dv.text=pv,!0;dv.text=$v-(Hv-Cv%7)+1+mv*7,dv.type="prev-month"}else return pv<=yv?dv.text=pv:(dv.text=pv-yv,dv.type="next-month"),!0;return!1},ec=(dv,{columnIndex:pv,rowIndex:mv},Cv)=>{const{disabledDate:uv,cellClassName:yv}=t,$v=unref(Vr),Dv=dr(dv,{count:Cv,rowIndex:mv,columnIndex:pv}),Hv=dv.dayjs.toDate();return dv.selected=$v.find(Gv=>Gv.isSame(dv.dayjs,"day")),dv.isSelected=!!dv.selected,dv.isCurrent=ic(dv),dv.disabled=uv==null?void 0:uv(Hv),dv.customClass=yv==null?void 0:yv(Hv),Dv},tc=dv=>{if(t.selectionMode==="week"){const[pv,mv]=t.showWeekNumber?[1,7]:[0,6],Cv=Jm(dv[pv+1]);dv[pv].inRange=Cv,dv[pv].start=Cv,dv[mv].inRange=Cv,dv[mv].end=Cv}},Xs=computed(()=>{const{minDate:dv,maxDate:pv,rangeState:mv,showWeekNumber:Cv}=t,uv=unref(j),yv=unref(k),$v="day";let Dv=1;if(buildPickerTable({row:6,column:7},yv,{startDate:dv,columnIndexOffset:Cv?1:0,nextEndDate:mv.endDate||pv||mv.selecting&&dv||null,now:dayjs().locale(unref(n)).startOf($v),unit:$v,relativeDateGetter:Hv=>unref(ie).add(Hv-uv,$v),setCellMetadata:(...Hv)=>{ec(...Hv,Dv)&&(Dv+=1)},setRowMetadata:tc}),Cv)for(let Hv=0;Hv<6;Hv++)yv[Hv][1].dayjs&&(yv[Hv][0]={type:"week",text:yv[Hv][1].dayjs.week()});return yv});watch(()=>t.date,async()=>{var dv;(dv=unref(r))!=null&&dv.contains(document.activeElement)&&(await nextTick(),await rc())});const rc=async()=>{var dv;return(dv=unref(g))==null?void 0:dv.focus()},ic=dv=>t.selectionMode==="date"&&isNormalDay(dv.type)&&_c(dv,t.parsedValue),_c=(dv,pv)=>pv?dayjs(pv).locale(unref(n)).isSame(t.date.date(Number(dv.text)),"day"):!1,qm=(dv,pv)=>{const mv=dv*7+(pv-(t.showWeekNumber?1:0))-unref(j);return unref(ie).add(mv,"day")},Xm=dv=>{var pv;if(!t.rangeState.selecting)return;let mv=dv.target;if(mv.tagName==="SPAN"&&(mv=(pv=mv.parentNode)==null?void 0:pv.parentNode),mv.tagName==="DIV"&&(mv=mv.parentNode),mv.tagName!=="TD")return;const Cv=mv.parentNode.rowIndex-1,uv=mv.cellIndex;unref(Xs)[Cv][uv].disabled||(Cv!==unref($)||uv!==unref(y))&&($.value=Cv,y.value=uv,e("changerange",{selecting:!0,endDate:qm(Cv,uv)}))},Km=dv=>!unref(ur)&&(dv==null?void 0:dv.text)===1&&isNormalDay(dv.type)||dv.isCurrent,tv=dv=>{L||unref(ur)||t.selectionMode!=="date"||rv(dv,!0)},nv=dv=>{dv.target.closest("td")&&(L=!0)},sv=dv=>{dv.target.closest("td")&&(L=!1)},gv=dv=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:dv,maxDate:null}),e("select",!0)):(dv>=t.minDate?e("pick",{minDate:t.minDate,maxDate:dv}):e("pick",{minDate:dv,maxDate:t.minDate}),e("select",!1))},Sv=dv=>{const pv=dv.week(),mv=`${dv.year()}w${pv}`;e("pick",{year:dv.year(),week:pv,value:mv,date:dv.startOf("week")})},wv=(dv,pv)=>{const mv=pv?castArray(t.parsedValue).filter(Cv=>(Cv==null?void 0:Cv.valueOf())!==dv.valueOf()):castArray(t.parsedValue).concat([dv]);e("pick",mv)},rv=(dv,pv=!1)=>{if(t.disabled)return;const mv=dv.target.closest("td");if(!mv)return;const Cv=mv.parentNode.rowIndex-1,uv=mv.cellIndex,yv=unref(Xs)[Cv][uv];if(yv.disabled||yv.type==="week")return;const $v=qm(Cv,uv);switch(t.selectionMode){case"range":{gv($v);break}case"date":{e("pick",$v,pv);break}case"week":{Sv($v);break}case"dates":{wv($v,!!yv.selected);break}}},Jm=dv=>{if(t.selectionMode!=="week")return!1;let pv=t.date.startOf("day");if(dv.type==="prev-month"&&(pv=pv.subtract(1,"month")),dv.type==="next-month"&&(pv=pv.add(1,"month")),pv=pv.date(Number.parseInt(dv.text,10)),t.parsedValue&&!isArray$1(t.parsedValue)){const mv=(t.parsedValue.day()-V+7)%7-1;return t.parsedValue.subtract(mv,"day").isSame(pv,"day")}return!1};return{WEEKS:Oe,rows:Xs,tbodyRef:r,currentCellRef:g,focus:rc,isCurrent:ic,isWeekActive:Jm,isSelectedCell:Km,handlePickDate:rv,handleMouseUp:sv,handleMouseDown:nv,handleMouseMove:Xm,handleFocus:tv}},useBasicDateTableDOM=(t,{isCurrent:e,isWeekActive:n})=>{const r=useNamespace("date-table"),{t:g}=useLocale(),$=computed(()=>[r.b(),r.is("week-mode",t.selectionMode==="week"&&!t.disabled)]),y=computed(()=>g("el.datepicker.dateTablePrompt")),k=V=>{const z=[];return isNormalDay(V.type)&&!V.disabled?(z.push("available"),V.type==="today"&&z.push("today")):z.push(V.type),e(V)&&z.push("current"),V.inRange&&(isNormalDay(V.type)||t.selectionMode==="week")&&(z.push("in-range"),V.start&&z.push("start-date"),V.end&&z.push("end-date")),(V.disabled||t.disabled)&&z.push("disabled"),V.selected&&z.push("selected"),V.customClass&&z.push(V.customClass),z.join(" ")},L=V=>[r.e("row"),{current:n(V)}];return{tableKls:$,tableLabel:y,weekHeaderClass:r.e("week-header"),getCellClasses:k,getRowKls:L,t:g}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(t){const e=useNamespace("date-table-cell"),{slots:n}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:r}=t;return renderSlot(n,"default",{...r},()=>{var g;return[createVNode("div",{class:e.b()},[createVNode("span",{class:e.e("text")},[(g=r==null?void 0:r.renderText)!=null?g:r==null?void 0:r.text])])]})}}});const _hoisted_1$S=["aria-label"],_hoisted_2$x=["aria-label"],_hoisted_3$g=["aria-current","aria-selected","tabindex","aria-disabled"],_sfc_main$1z=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:basicDateTableEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{WEEKS:$,rows:y,tbodyRef:k,currentCellRef:L,focus:V,isCurrent:z,isWeekActive:j,isSelectedCell:ie,handlePickDate:Oe,handleMouseUp:ur,handleMouseDown:hr,handleMouseMove:Vr,handleFocus:dr}=useBasicDateTable(r,g),{tableLabel:ec,tableKls:tc,getCellClasses:Xs,getRowKls:rc,weekHeaderClass:ic,t:_c}=useBasicDateTableDOM(r,{isCurrent:z,isWeekActive:j});let qm=!1;return onBeforeUnmount(()=>{qm=!0}),e({focus:V}),(Xm,Km)=>(openBlock(),createElementBlock("table",{"aria-label":unref(ec),class:normalizeClass(unref(tc)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:Km[1]||(Km[1]=(...tv)=>unref(Oe)&&unref(Oe)(...tv)),onMousemove:Km[2]||(Km[2]=(...tv)=>unref(Vr)&&unref(Vr)(...tv)),onMousedown:Km[3]||(Km[3]=(...tv)=>unref(hr)&&unref(hr)(...tv)),onMouseup:Km[4]||(Km[4]=(...tv)=>unref(ur)&&unref(ur)(...tv))},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:k},[createBaseVNode("tr",null,[Xm.showWeekNumber?(openBlock(),createElementBlock("th",{key:0,scope:"col",class:normalizeClass(unref(ic))},null,2)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(tv,nv)=>(openBlock(),createElementBlock("th",{key:nv,"aria-label":unref(_c)("el.datepicker.weeksFull."+tv),scope:"col"},toDisplayString$1(unref(_c)("el.datepicker.weeks."+tv)),9,_hoisted_2$x))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(y),(tv,nv)=>(openBlock(),createElementBlock("tr",{key:nv,class:normalizeClass(unref(rc)(Xm.showWeekNumber?tv[2]:tv[1]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(tv,(sv,gv)=>(openBlock(),createElementBlock("td",{key:`${nv}.${gv}`,ref_for:!0,ref:Sv=>!unref(qm)&&unref(ie)(sv)&&(L.value=Sv),class:normalizeClass(unref(Xs)(sv)),"aria-current":sv.isCurrent?"date":void 0,"aria-selected":sv.isCurrent,tabindex:Xm.disabled?void 0:unref(ie)(sv)?0:-1,"aria-disabled":Xm.disabled,onFocus:Km[0]||(Km[0]=(...Sv)=>unref(dr)&&unref(dr)(...Sv))},[createVNode(unref(ElDatePickerCell),{cell:sv},null,8,["cell"])],42,_hoisted_3$g))),128))],2))),128))],512)],42,_hoisted_1$S))}});var DateTable=_export_sfc$1(_sfc_main$1z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_hoisted_1$R=["aria-label"],_hoisted_2$w=["aria-selected","aria-label","tabindex","onKeydown"],_sfc_main$1y=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,g=n,$=useNamespace("month-table"),{t:y,lang:k}=useLocale(),L=ref(),V=ref(),z=ref(r.date.locale("en").localeData().monthsShort().map(Xs=>Xs.toLowerCase())),j=ref([[],[],[]]),ie=ref(),Oe=ref(),ur=computed(()=>{var Xs,rc,ic;const _c=j.value,qm=dayjs().locale(k.value).startOf("month");for(let Xm=0;Xm<3;Xm++){const Km=_c[Xm];for(let tv=0;tv<4;tv++){const nv=Km[tv]||(Km[tv]={row:Xm,column:tv,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});nv.type="normal";const sv=Xm*4+tv,gv=r.date.startOf("year").month(sv),Sv=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;nv.inRange=!!(r.minDate&&gv.isSameOrAfter(r.minDate,"month")&&Sv&&gv.isSameOrBefore(Sv,"month"))||!!(r.minDate&&gv.isSameOrBefore(r.minDate,"month")&&Sv&&gv.isSameOrAfter(Sv,"month")),(Xs=r.minDate)!=null&&Xs.isSameOrAfter(Sv)?(nv.start=!!(Sv&&gv.isSame(Sv,"month")),nv.end=r.minDate&&gv.isSame(r.minDate,"month")):(nv.start=!!(r.minDate&&gv.isSame(r.minDate,"month")),nv.end=!!(Sv&&gv.isSame(Sv,"month"))),qm.isSame(gv)&&(nv.type="today");const rv=gv.toDate();nv.text=sv,nv.disabled=((rc=r.disabledDate)==null?void 0:rc.call(r,rv))||!1,nv.date=rv,nv.customClass=(ic=r.cellClassName)==null?void 0:ic.call(r,rv),nv.dayjs=gv,nv.timestamp=gv.valueOf(),nv.isSelected=dr(nv)}}return _c}),hr=()=>{var Xs;(Xs=V.value)==null||Xs.focus()},Vr=Xs=>{const rc={},ic=r.date.year(),_c=new Date,qm=Xs.text;return rc.disabled=r.disabled||(r.disabledDate?datesInMonth(r.date,ic,qm,k.value).every(r.disabledDate):!1),rc.current=castArray(r.parsedValue).some(Xm=>dayjs.isDayjs(Xm)&&Xm.year()===ic&&Xm.month()===qm),rc.today=_c.getFullYear()===ic&&_c.getMonth()===qm,Xs.customClass&&(rc[Xs.customClass]=!0),Xs.inRange&&(rc["in-range"]=!0,Xs.start&&(rc["start-date"]=!0),Xs.end&&(rc["end-date"]=!0)),rc},dr=Xs=>{const rc=r.date.year(),ic=Xs.text;return castArray(r.date).some(_c=>_c.year()===rc&&_c.month()===ic)},ec=Xs=>{var rc;if(!r.rangeState.selecting)return;let ic=Xs.target;if(ic.tagName==="SPAN"&&(ic=(rc=ic.parentNode)==null?void 0:rc.parentNode),ic.tagName==="DIV"&&(ic=ic.parentNode),ic.tagName!=="TD")return;const _c=ic.parentNode.rowIndex,qm=ic.cellIndex;ur.value[_c][qm].disabled||(_c!==ie.value||qm!==Oe.value)&&(ie.value=_c,Oe.value=qm,g("changerange",{selecting:!0,endDate:r.date.startOf("year").month(_c*4+qm)}))},tc=Xs=>{var rc;if(r.disabled)return;const ic=(rc=Xs.target)==null?void 0:rc.closest("td");if((ic==null?void 0:ic.tagName)!=="TD"||hasClass(ic,"disabled"))return;const _c=ic.cellIndex,Xm=ic.parentNode.rowIndex*4+_c,Km=r.date.startOf("year").month(Xm);if(r.selectionMode==="months"){if(Xs.type==="keydown"){g("pick",castArray(r.parsedValue),!1);return}const tv=getValidDateOfMonth(r.date,r.date.year(),Xm,k.value,r.disabledDate),nv=hasClass(ic,"current")?castArray(r.parsedValue).filter(sv=>(sv==null?void 0:sv.year())!==tv.year()||(sv==null?void 0:sv.month())!==tv.month()):castArray(r.parsedValue).concat([dayjs(tv)]);g("pick",nv)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&Km>=r.minDate?g("pick",{minDate:r.minDate,maxDate:Km}):g("pick",{minDate:Km,maxDate:r.minDate}),g("select",!1)):(g("pick",{minDate:Km,maxDate:null}),g("select",!0)):g("pick",Xm)};return watch(()=>r.date,async()=>{var Xs,rc;(Xs=L.value)!=null&&Xs.contains(document.activeElement)&&(await nextTick(),(rc=V.value)==null||rc.focus())}),e({focus:hr}),(Xs,rc)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(y)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref($).b()),onClick:tc,onMousemove:ec},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:L},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ur.value,(ic,_c)=>(openBlock(),createElementBlock("tr",{key:_c},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ic,(qm,Xm)=>(openBlock(),createElementBlock("td",{key:Xm,ref_for:!0,ref:Km=>qm.isSelected&&(V.value=Km),class:normalizeClass(Vr(qm)),"aria-selected":!!qm.isSelected,"aria-label":unref(y)(`el.datepicker.month${+qm.text+1}`),tabindex:qm.isSelected?0:-1,onKeydown:[withKeys(withModifiers(tc,["prevent","stop"]),["space"]),withKeys(withModifiers(tc,["prevent","stop"]),["enter"])]},[createVNode(unref(ElDatePickerCell),{cell:{...qm,renderText:unref(y)("el.datepicker.months."+z.value[qm.text])}},null,8,["cell"])],42,_hoisted_2$w))),128))]))),128))],512)],42,_hoisted_1$R))}});var MonthTable=_export_sfc$1(_sfc_main$1y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue"]]);const basicYearTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("year")}),_hoisted_1$Q=["aria-label"],_hoisted_2$v=["aria-selected","aria-label","tabindex","onKeydown"],_sfc_main$1x=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=(rc,ic)=>{const _c=dayjs(String(rc)).locale(ic).startOf("year"),Xm=_c.endOf("year").dayOfYear();return rangeArr(Xm).map(Km=>_c.add(Km,"day").toDate())},g=t,$=n,y=useNamespace("year-table"),{t:k,lang:L}=useLocale(),V=ref(),z=ref(),j=computed(()=>Math.floor(g.date.year()/10)*10),ie=ref([[],[],[]]),Oe=ref(),ur=ref(),hr=computed(()=>{var rc,ic,_c;const qm=ie.value,Xm=dayjs().locale(L.value).startOf("year");for(let Km=0;Km<3;Km++){const tv=qm[Km];for(let nv=0;nv<4&&!(Km*4+nv>=10);nv++){let sv=tv[nv];sv||(sv={row:Km,column:nv,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),sv.type="normal";const gv=Km*4+nv+j.value,Sv=dayjs().year(gv),wv=g.rangeState.endDate||g.maxDate||g.rangeState.selecting&&g.minDate||null;sv.inRange=!!(g.minDate&&Sv.isSameOrAfter(g.minDate,"year")&&wv&&Sv.isSameOrBefore(wv,"year"))||!!(g.minDate&&Sv.isSameOrBefore(g.minDate,"year")&&wv&&Sv.isSameOrAfter(wv,"year")),(rc=g.minDate)!=null&&rc.isSameOrAfter(wv)?(sv.start=!!(wv&&Sv.isSame(wv,"year")),sv.end=!!(g.minDate&&Sv.isSame(g.minDate,"year"))):(sv.start=!!(g.minDate&&Sv.isSame(g.minDate,"year")),sv.end=!!(wv&&Sv.isSame(wv,"year"))),Xm.isSame(Sv)&&(sv.type="today"),sv.text=gv;const Jm=Sv.toDate();sv.disabled=((ic=g.disabledDate)==null?void 0:ic.call(g,Jm))||!1,sv.date=Jm,sv.customClass=(_c=g.cellClassName)==null?void 0:_c.call(g,Jm),sv.dayjs=Sv,sv.timestamp=Sv.valueOf(),sv.isSelected=ec(sv),tv[nv]=sv}}return qm}),Vr=()=>{var rc;(rc=z.value)==null||rc.focus()},dr=rc=>{const ic={},_c=dayjs().locale(L.value),qm=rc.text;return ic.disabled=g.disabled||(g.disabledDate?r(qm,L.value).every(g.disabledDate):!1),ic.today=_c.year()===qm,ic.current=castArray(g.parsedValue).some(Xm=>Xm.year()===qm),rc.customClass&&(ic[rc.customClass]=!0),rc.inRange&&(ic["in-range"]=!0,rc.start&&(ic["start-date"]=!0),rc.end&&(ic["end-date"]=!0)),ic},ec=rc=>{const ic=rc.text;return castArray(g.date).some(_c=>_c.year()===ic)},tc=rc=>{var ic;if(g.disabled)return;const _c=(ic=rc.target)==null?void 0:ic.closest("td");if(!_c||!_c.textContent||hasClass(_c,"disabled"))return;const qm=_c.cellIndex,Km=_c.parentNode.rowIndex*4+qm+j.value,tv=dayjs().year(Km);if(g.selectionMode==="range")g.rangeState.selecting?(g.minDate&&tv>=g.minDate?$("pick",{minDate:g.minDate,maxDate:tv}):$("pick",{minDate:tv,maxDate:g.minDate}),$("select",!1)):($("pick",{minDate:tv,maxDate:null}),$("select",!0));else if(g.selectionMode==="years"){if(rc.type==="keydown"){$("pick",castArray(g.parsedValue),!1);return}const nv=getValidDateOfYear(tv.startOf("year"),L.value,g.disabledDate),sv=hasClass(_c,"current")?castArray(g.parsedValue).filter(gv=>(gv==null?void 0:gv.year())!==Km):castArray(g.parsedValue).concat([nv]);$("pick",sv)}else $("pick",Km)},Xs=rc=>{var ic;if(!g.rangeState.selecting)return;const _c=(ic=rc.target)==null?void 0:ic.closest("td");if(!_c)return;const qm=_c.parentNode.rowIndex,Xm=_c.cellIndex;hr.value[qm][Xm].disabled||(qm!==Oe.value||Xm!==ur.value)&&(Oe.value=qm,ur.value=Xm,$("changerange",{selecting:!0,endDate:dayjs().year(j.value).add(qm*4+Xm,"year")}))};return watch(()=>g.date,async()=>{var rc,ic;(rc=V.value)!=null&&rc.contains(document.activeElement)&&(await nextTick(),(ic=z.value)==null||ic.focus())}),e({focus:Vr}),(rc,ic)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(k)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(y).b()),onClick:tc,onMousemove:Xs},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:V},[(openBlock(!0),createElementBlock(Fragment,null,renderList(hr.value,(_c,qm)=>(openBlock(),createElementBlock("tr",{key:qm},[(openBlock(!0),createElementBlock(Fragment,null,renderList(_c,(Xm,Km)=>(openBlock(),createElementBlock("td",{key:`${qm}_${Km}`,ref_for:!0,ref:tv=>Xm.isSelected&&(z.value=tv),class:normalizeClass(["available",dr(Xm)]),"aria-selected":Xm.isSelected,"aria-label":String(Xm.text),tabindex:Xm.isSelected?0:-1,onKeydown:[withKeys(withModifiers(tc,["prevent","stop"]),["space"]),withKeys(withModifiers(tc,["prevent","stop"]),["enter"])]},[createVNode(unref(ElDatePickerCell),{cell:Xm},null,8,["cell"])],42,_hoisted_2$v))),128))]))),128))],512)],42,_hoisted_1$Q))}});var YearTable=_export_sfc$1(_sfc_main$1x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue"]]);const _hoisted_1$P=["disabled","onClick"],_hoisted_2$u=["aria-label","disabled"],_hoisted_3$f=["aria-label","disabled"],_hoisted_4$b=["tabindex","aria-disabled"],_hoisted_5$8=["tabindex","aria-disabled"],_hoisted_6$3=["aria-label","disabled"],_hoisted_7$2=["aria-label","disabled"],_sfc_main$1w=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=(Zv,z0,_0)=>!0,r=t,g=e,$=useNamespace("picker-panel"),y=useNamespace("date-picker"),k=useAttrs$1(),L=useSlots(),{t:V,lang:z}=useLocale(),j=inject(PICKER_BASE_INJECTION_KEY),ie=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY,void 0),{shortcuts:Oe,disabledDate:ur,cellClassName:hr,defaultTime:Vr}=j.props,dr=toRef$1(j.props,"defaultValue"),ec=ref(),tc=ref(dayjs().locale(z.value)),Xs=ref(!1);let rc=!1;const ic=computed(()=>dayjs(Vr).locale(z.value)),_c=computed(()=>tc.value.month()),qm=computed(()=>tc.value.year()),Xm=ref([]),Km=ref(null),tv=ref(null),nv=Zv=>Xm.value.length>0?n(Zv,Xm.value,r.format||"HH:mm:ss"):!0,sv=Zv=>Vr&&!lv.value&&!Xs.value&&!rc?ic.value.year(Zv.year()).month(Zv.month()).date(Zv.date()):f0.value?Zv.millisecond(0):Zv.startOf("day"),gv=(Zv,...z0)=>{if(!Zv)g("pick",Zv,...z0);else if(isArray$1(Zv)){const _0=Zv.map(sv);g("pick",_0,...z0)}else g("pick",sv(Zv),...z0);Km.value=null,tv.value=null,Xs.value=!1,rc=!1},Sv=async(Zv,z0)=>{if(mv.value==="date"&&dayjs.isDayjs(Zv)){const _0=extractFirst(r.parsedValue);let q0=_0?_0.year(Zv.year()).month(Zv.month()).date(Zv.date()):Zv;nv(q0),tc.value=q0,gv(q0,f0.value||z0)}else mv.value==="week"?gv(Zv.date):mv.value==="dates"&&gv(Zv,!0)},wv=Zv=>{const z0=Zv?"add":"subtract";tc.value=tc.value[z0](1,"month"),W0("month")},rv=Zv=>{const z0=tc.value,_0=Zv?"add":"subtract";tc.value=Jm.value==="year"?z0[_0](10,"year"):z0[_0](1,"year"),W0("year")},Jm=ref("date"),dv=computed(()=>{const Zv=V("el.datepicker.year");if(Jm.value==="year"){const z0=Math.floor(qm.value/10)*10;return Zv?`${z0} ${Zv} - ${z0+9} ${Zv}`:`${z0} - ${z0+9}`}return`${qm.value} ${Zv}`}),pv=Zv=>{const z0=isFunction$1(Zv.value)?Zv.value():Zv.value;if(z0){rc=!0,gv(dayjs(z0).locale(z.value));return}Zv.onClick&&Zv.onClick({attrs:k,slots:L,emit:g})},mv=computed(()=>{const{type:Zv}=r;return["week","month","months","year","years","dates"].includes(Zv)?Zv:"date"}),Cv=computed(()=>mv.value==="dates"||mv.value==="months"||mv.value==="years"),uv=computed(()=>mv.value==="date"?Jm.value:mv.value),yv=computed(()=>!!Oe.length),$v=async(Zv,z0)=>{mv.value==="month"?(tc.value=getValidDateOfMonth(tc.value,tc.value.year(),Zv,z.value,ur),gv(tc.value,!1)):mv.value==="months"?gv(Zv,z0??!0):(tc.value=getValidDateOfMonth(tc.value,tc.value.year(),Zv,z.value,ur),Jm.value="date",["month","year","date","week"].includes(mv.value)&&(gv(tc.value,!0),await nextTick(),a1())),W0("month")},Dv=async(Zv,z0)=>{if(mv.value==="year"){const _0=tc.value.startOf("year").year(Zv);tc.value=getValidDateOfYear(_0,z.value,ur),gv(tc.value,!1)}else if(mv.value==="years")gv(Zv,z0??!0);else{const _0=tc.value.year(Zv);tc.value=getValidDateOfYear(_0,z.value,ur),Jm.value="month",["month","year","date","week"].includes(mv.value)&&(gv(tc.value,!0),await nextTick(),a1())}W0("year")},Hv=useFormDisabled(),Gv=async Zv=>{Hv.value||(Jm.value=Zv,await nextTick(),a1())},f0=computed(()=>r.type==="datetime"||r.type==="datetimerange"),qv=computed(()=>{const Zv=f0.value||mv.value==="dates",z0=mv.value==="years",_0=mv.value==="months",q0=Jm.value==="date",Rv=Jm.value==="year",k0=Jm.value==="month";return Zv&&q0||z0&&Rv||_0&&k0}),Pv=computed(()=>!Cv.value&&r.showNow||r.showConfirm),Tv=computed(()=>ur?r.parsedValue?isArray$1(r.parsedValue)?ur(r.parsedValue[0].toDate()):ur(r.parsedValue.toDate()):!0:!1),Vv=()=>{if(Cv.value)gv(r.parsedValue);else{let Zv=extractFirst(r.parsedValue);if(!Zv){const z0=dayjs(Vr).locale(z.value),_0=B0();Zv=z0.year(_0.year()).month(_0.month()).date(_0.date())}tc.value=Zv,gv(Zv)}},Av=computed(()=>ur?ur(dayjs().locale(z.value).toDate()):!1),y0=()=>{const z0=dayjs().locale(z.value).toDate();Xs.value=!0,(!ur||!ur(z0))&&nv(z0)&&(tc.value=dayjs().locale(z.value),gv(tc.value))},av=computed(()=>r.timeFormat||extractTimeFormat(r.format)||DEFAULT_FORMATS_TIME),fv=computed(()=>r.dateFormat||extractDateFormat(r.format)||DEFAULT_FORMATS_DATE),lv=computed(()=>tv.value?tv.value:!r.parsedValue&&!dr.value?void 0:(extractFirst(r.parsedValue)||tc.value).format(av.value)),kv=computed(()=>Km.value?Km.value:!r.parsedValue&&!dr.value?void 0:(extractFirst(r.parsedValue)||tc.value).format(fv.value)),Iv=ref(!1),vv=()=>{Iv.value=!0},Ev=()=>{Iv.value=!1},zv=Zv=>({hour:Zv.hour(),minute:Zv.minute(),second:Zv.second(),year:Zv.year(),month:Zv.month(),date:Zv.date()}),Fv=(Zv,z0,_0)=>{const{hour:q0,minute:Rv,second:k0}=zv(Zv),Ov=extractFirst(r.parsedValue),Kv=Ov?Ov.hour(q0).minute(Rv).second(k0):Zv;tc.value=Kv,gv(tc.value,!0),_0||(Iv.value=z0)},Yv=Zv=>{const z0=dayjs(Zv,av.value).locale(z.value);if(z0.isValid()&&nv(z0)){const{year:_0,month:q0,date:Rv}=zv(tc.value);tc.value=z0.year(_0).month(q0).date(Rv),tv.value=null,Iv.value=!1,gv(tc.value,!0)}},g0=Zv=>{const z0=correctlyParseUserInput(Zv,fv.value,z.value,ie);if(z0.isValid()){if(ur&&ur(z0.toDate()))return;const{hour:_0,minute:q0,second:Rv}=zv(tc.value);tc.value=z0.hour(_0).minute(q0).second(Rv),Km.value=null,gv(tc.value,!0)}},Qv=Zv=>dayjs.isDayjs(Zv)&&Zv.isValid()&&(ur?!ur(Zv.toDate()):!0),N0=Zv=>correctlyParseUserInput(Zv,r.format,z.value,ie),B0=()=>{const Zv=dayjs(dr.value).locale(z.value);if(!dr.value){const z0=ic.value;return dayjs().hour(z0.hour()).minute(z0.minute()).second(z0.second()).locale(z.value)}return Zv},a1=()=>{var Zv;["week","month","year","date"].includes(mv.value)&&((Zv=ec.value)==null||Zv.focus())},I0=()=>{a1(),mv.value==="week"&&D0(EVENT_CODE.down)},M0=Zv=>{const z0=getEventCode(Zv);[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(z0)&&(D0(z0),Zv.stopPropagation(),Zv.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(z0)&&Km.value===null&&tv.value===null&&(Zv.preventDefault(),gv(tc.value,!1))},D0=Zv=>{var z0;const{up:_0,down:q0,left:Rv,right:k0,home:Ov,end:Kv,pageUp:E0,pageDown:X0}=EVENT_CODE,l1={year:{[_0]:-4,[q0]:4,[Rv]:-1,[k0]:1,offset:(K0,J0)=>K0.setFullYear(K0.getFullYear()+J0)},month:{[_0]:-4,[q0]:4,[Rv]:-1,[k0]:1,offset:(K0,J0)=>K0.setMonth(K0.getMonth()+J0)},week:{[_0]:-1,[q0]:1,[Rv]:-1,[k0]:1,offset:(K0,J0)=>K0.setDate(K0.getDate()+J0*7)},date:{[_0]:-7,[q0]:7,[Rv]:-1,[k0]:1,[Ov]:K0=>-K0.getDay(),[Kv]:K0=>-K0.getDay()+6,[E0]:K0=>-new Date(K0.getFullYear(),K0.getMonth(),0).getDate(),[X0]:K0=>new Date(K0.getFullYear(),K0.getMonth()+1,0).getDate(),offset:(K0,J0)=>K0.setDate(K0.getDate()+J0)}},x1=tc.value.toDate();for(;Math.abs(tc.value.diff(x1,"year",!0))<1;){const K0=l1[uv.value];if(!K0)return;if(K0.offset(x1,isFunction$1(K0[Zv])?K0[Zv](x1):(z0=K0[Zv])!=null?z0:0),ur&&ur(x1))break;const J0=dayjs(x1).locale(z.value);tc.value=J0,g("pick",J0,!0);break}},W0=Zv=>{g("panel-change",tc.value.toDate(),Zv,Jm.value)};return watch(()=>mv.value,Zv=>{if(["month","year"].includes(Zv)){Jm.value=Zv;return}else if(Zv==="years"){Jm.value="year";return}else if(Zv==="months"){Jm.value="month";return}Jm.value="date"},{immediate:!0}),watch(()=>dr.value,Zv=>{Zv&&(tc.value=B0())},{immediate:!0}),watch(()=>r.parsedValue,Zv=>{if(Zv){if(Cv.value||isArray$1(Zv))return;tc.value=Zv}else tc.value=B0()},{immediate:!0}),g("set-picker-option",["isValidValue",Qv]),g("set-picker-option",["parseUserInput",N0]),g("set-picker-option",["handleFocusPicker",I0]),(Zv,z0)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref($).b(),unref(y).b(),unref($).is("border",Zv.border),unref($).is("disabled",unref(Hv)),{"has-sidebar":Zv.$slots.sidebar||yv.value,"has-time":f0.value}])},[createBaseVNode("div",{class:normalizeClass(unref($).e("body-wrapper"))},[renderSlot(Zv.$slots,"sidebar",{class:normalizeClass(unref($).e("sidebar"))}),yv.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Oe),(_0,q0)=>(openBlock(),createElementBlock("button",{key:q0,type:"button",disabled:unref(Hv),class:normalizeClass(unref($).e("shortcut")),onClick:Rv=>pv(_0)},toDisplayString$1(_0.text),11,_hoisted_1$P))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref($).e("body"))},[f0.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(y).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(V)("el.datepicker.selectDate"),"model-value":kv.value,size:"small","validate-event":!1,disabled:unref(Hv),readonly:!Zv.editable,onInput:z0[0]||(z0[0]=_0=>Km.value=_0),onChange:g0},null,8,["placeholder","model-value","disabled","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(y).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(V)("el.datepicker.selectTime"),"model-value":lv.value,size:"small","validate-event":!1,disabled:unref(Hv),readonly:!Zv.editable,onFocus:vv,onInput:z0[1]||(z0[1]=_0=>tv.value=_0),onChange:Yv},null,8,["placeholder","model-value","disabled","readonly"]),createVNode(unref(TimePickPanel),{visible:Iv.value,format:av.value,"parsed-value":tc.value,onPick:Fv},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Ev]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(y).e("header"),(Jm.value==="year"||Jm.value==="month")&&unref(y).em("header","bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(y).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(V)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref($).e("icon-btn")]),disabled:unref(Hv),onClick:z0[2]||(z0[2]=_0=>rv(!1))},[renderSlot(Zv.$slots,"prev-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})])],10,_hoisted_2$u),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(V)("el.datepicker.prevMonth"),class:normalizeClass([unref($).e("icon-btn"),"arrow-left"]),disabled:unref(Hv),onClick:z0[3]||(z0[3]=_0=>wv(!1))},[renderSlot(Zv.$slots,"prev-month",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})])],10,_hoisted_3$f),[[vShow,Jm.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(y).e("header-label")),"aria-live":"polite",tabindex:Zv.disabled?void 0:0,"aria-disabled":Zv.disabled,onKeydown:z0[4]||(z0[4]=withKeys(_0=>Gv("year"),["enter"])),onClick:z0[5]||(z0[5]=_0=>Gv("year"))},toDisplayString$1(dv.value),43,_hoisted_4$b),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:Zv.disabled?void 0:0,"aria-disabled":Zv.disabled,class:normalizeClass([unref(y).e("header-label"),{active:Jm.value==="month"}]),onKeydown:z0[6]||(z0[6]=withKeys(_0=>Gv("month"),["enter"])),onClick:z0[7]||(z0[7]=_0=>Gv("month"))},toDisplayString$1(unref(V)(`el.datepicker.month${_c.value+1}`)),43,_hoisted_5$8),[[vShow,Jm.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref(y).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(V)("el.datepicker.nextMonth"),class:normalizeClass([unref($).e("icon-btn"),"arrow-right"]),disabled:unref(Hv),onClick:z0[8]||(z0[8]=_0=>wv(!0))},[renderSlot(Zv.$slots,"next-month",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})])],10,_hoisted_6$3),[[vShow,Jm.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(V)("el.datepicker.nextYear"),class:normalizeClass([unref($).e("icon-btn"),"d-arrow-right"]),disabled:unref(Hv),onClick:z0[9]||(z0[9]=_0=>rv(!0))},[renderSlot(Zv.$slots,"next-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})])],10,_hoisted_7$2)],2)],2),[[vShow,Jm.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref($).e("content")),onKeydown:M0},[Jm.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:ec,"selection-mode":mv.value,date:tc.value,"parsed-value":Zv.parsedValue,"disabled-date":unref(ur),disabled:unref(Hv),"cell-class-name":unref(hr),"show-week-number":Zv.showWeekNumber,onPick:Sv},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):createCommentVNode("v-if",!0),Jm.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:ec,"selection-mode":mv.value,date:tc.value,"disabled-date":unref(ur),disabled:unref(Hv),"parsed-value":Zv.parsedValue,"cell-class-name":unref(hr),onPick:Dv},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):createCommentVNode("v-if",!0),Jm.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:ec,"selection-mode":mv.value,date:tc.value,"parsed-value":Zv.parsedValue,"disabled-date":unref(ur),disabled:unref(Hv),"cell-class-name":unref(hr),onPick:$v},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):createCommentVNode("v-if",!0)],34)],2)],2),Zv.showFooter&&qv.value&&Pv.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).e("footer"))},[withDirectives(createVNode(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref($).e("link-btn")),disabled:Av.value,onClick:y0},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(V)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[vShow,!Cv.value&&Zv.showNow]]),Zv.showConfirm?(openBlock(),createBlock(unref(ElButton),{key:0,plain:"",size:"small",class:normalizeClass(unref($).e("link-btn")),disabled:Tv.value,onClick:Vv},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(V)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],2))}});var DatePickPanel=_export_sfc$1(_sfc_main$1w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=t=>{const{emit:e}=getCurrentInstance(),n=useAttrs$1(),r=useSlots();return $=>{const y=isFunction$1($.value)?$.value():$.value;if(y){e("pick",[dayjs(y[0]).locale(t.value),dayjs(y[1]).locale(t.value)]);return}$.onClick&&$.onClick({attrs:n,slots:r,emit:e})}},useRangePicker=(t,{defaultValue:e,defaultTime:n,leftDate:r,rightDate:g,step:$,unit:y,sortDates:k})=>{const{emit:L}=getCurrentInstance(),{pickerNs:V}=inject(ROOT_PICKER_INJECTION_KEY),z=useNamespace("date-range-picker"),{t:j,lang:ie}=useLocale(),Oe=useShortcut(ie),ur=ref(),hr=ref(),Vr=ref({endDate:null,selecting:!1}),dr=ic=>{Vr.value=ic},ec=(ic=!1)=>{const _c=unref(ur),qm=unref(hr);isValidRange([_c,qm])&&L("pick",[_c,qm],ic)},tc=ic=>{Vr.value.selecting=ic,ic||(Vr.value.endDate=null)},Xs=ic=>{if(isArray$1(ic)&&ic.length===2){const[_c,qm]=ic;ur.value=_c,r.value=_c,hr.value=qm,k(unref(ur),unref(hr))}else rc()},rc=()=>{let[ic,_c]=getDefaultValue(unref(e),{lang:unref(ie),step:$,unit:y,unlinkPanels:t.unlinkPanels});const qm=Km=>Km.diff(Km.startOf("d"),"ms"),Xm=unref(n);if(Xm){let Km=0,tv=0;if(isArray$1(Xm)){const[nv,sv]=Xm.map(dayjs);Km=qm(nv),tv=qm(sv)}else{const nv=qm(dayjs(Xm));Km=nv,tv=nv}ic=ic.startOf("d").add(Km,"ms"),_c=_c.startOf("d").add(tv,"ms")}ur.value=void 0,hr.value=void 0,r.value=ic,g.value=_c};return watch(e,ic=>{ic&&rc()},{immediate:!0}),watch(()=>t.parsedValue,ic=>{(!(ic!=null&&ic.length)||!isEqual$1(ic,[ur.value,hr.value]))&&Xs(ic)},{immediate:!0}),watch(()=>t.visible,()=>{t.visible&&Xs(t.parsedValue)},{immediate:!0}),{minDate:ur,maxDate:hr,rangeState:Vr,lang:ie,ppNs:V,drpNs:z,handleChangeRange:dr,handleRangeConfirm:ec,handleShortcutClick:Oe,onSelect:tc,parseValue:Xs,t:j}},usePanelDateRange=(t,e,n,r)=>{const g=ref("date"),$=ref(),y=ref("date"),k=ref(),L=inject(PICKER_BASE_INJECTION_KEY),{disabledDate:V}=L.props,{t:z,lang:j}=useLocale(),ie=computed(()=>n.value.year()),Oe=computed(()=>n.value.month()),ur=computed(()=>r.value.year()),hr=computed(()=>r.value.month());function Vr(ic,_c){const qm=z("el.datepicker.year");if(ic.value==="year"){const Xm=Math.floor(_c.value/10)*10;return qm?`${Xm} ${qm} - ${Xm+9} ${qm}`:`${Xm} - ${Xm+9}`}return`${_c.value} ${qm}`}function dr(ic){ic==null||ic.focus()}async function ec(ic,_c){if(t.disabled)return;const qm=ic==="left"?g:y,Xm=ic==="left"?$:k;qm.value=_c,await nextTick(),dr(Xm.value)}async function tc(ic,_c,qm){if(t.disabled)return;const Xm=_c==="left",Km=Xm?n:r,tv=Xm?r:n,nv=Xm?g:y,sv=Xm?$:k;if(ic==="year"){const gv=Km.value.year(qm);Km.value=getValidDateOfYear(gv,j.value,V)}ic==="month"&&(Km.value=getValidDateOfMonth(Km.value,Km.value.year(),qm,j.value,V)),t.unlinkPanels||(tv.value=_c==="left"?Km.value.add(1,"month"):Km.value.subtract(1,"month")),nv.value=ic==="year"?"month":"date",await nextTick(),dr(sv.value),Xs(ic)}function Xs(ic){e("panel-change",[n.value.toDate(),r.value.toDate()],ic)}function rc(ic,_c,qm){const Xm=qm?"add":"subtract";return ic==="year"?_c[Xm](10,"year"):_c[Xm](1,"year")}return{leftCurrentView:g,rightCurrentView:y,leftCurrentViewRef:$,rightCurrentViewRef:k,leftYear:ie,rightYear:ur,leftMonth:Oe,rightMonth:hr,leftYearLabel:computed(()=>Vr(g,ie)),rightYearLabel:computed(()=>Vr(y,ur)),showLeftPicker:ic=>ec("left",ic),showRightPicker:ic=>ec("right",ic),handleLeftYearPick:ic=>tc("year","left",ic),handleRightYearPick:ic=>tc("year","right",ic),handleLeftMonthPick:ic=>tc("month","left",ic),handleRightMonthPick:ic=>tc("month","right",ic),handlePanelChange:Xs,adjustDateByView:rc}},_hoisted_1$O=["disabled","onClick"],_hoisted_2$t=["aria-label","disabled"],_hoisted_3$e=["aria-label","disabled"],_hoisted_4$a=["disabled","aria-label"],_hoisted_5$7=["disabled","aria-label"],_hoisted_6$2=["tabindex","aria-disabled"],_hoisted_7$1=["tabindex","aria-disabled"],_hoisted_8$1=["disabled","aria-label"],_hoisted_9$1=["disabled","aria-label"],_hoisted_10$1=["aria-label","disabled"],_hoisted_11$1=["disabled","aria-label"],_hoisted_12$1=["tabindex","aria-disabled"],_hoisted_13$1=["tabindex","aria-disabled"],unit$2="month",_sfc_main$1v=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=e,g=inject(PICKER_BASE_INJECTION_KEY),$=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY,void 0),{disabledDate:y,cellClassName:k,defaultTime:L,clearable:V}=g.props,z=toRef$1(g.props,"format"),j=toRef$1(g.props,"shortcuts"),ie=toRef$1(g.props,"defaultValue"),{lang:Oe}=useLocale(),ur=ref(dayjs().locale(Oe.value)),hr=ref(dayjs().locale(Oe.value).add(1,unit$2)),{minDate:Vr,maxDate:dr,rangeState:ec,ppNs:tc,drpNs:Xs,handleChangeRange:rc,handleRangeConfirm:ic,handleShortcutClick:_c,onSelect:qm,parseValue:Xm,t:Km}=useRangePicker(n,{defaultValue:ie,defaultTime:L,leftDate:ur,rightDate:hr,unit:unit$2,sortDates:x1});watch(()=>n.visible,K0=>{!K0&&ec.value.selecting&&(Xm(n.parsedValue),qm(!1))});const tv=ref({min:null,max:null}),nv=ref({min:null,max:null}),{leftCurrentView:sv,rightCurrentView:gv,leftCurrentViewRef:Sv,rightCurrentViewRef:wv,leftYear:rv,rightYear:Jm,leftMonth:dv,rightMonth:pv,leftYearLabel:mv,rightYearLabel:Cv,showLeftPicker:uv,showRightPicker:yv,handleLeftYearPick:$v,handleRightYearPick:Dv,handleLeftMonthPick:Hv,handleRightMonthPick:Gv,handlePanelChange:f0,adjustDateByView:qv}=usePanelDateRange(n,r,ur,hr),Pv=computed(()=>!!j.value.length),Tv=computed(()=>tv.value.min!==null?tv.value.min:Vr.value?Vr.value.format(fv.value):""),Vv=computed(()=>tv.value.max!==null?tv.value.max:dr.value||Vr.value?(dr.value||Vr.value).format(fv.value):""),Av=computed(()=>nv.value.min!==null?nv.value.min:Vr.value?Vr.value.format(av.value):""),y0=computed(()=>nv.value.max!==null?nv.value.max:dr.value||Vr.value?(dr.value||Vr.value).format(av.value):""),av=computed(()=>n.timeFormat||extractTimeFormat(z.value||"")||DEFAULT_FORMATS_TIME),fv=computed(()=>n.dateFormat||extractDateFormat(z.value||"")||DEFAULT_FORMATS_DATE),lv=K0=>isValidRange(K0)&&(y?!y(K0[0].toDate())&&!y(K0[1].toDate()):!0),kv=()=>{ur.value=qv(sv.value,ur.value,!1),n.unlinkPanels||(hr.value=ur.value.add(1,"month")),f0("year")},Iv=()=>{ur.value=ur.value.subtract(1,"month"),n.unlinkPanels||(hr.value=ur.value.add(1,"month")),f0("month")},vv=()=>{n.unlinkPanels?hr.value=qv(gv.value,hr.value,!0):(ur.value=qv(gv.value,ur.value,!0),hr.value=ur.value.add(1,"month")),f0("year")},Ev=()=>{n.unlinkPanels?hr.value=hr.value.add(1,"month"):(ur.value=ur.value.add(1,"month"),hr.value=ur.value.add(1,"month")),f0("month")},zv=()=>{ur.value=qv(sv.value,ur.value,!0),f0("year")},Fv=()=>{ur.value=ur.value.add(1,"month"),f0("month")},Yv=()=>{hr.value=qv(gv.value,hr.value,!1),f0("year")},g0=()=>{hr.value=hr.value.subtract(1,"month"),f0("month")},Qv=computed(()=>{const K0=(dv.value+1)%12,J0=dv.value+1>=12?1:0;return n.unlinkPanels&&new Date(rv.value+J0,K0)<new Date(Jm.value,pv.value)}),N0=computed(()=>n.unlinkPanels&&Jm.value*12+pv.value-(rv.value*12+dv.value+1)>=12),B0=useFormDisabled(),a1=computed(()=>!(Vr.value&&dr.value&&!ec.value.selecting&&isValidRange([Vr.value,dr.value])&&!B0.value)),I0=computed(()=>n.type==="datetime"||n.type==="datetimerange"),M0=(K0,J0)=>{if(K0)return L?dayjs(L[J0]||L).locale(Oe.value).year(K0.year()).month(K0.month()).date(K0.date()):K0},D0=(K0,J0=!0)=>{const y1=K0.minDate,vy=K0.maxDate,ty=M0(y1,0),Mv=M0(vy,1);dr.value===Mv&&Vr.value===ty||(r("calendar-change",[y1.toDate(),vy&&vy.toDate()]),dr.value=Mv,Vr.value=ty,!I0.value&&J0&&(J0=!ty||!Mv),ic(J0))},W0=ref(!1),Zv=ref(!1),z0=()=>{W0.value=!1},_0=()=>{Zv.value=!1},q0=(K0,J0)=>{tv.value[J0]=K0;const y1=dayjs(K0,fv.value).locale(Oe.value);if(y1.isValid()){if(y&&y(y1.toDate()))return;J0==="min"?(ur.value=y1,Vr.value=(Vr.value||ur.value).year(y1.year()).month(y1.month()).date(y1.date()),!n.unlinkPanels&&(!dr.value||dr.value.isBefore(Vr.value))&&(hr.value=y1.add(1,"month"),dr.value=Vr.value.add(1,"month"))):(hr.value=y1,dr.value=(dr.value||hr.value).year(y1.year()).month(y1.month()).date(y1.date()),!n.unlinkPanels&&(!Vr.value||Vr.value.isAfter(dr.value))&&(ur.value=y1.subtract(1,"month"),Vr.value=dr.value.subtract(1,"month"))),x1(Vr.value,dr.value),ic(!0)}},Rv=(K0,J0)=>{tv.value[J0]=null},k0=(K0,J0)=>{nv.value[J0]=K0;const y1=dayjs(K0,av.value).locale(Oe.value);y1.isValid()&&(J0==="min"?(W0.value=!0,Vr.value=(Vr.value||ur.value).hour(y1.hour()).minute(y1.minute()).second(y1.second()),ur.value=Vr.value):(Zv.value=!0,dr.value=(dr.value||hr.value).hour(y1.hour()).minute(y1.minute()).second(y1.second()),hr.value=dr.value))},Ov=(K0,J0)=>{nv.value[J0]=null,J0==="min"?(ur.value=Vr.value,W0.value=!1,(!dr.value||dr.value.isBefore(Vr.value))&&(dr.value=Vr.value)):(hr.value=dr.value,Zv.value=!1,dr.value&&dr.value.isBefore(Vr.value)&&(Vr.value=dr.value)),ic(!0)},Kv=(K0,J0,y1)=>{nv.value.min||(K0&&(Vr.value=(Vr.value||ur.value).hour(K0.hour()).minute(K0.minute()).second(K0.second())),y1||(W0.value=J0),(!dr.value||dr.value.isBefore(Vr.value))&&(dr.value=Vr.value,hr.value=K0,nextTick(()=>{Xm(n.parsedValue)})),ic(!0))},E0=(K0,J0,y1)=>{nv.value.max||(K0&&(dr.value=(dr.value||hr.value).hour(K0.hour()).minute(K0.minute()).second(K0.second())),y1||(Zv.value=J0),dr.value&&dr.value.isBefore(Vr.value)&&(Vr.value=dr.value),ic(!0))},X0=()=>{let K0=null;g!=null&&g.emptyValues&&(K0=g.emptyValues.valueOnClear.value),ur.value=getDefaultValue(unref(ie),{lang:unref(Oe),unit:"month",unlinkPanels:n.unlinkPanels})[0],hr.value=ur.value.add(1,"month"),dr.value=void 0,Vr.value=void 0,ic(!0),r("pick",K0)},l1=K0=>correctlyParseUserInput(K0,z.value||"",Oe.value,$);function x1(K0,J0){if(n.unlinkPanels&&J0){const y1=(K0==null?void 0:K0.year())||0,vy=(K0==null?void 0:K0.month())||0,ty=J0.year(),Mv=J0.month();hr.value=y1===ty&&vy===Mv?J0.add(1,unit$2):J0}else hr.value=ur.value.add(1,unit$2),J0&&(hr.value=hr.value.hour(J0.hour()).minute(J0.minute()).second(J0.second()))}return r("set-picker-option",["isValidValue",lv]),r("set-picker-option",["parseUserInput",l1]),r("set-picker-option",["handleClear",X0]),(K0,J0)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(tc).b(),unref(Xs).b(),unref(tc).is("border",K0.border),unref(tc).is("disabled",unref(B0)),{"has-sidebar":K0.$slots.sidebar||Pv.value,"has-time":I0.value}])},[createBaseVNode("div",{class:normalizeClass(unref(tc).e("body-wrapper"))},[renderSlot(K0.$slots,"sidebar",{class:normalizeClass(unref(tc).e("sidebar"))}),Pv.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(tc).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(j.value,(y1,vy)=>(openBlock(),createElementBlock("button",{key:vy,type:"button",disabled:unref(B0),class:normalizeClass(unref(tc).e("shortcut")),onClick:ty=>unref(_c)(y1)},toDisplayString$1(y1.text),11,_hoisted_1$O))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(tc).e("body"))},[I0.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Xs).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(Xs).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(Xs).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",disabled:unref(ec).selecting||unref(B0),placeholder:unref(Km)("el.datepicker.startDate"),class:normalizeClass(unref(Xs).e("editor")),"model-value":Tv.value,"validate-event":!1,readonly:!K0.editable,onInput:J0[0]||(J0[0]=y1=>q0(y1,"min")),onChange:J0[1]||(J0[1]=y1=>Rv(y1,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Xs).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(Xs).e("editor")),disabled:unref(ec).selecting||unref(B0),placeholder:unref(Km)("el.datepicker.startTime"),"model-value":Av.value,"validate-event":!1,readonly:!K0.editable,onFocus:J0[2]||(J0[2]=y1=>W0.value=!0),onInput:J0[3]||(J0[3]=y1=>k0(y1,"min")),onChange:J0[4]||(J0[4]=y1=>Ov(y1,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode(unref(TimePickPanel),{visible:W0.value,format:av.value,"datetime-role":"start","parsed-value":unref(Vr)||ur.value,onPick:Kv},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),z0]])],2),createBaseVNode("span",null,[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(Xs).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(Xs).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(Xs).e("editor")),disabled:unref(ec).selecting||unref(B0),placeholder:unref(Km)("el.datepicker.endDate"),"model-value":Vv.value,readonly:!unref(Vr)||!K0.editable,"validate-event":!1,onInput:J0[5]||(J0[5]=y1=>q0(y1,"max")),onChange:J0[6]||(J0[6]=y1=>Rv(y1,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Xs).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(Xs).e("editor")),disabled:unref(ec).selecting||unref(B0),placeholder:unref(Km)("el.datepicker.endTime"),"model-value":y0.value,readonly:!unref(Vr)||!K0.editable,"validate-event":!1,onFocus:J0[7]||(J0[7]=y1=>unref(Vr)&&(Zv.value=!0)),onInput:J0[8]||(J0[8]=y1=>k0(y1,"max")),onChange:J0[9]||(J0[9]=y1=>Ov(y1,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode(unref(TimePickPanel),{"datetime-role":"end",visible:Zv.value,format:av.value,"parsed-value":unref(dr)||hr.value,onPick:E0},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),_0]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(tc).e("content"),unref(Xs).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(Xs).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(tc).e("icon-btn"),"d-arrow-left"]),"aria-label":unref(Km)("el.datepicker.prevYear"),disabled:unref(B0),onClick:kv},[renderSlot(K0.$slots,"prev-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})])],10,_hoisted_2$t),withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(tc).e("icon-btn"),"arrow-left"]),"aria-label":unref(Km)("el.datepicker.prevMonth"),disabled:unref(B0),onClick:Iv},[renderSlot(K0.$slots,"prev-month",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})])],10,_hoisted_3$e),[[vShow,unref(sv)==="date"]]),K0.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!N0.value||unref(B0),class:normalizeClass([[unref(tc).e("icon-btn"),unref(tc).is("disabled",!N0.value||unref(B0))],"d-arrow-right"]),"aria-label":unref(Km)("el.datepicker.nextYear"),onClick:zv},[renderSlot(K0.$slots,"next-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})])],10,_hoisted_4$a)):createCommentVNode("v-if",!0),K0.unlinkPanels&&unref(sv)==="date"?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!Qv.value||unref(B0),class:normalizeClass([[unref(tc).e("icon-btn"),unref(tc).is("disabled",!Qv.value||unref(B0))],"arrow-right"]),"aria-label":unref(Km)("el.datepicker.nextMonth"),onClick:Fv},[renderSlot(K0.$slots,"next-month",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})])],10,_hoisted_5$7)):createCommentVNode("v-if",!0),createBaseVNode("div",null,[createBaseVNode("span",{role:"button",class:normalizeClass(unref(Xs).e("header-label")),"aria-live":"polite",tabindex:K0.disabled?void 0:0,"aria-disabled":K0.disabled,onKeydown:J0[10]||(J0[10]=withKeys(y1=>unref(uv)("year"),["enter"])),onClick:J0[11]||(J0[11]=y1=>unref(uv)("year"))},toDisplayString$1(unref(mv)),43,_hoisted_6$2),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:K0.disabled?void 0:0,"aria-disabled":K0.disabled,class:normalizeClass([unref(Xs).e("header-label"),{active:unref(sv)==="month"}]),onKeydown:J0[12]||(J0[12]=withKeys(y1=>unref(uv)("month"),["enter"])),onClick:J0[13]||(J0[13]=y1=>unref(uv)("month"))},toDisplayString$1(unref(Km)(`el.datepicker.month${ur.value.month()+1}`)),43,_hoisted_7$1),[[vShow,unref(sv)==="date"]])])],2),unref(sv)==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"leftCurrentViewRef",ref:Sv,"selection-mode":"range",date:ur.value,"min-date":unref(Vr),"max-date":unref(dr),"range-state":unref(ec),"disabled-date":unref(y),"cell-class-name":unref(k),"show-week-number":K0.showWeekNumber,disabled:unref(B0),onChangerange:unref(rc),onPick:D0,onSelect:unref(qm)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):createCommentVNode("v-if",!0),unref(sv)==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"leftCurrentViewRef",ref:Sv,"selection-mode":"year",date:ur.value,"disabled-date":unref(y),"parsed-value":K0.parsedValue,disabled:unref(B0),onPick:unref($v)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):createCommentVNode("v-if",!0),unref(sv)==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"leftCurrentViewRef",ref:Sv,"selection-mode":"month",date:ur.value,"parsed-value":K0.parsedValue,"disabled-date":unref(y),disabled:unref(B0),onPick:unref(Hv)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{class:normalizeClass([[unref(tc).e("content"),unref(Xs).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(Xs).e("header"))},[K0.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!N0.value||unref(B0),class:normalizeClass([unref(tc).e("icon-btn"),"d-arrow-left"]),"aria-label":unref(Km)("el.datepicker.prevYear"),onClick:Yv},[renderSlot(K0.$slots,"prev-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})])],10,_hoisted_8$1)):createCommentVNode("v-if",!0),K0.unlinkPanels&&unref(gv)==="date"?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!Qv.value||unref(B0),class:normalizeClass([unref(tc).e("icon-btn"),"arrow-left"]),"aria-label":unref(Km)("el.datepicker.prevMonth"),onClick:g0},[renderSlot(K0.$slots,"prev-month",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})])],10,_hoisted_9$1)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button","aria-label":unref(Km)("el.datepicker.nextYear"),class:normalizeClass([unref(tc).e("icon-btn"),"d-arrow-right"]),disabled:unref(B0),onClick:vv},[renderSlot(K0.$slots,"next-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})])],10,_hoisted_10$1),withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(tc).e("icon-btn"),"arrow-right"]),disabled:unref(B0),"aria-label":unref(Km)("el.datepicker.nextMonth"),onClick:Ev},[renderSlot(K0.$slots,"next-month",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})])],10,_hoisted_11$1),[[vShow,unref(gv)==="date"]]),createBaseVNode("div",null,[createBaseVNode("span",{role:"button",class:normalizeClass(unref(Xs).e("header-label")),"aria-live":"polite",tabindex:K0.disabled?void 0:0,"aria-disabled":K0.disabled,onKeydown:J0[14]||(J0[14]=withKeys(y1=>unref(yv)("year"),["enter"])),onClick:J0[15]||(J0[15]=y1=>unref(yv)("year"))},toDisplayString$1(unref(Cv)),43,_hoisted_12$1),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:K0.disabled?void 0:0,"aria-disabled":K0.disabled,class:normalizeClass([unref(Xs).e("header-label"),{active:unref(gv)==="month"}]),onKeydown:J0[16]||(J0[16]=withKeys(y1=>unref(yv)("month"),["enter"])),onClick:J0[17]||(J0[17]=y1=>unref(yv)("month"))},toDisplayString$1(unref(Km)(`el.datepicker.month${hr.value.month()+1}`)),43,_hoisted_13$1),[[vShow,unref(gv)==="date"]])])],2),unref(gv)==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"rightCurrentViewRef",ref:wv,"selection-mode":"range",date:hr.value,"min-date":unref(Vr),"max-date":unref(dr),"range-state":unref(ec),"disabled-date":unref(y),"cell-class-name":unref(k),"show-week-number":K0.showWeekNumber,disabled:unref(B0),onChangerange:unref(rc),onPick:D0,onSelect:unref(qm)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):createCommentVNode("v-if",!0),unref(gv)==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"rightCurrentViewRef",ref:wv,"selection-mode":"year",date:hr.value,"disabled-date":unref(y),"parsed-value":K0.parsedValue,disabled:unref(B0),onPick:unref(Dv)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):createCommentVNode("v-if",!0),unref(gv)==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"rightCurrentViewRef",ref:wv,"selection-mode":"month",date:hr.value,"parsed-value":K0.parsedValue,"disabled-date":unref(y),disabled:unref(B0),onPick:unref(Gv)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):createCommentVNode("v-if",!0)],2)],2)],2),K0.showFooter&&I0.value&&(K0.showConfirm||unref(V))?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(tc).e("footer"))},[unref(V)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(tc).e("link-btn")),onClick:X0},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(Km)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),K0.showConfirm?(openBlock(),createBlock(unref(ElButton),{key:1,plain:"",size:"small",class:normalizeClass(unref(tc).e("link-btn")),disabled:a1.value,onClick:J0[18]||(J0[18]=y1=>unref(ic)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(Km)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc$1(_sfc_main$1v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option","calendar-change"],useMonthRangeHeader=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=useLocale(),g=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},$=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},y=()=>{e.value=e.value.add(1,"year")},k=()=>{n.value=n.value.subtract(1,"year")},L=computed(()=>`${e.value.year()} ${r("el.datepicker.year")}`),V=computed(()=>`${n.value.year()} ${r("el.datepicker.year")}`),z=computed(()=>e.value.year()),j=computed(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:g,rightNextYear:$,leftNextYear:y,rightPrevYear:k,leftLabel:L,rightLabel:V,leftYear:z,rightYear:j}},_hoisted_1$N=["disabled","onClick"],_hoisted_2$s=["disabled"],_hoisted_3$d=["disabled"],_hoisted_4$9=["disabled"],_hoisted_5$6=["disabled"],unit$1="year",_sfc_main$1u=defineComponent({name:"DatePickerMonthRange",__name:"panel-month-range",props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(t,{emit:e}){const n=t,r=e,{lang:g}=useLocale(),$=inject(PICKER_BASE_INJECTION_KEY),y=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY,void 0),{shortcuts:k,disabledDate:L,cellClassName:V}=$.props,z=toRef$1($.props,"format"),j=toRef$1($.props,"defaultValue"),ie=ref(dayjs().locale(g.value)),Oe=ref(dayjs().locale(g.value).add(1,unit$1)),{minDate:ur,maxDate:hr,rangeState:Vr,ppNs:dr,drpNs:ec,handleChangeRange:tc,handleRangeConfirm:Xs,handleShortcutClick:rc,onSelect:ic,parseValue:_c}=useRangePicker(n,{defaultValue:j,leftDate:ie,rightDate:Oe,unit:unit$1,sortDates:mv}),qm=computed(()=>!!k.length),{leftPrevYear:Xm,rightNextYear:Km,leftNextYear:tv,rightPrevYear:nv,leftLabel:sv,rightLabel:gv,leftYear:Sv,rightYear:wv}=useMonthRangeHeader({unlinkPanels:toRef$1(n,"unlinkPanels"),leftDate:ie,rightDate:Oe}),rv=computed(()=>n.unlinkPanels&&wv.value>Sv.value+1),Jm=(uv,yv=!0)=>{const $v=uv.minDate,Dv=uv.maxDate;hr.value===Dv&&ur.value===$v||(r("calendar-change",[$v.toDate(),Dv&&Dv.toDate()]),hr.value=Dv,ur.value=$v,yv&&Xs())},dv=()=>{let uv=null;$!=null&&$.emptyValues&&(uv=$.emptyValues.valueOnClear.value),ie.value=getDefaultValue(unref(j),{lang:unref(g),unit:"year",unlinkPanels:n.unlinkPanels})[0],Oe.value=ie.value.add(1,"year"),r("pick",uv)},pv=uv=>correctlyParseUserInput(uv,z.value,g.value,y);function mv(uv,yv){if(n.unlinkPanels&&yv){const $v=(uv==null?void 0:uv.year())||0,Dv=yv.year();Oe.value=$v===Dv?yv.add(1,unit$1):yv}else Oe.value=ie.value.add(1,unit$1)}const Cv=useFormDisabled();return watch(()=>n.visible,uv=>{!uv&&Vr.value.selecting&&(_c(n.parsedValue),ic(!1))}),r("set-picker-option",["isValidValue",isValidRange]),r("set-picker-option",["parseUserInput",pv]),r("set-picker-option",["handleClear",dv]),(uv,yv)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(dr).b(),unref(ec).b(),unref(dr).is("border",uv.border),unref(dr).is("disabled",unref(Cv)),{"has-sidebar":!!uv.$slots.sidebar||qm.value}])},[createBaseVNode("div",{class:normalizeClass(unref(dr).e("body-wrapper"))},[renderSlot(uv.$slots,"sidebar",{class:normalizeClass(unref(dr).e("sidebar"))}),qm.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(dr).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(k),($v,Dv)=>(openBlock(),createElementBlock("button",{key:Dv,type:"button",class:normalizeClass(unref(dr).e("shortcut")),disabled:unref(Cv),onClick:Hv=>unref(rc)($v)},toDisplayString$1($v.text),11,_hoisted_1$N))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(dr).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(dr).e("content"),unref(ec).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(ec).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(dr).e("icon-btn"),"d-arrow-left"]),disabled:unref(Cv),onClick:yv[0]||(yv[0]=(...$v)=>unref(Xm)&&unref(Xm)(...$v))},[renderSlot(uv.$slots,"prev-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})])],10,_hoisted_2$s),uv.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!rv.value||unref(Cv),class:normalizeClass([[unref(dr).e("icon-btn"),unref(dr).is("disabled",!rv.value||unref(Cv))],"d-arrow-right"]),onClick:yv[1]||(yv[1]=(...$v)=>unref(tv)&&unref(tv)(...$v))},[renderSlot(uv.$slots,"next-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})])],10,_hoisted_3$d)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString$1(unref(sv)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:ie.value,"min-date":unref(ur),"max-date":unref(hr),"range-state":unref(Vr),"disabled-date":unref(L),disabled:unref(Cv),"cell-class-name":unref(V),onChangerange:unref(tc),onPick:Jm,onSelect:unref(ic)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(dr).e("content"),unref(ec).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(ec).e("header"))},[uv.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!rv.value||unref(Cv),class:normalizeClass([[unref(dr).e("icon-btn"),unref(dr).is("disabled",!rv.value||unref(Cv))],"d-arrow-left"]),onClick:yv[2]||(yv[2]=(...$v)=>unref(nv)&&unref(nv)(...$v))},[renderSlot(uv.$slots,"prev-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})])],10,_hoisted_4$9)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(dr).e("icon-btn"),"d-arrow-right"]),disabled:unref(Cv),onClick:yv[3]||(yv[3]=(...$v)=>unref(Km)&&unref(Km)(...$v))},[renderSlot(uv.$slots,"next-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})])],10,_hoisted_5$6),createBaseVNode("div",null,toDisplayString$1(unref(gv)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:Oe.value,"min-date":unref(ur),"max-date":unref(hr),"range-state":unref(Vr),"disabled-date":unref(L),disabled:unref(Cv),"cell-class-name":unref(V),onChangerange:unref(tc),onPick:Jm,onSelect:unref(ic)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc$1(_sfc_main$1u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue"]]);const panelYearRangeProps=buildProps({...panelRangeSharedProps}),panelYearRangeEmits=["pick","set-picker-option","calendar-change"],useYearRangeHeader=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const r=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},g=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},$=()=>{e.value=e.value.add(10,"year")},y=()=>{n.value=n.value.subtract(10,"year")},k=computed(()=>{const j=Math.floor(e.value.year()/10)*10;return`${j}-${j+9}`}),L=computed(()=>{const j=Math.floor(n.value.year()/10)*10;return`${j}-${j+9}`}),V=computed(()=>Math.floor(e.value.year()/10)*10+9),z=computed(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:g,leftNextYear:$,rightPrevYear:y,leftLabel:k,rightLabel:L,leftYear:V,rightYear:z}},_hoisted_1$M=["disabled","onClick"],_hoisted_2$r=["disabled"],_hoisted_3$c=["disabled"],_hoisted_4$8=["disabled"],_hoisted_5$5=["disabled"],step=10,unit="year",_sfc_main$1t=defineComponent({name:"DatePickerYearRange",__name:"panel-year-range",props:panelYearRangeProps,emits:panelYearRangeEmits,setup(t,{emit:e}){const n=t,r=e,{lang:g}=useLocale(),$=ref(dayjs().locale(g.value)),y=ref(dayjs().locale(g.value).add(step,unit)),k=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY,void 0),L=inject(PICKER_BASE_INJECTION_KEY),{shortcuts:V,disabledDate:z,cellClassName:j}=L.props,ie=toRef$1(L.props,"format"),Oe=toRef$1(L.props,"defaultValue"),{minDate:ur,maxDate:hr,rangeState:Vr,ppNs:dr,drpNs:ec,handleChangeRange:tc,handleRangeConfirm:Xs,handleShortcutClick:rc,onSelect:ic,parseValue:_c}=useRangePicker(n,{defaultValue:Oe,leftDate:$,rightDate:y,step,unit,sortDates:Dv}),{leftPrevYear:qm,rightNextYear:Xm,leftNextYear:Km,rightPrevYear:tv,leftLabel:nv,rightLabel:sv,leftYear:gv,rightYear:Sv}=useYearRangeHeader({unlinkPanels:toRef$1(n,"unlinkPanels"),leftDate:$,rightDate:y}),wv=useFormDisabled(),rv=computed(()=>!!V.length),Jm=computed(()=>[dr.b(),ec.b(),dr.is("border",n.border),dr.is("disabled",wv.value),{"has-sidebar":!!useSlots().sidebar||rv.value}]),dv=computed(()=>({content:[dr.e("content"),ec.e("content"),"is-left"],arrowLeftBtn:[dr.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[dr.e("icon-btn"),dr.is("disabled",!mv.value||wv.value),"d-arrow-right"]})),pv=computed(()=>({content:[dr.e("content"),ec.e("content"),"is-right"],arrowLeftBtn:[dr.e("icon-btn"),dr.is("disabled",!mv.value||wv.value),"d-arrow-left"],arrowRightBtn:[dr.e("icon-btn"),"d-arrow-right"]})),mv=computed(()=>n.unlinkPanels&&Sv.value>gv.value+1),Cv=(Hv,Gv=!0)=>{const f0=Hv.minDate,qv=Hv.maxDate;hr.value===qv&&ur.value===f0||(r("calendar-change",[f0.toDate(),qv&&qv.toDate()]),hr.value=qv,ur.value=f0,Gv&&Xs())},uv=Hv=>correctlyParseUserInput(Hv,ie.value,g.value,k),yv=Hv=>isValidRange(Hv)&&(z?!z(Hv[0].toDate())&&!z(Hv[1].toDate()):!0),$v=()=>{let Hv=null;L!=null&&L.emptyValues&&(Hv=L.emptyValues.valueOnClear.value);const Gv=getDefaultValue(unref(Oe),{lang:unref(g),step,unit,unlinkPanels:n.unlinkPanels});$.value=Gv[0],y.value=Gv[1],r("pick",Hv)};function Dv(Hv,Gv){if(n.unlinkPanels&&Gv){const f0=(Hv==null?void 0:Hv.year())||0,qv=Gv.year();y.value=f0+step>qv?Gv.add(step,unit):Gv}else y.value=$.value.add(step,unit)}return watch(()=>n.visible,Hv=>{!Hv&&Vr.value.selecting&&(_c(n.parsedValue),ic(!1))}),r("set-picker-option",["isValidValue",yv]),r("set-picker-option",["parseUserInput",uv]),r("set-picker-option",["handleClear",$v]),(Hv,Gv)=>(openBlock(),createElementBlock("div",{class:normalizeClass(Jm.value)},[createBaseVNode("div",{class:normalizeClass(unref(dr).e("body-wrapper"))},[renderSlot(Hv.$slots,"sidebar",{class:normalizeClass(unref(dr).e("sidebar"))}),rv.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(dr).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),(f0,qv)=>(openBlock(),createElementBlock("button",{key:qv,type:"button",class:normalizeClass(unref(dr).e("shortcut")),disabled:unref(wv),onClick:Pv=>unref(rc)(f0)},toDisplayString$1(f0.text),11,_hoisted_1$M))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(dr).e("body"))},[createBaseVNode("div",{class:normalizeClass(dv.value.content)},[createBaseVNode("div",{class:normalizeClass(unref(ec).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass(dv.value.arrowLeftBtn),disabled:unref(wv),onClick:Gv[0]||(Gv[0]=(...f0)=>unref(qm)&&unref(qm)(...f0))},[renderSlot(Hv.$slots,"prev-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})])],10,_hoisted_2$r),Hv.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!mv.value||unref(wv),class:normalizeClass(dv.value.arrowRightBtn),onClick:Gv[1]||(Gv[1]=(...f0)=>unref(Km)&&unref(Km)(...f0))},[renderSlot(Hv.$slots,"next-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})])],10,_hoisted_3$c)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString$1(unref(nv)),1)],2),createVNode(YearTable,{"selection-mode":"range",date:$.value,"min-date":unref(ur),"max-date":unref(hr),"range-state":unref(Vr),"disabled-date":unref(z),disabled:unref(wv),"cell-class-name":unref(j),onChangerange:unref(tc),onPick:Cv,onSelect:unref(ic)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass(pv.value.content)},[createBaseVNode("div",{class:normalizeClass(unref(ec).e("header"))},[Hv.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!mv.value||unref(wv),class:normalizeClass(pv.value.arrowLeftBtn),onClick:Gv[2]||(Gv[2]=(...f0)=>unref(tv)&&unref(tv)(...f0))},[renderSlot(Hv.$slots,"prev-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})])],10,_hoisted_4$8)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass(pv.value.arrowRightBtn),disabled:unref(wv),onClick:Gv[3]||(Gv[3]=(...f0)=>unref(Xm)&&unref(Xm)(...f0))},[renderSlot(Hv.$slots,"next-year",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})])],10,_hoisted_5$5),createBaseVNode("div",null,toDisplayString$1(unref(sv)),1)],2),createVNode(YearTable,{"selection-mode":"range",date:y.value,"min-date":unref(ur),"max-date":unref(hr),"range-state":unref(Vr),"disabled-date":unref(z),disabled:unref(wv),"cell-class-name":unref(j),onChangerange:unref(tc),onPick:Cv,onSelect:unref(ic)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var YearRangePickPanel=_export_sfc$1(_sfc_main$1t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue"]]);const getPanel=function(t){switch(t){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;case"yearrange":return YearRangePickPanel;default:return DatePickPanel}};function _isSlot$7(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}dayjs.extend(localeData);dayjs.extend(advancedFormat);dayjs.extend(customParseFormat);dayjs.extend(weekOfYear);dayjs.extend(weekYear);dayjs.extend(dayOfYear);dayjs.extend(isSameOrAfter);dayjs.extend(isSameOrBefore);var DatePickerPanel=defineComponent({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:datePickerPanelProps,emits:[UPDATE_MODEL_EVENT,"calendar-change","panel-change","visible-change"],setup(t,{slots:e,emit:n,attrs:r}){const g=useNamespace("picker-panel"),$=inject(PICKER_BASE_INJECTION_KEY,void 0);if(isUndefined($)){const j=reactive({...toRefs(t)});provide(PICKER_BASE_INJECTION_KEY,{props:j})}provide(ROOT_PICKER_INJECTION_KEY,{slots:e,pickerNs:g});const{parsedValue:y,onCalendarChange:k,onPanelChange:L,onSetPickerOption:V,onPick:z}=inject(ROOT_COMMON_PICKER_INJECTION_KEY,()=>useCommonPicker(t,n),!0);return()=>{const j=getPanel(t.type);return createVNode(j,mergeProps(omit(r,"onPick"),t,{parsedValue:y.value,"onSet-picker-option":V,"onCalendar-change":k,"onPanel-change":L,onPick:z}),_isSlot$7(e)?e:{default:()=>[e]})}}});const ElDatePickerPanel=withInstall(DatePickerPanel),datePickerProps=buildProps({...timePickerDefaultProps,type:{type:definePropType(String),default:"date"}});function _isSlot$6(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:datePickerProps,emits:[UPDATE_MODEL_EVENT],setup(t,{expose:e,emit:n,slots:r}){const g=computed(()=>!t.format);provide(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY,g),provide(PICKER_POPPER_OPTIONS_INJECTION_KEY,reactive(toRef$1(t,"popperOptions")));const $=ref();e({focus:()=>{var L;(L=$.value)==null||L.focus()},blur:()=>{var L;(L=$.value)==null||L.blur()},handleOpen:()=>{var L;(L=$.value)==null||L.handleOpen()},handleClose:()=>{var L;(L=$.value)==null||L.handleClose()}});const k=L=>{n(UPDATE_MODEL_EVENT,L)};return()=>{var L;const V=(L=t.format)!=null?L:DEFAULT_FORMATS_DATEPICKER[t.type]||DEFAULT_FORMATS_DATE;return createVNode(CommonPicker,mergeProps(t,{format:V,type:t.type,ref:$,"onUpdate:modelValue":k}),{default:z=>createVNode(ElDatePickerPanel,mergeProps({disabled:t.disabled,editable:t.editable,border:!1},z),_isSlot$6(r)?r:{default:()=>[r]}),"range-separator":r["range-separator"]})}}});const ElDatePicker=withInstall(DatePicker),descriptionsKey=Symbol("elDescriptions");var ElDescriptionsCell=defineComponent({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:inject(descriptionsKey,{})}},render(){var t,e,n,r;const g=getNormalizedProps(this.cell),$=(((t=this.cell)==null?void 0:t.dirs)||[]).map(Xs=>{const{dir:rc,arg:ic,modifiers:_c,value:qm}=Xs;return[rc,qm,ic,_c]}),{border:y,direction:k}=this.descriptions,L=k==="vertical",V=()=>{var Xs,rc,ic;return((ic=(rc=(Xs=this.cell)==null?void 0:Xs.children)==null?void 0:rc.label)==null?void 0:ic.call(rc))||g.label},z=()=>{var Xs,rc,ic;return(ic=(rc=(Xs=this.cell)==null?void 0:Xs.children)==null?void 0:rc.default)==null?void 0:ic.call(rc)},j=g.span,ie=g.rowspan,Oe=g.align?`is-${g.align}`:"",ur=g.labelAlign?`is-${g.labelAlign}`:Oe,hr=g.className,Vr=g.labelClassName,dr=this.type==="label"&&(n=(e=g.labelWidth)!=null?e:this.descriptions.labelWidth)!=null?n:g.width,ec={width:addUnit(dr),minWidth:addUnit(g.minWidth)},tc=useNamespace("descriptions");switch(this.type){case"label":return withDirectives(h$1(this.tag,{style:ec,class:[tc.e("cell"),tc.e("label"),tc.is("bordered-label",y),tc.is("vertical-label",L),ur,Vr],colSpan:L?j:1,rowspan:L?1:ie},V()),$);case"content":return withDirectives(h$1(this.tag,{style:ec,class:[tc.e("cell"),tc.e("content"),tc.is("bordered-content",y),tc.is("vertical-content",L),Oe,hr],colSpan:L?j:j*2-1,rowspan:L?ie*2-1:ie},z()),$);default:{const Xs=V(),rc={},ic=addUnit((r=g.labelWidth)!=null?r:this.descriptions.labelWidth);return ic&&(rc.width=ic,rc.display="inline-block"),withDirectives(h$1("td",{style:ec,class:[tc.e("cell"),Oe],colSpan:j,rowspan:ie},[isNil(Xs)?void 0:h$1("span",{style:rc,class:[tc.e("label"),Vr]},Xs),h$1("span",{class:[tc.e("content"),hr]},z())]),$)}}}});const descriptionsRowProps=buildProps({row:{type:definePropType(Array),default:()=>[]}}),_hoisted_1$L={key:1},_sfc_main$1s=defineComponent({name:"ElDescriptionsRow",__name:"descriptions-row",props:descriptionsRowProps,setup(t){const e=inject(descriptionsKey,{});return(n,r)=>unref(e).direction==="vertical"?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.row,(g,$)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr1-${$}`,cell:g,tag:"th",type:"label"},null,8,["cell"]))),128))]),createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.row,(g,$)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr2-${$}`,cell:g,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(openBlock(),createElementBlock("tr",_hoisted_1$L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.row,(g,$)=>(openBlock(),createElementBlock(Fragment,{key:`tr3-${$}`},[unref(e).border?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(unref(ElDescriptionsCell),{cell:g,tag:"td",type:"label"},null,8,["cell"]),createVNode(unref(ElDescriptionsCell),{cell:g,tag:"td",type:"content"},null,8,["cell"])],64)):(openBlock(),createBlock(unref(ElDescriptionsCell),{key:1,cell:g,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var ElDescriptionsRow=_export_sfc$1(_sfc_main$1s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const descriptionProps=buildProps({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:useSizeProp,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number]}}),COMPONENT_NAME$g="ElDescriptionsItem",_sfc_main$1r=defineComponent({name:"ElDescriptions",__name:"description",props:descriptionProps,setup(t){const e=t,n=useNamespace("descriptions"),r=useFormSize(),g=useSlots();provide(descriptionsKey,e);const $=computed(()=>[n.b(),n.m(r.value)]),y=(L,V,z,j=!1)=>(L.props||(L.props={}),V>z&&(L.props.span=z),j&&(L.props.span=V),L),k=()=>{if(!g.default)return[];const L=flattedChildren(g.default()).filter(ur=>{var hr;return((hr=ur==null?void 0:ur.type)==null?void 0:hr.name)===COMPONENT_NAME$g}),V=[];let z=[],j=e.column,ie=0;const Oe=[];return L.forEach((ur,hr)=>{var Vr,dr,ec;const tc=((Vr=ur.props)==null?void 0:Vr.span)||1,Xs=((dr=ur.props)==null?void 0:dr.rowspan)||1,rc=V.length;if(Oe[rc]||(Oe[rc]=0),Xs>1)for(let ic=1;ic<Xs;ic++)Oe[ec=rc+ic]||(Oe[ec]=0),Oe[rc+ic]++,ie++;if(Oe[rc]>0&&(j-=Oe[rc],Oe[rc]=0),hr<L.length-1&&(ie+=tc>j?j:tc),hr===L.length-1){const ic=e.column-ie%e.column;z.push(y(ur,ic,j,!0)),V.push(z);return}tc<j?(j-=tc,z.push(ur)):(z.push(y(ur,tc,j)),V.push(z),j=e.column,z=[])}),V};return(L,V)=>(openBlock(),createElementBlock("div",{class:normalizeClass($.value)},[L.title||L.extra||L.$slots.title||L.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(n).e("title"))},[renderSlot(L.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(L.title),1)])],2),createBaseVNode("div",{class:normalizeClass(unref(n).e("extra"))},[renderSlot(L.$slots,"extra",{},()=>[createTextVNode(toDisplayString$1(L.extra),1)])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("body"))},[createBaseVNode("table",{class:normalizeClass([unref(n).e("table"),unref(n).is("bordered",L.border)])},[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k(),(z,j)=>(openBlock(),createBlock(ElDescriptionsRow,{key:j,row:z},null,8,["row"]))),128))])],2)],2)],2))}});var Descriptions=_export_sfc$1(_sfc_main$1r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]);const columnAlignment=["left","center","right"],descriptionItemProps=buildProps({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number]},align:{type:String,values:columnAlignment,default:"left"},labelAlign:{type:String,values:columnAlignment},className:{type:String,default:""},labelClassName:{type:String,default:""}}),DescriptionItem=defineComponent({name:COMPONENT_NAME$g,props:descriptionItemProps}),ElDescriptions=withInstall(Descriptions,{DescriptionsItem:DescriptionItem}),ElDescriptionsItem=withNoopInstall(DescriptionItem),useSameTarget=t=>{if(!t)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let e=!1,n=!1;return{onClick:y=>{e&&n&&t(y),e=n=!1},onMousedown:y=>{e=y.target===y.currentTarget},onMouseup:y=>{n=y.target===y.currentTarget}}},overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:t=>t instanceof MouseEvent},BLOCK="overlay";var Overlay$2=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(t,{slots:e,emit:n}){const r=useNamespace(BLOCK),g=L=>{n("click",L)},{onClick:$,onMousedown:y,onMouseup:k}=useSameTarget(t.customMaskEvent?void 0:g);return()=>t.mask?createVNode("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:$,onMousedown:y,onMouseup:k},[renderSlot(e,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(e,"default")])}});const ElOverlay=Overlay$2,dialogInjectionKey=Symbol("dialogInjectionKey"),DEFAULT_DIALOG_TRANSITION="dialog-fade",dialogContentProps=buildProps({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:iconPropType},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},useDraggable=(t,e,n,r)=>{const g={offsetX:0,offsetY:0},$=ref(!1),y=(ie,Oe)=>{if(t.value){const{offsetX:ur,offsetY:hr}=g,Vr=t.value.getBoundingClientRect(),dr=Vr.left,ec=Vr.top,tc=Vr.width,Xs=Vr.height,rc=document.documentElement.clientWidth,ic=document.documentElement.clientHeight,_c=-dr+ur,qm=-ec+hr,Xm=rc-dr-tc+ur,Km=ic-ec-(Xs<ic?Xs:0)+hr;r!=null&&r.value||(ie=Math.min(Math.max(ie,_c),Xm),Oe=Math.min(Math.max(Oe,qm),Km)),g.offsetX=ie,g.offsetY=Oe,t.value.style.transform=`translate(${addUnit(ie)}, ${addUnit(Oe)})`}},k=ie=>{const Oe=ie.clientX,ur=ie.clientY,{offsetX:hr,offsetY:Vr}=g,dr=tc=>{$.value||($.value=!0);const Xs=hr+tc.clientX-Oe,rc=Vr+tc.clientY-ur;y(Xs,rc)},ec=()=>{$.value=!1,document.removeEventListener("mousemove",dr),document.removeEventListener("mouseup",ec)};document.addEventListener("mousemove",dr),document.addEventListener("mouseup",ec)},L=()=>{e.value&&t.value&&(e.value.addEventListener("mousedown",k),window.addEventListener("resize",j))},V=()=>{e.value&&t.value&&(e.value.removeEventListener("mousedown",k),window.removeEventListener("resize",j))},z=()=>{g.offsetX=0,g.offsetY=0,t.value&&(t.value.style.transform="")},j=()=>{const{offsetX:ie,offsetY:Oe}=g;y(ie,Oe)};return onMounted(()=>{watchEffect(()=>{n.value?L():V()})}),onBeforeUnmount(()=>{V()}),{isDragging:$,resetPosition:z,updatePosition:j}},composeRefs=(...t)=>e=>{t.forEach(n=>{n.value=e})},_hoisted_1$K=["aria-level"],_hoisted_2$q=["aria-label"],_hoisted_3$b=["id"],_sfc_main$1q=defineComponent({name:"ElDialogContent",__name:"dialog-content",props:dialogContentProps,emits:dialogContentEmits,setup(t,{expose:e}){const{t:n}=useLocale(),{Close:r}=CloseComponents,g=t,{dialogRef:$,headerRef:y,bodyId:k,ns:L,style:V}=inject(dialogInjectionKey),{focusTrapRef:z}=inject(FOCUS_TRAP_INJECTION_KEY),j=composeRefs(z,$),ie=computed(()=>!!g.draggable),Oe=computed(()=>!!g.overflow),{resetPosition:ur,updatePosition:hr,isDragging:Vr}=useDraggable($,y,ie,Oe),dr=computed(()=>[L.b(),L.is("fullscreen",g.fullscreen),L.is("draggable",ie.value),L.is("dragging",Vr.value),L.is("align-center",!!g.alignCenter),{[L.m("center")]:g.center}]);return e({resetPosition:ur,updatePosition:hr}),(ec,tc)=>(openBlock(),createElementBlock("div",{ref:unref(j),class:normalizeClass(dr.value),style:normalizeStyle(unref(V)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:y,class:normalizeClass([unref(L).e("header"),ec.headerClass,{"show-close":ec.showClose}])},[renderSlot(ec.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading","aria-level":ec.ariaLevel,class:normalizeClass(unref(L).e("title"))},toDisplayString$1(ec.title),11,_hoisted_1$K)]),ec.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(n)("el.dialog.close"),class:normalizeClass(unref(L).e("headerbtn")),type:"button",onClick:tc[0]||(tc[0]=Xs=>ec.$emit("close"))},[createVNode(unref(ElIcon),{class:normalizeClass(unref(L).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ec.closeIcon||unref(r))))]),_:1},8,["class"])],10,_hoisted_2$q)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref(k),class:normalizeClass([unref(L).e("body"),ec.bodyClass])},[renderSlot(ec.$slots,"default")],10,_hoisted_3$b),ec.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass([unref(L).e("footer"),ec.footerClass])},[renderSlot(ec.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc$1(_sfc_main$1q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,appendTo:{type:teleportProps.to.type,default:"body"},beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:definePropType([String,Object]),default:void 0}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:t=>isBoolean(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useLockscreen=(t,e={})=>{isRef(t)||throwError("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||useNamespace("popup"),r=computed(()=>n.bm("parent","hidden"));let g=0,$=!1,y="0";const k=()=>{setTimeout(()=>{typeof document>"u"||$&&document&&(document.body.style.width=y,removeClass(document.body,r.value))},200)};watch(t,L=>{if(!L){k();return}$=!hasClass(document.body,r.value),$&&(y=document.body.style.width,addClass(document.body,r.value)),g=getScrollBarWidth(n.namespace.value);const V=document.documentElement.clientHeight<document.body.scrollHeight,z=getStyle(document.body,"overflowY");g>0&&(V||z==="scroll")&&$&&(document.body.style.width=`calc(100% - ${g}px)`)}),onScopeDispose(()=>k())},useDialog=(t,e)=>{var n;const g=getCurrentInstance().emit,{nextZIndex:$}=useZIndex();let y="";const k=useId(),L=useId(),V=ref(!1),z=ref(!1),j=ref(!1),ie=ref((n=t.zIndex)!=null?n:$()),Oe=ref(!1);let ur,hr;const Vr=useGlobalConfig(),dr=computed(()=>{var Cv,uv;return(uv=(Cv=Vr.value)==null?void 0:Cv.namespace)!=null?uv:defaultNamespace}),ec=computed(()=>{var Cv;return(Cv=Vr.value)==null?void 0:Cv.dialog}),tc=computed(()=>{const Cv={},uv=`--${dr.value}-dialog`;if(!t.fullscreen){t.top&&(Cv[`${uv}-margin-top`]=t.top);const yv=addUnit(t.width);yv&&(Cv[`${uv}-width`]=yv)}return Cv}),Xs=computed(()=>{var Cv,uv,yv;return((yv=(uv=t.draggable)!=null?uv:(Cv=ec.value)==null?void 0:Cv.draggable)!=null?yv:!1)&&!t.fullscreen}),rc=computed(()=>{var Cv,uv,yv;return(yv=(uv=t.alignCenter)!=null?uv:(Cv=ec.value)==null?void 0:Cv.alignCenter)!=null?yv:!1}),ic=computed(()=>{var Cv,uv,yv;return(yv=(uv=t.overflow)!=null?uv:(Cv=ec.value)==null?void 0:Cv.overflow)!=null?yv:!1}),_c=computed(()=>rc.value?{display:"flex"}:{}),qm=computed(()=>{var Cv,uv,yv;const $v=(yv=(uv=t.transition)!=null?uv:(Cv=ec.value)==null?void 0:Cv.transition)!=null?yv:DEFAULT_DIALOG_TRANSITION,Dv={name:$v,onAfterEnter:Xm,onBeforeLeave:tv,onAfterLeave:Km};if(isObject$2($v)){const Hv={...$v},Gv=(f0,qv)=>Pv=>{isArray$1(f0)?f0.forEach(Tv=>{isFunction$1(Tv)&&Tv(Pv)}):isFunction$1(f0)&&f0(Pv),qv()};return Hv.onAfterEnter=Gv(Hv.onAfterEnter,Xm),Hv.onBeforeLeave=Gv(Hv.onBeforeLeave,tv),Hv.onAfterLeave=Gv(Hv.onAfterLeave,Km),Hv.name||(Hv.name=DEFAULT_DIALOG_TRANSITION),Hv}return Dv});function Xm(){g("opened")}function Km(){g("closed"),g(UPDATE_MODEL_EVENT,!1),t.destroyOnClose&&(j.value=!1),Oe.value=!1}function tv(){Oe.value=!0,g("close")}function nv(){hr==null||hr(),ur==null||ur(),t.openDelay&&t.openDelay>0?{stop:ur}=useTimeoutFn(()=>wv(),t.openDelay):wv()}function sv(){ur==null||ur(),hr==null||hr(),t.closeDelay&&t.closeDelay>0?{stop:hr}=useTimeoutFn(()=>rv(),t.closeDelay):rv()}function gv(){function Cv(uv){uv||(z.value=!0,V.value=!1)}t.beforeClose?t.beforeClose(Cv):sv()}function Sv(){t.closeOnClickModal&&gv()}function wv(){isClient&&(V.value=!0)}function rv(){V.value=!1}function Jm(){g("openAutoFocus")}function dv(){g("closeAutoFocus")}function pv(Cv){var uv;((uv=Cv.detail)==null?void 0:uv.focusReason)==="pointer"&&Cv.preventDefault()}t.lockScroll&&useLockscreen(V);function mv(){t.closeOnPressEscape&&gv()}return watch(()=>t.zIndex,()=>{var Cv;ie.value=(Cv=t.zIndex)!=null?Cv:$()}),watch(()=>t.modelValue,Cv=>{var uv;Cv?(z.value=!1,nv(),j.value=!0,ie.value=(uv=t.zIndex)!=null?uv:$(),nextTick(()=>{g("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)})):V.value&&sv()}),watch(()=>t.fullscreen,Cv=>{e.value&&(Cv?(y=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=y)}),onMounted(()=>{t.modelValue&&(V.value=!0,j.value=!0,nv())}),{afterEnter:Xm,afterLeave:Km,beforeLeave:tv,handleClose:gv,onModalClick:Sv,close:sv,doClose:rv,onOpenAutoFocus:Jm,onCloseAutoFocus:dv,onCloseRequested:mv,onFocusoutPrevented:pv,titleId:k,bodyId:L,closed:z,style:tc,overlayDialogStyle:_c,rendered:j,visible:V,zIndex:ie,transitionConfig:qm,_draggable:Xs,_alignCenter:rc,_overflow:ic,closing:Oe}},_hoisted_1$J=["aria-label","aria-labelledby","aria-describedby"],_sfc_main$1p=defineComponent({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:dialogProps,emits:dialogEmits,setup(t,{expose:e}){const n=t,r=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed(()=>!!r.title));const g=useNamespace("dialog"),$=ref(),y=ref(),k=ref(),{visible:L,titleId:V,bodyId:z,style:j,overlayDialogStyle:ie,rendered:Oe,transitionConfig:ur,zIndex:hr,_draggable:Vr,_alignCenter:dr,_overflow:ec,handleClose:tc,onModalClick:Xs,onOpenAutoFocus:rc,onCloseAutoFocus:ic,onCloseRequested:_c,onFocusoutPrevented:qm,closing:Xm}=useDialog(n,$);provide(dialogInjectionKey,{dialogRef:$,headerRef:y,bodyId:z,ns:g,rendered:Oe,style:j});const Km=useSameTarget(Xs),tv=computed(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return e({visible:L,dialogContentRef:k,resetPosition:()=>{var sv;(sv=k.value)==null||sv.resetPosition()},handleClose:tc}),(sv,gv)=>(openBlock(),createBlock(unref(ElTeleport),{to:sv.appendTo,disabled:sv.appendTo!=="body"?!1:!sv.appendToBody},{default:withCtx(()=>[createVNode(Transition,mergeProps(unref(ur),{persisted:""}),{default:withCtx(()=>{var Sv;return[withDirectives(createVNode(unref(ElOverlay),{"custom-mask-event":"",mask:sv.modal,"overlay-class":[(Sv=sv.modalClass)!=null?Sv:"",`${unref(g).namespace.value}-modal-dialog`,unref(g).is("penetrable",tv.value)],"z-index":unref(hr)},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":sv.title||void 0,"aria-labelledby":sv.title?void 0:unref(V),"aria-describedby":unref(z),class:normalizeClass([`${unref(g).namespace.value}-overlay-dialog`,unref(g).is("closing",unref(Xm))]),style:normalizeStyle(unref(ie)),onClick:gv[0]||(gv[0]=(...wv)=>unref(Km).onClick&&unref(Km).onClick(...wv)),onMousedown:gv[1]||(gv[1]=(...wv)=>unref(Km).onMousedown&&unref(Km).onMousedown(...wv)),onMouseup:gv[2]||(gv[2]=(...wv)=>unref(Km).onMouseup&&unref(Km).onMouseup(...wv))},[createVNode(unref(ElFocusTrap),{loop:"",trapped:unref(L),"focus-start-el":"container",onFocusAfterTrapped:unref(rc),onFocusAfterReleased:unref(ic),onFocusoutPrevented:unref(qm),onReleaseRequested:unref(_c)},{default:withCtx(()=>[unref(Oe)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:k},sv.$attrs,{center:sv.center,"align-center":unref(dr),"close-icon":sv.closeIcon,draggable:unref(Vr),overflow:unref(ec),fullscreen:sv.fullscreen,"header-class":sv.headerClass,"body-class":sv.bodyClass,"footer-class":sv.footerClass,"show-close":sv.showClose,title:sv.title,"aria-level":sv.headerAriaLevel,onClose:unref(tc)}),createSlots({header:withCtx(()=>[sv.$slots.title?renderSlot(sv.$slots,"title",{key:1}):renderSlot(sv.$slots,"header",{key:0,close:unref(tc),titleId:unref(V),titleClass:unref(g).e("title")})]),default:withCtx(()=>[renderSlot(sv.$slots,"default")]),_:2},[sv.$slots.footer?{name:"footer",fn:withCtx(()=>[renderSlot(sv.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,_hoisted_1$J)]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(L)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var Dialog=_export_sfc$1(_sfc_main$1p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),_sfc_main$1o=defineComponent({name:"ElDivider",__name:"divider",props:dividerProps,setup(t){const e=t,n=useNamespace("divider"),r=computed(()=>n.cssVar({"border-style":e.borderStyle}));return(g,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).m(g.direction)]),style:normalizeStyle(r.value),role:"separator"},[g.$slots.default&&g.direction!=="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("text"),unref(n).is(g.contentPosition)])},[renderSlot(g.$slots,"default")],2)):createCommentVNode("v-if",!0)],6))}});var Divider=_export_sfc$1(_sfc_main$1o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const ElDivider=withInstall(Divider),drawerProps=buildProps({...dialogProps,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),drawerEmits={...dialogEmits,"resize-start":(t,e)=>t instanceof MouseEvent&&typeof e=="number",resize:(t,e)=>t instanceof MouseEvent&&typeof e=="number","resize-end":(t,e)=>t instanceof MouseEvent&&typeof e=="number"};function useResizable(t,e,n){const{width:r,height:g}=useWindowSize(),$=computed(()=>["ltr","rtl"].includes(t.direction)),y=computed(()=>["ltr","ttb"].includes(t.direction)?1:-1),k=computed(()=>$.value?r.value:g.value),L=computed(()=>clamp$1(V.value+y.value*z.value,4,k.value)),V=ref(0),z=ref(0),j=ref(!1),ie=ref(!1);let Oe=[],ur=[];const hr=()=>{var Xs;const rc=(Xs=e.value)==null?void 0:Xs.closest('[aria-modal="true"]');return rc?$.value?rc.offsetWidth:rc.offsetHeight:100};watch(()=>[t.size,t.resizable],()=>{ie.value=!1,V.value=0,z.value=0,ec()});const Vr=Xs=>{t.resizable&&(ie.value||(V.value=hr(),ie.value=!0),Oe=[Xs.pageX,Xs.pageY],j.value=!0,n("resize-start",Xs,V.value),ur.push(useEventListener(window,"mouseup",ec),useEventListener(window,"mousemove",dr)))},dr=Xs=>{const{pageX:rc,pageY:ic}=Xs,_c=rc-Oe[0],qm=ic-Oe[1];z.value=$.value?_c:qm,n("resize",Xs,L.value)},ec=Xs=>{j.value&&(Oe=[],V.value=L.value,z.value=0,j.value=!1,ur.forEach(rc=>rc==null?void 0:rc()),ur=[],Xs&&n("resize-end",Xs,V.value))},tc=useEventListener(e,"mousedown",Vr);return onBeforeUnmount(()=>{tc(),ec()}),{size:computed(()=>ie.value?`${L.value}px`:addUnit(t.size)),isResizing:j,isHorizontal:$}}const _hoisted_1$I=["aria-label","aria-labelledby","aria-describedby"],_hoisted_2$p=["id","aria-level"],_hoisted_3$a=["aria-label"],_hoisted_4$7=["id"],_sfc_main$1n=defineComponent({name:"ElDrawer",inheritAttrs:!1,__name:"drawer",props:drawerProps,emits:drawerEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useSlots();useDeprecated({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},computed(()=>!!$.title));const y=ref(),k=ref(),L=ref(),V=useNamespace("drawer"),{t:z}=useLocale(),{afterEnter:j,afterLeave:ie,beforeLeave:Oe,visible:ur,rendered:hr,titleId:Vr,bodyId:dr,zIndex:ec,onModalClick:tc,onOpenAutoFocus:Xs,onCloseAutoFocus:rc,onFocusoutPrevented:ic,onCloseRequested:_c,handleClose:qm}=useDialog(r,y),{isHorizontal:Xm,size:Km,isResizing:tv}=useResizable(r,L,g),nv=computed(()=>r.modalPenetrable&&!r.modal);return e({handleClose:qm,afterEnter:j,afterLeave:ie}),(sv,gv)=>(openBlock(),createBlock(unref(ElTeleport),{to:sv.appendTo,disabled:sv.appendTo!=="body"?!1:!sv.appendToBody},{default:withCtx(()=>[createVNode(Transition,{name:unref(V).b("fade"),onAfterEnter:unref(j),onAfterLeave:unref(ie),onBeforeLeave:unref(Oe),persisted:""},{default:withCtx(()=>{var Sv;return[withDirectives(createVNode(unref(ElOverlay),{mask:sv.modal,"overlay-class":[unref(V).is("drawer"),(Sv=sv.modalClass)!=null?Sv:"",`${unref(V).namespace.value}-modal-drawer`,unref(V).is("penetrable",nv.value)],"z-index":unref(ec),onClick:unref(tc)},{default:withCtx(()=>[createVNode(unref(ElFocusTrap),{loop:"",trapped:unref(ur),"focus-trap-el":y.value,"focus-start-el":k.value,onFocusAfterTrapped:unref(Xs),onFocusAfterReleased:unref(rc),onFocusoutPrevented:unref(ic),onReleaseRequested:unref(_c)},{default:withCtx(()=>[createBaseVNode("div",mergeProps({ref_key:"drawerRef",ref:y,"aria-modal":"true","aria-label":sv.title||void 0,"aria-labelledby":sv.title?void 0:unref(Vr),"aria-describedby":unref(dr)},sv.$attrs,{class:[unref(V).b(),sv.direction,unref(ur)&&"open",unref(V).is("dragging",unref(tv))],style:{[unref(Xm)?"width":"height"]:unref(Km)},role:"dialog",onClick:gv[1]||(gv[1]=withModifiers(()=>{},["stop"]))}),[createBaseVNode("span",{ref_key:"focusStartRef",ref:k,class:normalizeClass(unref(V).e("sr-focus")),tabindex:"-1"},null,2),sv.withHeader?(openBlock(),createElementBlock("header",{key:0,class:normalizeClass([unref(V).e("header"),sv.headerClass])},[sv.$slots.title?renderSlot(sv.$slots,"title",{key:1},()=>[createCommentVNode(" DEPRECATED SLOT ")]):renderSlot(sv.$slots,"header",{key:0,close:unref(qm),titleId:unref(Vr),titleClass:unref(V).e("title")},()=>[createBaseVNode("span",{id:unref(Vr),role:"heading","aria-level":sv.headerAriaLevel,class:normalizeClass(unref(V).e("title"))},toDisplayString$1(sv.title),11,_hoisted_2$p)]),sv.showClose?(openBlock(),createElementBlock("button",{key:2,"aria-label":unref(z)("el.drawer.close"),class:normalizeClass(unref(V).e("close-btn")),type:"button",onClick:gv[0]||(gv[0]=(...wv)=>unref(qm)&&unref(qm)(...wv))},[createVNode(unref(ElIcon),{class:normalizeClass(unref(V).e("close"))},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"])],10,_hoisted_3$a)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),unref(hr)?(openBlock(),createElementBlock("div",{key:1,id:unref(dr),class:normalizeClass([unref(V).e("body"),sv.bodyClass])},[renderSlot(sv.$slots,"default")],10,_hoisted_4$7)):createCommentVNode("v-if",!0),sv.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass([unref(V).e("footer"),sv.footerClass])},[renderSlot(sv.$slots,"footer")],2)):createCommentVNode("v-if",!0),sv.resizable?(openBlock(),createElementBlock("div",{key:3,ref_key:"draggerRef",ref:L,style:normalizeStyle({zIndex:unref(ec)}),class:normalizeClass(unref(V).e("dragger"))},null,6)):createCommentVNode("v-if",!0)],16,_hoisted_1$I)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vShow,unref(ur)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Drawer=_export_sfc$1(_sfc_main$1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const ElDrawer=withInstall(Drawer),_sfc_main$1m=defineComponent({inheritAttrs:!1});function _sfc_render$l(t,e,n,r,g,$){return renderSlot(t.$slots,"default")}var Collection=_export_sfc$1(_sfc_main$1m,[["render",_sfc_render$l],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const _sfc_main$1l=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$k(t,e,n,r,g,$){return renderSlot(t.$slots,"default")}var CollectionItem=_export_sfc$1(_sfc_main$1l,[["render",_sfc_render$k],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),g=Symbol(n),$=Object.assign({},Collection,{name:e,setup(){const k=ref(),L=new Map;provide(r,{itemMap:L,getItems:()=>{const z=unref(k);if(!z)return[];const j=Array.from(z.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...L.values()].sort((Oe,ur)=>j.indexOf(Oe.ref)-j.indexOf(ur.ref))},collectionRef:k})}}),y=Object.assign({},CollectionItem,{name:n,setup(k,{attrs:L}){const V=ref(),z=inject(r,void 0);provide(g,{collectionItemRef:V}),onMounted(()=>{const j=unref(V);j&&z.itemMap.set(j,{ref:j,...L})}),onBeforeUnmount(()=>{const j=unref(V);z.itemMap.delete(j)})}});return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:g,ElCollection:$,ElCollectionItem:y}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection,ElCollectionItem,COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(t,e)=>t,getFocusIntent=(t,e,n)=>{const r=getEventCode(t),g=getDirectionAwareKey(r);return MAP_KEY_TO_FOCUS_INTENT[g]},reorderArray=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),focusFirst=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$1k=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(t,{emit:e}){var n;const r=ref((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),g=ref(!1),$=ref(!1),y=ref(),{getItems:k}=inject(COLLECTION_INJECTION_KEY,void 0),L=computed(()=>[{outline:"none"},t.style]),V=Vr=>{e(CURRENT_TAB_ID_CHANGE_EVT,Vr)},z=()=>{g.value=!0},j=composeEventHandlers(Vr=>{var dr;(dr=t.onMousedown)==null||dr.call(t,Vr)},()=>{$.value=!0}),ie=composeEventHandlers(Vr=>{var dr;(dr=t.onFocus)==null||dr.call(t,Vr)},Vr=>{const dr=!unref($),{target:ec,currentTarget:tc}=Vr;if(ec===tc&&dr&&!unref(g)){const Xs=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(tc==null||tc.dispatchEvent(Xs),!Xs.defaultPrevented){const rc=k().filter(Km=>Km.focusable),ic=rc.find(Km=>Km.active),_c=rc.find(Km=>Km.id===unref(r)),Xm=[ic,_c,...rc].filter(Boolean).map(Km=>Km.ref);focusFirst(Xm)}}$.value=!1}),Oe=composeEventHandlers(Vr=>{var dr;(dr=t.onBlur)==null||dr.call(t,Vr)},()=>{g.value=!1}),ur=(...Vr)=>{e("entryFocus",...Vr)},hr=Vr=>{const dr=getFocusIntent(Vr);if(dr){Vr.preventDefault();let tc=k().filter(Xs=>Xs.focusable).map(Xs=>Xs.ref);switch(dr){case"last":{tc.reverse();break}case"prev":case"next":{dr==="prev"&&tc.reverse();const Xs=tc.indexOf(Vr.currentTarget);tc=t.loop?reorderArray(tc,Xs+1):tc.slice(Xs+1);break}}nextTick(()=>{focusFirst(tc)})}};provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(r),loop:toRef$1(t,"loop"),tabIndex:computed(()=>unref(g)?-1:0),rovingFocusGroupRef:y,rovingFocusGroupRootStyle:L,orientation:toRef$1(t,"orientation"),dir:toRef$1(t,"dir"),onItemFocus:V,onItemShiftTab:z,onBlur:Oe,onFocus:ie,onMousedown:j,onKeydown:hr}),watch(()=>t.currentTabId,Vr=>{r.value=Vr??null}),useEventListener(y,ENTRY_FOCUS_EVT,ur)}});function _sfc_render$j(t,e,n,r,g,$){return renderSlot(t.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc$1(_sfc_main$1k,[["render",_sfc_render$j],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const _sfc_main$1j=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection,ElRovingFocusGroupImpl}});function _sfc_render$i(t,e,n,r,g,$){const y=resolveComponent("el-roving-focus-group-impl"),k=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(k,null,{default:withCtx(()=>[createVNode(y,normalizeProps(guardReactiveProps(t.$attrs)),{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},16)]),_:3})}var ElRovingFocusGroup=_export_sfc$1(_sfc_main$1j,[["render",_sfc_render$i],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const dropdownProps=buildProps({trigger:{...useTooltipTriggerProps.trigger,type:definePropType([String,Array])},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space,EVENT_CODE.down]},virtualTriggering:useTooltipTriggerProps.virtualTriggering,virtualRef:useTooltipTriggerProps.virtualRef,effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:useTooltipContentProps.popperClass,popperStyle:useTooltipContentProps.popperStyle,disabled:Boolean,role:{type:String,values:roleTypes,default:"menu"},buttonProps:{type:definePropType(Object)},teleported:useTooltipContentProps.teleported,appendTo:useTooltipContentProps.appendTo,persistent:{type:Boolean,default:!0}}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),DROPDOWN_INSTANCE_INJECTION_KEY="elDropdown",{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$1i=defineComponent({name:"ElDropdown",components:{ElButton,ElButtonGroup,ElScrollbar,ElTooltip,ElRovingFocusGroup,ElOnlyChild:OnlyChild,ElIcon,ArrowDown:arrow_down_default},props:dropdownProps,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=getCurrentInstance(),r=useNamespace("dropdown"),{t:g}=useLocale(),$=ref(),y=ref(),k=ref(),L=ref(),V=ref(null),z=ref(null),j=ref(!1),ie=computed(()=>({maxHeight:addUnit(t.maxHeight)})),Oe=computed(()=>[r.m(Xs.value)]),ur=computed(()=>castArray$1(t.trigger)),hr=useId().value,Vr=computed(()=>t.id||hr);function dr(){var sv;(sv=k.value)==null||sv.onClose(void 0,0)}function ec(){var sv;(sv=k.value)==null||sv.onClose()}function tc(){var sv;(sv=k.value)==null||sv.onOpen()}const Xs=useFormSize();function rc(...sv){e("command",...sv)}function ic(){}function _c(){const sv=unref(L);ur.value.includes("hover")&&(sv==null||sv.focus({preventScroll:!0})),z.value=null}function qm(sv){z.value=sv}function Xm(){e("visible-change",!0)}function Km(sv){var gv;j.value=(sv==null?void 0:sv.type)==="keydown",(gv=L.value)==null||gv.focus()}function tv(){e("visible-change",!1)}return provide(DROPDOWN_INJECTION_KEY,{contentRef:L,role:computed(()=>t.role),triggerId:Vr,isUsingKeyboard:j,onItemEnter:ic,onItemLeave:_c,handleClose:ec}),provide(DROPDOWN_INSTANCE_INJECTION_KEY,{instance:n,dropdownSize:Xs,handleClick:dr,commandHandler:rc,trigger:toRef$1(t,"trigger"),hideOnClick:toRef$1(t,"hideOnClick")}),{t:g,ns:r,scrollbar:V,wrapStyle:ie,dropdownTriggerKls:Oe,dropdownSize:Xs,triggerId:Vr,currentTabId:z,handleCurrentTabIdChange:qm,handlerMainButtonClick:sv=>{e("click",sv)},handleClose:ec,handleOpen:tc,handleBeforeShowTooltip:Xm,handleShowTooltip:Km,handleBeforeHideTooltip:tv,popperRef:k,contentRef:L,triggeringElementRef:$,referenceElementRef:y}}});function _sfc_render$h(t,e,n,r,g,$){var y;const k=resolveComponent("el-roving-focus-group"),L=resolveComponent("el-scrollbar"),V=resolveComponent("el-only-child"),z=resolveComponent("el-tooltip"),j=resolveComponent("el-button"),ie=resolveComponent("arrow-down"),Oe=resolveComponent("el-icon"),ur=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass([t.ns.b(),t.ns.is("disabled",t.disabled)])},[createVNode(z,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"popper-style":t.popperStyle,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-arrow":t.showArrow,"show-after":t.trigger==="hover"?t.showTimeout:0,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"virtual-ref":(y=t.virtualRef)!=null?y:t.triggeringElementRef,"virtual-triggering":t.virtualTriggering||t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,"append-to":t.appendTo,pure:"","focus-on-target":"",persistent:t.persistent,onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},createSlots({content:withCtx(()=>[createVNode(L,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:withCtx(()=>[createVNode(k,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange},{default:withCtx(()=>[renderSlot(t.$slots,"dropdown")]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:withCtx(()=>[createVNode(V,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},8,["id","tabindex"])]),key:"0"}]),1032,["role","effect","popper-options","placement","popper-class","popper-style","trigger","trigger-keys","trigger-target-el","show-arrow","show-after","hide-after","virtual-ref","virtual-triggering","disabled","transition","teleported","append-to","persistent","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(openBlock(),createBlock(ur,{key:0},{default:withCtx(()=>[createVNode(j,mergeProps({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),createVNode(j,mergeProps({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:withCtx(()=>[createVNode(Oe,{class:normalizeClass(t.ns.e("icon"))},{default:withCtx(()=>[createVNode(ie)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc$1(_sfc_main$1i,[["render",_sfc_render$h],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const _sfc_main$1h=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,onItemFocus:r,onItemShiftTab:g,onKeydown:$}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),y=useId(),k=ref(),L=composeEventHandlers(ie=>{e("mousedown",ie)},ie=>{t.focusable?r(unref(y)):ie.preventDefault()}),V=composeEventHandlers(ie=>{e("focus",ie)},()=>{r(unref(y))}),z=composeEventHandlers(ie=>{e("keydown",ie)},ie=>{const{shiftKey:Oe,target:ur,currentTarget:hr}=ie;if(getEventCode(ie)===EVENT_CODE.tab&&Oe){g();return}ur===hr&&$(ie)}),j=computed(()=>n.value===unref(y));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:k,tabIndex:computed(()=>unref(j)?0:-1),handleMousedown:L,handleFocus:V,handleKeydown:z}),{id:y,handleKeydown:z,handleFocus:V,handleMousedown:L}}});function _sfc_render$g(t,e,n,r,g,$){const y=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock(y,{id:t.id,focusable:t.focusable,active:t.active},{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc$1(_sfc_main$1h,[["render",_sfc_render$g],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const _sfc_main$1g=defineComponent({name:"DropdownItemImpl",components:{ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=useNamespace("dropdown"),{role:r}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionItemRef:g}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{rovingFocusGroupItemRef:$,tabIndex:y,handleFocus:k,handleKeydown:L,handleMousedown:V}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),z=composeRefs(g,$),j=computed(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),ie=composeEventHandlers(Oe=>{const ur=getEventCode(Oe);if([EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space].includes(ur))return Oe.preventDefault(),Oe.stopImmediatePropagation(),e("clickimpl",Oe),!0},L);return{ns:n,itemRef:z,dataset:{[COLLECTION_ITEM_SIGN]:""},role:j,tabIndex:y,handleFocus:k,handleKeydown:ie,handleMousedown:V}}}),_hoisted_1$H=["aria-disabled","tabindex","role"];function _sfc_render$f(t,e,n,r,g,$){const y=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[t.divided?(openBlock(),createElementBlock("li",{key:0,role:"separator",class:normalizeClass(t.ns.bem("menu","item","divided"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("li",mergeProps({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e[0]||(e[0]=k=>t.$emit("clickimpl",k)),onFocus:e[1]||(e[1]=(...k)=>t.handleFocus&&t.handleFocus(...k)),onKeydown:e[2]||(e[2]=withModifiers((...k)=>t.handleKeydown&&t.handleKeydown(...k),["self"])),onMousedown:e[3]||(e[3]=(...k)=>t.handleMousedown&&t.handleMousedown(...k)),onPointermove:e[4]||(e[4]=k=>t.$emit("pointermove",k)),onPointerleave:e[5]||(e[5]=k=>t.$emit("pointerleave",k))}),[t.icon?(openBlock(),createBlock(y,{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.icon)))]),_:1})):createCommentVNode("v-if",!0),renderSlot(t.$slots,"default")],16,_hoisted_1$H)],64)}var ElDropdownItemImpl=_export_sfc$1(_sfc_main$1g,[["render",_sfc_render$f],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const useDropdown=()=>{const t=inject(DROPDOWN_INSTANCE_INJECTION_KEY,{}),e=computed(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},_sfc_main$1f=defineComponent({name:"ElDropdownItem",components:{ElRovingFocusItem,ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=useDropdown(),g=getCurrentInstance(),{onItemEnter:$,onItemLeave:y}=inject(DROPDOWN_INJECTION_KEY,void 0),k=composeEventHandlers(j=>(e("pointermove",j),j.defaultPrevented),whenMouse(j=>{if(t.disabled){y(j);return}const ie=j.currentTarget;ie===document.activeElement||ie.contains(document.activeElement)||($(j),j.defaultPrevented||ie==null||ie.focus({preventScroll:!0}))})),L=composeEventHandlers(j=>(e("pointerleave",j),j.defaultPrevented),whenMouse(y)),V=composeEventHandlers(j=>{if(!t.disabled)return e("click",j),j.type!=="keydown"&&j.defaultPrevented},j=>{var ie,Oe,ur;if(t.disabled){j.stopImmediatePropagation();return}(ie=r==null?void 0:r.hideOnClick)!=null&&ie.value&&((Oe=r.handleClick)==null||Oe.call(r)),(ur=r.commandHandler)==null||ur.call(r,t.command,g,j)}),z=computed(()=>({...t,...n}));return{handleClick:V,handlePointerMove:k,handlePointerLeave:L,propsAndAttrs:z}}});function _sfc_render$e(t,e,n,r,g,$){const y=resolveComponent("el-dropdown-item-impl"),k=resolveComponent("el-roving-focus-item");return openBlock(),createBlock(k,{focusable:!t.disabled},{default:withCtx(()=>[createVNode(y,mergeProps(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])}var DropdownItem=_export_sfc$1(_sfc_main$1f,[["render",_sfc_render$e],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const _sfc_main$1e=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(t){const e=useNamespace("dropdown"),{_elDropdownSize:n}=useDropdown(),r=n.value,{contentRef:g,role:$,triggerId:y,isUsingKeyboard:k,handleClose:L}=inject(DROPDOWN_INJECTION_KEY,void 0),{rovingFocusGroupRef:V,rovingFocusGroupRootStyle:z,onBlur:j,onFocus:ie,onKeydown:Oe,onMousedown:ur}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:hr}=inject(COLLECTION_INJECTION_KEY,void 0),Vr=computed(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),dr=composeRefs(g,V,hr),ec=composeEventHandlers(Xs=>{var rc;(rc=t.onKeydown)==null||rc.call(t,Xs)},Xs=>{const{currentTarget:rc,target:ic}=Xs,_c=getEventCode(Xs);if(rc.contains(ic),EVENT_CODE.tab===_c)return L();Oe(Xs)});function tc(Xs){k.value&&ie(Xs)}return{size:r,rovingFocusGroupRootStyle:z,dropdownKls:Vr,role:$,triggerId:y,dropdownListWrapperRef:dr,handleKeydown:ec,onBlur:j,handleFocus:tc,onMousedown:ur}}}),_hoisted_1$G=["role","aria-labelledby"];function _sfc_render$d(t,e,n,r,g,$){return openBlock(),createElementBlock("ul",{ref:t.dropdownListWrapperRef,class:normalizeClass(t.dropdownKls),style:normalizeStyle(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onFocusin:e[0]||(e[0]=(...y)=>t.handleFocus&&t.handleFocus(...y)),onFocusout:e[1]||(e[1]=(...y)=>t.onBlur&&t.onBlur(...y)),onKeydown:e[2]||(e[2]=withModifiers((...y)=>t.handleKeydown&&t.handleKeydown(...y),["self"])),onMousedown:e[3]||(e[3]=withModifiers((...y)=>t.onMousedown&&t.onMousedown(...y),["self"]))},[renderSlot(t.$slots,"default")],46,_hoisted_1$G)}var DropdownMenu=_export_sfc$1(_sfc_main$1e,[["render",_sfc_render$d],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const ElDropdown=withInstall(Dropdown,{DropdownItem,DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu),_hoisted_1$F={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_hoisted_2$o=["id"],_hoisted_3$9=["stop-color"],_hoisted_4$6=["stop-color"],_hoisted_5$4=["id"],_hoisted_6$1=["stop-color"],_hoisted_7=["stop-color"],_hoisted_8=["id"],_hoisted_9={stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_hoisted_10={transform:"translate(-1268.000000, -535.000000)"},_hoisted_11={transform:"translate(1268.000000, 535.000000)"},_hoisted_12=["fill"],_hoisted_13=["fill"],_hoisted_14={transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},_hoisted_15=["fill"],_hoisted_16=["fill"],_hoisted_17=["fill"],_hoisted_18=["fill"],_hoisted_19=["fill"],_hoisted_20={transform:"translate(53.000000, 45.000000)"},_hoisted_21=["fill","xlink:href"],_hoisted_22=["fill","mask"],_hoisted_23=["fill"],_sfc_main$1d=defineComponent({name:"ImgEmpty",__name:"img-empty",setup(t){const e=useNamespace("empty"),n=useId();return(r,g)=>(openBlock(),createElementBlock("svg",_hoisted_1$F,[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:`linearGradient-1-${unref(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_3$9),createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,_hoisted_4$6)],8,_hoisted_2$o),createBaseVNode("linearGradient",{id:`linearGradient-2-${unref(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_6$1),createBaseVNode("stop",{"stop-color":`var(${unref(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,_hoisted_7)],8,_hoisted_5$4),createBaseVNode("rect",{id:`path-3-${unref(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,_hoisted_8)]),createBaseVNode("g",_hoisted_9,[createBaseVNode("g",_hoisted_10,[createBaseVNode("g",_hoisted_11,[createBaseVNode("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${unref(e).cssVarBlockName("fill-color-3")})`},null,8,_hoisted_12),createBaseVNode("polygon",{fill:`var(${unref(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,_hoisted_13),createBaseVNode("g",_hoisted_14,[createBaseVNode("polygon",{fill:`var(${unref(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,_hoisted_15),createBaseVNode("polygon",{fill:`var(${unref(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,_hoisted_16),createBaseVNode("rect",{fill:`url(#linearGradient-1-${unref(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,_hoisted_17),createBaseVNode("polygon",{fill:`var(${unref(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,_hoisted_18)]),createBaseVNode("rect",{fill:`url(#linearGradient-2-${unref(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,_hoisted_19),createBaseVNode("g",_hoisted_20,[createBaseVNode("use",{fill:`var(${unref(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${unref(n)}`},null,8,_hoisted_21),createBaseVNode("polygon",{fill:`var(${unref(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${unref(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,_hoisted_22)]),createBaseVNode("polygon",{fill:`var(${unref(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,_hoisted_23)])])])]))}});var ImgEmpty=_export_sfc$1(_sfc_main$1d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const emptyProps=buildProps({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),_hoisted_1$E=["src"],_hoisted_2$n={key:1},_sfc_main$1c=defineComponent({name:"ElEmpty",__name:"empty",props:emptyProps,setup(t){const e=t,{t:n}=useLocale(),r=useNamespace("empty"),g=computed(()=>e.description||n("el.table.emptyText")),$=computed(()=>({width:addUnit(e.imageSize)}));return(y,k)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[createBaseVNode("div",{class:normalizeClass(unref(r).e("image")),style:normalizeStyle($.value)},[y.image?(openBlock(),createElementBlock("img",{key:0,src:y.image,ondragstart:"return false"},null,8,_hoisted_1$E)):renderSlot(y.$slots,"image",{key:1},()=>[createVNode(ImgEmpty)])],6),createBaseVNode("div",{class:normalizeClass(unref(r).e("description"))},[y.$slots.description?renderSlot(y.$slots,"description",{key:0}):(openBlock(),createElementBlock("p",_hoisted_2$n,toDisplayString$1(g.value),1))],2),y.$slots.default?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("bottom"))},[renderSlot(y.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var Empty$1=_export_sfc$1(_sfc_main$1c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const ElEmpty=withInstall(Empty$1),formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:definePropType([Object,Boolean]),default:!0}}),formEmits={validate:(t,e,n)=>(isArray$1(t)||isString$1(t))&&isBoolean(e)&&isString$1(n)};function useFormLabelWidth(){const t=ref([]),e=computed(()=>{if(!t.value.length)return"0";const $=Math.max(...t.value);return $?`${$}px`:""});function n($){const y=t.value.indexOf($);return y===-1&&e.value,y}function r($,y){if($&&y){const k=n(y);t.value.splice(k,1,$)}else $&&t.value.push($)}function g($){const y=n($);y>-1&&t.value.splice(y,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:g}}const filterFields=(t,e)=>{const n=castArray$1(e).map(r=>isArray$1(r)?r.join("."):r);return n.length>0?t.filter(r=>r.propString&&n.includes(r.propString)):t},COMPONENT_NAME$f="ElForm",_sfc_main$1b=defineComponent({name:COMPONENT_NAME$f,__name:"form",props:formProps,emits:formEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=ref(),y=reactive([]),k=useFormSize(),L=useNamespace("form"),V=computed(()=>{const{labelPosition:rc,inline:ic}=r;return[L.b(),L.m(k.value||"default"),{[L.m(`label-${rc}`)]:rc,[L.m("inline")]:ic}]}),z=rc=>filterFields(y,[rc])[0],j=rc=>{y.push(rc)},ie=rc=>{rc.prop&&y.splice(y.indexOf(rc),1)},Oe=(rc=[])=>{r.model&&filterFields(y,rc).forEach(ic=>ic.resetField())},ur=(rc=[])=>{filterFields(y,rc).forEach(ic=>ic.clearValidate())},hr=computed(()=>!!r.model),Vr=rc=>{if(y.length===0)return[];const ic=filterFields(y,rc);return ic.length?ic:[]},dr=async rc=>tc(void 0,rc),ec=async(rc=[])=>{if(!hr.value)return!1;const ic=Vr(rc);if(ic.length===0)return!0;let _c={};for(const qm of ic)try{await qm.validate(""),qm.validateState==="error"&&!qm.error&&qm.resetField()}catch(Xm){_c={..._c,...Xm}}return Object.keys(_c).length===0?!0:Promise.reject(_c)},tc=async(rc=[],ic)=>{let _c=!1;const qm=!isFunction$1(ic);try{return _c=await ec(rc),_c===!0&&await(ic==null?void 0:ic(_c)),_c}catch(Xm){if(Xm instanceof Error)throw Xm;const Km=Xm;if(r.scrollToError&&$.value){const tv=$.value.querySelector(`.${L.b()}-item.is-error`);tv==null||tv.scrollIntoView(r.scrollIntoViewOptions)}return!_c&&await(ic==null?void 0:ic(!1,Km)),qm&&Promise.reject(Km)}},Xs=rc=>{var ic;const _c=z(rc);_c&&((ic=_c.$el)==null||ic.scrollIntoView(r.scrollIntoViewOptions))};return watch(()=>r.rules,()=>{r.validateOnRuleChange&&dr().catch(rc=>void 0)},{deep:!0,flush:"post"}),provide(formContextKey,reactive({...toRefs(r),emit:g,resetFields:Oe,clearValidate:ur,validateField:tc,getField:z,addField:j,removeField:ie,...useFormLabelWidth()})),e({validate:dr,validateField:tc,resetFields:Oe,clearValidate:ur,scrollToField:Xs,getField:z,fields:y}),(rc,ic)=>(openBlock(),createElementBlock("form",{ref_key:"formRef",ref:$,class:normalizeClass(V.value)},[renderSlot(rc.$slots,"default")],2))}});var Form=_export_sfc$1(_sfc_main$1b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},_setPrototypeOf(t,e)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(t,e,n){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(g,$,y){var k=[null];k.push.apply(k,$);var L=Function.bind.apply(g,k),V=new L;return y&&_setPrototypeOf(V,y.prototype),V},_construct.apply(null,arguments)}function _isNativeFunction(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function _wrapNativeSuper(t){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,g)}function g(){return _construct(r,arguments,_getPrototypeOf(this).constructor)}return g.prototype=Object.create(r.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(g,r)},_wrapNativeSuper(t)}var formatRegExp=/%[sdj%]/g,warning=function(){};function convertFieldsError(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function format(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var g=0,$=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var y=t.replace(formatRegExp,function(k){if(k==="%%")return"%";if(g>=$)return k;switch(k){case"%s":return String(n[g++]);case"%d":return Number(n[g++]);case"%j":try{return JSON.stringify(n[g++])}catch{return"[Circular]"}break;default:return k}});return y}return t}function isNativeStringType(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function isEmptyValue(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||isNativeStringType(e)&&typeof t=="string"&&!t)}function asyncParallelArray(t,e,n){var r=[],g=0,$=t.length;function y(k){r.push.apply(r,k||[]),g++,g===$&&n(r)}t.forEach(function(k){e(k,y)})}function asyncSerialArray(t,e,n){var r=0,g=t.length;function $(y){if(y&&y.length){n(y);return}var k=r;r=r+1,k<g?e(t[k],$):n([])}$([])}function flattenObjArr(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var AsyncValidationError=function(t){_inheritsLoose(e,t);function e(n,r){var g;return g=t.call(this,"Async Validation Error")||this,g.errors=n,g.fields=r,g}return e}(_wrapNativeSuper(Error));function asyncMap(t,e,n,r,g){if(e.first){var $=new Promise(function(ie,Oe){var ur=function(dr){return r(dr),dr.length?Oe(new AsyncValidationError(dr,convertFieldsError(dr))):ie(g)},hr=flattenObjArr(t);asyncSerialArray(hr,n,ur)});return $.catch(function(ie){return ie}),$}var y=e.firstFields===!0?Object.keys(t):e.firstFields||[],k=Object.keys(t),L=k.length,V=0,z=[],j=new Promise(function(ie,Oe){var ur=function(Vr){if(z.push.apply(z,Vr),V++,V===L)return r(z),z.length?Oe(new AsyncValidationError(z,convertFieldsError(z))):ie(g)};k.length||(r(z),ie(g)),k.forEach(function(hr){var Vr=t[hr];y.indexOf(hr)!==-1?asyncSerialArray(Vr,n,ur):asyncParallelArray(Vr,n,ur)})});return j.catch(function(ie){return ie}),j}function isErrorObj(t){return!!(t&&t.message!==void 0)}function getValue(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function complementError(t,e){return function(n){var r;return t.fullFields?r=getValue(e,t.fullFields):r=e[n.field||t.fullField],isErrorObj(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function deepMerge(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=_extends({},t[n],r):t[n]=r}}return t}var required$1=function(e,n,r,g,$,y){e.required&&(!r.hasOwnProperty(e.field)||isEmptyValue(n,y||e.type))&&g.push(format($.messages.required,e.fullField))},whitespace=function(e,n,r,g,$){(/^\s+$/.test(n)||n==="")&&g.push(format($.messages.whitespace,e.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var t="[a-fA-F\\d:]",e=function(Xs){return Xs&&Xs.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",g=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),$=new RegExp("(?:^"+n+"$)|(?:^"+g+"$)"),y=new RegExp("^"+n+"$"),k=new RegExp("^"+g+"$"),L=function(Xs){return Xs&&Xs.exact?$:new RegExp("(?:"+e(Xs)+n+e(Xs)+")|(?:"+e(Xs)+g+e(Xs)+")","g")};L.v4=function(tc){return tc&&tc.exact?y:new RegExp(""+e(tc)+n+e(tc),"g")},L.v6=function(tc){return tc&&tc.exact?k:new RegExp(""+e(tc)+g+e(tc),"g")};var V="(?:(?:[a-z]+:)?//)",z="(?:\\S+(?::\\S*)?@)?",j=L.v4().source,ie=L.v6().source,Oe="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",ur="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",hr="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Vr="(?::\\d{2,5})?",dr='(?:[/?#][^\\s"]*)?',ec="(?:"+V+"|www\\.)"+z+"(?:localhost|"+j+"|"+ie+"|"+Oe+ur+hr+")"+Vr+dr;return urlReg=new RegExp("(?:^"+ec+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(e){return types.number(e)&&parseInt(e,10)===e},float:function(e){return types.number(e)&&!types.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!types.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(pattern$2.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(getUrlRegex())},hex:function(e){return typeof e=="string"&&!!e.match(pattern$2.hex)}},type$1=function(e,n,r,g,$){if(e.required&&n===void 0){required$1(e,n,r,g,$);return}var y=["integer","float","array","regexp","object","method","email","number","date","url","hex"],k=e.type;y.indexOf(k)>-1?types[k](n)||g.push(format($.messages.types[k],e.fullField,e.type)):k&&typeof n!==e.type&&g.push(format($.messages.types[k],e.fullField,e.type))},range=function(e,n,r,g,$){var y=typeof e.len=="number",k=typeof e.min=="number",L=typeof e.max=="number",V=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z=n,j=null,ie=typeof n=="number",Oe=typeof n=="string",ur=Array.isArray(n);if(ie?j="number":Oe?j="string":ur&&(j="array"),!j)return!1;ur&&(z=n.length),Oe&&(z=n.replace(V,"_").length),y?z!==e.len&&g.push(format($.messages[j].len,e.fullField,e.len)):k&&!L&&z<e.min?g.push(format($.messages[j].min,e.fullField,e.min)):L&&!k&&z>e.max?g.push(format($.messages[j].max,e.fullField,e.max)):k&&L&&(z<e.min||z>e.max)&&g.push(format($.messages[j].range,e.fullField,e.min,e.max))},ENUM$1="enum",enumerable$1=function(e,n,r,g,$){e[ENUM$1]=Array.isArray(e[ENUM$1])?e[ENUM$1]:[],e[ENUM$1].indexOf(n)===-1&&g.push(format($.messages[ENUM$1],e.fullField,e[ENUM$1].join(", ")))},pattern$1=function(e,n,r,g,$){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||g.push(format($.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var y=new RegExp(e.pattern);y.test(n)||g.push(format($.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n,"string")&&!e.required)return r();rules.required(e,n,g,y,$,"string"),isEmptyValue(n,"string")||(rules.type(e,n,g,y,$),rules.range(e,n,g,y,$),rules.pattern(e,n,g,y,$),e.whitespace===!0&&rules.whitespace(e,n,g,y,$))}r(y)},method2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),n!==void 0&&rules.type(e,n,g,y,$)}r(y)},number2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(n===""&&(n=void 0),isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),n!==void 0&&(rules.type(e,n,g,y,$),rules.range(e,n,g,y,$))}r(y)},_boolean=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),n!==void 0&&rules.type(e,n,g,y,$)}r(y)},regexp2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),isEmptyValue(n)||rules.type(e,n,g,y,$)}r(y)},integer2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),n!==void 0&&(rules.type(e,n,g,y,$),rules.range(e,n,g,y,$))}r(y)},floatFn=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),n!==void 0&&(rules.type(e,n,g,y,$),rules.range(e,n,g,y,$))}r(y)},array2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(n==null&&!e.required)return r();rules.required(e,n,g,y,$,"array"),n!=null&&(rules.type(e,n,g,y,$),rules.range(e,n,g,y,$))}r(y)},object2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),n!==void 0&&rules.type(e,n,g,y,$)}r(y)},ENUM="enum",enumerable2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$),n!==void 0&&rules[ENUM](e,n,g,y,$)}r(y)},pattern2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n,"string")&&!e.required)return r();rules.required(e,n,g,y,$),isEmptyValue(n,"string")||rules.pattern(e,n,g,y,$)}r(y)},date2=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n,"date")&&!e.required)return r();if(rules.required(e,n,g,y,$),!isEmptyValue(n,"date")){var L;n instanceof Date?L=n:L=new Date(n),rules.type(e,L,g,y,$),L&&rules.range(e,L.getTime(),g,y,$)}}r(y)},required2=function(e,n,r,g,$){var y=[],k=Array.isArray(n)?"array":typeof n;rules.required(e,n,g,y,$,k),r(y)},type2=function(e,n,r,g,$){var y=e.type,k=[],L=e.required||!e.required&&g.hasOwnProperty(e.field);if(L){if(isEmptyValue(n,y)&&!e.required)return r();rules.required(e,n,g,k,$,y),isEmptyValue(n,y)||rules.type(e,n,g,k,$)}r(k)},any=function(e,n,r,g,$){var y=[],k=e.required||!e.required&&g.hasOwnProperty(e.field);if(k){if(isEmptyValue(n)&&!e.required)return r();rules.required(e,n,g,y,$)}r(y)},validators={string,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var messages=newMessages(),Schema=function(){function t(n){this.rules=null,this._messages=messages,this.define(n)}var e=t.prototype;return e.define=function(r){var g=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function($){var y=r[$];g.rules[$]=Array.isArray(y)?y:[y]})},e.messages=function(r){return r&&(this._messages=deepMerge(newMessages(),r)),this._messages},e.validate=function(r,g,$){var y=this;g===void 0&&(g={}),$===void 0&&($=function(){});var k=r,L=g,V=$;if(typeof L=="function"&&(V=L,L={}),!this.rules||Object.keys(this.rules).length===0)return V&&V(null,k),Promise.resolve(k);function z(hr){var Vr=[],dr={};function ec(Xs){if(Array.isArray(Xs)){var rc;Vr=(rc=Vr).concat.apply(rc,Xs)}else Vr.push(Xs)}for(var tc=0;tc<hr.length;tc++)ec(hr[tc]);Vr.length?(dr=convertFieldsError(Vr),V(Vr,dr)):V(null,k)}if(L.messages){var j=this.messages();j===messages&&(j=newMessages()),deepMerge(j,L.messages),L.messages=j}else L.messages=this.messages();var ie={},Oe=L.keys||Object.keys(this.rules);Oe.forEach(function(hr){var Vr=y.rules[hr],dr=k[hr];Vr.forEach(function(ec){var tc=ec;typeof tc.transform=="function"&&(k===r&&(k=_extends({},k)),dr=k[hr]=tc.transform(dr)),typeof tc=="function"?tc={validator:tc}:tc=_extends({},tc),tc.validator=y.getValidationMethod(tc),tc.validator&&(tc.field=hr,tc.fullField=tc.fullField||hr,tc.type=y.getType(tc),ie[hr]=ie[hr]||[],ie[hr].push({rule:tc,value:dr,source:k,field:hr}))})});var ur={};return asyncMap(ie,L,function(hr,Vr){var dr=hr.rule,ec=(dr.type==="object"||dr.type==="array")&&(typeof dr.fields=="object"||typeof dr.defaultField=="object");ec=ec&&(dr.required||!dr.required&&hr.value),dr.field=hr.field;function tc(ic,_c){return _extends({},_c,{fullField:dr.fullField+"."+ic,fullFields:dr.fullFields?[].concat(dr.fullFields,[ic]):[ic]})}function Xs(ic){ic===void 0&&(ic=[]);var _c=Array.isArray(ic)?ic:[ic];!L.suppressWarning&&_c.length&&t.warning("async-validator:",_c),_c.length&&dr.message!==void 0&&(_c=[].concat(dr.message));var qm=_c.map(complementError(dr,k));if(L.first&&qm.length)return ur[dr.field]=1,Vr(qm);if(!ec)Vr(qm);else{if(dr.required&&!hr.value)return dr.message!==void 0?qm=[].concat(dr.message).map(complementError(dr,k)):L.error&&(qm=[L.error(dr,format(L.messages.required,dr.field))]),Vr(qm);var Xm={};dr.defaultField&&Object.keys(hr.value).map(function(nv){Xm[nv]=dr.defaultField}),Xm=_extends({},Xm,hr.rule.fields);var Km={};Object.keys(Xm).forEach(function(nv){var sv=Xm[nv],gv=Array.isArray(sv)?sv:[sv];Km[nv]=gv.map(tc.bind(null,nv))});var tv=new t(Km);tv.messages(L.messages),hr.rule.options&&(hr.rule.options.messages=L.messages,hr.rule.options.error=L.error),tv.validate(hr.value,hr.rule.options||L,function(nv){var sv=[];qm&&qm.length&&sv.push.apply(sv,qm),nv&&nv.length&&sv.push.apply(sv,nv),Vr(sv.length?sv:null)})}}var rc;if(dr.asyncValidator)rc=dr.asyncValidator(dr,hr.value,Xs,hr.source,L);else if(dr.validator){try{rc=dr.validator(dr,hr.value,Xs,hr.source,L)}catch(ic){console.error==null||console.error(ic),L.suppressValidatorError||setTimeout(function(){throw ic},0),Xs(ic.message)}rc===!0?Xs():rc===!1?Xs(typeof dr.message=="function"?dr.message(dr.fullField||dr.field):dr.message||(dr.fullField||dr.field)+" fails"):rc instanceof Array?Xs(rc):rc instanceof Error&&Xs(rc.message)}rc&&rc.then&&rc.then(function(){return Xs()},function(ic){return Xs(ic)})},function(hr){z(hr)},k)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!validators.hasOwnProperty(r.type))throw new Error(format("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var g=Object.keys(r),$=g.indexOf("message");return $!==-1&&g.splice($,1),g.length===1&&g[0]==="required"?validators.required:validators[this.getType(r)]||void 0},t}();Schema.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[e]=n};Schema.warning=warning;Schema.messages=messages;Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number]},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$e="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$e,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=inject(formContextKey,void 0),r=inject(formItemContextKey);r||throwError(COMPONENT_NAME$e,"usage: <el-form-item><label-wrap /></el-form-item>");const g=useNamespace("form"),$=ref(),y=ref(0),k=()=>{var z;if((z=$.value)!=null&&z.firstElementChild){const j=window.getComputedStyle($.value.firstElementChild).width;return Math.ceil(Number.parseFloat(j))}else return 0},L=(z="update")=>{nextTick(()=>{e.default&&t.isAutoWidth&&(z==="update"?y.value=k():z==="remove"&&(n==null||n.deregisterLabelWidth(y.value)))})},V=()=>L("update");return onMounted(()=>{V()}),onBeforeUnmount(()=>{L("remove")}),onUpdated(()=>V()),watch(y,(z,j)=>{t.updateAll&&(n==null||n.registerLabelWidth(z,j))}),useResizeObserver(computed(()=>{var z,j;return(j=(z=$.value)==null?void 0:z.firstElementChild)!=null?j:null}),V),()=>{var z,j;if(!e)return null;const{isAutoWidth:ie}=t;if(ie){const Oe=n==null?void 0:n.autoLabelWidth,ur=r==null?void 0:r.hasLabel,hr={};if(ur&&Oe&&Oe!=="auto"){const Vr=Math.max(0,Number.parseInt(Oe,10)-y.value),ec=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";Vr&&(hr[ec]=`${Vr}px`)}return createVNode("div",{ref:$,class:[g.be("item","label-wrap")],style:hr},[(z=e.default)==null?void 0:z.call(e)])}else return createVNode(Fragment,{ref:$},[(j=e.default)==null?void 0:j.call(e)])}}});const _hoisted_1$D=["role","aria-labelledby"],_sfc_main$1a=defineComponent({name:"ElFormItem",__name:"form-item",props:formItemProps,setup(t,{expose:e}){const n=t,r=useSlots(),g=inject(formContextKey,void 0),$=inject(formItemContextKey,void 0),y=useFormSize(void 0,{formItem:!1}),k=useNamespace("form-item"),L=useId().value,V=ref([]),z=ref(""),j=refDebounced(z,100),ie=ref(""),Oe=ref();let ur,hr=!1;const Vr=computed(()=>n.labelPosition||(g==null?void 0:g.labelPosition)),dr=computed(()=>{var Gv;return Vr.value==="top"?{}:{width:addUnit((Gv=n.labelWidth)!=null?Gv:g==null?void 0:g.labelWidth)}}),ec=computed(()=>{var Gv;if(Vr.value==="top"||g!=null&&g.inline)return{};if(!n.label&&!n.labelWidth&&Km)return{};const f0=addUnit((Gv=n.labelWidth)!=null?Gv:g==null?void 0:g.labelWidth);return!n.label&&!r.label?{marginLeft:f0}:{}}),tc=computed(()=>[k.b(),k.m(y.value),k.is("error",z.value==="error"),k.is("validating",z.value==="validating"),k.is("success",z.value==="success"),k.is("required",Sv.value||n.required),k.is("no-asterisk",g==null?void 0:g.hideRequiredAsterisk),(g==null?void 0:g.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[k.m("feedback")]:g==null?void 0:g.statusIcon,[k.m(`label-${Vr.value}`)]:Vr.value}]),Xs=computed(()=>isBoolean(n.inlineMessage)?n.inlineMessage:(g==null?void 0:g.inlineMessage)||!1),rc=computed(()=>[k.e("error"),{[k.em("error","inline")]:Xs.value}]),ic=computed(()=>n.prop?isArray$1(n.prop)?n.prop.join("."):n.prop:""),_c=computed(()=>!!(n.label||r.label)),qm=computed(()=>{var Gv;return(Gv=n.for)!=null?Gv:V.value.length===1?V.value[0]:void 0}),Xm=computed(()=>!qm.value&&_c.value),Km=!!$,tv=computed(()=>{const Gv=g==null?void 0:g.model;if(!(!Gv||!n.prop))return getProp(Gv,n.prop).value}),nv=computed(()=>{const{required:Gv}=n,f0=[];n.rules&&f0.push(...castArray$1(n.rules));const qv=g==null?void 0:g.rules;if(qv&&n.prop){const Pv=getProp(qv,n.prop).value;Pv&&f0.push(...castArray$1(Pv))}if(Gv!==void 0){const Pv=f0.map((Tv,Vv)=>[Tv,Vv]).filter(([Tv])=>"required"in Tv);if(Pv.length>0)for(const[Tv,Vv]of Pv)Tv.required!==Gv&&(f0[Vv]={...Tv,required:Gv});else f0.push({required:Gv})}return f0}),sv=computed(()=>nv.value.length>0),gv=Gv=>nv.value.filter(qv=>!qv.trigger||!Gv?!0:isArray$1(qv.trigger)?qv.trigger.includes(Gv):qv.trigger===Gv).map(({trigger:qv,...Pv})=>Pv),Sv=computed(()=>nv.value.some(Gv=>Gv.required)),wv=computed(()=>{var Gv;return j.value==="error"&&n.showMessage&&((Gv=g==null?void 0:g.showMessage)!=null?Gv:!0)}),rv=computed(()=>`${n.label||""}${(g==null?void 0:g.labelSuffix)||""}`),Jm=Gv=>{z.value=Gv},dv=Gv=>{var f0,qv;const{errors:Pv,fields:Tv}=Gv;(!Pv||!Tv)&&console.error(Gv),Jm("error"),ie.value=Pv?(qv=(f0=Pv==null?void 0:Pv[0])==null?void 0:f0.message)!=null?qv:`${n.prop} is required`:"",g==null||g.emit("validate",n.prop,!1,ie.value)},pv=()=>{Jm("success"),g==null||g.emit("validate",n.prop,!0,"")},mv=async Gv=>{const f0=ic.value;return new Schema({[f0]:Gv}).validate({[f0]:tv.value},{firstFields:!0}).then(()=>(pv(),!0)).catch(Pv=>(dv(Pv),Promise.reject(Pv)))},Cv=async(Gv,f0)=>{if(hr||!n.prop)return!1;const qv=isFunction$1(f0);if(!sv.value)return f0==null||f0(!1),!1;const Pv=gv(Gv);return Pv.length===0?(f0==null||f0(!0),!0):(Jm("validating"),mv(Pv).then(()=>(f0==null||f0(!0),!0)).catch(Tv=>{const{fields:Vv}=Tv;return f0==null||f0(!1,Vv),qv?!1:Promise.reject(Vv)}))},uv=()=>{Jm(""),ie.value="",hr=!1},yv=async()=>{const Gv=g==null?void 0:g.model;if(!Gv||!n.prop)return;const f0=getProp(Gv,n.prop);hr=!0,f0.value=clone(ur),await nextTick(),uv(),hr=!1},$v=Gv=>{V.value.includes(Gv)||V.value.push(Gv)},Dv=Gv=>{V.value=V.value.filter(f0=>f0!==Gv)};watch(()=>n.error,Gv=>{ie.value=Gv||"",Jm(Gv?"error":"")},{immediate:!0}),watch(()=>n.validateStatus,Gv=>Jm(Gv||""));const Hv=reactive({...toRefs(n),$el:Oe,size:y,validateMessage:ie,validateState:z,labelId:L,inputIds:V,isGroup:Xm,hasLabel:_c,fieldValue:tv,addInputId:$v,removeInputId:Dv,resetField:yv,clearValidate:uv,validate:Cv,propString:ic});return provide(formItemContextKey,Hv),onMounted(()=>{n.prop&&(g==null||g.addField(Hv),ur=clone(tv.value))}),onBeforeUnmount(()=>{g==null||g.removeField(Hv)}),e({size:y,validateMessage:ie,validateState:z,validate:Cv,clearValidate:uv,resetField:yv}),(Gv,f0)=>{var qv;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:Oe,class:normalizeClass(tc.value),role:Xm.value?"group":void 0,"aria-labelledby":Xm.value?unref(L):void 0},[createVNode(unref(FormLabelWrap),{"is-auto-width":dr.value.width==="auto","update-all":((qv=unref(g))==null?void 0:qv.labelWidth)==="auto"},{default:withCtx(()=>[Gv.label||Gv.$slots.label?(openBlock(),createBlock(resolveDynamicComponent(qm.value?"label":"div"),{key:0,id:unref(L),for:qm.value,class:normalizeClass(unref(k).e("label")),style:normalizeStyle(dr.value)},{default:withCtx(()=>[renderSlot(Gv.$slots,"label",{label:rv.value},()=>[createTextVNode(toDisplayString$1(rv.value),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(k).e("content")),style:normalizeStyle(ec.value)},[renderSlot(Gv.$slots,"default"),createVNode(TransitionGroup,{name:`${unref(k).namespace.value}-zoom-in-top`},{default:withCtx(()=>[wv.value?renderSlot(Gv.$slots,"error",{key:0,error:ie.value},()=>[createBaseVNode("div",{class:normalizeClass(rc.value)},toDisplayString$1(ie.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$D)}}});var FormItem=_export_sfc$1(_sfc_main$1a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem),imageViewerProps=buildProps({urlList:{type:definePropType(Array),default:()=>mutable([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:definePropType(String)}}),imageViewerEmits={close:()=>!0,error:t=>t instanceof Event,switch:t=>isNumber(t),rotate:t=>isNumber(t)},_hoisted_1$C=["src","crossorigin"],_sfc_main$19=defineComponent({name:"ElImageViewer",__name:"image-viewer",props:imageViewerProps,emits:imageViewerEmits,setup(t,{expose:e,emit:n}){var r;const g={CONTAIN:{name:"contain",icon:markRaw(full_screen_default)},ORIGINAL:{name:"original",icon:markRaw(scale_to_original_default)}},$=t,y=n;let k;const{t:L}=useLocale(),V=useNamespace("image-viewer"),{nextZIndex:z}=useZIndex(),j=ref(),ie=ref(),Oe=effectScope(),ur=computed(()=>{const{scale:qv,minScale:Pv,maxScale:Tv}=$;return clamp$1(qv,Pv,Tv)}),hr=ref(!0),Vr=ref(!1),dr=ref(!1),ec=ref($.initialIndex),tc=shallowRef(g.CONTAIN),Xs=ref({scale:ur.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),rc=ref((r=$.zIndex)!=null?r:z());useLockscreen(dr,{ns:V});const ic=computed(()=>{const{urlList:qv}=$;return qv.length<=1}),_c=computed(()=>ec.value===0),qm=computed(()=>ec.value===$.urlList.length-1),Xm=computed(()=>$.urlList[ec.value]),Km=computed(()=>[V.e("btn"),V.e("prev"),V.is("disabled",!$.infinite&&_c.value)]),tv=computed(()=>[V.e("btn"),V.e("next"),V.is("disabled",!$.infinite&&qm.value)]),nv=computed(()=>{const{scale:qv,deg:Pv,offsetX:Tv,offsetY:Vv,enableTransition:Av}=Xs.value;let y0=Tv/qv,av=Vv/qv;const fv=Pv*Math.PI/180,lv=Math.cos(fv),kv=Math.sin(fv);y0=y0*lv+av*kv,av=av*lv-Tv/qv*kv;const Iv={transform:`scale(${qv}) rotate(${Pv}deg) translate(${y0}px, ${av}px)`,transition:Av?"transform .3s":""};return tc.value.name===g.CONTAIN.name&&(Iv.maxWidth=Iv.maxHeight="100%"),Iv}),sv=computed(()=>`${ec.value+1} / ${$.urlList.length}`);function gv(){wv(),k==null||k(),dr.value=!1,y("close")}function Sv(){const qv=throttle(Tv=>{switch(getEventCode(Tv)){case EVENT_CODE.esc:$.closeOnPressEscape&&gv();break;case EVENT_CODE.space:Cv();break;case EVENT_CODE.left:yv();break;case EVENT_CODE.up:Dv("zoomIn");break;case EVENT_CODE.right:$v();break;case EVENT_CODE.down:Dv("zoomOut");break}}),Pv=throttle(Tv=>{const Vv=Tv.deltaY||Tv.deltaX;Dv(Vv<0?"zoomIn":"zoomOut",{zoomRate:$.zoomRate,enableTransition:!1})});Oe.run(()=>{useEventListener(document,"keydown",qv),useEventListener(j,"wheel",Pv)})}function wv(){Oe.stop()}function rv(){hr.value=!1}function Jm(qv){Vr.value=!0,hr.value=!1,y("error",qv),qv.target.alt=L("el.image.error")}function dv(qv){if(hr.value||qv.button!==0||!j.value)return;Xs.value.enableTransition=!1;const{offsetX:Pv,offsetY:Tv}=Xs.value,Vv=qv.pageX,Av=qv.pageY,y0=throttle(lv=>{Xs.value={...Xs.value,offsetX:Pv+lv.pageX-Vv,offsetY:Tv+lv.pageY-Av}}),av=useEventListener(document,"mousemove",y0),fv=useEventListener(document,"mouseup",()=>{av(),fv()});qv.preventDefault()}function pv(qv){if(hr.value||!j.value||qv.touches.length!==1)return;Xs.value.enableTransition=!1;const{offsetX:Pv,offsetY:Tv}=Xs.value,{pageX:Vv,pageY:Av}=qv.touches[0],y0=throttle(lv=>{const kv=lv.touches[0];Xs.value={...Xs.value,offsetX:Pv+kv.pageX-Vv,offsetY:Tv+kv.pageY-Av}}),av=useEventListener(document,"touchmove",y0),fv=useEventListener(document,"touchend",()=>{av(),fv()});qv.preventDefault()}function mv(){Xs.value={scale:ur.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Cv(){if(hr.value||Vr.value)return;const qv=keysOf(g),Pv=Object.values(g),Tv=tc.value.name,Av=(Pv.findIndex(y0=>y0.name===Tv)+1)%qv.length;tc.value=g[qv[Av]],mv()}function uv(qv){Vr.value=!1;const Pv=$.urlList.length;ec.value=(qv+Pv)%Pv}function yv(){_c.value&&!$.infinite||uv(ec.value-1)}function $v(){qm.value&&!$.infinite||uv(ec.value+1)}function Dv(qv,Pv={}){if(hr.value||Vr.value)return;const{minScale:Tv,maxScale:Vv}=$,{zoomRate:Av,rotateDeg:y0,enableTransition:av}={zoomRate:$.zoomRate,rotateDeg:90,enableTransition:!0,...Pv};switch(qv){case"zoomOut":Xs.value.scale>Tv&&(Xs.value.scale=Number.parseFloat((Xs.value.scale/Av).toFixed(3)));break;case"zoomIn":Xs.value.scale<Vv&&(Xs.value.scale=Number.parseFloat((Xs.value.scale*Av).toFixed(3)));break;case"clockwise":Xs.value.deg+=y0,y("rotate",Xs.value.deg);break;case"anticlockwise":Xs.value.deg-=y0,y("rotate",Xs.value.deg);break}Xs.value.enableTransition=av}function Hv(qv){var Pv;((Pv=qv.detail)==null?void 0:Pv.focusReason)==="pointer"&&qv.preventDefault()}function Gv(){$.closeOnPressEscape&&gv()}function f0(qv){if(qv.ctrlKey){if(qv.deltaY<0)return qv.preventDefault(),!1;if(qv.deltaY>0)return qv.preventDefault(),!1}}return watch(()=>ur.value,qv=>{Xs.value.scale=qv}),watch(Xm,()=>{nextTick(()=>{const qv=ie.value;qv!=null&&qv.complete||(hr.value=!0)})}),watch(ec,qv=>{mv(),y("switch",qv)}),onMounted(()=>{dr.value=!0,Sv(),k=useEventListener("wheel",f0,{passive:!1})}),e({setActiveItem:uv}),(qv,Pv)=>(openBlock(),createBlock(unref(ElTeleport),{to:"body",disabled:!qv.teleported},{default:withCtx(()=>[createVNode(Transition,{name:"viewer-fade",appear:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"wrapper",ref:j,tabindex:-1,class:normalizeClass(unref(V).e("wrapper")),style:normalizeStyle({zIndex:rc.value})},[createVNode(unref(ElFocusTrap),{loop:"",trapped:"","focus-trap-el":j.value,"focus-start-el":"container",onFocusoutPrevented:Hv,onReleaseRequested:Gv},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(V).e("mask")),onClick:Pv[0]||(Pv[0]=withModifiers(Tv=>qv.hideOnClickModal&&gv(),["self"]))},null,2),createCommentVNode(" CLOSE "),createBaseVNode("span",{class:normalizeClass([unref(V).e("btn"),unref(V).e("close")]),onClick:gv},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],2),createCommentVNode(" ARROW "),ic.value?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",{class:normalizeClass(Km.value),onClick:yv},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],2),createBaseVNode("span",{class:normalizeClass(tv.value),onClick:$v},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],2)],64)),qv.$slots.progress||qv.showProgress?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(V).e("btn"),unref(V).e("progress")])},[renderSlot(qv.$slots,"progress",{activeIndex:ec.value,total:qv.urlList.length},()=>[createTextVNode(toDisplayString$1(sv.value),1)])],2)):createCommentVNode("v-if",!0),createCommentVNode(" ACTIONS "),createBaseVNode("div",{class:normalizeClass([unref(V).e("btn"),unref(V).e("actions")])},[createBaseVNode("div",{class:normalizeClass(unref(V).e("actions__inner"))},[renderSlot(qv.$slots,"toolbar",{actions:Dv,prev:yv,next:$v,reset:Cv,activeIndex:ec.value,setActiveItem:uv},()=>[createVNode(unref(ElIcon),{onClick:Pv[1]||(Pv[1]=Tv=>Dv("zoomOut"))},{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Pv[2]||(Pv[2]=Tv=>Dv("zoomIn"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref(V).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:Cv},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(tc.value.icon)))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref(V).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:Pv[3]||(Pv[3]=Tv=>Dv("anticlockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_left_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Pv[4]||(Pv[4]=Tv=>Dv("clockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_right_default))]),_:1})])],2)],2),createCommentVNode(" CANVAS "),createBaseVNode("div",{class:normalizeClass(unref(V).e("canvas"))},[Vr.value&&qv.$slots["viewer-error"]?renderSlot(qv.$slots,"viewer-error",{key:0,activeIndex:ec.value,src:Xm.value}):(openBlock(),createElementBlock("img",{ref_key:"imgRef",ref:ie,key:Xm.value,src:Xm.value,style:normalizeStyle(nv.value),class:normalizeClass(unref(V).e("img")),crossorigin:qv.crossorigin,onLoad:rv,onError:Jm,onMousedown:dv,onTouchstart:pv},null,46,_hoisted_1$C))],2),renderSlot(qv.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var ImageViewer=_export_sfc$1(_sfc_main$19,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const ElImageViewer=withInstall(ImageViewer),imageProps=buildProps({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:definePropType([String,Object])},previewSrcList:{type:definePropType(Array),default:()=>mutable([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:definePropType(String)}}),imageEmits={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>isNumber(t),close:()=>!0,show:()=>!0},_hoisted_1$B=["src","loading","crossorigin"],_hoisted_2$m={key:0},_sfc_main$18=defineComponent({name:"ElImage",inheritAttrs:!1,__name:"image",props:imageProps,emits:imageEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{t:$}=useLocale(),y=useNamespace("image"),k=useAttrs$1(),L=computed(()=>fromPairs(Object.entries(k).filter(([rv])=>/^(data-|on[A-Z])/i.test(rv)||["id","style"].includes(rv)))),V=useAttrs({excludeListeners:!0,excludeKeys:computed(()=>Object.keys(L.value))}),z=ref(),j=ref(!1),ie=ref(!0),Oe=ref(!1),ur=ref(),hr=ref(),Vr=isClient&&"loading"in HTMLImageElement.prototype;let dr;const ec=computed(()=>[y.e("inner"),Xs.value&&y.e("preview"),ie.value&&y.is("loading")]),tc=computed(()=>{const{fit:rv}=r;return isClient&&rv?{objectFit:rv}:{}}),Xs=computed(()=>{const{previewSrcList:rv}=r;return isArray$1(rv)&&rv.length>0}),rc=computed(()=>{const{previewSrcList:rv,initialIndex:Jm}=r;let dv=Jm;return Jm>rv.length-1&&(dv=0),dv}),ic=computed(()=>r.loading==="eager"?!1:!Vr&&r.loading==="lazy"||r.lazy),_c=()=>{isClient&&(ie.value=!0,j.value=!1,z.value=r.src)};function qm(rv){ie.value=!1,j.value=!1,g("load",rv)}function Xm(rv){ie.value=!1,j.value=!0,g("error",rv)}function Km(rv){rv&&(_c(),sv())}const tv=useThrottleFn(Km,200,!0);async function nv(){var rv;if(!isClient)return;await nextTick();const{scrollContainer:Jm}=r;if(isElement$1(Jm))hr.value=Jm;else if(isString$1(Jm)&&Jm!=="")hr.value=(rv=document.querySelector(Jm))!=null?rv:void 0;else if(ur.value){const pv=getScrollContainer(ur.value);hr.value=isWindow(pv)?void 0:pv}const{stop:dv}=useIntersectionObserver(ur,([pv])=>{tv(pv.isIntersecting)},{root:hr});dr=dv}function sv(){!isClient||!tv||(dr==null||dr(),hr.value=void 0,dr=void 0)}function gv(){Xs.value&&(Oe.value=!0,g("show"))}function Sv(){Oe.value=!1,g("close")}function wv(rv){g("switch",rv)}return watch(()=>r.src,()=>{ic.value?(ie.value=!0,j.value=!1,sv(),nv()):_c()}),onMounted(()=>{ic.value?nv():_c()}),e({showPreview:gv}),(rv,Jm)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"container",ref:ur},L.value,{class:[unref(y).b(),rv.$attrs.class]}),[j.value?renderSlot(rv.$slots,"error",{key:0},()=>[createBaseVNode("div",{class:normalizeClass(unref(y).e("error"))},toDisplayString$1(unref($)("el.image.error")),3)]):(openBlock(),createElementBlock(Fragment,{key:1},[z.value!==void 0?(openBlock(),createElementBlock("img",mergeProps({key:0},unref(V),{src:z.value,loading:rv.loading,style:tc.value,class:ec.value,crossorigin:rv.crossorigin,onClick:gv,onLoad:qm,onError:Xm}),null,16,_hoisted_1$B)):createCommentVNode("v-if",!0),ie.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("wrapper"))},[renderSlot(rv.$slots,"placeholder",{},()=>[createBaseVNode("div",{class:normalizeClass(unref(y).e("placeholder"))},null,2)])],2)):createCommentVNode("v-if",!0)],64)),Xs.value?(openBlock(),createElementBlock(Fragment,{key:2},[Oe.value?(openBlock(),createBlock(unref(ElImageViewer),{key:0,"z-index":rv.zIndex,"initial-index":rc.value,infinite:rv.infinite,"zoom-rate":rv.zoomRate,"min-scale":rv.minScale,"max-scale":rv.maxScale,"show-progress":rv.showProgress,"url-list":rv.previewSrcList,scale:rv.scale,crossorigin:rv.crossorigin,"hide-on-click-modal":rv.hideOnClickModal,teleported:rv.previewTeleported,"close-on-press-escape":rv.closeOnPressEscape,onClose:Sv,onSwitch:wv},createSlots({toolbar:withCtx(dv=>[renderSlot(rv.$slots,"toolbar",normalizeProps(guardReactiveProps(dv)))]),default:withCtx(()=>[rv.$slots.viewer?(openBlock(),createElementBlock("div",_hoisted_2$m,[renderSlot(rv.$slots,"viewer")])):createCommentVNode("v-if",!0)]),_:2},[rv.$slots.progress?{name:"progress",fn:withCtx(dv=>[renderSlot(rv.$slots,"progress",normalizeProps(guardReactiveProps(dv)))]),key:"0"}:void 0,rv.$slots["viewer-error"]?{name:"viewer-error",fn:withCtx(dv=>[renderSlot(rv.$slots,"viewer-error",normalizeProps(guardReactiveProps(dv)))]),key:"1"}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0)],16))}});var Image$1=_export_sfc$1(_sfc_main$18,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const ElImage=withInstall(Image$1),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.MAX_SAFE_INTEGER},min:{type:Number,default:Number.MIN_SAFE_INTEGER},modelValue:{type:[Number,null]},readonly:Boolean,disabled:{type:Boolean,default:void 0},size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:definePropType([String,Number,null]),validator:t=>t===null||isNumber(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"]),inputmode:{type:definePropType(String),default:void 0},align:{type:definePropType(String),default:"center"},disabledScientific:Boolean}),inputNumberEmits={[CHANGE_EVENT]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[INPUT_EVENT]:t=>isNumber(t)||isNil(t),[UPDATE_MODEL_EVENT]:t=>isNumber(t)||isNil(t)},_hoisted_1$A=["aria-label"],_hoisted_2$l=["aria-label"],_sfc_main$17=defineComponent({name:"ElInputNumber",__name:"input-number",props:inputNumberProps,emits:inputNumberEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{t:$}=useLocale(),y=useNamespace("input-number"),k=ref(),L=reactive({currentValue:r.modelValue,userInput:null}),{formItem:V}=useFormItem(),z=computed(()=>isNumber(r.modelValue)&&r.modelValue<=r.min),j=computed(()=>isNumber(r.modelValue)&&r.modelValue>=r.max),ie=computed(()=>{const rv=ec(r.step);return isUndefined(r.precision)?Math.max(ec(r.modelValue),rv):(rv>r.precision,r.precision)}),Oe=computed(()=>r.controls&&r.controlsPosition==="right"),ur=useFormSize(),hr=useFormDisabled(),Vr=computed(()=>{if(L.userInput!==null)return L.userInput;let rv=L.currentValue;if(isNil(rv))return"";if(isNumber(rv)){if(Number.isNaN(rv))return"";isUndefined(r.precision)||(rv=rv.toFixed(r.precision))}return rv}),dr=(rv,Jm)=>{if(isUndefined(Jm)&&(Jm=ie.value),Jm===0)return Math.round(rv);let dv=String(rv);const pv=dv.indexOf(".");if(pv===-1||!dv.replace(".","").split("")[pv+Jm])return rv;const uv=dv.length;return dv.charAt(uv-1)==="5"&&(dv=`${dv.slice(0,Math.max(0,uv-1))}6`),Number.parseFloat(Number(dv).toFixed(Jm))},ec=rv=>{if(isNil(rv))return 0;const Jm=rv.toString(),dv=Jm.indexOf(".");let pv=0;return dv!==-1&&(pv=Jm.length-dv-1),pv},tc=(rv,Jm=1)=>isNumber(rv)?rv>=Number.MAX_SAFE_INTEGER&&Jm===1||rv<=Number.MIN_SAFE_INTEGER&&Jm===-1?rv:dr(rv+r.step*Jm):L.currentValue,Xs=rv=>{const Jm=getEventCode(rv),dv=getEventKey(rv);if(r.disabledScientific&&["e","E"].includes(dv)){rv.preventDefault();return}switch(Jm){case EVENT_CODE.up:{rv.preventDefault(),rc();break}case EVENT_CODE.down:{rv.preventDefault(),ic();break}}},rc=()=>{if(r.readonly||hr.value||j.value)return;const rv=Number(Vr.value)||0,Jm=tc(rv);qm(Jm),g(INPUT_EVENT,L.currentValue),Sv()},ic=()=>{if(r.readonly||hr.value||z.value)return;const rv=Number(Vr.value)||0,Jm=tc(rv,-1);qm(Jm),g(INPUT_EVENT,L.currentValue),Sv()},_c=(rv,Jm)=>{const{max:dv,min:pv,step:mv,precision:Cv,stepStrictly:uv,valueOnClear:yv}=r;dv<pv&&throwError("InputNumber","min should not be greater than max.");let $v=Number(rv);if(isNil(rv)||Number.isNaN($v))return null;if(rv===""){if(yv===null)return null;$v=isString$1(yv)?{min:pv,max:dv}[yv]:yv}return uv&&($v=dr(Math.round(dr($v/mv))*mv,Cv),$v!==rv&&Jm&&g(UPDATE_MODEL_EVENT,$v)),isUndefined(Cv)||($v=dr($v,Cv)),($v>dv||$v<pv)&&($v=$v>dv?dv:pv,Jm&&g(UPDATE_MODEL_EVENT,$v)),$v},qm=(rv,Jm=!0)=>{var dv;const pv=L.currentValue,mv=_c(rv);if(!Jm){g(UPDATE_MODEL_EVENT,mv);return}L.userInput=null,!(pv===mv&&rv)&&(g(UPDATE_MODEL_EVENT,mv),pv!==mv&&g(CHANGE_EVENT,mv,pv),r.validateEvent&&((dv=V==null?void 0:V.validate)==null||dv.call(V,"change").catch(Cv=>void 0)),L.currentValue=mv)},Xm=rv=>{L.userInput=rv;const Jm=rv===""?null:Number(rv);g(INPUT_EVENT,Jm),qm(Jm,!1)},Km=rv=>{const Jm=rv!==""?Number(rv):"";(isNumber(Jm)&&!Number.isNaN(Jm)||rv==="")&&qm(Jm),Sv(),L.userInput=null},tv=()=>{var rv,Jm;(Jm=(rv=k.value)==null?void 0:rv.focus)==null||Jm.call(rv)},nv=()=>{var rv,Jm;(Jm=(rv=k.value)==null?void 0:rv.blur)==null||Jm.call(rv)},sv=rv=>{g("focus",rv)},gv=rv=>{var Jm,dv;L.userInput=null,L.currentValue===null&&((Jm=k.value)!=null&&Jm.input)&&(k.value.input.value=""),g("blur",rv),r.validateEvent&&((dv=V==null?void 0:V.validate)==null||dv.call(V,"blur").catch(pv=>void 0))},Sv=()=>{L.currentValue!==r.modelValue&&(L.currentValue=r.modelValue)},wv=rv=>{document.activeElement===rv.target&&rv.preventDefault()};return watch(()=>r.modelValue,(rv,Jm)=>{const dv=_c(rv,!0);L.userInput===null&&dv!==Jm&&(L.currentValue=dv)},{immediate:!0}),watch(()=>r.precision,()=>{L.currentValue=_c(r.modelValue)}),onMounted(()=>{var rv;const{min:Jm,max:dv,modelValue:pv}=r,mv=(rv=k.value)==null?void 0:rv.input;if(mv.setAttribute("role","spinbutton"),Number.isFinite(dv)?mv.setAttribute("aria-valuemax",String(dv)):mv.removeAttribute("aria-valuemax"),Number.isFinite(Jm)?mv.setAttribute("aria-valuemin",String(Jm)):mv.removeAttribute("aria-valuemin"),mv.setAttribute("aria-valuenow",L.currentValue||L.currentValue===0?String(L.currentValue):""),mv.setAttribute("aria-disabled",String(hr.value)),!isNumber(pv)&&pv!=null){let Cv=Number(pv);Number.isNaN(Cv)&&(Cv=null),g(UPDATE_MODEL_EVENT,Cv)}mv.addEventListener("wheel",wv,{passive:!1})}),onUpdated(()=>{var rv,Jm;const dv=(rv=k.value)==null?void 0:rv.input;dv==null||dv.setAttribute("aria-valuenow",`${(Jm=L.currentValue)!=null?Jm:""}`)}),e({focus:tv,blur:nv}),(rv,Jm)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),unref(y).m(unref(ur)),unref(y).is("disabled",unref(hr)),unref(y).is("without-controls",!rv.controls),unref(y).is("controls-right",Oe.value),unref(y).is(rv.align,!!rv.align)]),onDragstart:Jm[0]||(Jm[0]=withModifiers(()=>{},["prevent"]))},[rv.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref($)("el.inputNumber.decrease"),class:normalizeClass([unref(y).e("decrease"),unref(y).is("disabled",z.value)]),onKeydown:withKeys(ic,["enter"])},[renderSlot(rv.$slots,"decrease-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[Oe.value?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})])],42,_hoisted_1$A)),[[unref(vRepeatClick),ic]]):createCommentVNode("v-if",!0),rv.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref($)("el.inputNumber.increase"),class:normalizeClass([unref(y).e("increase"),unref(y).is("disabled",j.value)]),onKeydown:withKeys(rc,["enter"])},[renderSlot(rv.$slots,"increase-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[Oe.value?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})])],42,_hoisted_2$l)),[[unref(vRepeatClick),rc]]):createCommentVNode("v-if",!0),createVNode(unref(ElInput),{id:rv.id,ref_key:"input",ref:k,type:"number",step:rv.step,"model-value":Vr.value,placeholder:rv.placeholder,readonly:rv.readonly,disabled:unref(hr),size:unref(ur),max:rv.max,min:rv.min,name:rv.name,"aria-label":rv.ariaLabel,"validate-event":!1,inputmode:rv.inputmode,onKeydown:Xs,onBlur:gv,onFocus:sv,onInput:Xm,onChange:Km},createSlots({_:2},[rv.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(rv.$slots,"prefix")]),key:"0"}:void 0,rv.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(rv.$slots,"suffix")]),key:"1"}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","inputmode"])],34))}});var InputNumber=_export_sfc$1(_sfc_main$17,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),inputTagProps=buildProps({modelValue:{type:definePropType(Array)},max:Number,tagType:{...tagProps.type,default:"info"},tagEffect:tagProps.effect,trigger:{type:definePropType(String),default:EVENT_CODE.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:""},size:useSizeProp,clearable:Boolean,clearIcon:{type:iconPropType,default:circle_close_default},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:definePropType(String),default:"off"},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),inputTagEmits={[UPDATE_MODEL_EVENT]:t=>isArray$1(t)||isUndefined(t),[CHANGE_EVENT]:t=>isArray$1(t)||isUndefined(t),[INPUT_EVENT]:t=>isString$1(t),"add-tag":t=>isString$1(t)||isArray$1(t),"remove-tag":(t,e)=>isString$1(t)&&isNumber(e),"drag-tag":(t,e,n)=>isNumber(t)&&isNumber(e)&&isString$1(n),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function useInputTag({props:t,emit:e,formItem:n}){const r=useFormDisabled(),g=useFormSize(),$=shallowRef(),y=ref(),k=ref(),L=computed(()=>["small"].includes(g.value)?"small":"default"),V=computed(()=>{var Sv;return(Sv=t.modelValue)!=null&&Sv.length?void 0:t.placeholder}),z=computed(()=>!(t.readonly||r.value)),j=computed(()=>{var Sv,wv;return isUndefined(t.max)?!1:((wv=(Sv=t.modelValue)==null?void 0:Sv.length)!=null?wv:0)>=t.max}),ie=computed(()=>{var Sv;return t.collapseTags?(Sv=t.modelValue)==null?void 0:Sv.slice(0,t.maxCollapseTags):t.modelValue}),Oe=computed(()=>{var Sv;return t.collapseTags?(Sv=t.modelValue)==null?void 0:Sv.slice(t.maxCollapseTags):[]}),ur=Sv=>{var wv;const rv=[...(wv=t.modelValue)!=null?wv:[],...castArray$1(Sv)];e(UPDATE_MODEL_EVENT,rv),e(CHANGE_EVENT,rv),e("add-tag",Sv),y.value=void 0},hr=Sv=>{var wv,rv;const Jm=Sv.split(t.delimiter).filter(dv=>dv&&dv!==Sv);if(t.max){const dv=t.max-((rv=(wv=t.modelValue)==null?void 0:wv.length)!=null?rv:0);Jm.splice(dv)}return Jm.length===1?Jm[0]:Jm},Vr=Sv=>{if(j.value){y.value=void 0;return}if(!tv.value){if(t.delimiter&&y.value){const wv=hr(y.value);wv.length&&ur(wv)}e(INPUT_EVENT,Sv.target.value)}},dr=Sv=>{var wv;if(tv.value)return;switch(getEventCode(Sv)){case t.trigger:Sv.preventDefault(),Sv.stopPropagation(),tc();break;case EVENT_CODE.numpadEnter:t.trigger===EVENT_CODE.enter&&(Sv.preventDefault(),Sv.stopPropagation(),tc());break;case EVENT_CODE.backspace:!y.value&&((wv=t.modelValue)!=null&&wv.length)&&(Sv.preventDefault(),Sv.stopPropagation(),Xs(t.modelValue.length-1));break}},ec=Sv=>{if(tv.value||!isAndroid())return;switch(getEventCode(Sv)){case EVENT_CODE.space:t.trigger===EVENT_CODE.space&&(Sv.preventDefault(),Sv.stopPropagation(),tc());break}},tc=()=>{var Sv;const wv=(Sv=y.value)==null?void 0:Sv.trim();!wv||j.value||ur(wv)},Xs=Sv=>{var wv;const rv=((wv=t.modelValue)!=null?wv:[]).slice(),[Jm]=rv.splice(Sv,1);e(UPDATE_MODEL_EVENT,rv),e(CHANGE_EVENT,rv),e("remove-tag",Jm,Sv)},rc=()=>{y.value=void 0,e(UPDATE_MODEL_EVENT,void 0),e(CHANGE_EVENT,void 0),e("clear")},ic=(Sv,wv,rv)=>{var Jm;const dv=((Jm=t.modelValue)!=null?Jm:[]).slice(),[pv]=dv.splice(Sv,1),mv=wv>Sv&&rv==="before"?-1:wv<Sv&&rv==="after"?1:0;dv.splice(wv+mv,0,pv),e(UPDATE_MODEL_EVENT,dv),e(CHANGE_EVENT,dv),e("drag-tag",Sv,wv+mv,pv)},_c=()=>{var Sv;(Sv=$.value)==null||Sv.focus()},qm=()=>{var Sv;(Sv=$.value)==null||Sv.blur()},{wrapperRef:Xm,isFocused:Km}=useFocusController($,{disabled:r,beforeBlur(Sv){var wv;return(wv=k.value)==null?void 0:wv.isFocusInsideContent(Sv)},afterBlur(){var Sv;t.saveOnBlur?tc():y.value=void 0,t.validateEvent&&((Sv=n==null?void 0:n.validate)==null||Sv.call(n,"blur").catch(wv=>void 0))}}),{isComposing:tv,handleCompositionStart:nv,handleCompositionUpdate:sv,handleCompositionEnd:gv}=useComposition({afterComposition:Vr});return watch(()=>t.modelValue,()=>{var Sv;t.validateEvent&&((Sv=n==null?void 0:n.validate)==null||Sv.call(n,CHANGE_EVENT).catch(wv=>void 0))}),{inputRef:$,wrapperRef:Xm,tagTooltipRef:k,isFocused:Km,isComposing:tv,inputValue:y,size:g,tagSize:L,placeholder:V,closable:z,disabled:r,inputLimit:j,showTagList:ie,collapseTagList:Oe,handleDragged:ic,handleInput:Vr,handleKeydown:dr,handleKeyup:ec,handleAddTag:tc,handleRemoveTag:Xs,handleClear:rc,handleCompositionStart:nv,handleCompositionUpdate:sv,handleCompositionEnd:gv,focus:_c,blur:qm}}function useHovering(){const t=ref(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}const MINIMUM_INPUT_WIDTH=11,BORDER_HORIZONTAL_WIDTH=2;function useCalcInputWidth(){const t=shallowRef(),e=ref(0),n=computed(()=>({minWidth:`${Math.max(e.value,MINIMUM_INPUT_WIDTH)}px`}));return useResizeObserver(t,()=>{var g,$;e.value=($=(g=t.value)==null?void 0:g.getBoundingClientRect().width)!=null?$:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:n}}function useDragTag({wrapperRef:t,handleDragged:e,afterDragged:n}){const r=useNamespace("input-tag"),g=shallowRef(),$=ref(!1);let y,k,L,V;function z(ur){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${ur+1})`}function j(ur,hr){y=hr,k=t.value.querySelector(z(hr)),k&&(k.style.opacity="0.5"),ur.dataTransfer.effectAllowed="move"}function ie(ur,hr){if(L=hr,ur.preventDefault(),ur.dataTransfer.dropEffect="move",isUndefined(y)||y===hr){$.value=!1;return}const Vr=t.value.querySelector(z(hr)).getBoundingClientRect(),dr=y+1!==hr,ec=y-1!==hr,tc=ur.clientX-Vr.left,Xs=dr?ec?.5:1:-1,rc=ec?dr?.5:0:1;tc<=Vr.width*Xs?V="before":tc>Vr.width*rc?V="after":V=void 0;const ic=t.value.querySelector(`.${r.e("inner")}`),_c=ic.getBoundingClientRect(),qm=Number.parseFloat(getStyle(ic,"gap"))/2,Xm=Vr.top-_c.top;let Km=-9999;if(V==="before")Km=Math.max(Vr.left-_c.left-qm,Math.floor(-qm/2));else if(V==="after"){const tv=Vr.right-_c.left;Km=tv+(_c.width===tv?Math.floor(qm/2):qm)}setStyle(g.value,{top:`${Xm}px`,left:`${Km}px`}),$.value=!!V}function Oe(ur){ur.preventDefault(),k&&(k.style.opacity=""),V&&!isUndefined(y)&&!isUndefined(L)&&y!==L&&e(y,L,V),$.value=!1,y=void 0,k=null,L=void 0,V=void 0,n==null||n()}return{dropIndicatorRef:g,showDropIndicator:$,handleDragStart:j,handleDragOver:ie,handleDragEnd:Oe}}function useInputTagDom({props:t,isFocused:e,hovering:n,disabled:r,inputValue:g,size:$,validateState:y,validateIcon:k,needStatusIcon:L}){const V=useAttrs$1(),z=useSlots(),j=useNamespace("input-tag"),ie=useNamespace("input"),Oe=ref(),ur=ref(),hr=computed(()=>[j.b(),j.is("focused",e.value),j.is("hovering",n.value),j.is("disabled",r.value),j.m($.value),j.e("wrapper"),V.class]),Vr=computed(()=>[V.style]),dr=computed(()=>{var Xm,Km;return[j.e("inner"),j.is("draggable",t.draggable),j.is("left-space",!((Xm=t.modelValue)!=null&&Xm.length)&&!z.prefix),j.is("right-space",!((Km=t.modelValue)!=null&&Km.length)&&!tc.value)]}),ec=computed(()=>{var Xm;return t.clearable&&!r.value&&!t.readonly&&(((Xm=t.modelValue)==null?void 0:Xm.length)||g.value)&&(e.value||n.value)}),tc=computed(()=>z.suffix||ec.value||y.value&&k.value&&L.value),Xs=reactive({innerWidth:0,collapseItemWidth:0}),rc=()=>{if(!ur.value)return 0;const Xm=window.getComputedStyle(ur.value);return Number.parseFloat(Xm.gap||"6px")},ic=()=>{Xs.innerWidth=Number.parseFloat(window.getComputedStyle(ur.value).width)},_c=()=>{Xs.collapseItemWidth=Oe.value.getBoundingClientRect().width},qm=computed(()=>{if(!t.collapseTags)return{};const Xm=rc(),Km=Xm+MINIMUM_INPUT_WIDTH,tv=Oe.value&&t.maxCollapseTags===1?Xs.innerWidth-Xs.collapseItemWidth-Xm-Km:Xs.innerWidth-Km;return{maxWidth:`${Math.max(tv,0)}px`}});return useResizeObserver(ur,ic),useResizeObserver(Oe,_c),{ns:j,nsInput:ie,containerKls:hr,containerStyle:Vr,innerKls:dr,showClear:ec,showSuffix:tc,tagStyle:qm,collapseItemRef:Oe,innerRef:ur}}const _hoisted_1$z=["id","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel"],_hoisted_2$k=["textContent"],_sfc_main$16=defineComponent({name:"ElInputTag",inheritAttrs:!1,__name:"input-tag",props:inputTagProps,emits:inputTagEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useAttrs(),y=useSlots(),{form:k,formItem:L}=useFormItem(),{inputId:V}=useFormItemInputId(r,{formItemContext:L}),z=computed(()=>{var Iv;return(Iv=k==null?void 0:k.statusIcon)!=null?Iv:!1}),j=computed(()=>(L==null?void 0:L.validateState)||""),ie=computed(()=>j.value&&ValidateComponentsMap[j.value]),{inputRef:Oe,wrapperRef:ur,tagTooltipRef:hr,isFocused:Vr,inputValue:dr,size:ec,tagSize:tc,placeholder:Xs,closable:rc,disabled:ic,showTagList:_c,collapseTagList:qm,handleDragged:Xm,handleInput:Km,handleKeydown:tv,handleKeyup:nv,handleRemoveTag:sv,handleClear:gv,handleCompositionStart:Sv,handleCompositionUpdate:wv,handleCompositionEnd:rv,focus:Jm,blur:dv}=useInputTag({props:r,emit:g,formItem:L}),{hovering:pv,handleMouseEnter:mv,handleMouseLeave:Cv}=useHovering(),{calculatorRef:uv,inputStyle:yv}=useCalcInputWidth(),{dropIndicatorRef:$v,showDropIndicator:Dv,handleDragStart:Hv,handleDragOver:Gv,handleDragEnd:f0}=useDragTag({wrapperRef:ur,handleDragged:Xm,afterDragged:Jm}),{ns:qv,nsInput:Pv,containerKls:Tv,containerStyle:Vv,innerKls:Av,showClear:y0,showSuffix:av,tagStyle:fv,collapseItemRef:lv,innerRef:kv}=useInputTagDom({props:r,hovering:pv,isFocused:Vr,inputValue:dr,disabled:ic,size:ec,validateState:j,validateIcon:ie,needStatusIcon:z});return e({focus:Jm,blur:dv}),(Iv,vv)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:ur,class:normalizeClass(unref(Tv)),style:normalizeStyle(unref(Vv)),onMouseenter:vv[8]||(vv[8]=(...Ev)=>unref(mv)&&unref(mv)(...Ev)),onMouseleave:vv[9]||(vv[9]=(...Ev)=>unref(Cv)&&unref(Cv)(...Ev))},[unref(y).prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(qv).e("prefix"))},[renderSlot(Iv.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"innerRef",ref:kv,class:normalizeClass(unref(Av))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_c),(Ev,zv)=>(openBlock(),createBlock(unref(ElTag),{key:zv,size:unref(tc),closable:unref(rc),type:Iv.tagType,effect:Iv.tagEffect,draggable:unref(rc)&&Iv.draggable,style:normalizeStyle(unref(fv)),"disable-transitions":"",onClose:Fv=>unref(sv)(zv),onDragstart:Fv=>unref(Hv)(Fv,zv),onDragover:Fv=>unref(Gv)(Fv,zv),onDragend:unref(f0),onDrop:vv[0]||(vv[0]=withModifiers(()=>{},["stop"]))},{default:withCtx(()=>[renderSlot(Iv.$slots,"tag",{value:Ev,index:zv},()=>[createTextVNode(toDisplayString$1(Ev),1)])]),_:2},1032,["size","closable","type","effect","draggable","style","onClose","onDragstart","onDragover","onDragend"]))),128)),Iv.collapseTags&&Iv.modelValue&&Iv.modelValue.length>Iv.maxCollapseTags?(openBlock(),createBlock(unref(ElTooltip),{key:0,ref_key:"tagTooltipRef",ref:hr,disabled:!Iv.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:Iv.tagEffect,placement:"bottom"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"collapseItemRef",ref:lv},[createVNode(unref(ElTag),{closable:!1,size:unref(tc),type:Iv.tagType,effect:Iv.tagEffect,"disable-transitions":""},{default:withCtx(()=>[createTextVNode(" + "+toDisplayString$1(Iv.modelValue.length-Iv.maxCollapseTags),1)]),_:1},8,["size","type","effect"])],512)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(qv).e("input-tag-list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(qm),(Ev,zv)=>(openBlock(),createBlock(unref(ElTag),{key:zv,size:unref(tc),closable:unref(rc),type:Iv.tagType,effect:Iv.tagEffect,"disable-transitions":"",onClose:Fv=>unref(sv)(zv+Iv.maxCollapseTags)},{default:withCtx(()=>[renderSlot(Iv.$slots,"tag",{value:Ev,index:zv+Iv.maxCollapseTags},()=>[createTextVNode(toDisplayString$1(Ev),1)])]),_:2},1032,["size","closable","type","effect","onClose"]))),128))],2)]),_:3},8,["disabled","effect"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(qv).e("input-wrapper"))},[withDirectives(createBaseVNode("input",mergeProps({id:unref(V),ref_key:"inputRef",ref:Oe,"onUpdate:modelValue":vv[1]||(vv[1]=Ev=>isRef(dr)?dr.value=Ev:null)},unref($),{type:"text",minlength:Iv.minlength,maxlength:Iv.maxlength,disabled:unref(ic),readonly:Iv.readonly,autocomplete:Iv.autocomplete,tabindex:Iv.tabindex,placeholder:unref(Xs),autofocus:Iv.autofocus,ariaLabel:Iv.ariaLabel,class:unref(qv).e("input"),style:unref(yv),onCompositionstart:vv[2]||(vv[2]=(...Ev)=>unref(Sv)&&unref(Sv)(...Ev)),onCompositionupdate:vv[3]||(vv[3]=(...Ev)=>unref(wv)&&unref(wv)(...Ev)),onCompositionend:vv[4]||(vv[4]=(...Ev)=>unref(rv)&&unref(rv)(...Ev)),onInput:vv[5]||(vv[5]=(...Ev)=>unref(Km)&&unref(Km)(...Ev)),onKeydown:vv[6]||(vv[6]=(...Ev)=>unref(tv)&&unref(tv)(...Ev)),onKeyup:vv[7]||(vv[7]=(...Ev)=>unref(nv)&&unref(nv)(...Ev))}),null,16,_hoisted_1$z),[[vModelText,unref(dr)]]),createBaseVNode("span",{ref_key:"calculatorRef",ref:uv,"aria-hidden":"true",class:normalizeClass(unref(qv).e("input-calculator")),textContent:toDisplayString$1(unref(dr))},null,10,_hoisted_2$k)],2),withDirectives(createBaseVNode("div",{ref_key:"dropIndicatorRef",ref:$v,class:normalizeClass(unref(qv).e("drop-indicator"))},null,2),[[vShow,unref(Dv)]])],2),unref(av)?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(qv).e("suffix"))},[renderSlot(Iv.$slots,"suffix"),unref(y0)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(qv).e("icon"),unref(qv).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:unref(gv)},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Iv.clearIcon)))]),_:1},8,["class","onMousedown","onClick"])):createCommentVNode("v-if",!0),j.value&&ie.value&&z.value?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(Pv).e("icon"),unref(Pv).e("validateIcon"),unref(Pv).is("loading",j.value==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ie.value)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],38))}});var InputTag=_export_sfc$1(_sfc_main$16,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-tag/src/input-tag.vue"]]);const ElInputTag=withInstall(InputTag),linkProps=buildProps({type:{type:String,values:["primary","success","warning","info","danger","default"],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:void 0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:iconPropType}}),linkEmits={click:t=>t instanceof MouseEvent},_hoisted_1$y=["href","target"],_sfc_main$15=defineComponent({name:"ElLink",__name:"link",props:linkProps,emits:linkEmits,setup(t,{emit:e}){const n=t,r=e,g=useGlobalConfig("link");useDeprecated({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},computed(()=>isBoolean(n.underline)));const $=useNamespace("link"),y=computed(()=>{var V,z,j;return[$.b(),$.m((j=(z=n.type)!=null?z:(V=g.value)==null?void 0:V.type)!=null?j:"default"),$.is("disabled",n.disabled),$.is("underline",k.value==="always"),$.is("hover-underline",k.value==="hover"&&!n.disabled)]}),k=computed(()=>{var V,z,j;return isBoolean(n.underline)?n.underline?"hover":"never":(j=(z=n.underline)!=null?z:(V=g.value)==null?void 0:V.underline)!=null?j:"hover"});function L(V){n.disabled||r("click",V)}return(V,z)=>(openBlock(),createElementBlock("a",{class:normalizeClass(y.value),href:V.disabled||!V.href?void 0:V.href,target:V.disabled||!V.href?void 0:V.target,onClick:L},[V.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(V.icon)))]),_:1})):createCommentVNode("v-if",!0),V.$slots.default?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref($).e("inner"))},[renderSlot(V.$slots,"default")],2)):createCommentVNode("v-if",!0),V.$slots.icon?renderSlot(V.$slots,"icon",{key:2}):createCommentVNode("v-if",!0)],10,_hoisted_1$y))}});var Link=_export_sfc$1(_sfc_main$15,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const ElLink=withInstall(Link);let SubMenu$1=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{const g=getEventCode(r);let $=!1;switch(g){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),$=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),$=!0;break}case EVENT_CODE.tab:{triggerEvent(e,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:{$=!0,r.currentTarget.click();break}}return $&&(r.preventDefault(),r.stopPropagation()),!1})})}},MenuItem$1=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new SubMenu$1(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{const n=getEventCode(e);let r=!1;switch(n){case EVENT_CODE.down:{triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case EVENT_CODE.up:{triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case EVENT_CODE.tab:{triggerEvent(e.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},Menu$1=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new MenuItem$1(r,e)})}};const _sfc_main$14=defineComponent({name:"ElMenuCollapseTransition",__name:"menu-collapse-transition",setup(t){const e=useNamespace("menu"),n={onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,g){addClass(r,`${e.namespace.value}-opacity-transition`),r.style.opacity="1",g()},onAfterEnter(r){removeClass(r,`${e.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),hasClass(r,e.m("collapse"))?(removeClass(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),addClass(r,e.m("collapse"))):(addClass(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),removeClass(r,e.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){addClass(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}};return(r,g)=>(openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},n),{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},16))}});var ElMenuCollapseTransition=_export_sfc$1(_sfc_main$14,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function useMenu(t,e){const n=computed(()=>{let g=t.parent;const $=[e.value];for(;g.type.name!=="ElMenu";)g.props.index&&$.unshift(g.props.index),g=g.parent;return $});return{parentMenu:computed(()=>{let g=t.parent;for(;g&&!["ElMenu","ElSubMenu"].includes(g.type.name);)g=g.parent;return g}),indexPath:n}}function useMenuColor(t){return computed(()=>{const n=t.backgroundColor;return n?new TinyColor(n).shade(20).toString():""})}const useMenuCssVar=(t,e)=>{const n=useNamespace("menu");return computed(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":useMenuColor(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},MENU_INJECTION_KEY="rootMenu",SUB_MENU_INJECTION_KEY="subMenu:",subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:definePropType([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$d="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$d,props:subMenuProps,setup(t,{slots:e,expose:n}){const r=getCurrentInstance(),{indexPath:g,parentMenu:$}=useMenu(r,computed(()=>t.index)),y=useNamespace("menu"),k=useNamespace("sub-menu"),L=inject(MENU_INJECTION_KEY);L||throwError(COMPONENT_NAME$d,"can not inject root menu");const V=inject(`${SUB_MENU_INJECTION_KEY}${$.value.uid}`);V||throwError(COMPONENT_NAME$d,"can not inject sub menu");const z=ref({}),j=ref({});let ie;const Oe=ref(!1),ur=ref(),hr=ref(),Vr=computed(()=>V.level===0),dr=computed(()=>qm.value==="horizontal"&&Vr.value?"bottom-start":"right-start"),ec=computed(()=>qm.value==="horizontal"&&Vr.value||qm.value==="vertical"&&!L.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?ic.value?t.expandOpenIcon:t.expandCloseIcon:arrow_down_default:t.collapseCloseIcon&&t.collapseOpenIcon?ic.value?t.collapseOpenIcon:t.collapseCloseIcon:arrow_right_default),tc=computed(()=>{const Cv=t.teleported;return isUndefined(Cv)?Vr.value:Cv}),Xs=computed(()=>L.props.collapse?`${y.namespace.value}-zoom-in-left`:`${y.namespace.value}-zoom-in-top`),rc=computed(()=>qm.value==="horizontal"&&Vr.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),ic=computed(()=>L.openedMenus.includes(t.index)),_c=computed(()=>[...Object.values(z.value),...Object.values(j.value)].some(({active:Cv})=>Cv)),qm=computed(()=>L.props.mode),Xm=computed(()=>L.props.persistent),Km=reactive({index:t.index,indexPath:g,active:_c}),tv=useMenuCssVar(L.props,V.level+1),nv=computed(()=>{var Cv;return(Cv=t.popperOffset)!=null?Cv:L.props.popperOffset}),sv=computed(()=>{var Cv;return(Cv=t.popperClass)!=null?Cv:L.props.popperClass}),gv=computed(()=>{var Cv;return(Cv=t.popperStyle)!=null?Cv:L.props.popperStyle}),Sv=computed(()=>{var Cv;return(Cv=t.showTimeout)!=null?Cv:L.props.showTimeout}),wv=computed(()=>{var Cv;return(Cv=t.hideTimeout)!=null?Cv:L.props.hideTimeout}),rv=()=>{var Cv,uv,yv;return(yv=(uv=(Cv=hr.value)==null?void 0:Cv.popperRef)==null?void 0:uv.popperInstanceRef)==null?void 0:yv.destroy()},Jm=Cv=>{Cv||rv()},dv=()=>{L.props.menuTrigger==="hover"&&L.props.mode==="horizontal"||L.props.collapse&&L.props.mode==="vertical"||t.disabled||L.handleSubMenuClick({index:t.index,indexPath:g.value,active:_c.value})},pv=(Cv,uv=Sv.value)=>{var yv;if(Cv.type!=="focus"){if(L.props.menuTrigger==="click"&&L.props.mode==="horizontal"||!L.props.collapse&&L.props.mode==="vertical"||t.disabled){V.mouseInChild.value=!0;return}V.mouseInChild.value=!0,ie==null||ie(),{stop:ie}=useTimeoutFn(()=>{L.openMenu(t.index,g.value)},uv),tc.value&&((yv=$.value.vnode.el)==null||yv.dispatchEvent(new MouseEvent("mouseenter"))),Cv.type==="mouseenter"&&Cv.target&&nextTick(()=>{focusElement(Cv.target,{preventScroll:!0})})}},mv=(Cv=!1)=>{var uv;if(L.props.menuTrigger==="click"&&L.props.mode==="horizontal"||!L.props.collapse&&L.props.mode==="vertical"){V.mouseInChild.value=!1;return}ie==null||ie(),V.mouseInChild.value=!1,{stop:ie}=useTimeoutFn(()=>!Oe.value&&L.closeMenu(t.index,g.value),wv.value),tc.value&&Cv&&((uv=V.handleMouseleave)==null||uv.call(V,!0))};watch(()=>L.props.collapse,Cv=>Jm(!!Cv));{const Cv=yv=>{j.value[yv.index]=yv},uv=yv=>{delete j.value[yv.index]};provide(`${SUB_MENU_INJECTION_KEY}${r.uid}`,{addSubMenu:Cv,removeSubMenu:uv,handleMouseleave:mv,mouseInChild:Oe,level:V.level+1})}return n({opened:ic}),onMounted(()=>{L.addSubMenu(Km),V.addSubMenu(Km)}),onBeforeUnmount(()=>{V.removeSubMenu(Km),L.removeSubMenu(Km)}),()=>{var Cv;const uv=[(Cv=e.title)==null?void 0:Cv.call(e),h$1(ElIcon,{class:k.e("icon-arrow"),style:{transform:ic.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&L.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$1(ec.value)?h$1(r.appContext.components[ec.value]):h$1(ec.value)})],yv=L.isMenuPopup?h$1(ElTooltip,{ref:hr,visible:ic.value,effect:"light",pure:!0,offset:nv.value,showArrow:!1,persistent:Xm.value,popperClass:sv.value,popperStyle:gv.value,placement:dr.value,teleported:tc.value,fallbackPlacements:rc.value,transition:Xs.value,gpuAcceleration:!1},{content:()=>{var $v;return h$1("div",{class:[y.m(qm.value),y.m("popup-container"),sv.value],onMouseenter:Dv=>pv(Dv,100),onMouseleave:()=>mv(!0),onFocus:Dv=>pv(Dv,100)},[h$1("ul",{class:[y.b(),y.m("popup"),y.m(`popup-${dr.value}`)],style:tv.value},[($v=e.default)==null?void 0:$v.call(e)])])},default:()=>h$1("div",{class:k.e("title"),onClick:dv},uv)}):h$1(Fragment,{},[h$1("div",{class:k.e("title"),ref:ur,onClick:dv},uv),h$1(ElCollapseTransition,{},{default:()=>{var $v;return withDirectives(h$1("ul",{role:"menu",class:[y.b(),y.m("inline")],style:tv.value},[($v=e.default)==null?void 0:$v.call(e)]),[[vShow,ic.value]])}})]);return h$1("li",{class:[k.b(),k.is("active",_c.value),k.is("opened",ic.value),k.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:ic.value,onMouseenter:pv,onMouseleave:()=>mv(),onFocus:pv},[yv])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:iconPropType,default:()=>more_default},popperEffect:{type:definePropType(String),default:"dark"},popperClass:String,popperStyle:{type:definePropType([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),checkIndexPath=t=>isArray$1(t)&&t.every(e=>isString$1(e)),menuEmits={close:(t,e)=>isString$1(t)&&checkIndexPath(e),open:(t,e)=>isString$1(t)&&checkIndexPath(e),select:(t,e,n,r)=>isString$1(t)&&checkIndexPath(e)&&isObject$2(n)&&(isUndefined(r)||r instanceof Promise)},DEFAULT_MORE_ITEM_WIDTH=64;var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(t,{emit:e,slots:n,expose:r}){const g=getCurrentInstance(),$=g.appContext.config.globalProperties.$router,y=ref(),k=ref(),L=useNamespace("menu"),V=useNamespace("sub-menu");let z=DEFAULT_MORE_ITEM_WIDTH;const j=ref(-1),ie=ref(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),Oe=ref(t.defaultActive),ur=ref({}),hr=ref({}),Vr=computed(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),dr=()=>{const rv=Oe.value&&ur.value[Oe.value];if(!rv||t.mode==="horizontal"||t.collapse)return;rv.indexPath.forEach(dv=>{const pv=hr.value[dv];pv&&ec(dv,pv.indexPath)})},ec=(rv,Jm)=>{ie.value.includes(rv)||(t.uniqueOpened&&(ie.value=ie.value.filter(dv=>Jm.includes(dv))),ie.value.push(rv),e("open",rv,Jm))},tc=rv=>{const Jm=ie.value.indexOf(rv);Jm!==-1&&ie.value.splice(Jm,1)},Xs=(rv,Jm)=>{tc(rv),e("close",rv,Jm)},rc=({index:rv,indexPath:Jm})=>{ie.value.includes(rv)?Xs(rv,Jm):ec(rv,Jm)},ic=rv=>{(t.mode==="horizontal"||t.collapse)&&(ie.value=[]);const{index:Jm,indexPath:dv}=rv;if(!(isNil(Jm)||isNil(dv)))if(t.router&&$){const pv=rv.route||Jm,mv=$.push(pv).then(Cv=>(Cv||(Oe.value=Jm),Cv));e("select",Jm,dv,{index:Jm,indexPath:dv,route:pv},mv)}else Oe.value=Jm,e("select",Jm,dv,{index:Jm,indexPath:dv})},_c=rv=>{var Jm;const dv=ur.value,pv=dv[rv]||Oe.value&&dv[Oe.value]||dv[t.defaultActive];Oe.value=(Jm=pv==null?void 0:pv.index)!=null?Jm:rv},qm=rv=>{const Jm=getComputedStyle(rv),dv=Number.parseInt(Jm.marginLeft,10),pv=Number.parseInt(Jm.marginRight,10);return rv.offsetWidth+dv+pv||0},Xm=()=>{if(!y.value)return-1;const rv=Array.from(y.value.childNodes).filter(yv=>yv.nodeName!=="#comment"&&(yv.nodeName!=="#text"||yv.nodeValue)),Jm=getComputedStyle(y.value),dv=Number.parseInt(Jm.paddingLeft,10),pv=Number.parseInt(Jm.paddingRight,10),mv=y.value.clientWidth-dv-pv;let Cv=0,uv=0;return rv.forEach((yv,$v)=>{Cv+=qm(yv),Cv<=mv-z&&(uv=$v+1)}),uv===rv.length?-1:uv},Km=rv=>hr.value[rv].indexPath,tv=(rv,Jm=33.34)=>{let dv;return()=>{dv&&clearTimeout(dv),dv=setTimeout(()=>{rv()},Jm)}};let nv=!0;const sv=()=>{const rv=unrefElement(k);if(rv&&(z=qm(rv)||DEFAULT_MORE_ITEM_WIDTH),j.value===Xm())return;const Jm=()=>{j.value=-1,nextTick(()=>{j.value=Xm()})};nv?Jm():tv(Jm)(),nv=!1};watch(()=>t.defaultActive,rv=>{ur.value[rv]||(Oe.value=""),_c(rv)}),watch(()=>t.collapse,rv=>{rv&&(ie.value=[])}),watch(ur.value,dr);let gv;watchEffect(()=>{t.mode==="horizontal"&&t.ellipsis?gv=useResizeObserver(y,sv).stop:gv==null||gv()});const Sv=ref(!1);{const rv=mv=>{hr.value[mv.index]=mv},Jm=mv=>{delete hr.value[mv.index]};provide(MENU_INJECTION_KEY,reactive({props:t,openedMenus:ie,items:ur,subMenus:hr,activeIndex:Oe,isMenuPopup:Vr,addMenuItem:mv=>{ur.value[mv.index]=mv},removeMenuItem:mv=>{delete ur.value[mv.index]},addSubMenu:rv,removeSubMenu:Jm,openMenu:ec,closeMenu:Xs,handleMenuItemClick:ic,handleSubMenuClick:rc})),provide(`${SUB_MENU_INJECTION_KEY}${g.uid}`,{addSubMenu:rv,removeSubMenu:Jm,mouseInChild:Sv,level:0})}onMounted(()=>{t.mode==="horizontal"&&new Menu$1(g.vnode.el,L.namespace.value)}),r({open:Jm=>{const{indexPath:dv}=hr.value[Jm];dv.forEach(pv=>ec(pv,dv))},close:tc,updateActiveIndex:_c,handleResize:sv});const wv=useMenuCssVar(t,0);return()=>{var rv,Jm;let dv=(Jm=(rv=n.default)==null?void 0:rv.call(n))!=null?Jm:[];const pv=[];if(t.mode==="horizontal"&&y.value){const uv=flattedChildren(dv).filter(Dv=>(Dv==null?void 0:Dv.shapeFlag)!==8),yv=j.value===-1?uv:uv.slice(0,j.value),$v=j.value===-1?[]:uv.slice(j.value);$v!=null&&$v.length&&t.ellipsis&&(dv=yv,pv.push(h$1(SubMenu,{ref:k,index:"sub-menu-more",class:V.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>h$1(ElIcon,{class:V.e("icon-more")},{default:()=>h$1(t.ellipsisIcon)}),default:()=>$v})))}const mv=t.closeOnClickOutside?[[ClickOutside,()=>{ie.value.length&&(Sv.value||(ie.value.forEach(uv=>e("close",uv,Km(uv))),ie.value=[]))}]]:[],Cv=withDirectives(h$1("ul",{key:String(t.collapse),role:"menubar",ref:y,style:wv.value,class:{[L.b()]:!0,[L.m(t.mode)]:!0,[L.m("collapse")]:t.collapse}},[...dv,...pv]),mv);return t.collapseTransition&&t.mode==="vertical"?h$1(ElMenuCollapseTransition,()=>Cv):Cv}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:t=>isString$1(t.index)&&isArray$1(t.indexPath)},COMPONENT_NAME$c="ElMenuItem",_sfc_main$13=defineComponent({name:COMPONENT_NAME$c,__name:"menu-item",props:menuItemProps,emits:menuItemEmits,setup(t,{expose:e,emit:n}){const r=t,g=n;isPropAbsent(r.index)&&void 0;const $=getCurrentInstance(),y=inject(MENU_INJECTION_KEY),k=useNamespace("menu"),L=useNamespace("menu-item");y||throwError(COMPONENT_NAME$c,"can not inject root menu");const{parentMenu:V,indexPath:z}=useMenu($,toRef$1(r,"index")),j=inject(`${SUB_MENU_INJECTION_KEY}${V.value.uid}`);j||throwError(COMPONENT_NAME$c,"can not inject sub menu");const ie=computed(()=>r.index===y.activeIndex),Oe=reactive({index:r.index,indexPath:z,active:ie}),ur=()=>{r.disabled||(y.handleMenuItemClick({index:r.index,indexPath:z.value,route:r.route}),g("click",Oe))};return onMounted(()=>{j.addSubMenu(Oe),y.addMenuItem(Oe)}),onBeforeUnmount(()=>{j.removeSubMenu(Oe),y.removeMenuItem(Oe)}),e({parentMenu:V,rootMenu:y,active:ie,nsMenu:k,nsMenuItem:L,handleClick:ur}),(hr,Vr)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(L).b(),unref(L).is("active",ie.value),unref(L).is("disabled",hr.disabled)]),role:"menuitem",tabindex:"-1",onClick:ur},[unref(V).type.name==="ElMenu"&&unref(y).props.collapse&&hr.$slots.title?(openBlock(),createBlock(unref(ElTooltip),{key:0,effect:unref(y).props.popperEffect,placement:"right","fallback-placements":["left"],"popper-class":unref(y).props.popperClass,"popper-style":unref(y).props.popperStyle,persistent:unref(y).props.persistent,"focus-on-target":""},{content:withCtx(()=>[renderSlot(hr.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(k).be("tooltip","trigger"))},[renderSlot(hr.$slots,"default")],2)]),_:3},8,["effect","popper-class","popper-style","persistent"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(hr.$slots,"default"),renderSlot(hr.$slots,"title")],64))],2))}});var MenuItem=_export_sfc$1(_sfc_main$13,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const menuItemGroupProps={title:String},_sfc_main$12=defineComponent({name:"ElMenuItemGroup",__name:"menu-item-group",props:menuItemGroupProps,setup(t){const e=useNamespace("menu-item-group");return(n,r)=>(openBlock(),createElementBlock("li",{class:normalizeClass(unref(e).b())},[createBaseVNode("div",{class:normalizeClass(unref(e).e("title"))},[n.$slots.title?renderSlot(n.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString$1(n.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(n.$slots,"default")])],2))}});var MenuItemGroup=_export_sfc$1(_sfc_main$12,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem),ElMenuItemGroup=withNoopInstall(MenuItemGroup),ElSubMenu=withNoopInstall(SubMenu),pageHeaderProps=buildProps({icon:{type:iconPropType,default:()=>back_default},title:String,content:{type:String,default:""}}),pageHeaderEmits={back:()=>!0},_hoisted_1$x=["aria-label"],_sfc_main$11=defineComponent({name:"ElPageHeader",__name:"page-header",props:pageHeaderProps,emits:pageHeaderEmits,setup(t,{emit:e}){const n=e,{t:r}=useLocale(),g=useNamespace("page-header");function $(){n("back")}return(y,k)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).is("contentful",!!y.$slots.default),{[unref(g).m("has-breadcrumb")]:!!y.$slots.breadcrumb,[unref(g).m("has-extra")]:!!y.$slots.extra}])},[y.$slots.breadcrumb?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("breadcrumb"))},[renderSlot(y.$slots,"breadcrumb")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(g).e("left"))},[createBaseVNode("div",{class:normalizeClass(unref(g).e("back")),role:"button",tabindex:"0",onClick:$},[y.icon||y.$slots.icon?(openBlock(),createElementBlock("div",{key:0,"aria-label":y.title||unref(r)("el.pageHeader.title"),class:normalizeClass(unref(g).e("icon"))},[renderSlot(y.$slots,"icon",{},()=>[y.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.icon)))]),_:1})):createCommentVNode("v-if",!0)])],10,_hoisted_1$x)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("title"))},[renderSlot(y.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(y.title||unref(r)("el.pageHeader.title")),1)])],2)],2),createVNode(unref(ElDivider),{direction:"vertical"}),createBaseVNode("div",{class:normalizeClass(unref(g).e("content"))},[renderSlot(y.$slots,"content",{},()=>[createTextVNode(toDisplayString$1(y.content),1)])],2)],2),y.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("extra"))},[renderSlot(y.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2),y.$slots.default?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).e("main"))},[renderSlot(y.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var PageHeader=_export_sfc$1(_sfc_main$11,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const ElPageHeader=withInstall(PageHeader),elPaginationKey=Symbol("elPaginationKey"),paginationPrevProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:iconPropType}}),paginationPrevEmits={click:t=>t instanceof MouseEvent},_hoisted_1$w=["disabled","aria-label","aria-disabled"],_hoisted_2$j={key:0},_sfc_main$10=defineComponent({name:"ElPaginationPrev",__name:"prev",props:paginationPrevProps,emits:paginationPrevEmits,setup(t){const e=t,{t:n}=useLocale(),r=computed(()=>e.disabled||e.currentPage<=1);return(g,$)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-prev",disabled:r.value,"aria-label":g.prevText||unref(n)("el.pagination.prev"),"aria-disabled":r.value,onClick:$[0]||($[0]=y=>g.$emit("click",y))},[g.prevText?(openBlock(),createElementBlock("span",_hoisted_2$j,toDisplayString$1(g.prevText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g.prevIcon)))]),_:1}))],8,_hoisted_1$w))}});var Prev=_export_sfc$1(_sfc_main$10,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const paginationNextProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:iconPropType}}),_hoisted_1$v=["disabled","aria-label","aria-disabled"],_hoisted_2$i={key:0},_sfc_main$$=defineComponent({name:"ElPaginationNext",__name:"next",props:paginationNextProps,emits:["click"],setup(t){const e=t,{t:n}=useLocale(),r=computed(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(g,$)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-next",disabled:r.value,"aria-label":g.nextText||unref(n)("el.pagination.next"),"aria-disabled":r.value,onClick:$[0]||($[0]=y=>g.$emit("click",y))},[g.nextText?(openBlock(),createElementBlock("span",_hoisted_2$i,toDisplayString$1(g.nextText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g.nextIcon)))]),_:1}))],8,_hoisted_1$v))}});var Next=_export_sfc$1(_sfc_main$$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const defaultProps$4={label:"label",value:"value",disabled:"disabled",options:"options"};function useProps(t){const e=ref({...defaultProps$4,...t.props});let n={...t.props};return watch(()=>t.props,k=>{isEqual$1(k,n)||(e.value={...defaultProps$4,...k},n={...k})},{deep:!0}),{aliasProps:e,getLabel:k=>get(k,e.value.label),getValue:k=>get(k,e.value.value),getDisabled:k=>get(k,e.value.disabled),getOptions:k=>get(k,e.value.options)}}const selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect"),COMPONENT_NAME$b="ElOption",optionProps=buildProps({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),escapeStringRegexp=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=t=>capitalize$2(t);function useOption$1(t,e){const n=inject(selectKey);n||throwError(COMPONENT_NAME$b,"usage: <el-select><el-option /></el-select/>");const r=inject(selectGroupKey,{disabled:!1}),g=computed(()=>z(castArray$1(n.props.modelValue),t.value)),$=computed(()=>{var Oe;if(n.props.multiple){const ur=castArray$1((Oe=n.props.modelValue)!=null?Oe:[]);return!g.value&&ur.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),y=computed(()=>{var Oe;return(Oe=t.label)!=null?Oe:isObject$2(t.value)?"":t.value}),k=computed(()=>t.value||t.label||""),L=computed(()=>t.disabled||e.groupDisabled||$.value),V=getCurrentInstance(),z=(Oe=[],ur)=>{if(isObject$2(t.value)){const hr=n.props.valueKey;return Oe&&Oe.some(Vr=>toRaw(get(Vr,hr))===get(ur,hr))}else return Oe&&Oe.includes(ur)},j=()=>{L.value||(n.states.hoveringIndex=n.optionsArray.indexOf(V.proxy))},ie=Oe=>{const ur=new RegExp(escapeStringRegexp(Oe),"i");e.visible=ur.test(String(y.value))||t.created};return watch(()=>y.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),watch(()=>t.value,(Oe,ur)=>{const{remote:hr,valueKey:Vr}=n.props;if((hr?Oe!==ur:!isEqual$1(Oe,ur))&&(n.onOptionDestroy(ur,V.proxy),n.onOptionCreate(V.proxy)),!t.created&&!hr){if(Vr&&isObject$2(Oe)&&isObject$2(ur)&&Oe[Vr]===ur[Vr])return;n.setSelected()}}),watch(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:y,currentValue:k,itemSelected:g,isDisabled:L,hoverItem:j,updateOption:ie}}const _sfc_main$_=defineComponent({name:COMPONENT_NAME$b,componentName:COMPONENT_NAME$b,props:optionProps,setup(t){const e=useNamespace("select"),n=useId(),r=computed(()=>[e.be("dropdown","item"),e.is("disabled",unref(k)),e.is("selected",unref(y)),e.is("hovering",unref(ie))]),g=reactive({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:$,itemSelected:y,isDisabled:k,select:L,hoverItem:V,updateOption:z}=useOption$1(t,g),{visible:j,hover:ie}=toRefs(g),Oe=getCurrentInstance().proxy;L.onOptionCreate(Oe),onBeforeUnmount(()=>{const hr=Oe.value;nextTick(()=>{const{selected:Vr}=L.states,dr=Vr.some(ec=>ec.value===Oe.value);L.states.cachedOptions.get(hr)===Oe&&!dr&&L.states.cachedOptions.delete(hr)}),L.onOptionDestroy(hr,Oe)});function ur(){k.value||L.handleOptionSelect(Oe)}return{ns:e,id:n,containerKls:r,currentLabel:$,itemSelected:y,isDisabled:k,select:L,visible:j,hover:ie,states:g,hoverItem:V,updateOption:z,selectOptionClick:ur}}}),_hoisted_1$u=["id","aria-disabled","aria-selected"];function _sfc_render$c(t,e,n,r,g,$){return withDirectives((openBlock(),createElementBlock("li",{id:t.id,class:normalizeClass(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:e[0]||(e[0]=(...y)=>t.hoverItem&&t.hoverItem(...y)),onClick:e[1]||(e[1]=withModifiers((...y)=>t.selectOptionClick&&t.selectOptionClick(...y),["stop"])),onMousedown:e[2]||(e[2]=withModifiers(()=>{},["prevent"]))},[renderSlot(t.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString$1(t.currentLabel),1)])],42,_hoisted_1$u)),[[vShow,t.visible]])}var Option=_export_sfc$1(_sfc_main$_,[["render",_sfc_render$c],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$Z=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=inject(selectKey),e=useNamespace("select"),n=computed(()=>t.props.popperClass),r=computed(()=>t.props.multiple),g=computed(()=>t.props.fitInputWidth),$=ref("");function y(){var k;const L=(k=t.selectRef)==null?void 0:k.offsetWidth;L?$.value=`${L-BORDER_HORIZONTAL_WIDTH}px`:$.value=""}return onMounted(()=>{y(),useResizeObserver(t.selectRef,y)}),{ns:e,minWidth:$,popperClass:n,isMultiple:r,isFitInputWidth:g}}});function _sfc_render$b(t,e,n,r,g,$){return openBlock(),createElementBlock("div",{class:normalizeClass([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:normalizeStyle({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.ns.be("dropdown","header"))},[renderSlot(t.$slots,"header")],2)):createCommentVNode("v-if",!0),renderSlot(t.$slots,"default"),t.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(t.ns.be("dropdown","footer"))},[renderSlot(t.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)}var ElSelectMenu$1=_export_sfc$1(_sfc_main$Z,[["render",_sfc_render$b],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const useSelect$2=(t,e)=>{const{t:n}=useLocale(),r=useId(),g=useNamespace("select"),$=useNamespace("input"),y=reactive({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),k=ref(),L=ref(),V=ref(),z=ref(),j=ref(),ie=ref(),Oe=ref(),ur=ref(),hr=ref(),Vr=ref(),dr=ref(),ec=ref(!1),tc=ref(),Xs=ref(!1),{form:rc,formItem:ic}=useFormItem(),{inputId:_c}=useFormItemInputId(t,{formItemContext:ic}),{valueOnClear:qm,isEmptyValue:Xm}=useEmptyValues(t),{isComposing:Km,handleCompositionStart:tv,handleCompositionUpdate:nv,handleCompositionEnd:sv}=useComposition({afterComposition:H0=>B0(H0)}),gv=useFormDisabled(),{wrapperRef:Sv,isFocused:wv,handleBlur:rv}=useFocusController(j,{disabled:gv,afterFocus(){t.automaticDropdown&&!ec.value&&(ec.value=!0,y.menuVisibleOnFocus=!0)},beforeBlur(H0){var d1,h1;return((d1=V.value)==null?void 0:d1.isFocusInsideContent(H0))||((h1=z.value)==null?void 0:h1.isFocusInsideContent(H0))},afterBlur(){var H0;ec.value=!1,y.menuVisibleOnFocus=!1,t.validateEvent&&((H0=ic==null?void 0:ic.validate)==null||H0.call(ic,"blur").catch(d1=>void 0))}}),Jm=computed(()=>isArray$1(t.modelValue)?t.modelValue.length>0:!Xm(t.modelValue)),dv=computed(()=>{var H0;return(H0=rc==null?void 0:rc.statusIcon)!=null?H0:!1}),pv=computed(()=>t.clearable&&!gv.value&&Jm.value&&(wv.value||y.inputHovering)),mv=computed(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),Cv=computed(()=>g.is("reverse",!!(mv.value&&ec.value))),uv=computed(()=>(ic==null?void 0:ic.validateState)||""),yv=computed(()=>uv.value&&ValidateComponentsMap[uv.value]),$v=computed(()=>t.remote?t.debounce:0),Dv=computed(()=>t.remote&&!y.inputValue&&y.options.size===0),Hv=computed(()=>t.loading?t.loadingText||n("el.select.loading"):t.filterable&&y.inputValue&&y.options.size>0&&Gv.value===0?t.noMatchText||n("el.select.noMatch"):y.options.size===0?t.noDataText||n("el.select.noData"):null),Gv=computed(()=>f0.value.filter(H0=>H0.visible).length),f0=computed(()=>{const H0=Array.from(y.options.values()),d1=[];return y.optionValues.forEach(h1=>{const Z1=H0.findIndex(ey=>ey.value===h1);Z1>-1&&d1.push(H0[Z1])}),d1.length>=H0.length?d1:H0}),qv=computed(()=>Array.from(y.cachedOptions.values())),Pv=computed(()=>{const H0=f0.value.filter(d1=>!d1.created).some(d1=>d1.currentLabel===y.inputValue);return t.filterable&&t.allowCreate&&y.inputValue!==""&&!H0}),Tv=()=>{t.filterable&&isFunction$1(t.filterMethod)||t.filterable&&t.remote&&isFunction$1(t.remoteMethod)||f0.value.forEach(H0=>{var d1;(d1=H0.updateOption)==null||d1.call(H0,y.inputValue)})},Vv=useFormSize(),Av=computed(()=>["small"].includes(Vv.value)?"small":"default"),y0=computed({get(){return ec.value&&(t.loading||!Dv.value)&&(!Xs.value||!isEmpty(y.previousQuery))},set(H0){ec.value=H0}}),av=computed(()=>{if(t.multiple&&!isUndefined(t.modelValue))return castArray$1(t.modelValue).length===0&&!y.inputValue;const H0=isArray$1(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||isUndefined(H0)?!y.inputValue:!0}),fv=computed(()=>{var H0;const d1=(H0=t.placeholder)!=null?H0:n("el.select.placeholder");return t.multiple||!Jm.value?d1:y.selectedLabel}),lv=computed(()=>isIOS?null:"mouseenter");watch(()=>t.modelValue,(H0,d1)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(y.inputValue="",kv("")),vv(),!isEqual$1(H0,d1)&&t.validateEvent&&(ic==null||ic.validate("change").catch(h1=>void 0))},{flush:"post",deep:!0}),watch(()=>ec.value,H0=>{H0?kv(y.inputValue):(y.inputValue="",y.previousQuery=null,y.isBeforeHide=!0)}),watch(()=>y.options.entries(),()=>{isClient&&(vv(),t.defaultFirstOption&&(t.filterable||t.remote)&&Gv.value&&Iv())},{flush:"post"}),watch([()=>y.hoveringIndex,f0],([H0])=>{isNumber(H0)&&H0>-1?tc.value=f0.value[H0]||{}:tc.value={},f0.value.forEach(d1=>{d1.hover=tc.value===d1})}),watchEffect(()=>{y.isBeforeHide||Tv()});const kv=H0=>{y.previousQuery===H0||Km.value||(y.previousQuery=H0,t.filterable&&isFunction$1(t.filterMethod)?t.filterMethod(H0):t.filterable&&t.remote&&isFunction$1(t.remoteMethod)&&t.remoteMethod(H0),t.defaultFirstOption&&(t.filterable||t.remote)&&Gv.value?nextTick(Iv):nextTick(zv))},Iv=()=>{const H0=f0.value.filter(ey=>ey.visible&&!ey.disabled&&!ey.states.groupDisabled),d1=H0.find(ey=>ey.created),h1=H0[0],Z1=f0.value.map(ey=>ey.value);y.hoveringIndex=_0(Z1,d1||h1)},vv=()=>{if(t.multiple)y.selectedLabel="";else{const d1=isArray$1(t.modelValue)?t.modelValue[0]:t.modelValue,h1=Ev(d1);y.selectedLabel=h1.currentLabel,y.selected=[h1];return}const H0=[];isUndefined(t.modelValue)||castArray$1(t.modelValue).forEach(d1=>{H0.push(Ev(d1))}),y.selected=H0},Ev=H0=>{let d1;const h1=isPlainObject$1(H0);for(let jv=y.cachedOptions.size-1;jv>=0;jv--){const A0=qv.value[jv];if(h1?get(A0.value,t.valueKey)===get(H0,t.valueKey):A0.value===H0){d1={index:f0.value.filter(e1=>!e1.created).indexOf(A0),value:H0,currentLabel:A0.currentLabel,get isDisabled(){return A0.isDisabled}};break}}if(d1)return d1;const Z1=h1?H0.label:H0??"";return{index:-1,value:H0,currentLabel:Z1}},zv=()=>{const H0=y.selected.length;if(H0>0){const d1=y.selected[H0-1];y.hoveringIndex=f0.value.findIndex(h1=>vy(d1)===vy(h1))}else y.hoveringIndex=-1},Fv=()=>{y.selectionWidth=Number.parseFloat(window.getComputedStyle(L.value).width)},Yv=()=>{y.collapseItemWidth=Vr.value.getBoundingClientRect().width},g0=()=>{var H0,d1;(d1=(H0=V.value)==null?void 0:H0.updatePopper)==null||d1.call(H0)},Qv=()=>{var H0,d1;(d1=(H0=z.value)==null?void 0:H0.updatePopper)==null||d1.call(H0)},N0=()=>{y.inputValue.length>0&&!ec.value&&(ec.value=!0),kv(y.inputValue)},B0=H0=>{if(y.inputValue=H0.target.value,t.remote)Xs.value=!0,a1();else return N0()},a1=useDebounceFn(()=>{N0(),Xs.value=!1},$v),I0=H0=>{isEqual$1(t.modelValue,H0)||e(CHANGE_EVENT,H0)},M0=H0=>findLastIndex(H0,d1=>{const h1=y.cachedOptions.get(d1);return!(h1!=null&&h1.disabled)&&!(h1!=null&&h1.states.groupDisabled)}),D0=H0=>{const d1=getEventCode(H0);if(t.multiple&&d1!==EVENT_CODE.delete&&H0.target.value.length<=0){const h1=castArray$1(t.modelValue).slice(),Z1=M0(h1);if(Z1<0)return;const ey=h1[Z1];h1.splice(Z1,1),e(UPDATE_MODEL_EVENT,h1),I0(h1),e("remove-tag",ey)}},W0=(H0,d1)=>{const h1=y.selected.indexOf(d1);if(h1>-1&&!gv.value){const Z1=castArray$1(t.modelValue).slice();Z1.splice(h1,1),e(UPDATE_MODEL_EVENT,Z1),I0(Z1),e("remove-tag",d1.value)}H0.stopPropagation(),E0()},Zv=H0=>{H0.stopPropagation();const d1=t.multiple?[]:qm.value;if(t.multiple)for(const h1 of y.selected)h1.isDisabled&&d1.push(h1.value);e(UPDATE_MODEL_EVENT,d1),I0(d1),y.hoveringIndex=-1,ec.value=!1,e("clear"),E0()},z0=H0=>{var d1;if(t.multiple){const h1=castArray$1((d1=t.modelValue)!=null?d1:[]).slice(),Z1=_0(h1,H0);Z1>-1?h1.splice(Z1,1):(t.multipleLimit<=0||h1.length<t.multipleLimit)&&h1.push(H0.value),e(UPDATE_MODEL_EVENT,h1),I0(h1),H0.created&&kv(""),t.filterable&&!t.reserveKeyword&&(y.inputValue="")}else!isEqual$1(t.modelValue,H0.value)&&e(UPDATE_MODEL_EVENT,H0.value),I0(H0.value),ec.value=!1;E0(),!ec.value&&nextTick(()=>{q0(H0)})},_0=(H0,d1)=>isUndefined(d1)?-1:isObject$2(d1.value)?H0.findIndex(h1=>isEqual$1(get(h1,t.valueKey),vy(d1))):H0.indexOf(d1.value),q0=H0=>{var d1,h1,Z1,ey,jv;const A0=isArray$1(H0)?H0[H0.length-1]:H0;let Y0=null;if(!isNil(A0==null?void 0:A0.value)){const e1=f0.value.filter(U0=>U0.value===A0.value);e1.length>0&&(Y0=e1[0].$el)}if(V.value&&Y0){const e1=(ey=(Z1=(h1=(d1=V.value)==null?void 0:d1.popperRef)==null?void 0:h1.contentRef)==null?void 0:Z1.querySelector)==null?void 0:ey.call(Z1,`.${g.be("dropdown","wrap")}`);e1&&scrollIntoView(e1,Y0)}(jv=dr.value)==null||jv.handleScroll()},Rv=H0=>{y.options.set(H0.value,H0),y.cachedOptions.set(H0.value,H0)},k0=(H0,d1)=>{y.options.get(H0)===d1&&y.options.delete(H0)},Ov=computed(()=>{var H0,d1;return(d1=(H0=V.value)==null?void 0:H0.popperRef)==null?void 0:d1.contentRef}),Kv=()=>{y.isBeforeHide=!1,nextTick(()=>{var H0;(H0=dr.value)==null||H0.update(),q0(y.selected)})},E0=()=>{var H0;(H0=j.value)==null||H0.focus()},X0=()=>{var H0;if(ec.value){ec.value=!1,nextTick(()=>{var d1;return(d1=j.value)==null?void 0:d1.blur()});return}(H0=j.value)==null||H0.blur()},l1=H0=>{Zv(H0)},x1=H0=>{if(ec.value=!1,wv.value){const d1=new FocusEvent("blur",H0);nextTick(()=>rv(d1))}},K0=()=>{y.inputValue.length>0?y.inputValue="":ec.value=!1},J0=H0=>{var d1;gv.value||t.filterable&&ec.value&&H0&&!((d1=Oe.value)!=null&&d1.contains(H0.target))||(isIOS&&(y.inputHovering=!0),y.menuVisibleOnFocus?y.menuVisibleOnFocus=!1:ec.value=!ec.value)},y1=()=>{if(!ec.value)J0();else{const H0=f0.value[y.hoveringIndex];H0&&!H0.isDisabled&&z0(H0)}},vy=H0=>isObject$2(H0.value)?get(H0.value,t.valueKey):H0.value,ty=computed(()=>f0.value.filter(H0=>H0.visible).every(H0=>H0.isDisabled)),Mv=computed(()=>t.multiple?t.collapseTags?y.selected.slice(0,t.maxCollapseTags):y.selected:[]),P1=computed(()=>t.multiple?t.collapseTags?y.selected.slice(t.maxCollapseTags):[]:[]),Py=H0=>{if(!ec.value){ec.value=!0;return}if(!(y.options.size===0||Gv.value===0||Km.value)&&!ty.value){H0==="next"?(y.hoveringIndex++,y.hoveringIndex===y.options.size&&(y.hoveringIndex=0)):H0==="prev"&&(y.hoveringIndex--,y.hoveringIndex<0&&(y.hoveringIndex=y.options.size-1));const d1=f0.value[y.hoveringIndex];(d1.isDisabled||!d1.visible)&&Py(H0),nextTick(()=>q0(tc.value))}},Ny=(H0,d1,h1,Z1)=>{for(let ey=d1;ey>=0&&ey<Z1;ey+=h1){const jv=H0[ey];if(!(jv!=null&&jv.isDisabled)&&(jv!=null&&jv.visible))return ey}return null},yy=(H0,d1)=>{var h1;const Z1=y.options.size;if(Z1===0)return;const ey=clamp$2(H0,0,Z1-1),jv=f0.value,A0=d1==="up"?-1:1,Y0=(h1=Ny(jv,ey,A0,Z1))!=null?h1:Ny(jv,ey-A0,-A0,Z1);Y0!=null&&(y.hoveringIndex=Y0,nextTick(()=>q0(tc.value)))},Hy=H0=>{const d1=getEventCode(H0);let h1=!0;switch(d1){case EVENT_CODE.up:Py("prev");break;case EVENT_CODE.down:Py("next");break;case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:Km.value||y1();break;case EVENT_CODE.esc:K0();break;case EVENT_CODE.backspace:h1=!1,D0(H0);return;case EVENT_CODE.home:if(!ec.value)return;yy(0,"down");break;case EVENT_CODE.end:if(!ec.value)return;yy(y.options.size-1,"up");break;case EVENT_CODE.pageUp:if(!ec.value)return;yy(y.hoveringIndex-10,"up");break;case EVENT_CODE.pageDown:if(!ec.value)return;yy(y.hoveringIndex+10,"down");break;default:h1=!1;break}h1&&(H0.preventDefault(),H0.stopPropagation())},R0=()=>{if(!L.value)return 0;const H0=window.getComputedStyle(L.value);return Number.parseFloat(H0.gap||"6px")},k1=computed(()=>{const H0=R0(),d1=t.filterable?H0+MINIMUM_INPUT_WIDTH:0;return{maxWidth:`${Vr.value&&t.maxCollapseTags===1?y.selectionWidth-y.collapseItemWidth-H0-d1:y.selectionWidth-d1}px`}}),V1=computed(()=>({maxWidth:`${y.selectionWidth}px`})),j1=H0=>{e("popup-scroll",H0)};useResizeObserver(L,Fv),useResizeObserver(Sv,g0),useResizeObserver(hr,Qv),useResizeObserver(Vr,Yv);let X1;return watch(()=>y0.value,H0=>{H0?X1=useResizeObserver(ur,g0).stop:(X1==null||X1(),X1=void 0),e("visible-change",H0)}),onMounted(()=>{vv()}),{inputId:_c,contentId:r,nsSelect:g,nsInput:$,states:y,isFocused:wv,expanded:ec,optionsArray:f0,hoverOption:tc,selectSize:Vv,filteredOptionsCount:Gv,updateTooltip:g0,updateTagTooltip:Qv,debouncedOnInputChange:a1,onInput:B0,deletePrevTag:D0,deleteTag:W0,deleteSelected:Zv,handleOptionSelect:z0,scrollToOption:q0,hasModelValue:Jm,shouldShowPlaceholder:av,currentPlaceholder:fv,mouseEnterEventName:lv,needStatusIcon:dv,showClearBtn:pv,iconComponent:mv,iconReverse:Cv,validateState:uv,validateIcon:yv,showNewOption:Pv,updateOptions:Tv,collapseTagSize:Av,setSelected:vv,selectDisabled:gv,emptyText:Hv,handleCompositionStart:tv,handleCompositionUpdate:nv,handleCompositionEnd:sv,handleKeydown:Hy,onOptionCreate:Rv,onOptionDestroy:k0,handleMenuEnter:Kv,focus:E0,blur:X0,handleClearClick:l1,handleClickOutside:x1,handleEsc:K0,toggleMenu:J0,selectOption:y1,getValueKey:vy,navigateOptions:Py,dropdownMenuVisible:y0,showTagList:Mv,collapseTagList:P1,popupScroll:j1,getOption:Ev,tagStyle:k1,collapseTagStyle:V1,popperRef:Ov,inputRef:j,tooltipRef:V,tagTooltipRef:z,prefixRef:ie,suffixRef:Oe,selectRef:k,wrapperRef:Sv,selectionRef:L,scrollbarRef:dr,menuRef:ur,tagMenuRef:hr,collapseItemRef:Vr}};var ElOptions=defineComponent({name:"ElOptions",setup(t,{slots:e}){const n=inject(selectKey);let r=[];return()=>{var g,$;const y=(g=e.default)==null?void 0:g.call(e),k=[];function L(V){isArray$1(V)&&V.forEach(z=>{var j,ie,Oe,ur;const hr=(j=(z==null?void 0:z.type)||{})==null?void 0:j.name;hr==="ElOptionGroup"?L(!isString$1(z.children)&&!isArray$1(z.children)&&isFunction$1((ie=z.children)==null?void 0:ie.default)?(Oe=z.children)==null?void 0:Oe.default():z.children):hr==="ElOption"?k.push((ur=z.props)==null?void 0:ur.value):isArray$1(z.children)&&L(z.children)})}return y.length&&L(($=y[0])==null?void 0:$.children),isEqual$1(k,r)||(r=k,n&&(n.states.optionValues=k)),y}}});const selectProps=buildProps({name:String,id:String,modelValue:{type:definePropType([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:useSizeProp,effect:{type:definePropType(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:definePropType([String,Object])},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:definePropType(Function)},filterMethod:{type:definePropType(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:useTooltipContentProps.appendTo,options:{type:definePropType(Array)},props:{type:definePropType(Object),default:()=>defaultProps$4},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])});scrollbarEmits.scroll;const _sfc_main$Y=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=useNamespace("select"),n=ref(),r=getCurrentInstance(),g=ref([]);provide(selectGroupKey,reactive({...toRefs(t)}));const $=computed(()=>g.value.some(V=>V.visible===!0)),y=V=>{var z;return V.type.name==="ElOption"&&!!((z=V.component)!=null&&z.proxy)},k=V=>{const z=castArray$1(V),j=[];return z.forEach(ie=>{var Oe;isVNode$1(ie)&&(y(ie)?j.push(ie.component.proxy):isArray$1(ie.children)&&ie.children.length?j.push(...k(ie.children)):(Oe=ie.component)!=null&&Oe.subTree&&j.push(...k(ie.component.subTree)))}),j},L=()=>{g.value=k(r.subTree)};return onMounted(()=>{L()}),useMutationObserver(n,L,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:$,ns:e}}});function _sfc_render$a(t,e,n,r,g,$){return withDirectives((openBlock(),createElementBlock("ul",{ref:"groupRef",class:normalizeClass(t.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(t.ns.be("group","title"))},toDisplayString$1(t.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(t.ns.b("group"))},[renderSlot(t.$slots,"default")],2)])],2)),[[vShow,t.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$Y,[["render",_sfc_render$a],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const COMPONENT_NAME$a="ElSelect",warnHandlerMap=new WeakMap,createSelectWarnHandler=t=>(...e)=>{var n,r;const g=e[0];if(!g||g.includes('Slot "default" invoked outside of the render function')&&((n=e[2])!=null&&n.includes("ElTreeSelect")))return;const $=(r=warnHandlerMap.get(t))==null?void 0:r.originalWarnHandler;if($){$(...e);return}console.warn(...e)},getWarnHandlerRecord=t=>{let e=warnHandlerMap.get(t);return e||(e={originalWarnHandler:t.config.warnHandler,handler:createSelectWarnHandler(t),count:0},warnHandlerMap.set(t,e)),e},_sfc_main$X=defineComponent({name:COMPONENT_NAME$a,componentName:COMPONENT_NAME$a,components:{ElSelectMenu:ElSelectMenu$1,ElOption:Option,ElOptions,ElOptionGroup:OptionGroup,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:selectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(t,{emit:e,slots:n}){const r=getCurrentInstance(),g=getWarnHandlerRecord(r.appContext);g.count+=1,r.appContext.config.warnHandler=g.handler;const $=computed(()=>{const{modelValue:ec,multiple:tc}=t,Xs=tc?[]:void 0;return isArray$1(ec)?tc?ec:Xs:tc?Xs:ec}),y=reactive({...toRefs(t),modelValue:$}),k=useSelect$2(y,e),{calculatorRef:L,inputStyle:V}=useCalcInputWidth(),{getLabel:z,getValue:j,getOptions:ie,getDisabled:Oe}=useProps(t),ur=ec=>({label:z(ec),value:j(ec),disabled:Oe(ec)}),hr=ec=>ec.reduce((tc,Xs)=>(tc.push(Xs),Xs.children&&Xs.children.length>0&&tc.push(...hr(Xs.children)),tc),[]),Vr=ec=>{flattedChildren(ec||[]).forEach(Xs=>{var rc;if(isObject$2(Xs)&&(Xs.type.name==="ElOption"||Xs.type.name==="ElTree")){const ic=Xs.type.name;if(ic==="ElTree"){const _c=((rc=Xs.props)==null?void 0:rc.data)||[];hr(_c).forEach(Xm=>{Xm.currentLabel=Xm.label||(isObject$2(Xm.value)?"":Xm.value),k.onOptionCreate(Xm)})}else if(ic==="ElOption"){const _c={...Xs.props};_c.currentLabel=_c.label||(isObject$2(_c.value)?"":_c.value),k.onOptionCreate(_c)}}})};watch(()=>{var ec;return[(ec=n.default)==null?void 0:ec.call(n),$.value]},()=>{var ec;t.persistent||k.expanded.value||(k.states.options.clear(),Vr((ec=n.default)==null?void 0:ec.call(n)))},{immediate:!0}),provide(selectKey,reactive({props:y,states:k.states,selectRef:k.selectRef,optionsArray:k.optionsArray,setSelected:k.setSelected,handleOptionSelect:k.handleOptionSelect,onOptionCreate:k.onOptionCreate,onOptionDestroy:k.onOptionDestroy}));const dr=computed(()=>t.multiple?k.states.selected.map(ec=>ec.currentLabel):k.states.selectedLabel);return onBeforeUnmount(()=>{const ec=warnHandlerMap.get(r.appContext);ec&&(ec.count-=1,ec.count<=0&&(r.appContext.config.warnHandler=ec.originalWarnHandler,warnHandlerMap.delete(r.appContext)))}),{...k,modelValue:$,selectedLabel:dr,calculatorRef:L,inputStyle:V,getLabel:z,getValue:j,getOptions:ie,getDisabled:Oe,getOptionProps:ur}}}),_hoisted_1$t=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],_hoisted_2$h=["textContent"],_hoisted_3$8={key:1};function _sfc_render$9(t,e,n,r,g,$){const y=resolveComponent("el-tag"),k=resolveComponent("el-tooltip"),L=resolveComponent("el-icon"),V=resolveComponent("el-option"),z=resolveComponent("el-option-group"),j=resolveComponent("el-options"),ie=resolveComponent("el-scrollbar"),Oe=resolveComponent("el-select-menu"),ur=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",mergeProps({ref:"selectRef",class:[t.nsSelect.b(),t.nsSelect.m(t.selectSize)]},{[toHandlerKey(t.mouseEnterEventName)]:e[11]||(e[11]=hr=>t.states.inputHovering=!0)},{onMouseleave:e[12]||(e[12]=hr=>t.states.inputHovering=!1)}),[createVNode(k,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-style":t.popperStyle,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:e[10]||(e[10]=hr=>t.states.isBeforeHide=!1)},{default:withCtx(()=>{var hr;return[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:e[7]||(e[7]=withModifiers((...Vr)=>t.toggleMenu&&t.toggleMenu(...Vr),["prevent"]))},[t.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(t.nsSelect.e("prefix"))},[renderSlot(t.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?renderSlot(t.$slots,"tag",{key:0,data:t.states.selected,deleteTag:t.deleteTag,selectDisabled:t.selectDisabled},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.showTagList,Vr=>(openBlock(),createElementBlock("div",{key:t.getValueKey(Vr),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode(y,{closable:!t.selectDisabled&&!Vr.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:normalizeStyle(t.tagStyle),onClose:dr=>t.deleteTag(dr,Vr)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{index:Vr.index,label:Vr.currentLabel,value:Vr.value},()=>[createTextVNode(toDisplayString$1(Vr.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(openBlock(),createBlock(k,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom","popper-class":t.popperClass,"popper-style":t.popperStyle,teleported:t.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode(y,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:normalizeStyle(t.collapseTagStyle)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))}," + "+toDisplayString$1(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(t.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.collapseTagList,Vr=>(openBlock(),createElementBlock("div",{key:t.getValueKey(Vr),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode(y,{class:"in-tooltip",closable:!t.selectDisabled&&!Vr.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:dr=>t.deleteTag(dr,Vr)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{index:Vr.index,label:Vr.currentLabel,value:Vr.value},()=>[createTextVNode(toDisplayString$1(Vr.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable||t.selectDisabled)])},[withDirectives(createBaseVNode("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=Vr=>t.states.inputValue=Vr),type:"text",name:t.name,class:normalizeClass([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:normalizeStyle(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((hr=t.hoverOption)==null?void 0:hr.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:e[1]||(e[1]=(...Vr)=>t.handleKeydown&&t.handleKeydown(...Vr)),onCompositionstart:e[2]||(e[2]=(...Vr)=>t.handleCompositionStart&&t.handleCompositionStart(...Vr)),onCompositionupdate:e[3]||(e[3]=(...Vr)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...Vr)),onCompositionend:e[4]||(e[4]=(...Vr)=>t.handleCompositionEnd&&t.handleCompositionEnd(...Vr)),onInput:e[5]||(e[5]=(...Vr)=>t.onInput&&t.onInput(...Vr)),onClick:e[6]||(e[6]=withModifiers((...Vr)=>t.toggleMenu&&t.toggleMenu(...Vr),["stop"]))},null,46,_hoisted_1$t),[[vModelText,t.states.inputValue]]),t.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(t.nsSelect.e("input-calculator")),textContent:toDisplayString$1(t.states.inputValue)},null,10,_hoisted_2$h)):createCommentVNode("v-if",!0)],2),t.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?renderSlot(t.$slots,"label",{key:0,index:t.getOption(t.modelValue).index,label:t.currentPlaceholder,value:t.modelValue},()=>[createBaseVNode("span",null,toDisplayString$1(t.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",_hoisted_3$8,toDisplayString$1(t.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClearBtn?(openBlock(),createBlock(L,{key:0,class:normalizeClass([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),t.showClearBtn&&t.clearIcon?(openBlock(),createBlock(L,{key:1,class:normalizeClass([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(openBlock(),createBlock(L,{key:2,class:normalizeClass([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)]}),content:withCtx(()=>[createVNode(Oe,{ref:"menuRef"},{default:withCtx(()=>[t.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.nsSelect.be("dropdown","header")),onClick:e[8]||(e[8]=withModifiers(()=>{},["stop"]))},[renderSlot(t.$slots,"header")],2)):createCommentVNode("v-if",!0),withDirectives(createVNode(ie,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:normalizeClass([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical",onScroll:t.popupScroll},{default:withCtx(()=>[t.showNewOption?(openBlock(),createBlock(V,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode(j,null,{default:withCtx(()=>[renderSlot(t.$slots,"default",{},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.options,(hr,Vr)=>{var dr;return openBlock(),createElementBlock(Fragment,{key:Vr},[(dr=t.getOptions(hr))!=null&&dr.length?(openBlock(),createBlock(z,{key:0,label:t.getLabel(hr),disabled:t.getDisabled(hr)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.getOptions(hr),ec=>(openBlock(),createBlock(V,mergeProps({key:t.getValue(ec)},{ref_for:!0},t.getOptionProps(ec)),null,16))),128))]),_:2},1032,["label","disabled"])):(openBlock(),createBlock(V,mergeProps({key:1,ref_for:!0},t.getOptionProps(hr)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[vShow,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(t.nsSelect.be("dropdown","loading"))},[renderSlot(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(t.nsSelect.be("dropdown","empty"))},[renderSlot(t.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString$1(t.emptyText),1)])],2)):createCommentVNode("v-if",!0),t.$slots.footer?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(t.nsSelect.be("dropdown","footer")),onClick:e[9]||(e[9]=withModifiers(()=>{},["stop"]))},[renderSlot(t.$slots,"footer")],2)):createCommentVNode("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[ur,t.handleClickOutside,t.popperRef]])}var Select$1=_export_sfc$1(_sfc_main$X,[["render",_sfc_render$9],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const ElSelect=withInstall(Select$1,{Option,OptionGroup}),ElOption=withNoopInstall(Option),ElOptionGroup=withNoopInstall(OptionGroup),usePagination=()=>inject(elPaginationKey,{}),paginationSizesProps=buildProps({pageSize:{type:Number,required:!0},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:definePropType([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:componentSizes},appendSizeTo:String}),_sfc_main$W=defineComponent({name:"ElPaginationSizes",__name:"sizes",props:paginationSizesProps,emits:["page-size-change"],setup(t,{emit:e}){const n=t,r=e,{t:g}=useLocale(),$=useNamespace("pagination"),y=usePagination(),k=ref(n.pageSize);watch(()=>n.pageSizes,(z,j)=>{if(!isEqual$1(z,j)&&isArray$1(z)){const ie=z.includes(n.pageSize)?n.pageSize:n.pageSizes[0];r("page-size-change",ie)}}),watch(()=>n.pageSize,z=>{k.value=z});const L=computed(()=>n.pageSizes);function V(z){var j;z!==k.value&&(k.value=z,(j=y.handleSizeChange)==null||j.call(y,Number(z)))}return(z,j)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref($).e("sizes"))},[createVNode(unref(ElSelect),{"model-value":k.value,disabled:z.disabled,"popper-class":z.popperClass,"popper-style":z.popperStyle,size:z.size,teleported:z.teleported,"validate-event":!1,"append-to":z.appendSizeTo,onChange:V},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.value,ie=>(openBlock(),createBlock(unref(ElOption),{key:ie,value:ie,label:ie+unref(g)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","popper-style","size","teleported","append-to"])],2))}});var Sizes=_export_sfc$1(_sfc_main$W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const paginationJumperProps=buildProps({size:{type:String,values:componentSizes}}),_hoisted_1$s=["disabled"],_sfc_main$V=defineComponent({name:"ElPaginationJumper",__name:"jumper",props:paginationJumperProps,setup(t){const{t:e}=useLocale(),n=useNamespace("pagination"),{pageCount:r,disabled:g,currentPage:$,changeEvent:y}=usePagination(),k=ref(),L=computed(()=>{var j;return(j=k.value)!=null?j:$==null?void 0:$.value});function V(j){k.value=j?+j:""}function z(j){j=Math.trunc(+j),y==null||y(j),k.value=void 0}return(j,ie)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(n).e("jump")),disabled:unref(g)},[createBaseVNode("span",{class:normalizeClass([unref(n).e("goto")])},toDisplayString$1(unref(e)("el.pagination.goto")),3),createVNode(unref(ElInput),{size:j.size,class:normalizeClass([unref(n).e("editor"),unref(n).is("in-pagination")]),min:1,max:unref(r),disabled:unref(g),"model-value":L.value,"validate-event":!1,"aria-label":unref(e)("el.pagination.page"),type:"number","onUpdate:modelValue":V,onChange:z},null,8,["size","class","max","disabled","model-value","aria-label"]),createBaseVNode("span",{class:normalizeClass([unref(n).e("classifier")])},toDisplayString$1(unref(e)("el.pagination.pageClassifier")),3)],10,_hoisted_1$s))}});var Jumper=_export_sfc$1(_sfc_main$V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const paginationTotalProps=buildProps({total:{type:Number,default:1e3}}),_hoisted_1$r=["disabled"],_sfc_main$U=defineComponent({name:"ElPaginationTotal",__name:"total",props:paginationTotalProps,setup(t){const{t:e}=useLocale(),n=useNamespace("pagination"),{disabled:r}=usePagination();return(g,$)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(n).e("total")),disabled:unref(r)},toDisplayString$1(unref(e)("el.pagination.total",{total:g.total})),11,_hoisted_1$r))}});var Total=_export_sfc$1(_sfc_main$U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const paginationPagerProps=buildProps({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),_hoisted_1$q=["aria-current","aria-label","tabindex"],_hoisted_2$g=["tabindex","aria-label"],_hoisted_3$7=["aria-current","aria-label","tabindex"],_hoisted_4$5=["tabindex","aria-label"],_hoisted_5$3=["aria-current","aria-label","tabindex"],_sfc_main$T=defineComponent({name:"ElPaginationPager",__name:"pager",props:paginationPagerProps,emits:[CHANGE_EVENT],setup(t,{emit:e}){const n=t,r=e,g=useNamespace("pager"),$=useNamespace("icon"),{t:y}=useLocale(),k=ref(!1),L=ref(!1),V=ref(!1),z=ref(!1),j=ref(!1),ie=ref(!1),Oe=computed(()=>{const rc=n.pagerCount,ic=(rc-1)/2,_c=Number(n.currentPage),qm=Number(n.pageCount);let Xm=!1,Km=!1;qm>rc&&(_c>rc-ic&&(Xm=!0),_c<qm-ic&&(Km=!0));const tv=[];if(Xm&&!Km){const nv=qm-(rc-2);for(let sv=nv;sv<qm;sv++)tv.push(sv)}else if(!Xm&&Km)for(let nv=2;nv<rc;nv++)tv.push(nv);else if(Xm&&Km){const nv=Math.floor(rc/2)-1;for(let sv=_c-nv;sv<=_c+nv;sv++)tv.push(sv)}else for(let nv=2;nv<qm;nv++)tv.push(nv);return tv}),ur=computed(()=>["more","btn-quickprev",$.b(),g.is("disabled",n.disabled)]),hr=computed(()=>["more","btn-quicknext",$.b(),g.is("disabled",n.disabled)]),Vr=computed(()=>n.disabled?-1:0);watch(()=>[n.pageCount,n.pagerCount,n.currentPage],([rc,ic,_c])=>{const qm=(ic-1)/2;let Xm=!1,Km=!1;rc>ic&&(Xm=_c>ic-qm,Km=_c<rc-qm),V.value&&(V.value=Xm),z.value&&(z.value=Km),k.value=Xm,L.value=Km},{immediate:!0});function dr(rc=!1){n.disabled||(rc?V.value=!0:z.value=!0)}function ec(rc=!1){rc?j.value=!0:ie.value=!0}function tc(rc){const ic=rc.target;if(ic.tagName.toLowerCase()==="li"&&Array.from(ic.classList).includes("number")){const _c=Number(ic.textContent);_c!==n.currentPage&&r(CHANGE_EVENT,_c)}else ic.tagName.toLowerCase()==="li"&&Array.from(ic.classList).includes("more")&&Xs(rc)}function Xs(rc){const ic=rc.target;if(ic.tagName.toLowerCase()==="ul"||n.disabled)return;let _c=Number(ic.textContent);const qm=n.pageCount,Xm=n.currentPage,Km=n.pagerCount-2;ic.className.includes("more")&&(ic.className.includes("quickprev")?_c=Xm-Km:ic.className.includes("quicknext")&&(_c=Xm+Km)),Number.isNaN(+_c)||(_c<1&&(_c=1),_c>qm&&(_c=qm)),_c!==Xm&&r(CHANGE_EVENT,_c)}return(rc,ic)=>(openBlock(),createElementBlock("ul",{class:normalizeClass(unref(g).b()),onClick:Xs,onKeyup:withKeys(tc,["enter"])},[rc.pageCount>0?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass([[unref(g).is("active",rc.currentPage===1),unref(g).is("disabled",rc.disabled)],"number"]),"aria-current":rc.currentPage===1,"aria-label":unref(y)("el.pagination.currentPage",{pager:1}),tabindex:Vr.value}," 1 ",10,_hoisted_1$q)):createCommentVNode("v-if",!0),k.value?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(ur.value),tabindex:Vr.value,"aria-label":unref(y)("el.pagination.prevPages",{pager:rc.pagerCount-2}),onMouseenter:ic[0]||(ic[0]=_c=>dr(!0)),onMouseleave:ic[1]||(ic[1]=_c=>V.value=!1),onFocus:ic[2]||(ic[2]=_c=>ec(!0)),onBlur:ic[3]||(ic[3]=_c=>j.value=!1)},[(V.value||j.value)&&!rc.disabled?(openBlock(),createBlock(unref(d_arrow_left_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_2$g)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(Oe.value,_c=>(openBlock(),createElementBlock("li",{key:_c,class:normalizeClass([[unref(g).is("active",rc.currentPage===_c),unref(g).is("disabled",rc.disabled)],"number"]),"aria-current":rc.currentPage===_c,"aria-label":unref(y)("el.pagination.currentPage",{pager:_c}),tabindex:Vr.value},toDisplayString$1(_c),11,_hoisted_3$7))),128)),L.value?(openBlock(),createElementBlock("li",{key:2,class:normalizeClass(hr.value),tabindex:Vr.value,"aria-label":unref(y)("el.pagination.nextPages",{pager:rc.pagerCount-2}),onMouseenter:ic[4]||(ic[4]=_c=>dr()),onMouseleave:ic[5]||(ic[5]=_c=>z.value=!1),onFocus:ic[6]||(ic[6]=_c=>ec()),onBlur:ic[7]||(ic[7]=_c=>ie.value=!1)},[(z.value||ie.value)&&!rc.disabled?(openBlock(),createBlock(unref(d_arrow_right_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_4$5)):createCommentVNode("v-if",!0),rc.pageCount>1?(openBlock(),createElementBlock("li",{key:3,class:normalizeClass([[unref(g).is("active",rc.currentPage===rc.pageCount),unref(g).is("disabled",rc.disabled)],"number"]),"aria-current":rc.currentPage===rc.pageCount,"aria-label":unref(y)("el.pagination.currentPage",{pager:rc.pageCount}),tabindex:Vr.value},toDisplayString$1(rc.pageCount),11,_hoisted_5$3)):createCommentVNode("v-if",!0)],34))}});var Pager=_export_sfc$1(_sfc_main$T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const isAbsent=t=>typeof t!="number",paginationProps=buildProps({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>isNumber(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String,default:""},popperStyle:{type:definePropType([String,Object])},prevText:{type:String,default:""},prevIcon:{type:iconPropType,default:()=>arrow_left_default},nextText:{type:String,default:""},nextIcon:{type:iconPropType,default:()=>arrow_right_default},teleported:{type:Boolean,default:!0},small:Boolean,size:useSizeProp,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),paginationEmits={"update:current-page":t=>isNumber(t),"update:page-size":t=>isNumber(t),"size-change":t=>isNumber(t),change:(t,e)=>isNumber(t)&&isNumber(e),"current-change":t=>isNumber(t),"prev-click":t=>isNumber(t),"next-click":t=>isNumber(t)},componentName="ElPagination";var Pagination=defineComponent({name:componentName,props:paginationProps,emits:paginationEmits,setup(t,{emit:e,slots:n}){const{t:r}=useLocale(),g=useNamespace("pagination"),$=getCurrentInstance().vnode.props||{},y=useGlobalSize(),k=computed(()=>{var rc;return t.small?"small":(rc=t.size)!=null?rc:y.value});useDeprecated({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},computed(()=>!!t.small));const L="onUpdate:currentPage"in $||"onUpdate:current-page"in $||"onCurrentChange"in $,V="onUpdate:pageSize"in $||"onUpdate:page-size"in $||"onSizeChange"in $,z=computed(()=>{if(isAbsent(t.total)&&isAbsent(t.pageCount)||!isAbsent(t.currentPage)&&!L)return!1;if(t.layout.includes("sizes")){if(isAbsent(t.pageCount)){if(!isAbsent(t.total)&&!isAbsent(t.pageSize)&&!V)return!1}else if(!V)return!1}return!0}),j=ref(isAbsent(t.defaultPageSize)?10:t.defaultPageSize),ie=ref(isAbsent(t.defaultCurrentPage)?1:t.defaultCurrentPage),Oe=computed({get(){return isAbsent(t.pageSize)?j.value:t.pageSize},set(rc){isAbsent(t.pageSize)&&(j.value=rc),V&&(e("update:page-size",rc),e("size-change",rc))}}),ur=computed(()=>{let rc=0;return isAbsent(t.pageCount)?isAbsent(t.total)||(rc=Math.max(1,Math.ceil(t.total/Oe.value))):rc=t.pageCount,rc}),hr=computed({get(){return isAbsent(t.currentPage)?ie.value:t.currentPage},set(rc){let ic=rc;rc<1?ic=1:rc>ur.value&&(ic=ur.value),isAbsent(t.currentPage)&&(ie.value=ic),L&&(e("update:current-page",ic),e("current-change",ic))}});watch(ur,rc=>{hr.value>rc&&(hr.value=rc)}),watch([hr,Oe],rc=>{e(CHANGE_EVENT,...rc)},{flush:"post"});function Vr(rc){hr.value=rc}function dr(rc){Oe.value=rc;const ic=ur.value;hr.value>ic&&(hr.value=ic)}function ec(){t.disabled||(hr.value-=1,e("prev-click",hr.value))}function tc(){t.disabled||(hr.value+=1,e("next-click",hr.value))}function Xs(rc,ic){rc&&(rc.props||(rc.props={}),rc.props.class=[rc.props.class,ic].join(" "))}return provide(elPaginationKey,{pageCount:ur,disabled:computed(()=>t.disabled),currentPage:hr,changeEvent:Vr,handleSizeChange:dr}),()=>{var rc,ic;if(!z.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&ur.value<=1)return null;const _c=[],qm=[],Xm=h$1("div",{class:g.e("rightwrapper")},qm),Km={prev:h$1(Prev,{disabled:t.disabled,currentPage:hr.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:ec}),jumper:h$1(Jumper,{size:k.value}),pager:h$1(Pager,{currentPage:hr.value,pageCount:ur.value,pagerCount:t.pagerCount,onChange:Vr,disabled:t.disabled}),next:h$1(Next,{disabled:t.disabled,currentPage:hr.value,pageCount:ur.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:tc}),sizes:h$1(Sizes,{pageSize:Oe.value,pageSizes:t.pageSizes,popperClass:t.popperClass,popperStyle:t.popperStyle,disabled:t.disabled,teleported:t.teleported,size:k.value,appendSizeTo:t.appendSizeTo}),slot:(ic=(rc=n==null?void 0:n.default)==null?void 0:rc.call(n))!=null?ic:null,total:h$1(Total,{total:isAbsent(t.total)?0:t.total})},tv=t.layout.split(",").map(sv=>sv.trim());let nv=!1;return tv.forEach(sv=>{if(sv==="->"){nv=!0;return}nv?qm.push(Km[sv]):_c.push(Km[sv])}),Xs(_c[0],g.is("first")),Xs(_c[_c.length-1],g.is("last")),nv&&qm.length>0&&(Xs(qm[0],g.is("first")),Xs(qm[qm.length-1],g.is("last")),_c.push(Xm)),h$1("div",{class:[g.b(),g.is("background",t.background),g.m(k.value)]},_c)}}});const ElPagination=withInstall(Pagination),popconfirmProps=buildProps({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:buttonTypes,default:"primary"},cancelButtonType:{type:String,values:buttonTypes,default:"text"},icon:{type:iconPropType,default:()=>question_filled_default},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,persistent:useTooltipContentProps.persistent,width:{type:[String,Number],default:150},virtualTriggering:useTooltipTriggerProps.virtualTriggering,virtualRef:useTooltipTriggerProps.virtualRef}),popconfirmEmits={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},_sfc_main$S=defineComponent({name:"ElPopconfirm",__name:"popconfirm",props:popconfirmProps,emits:popconfirmEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{t:$}=useLocale(),y=useNamespace("popconfirm"),k=ref(),L=ref(),V=computed(()=>{var dr;return(dr=unref(k))==null?void 0:dr.popperRef}),z=()=>{var dr,ec;(ec=(dr=L.value)==null?void 0:dr.focus)==null||ec.call(dr)},j=()=>{var dr,ec;(ec=(dr=k.value)==null?void 0:dr.onClose)==null||ec.call(dr)},ie=computed(()=>({width:addUnit(r.width)})),Oe=dr=>{g("confirm",dr),j()},ur=dr=>{g("cancel",dr),j()},hr=computed(()=>r.confirmButtonText||$("el.popconfirm.confirmButtonText")),Vr=computed(()=>r.cancelButtonText||$("el.popconfirm.cancelButtonText"));return e({popperRef:V,hide:j}),(dr,ec)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:k,trigger:"click",effect:dr.effect},dr.$attrs,{"virtual-triggering":dr.virtualTriggering,"virtual-ref":dr.virtualRef,"popper-class":`${unref(y).namespace.value}-popover`,"popper-style":ie.value,teleported:dr.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":dr.hideAfter,persistent:dr.persistent,loop:"",onShow:z}),{content:withCtx(()=>[createBaseVNode("div",{ref_key:"rootRef",ref:L,tabindex:"-1",class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("main"))},[!dr.hideIcon&&dr.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("icon")),style:normalizeStyle({color:dr.iconColor})},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(dr.icon)))]),_:1},8,["class","style"])):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString$1(dr.title),1)],2),createBaseVNode("div",{class:normalizeClass(unref(y).e("action"))},[renderSlot(dr.$slots,"actions",{confirm:Oe,cancel:ur},()=>[createVNode(unref(ElButton),{size:"small",type:dr.cancelButtonType==="text"?"":dr.cancelButtonType,text:dr.cancelButtonType==="text",onClick:ur},{default:withCtx(()=>[createTextVNode(toDisplayString$1(Vr.value),1)]),_:1},8,["type","text"]),createVNode(unref(ElButton),{size:"small",type:dr.confirmButtonType==="text"?"":dr.confirmButtonType,text:dr.confirmButtonType==="text",onClick:Oe},{default:withCtx(()=>[createTextVNode(toDisplayString$1(hr.value),1)]),_:1},8,["type","text"])])],2)],2)]),default:withCtx(()=>[dr.$slots.reference?renderSlot(dr.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["effect","virtual-triggering","virtual-ref","popper-class","popper-style","teleported","hide-after","persistent"]))}});var Popconfirm=_export_sfc$1(_sfc_main$S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const ElPopconfirm=withInstall(Popconfirm),popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,triggerKeys:useTooltipTriggerProps.triggerKeys,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,appendTo:useTooltipContentProps.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":t=>isBoolean(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",_sfc_main$R=defineComponent({name:"ElPopover",__name:"popover",props:popoverProps,emits:popoverEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=computed(()=>r[updateEventKeyRaw]),y=useNamespace("popover"),k=ref(),L=computed(()=>{var dr;return(dr=unref(k))==null?void 0:dr.popperRef}),V=computed(()=>[{width:addUnit(r.width)},r.popperStyle]),z=computed(()=>[y.b(),r.popperClass,{[y.m("plain")]:!!r.content}]),j=computed(()=>r.transition===`${y.namespace.value}-fade-in-linear`),ie=()=>{var dr;(dr=k.value)==null||dr.hide()},Oe=()=>{g("before-enter")},ur=()=>{g("before-leave")},hr=()=>{g("after-enter")},Vr=()=>{g("update:visible",!1),g("after-leave")};return e({popperRef:L,hide:ie}),(dr,ec)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:k},dr.$attrs,{trigger:dr.trigger,"trigger-keys":dr.triggerKeys,placement:dr.placement,disabled:dr.disabled,visible:dr.visible,transition:dr.transition,"popper-options":dr.popperOptions,tabindex:dr.tabindex,content:dr.content,offset:dr.offset,"show-after":dr.showAfter,"hide-after":dr.hideAfter,"auto-close":dr.autoClose,"show-arrow":dr.showArrow,"aria-label":dr.title,effect:dr.effect,enterable:dr.enterable,"popper-class":z.value,"popper-style":V.value,teleported:dr.teleported,"append-to":dr.appendTo,persistent:dr.persistent,"gpu-acceleration":j.value,"onUpdate:visible":$.value,onBeforeShow:Oe,onBeforeHide:ur,onShow:hr,onHide:Vr}),{content:withCtx(()=>[dr.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("title")),role:"title"},toDisplayString$1(dr.title),3)):createCommentVNode("v-if",!0),renderSlot(dr.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(dr.content),1)])]),default:withCtx(()=>[dr.$slots.reference?renderSlot(dr.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc$1(_sfc_main$R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const attachEvents=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var PopoverDirective={mounted(t,e){attachEvents(t,e)},updated(t,e){attachEvents(t,e)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:t=>`${t}%`}}),_hoisted_1$p=["aria-valuenow"],_hoisted_2$f={viewBox:"0 0 100 100"},_hoisted_3$6=["d","stroke","stroke-linecap","stroke-width"],_hoisted_4$4=["d","stroke","opacity","stroke-linecap","stroke-width"],_hoisted_5$2={key:0},_sfc_main$Q=defineComponent({name:"ElProgress",__name:"progress",props:progressProps,setup(t){const e={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=t,r=useNamespace("progress"),g=computed(()=>{const tc={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},Xs=ec(n.percentage);return Xs.includes("gradient")?tc.background=Xs:tc.backgroundColor=Xs,tc}),$=computed(()=>(n.strokeWidth/n.width*100).toFixed(1)),y=computed(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat($.value)/2}`,10):0),k=computed(()=>{const tc=y.value,Xs=n.type==="dashboard";return`
          M 50 50
          m 0 ${Xs?"":"-"}${tc}
          a ${tc} ${tc} 0 1 1 0 ${Xs?"-":""}${tc*2}
          a ${tc} ${tc} 0 1 1 0 ${Xs?"":"-"}${tc*2}
          `}),L=computed(()=>2*Math.PI*y.value),V=computed(()=>n.type==="dashboard"?.75:1),z=computed(()=>`${-1*L.value*(1-V.value)/2}px`),j=computed(()=>({strokeDasharray:`${L.value*V.value}px, ${L.value}px`,strokeDashoffset:z.value})),ie=computed(()=>({strokeDasharray:`${L.value*V.value*(n.percentage/100)}px, ${L.value}px`,strokeDashoffset:z.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),Oe=computed(()=>{let tc;return n.color?tc=ec(n.percentage):tc=e[n.status]||e.default,tc}),ur=computed(()=>n.status==="warning"?warning_filled_default:n.type==="line"?n.status==="success"?circle_check_default:circle_close_default:n.status==="success"?check_default:close_default),hr=computed(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),Vr=computed(()=>n.format(n.percentage));function dr(tc){const Xs=100/tc.length;return tc.map((ic,_c)=>isString$1(ic)?{color:ic,percentage:(_c+1)*Xs}:ic).sort((ic,_c)=>ic.percentage-_c.percentage)}const ec=tc=>{var Xs;const{color:rc}=n;if(isFunction$1(rc))return rc(tc);if(isString$1(rc))return rc;{const ic=dr(rc);for(const _c of ic)if(_c.percentage>tc)return _c.color;return(Xs=ic[ic.length-1])==null?void 0:Xs.color}};return(tc,Xs)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(tc.type),unref(r).is(tc.status),{[unref(r).m("without-text")]:!tc.showText,[unref(r).m("text-inside")]:tc.textInside}]),role:"progressbar","aria-valuenow":tc.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[tc.type==="line"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(r).be("bar","outer")),style:normalizeStyle({height:`${tc.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(r).be("bar","inner"),{[unref(r).bem("bar","inner","indeterminate")]:tc.indeterminate},{[unref(r).bem("bar","inner","striped")]:tc.striped},{[unref(r).bem("bar","inner","striped-flow")]:tc.stripedFlow}]),style:normalizeStyle(g.value)},[(tc.showText||tc.$slots.default)&&tc.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).be("bar","innerText"))},[renderSlot(tc.$slots,"default",{percentage:tc.percentage},()=>[createBaseVNode("span",null,toDisplayString$1(Vr.value),1)])],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).b("circle")),style:normalizeStyle({height:`${tc.width}px`,width:`${tc.width}px`})},[(openBlock(),createElementBlock("svg",_hoisted_2$f,[createBaseVNode("path",{class:normalizeClass(unref(r).be("circle","track")),d:k.value,stroke:`var(${unref(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":tc.strokeLinecap,"stroke-width":$.value,fill:"none",style:normalizeStyle(j.value)},null,14,_hoisted_3$6),createBaseVNode("path",{class:normalizeClass(unref(r).be("circle","path")),d:k.value,stroke:Oe.value,fill:"none",opacity:tc.percentage?1:0,"stroke-linecap":tc.strokeLinecap,"stroke-width":$.value,style:normalizeStyle(ie.value)},null,14,_hoisted_4$4)]))],6)),(tc.showText||tc.$slots.default)&&!tc.textInside?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(r).e("text")),style:normalizeStyle({fontSize:`${hr.value}px`})},[renderSlot(tc.$slots,"default",{percentage:tc.percentage},()=>[tc.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ur.value)))]),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString$1(Vr.value),1))])],6)):createCommentVNode("v-if",!0)],10,_hoisted_1$p))}});var Progress=_export_sfc$1(_sfc_main$Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ElProgress=withInstall(Progress),rateProps=buildProps({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:definePropType([Array,Object]),default:()=>mutable(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:definePropType([Array,Object]),default:()=>[star_filled_default,star_filled_default,star_filled_default]},voidIcon:{type:iconPropType,default:()=>star_default},disabledVoidIcon:{type:iconPropType,default:()=>star_filled_default},disabled:{type:Boolean,default:void 0},allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:definePropType(Array),default:()=>mutable(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:useSizeProp,clearable:Boolean,...useAriaProps(["ariaLabel"])}),rateEmits={[CHANGE_EVENT]:t=>isNumber(t),[UPDATE_MODEL_EVENT]:t=>isNumber(t)},_hoisted_1$o=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],_hoisted_2$e=["onMousemove","onClick"],_sfc_main$P=defineComponent({name:"ElRate",__name:"rate",props:rateProps,emits:rateEmits,setup(t,{expose:e,emit:n}){function r(Jm,dv){const pv=uv=>isObject$2(uv),mv=Object.keys(dv).map(uv=>+uv).filter(uv=>{const yv=dv[uv];return(pv(yv)?yv.excluded:!1)?Jm<uv:Jm<=uv}).sort((uv,yv)=>uv-yv),Cv=dv[mv[0]];return pv(Cv)&&Cv.value||Cv}const g=t,$=n,y=inject(formItemContextKey,void 0),k=useFormSize(),L=useNamespace("rate"),{inputId:V,isLabeledByFormItem:z}=useFormItemInputId(g,{formItemContext:y}),j=ref(g.modelValue),ie=ref(-1),Oe=ref(!0),ur=ref([]),hr=computed(()=>ur.value.map(Jm=>Jm.$el.clientWidth)),Vr=computed(()=>[L.b(),L.m(k.value)]),dr=useFormDisabled(),ec=computed(()=>L.cssVarBlock({"void-color":g.voidColor,"disabled-void-color":g.disabledVoidColor,"fill-color":ic.value})),tc=computed(()=>{let Jm="";return g.showScore?Jm=g.scoreTemplate.replace(/\{\s*value\s*\}/,dr.value?`${g.modelValue}`:`${j.value}`):g.showText&&(Jm=g.texts[Math.ceil(j.value)-1]),Jm}),Xs=computed(()=>g.modelValue*100-Math.floor(g.modelValue)*100),rc=computed(()=>isArray$1(g.colors)?{[g.lowThreshold]:g.colors[0],[g.highThreshold]:{value:g.colors[1],excluded:!0},[g.max]:g.colors[2]}:g.colors),ic=computed(()=>{const Jm=r(j.value,rc.value);return isObject$2(Jm)?"":Jm}),_c=computed(()=>{let Jm="";return dr.value?Jm=`${Xs.value}%`:g.allowHalf&&(Jm="50%"),{color:ic.value,width:Jm}}),qm=computed(()=>{let Jm=isArray$1(g.icons)?[...g.icons]:{...g.icons};return Jm=markRaw(Jm),isArray$1(Jm)?{[g.lowThreshold]:Jm[0],[g.highThreshold]:{value:Jm[1],excluded:!0},[g.max]:Jm[2]}:Jm}),Xm=computed(()=>r(g.modelValue,qm.value)),Km=computed(()=>dr.value?isString$1(g.disabledVoidIcon)?g.disabledVoidIcon:markRaw(g.disabledVoidIcon):isString$1(g.voidIcon)?g.voidIcon:markRaw(g.voidIcon)),tv=computed(()=>r(j.value,qm.value));function nv(Jm){const dv=dr.value&&Xs.value>0&&Jm-1<g.modelValue&&Jm>g.modelValue,pv=g.allowHalf&&Oe.value&&Jm-.5<=j.value&&Jm>j.value;return dv||pv}function sv(Jm){g.clearable&&Jm===g.modelValue&&(Jm=0),$(UPDATE_MODEL_EVENT,Jm),g.modelValue!==Jm&&$(CHANGE_EVENT,Jm)}function gv(Jm){dr.value||(g.allowHalf&&Oe.value?sv(j.value):sv(Jm))}function Sv(Jm){if(dr.value)return;const dv=getEventCode(Jm),pv=g.allowHalf?.5:1;let mv=j.value;switch(dv){case EVENT_CODE.up:case EVENT_CODE.right:mv+=pv;break;case EVENT_CODE.left:case EVENT_CODE.down:mv-=pv;break}if(mv=clamp$2(mv,0,g.max),mv!==j.value)return Jm.stopPropagation(),Jm.preventDefault(),$(UPDATE_MODEL_EVENT,mv),$(CHANGE_EVENT,mv),mv}function wv(Jm,dv){dr.value||(g.allowHalf&&dv?(Oe.value=dv.offsetX*2<=hr.value[Jm-1],j.value=Oe.value?Jm-.5:Jm):j.value=Jm,ie.value=Jm)}function rv(){dr.value||(g.allowHalf&&(Oe.value=g.modelValue!==Math.floor(g.modelValue)),j.value=g.modelValue,ie.value=-1)}return watch(()=>g.modelValue,Jm=>{j.value=Jm,Oe.value=g.modelValue!==Math.floor(g.modelValue)}),g.modelValue||$(UPDATE_MODEL_EVENT,0),e({setCurrentValue:wv,resetCurrentValue:rv}),(Jm,dv)=>{var pv;return openBlock(),createElementBlock("div",{id:unref(V),class:normalizeClass([Vr.value,unref(L).is("disabled",unref(dr))]),role:"slider","aria-label":unref(z)?void 0:Jm.ariaLabel||"rating","aria-labelledby":unref(z)?(pv=unref(y))==null?void 0:pv.labelId:void 0,"aria-valuenow":j.value,"aria-valuetext":tc.value||void 0,"aria-valuemin":"0","aria-valuemax":Jm.max,tabindex:"0",style:normalizeStyle(ec.value),onKeydown:Sv},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Jm.max,(mv,Cv)=>(openBlock(),createElementBlock("span",{key:Cv,class:normalizeClass(unref(L).e("item")),onMousemove:uv=>wv(mv,uv),onMouseleave:rv,onClick:uv=>gv(mv)},[createVNode(unref(ElIcon),{ref_for:!0,ref_key:"iconRefs",ref:ur,class:normalizeClass([unref(L).e("icon"),{hover:ie.value===mv},unref(L).is("active",mv<=j.value),unref(L).is("focus-visible",mv===Math.ceil(j.value||1))])},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(resolveDynamicComponent(tv.value),null,null,512)),[[vShow,!nv(mv)&&mv<=j.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(Km.value),null,null,512)),[[vShow,!nv(mv)&&mv>j.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(Km.value),{class:normalizeClass([unref(L).em("decimal","box")])},null,8,["class"])),[[vShow,nv(mv)]]),withDirectives(createVNode(unref(ElIcon),{style:normalizeStyle(_c.value),class:normalizeClass([unref(L).e("icon"),unref(L).e("decimal")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Xm.value)))]),_:1},8,["style","class"]),[[vShow,nv(mv)]])]),_:2},1032,["class"])],42,_hoisted_2$e))),128)),Jm.showText||Jm.showScore?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(L).e("text")),style:normalizeStyle({color:Jm.textColor})},toDisplayString$1(tc.value),7)):createCommentVNode("v-if",!0)],46,_hoisted_1$o)}}});var Rate=_export_sfc$1(_sfc_main$P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const ElRate=withInstall(Rate),IconMap={primary:"icon-primary",success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},IconComponentMap={[IconMap.primary]:info_filled_default,[IconMap.success]:circle_check_filled_default,[IconMap.warning]:warning_filled_default,[IconMap.error]:circle_close_filled_default,[IconMap.info]:info_filled_default},resultProps=buildProps({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["primary","success","warning","info","error"],default:"info"}}),_sfc_main$O=defineComponent({name:"ElResult",__name:"result",props:resultProps,setup(t){const e=t,n=useNamespace("result"),r=computed(()=>{const g=e.icon,$=g&&IconMap[g]?IconMap[g]:"icon-info",y=IconComponentMap[$]||IconComponentMap["icon-info"];return{class:$,component:y}});return(g,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b())},[createBaseVNode("div",{class:normalizeClass(unref(n).e("icon"))},[renderSlot(g.$slots,"icon",{},()=>[r.value.component?(openBlock(),createBlock(resolveDynamicComponent(r.value.component),{key:0,class:normalizeClass(r.value.class)},null,8,["class"])):createCommentVNode("v-if",!0)])],2),g.title||g.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("title"))},[renderSlot(g.$slots,"title",{},()=>[createBaseVNode("p",null,toDisplayString$1(g.title),1)])],2)):createCommentVNode("v-if",!0),g.subTitle||g.$slots["sub-title"]?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(n).e("subtitle"))},[renderSlot(g.$slots,"sub-title",{},()=>[createBaseVNode("p",null,toDisplayString$1(g.subTitle),1)])],2)):createCommentVNode("v-if",!0),g.$slots.extra?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(n).e("extra"))},[renderSlot(g.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2))}});var Result=_export_sfc$1(_sfc_main$O,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const ElResult=withInstall(Result),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign}}),_sfc_main$N=defineComponent({name:"ElRow",__name:"row",props:rowProps,setup(t){const e=t,n=useNamespace("row"),r=computed(()=>e.gutter);provide(rowContextKey,{gutter:r});const g=computed(()=>{const y={};return e.gutter&&(y.marginRight=y.marginLeft=`-${e.gutter/2}px`),y}),$=computed(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(y,k)=>(openBlock(),createBlock(resolveDynamicComponent(y.tag),{class:normalizeClass($.value),style:normalizeStyle(g.value)},{default:withCtx(()=>[renderSlot(y.$slots,"default")]),_:3},8,["class","style"]))}});var Row$2=_export_sfc$1(_sfc_main$N,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const ElRow=withInstall(Row$2),_sfc_main$M=defineComponent({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:useNamespace("select")}}});function _sfc_render$8(t,e,n,r,g,$){return openBlock(),createElementBlock("div",{class:normalizeClass(t.ns.be("group","title")),style:normalizeStyle({...t.style,lineHeight:`${t.height}px`})},toDisplayString$1(t.item.label),7)}var GroupItem=_export_sfc$1(_sfc_main$M,[["render",_sfc_render$8],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function useOption(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const selectV2Props=buildProps({allowCreate:Boolean,autocomplete:{type:definePropType(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:iconPropType,default:circle_close_default},effect:{type:definePropType(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:{type:Boolean,default:void 0},estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:definePropType(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:definePropType([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:definePropType(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:definePropType(Array),required:!0},placeholder:{type:String},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},popperClass:useTooltipContentProps.popperClass,popperStyle:useTooltipContentProps.popperStyle,popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},size:useSizeProp,props:{type:definePropType(Object),default:()=>defaultProps$4},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:useTooltipContentProps.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(t){return isBoolean(t)||isNumber(t)}},suffixIcon:{type:iconPropType,default:arrow_down_default},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),optionV2Props=buildProps({data:Array,disabled:Boolean,hovering:Boolean,item:{type:definePropType(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),selectV2Emits={[UPDATE_MODEL_EVENT]:t=>!0,[CHANGE_EVENT]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},optionV2Emits={hover:t=>isNumber(t),select:(t,e)=>!0},selectV2InjectionKey=Symbol("ElSelectV2Injection"),_sfc_main$L=defineComponent({props:optionV2Props,emits:optionV2Emits,setup(t,{emit:e}){const n=inject(selectV2InjectionKey),r=useNamespace("select"),{hoverItem:g,selectOptionClick:$}=useOption(t,{emit:e}),{getLabel:y}=useProps(n.props),k=n.contentId;return{ns:r,contentId:k,hoverItem:g,selectOptionClick:$,getLabel:y}}}),_hoisted_1$n=["id","aria-selected","aria-disabled"];function _sfc_render$7(t,e,n,r,g,$){return openBlock(),createElementBlock("li",{id:`${t.contentId}-${t.index}`,role:"option","aria-selected":t.selected,"aria-disabled":t.disabled||void 0,style:normalizeStyle(t.style),class:normalizeClass([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:e[0]||(e[0]=(...y)=>t.hoverItem&&t.hoverItem(...y)),onClick:e[1]||(e[1]=withModifiers((...y)=>t.selectOptionClick&&t.selectOptionClick(...y),["stop"])),onMousedown:e[2]||(e[2]=withModifiers(()=>{},["prevent"]))},[renderSlot(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[createBaseVNode("span",null,toDisplayString$1(t.getLabel(t.item)),1)])],46,_hoisted_1$n)}var OptionItem=_export_sfc$1(_sfc_main$L,[["render",_sfc_render$7],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]),safeIsNaN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function isEqual(t,e){return!!(t===e||safeIsNaN(t)&&safeIsNaN(e))}function areInputsEqual(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!isEqual(t[n],e[n]))return!1;return!0}function memoizeOne(t,e){e===void 0&&(e=areInputsEqual);var n=null;function r(){for(var g=[],$=0;$<arguments.length;$++)g[$]=arguments[$];if(n&&n.lastThis===this&&e(g,n.lastArgs))return n.lastResult;var y=t.apply(this,g);return n={lastResult:y,lastArgs:g,lastThis:this},y}return r.clear=function(){n=null},r}const useCache=()=>{const e=getCurrentInstance().proxy.$props;return computed(()=>{const n=(r,g,$)=>({});return e.perfMode?memoize(n):memoizeOne(n)})},DEFAULT_DYNAMIC_LIST_ITEM_SIZE=50,ITEM_RENDER_EVT="itemRendered",SCROLL_EVT="scroll",FORWARD="forward",BACKWARD="backward",AUTO_ALIGNMENT="auto",SMART_ALIGNMENT="smart",START_ALIGNMENT="start",CENTERED_ALIGNMENT="center",END_ALIGNMENT="end",HORIZONTAL="horizontal",VERTICAL="vertical",LTR="ltr",RTL="rtl",RTL_OFFSET_NAG="negative",RTL_OFFSET_POS_ASC="positive-ascending",RTL_OFFSET_POS_DESC="positive-descending",ScrollbarDirKey={[HORIZONTAL]:"left",[VERTICAL]:"top"},SCROLLBAR_MIN_SIZE=20,LayoutKeys={[HORIZONTAL]:"deltaX",[VERTICAL]:"deltaY"},useWheel=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let g,$=0;const y=L=>L<0&&e.value||L>0&&t.value;return{hasReachedEdge:y,onWheel:L=>{cAF(g);const V=L[LayoutKeys[n.value]];y($)&&y($+V)||($+=V,isFirefox()||L.preventDefault(),g=rAF(()=>{r($),$=0}))}}},itemSize$1=buildProp({type:definePropType([Number,Function]),required:!0}),estimatedItemSize=buildProp({type:Number}),cache=buildProp({type:Number,default:2}),direction=buildProp({type:String,values:["ltr","rtl"],default:"ltr"}),initScrollOffset=buildProp({type:Number,default:0}),total=buildProp({type:Number,required:!0}),layout=buildProp({type:String,values:["horizontal","vertical"],default:VERTICAL}),virtualizedProps=buildProps({className:{type:String,default:""},containerElement:{type:definePropType([String,Object]),default:"div"},data:{type:definePropType(Array),default:()=>mutable([])},direction,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:definePropType(Object),default:()=>({})},style:{type:definePropType([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),virtualizedListProps=buildProps({cache,estimatedItemSize,layout,initScrollOffset,total,itemSize:itemSize$1,...virtualizedProps}),scrollbarSize={type:Number,default:6},startGap={type:Number,default:0},endGap={type:Number,default:2},virtualizedGridProps=buildProps({columnCache:cache,columnWidth:itemSize$1,estimatedColumnWidth:estimatedItemSize,estimatedRowHeight:estimatedItemSize,initScrollLeft:initScrollOffset,initScrollTop:initScrollOffset,itemKey:{type:definePropType(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:cache,rowHeight:itemSize$1,totalColumn:total,totalRow:total,hScrollbarSize:scrollbarSize,vScrollbarSize:scrollbarSize,scrollbarStartGap:startGap,scrollbarEndGap:endGap,role:String,...virtualizedProps}),virtualizedScrollbarProps=buildProps({alwaysOn:Boolean,class:String,layout,total,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize,startGap,endGap,visible:Boolean}),getScrollDir=(t,e)=>t<e?FORWARD:BACKWARD,isHorizontal=t=>t===LTR||t===RTL||t===HORIZONTAL,isRTL$1=t=>t===RTL;let cachedRTLResult=null;function getRTLOffsetType(t=!1){if(cachedRTLResult===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),g=r.style;return g.width="100px",g.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?cachedRTLResult=RTL_OFFSET_POS_DESC:(e.scrollLeft=1,e.scrollLeft===0?cachedRTLResult=RTL_OFFSET_NAG:cachedRTLResult=RTL_OFFSET_POS_ASC),document.body.removeChild(e),cachedRTLResult}return cachedRTLResult}function renderThumbStyle({move:t,size:e,bar:n},r){const g={},$=`translate${n.axis}(${t}px)`;return g[n.size]=e,g.transform=$,r==="horizontal"?g.height="100%":g.width="100%",g}const ScrollBar=defineComponent({name:"ElVirtualScrollBar",props:virtualizedScrollbarProps,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=computed(()=>t.startGap+t.endGap),r=useNamespace("virtual-scrollbar"),g=useNamespace("scrollbar"),$=ref(),y=ref();let k=null,L=null;const V=reactive({isDragging:!1,traveled:0}),z=computed(()=>BAR_MAP[t.layout]),j=computed(()=>t.clientSize-unref(n)),ie=computed(()=>({position:"absolute",width:`${HORIZONTAL===t.layout?j.value:t.scrollbarSize}px`,height:`${HORIZONTAL===t.layout?t.scrollbarSize:j.value}px`,[ScrollbarDirKey[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),Oe=computed(()=>{const ic=t.ratio;if(ic>=100)return Number.POSITIVE_INFINITY;if(ic>=50)return ic*j.value/100;const _c=j.value/3;return Math.floor(Math.min(Math.max(ic*j.value/100,SCROLLBAR_MIN_SIZE),_c))}),ur=computed(()=>{if(!Number.isFinite(Oe.value))return{display:"none"};const ic=`${Oe.value}px`;return renderThumbStyle({bar:z.value,size:ic,move:V.traveled},t.layout)}),hr=computed(()=>Math.ceil(t.clientSize-Oe.value-unref(n))),Vr=()=>{window.addEventListener("mousemove",Xs),window.addEventListener("mouseup",tc);const ic=unref(y);ic&&(L=document.onselectstart,document.onselectstart=()=>!1,ic.addEventListener("touchmove",Xs,{passive:!0}),ic.addEventListener("touchend",tc))},dr=()=>{window.removeEventListener("mousemove",Xs),window.removeEventListener("mouseup",tc),document.onselectstart=L,L=null;const ic=unref(y);ic&&(ic.removeEventListener("touchmove",Xs),ic.removeEventListener("touchend",tc))},ec=ic=>{ic.stopImmediatePropagation(),!(ic.ctrlKey||[1,2].includes(ic.button))&&(V.isDragging=!0,V[z.value.axis]=ic.currentTarget[z.value.offset]-(ic[z.value.client]-ic.currentTarget.getBoundingClientRect()[z.value.direction]),e("start-move"),Vr())},tc=()=>{V.isDragging=!1,V[z.value.axis]=0,e("stop-move"),dr()},Xs=ic=>{const{isDragging:_c}=V;if(!_c||!y.value||!$.value)return;const qm=V[z.value.axis];if(!qm)return;cAF(k);const Xm=($.value.getBoundingClientRect()[z.value.direction]-ic[z.value.client])*-1,Km=y.value[z.value.offset]-qm,tv=Xm-Km;k=rAF(()=>{V.traveled=Math.max(0,Math.min(tv,hr.value)),e("scroll",tv,hr.value)})},rc=ic=>{const _c=Math.abs(ic.target.getBoundingClientRect()[z.value.direction]-ic[z.value.client]),qm=y.value[z.value.offset]/2,Xm=_c-qm;V.traveled=Math.max(0,Math.min(Xm,hr.value)),e("scroll",Xm,hr.value)};return watch(()=>t.scrollFrom,ic=>{V.isDragging||(V.traveled=Math.ceil(ic*hr.value))}),onBeforeUnmount(()=>{dr()}),()=>h$1("div",{role:"presentation",ref:$,class:[r.b(),t.class,(t.alwaysOn||V.isDragging)&&"always-on"],style:ie.value,onMousedown:withModifiers(rc,["stop","prevent"]),onTouchstartPrevent:ec},h$1("div",{ref:y,class:g.e("thumb"),style:ur.value,onMousedown:ec},[]))}}),createList=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:g,getStartIndexForOffset:$,getStopIndexForStartIndex:y,initCache:k,clearCache:L,validateProps:V})=>defineComponent({name:t??"ElVirtualList",props:virtualizedListProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(z,{emit:j,expose:ie}){V(z);const Oe=getCurrentInstance(),ur=useNamespace("vl"),hr=ref(k(z,Oe)),Vr=useCache(),dr=ref(),ec=ref(),tc=ref(),Xs=ref({isScrolling:!1,scrollDir:"forward",scrollOffset:isNumber(z.initScrollOffset)?z.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:z.scrollbarAlwaysOn}),rc=computed(()=>{const{total:uv,cache:yv}=z,{isScrolling:$v,scrollDir:Dv,scrollOffset:Hv}=unref(Xs);if(uv===0)return[0,0,0,0];const Gv=$(z,Hv,unref(hr)),f0=y(z,Gv,Hv,unref(hr)),qv=!$v||Dv===BACKWARD?Math.max(1,yv):1,Pv=!$v||Dv===FORWARD?Math.max(1,yv):1;return[Math.max(0,Gv-qv),Math.max(0,Math.min(uv-1,f0+Pv)),Gv,f0]}),ic=computed(()=>g(z,unref(hr))),_c=computed(()=>isHorizontal(z.layout)),qm=computed(()=>[{position:"relative",[`overflow-${_c.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:z.direction,height:isNumber(z.height)?`${z.height}px`:z.height,width:isNumber(z.width)?`${z.width}px`:z.width},z.style]),Xm=computed(()=>{const uv=unref(ic),yv=unref(_c);return{height:yv?"100%":`${uv}px`,pointerEvents:unref(Xs).isScrolling?"none":void 0,width:yv?`${uv}px`:"100%",margin:0,boxSizing:"border-box"}}),Km=computed(()=>_c.value?z.width:z.height),{onWheel:tv}=useWheel({atStartEdge:computed(()=>Xs.value.scrollOffset<=0),atEndEdge:computed(()=>Xs.value.scrollOffset>=ic.value),layout:computed(()=>z.layout)},uv=>{var yv,$v;($v=(yv=tc.value).onMouseUp)==null||$v.call(yv),rv(Math.min(Xs.value.scrollOffset+uv,ic.value-Km.value))});useEventListener(dr,"wheel",tv,{passive:!1});const nv=()=>{const{total:uv}=z;if(uv>0){const[Hv,Gv,f0,qv]=unref(rc);j(ITEM_RENDER_EVT,Hv,Gv,f0,qv)}const{scrollDir:yv,scrollOffset:$v,updateRequested:Dv}=unref(Xs);j(SCROLL_EVT,yv,$v,Dv)},sv=uv=>{const{clientHeight:yv,scrollHeight:$v,scrollTop:Dv}=uv.currentTarget,Hv=unref(Xs);if(Hv.scrollOffset===Dv)return;const Gv=Math.max(0,Math.min(Dv,$v-yv));Xs.value={...Hv,isScrolling:!0,scrollDir:getScrollDir(Hv.scrollOffset,Gv),scrollOffset:Gv,updateRequested:!1},nextTick(pv)},gv=uv=>{const{clientWidth:yv,scrollLeft:$v,scrollWidth:Dv}=uv.currentTarget,Hv=unref(Xs);if(Hv.scrollOffset===$v)return;const{direction:Gv}=z;let f0=$v;if(Gv===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{f0=-$v;break}case RTL_OFFSET_POS_DESC:{f0=Dv-yv-$v;break}}f0=Math.max(0,Math.min(f0,Dv-yv)),Xs.value={...Hv,isScrolling:!0,scrollDir:getScrollDir(Hv.scrollOffset,f0),scrollOffset:f0,updateRequested:!1},nextTick(pv)},Sv=uv=>{unref(_c)?gv(uv):sv(uv),nv()},wv=(uv,yv)=>{const $v=(ic.value-Km.value)/yv*uv;rv(Math.min(ic.value-Km.value,$v))},rv=uv=>{uv=Math.max(uv,0),uv!==unref(Xs).scrollOffset&&(Xs.value={...unref(Xs),scrollOffset:uv,scrollDir:getScrollDir(unref(Xs).scrollOffset,uv),updateRequested:!0},nextTick(pv))},Jm=(uv,yv=AUTO_ALIGNMENT)=>{const{scrollOffset:$v}=unref(Xs);uv=Math.max(0,Math.min(uv,z.total-1)),rv(e(z,uv,yv,$v,unref(hr)))},dv=uv=>{const{direction:yv,itemSize:$v,layout:Dv}=z,Hv=Vr.value(L&&$v,L&&Dv,L&&yv);let Gv;if(hasOwn$1(Hv,String(uv)))Gv=Hv[uv];else{const f0=r(z,uv,unref(hr)),qv=n(z,uv,unref(hr)),Pv=unref(_c),Tv=yv===RTL,Vv=Pv?f0:0;Hv[uv]=Gv={position:"absolute",left:Tv?void 0:`${Vv}px`,right:Tv?`${Vv}px`:void 0,top:Pv?0:`${f0}px`,height:Pv?"100%":`${qv}px`,width:Pv?`${qv}px`:"100%"}}return Gv},pv=()=>{Xs.value.isScrolling=!1,nextTick(()=>{Vr.value(-1,null,null)})},mv=()=>{const uv=dr.value;uv&&(uv.scrollTop=0)};onMounted(()=>{if(!isClient)return;const{initScrollOffset:uv}=z,yv=unref(dr);isNumber(uv)&&yv&&(unref(_c)?yv.scrollLeft=uv:yv.scrollTop=uv),nv()}),onUpdated(()=>{const{direction:uv,layout:yv}=z,{scrollOffset:$v,updateRequested:Dv}=unref(Xs),Hv=unref(dr);if(Dv&&Hv)if(yv===HORIZONTAL)if(uv===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{Hv.scrollLeft=-$v;break}case RTL_OFFSET_POS_ASC:{Hv.scrollLeft=$v;break}default:{const{clientWidth:Gv,scrollWidth:f0}=Hv;Hv.scrollLeft=f0-Gv-$v;break}}else Hv.scrollLeft=$v;else Hv.scrollTop=$v}),onActivated(()=>{unref(dr).scrollTop=unref(Xs).scrollOffset});const Cv={ns:ur,clientSize:Km,estimatedTotalSize:ic,windowStyle:qm,windowRef:dr,innerRef:ec,innerStyle:Xm,itemsToRender:rc,scrollbarRef:tc,states:Xs,getItemStyle:dv,onScroll:Sv,onScrollbarScroll:wv,onWheel:tv,scrollTo:rv,scrollToItem:Jm,resetScrollTop:mv};return ie({windowRef:dr,innerRef:ec,getItemStyleCache:Vr,scrollTo:rv,scrollToItem:Jm,resetScrollTop:mv,states:Xs}),Cv},render(z){var j;const{$slots:ie,className:Oe,clientSize:ur,containerElement:hr,data:Vr,getItemStyle:dr,innerElement:ec,itemsToRender:tc,innerStyle:Xs,layout:rc,total:ic,onScroll:_c,onScrollbarScroll:qm,states:Xm,useIsScrolling:Km,windowStyle:tv,ns:nv}=z,[sv,gv]=tc,Sv=resolveDynamicComponent(hr),wv=resolveDynamicComponent(ec),rv=[];if(ic>0)for(let mv=sv;mv<=gv;mv++)rv.push(h$1(Fragment,{key:mv},(j=ie.default)==null?void 0:j.call(ie,{data:Vr,index:mv,isScrolling:Km?Xm.isScrolling:void 0,style:dr(mv)})));const Jm=[h$1(wv,mergeProps(z.innerProps,{style:Xs,ref:"innerRef"}),isString$1(wv)?rv:{default:()=>rv})],dv=h$1(ScrollBar,{ref:"scrollbarRef",clientSize:ur,layout:rc,onScroll:qm,ratio:ur*100/this.estimatedTotalSize,scrollFrom:Xm.scrollOffset/(this.estimatedTotalSize-ur),total:ic,alwaysOn:Xm.scrollbarAlwaysOn}),pv=h$1(Sv,{class:[nv.e("window"),Oe],style:tv,onScroll:_c,ref:"windowRef",key:0},isString$1(Sv)?[Jm]:{default:()=>[Jm]});return h$1("div",{key:0,class:[nv.e("wrapper"),Xm.scrollbarAlwaysOn?"always-on":""]},[pv,dv])}}),FixedSizeList=createList({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:g},$,y,k)=>{const L=isHorizontal(r)?g:t,V=Math.max(0,e*n-L),z=Math.min(V,$*n),j=Math.max(0,($+1)*n-L);switch(y===SMART_ALIGNMENT&&(k>=j-L&&k<=z+L?y=AUTO_ALIGNMENT:y=CENTERED_ALIGNMENT),y){case START_ALIGNMENT:return z;case END_ALIGNMENT:return j;case CENTERED_ALIGNMENT:{const ie=Math.round(j+(z-j)/2);return ie<Math.ceil(L/2)?0:ie>V+Math.floor(L/2)?V:ie}case AUTO_ALIGNMENT:default:return k>=j&&k<=z?k:k<j?j:z}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:g},$,y)=>{const k=$*n,L=isHorizontal(r)?g:t,V=Math.ceil((L+y-k)/n);return Math.max(0,Math.min(e-1,$+V-1))},initCache(){},clearCache:!0,validateProps(){}}),getItemFromCache$1=(t,e,n)=>{const{itemSize:r}=t,{items:g,lastVisitedIndex:$}=n;if(e>$){let y=0;if($>=0){const k=g[$];y=k.offset+k.size}for(let k=$+1;k<=e;k++){const L=r(k);g[k]={offset:y,size:L},y+=L}n.lastVisitedIndex=e}return g[e]},findItem$1=(t,e,n)=>{const{items:r,lastVisitedIndex:g}=e;return(g>0?r[g].offset:0)>=n?bs$1(t,e,0,g,n):es$1(t,e,Math.max(0,g),n)},bs$1=(t,e,n,r,g)=>{for(;n<=r;){const $=n+Math.floor((r-n)/2),y=getItemFromCache$1(t,$,e).offset;if(y===g)return $;y<g?n=$+1:y>g&&(r=$-1)}return Math.max(0,n-1)},es$1=(t,e,n,r)=>{const{total:g}=t;let $=1;for(;n<g&&getItemFromCache$1(t,n,e).offset<r;)n+=$,$*=2;return bs$1(t,e,Math.floor(n/2),Math.min(n,g-1),r)},getEstimatedTotalSize=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let g=0;if(r>=t&&(r=t-1),r>=0){const k=e[r];g=k.offset+k.size}const y=(t-r-1)*n;return g+y},DynamicSizeList=createList({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>getItemFromCache$1(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize,getOffset:(t,e,n,r,g)=>{const{height:$,layout:y,width:k}=t,L=isHorizontal(y)?k:$,V=getItemFromCache$1(t,e,g),z=getEstimatedTotalSize(t,g),j=Math.max(0,Math.min(z-L,V.offset)),ie=Math.max(0,V.offset-L+V.size);switch(n===SMART_ALIGNMENT&&(r>=ie-L&&r<=j+L?n=AUTO_ALIGNMENT:n=CENTERED_ALIGNMENT),n){case START_ALIGNMENT:return j;case END_ALIGNMENT:return ie;case CENTERED_ALIGNMENT:return Math.round(ie+(j-ie)/2);case AUTO_ALIGNMENT:default:return r>=ie&&r<=j?r:r<ie?ie:j}},getStartIndexForOffset:(t,e,n)=>findItem$1(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:g,total:$,layout:y,width:k}=t,L=isHorizontal(y)?k:g,V=getItemFromCache$1(t,e,r),z=n+L;let j=V.offset+V.size,ie=e;for(;ie<$-1&&j<z;)ie++,j+=getItemFromCache$1(t,ie,r).size;return ie},initCache({estimatedItemSize:t=DEFAULT_DYNAMIC_LIST_ITEM_SIZE},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,g=!0)=>{var $,y;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),($=e.exposed)==null||$.getItemStyleCache(-1),g&&((y=e.proxy)==null||y.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),props={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number,id:String,ariaLabel:String};var ElSelectMenu=defineComponent({name:"ElSelectDropdown",props,setup(t,{slots:e,expose:n}){const r=inject(selectV2InjectionKey),g=useNamespace("select"),{getLabel:$,getValue:y,getDisabled:k}=useProps(r.props),L=ref([]),V=ref(),z=computed(()=>t.data.length);watch(()=>z.value,()=>{var tv,nv;(nv=(tv=r.tooltipRef.value)==null?void 0:tv.updatePopper)==null||nv.call(tv)});const j=computed(()=>isUndefined(r.props.estimatedOptionHeight)),ie=computed(()=>j.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:tv=>L.value[tv]}),Oe=(tv=[],nv)=>{const{props:{valueKey:sv}}=r;return isObject$2(nv)?tv&&tv.some(gv=>toRaw(get(gv,sv))===get(nv,sv)):tv.includes(nv)},ur=(tv,nv)=>{if(isObject$2(nv)){const{valueKey:sv}=r.props;return get(tv,sv)===get(nv,sv)}else return tv===nv},hr=(tv,nv)=>r.props.multiple?Oe(tv,y(nv)):ur(tv,y(nv)),Vr=(tv,nv)=>{const{disabled:sv,multiple:gv,multipleLimit:Sv}=r.props;return sv||!nv&&(gv?Sv>0&&tv.length>=Sv:!1)},dr=tv=>t.hoveringIndex===tv;n({listRef:V,isSized:j,isItemDisabled:Vr,isItemHovering:dr,isItemSelected:hr,scrollToItem:tv=>{const nv=V.value;nv&&nv.scrollToItem(tv)},resetScrollTop:()=>{const tv=V.value;tv&&tv.resetScrollTop()}});const rc=tv=>{const{index:nv,data:sv,style:gv}=tv,Sv=unref(j),{itemSize:wv,estimatedSize:rv}=unref(ie),{modelValue:Jm}=r.props,{onSelect:dv,onHover:pv}=r,mv=sv[nv];if(mv.type==="Group")return createVNode(GroupItem,{item:mv,style:gv,height:Sv?wv:rv},null);const Cv=hr(Jm,mv),uv=Vr(Jm,Cv),yv=dr(nv);return createVNode(OptionItem,mergeProps(tv,{selected:Cv,disabled:k(mv)||uv,created:!!mv.created,hovering:yv,item:mv,onSelect:dv,onHover:pv}),{default:$v=>{var Dv;return((Dv=e.default)==null?void 0:Dv.call(e,$v))||createVNode("span",null,[$(mv)])}})},{onKeyboardNavigate:ic,onKeyboardSelect:_c}=r,qm=()=>{ic("forward")},Xm=()=>{ic("backward")},Km=tv=>{const nv=getEventCode(tv),{tab:sv,esc:gv,down:Sv,up:wv,enter:rv,numpadEnter:Jm}=EVENT_CODE;switch([gv,Sv,wv,rv,Jm].includes(nv)&&(tv.preventDefault(),tv.stopPropagation()),nv){case sv:case gv:break;case Sv:qm();break;case wv:Xm();break;case rv:case Jm:_c();break}};return()=>{var tv,nv,sv,gv;const{data:Sv,width:wv}=t,{height:rv,multiple:Jm,scrollbarAlwaysOn:dv}=r.props,pv=computed(()=>isIOS?!0:dv),mv=unref(j)?FixedSizeList:DynamicSizeList;return createVNode("div",{class:[g.b("dropdown"),g.is("multiple",Jm)],style:{width:`${wv}px`}},[(tv=e.header)==null?void 0:tv.call(e),((nv=e.loading)==null?void 0:nv.call(e))||((sv=e.empty)==null?void 0:sv.call(e))||createVNode(mv,mergeProps({ref:V},unref(ie),{className:g.be("dropdown","list"),scrollbarAlwaysOn:pv.value,data:Sv,height:rv,width:wv,total:Sv.length,innerElement:"ul",innerProps:{id:t.id,role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},onKeydown:Km}),{default:Cv=>createVNode(rc,Cv,null)}),(gv=e.footer)==null?void 0:gv.call(e)])}}});function useAllowCreate(t,e){const{aliasProps:n,getLabel:r,getValue:g}=useProps(t),$=ref(0),y=ref(),k=computed(()=>t.allowCreate&&t.filterable);watch(()=>t.options,Oe=>{const ur=new Set(Oe.map(hr=>r(hr)));e.createdOptions=e.createdOptions.filter(hr=>!ur.has(r(hr)))});function L(Oe){const ur=hr=>r(hr)===Oe;return t.options&&t.options.some(ur)||e.createdOptions.some(ur)}function V(Oe){k.value&&(t.multiple&&Oe.created?$.value++:y.value=Oe)}function z(Oe){if(k.value)if(Oe&&Oe.length>0){if(L(Oe)){e.createdOptions=e.createdOptions.filter(hr=>r(hr)!==e.previousQuery);return}const ur={[n.value.value]:Oe,[n.value.label]:Oe,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=$.value?e.createdOptions[$.value]=ur:e.createdOptions.push(ur)}else if(t.multiple)e.createdOptions.length=$.value;else{const ur=y.value;e.createdOptions.length=0,ur&&ur.created&&e.createdOptions.push(ur)}}function j(Oe){if(!k.value||!Oe||!Oe.created||Oe.created&&t.reserveKeyword&&e.inputValue===r(Oe))return;const ur=e.createdOptions.findIndex(hr=>g(hr)===g(Oe));~ur&&(e.createdOptions.splice(ur,1),$.value--)}function ie(){k.value&&(e.createdOptions.length=0,$.value=0)}return{createNewOption:z,removeNewOption:j,selectNewOption:V,clearAllNewOption:ie}}const useSelect$1=(t,e)=>{const{t:n}=useLocale(),r=useNamespace("select"),g=useNamespace("input"),{form:$,formItem:y}=useFormItem(),{inputId:k}=useFormItemInputId(t,{formItemContext:y}),{aliasProps:L,getLabel:V,getValue:z,getDisabled:j,getOptions:ie}=useProps(t),{valueOnClear:Oe,isEmptyValue:ur}=useEmptyValues(t),hr=reactive({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),Vr=ref(-1),dr=ref(!1),ec=ref(),tc=ref(),Xs=ref(),rc=ref(),ic=ref(),_c=ref(),qm=ref(),Xm=ref(),Km=ref(),tv=ref(),{isComposing:nv,handleCompositionStart:sv,handleCompositionEnd:gv,handleCompositionUpdate:Sv}=useComposition({afterComposition:T0=>Z1(T0)}),wv=useFormDisabled(),{wrapperRef:rv,isFocused:Jm,handleBlur:dv}=useFocusController(ic,{disabled:wv,afterFocus(){t.automaticDropdown&&!uv.value&&(uv.value=!0,hr.menuVisibleOnFocus=!0)},beforeBlur(T0){var t1,o1;return((t1=Xs.value)==null?void 0:t1.isFocusInsideContent(T0))||((o1=rc.value)==null?void 0:o1.isFocusInsideContent(T0))},afterBlur(){var T0;uv.value=!1,hr.menuVisibleOnFocus=!1,t.validateEvent&&((T0=y==null?void 0:y.validate)==null||T0.call(y,"blur").catch(t1=>void 0))}}),pv=computed(()=>fv("")),mv=computed(()=>t.loading?!1:t.options.length>0||hr.createdOptions.length>0),Cv=ref([]),uv=ref(!1),yv=computed(()=>{var T0;return(T0=$==null?void 0:$.statusIcon)!=null?T0:!1}),$v=computed(()=>{const T0=Cv.value.length*t.itemHeight;return T0>t.height?t.height:T0}),Dv=computed(()=>t.multiple?isArray$1(t.modelValue)&&t.modelValue.length>0:!ur(t.modelValue)),Hv=computed(()=>t.clearable&&!wv.value&&Dv.value&&(Jm.value||hr.inputHovering)),Gv=computed(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),f0=computed(()=>Gv.value&&r.is("reverse",uv.value)),qv=computed(()=>(y==null?void 0:y.validateState)||""),Pv=computed(()=>{if(qv.value)return ValidateComponentsMap[qv.value]}),Tv=computed(()=>t.remote?t.debounce:0),Vv=computed(()=>t.remote&&!hr.inputValue&&!mv.value),Av=computed(()=>t.loading?t.loadingText||n("el.select.loading"):t.filterable&&hr.inputValue&&mv.value&&Cv.value.length===0?t.noMatchText||n("el.select.noMatch"):mv.value?null:t.noDataText||n("el.select.noData")),y0=computed(()=>t.filterable&&isFunction$1(t.filterMethod)),av=computed(()=>t.filterable&&t.remote&&isFunction$1(t.remoteMethod)),fv=T0=>{const t1=new RegExp(escapeStringRegexp(T0),"i"),o1=c1=>y0.value||av.value?!0:T0?t1.test(V(c1)||""):!0;return t.loading?[]:[...hr.createdOptions,...t.options].reduce((c1,N1)=>{const A1=ie(N1);if(isArray$1(A1)){const J1=A1.filter(o1);J1.length>0&&c1.push({label:V(N1),type:"Group"},...J1)}else(t.remote||o1(N1))&&c1.push(N1);return c1},[])},lv=()=>{Cv.value=fv(hr.inputValue)},kv=computed(()=>{const T0=new Map;return pv.value.forEach((t1,o1)=>{T0.set(J0(z(t1)),{option:t1,index:o1})}),T0}),Iv=computed(()=>{const T0=new Map;return Cv.value.forEach((t1,o1)=>{T0.set(J0(z(t1)),{option:t1,index:o1})}),T0}),vv=computed(()=>Cv.value.every(T0=>j(T0))),Ev=useFormSize(),zv=computed(()=>Ev.value==="small"?"small":"default"),Fv=()=>{var T0;if(isNumber(t.fitInputWidth)){Vr.value=t.fitInputWidth;return}const t1=((T0=ec.value)==null?void 0:T0.offsetWidth)||200;!t.fitInputWidth&&mv.value?nextTick(()=>{Vr.value=Math.max(t1,Yv())}):Vr.value=t1},Yv=()=>{var T0,t1;const c1=document.createElement("canvas").getContext("2d"),N1=r.be("dropdown","item"),J1=(((t1=(T0=Xm.value)==null?void 0:T0.listRef)==null?void 0:t1.innerRef)||document).querySelector(`.${N1}`);if(J1===null||c1===null)return 0;const ny=getComputedStyle(J1),Ty=Number.parseFloat(ny.paddingLeft)+Number.parseFloat(ny.paddingRight);return c1.font=`bold ${ny.font.replace(new RegExp(`\\b${ny.fontWeight}\\b`),"")}`,Cv.value.reduce((ry,O1)=>{const Iy=c1.measureText(V(O1));return Math.max(Iy.width,ry)},0)+Ty},g0=()=>{if(!tc.value)return 0;const T0=window.getComputedStyle(tc.value);return Number.parseFloat(T0.gap||"6px")},Qv=computed(()=>{const T0=g0(),t1=t.filterable?T0+MINIMUM_INPUT_WIDTH:0;return{maxWidth:`${tv.value&&t.maxCollapseTags===1?hr.selectionWidth-hr.collapseItemWidth-T0-t1:hr.selectionWidth-t1}px`}}),N0=computed(()=>({maxWidth:`${hr.selectionWidth}px`})),B0=computed(()=>isArray$1(t.modelValue)?t.modelValue.length===0&&!hr.inputValue:t.filterable?!hr.inputValue:!0),a1=computed(()=>{var T0;const t1=(T0=t.placeholder)!=null?T0:n("el.select.placeholder");return t.multiple||!Dv.value?t1:hr.selectedLabel}),I0=computed(()=>{var T0,t1;return(t1=(T0=Xs.value)==null?void 0:T0.popperRef)==null?void 0:t1.contentRef}),M0=computed(()=>{if(t.multiple){const T0=t.modelValue.length;if(T0>0&&Iv.value.has(t.modelValue[T0-1])){const{index:t1}=Iv.value.get(t.modelValue[T0-1]);return t1}}else if(!ur(t.modelValue)&&Iv.value.has(t.modelValue)){const{index:T0}=Iv.value.get(t.modelValue);return T0}return-1}),D0=computed({get(){return uv.value&&(t.loading||!Vv.value)&&(!dr.value||!isEmpty(hr.previousQuery))},set(T0){uv.value=T0}}),W0=computed(()=>t.multiple?t.collapseTags?hr.cachedOptions.slice(0,t.maxCollapseTags):hr.cachedOptions:[]),Zv=computed(()=>t.multiple?t.collapseTags?hr.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:z0,removeNewOption:_0,selectNewOption:q0,clearAllNewOption:Rv}=useAllowCreate(t,hr),k0=T0=>{var t1;wv.value||t.filterable&&uv.value&&T0&&!((t1=qm.value)!=null&&t1.contains(T0.target))||(hr.menuVisibleOnFocus?hr.menuVisibleOnFocus=!1:uv.value=!uv.value)},Ov=()=>{hr.inputValue.length>0&&!uv.value&&(uv.value=!0),z0(hr.inputValue),nextTick(()=>{E0(hr.inputValue)})},Kv=useDebounceFn(()=>{Ov(),dr.value=!1},Tv),E0=T0=>{hr.previousQuery===T0||nv.value||(hr.previousQuery=T0,t.filterable&&isFunction$1(t.filterMethod)?t.filterMethod(T0):t.filterable&&t.remote&&isFunction$1(t.remoteMethod)&&t.remoteMethod(T0),t.defaultFirstOption&&(t.filterable||t.remote)&&Cv.value.length?nextTick(X0):nextTick(h1))},X0=()=>{const T0=Cv.value.filter(c1=>!c1.disabled&&c1.type!=="Group"),t1=T0.find(c1=>c1.created),o1=T0[0];hr.hoveringIndex=K0(Cv.value,t1||o1)},l1=T0=>{isEqual$1(t.modelValue,T0)||e(CHANGE_EVENT,T0)},x1=T0=>{e(UPDATE_MODEL_EVENT,T0),l1(T0),hr.previousValue=t.multiple?String(T0):T0,nextTick(()=>{if(t.multiple&&isArray$1(t.modelValue)){const t1=hr.cachedOptions.slice(),o1=t.modelValue.map(c1=>Y0(c1,t1));isEqual$1(hr.cachedOptions,o1)||(hr.cachedOptions=o1)}else U0(!0)})},K0=(T0=[],t1)=>{if(!isObject$2(t1))return T0.indexOf(t1);const o1=t.valueKey;let c1=-1;return T0.some((N1,A1)=>get(N1,o1)===get(t1,o1)?(c1=A1,!0):!1),c1},J0=T0=>isObject$2(T0)?get(T0,t.valueKey):T0,y1=()=>{Fv()},vy=()=>{hr.selectionWidth=Number.parseFloat(window.getComputedStyle(tc.value).width)},ty=()=>{hr.collapseItemWidth=tv.value.getBoundingClientRect().width},Mv=()=>{var T0,t1;(t1=(T0=Xs.value)==null?void 0:T0.updatePopper)==null||t1.call(T0)},P1=()=>{var T0,t1;(t1=(T0=rc.value)==null?void 0:T0.updatePopper)==null||t1.call(T0)},Py=T0=>{const t1=z(T0);if(t.multiple){let o1=t.modelValue.slice();const c1=K0(o1,t1);c1>-1?(o1=[...o1.slice(0,c1),...o1.slice(c1+1)],hr.cachedOptions.splice(c1,1),_0(T0)):(t.multipleLimit<=0||o1.length<t.multipleLimit)&&(o1=[...o1,t1],hr.cachedOptions.push(T0),q0(T0)),x1(o1),T0.created&&E0(""),t.filterable&&!t.reserveKeyword&&(hr.inputValue="")}else hr.selectedLabel=V(T0),!isEqual$1(t.modelValue,t1)&&x1(t1),uv.value=!1,q0(T0),T0.created||Rv();yy()},Ny=(T0,t1)=>{let o1=t.modelValue.slice();const c1=K0(o1,z(t1));c1>-1&&!wv.value&&(o1=[...t.modelValue.slice(0,c1),...t.modelValue.slice(c1+1)],hr.cachedOptions.splice(c1,1),x1(o1),e("remove-tag",z(t1)),_0(t1)),T0.stopPropagation(),yy()},yy=()=>{var T0;(T0=ic.value)==null||T0.focus()},Hy=()=>{var T0;if(uv.value){uv.value=!1,nextTick(()=>{var t1;return(t1=ic.value)==null?void 0:t1.blur()});return}(T0=ic.value)==null||T0.blur()},R0=()=>{hr.inputValue.length>0?hr.inputValue="":uv.value=!1},k1=T0=>findLastIndex(T0,t1=>!hr.cachedOptions.some(o1=>z(o1)===t1&&j(o1))),V1=T0=>{const t1=getEventCode(T0);if(t.multiple&&t1!==EVENT_CODE.delete&&hr.inputValue.length===0){T0.preventDefault();const o1=t.modelValue.slice(),c1=k1(o1);if(c1<0)return;const N1=o1[c1];o1.splice(c1,1);const A1=hr.cachedOptions[c1];hr.cachedOptions.splice(c1,1),_0(A1),x1(o1),e("remove-tag",N1)}},j1=()=>{let T0;isArray$1(t.modelValue)?T0=[]:T0=Oe.value,hr.selectedLabel="",uv.value=!1,x1(T0),e("clear"),Rv(),yy()},X1=(T0,t1=void 0)=>{const o1=Cv.value;if(!["forward","backward"].includes(T0)||wv.value||o1.length<=0||vv.value||nv.value)return;if(!uv.value)return k0();isUndefined(t1)&&(t1=hr.hoveringIndex);let c1=-1;T0==="forward"?(c1=t1+1,c1>=o1.length&&(c1=0)):T0==="backward"&&(c1=t1-1,(c1<0||c1>=o1.length)&&(c1=o1.length-1));const N1=o1[c1];if(j(N1)||N1.type==="Group")return X1(T0,c1);hr.hoveringIndex=c1,A0(c1)},H0=()=>{if(uv.value)~hr.hoveringIndex&&Cv.value[hr.hoveringIndex]&&Py(Cv.value[hr.hoveringIndex]);else return k0()},d1=T0=>{hr.hoveringIndex=T0??-1},h1=()=>{if(!t.multiple)hr.hoveringIndex=Cv.value.findIndex(T0=>J0(z(T0))===J0(t.modelValue));else{const T0=t.modelValue.length;if(T0>0){const t1=t.modelValue[T0-1];hr.hoveringIndex=Cv.value.findIndex(o1=>J0(t1)===J0(z(o1)))}else hr.hoveringIndex=-1}},Z1=T0=>{if(hr.inputValue=T0.target.value,t.remote)dr.value=!0,Kv();else return Ov()},ey=T0=>{if(uv.value=!1,Jm.value){const t1=new FocusEvent("blur",T0);dv(t1)}},jv=()=>(hr.isBeforeHide=!1,nextTick(()=>{~M0.value&&A0(M0.value)})),A0=T0=>{Xm.value.scrollToItem(T0)},Y0=(T0,t1)=>{const o1=J0(T0);if(kv.value.has(o1)){const{option:c1}=kv.value.get(o1);return c1}if(t1&&t1.length){const c1=t1.find(N1=>J0(z(N1))===o1);if(c1)return c1}return{[L.value.value]:T0,[L.value.label]:T0}},e1=T0=>{var t1,o1;return(o1=(t1=kv.value.get(z(T0)))==null?void 0:t1.index)!=null?o1:-1},U0=(T0=!1)=>{if(t.multiple)if(t.modelValue.length>0){const t1=hr.cachedOptions.slice();hr.cachedOptions.length=0,hr.previousValue=t.modelValue.toString();for(const o1 of t.modelValue){const c1=Y0(o1,t1);hr.cachedOptions.push(c1)}}else hr.cachedOptions=[],hr.previousValue=void 0;else if(Dv.value){hr.previousValue=t.modelValue;const t1=Cv.value,o1=t1.findIndex(c1=>J0(z(c1))===J0(t.modelValue));~o1?hr.selectedLabel=V(t1[o1]):(!hr.selectedLabel||T0)&&(hr.selectedLabel=J0(t.modelValue))}else hr.selectedLabel="",hr.previousValue=void 0;Rv(),Fv()};watch(()=>t.fitInputWidth,()=>{Fv()}),watch(uv,T0=>{T0?(t.persistent||Fv(),E0("")):(hr.inputValue="",hr.previousQuery=null,hr.isBeforeHide=!0,z0(""))}),watch(()=>t.modelValue,(T0,t1)=>{var o1;(!T0||isArray$1(T0)&&T0.length===0||t.multiple&&!isEqual$1(T0.toString(),hr.previousValue)||!t.multiple&&J0(T0)!==J0(hr.previousValue))&&U0(!0),!isEqual$1(T0,t1)&&t.validateEvent&&((o1=y==null?void 0:y.validate)==null||o1.call(y,"change").catch(N1=>void 0))},{deep:!0}),watch(()=>t.options,()=>{const T0=ic.value;(!T0||T0&&document.activeElement!==T0)&&U0()},{deep:!0,flush:"post"}),watch(()=>Cv.value,()=>(Fv(),Xm.value&&nextTick(Xm.value.resetScrollTop))),watchEffect(()=>{hr.isBeforeHide||lv()}),watchEffect(()=>{const{valueKey:T0,options:t1}=t,o1=new Map;for(const c1 of t1){const N1=z(c1);let A1=N1;if(isObject$2(A1)&&(A1=get(N1,T0)),o1.get(A1))break;o1.set(A1,!0)}}),onMounted(()=>{U0()}),useResizeObserver(ec,y1),useResizeObserver(tc,vy),useResizeObserver(rv,Mv),useResizeObserver(Km,P1),useResizeObserver(tv,ty);let p1;return watch(()=>D0.value,T0=>{T0?p1=useResizeObserver(Xm,Mv).stop:(p1==null||p1(),p1=void 0),e("visible-change",T0)}),{inputId:k,collapseTagSize:zv,currentPlaceholder:a1,expanded:uv,emptyText:Av,popupHeight:$v,debounce:Tv,allOptions:pv,allOptionsValueMap:kv,filteredOptions:Cv,iconComponent:Gv,iconReverse:f0,tagStyle:Qv,collapseTagStyle:N0,popperSize:Vr,dropdownMenuVisible:D0,hasModelValue:Dv,shouldShowPlaceholder:B0,selectDisabled:wv,selectSize:Ev,needStatusIcon:yv,showClearBtn:Hv,states:hr,isFocused:Jm,nsSelect:r,nsInput:g,inputRef:ic,menuRef:Xm,tagMenuRef:Km,tooltipRef:Xs,tagTooltipRef:rc,selectRef:ec,wrapperRef:rv,selectionRef:tc,prefixRef:_c,suffixRef:qm,collapseItemRef:tv,popperRef:I0,validateState:qv,validateIcon:Pv,showTagList:W0,collapseTagList:Zv,debouncedOnInputChange:Kv,deleteTag:Ny,getLabel:V,getValue:z,getDisabled:j,getValueKey:J0,getIndex:e1,handleClear:j1,handleClickOutside:ey,handleDel:V1,handleEsc:R0,focus:yy,blur:Hy,handleMenuEnter:jv,handleResize:y1,resetSelectionWidth:vy,updateTooltip:Mv,updateTagTooltip:P1,updateOptions:lv,toggleMenu:k0,scrollTo:A0,onInput:Z1,onKeyboardNavigate:X1,onKeyboardSelect:H0,onSelect:Py,onHover:d1,handleCompositionStart:sv,handleCompositionEnd:gv,handleCompositionUpdate:Sv}},_sfc_main$K=defineComponent({name:"ElSelectV2",components:{ElSelectMenu,ElTag,ElTooltip,ElIcon},directives:{ClickOutside},props:selectV2Props,emits:selectV2Emits,setup(t,{emit:e}){const n=computed(()=>{const{modelValue:L,multiple:V}=t,z=V?[]:void 0;return isArray$1(L)?V?L:z:V?z:L}),r=useSelect$1(reactive({...toRefs(t),modelValue:n}),e),{calculatorRef:g,inputStyle:$}=useCalcInputWidth(),y=useId();provide(selectV2InjectionKey,{props:reactive({...toRefs(t),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,contentId:y,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const k=computed(()=>t.multiple?r.states.cachedOptions.map(L=>r.getLabel(L)):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:k,calculatorRef:g,inputStyle:$,contentId:y,BORDER_HORIZONTAL_WIDTH}}}),_hoisted_1$m=["id","autocomplete","tabindex","aria-expanded","aria-label","disabled","aria-controls","aria-activedescendant","readonly","name"],_hoisted_2$d=["textContent"],_hoisted_3$5={key:1};function _sfc_render$6(t,e,n,r,g,$){const y=resolveComponent("el-tag"),k=resolveComponent("el-tooltip"),L=resolveComponent("el-icon"),V=resolveComponent("el-select-menu"),z=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[15]||(e[15]=j=>t.states.inputHovering=!0),onMouseleave:e[16]||(e[16]=j=>t.states.inputHovering=!1)},[createVNode(k,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-style":t.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:e[14]||(e[14]=j=>t.states.isBeforeHide=!1)},{default:withCtx(()=>{var j,ie;return[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:e[11]||(e[11]=withModifiers((...Oe)=>t.toggleMenu&&t.toggleMenu(...Oe),["prevent"]))},[t.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(t.nsSelect.e("prefix"))},[renderSlot(t.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?renderSlot(t.$slots,"tag",{key:0,data:t.states.cachedOptions,deleteTag:t.deleteTag,selectDisabled:t.selectDisabled},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.showTagList,Oe=>(openBlock(),createElementBlock("div",{key:t.getValueKey(t.getValue(Oe)),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode(y,{closable:!t.selectDisabled&&!t.getDisabled(Oe),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:normalizeStyle(t.tagStyle),onClose:ur=>t.deleteTag(ur,Oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{index:t.getIndex(Oe),label:t.getLabel(Oe),value:t.getValue(Oe)},()=>[createTextVNode(toDisplayString$1(t.getLabel(Oe)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(openBlock(),createBlock(k,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom","popper-class":t.popperClass,"popper-style":t.popperStyle,teleported:t.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode(y,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:normalizeStyle(t.collapseTagStyle),"disable-transitions":""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))}," + "+toDisplayString$1(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(t.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.collapseTagList,Oe=>(openBlock(),createElementBlock("div",{key:t.getValueKey(t.getValue(Oe)),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode(y,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(Oe),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:ur=>t.deleteTag(ur,Oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{index:t.getIndex(Oe),label:t.getLabel(Oe),value:t.getValue(Oe)},()=>[createTextVNode(toDisplayString$1(t.getLabel(Oe)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable||t.selectDisabled)])},[withDirectives(createBaseVNode("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=Oe=>t.states.inputValue=Oe),style:normalizeStyle(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"none","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:normalizeClass([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox","aria-controls":t.contentId,"aria-activedescendant":t.states.hoveringIndex>=0?`${t.contentId}-${t.states.hoveringIndex}`:"",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:e[1]||(e[1]=(...Oe)=>t.onInput&&t.onInput(...Oe)),onCompositionstart:e[2]||(e[2]=(...Oe)=>t.handleCompositionStart&&t.handleCompositionStart(...Oe)),onCompositionupdate:e[3]||(e[3]=(...Oe)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...Oe)),onCompositionend:e[4]||(e[4]=(...Oe)=>t.handleCompositionEnd&&t.handleCompositionEnd(...Oe)),onKeydown:[e[5]||(e[5]=withKeys(withModifiers(Oe=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[6]||(e[6]=withKeys(withModifiers(Oe=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[7]||(e[7]=withKeys(withModifiers((...Oe)=>t.onKeyboardSelect&&t.onKeyboardSelect(...Oe),["stop","prevent"]),["enter"])),e[8]||(e[8]=withKeys(withModifiers((...Oe)=>t.handleEsc&&t.handleEsc(...Oe),["stop","prevent"]),["esc"])),e[9]||(e[9]=withKeys(withModifiers((...Oe)=>t.handleDel&&t.handleDel(...Oe),["stop"]),["delete"]))],onClick:e[10]||(e[10]=withModifiers((...Oe)=>t.toggleMenu&&t.toggleMenu(...Oe),["stop"]))},null,46,_hoisted_1$m),[[vModelText,t.states.inputValue]]),t.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(t.nsSelect.e("input-calculator")),textContent:toDisplayString$1(t.states.inputValue)},null,10,_hoisted_2$d)):createCommentVNode("v-if",!0)],2),t.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?renderSlot(t.$slots,"label",{key:0,index:(ie=(j=t.allOptionsValueMap.get(t.modelValue))==null?void 0:j.index)!=null?ie:-1,label:t.currentPlaceholder,value:t.modelValue},()=>[createBaseVNode("span",null,toDisplayString$1(t.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",_hoisted_3$5,toDisplayString$1(t.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(t.nsSelect.e("suffix"))},[t.iconComponent?withDirectives((openBlock(),createBlock(L,{key:0,class:normalizeClass([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])),[[vShow,!t.showClearBtn]]):createCommentVNode("v-if",!0),t.showClearBtn&&t.clearIcon?(openBlock(),createBlock(L,{key:1,class:normalizeClass([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:withModifiers(t.handleClear,["prevent","stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(openBlock(),createBlock(L,{key:2,class:normalizeClass([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)]}),content:withCtx(()=>[createVNode(V,{id:t.contentId,ref:"menuRef",data:t.filteredOptions,width:t.popperSize-t.BORDER_HORIZONTAL_WIDTH,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn,"aria-label":t.ariaLabel},createSlots({default:withCtx(j=>[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(j)))]),_:2},[t.$slots.header?{name:"header",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","header")),onClick:e[12]||(e[12]=withModifiers(()=>{},["stop"]))},[renderSlot(t.$slots,"header")],2)]),key:"0"}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","loading"))},[renderSlot(t.$slots,"loading")],2)]),key:"1"}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","empty"))},[renderSlot(t.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString$1(t.emptyText),1)])],2)]),key:"2"}:void 0,t.$slots.footer?{name:"footer",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","footer")),onClick:e[13]||(e[13]=withModifiers(()=>{},["stop"]))},[renderSlot(t.$slots,"footer")],2)]),key:"3"}:void 0]),1032,["id","data","width","hovering-index","scrollbar-always-on","aria-label"])]),_:3},8,["visible","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],34)),[[z,t.handleClickOutside,t.popperRef]])}var Select=_export_sfc$1(_sfc_main$K,[["render",_sfc_render$6],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);const ElSelectV2=withInstall(Select),skeletonProps=buildProps({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:definePropType([Number,Object])}}),skeletonItemProps=buildProps({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),_sfc_main$J=defineComponent({name:"ElSkeletonItem",__name:"skeleton-item",props:skeletonItemProps,setup(t){const e=useNamespace("skeleton");return(n,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(e).e("item"),unref(e).e(n.variant)])},[n.variant==="image"?(openBlock(),createBlock(unref(picture_filled_default),{key:0})):createCommentVNode("v-if",!0)],2))}});var SkeletonItem=_export_sfc$1(_sfc_main$J,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const useThrottleRender=(t,e=0)=>{if(e===0)return t;const n=isObject$2(e)&&!!e.initVal,r=ref(n);let g=null;const $=k=>{if(isUndefined(k)){r.value=t.value;return}g&&clearTimeout(g),g=setTimeout(()=>{r.value=t.value},k)},y=k=>{k==="leading"?isNumber(e)?$(e):$(e.leading):isObject$2(e)?$(e.trailing):r.value=!1};return onMounted(()=>y("leading")),watch(()=>t.value,k=>{y(k?"leading":"trailing")}),r},_sfc_main$I=defineComponent({name:"ElSkeleton",__name:"skeleton",props:skeletonProps,setup(t,{expose:e}){const n=t,r=useNamespace("skeleton"),g=useThrottleRender(toRef$1(n,"loading"),n.throttle);return e({uiLoading:g}),($,y)=>unref(g)?(openBlock(),createElementBlock("div",mergeProps({key:0,class:[unref(r).b(),unref(r).is("animated",$.animated)]},$.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList($.count,k=>(openBlock(),createElementBlock(Fragment,{key:k},[unref(g)?renderSlot($.$slots,"template",{key:k},()=>[createVNode(SkeletonItem,{class:normalizeClass(unref(r).is("first")),variant:"p"},null,8,["class"]),(openBlock(!0),createElementBlock(Fragment,null,renderList($.rows,L=>(openBlock(),createBlock(SkeletonItem,{key:L,class:normalizeClass([unref(r).e("paragraph"),unref(r).is("last",L===$.rows&&$.rows>1)]),variant:"p"},null,8,["class"]))),128))]):createCommentVNode("v-if",!0)],64))),128))],16)):renderSlot($.$slots,"default",normalizeProps(mergeProps({key:1},$.$attrs)))}});var Skeleton=_export_sfc$1(_sfc_main$I,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const ElSkeleton=withInstall(Skeleton,{SkeletonItem}),ElSkeletonItem=withNoopInstall(SkeletonItem),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:{type:Boolean,default:void 0},range:Boolean,vertical:Boolean,height:String,rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),isValidValue$1=t=>isNumber(t)||isArray$1(t)&&t.every(isNumber),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue$1,[INPUT_EVENT]:isValidValue$1,[CHANGE_EVENT]:isValidValue$1},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:t=>isNumber(t)},useTooltip=(t,e,n)=>{const r=ref(),g=ref(!1),$=computed(()=>e.value instanceof Function),y=computed(()=>$.value&&e.value(t.modelValue)||t.modelValue),k=debounce(()=>{n.value&&(g.value=!0)},50),L=debounce(()=>{n.value&&(g.value=!1)},50);return{tooltip:r,tooltipVisible:g,formatValue:y,displayTooltip:k,hideTooltip:L}},useSliderButton=(t,e,n)=>{const{disabled:r,min:g,max:$,step:y,showTooltip:k,persistent:L,precision:V,sliderSize:z,formatTooltip:j,emitChange:ie,resetSize:Oe,updateDragging:ur}=inject(sliderContextKey),{tooltip:hr,tooltipVisible:Vr,formatValue:dr,displayTooltip:ec,hideTooltip:tc}=useTooltip(t,j,k),Xs=ref(),rc=computed(()=>`${(t.modelValue-g.value)/($.value-g.value)*100}%`),ic=computed(()=>t.vertical?{bottom:rc.value}:{left:rc.value}),_c=()=>{e.hovering=!0,ec()},qm=()=>{e.hovering=!1,e.dragging||tc()},Xm=uv=>{r.value||(uv.preventDefault(),dv(uv),window.addEventListener("mousemove",pv),window.addEventListener("touchmove",pv),window.addEventListener("mouseup",mv),window.addEventListener("touchend",mv),window.addEventListener("contextmenu",mv),Xs.value.focus())},Km=uv=>{r.value||(e.newPosition=Number.parseFloat(rc.value)+uv/($.value-g.value)*100,Cv(e.newPosition),ie())},tv=()=>{Km(-y.value)},nv=()=>{Km(y.value)},sv=()=>{Km(-y.value*4)},gv=()=>{Km(y.value*4)},Sv=()=>{r.value||(Cv(0),ie())},wv=()=>{r.value||(Cv(100),ie())},rv=uv=>{const yv=getEventCode(uv);let $v=!0;switch(yv){case EVENT_CODE.left:case EVENT_CODE.down:tv();break;case EVENT_CODE.right:case EVENT_CODE.up:nv();break;case EVENT_CODE.home:Sv();break;case EVENT_CODE.end:wv();break;case EVENT_CODE.pageDown:sv();break;case EVENT_CODE.pageUp:gv();break;default:$v=!1;break}$v&&uv.preventDefault()},Jm=uv=>{let yv,$v;return uv.type.startsWith("touch")?($v=uv.touches[0].clientY,yv=uv.touches[0].clientX):($v=uv.clientY,yv=uv.clientX),{clientX:yv,clientY:$v}},dv=uv=>{e.dragging=!0,e.isClick=!0;const{clientX:yv,clientY:$v}=Jm(uv);t.vertical?e.startY=$v:e.startX=yv,e.startPosition=Number.parseFloat(rc.value),e.newPosition=e.startPosition},pv=uv=>{if(e.dragging){e.isClick=!1,ec(),Oe();let yv;const{clientX:$v,clientY:Dv}=Jm(uv);t.vertical?(e.currentY=Dv,yv=(e.startY-e.currentY)/z.value*100):(e.currentX=$v,yv=(e.currentX-e.startX)/z.value*100),e.newPosition=e.startPosition+yv,Cv(e.newPosition)}},mv=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||tc(),e.isClick||Cv(e.newPosition),ie()},0),window.removeEventListener("mousemove",pv),window.removeEventListener("touchmove",pv),window.removeEventListener("mouseup",mv),window.removeEventListener("touchend",mv),window.removeEventListener("contextmenu",mv))},Cv=async uv=>{if(uv===null||Number.isNaN(+uv))return;uv=clamp$2(uv,0,100);const yv=Math.floor(($.value-g.value)/y.value),$v=yv*y.value/($.value-g.value)*100,Dv=$v+(100-$v)/2;let Hv;if(uv<$v){const Gv=$v/yv,f0=Math.round(uv/Gv);Hv=g.value+f0*y.value}else uv<Dv?Hv=g.value+yv*y.value:Hv=$.value;Hv=Number.parseFloat(Hv.toFixed(V.value)),Hv!==t.modelValue&&n(UPDATE_MODEL_EVENT,Hv),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await nextTick(),e.dragging&&ec(),hr.value.updatePopper()};return watch(()=>e.dragging,uv=>{ur(uv)}),useEventListener(Xs,"touchstart",Xm,{passive:!1}),{disabled:r,button:Xs,tooltip:hr,tooltipVisible:Vr,showTooltip:k,persistent:L,wrapperStyle:ic,formatValue:dr,handleMouseEnter:_c,handleMouseLeave:qm,onButtonDown:Xm,onKeyDown:rv,setPosition:Cv}},_hoisted_1$l=["tabindex"],_sfc_main$H=defineComponent({name:"ElSliderButton",__name:"button",props:sliderButtonProps,emits:sliderButtonEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useNamespace("slider"),y=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),k=computed(()=>j.value?ie.value:!1),{disabled:L,button:V,tooltip:z,showTooltip:j,persistent:ie,tooltipVisible:Oe,wrapperStyle:ur,formatValue:hr,handleMouseEnter:Vr,handleMouseLeave:dr,onButtonDown:ec,onKeyDown:tc,setPosition:Xs}=useSliderButton(r,y,g),{hovering:rc,dragging:ic}=toRefs(y);return e({onButtonDown:ec,onKeyDown:tc,setPosition:Xs,hovering:rc,dragging:ic}),(_c,qm)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:V,class:normalizeClass([unref($).e("button-wrapper"),{hover:unref(rc),dragging:unref(ic)}]),style:normalizeStyle(unref(ur)),tabindex:unref(L)?void 0:0,onMouseenter:qm[0]||(qm[0]=(...Xm)=>unref(Vr)&&unref(Vr)(...Xm)),onMouseleave:qm[1]||(qm[1]=(...Xm)=>unref(dr)&&unref(dr)(...Xm)),onMousedown:qm[2]||(qm[2]=(...Xm)=>unref(ec)&&unref(ec)(...Xm)),onFocus:qm[3]||(qm[3]=(...Xm)=>unref(Vr)&&unref(Vr)(...Xm)),onBlur:qm[4]||(qm[4]=(...Xm)=>unref(dr)&&unref(dr)(...Xm)),onKeydown:qm[5]||(qm[5]=(...Xm)=>unref(tc)&&unref(tc)(...Xm))},[createVNode(unref(ElTooltip),{ref_key:"tooltip",ref:z,visible:unref(Oe),placement:_c.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_c.tooltipClass,disabled:!unref(j),persistent:k.value},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(unref(hr)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref($).e("button"),{hover:unref(rc),dragging:unref(ic)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,_hoisted_1$l))}});var SliderButton=_export_sfc$1(_sfc_main$H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(t){const e=useNamespace("slider"),n=computed(()=>isString$1(t.mark)?t.mark:t.mark.label),r=computed(()=>isString$1(t.mark)?void 0:t.mark.style);return()=>h$1("div",{class:e.e("marks-text"),style:r.value},n.value)}});const useSlide=(t,e,n)=>{const{formItem:r}=useFormItem(),g=shallowRef(),$=ref(),y=ref(),k={firstButton:$,secondButton:y},L=useFormDisabled(),V=computed(()=>Math.min(e.firstValue,e.secondValue)),z=computed(()=>Math.max(e.firstValue,e.secondValue)),j=computed(()=>t.range?`${100*(z.value-V.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),ie=computed(()=>t.range?`${100*(V.value-t.min)/(t.max-t.min)}%`:"0%"),Oe=computed(()=>t.vertical?{height:t.height}:{}),ur=computed(()=>t.vertical?{height:j.value,bottom:ie.value}:{width:j.value,left:ie.value}),hr=()=>{if(g.value){const tv=g.value.getBoundingClientRect();e.sliderSize=tv[t.vertical?"height":"width"]}},Vr=tv=>{const nv=t.min+tv*(t.max-t.min)/100;if(!t.range)return $;let sv;return Math.abs(V.value-nv)<Math.abs(z.value-nv)?sv=e.firstValue<e.secondValue?"firstButton":"secondButton":sv=e.firstValue>e.secondValue?"firstButton":"secondButton",k[sv]},dr=tv=>{const nv=Vr(tv);return nv.value.setPosition(tv),nv},ec=tv=>{e.firstValue=tv??t.min,Xs(t.range?[V.value,z.value]:tv??t.min)},tc=tv=>{e.secondValue=tv,t.range&&Xs([V.value,z.value])},Xs=tv=>{n(UPDATE_MODEL_EVENT,tv),n(INPUT_EVENT,tv)},rc=async()=>{await nextTick(),n(CHANGE_EVENT,t.range?[V.value,z.value]:t.modelValue)},ic=tv=>{var nv,sv,gv,Sv,wv,rv;if(L.value||e.dragging)return;hr();let Jm=0;if(t.vertical){const dv=(gv=(sv=(nv=tv.touches)==null?void 0:nv.item(0))==null?void 0:sv.clientY)!=null?gv:tv.clientY;Jm=(g.value.getBoundingClientRect().bottom-dv)/e.sliderSize*100}else{const dv=(rv=(wv=(Sv=tv.touches)==null?void 0:Sv.item(0))==null?void 0:wv.clientX)!=null?rv:tv.clientX,pv=g.value.getBoundingClientRect().left;Jm=(dv-pv)/e.sliderSize*100}if(!(Jm<0||Jm>100))return dr(Jm)};return{elFormItem:r,slider:g,firstButton:$,secondButton:y,sliderDisabled:L,minValue:V,maxValue:z,runwayStyle:Oe,barStyle:ur,resetSize:hr,setPosition:dr,emitChange:rc,onSliderWrapperPrevent:tv=>{var nv,sv;((nv=k.firstButton.value)!=null&&nv.dragging||(sv=k.secondButton.value)!=null&&sv.dragging)&&tv.preventDefault()},onSliderClick:tv=>{ic(tv)&&rc()},onSliderDown:async tv=>{const nv=ic(tv);nv&&(await nextTick(),nv.value.onButtonDown(tv))},onSliderMarkerDown:tv=>{if(L.value||e.dragging)return;dr(tv)&&rc()},setFirstValue:ec,setSecondValue:tc}},useStops=(t,e,n,r)=>({stops:computed(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const y=Math.ceil((t.max-t.min)/t.step),k=100*t.step/(t.max-t.min),L=Array.from({length:y-1}).map((V,z)=>(z+1)*k);return t.range?L.filter(V=>V<100*(n.value-t.min)/(t.max-t.min)||V>100*(r.value-t.min)/(t.max-t.min)):L.filter(V=>V>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:y=>t.vertical?{bottom:`${y}%`}:{left:`${y}%`}}),useMarks=t=>computed(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),useWatch=(t,e,n,r,g,$)=>{const y=V=>{g(UPDATE_MODEL_EVENT,V),g(INPUT_EVENT,V)},k=()=>t.range?![n.value,r.value].every((V,z)=>V===e.oldValue[z]):t.modelValue!==e.oldValue,L=()=>{var V,z;t.min>t.max&&throwError("Slider","min should not be greater than max.");const j=t.modelValue;t.range&&isArray$1(j)?j[1]<t.min?y([t.min,t.min]):j[0]>t.max?y([t.max,t.max]):j[0]<t.min?y([t.min,j[1]]):j[1]>t.max?y([j[0],t.max]):(e.firstValue=j[0],e.secondValue=j[1],k()&&(t.validateEvent&&((V=$==null?void 0:$.validate)==null||V.call($,"change").catch(ie=>void 0)),e.oldValue=j.slice())):!t.range&&isNumber(j)&&!Number.isNaN(j)&&(j<t.min?y(t.min):j>t.max?y(t.max):(e.firstValue=j,k()&&(t.validateEvent&&((z=$==null?void 0:$.validate)==null||z.call($,"change").catch(ie=>void 0)),e.oldValue=j)))};L(),watch(()=>e.dragging,V=>{V||L()}),watch(()=>t.modelValue,(V,z)=>{e.dragging||isArray$1(V)&&isArray$1(z)&&V.every((j,ie)=>j===z[ie])&&e.firstValue===V[0]&&e.secondValue===V[1]||L()},{deep:!0}),watch(()=>[t.min,t.max],()=>{L()})},useLifecycle=(t,e,n)=>{const r=ref();return onMounted(async()=>{t.range?(isArray$1(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!isNumber(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),useEventListener(window,"resize",n),await nextTick(),n()}),{sliderWrapper:r}},_hoisted_1$k=["id","role","aria-label","aria-labelledby"],_hoisted_2$c={key:1},_sfc_main$G=defineComponent({name:"ElSlider",__name:"slider",props:sliderProps,emits:sliderEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useNamespace("slider"),{t:y}=useLocale(),k=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:L,slider:V,firstButton:z,secondButton:j,sliderDisabled:ie,minValue:Oe,maxValue:ur,runwayStyle:hr,barStyle:Vr,resetSize:dr,emitChange:ec,onSliderWrapperPrevent:tc,onSliderClick:Xs,onSliderDown:rc,onSliderMarkerDown:ic,setFirstValue:_c,setSecondValue:qm}=useSlide(r,k,g),{stops:Xm,getStopStyle:Km}=useStops(r,k,Oe,ur),{inputId:tv,isLabeledByFormItem:nv}=useFormItemInputId(r,{formItemContext:L}),sv=useFormSize(),gv=computed(()=>r.inputSize||sv.value),Sv=computed(()=>r.ariaLabel||y("el.slider.defaultLabel",{min:r.min,max:r.max})),wv=computed(()=>r.range?r.rangeStartLabel||y("el.slider.defaultRangeStartLabel"):Sv.value),rv=computed(()=>r.formatValueText?r.formatValueText(yv.value):`${yv.value}`),Jm=computed(()=>r.rangeEndLabel||y("el.slider.defaultRangeEndLabel")),dv=computed(()=>r.formatValueText?r.formatValueText($v.value):`${$v.value}`),pv=computed(()=>[$.b(),$.m(sv.value),$.is("vertical",r.vertical),{[$.m("with-input")]:r.showInput}]),mv=useMarks(r);useWatch(r,k,Oe,ur,g,L);const Cv=computed(()=>{const Gv=[r.min,r.max,r.step].map(f0=>{const qv=`${f0}`.split(".")[1];return qv?qv.length:0});return Math.max.apply(null,Gv)}),{sliderWrapper:uv}=useLifecycle(r,k,dr),{firstValue:yv,secondValue:$v,sliderSize:Dv}=toRefs(k),Hv=Gv=>{k.dragging=Gv};return useEventListener(uv,"touchstart",tc,{passive:!1}),useEventListener(uv,"touchmove",tc,{passive:!1}),provide(sliderContextKey,{...toRefs(r),sliderSize:Dv,disabled:ie,precision:Cv,emitChange:ec,resetSize:dr,updateDragging:Hv}),e({onSliderClick:Xs}),(Gv,f0)=>{var qv,Pv;return openBlock(),createElementBlock("div",{id:Gv.range?unref(tv):void 0,ref_key:"sliderWrapper",ref:uv,class:normalizeClass(pv.value),role:Gv.range?"group":void 0,"aria-label":Gv.range&&!unref(nv)?Sv.value:void 0,"aria-labelledby":Gv.range&&unref(nv)?(qv=unref(L))==null?void 0:qv.labelId:void 0},[createBaseVNode("div",{ref_key:"slider",ref:V,class:normalizeClass([unref($).e("runway"),{"show-input":Gv.showInput&&!Gv.range},unref($).is("disabled",unref(ie))]),style:normalizeStyle(unref(hr)),onMousedown:f0[0]||(f0[0]=(...Tv)=>unref(rc)&&unref(rc)(...Tv)),onTouchstartPassive:f0[1]||(f0[1]=(...Tv)=>unref(rc)&&unref(rc)(...Tv))},[createBaseVNode("div",{class:normalizeClass(unref($).e("bar")),style:normalizeStyle(unref(Vr))},null,6),createVNode(SliderButton,{id:Gv.range?void 0:unref(tv),ref_key:"firstButton",ref:z,"model-value":unref(yv),vertical:Gv.vertical,"tooltip-class":Gv.tooltipClass,placement:Gv.placement,role:"slider","aria-label":Gv.range||!unref(nv)?wv.value:void 0,"aria-labelledby":!Gv.range&&unref(nv)?(Pv=unref(L))==null?void 0:Pv.labelId:void 0,"aria-valuemin":Gv.min,"aria-valuemax":Gv.range?unref($v):Gv.max,"aria-valuenow":unref(yv),"aria-valuetext":rv.value,"aria-orientation":Gv.vertical?"vertical":"horizontal","aria-disabled":unref(ie),"onUpdate:modelValue":unref(_c)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Gv.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:j,"model-value":unref($v),vertical:Gv.vertical,"tooltip-class":Gv.tooltipClass,placement:Gv.placement,role:"slider","aria-label":Jm.value,"aria-valuemin":unref(yv),"aria-valuemax":Gv.max,"aria-valuenow":unref($v),"aria-valuetext":dv.value,"aria-orientation":Gv.vertical?"vertical":"horizontal","aria-disabled":unref(ie),"onUpdate:modelValue":unref(qm)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),Gv.showStops?(openBlock(),createElementBlock("div",_hoisted_2$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Xm),(Tv,Vv)=>(openBlock(),createElementBlock("div",{key:Vv,class:normalizeClass(unref($).e("stop")),style:normalizeStyle(unref(Km)(Tv))},null,6))),128))])):createCommentVNode("v-if",!0),unref(mv).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(mv),(Tv,Vv)=>(openBlock(),createElementBlock("div",{key:Vv,style:normalizeStyle(unref(Km)(Tv.position)),class:normalizeClass([unref($).e("stop"),unref($).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref($).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(mv),(Tv,Vv)=>(openBlock(),createBlock(unref(SliderMarker),{key:Vv,mark:Tv.mark,style:normalizeStyle(unref(Km)(Tv.position)),onMousedown:withModifiers(Av=>unref(ic)(Tv.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):createCommentVNode("v-if",!0)],38),Gv.showInput&&!Gv.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(yv),class:normalizeClass(unref($).e("input")),step:Gv.step,disabled:unref(ie),controls:Gv.showInputControls,min:Gv.min,max:Gv.max,precision:Cv.value,size:gv.value,"onUpdate:modelValue":unref(_c),onChange:unref(ec)},null,8,["model-value","class","step","disabled","controls","min","max","precision","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],10,_hoisted_1$k)}}});var Slider=_export_sfc$1(_sfc_main$G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const ElSlider=withInstall(Slider),spaceItemProps=buildProps({prefixCls:{type:String}}),SpaceItem=defineComponent({name:"ElSpaceItem",props:spaceItemProps,setup(t,{slots:e}){const n=useNamespace("space"),r=computed(()=>`${t.prefixCls||n.b()}__item`);return()=>h$1("div",{class:r.value},renderSlot(e,"default"))}}),SIZE_MAP={small:8,default:12,large:16};function useSpace(t){const e=useNamespace("space"),n=computed(()=>[e.b(),e.m(t.direction),t.class]),r=ref(0),g=ref(0),$=computed(()=>{const k=t.wrap||t.fill?{flexWrap:"wrap"}:{},L={alignItems:t.alignment},V={rowGap:`${g.value}px`,columnGap:`${r.value}px`};return[k,L,V,t.style]}),y=computed(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return watchEffect(()=>{const{size:k="small",wrap:L,direction:V,fill:z}=t;if(isArray$1(k)){const[j=0,ie=0]=k;r.value=j,g.value=ie}else{let j;isNumber(k)?j=k:j=SIZE_MAP[k||"small"]||SIZE_MAP.small,(L||z)&&V==="horizontal"?r.value=g.value=j:V==="horizontal"?(r.value=j,g.value=0):(g.value=j,r.value=0)}}),{classes:n,containerStyle:$,itemStyle:y}}const spaceProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:definePropType([String,Object,Array]),default:""},style:{type:definePropType([String,Array,Object]),default:""},alignment:{type:definePropType(String),default:"center"},prefixCls:{type:String},spacer:{type:definePropType([Object,String,Number,Array]),default:null,validator:t=>isVNode$1(t)||isNumber(t)||isString$1(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:componentSizes,validator:t=>isNumber(t)||isArray$1(t)&&t.length===2&&t.every(isNumber)}}),Space=defineComponent({name:"ElSpace",props:spaceProps,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:g}=useSpace(t);function $(y,k="",L=[]){const{prefixCls:V}=t;return y.forEach((z,j)=>{isFragment(z)?isArray$1(z.children)&&z.children.forEach((ie,Oe)=>{isFragment(ie)&&isArray$1(ie.children)?$(ie.children,`${k+Oe}-`,L):isVNode$1(ie)&&(ie==null?void 0:ie.type)===Comment?L.push(ie):L.push(createVNode(SpaceItem,{style:g.value,prefixCls:V,key:`nested-${k+Oe}`},{default:()=>[ie]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}):isValidElementNode(z)&&L.push(createVNode(SpaceItem,{style:g.value,prefixCls:V,key:`LoopKey${k+j}`},{default:()=>[z]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}),L}return()=>{var y;const{spacer:k,direction:L}=t,V=renderSlot(e,"default",{key:0},()=>[]);if(((y=V.children)!=null?y:[]).length===0)return null;if(isArray$1(V.children)){let z=$(V.children);if(k){const j=z.length-1;z=z.reduce((ie,Oe,ur)=>{const hr=[...ie,Oe];return ur!==j&&hr.push(createVNode("span",{style:[g.value,L==="vertical"?"width: 100%":null],key:ur},[isVNode$1(k)?k:createTextVNode(k,PatchFlags.TEXT)],PatchFlags.STYLE)),hr},[])}return createVNode("div",{class:n.value,style:r.value},z,PatchFlags.STYLE|PatchFlags.CLASS)}return V.children}}}),ElSpace=withInstall(Space),statisticProps=buildProps({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:definePropType([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:definePropType([String,Object,Array])}}),_sfc_main$F=defineComponent({name:"ElStatistic",__name:"statistic",props:statisticProps,setup(t,{expose:e}){const n=t,r=useNamespace("statistic"),g=computed(()=>{const{value:$,formatter:y,precision:k,decimalSeparator:L,groupSeparator:V}=n;if(isFunction$1(y))return y($);if(!isNumber($)||Number.isNaN($))return $;let[z,j=""]=String($).split(".");return j=j.padEnd(k,"0").slice(0,k>0?k:0),z=z.replace(/\B(?=(\d{3})+(?!\d))/g,V),[z,j].join(j?L:"")});return e({displayValue:g}),($,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[$.$slots.title||$.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("head"))},[renderSlot($.$slots,"title",{},()=>[createTextVNode(toDisplayString$1($.title),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("content"))},[$.$slots.prefix||$.prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("prefix"))},[renderSlot($.$slots,"prefix",{},()=>[createBaseVNode("span",null,toDisplayString$1($.prefix),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(unref(r).e("number")),style:normalizeStyle($.valueStyle)},toDisplayString$1(g.value),7),$.$slots.suffix||$.suffix?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("suffix"))},[renderSlot($.$slots,"suffix",{},()=>[createBaseVNode("span",null,toDisplayString$1($.suffix),1)])],2)):createCommentVNode("v-if",!0)],2)],2))}});var Statistic=_export_sfc$1(_sfc_main$F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const ElStatistic=withInstall(Statistic),countdownProps=buildProps({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:definePropType([Number,Object]),default:0},valueStyle:{type:definePropType([String,Object,Array])}}),countdownEmits={finish:()=>!0,[CHANGE_EVENT]:t=>isNumber(t)},timeUnits=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],getTime=t=>isNumber(t)?new Date(t).getTime():t.valueOf(),formatTime$1=(t,e)=>{let n=t;const r=/\[([^\]]*)]/g;return timeUnits.reduce(($,[y,k])=>{const L=new RegExp(`${y}+(?![^\\[\\]]*\\])`,"g");if(L.test($)){const V=Math.floor(n/k);return n-=V*k,$.replace(L,z=>String(V).padStart(z.length,"0"))}return $},e).replace(r,"$1")},_sfc_main$E=defineComponent({name:"ElCountdown",__name:"countdown",props:countdownProps,emits:countdownEmits,setup(t,{expose:e,emit:n}){const r=t,g=n;let $;const y=ref(0),k=computed(()=>formatTime$1(y.value,r.format)),L=j=>formatTime$1(j,r.format),V=()=>{$&&(cAF($),$=void 0)},z=()=>{const j=getTime(r.value),ie=()=>{let Oe=j-Date.now();g(CHANGE_EVENT,Oe),Oe<=0?(Oe=0,V(),g("finish")):$=rAF(ie),y.value=Oe};$=rAF(ie)};return onMounted(()=>{y.value=getTime(r.value)-Date.now(),watch(()=>[r.value,r.format],()=>{V(),z()},{immediate:!0})}),onBeforeUnmount(()=>{V()}),e({displayValue:k}),(j,ie)=>(openBlock(),createBlock(unref(ElStatistic),{value:y.value,title:j.title,prefix:j.prefix,suffix:j.suffix,"value-style":j.valueStyle,formatter:L},createSlots({_:2},[renderList(j.$slots,(Oe,ur)=>({name:ur,fn:withCtx(()=>[renderSlot(j.$slots,ur)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Countdown=_export_sfc$1(_sfc_main$E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const ElCountdown=withInstall(Countdown),stepsProps=buildProps({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),stepsEmits={[CHANGE_EVENT]:(t,e)=>[t,e].every(isNumber)},STEPS_INJECTION_KEY="ElSteps",_sfc_main$D=defineComponent({name:"ElSteps",__name:"steps",props:stepsProps,emits:stepsEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("steps"),{children:$,addChild:y,removeChild:k,ChildrenSorter:L}=useOrderedChildren(getCurrentInstance(),"ElStep");return watch($,()=>{$.value.forEach((V,z)=>{V.setIndex(z)})}),provide(STEPS_INJECTION_KEY,{props:n,steps:$,addStep:y,removeStep:k}),watch(()=>n.active,(V,z)=>{r(CHANGE_EVENT,V,z)}),(V,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(V.simple?"simple":V.direction)])},[renderSlot(V.$slots,"default"),createVNode(unref(L))],2))}});var Steps=_export_sfc$1(_sfc_main$D,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const stepProps=buildProps({title:{type:String,default:""},icon:{type:iconPropType},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),_sfc_main$C=defineComponent({name:"ElStep",__name:"item",props:stepProps,setup(t){const e=t,n=useNamespace("step"),r=ref(-1),g=ref({}),$=ref(""),y=inject(STEPS_INJECTION_KEY),k=getCurrentInstance();let L=0,V=0;onMounted(()=>{watch([()=>y.props.active,()=>y.props.processStatus,()=>y.props.finishStatus],([qm],[Xm])=>{V=Xm||0,L=qm-V,ic(qm)},{immediate:!0})});const z=computed(()=>e.status||$.value),j=computed(()=>{const qm=y.steps.value[r.value-1];return qm?qm.internalStatus.value:"wait"}),ie=computed(()=>y.props.alignCenter),Oe=computed(()=>y.props.direction==="vertical"),ur=computed(()=>y.props.simple),hr=computed(()=>y.steps.value.length),Vr=computed(()=>{var qm;return((qm=y.steps.value[hr.value-1])==null?void 0:qm.uid)===k.uid}),dr=computed(()=>ur.value?"":y.props.space),ec=computed(()=>[n.b(),n.is(ur.value?"simple":y.props.direction),n.is("flex",Vr.value&&!dr.value&&!ie.value),n.is("center",ie.value&&!Oe.value&&!ur.value)]),tc=computed(()=>{const qm={flexBasis:isNumber(dr.value)?`${dr.value}px`:dr.value?dr.value:`${100/(hr.value-(ie.value?0:1))}%`};return Oe.value||Vr.value&&(qm.maxWidth=`${100/hr.value}%`),qm}),Xs=qm=>{r.value=qm},rc=qm=>{const Xm=qm==="wait",tv={transitionDelay:`${Math.abs(L)===1?0:L>0?(r.value+1-V)*150:-(r.value+1-y.props.active)*150}ms`},nv=qm===y.props.processStatus||Xm?0:100;tv.borderWidth=nv&&!ur.value?"1px":0,tv[y.props.direction==="vertical"?"height":"width"]=`${nv}%`,g.value=tv},ic=qm=>{qm>r.value?$.value=y.props.finishStatus:qm===r.value&&j.value!=="error"?$.value=y.props.processStatus:$.value="wait";const Xm=y.steps.value[r.value-1];Xm&&Xm.calcProgress($.value)},_c={uid:k.uid,getVnode:()=>k.vnode,currentStatus:z,internalStatus:$,setIndex:Xs,calcProgress:rc};return y.addStep(_c),onBeforeUnmount(()=>{y.removeStep(_c)}),(qm,Xm)=>(openBlock(),createElementBlock("div",{style:normalizeStyle(tc.value),class:normalizeClass(ec.value)},[createCommentVNode(" icon & line "),createBaseVNode("div",{class:normalizeClass([unref(n).e("head"),unref(n).is(z.value)])},[ur.value?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("line"))},[createBaseVNode("i",{class:normalizeClass(unref(n).e("line-inner")),style:normalizeStyle(g.value)},null,6)],2)),createBaseVNode("div",{class:normalizeClass([unref(n).e("icon"),unref(n).is(qm.icon||qm.$slots.icon?"icon":"text")])},[renderSlot(qm.$slots,"icon",{},()=>[qm.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(n).e("icon-inner"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(qm.icon)))]),_:1},8,["class"])):z.value==="success"?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(n).e("icon-inner"),unref(n).is("status")])},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):z.value==="error"?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(n).e("icon-inner"),unref(n).is("status")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"])):ur.value?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(unref(n).e("icon-inner"))},toDisplayString$1(r.value+1),3))])],2)],2),createCommentVNode(" title & description "),createBaseVNode("div",{class:normalizeClass(unref(n).e("main"))},[createBaseVNode("div",{class:normalizeClass([unref(n).e("title"),unref(n).is(z.value)])},[renderSlot(qm.$slots,"title",{},()=>[createTextVNode(toDisplayString$1(qm.title),1)])],2),ur.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("arrow"))},null,2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("description"),unref(n).is(z.value)])},[renderSlot(qm.$slots,"description",{},()=>[createTextVNode(toDisplayString$1(qm.description),1)])],2))],2)],6))}});var Step=_export_sfc$1(_sfc_main$C,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const ElSteps=withInstall(Steps,{Step}),ElStep=withNoopInstall(Step),isValidComponentSize=t=>["",...componentSizes].includes(t),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},...useAriaProps(["ariaLabel"])}),switchEmits={[UPDATE_MODEL_EVENT]:t=>isBoolean(t)||isString$1(t)||isNumber(t),[CHANGE_EVENT]:t=>isBoolean(t)||isString$1(t)||isNumber(t),[INPUT_EVENT]:t=>isBoolean(t)||isString$1(t)||isNumber(t)},_hoisted_1$j=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],_hoisted_2$b=["aria-hidden"],_hoisted_3$4={key:1},_hoisted_4$3={key:1},_hoisted_5$1=["aria-hidden"],COMPONENT_NAME$9="ElSwitch",_sfc_main$B=defineComponent({name:COMPONENT_NAME$9,__name:"switch",props:switchProps,emits:switchEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,{formItem:$}=useFormItem(),y=useFormSize(),k=useNamespace("switch"),{inputId:L}=useFormItemInputId(r,{formItemContext:$}),V=useFormDisabled(computed(()=>{if(r.loading)return!0})),z=ref(r.modelValue!==!1),j=shallowRef(),ie=computed(()=>[k.b(),k.m(y.value),k.is("disabled",V.value),k.is("checked",dr.value)]),Oe=computed(()=>[k.e("label"),k.em("label","left"),k.is("active",!dr.value)]),ur=computed(()=>[k.e("label"),k.em("label","right"),k.is("active",dr.value)]),hr=computed(()=>({width:addUnit(r.width)}));watch(()=>r.modelValue,()=>{z.value=!0});const Vr=computed(()=>z.value?r.modelValue:!1),dr=computed(()=>Vr.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(Vr.value)||(g(UPDATE_MODEL_EVENT,r.inactiveValue),g(CHANGE_EVENT,r.inactiveValue),g(INPUT_EVENT,r.inactiveValue)),watch(dr,rc=>{var ic;j.value.checked=rc,r.validateEvent&&((ic=$==null?void 0:$.validate)==null||ic.call($,"change").catch(_c=>void 0))});const ec=()=>{const rc=dr.value?r.inactiveValue:r.activeValue;g(UPDATE_MODEL_EVENT,rc),g(CHANGE_EVENT,rc),g(INPUT_EVENT,rc),nextTick(()=>{j.value.checked=dr.value})},tc=()=>{if(V.value)return;const{beforeChange:rc}=r;if(!rc){ec();return}const ic=rc();[isPromise$1(ic),isBoolean(ic)].includes(!0)||throwError(COMPONENT_NAME$9,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise$1(ic)?ic.then(qm=>{qm&&ec()}).catch(qm=>{}):ic&&ec()},Xs=()=>{var rc,ic;(ic=(rc=j.value)==null?void 0:rc.focus)==null||ic.call(rc)};return onMounted(()=>{j.value.checked=dr.value}),e({focus:Xs,checked:dr}),(rc,ic)=>(openBlock(),createElementBlock("div",{class:normalizeClass(ie.value),onClick:withModifiers(tc,["prevent"])},[createBaseVNode("input",{id:unref(L),ref_key:"input",ref:j,class:normalizeClass(unref(k).e("input")),type:"checkbox",role:"switch","aria-checked":dr.value,"aria-disabled":unref(V),"aria-label":rc.ariaLabel,name:rc.name,"true-value":rc.activeValue,"false-value":rc.inactiveValue,disabled:unref(V),tabindex:rc.tabindex,onChange:ec,onKeydown:withKeys(tc,["enter"])},null,42,_hoisted_1$j),!rc.inlinePrompt&&(rc.inactiveIcon||rc.inactiveText||rc.$slots.inactive)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(Oe.value)},[renderSlot(rc.$slots,"inactive",{},()=>[rc.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(rc.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!rc.inactiveIcon&&rc.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":dr.value},toDisplayString$1(rc.inactiveText),9,_hoisted_2$b)):createCommentVNode("v-if",!0)])],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(unref(k).e("core")),style:normalizeStyle(hr.value)},[rc.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).e("inner"))},[dr.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(k).e("inner-wrapper"))},[renderSlot(rc.$slots,"active",{},()=>[rc.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(rc.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!rc.activeIcon&&rc.activeText?(openBlock(),createElementBlock("span",_hoisted_4$3,toDisplayString$1(rc.activeText),1)):createCommentVNode("v-if",!0)])],2)):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(k).e("inner-wrapper"))},[renderSlot(rc.$slots,"inactive",{},()=>[rc.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(rc.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!rc.inactiveIcon&&rc.inactiveText?(openBlock(),createElementBlock("span",_hoisted_3$4,toDisplayString$1(rc.inactiveText),1)):createCommentVNode("v-if",!0)])],2))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(k).e("action"))},[rc.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(k).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):dr.value?renderSlot(rc.$slots,"active-action",{key:1},()=>[rc.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(rc.activeActionIcon)))]),_:1})):createCommentVNode("v-if",!0)]):dr.value?createCommentVNode("v-if",!0):renderSlot(rc.$slots,"inactive-action",{key:2},()=>[rc.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(rc.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)])],2)],6),!rc.inlinePrompt&&(rc.activeIcon||rc.activeText||rc.$slots.active)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(ur.value)},[renderSlot(rc.$slots,"active",{},()=>[rc.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(rc.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!rc.activeIcon&&rc.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!dr.value},toDisplayString$1(rc.activeText),9,_hoisted_5$1)):createCommentVNode("v-if",!0)])],2)):createCommentVNode("v-if",!0)],2))}});var Switch=_export_sfc$1(_sfc_main$B,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ElSwitch=withInstall(Switch),getCell=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},orderBy=function(t,e,n,r,g){if(!e&&!r&&(!g||isArray$1(g)&&!g.length))return t;isString$1(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const $=r?null:function(k,L){return g?flatMap(castArray$1(g),V=>isString$1(V)?get(k,V):V(k,L,t)):(e!=="$key"&&isObject$2(k)&&"$value"in k&&(k=k.$value),[isObject$2(k)?e?get(k,e):null:k])},y=function(k,L){var V,z,j,ie,Oe,ur;if(r)return r(k.value,L.value);for(let hr=0,Vr=(z=(V=k.key)==null?void 0:V.length)!=null?z:0;hr<Vr;hr++){if(((j=k.key)==null?void 0:j[hr])<((ie=L.key)==null?void 0:ie[hr]))return-1;if(((Oe=k.key)==null?void 0:Oe[hr])>((ur=L.key)==null?void 0:ur[hr]))return 1}return 0};return t.map((k,L)=>({value:k,index:L,key:$?$(k,L):null})).sort((k,L)=>{let V=y(k,L);return V||(V=k.index-L.index),V*+n}).map(k=>k.value)},getColumnById=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},getColumnByKey=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const g=t.columns[r];if(g.columnKey===e){n=g;break}}return n||throwError("ElTable",`No column matching with column-key: ${e}`),n},getColumnByCell=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?getColumnById(t,r[0]):null},getRowIdentity=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(isString$1(e)){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const g of n)r=r[g];return`${r}`}else if(isFunction$1(e))return e.call(null,t);return""},getKeysMap=function(t,e,n=!1,r="children"){const g=t||[],$={};return g.forEach((y,k)=>{if($[getRowIdentity(y,e)]={row:y,index:k},n){const L=y[r];isArray$1(L)&&Object.assign($,getKeysMap(L,e,!0,r))}}),$};function mergeOptions(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(hasOwn$1(e,r)){const g=e[r];isUndefined(g)||(n[r]=g)}return n}function parseWidth(t){return t===""||isUndefined(t)||(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function parseMinWidth(t){return t===""||isUndefined(t)||(t=parseWidth(t),Number.isNaN(t)&&(t=80)),t}function parseHeight(t){return isNumber(t)?t:isString$1(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function compose(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function toggleRowStatus(t,e,n,r,g,$,y){let k=$??0,L=!1;const z=(()=>{if(!y)return t.indexOf(e);const hr=getRowIdentity(e,y);return t.findIndex(Vr=>getRowIdentity(Vr,y)===hr)})(),j=z!==-1,ie=g==null?void 0:g.call(null,e,k),Oe=hr=>{hr==="add"?t.push(e):t.splice(z,1),L=!0},ur=hr=>{let Vr=0;const dr=(r==null?void 0:r.children)&&hr[r.children];return dr&&isArray$1(dr)&&(Vr+=dr.length,dr.forEach(ec=>{Vr+=ur(ec)})),Vr};return(!g||ie)&&(isBoolean(n)?n&&!j?Oe("add"):!n&&j&&Oe("remove"):Oe(j?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&isArray$1(e[r.children])&&e[r.children].forEach(hr=>{const Vr=toggleRowStatus(t,hr,n??!j,r,g,k+1,y);k+=ur(hr)+1,Vr&&(L=Vr)}),L}function walkTreeNode(t,e,n="children",r="hasChildren",g=!1){const $=k=>!(isArray$1(k)&&k.length);function y(k,L,V){e(k,L,V),L.forEach(z=>{if(z[r]&&g){e(z,null,V+1);return}const j=z[n];$(j)||y(z,j,V+1)})}t.forEach(k=>{if(k[r]&&g){e(k,null,0);return}const L=k[n];$(L)||y(k,L,0)})}const getTableOverflowTooltipProps=(t,e,n,r)=>{const g={strategy:"fixed",...t.popperOptions},$=isFunction$1(r==null?void 0:r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:getProp(n,r.property).value}):void 0;return isVNode$1($)?{slotContent:$,content:null,...t,popperOptions:g}:{slotContent:null,content:$??e,...t,popperOptions:g}};let removePopper=null;function createTablePopper(t,e,n,r,g,$){var y;const k=getTableOverflowTooltipProps(t,e,n,r),L={...k,slotContent:void 0};if((removePopper==null?void 0:removePopper.trigger)===g){const ur=(y=removePopper.vm)==null?void 0:y.component;merge(ur==null?void 0:ur.props,L),ur&&k.slotContent&&(ur.slots.content=()=>[k.slotContent]);return}removePopper==null||removePopper();const V=$==null?void 0:$.refs.tableWrapper,z=V==null?void 0:V.dataset.prefix,j=createVNode(ElTooltip,{virtualTriggering:!0,virtualRef:g,appendTo:V,placement:"top",transition:"none",offset:0,hideAfter:0,...L},k.slotContent?{content:()=>k.slotContent}:void 0);j.appContext={...$.appContext,...$};const ie=document.createElement("div");render(j,ie),j.component.exposed.onOpen();const Oe=V==null?void 0:V.querySelector(`.${z}-scrollbar__wrap`);removePopper=()=>{var ur,hr;(hr=(ur=j.component)==null?void 0:ur.exposed)!=null&&hr.onClose&&j.component.exposed.onClose(),render(null,ie);const Vr=removePopper;Oe==null||Oe.removeEventListener("scroll",Vr),Vr.trigger=void 0,Vr.vm=void 0,removePopper=null},removePopper.trigger=g??void 0,removePopper.vm=j,Oe==null||Oe.addEventListener("scroll",removePopper)}function getCurrentColumns(t){return t.children?flatMap(t.children,getCurrentColumns):[t]}function getColSpan(t,e){return t+e.colSpan}const isFixedColumn=(t,e,n,r)=>{let g=0,$=t;const y=n.states.columns.value;if(r){const L=getCurrentColumns(r[t]);g=y.slice(0,y.indexOf(L[0])).reduce(getColSpan,0),$=g+L.reduce(getColSpan,0)-1}else g=t;let k;switch(e){case"left":$<n.states.fixedLeafColumnsLength.value&&(k="left");break;case"right":g>=y.length-n.states.rightFixedLeafColumnsLength.value&&(k="right");break;default:$<n.states.fixedLeafColumnsLength.value?k="left":g>=y.length-n.states.rightFixedLeafColumnsLength.value&&(k="right")}return k?{direction:k,start:g,after:$}:{}},getFixedColumnsClass=(t,e,n,r,g,$=0)=>{const y=[],{direction:k,start:L,after:V}=isFixedColumn(e,n,r,g);if(k){const z=k==="left";y.push(`${t}-fixed-column--${k}`),z&&V+$===r.states.fixedLeafColumnsLength.value-1?y.push("is-last-column"):!z&&L-$===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&y.push("is-first-column")}return y};function getOffset$1(t,e){return t+(isNull(e.realWidth)||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const getFixedColumnOffset=(t,e,n,r)=>{const{direction:g,start:$=0,after:y=0}=isFixedColumn(t,e,n,r);if(!g)return;const k={},L=g==="left",V=n.states.columns.value;return L?k.left=V.slice(0,$).reduce(getOffset$1,0):k.right=V.slice(y+1).reverse().reduce(getOffset$1,0),k},ensurePosition=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function ensureValidVNode(t){return t.some(e=>isVNode$1(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}function useExpand(t){const e=getCurrentInstance(),n=ref(!1),r=ref([]);return{updateExpandRows:()=>{const L=t.data.value||[],V=t.rowKey.value;if(n.value)r.value=L.slice();else if(V){const z=getKeysMap(r.value,V);r.value=L.reduce((j,ie)=>{const Oe=getRowIdentity(ie,V);return z[Oe]&&j.push(ie),j},[])}else r.value=[]},toggleRowExpansion:(L,V)=>{toggleRowStatus(r.value,L,V,void 0,void 0,void 0,t.rowKey.value)&&e.emit("expand-change",L,r.value.slice())},setExpandRowKeys:L=>{e.store.assertRowKey();const V=t.data.value||[],z=t.rowKey.value,j=getKeysMap(V,z);r.value=L.reduce((ie,Oe)=>{const ur=j[Oe];return ur&&ie.push(ur.row),ie},[])},isRowExpanded:L=>{const V=t.rowKey.value;return V?!!getKeysMap(r.value,V)[getRowIdentity(L,V)]:r.value.includes(L)},states:{expandRows:r,defaultExpandAll:n}}}function useCurrent(t){const e=getCurrentInstance(),n=ref(null),r=ref(null),g=V=>{e.store.assertRowKey(),n.value=V,y(V)},$=()=>{n.value=null},y=V=>{var z;const{data:j,rowKey:ie}=t;let Oe=null;ie.value&&(Oe=(z=(unref(j)||[]).find(ur=>getRowIdentity(ur,ie.value)===V))!=null?z:null),r.value=Oe??null,e.emit("current-change",r.value,null)};return{setCurrentRowKey:g,restoreCurrentRowKey:$,setCurrentRowByKey:y,updateCurrentRow:V=>{const z=r.value;if(V&&V!==z){r.value=V,e.emit("current-change",r.value,z);return}!V&&z&&(r.value=null,e.emit("current-change",null,z))},updateCurrentRowData:()=>{const V=t.rowKey.value,z=t.data.value||[],j=r.value;if(j&&!z.includes(j)){if(V){const ie=getRowIdentity(j,V);y(ie)}else r.value=null;isNull(r.value)&&e.emit("current-change",null,j)}else n.value&&(y(n.value),$())},states:{_currentRowKey:n,currentRow:r}}}function useTree$2(t){const e=ref([]),n=ref({}),r=ref(16),g=ref(!1),$=ref({}),y=ref("hasChildren"),k=ref("children"),L=ref(!1),V=getCurrentInstance(),z=computed(()=>{if(!t.rowKey.value)return{};const Xs=t.data.value||[];return ie(Xs)}),j=computed(()=>{const Xs=t.rowKey.value,rc=Object.keys($.value),ic={};return rc.length&&rc.forEach(_c=>{if($.value[_c].length){const qm={children:[]};$.value[_c].forEach(Xm=>{const Km=getRowIdentity(Xm,Xs);qm.children.push(Km),Xm[y.value]&&!ic[Km]&&(ic[Km]={children:[]})}),ic[_c]=qm}}),ic}),ie=Xs=>{const rc=t.rowKey.value,ic={};return walkTreeNode(Xs,(_c,qm,Xm)=>{const Km=getRowIdentity(_c,rc);isArray$1(qm)?ic[Km]={children:qm.map(tv=>getRowIdentity(tv,rc)),level:Xm}:g.value&&(ic[Km]={children:[],lazy:!0,level:Xm})},k.value,y.value,g.value),ic},Oe=(Xs=!1,rc)=>{var ic,_c;rc||(rc=(ic=V.store)==null?void 0:ic.states.defaultExpandAll.value);const qm=z.value,Xm=j.value,Km=Object.keys(qm),tv={};if(Km.length){const nv=unref(n),sv=[],gv=(wv,rv)=>{if(Xs)return e.value?rc||e.value.includes(rv):!!(rc||wv!=null&&wv.expanded);{const Jm=rc||e.value&&e.value.includes(rv);return!!(wv!=null&&wv.expanded||Jm)}};Km.forEach(wv=>{const rv=nv[wv],Jm={...qm[wv]};if(Jm.expanded=gv(rv,wv),Jm.lazy){const{loaded:dv=!1,loading:pv=!1}=rv||{};Jm.loaded=!!dv,Jm.loading=!!pv,sv.push(wv)}tv[wv]=Jm});const Sv=Object.keys(Xm);g.value&&Sv.length&&sv.length&&Sv.forEach(wv=>{var rv;const Jm=nv[wv],dv=Xm[wv].children;if(sv.includes(wv)){if(((rv=tv[wv].children)==null?void 0:rv.length)!==0)throw new Error("[ElTable]children must be an empty array.");tv[wv].children=dv}else{const{loaded:pv=!1,loading:mv=!1}=Jm||{};tv[wv]={lazy:!0,loaded:!!pv,loading:!!mv,expanded:gv(Jm,wv),children:dv,level:void 0}}})}n.value=tv,(_c=V.store)==null||_c.updateTableScrollY()};watch(()=>e.value,()=>{Oe(!0)}),watch(()=>z.value,()=>{Oe()}),watch(()=>j.value,()=>{Oe()});const ur=Xs=>{e.value=Xs,Oe()},hr=Xs=>g.value&&Xs&&"loaded"in Xs&&!Xs.loaded,Vr=(Xs,rc)=>{V.store.assertRowKey();const ic=t.rowKey.value,_c=getRowIdentity(Xs,ic),qm=_c&&n.value[_c];if(_c&&qm&&"expanded"in qm){const Xm=qm.expanded;rc=isUndefined(rc)?!qm.expanded:rc,n.value[_c].expanded=rc,Xm!==rc&&V.emit("expand-change",Xs,rc),rc&&hr(qm)&&ec(Xs,_c,qm),V.store.updateTableScrollY()}},dr=Xs=>{V.store.assertRowKey();const rc=t.rowKey.value,ic=getRowIdentity(Xs,rc),_c=n.value[ic];hr(_c)?ec(Xs,ic,_c):Vr(Xs,void 0)},ec=(Xs,rc,ic)=>{const{load:_c}=V.props;_c&&!n.value[rc].loaded&&(n.value[rc].loading=!0,_c(Xs,ic,qm=>{if(!isArray$1(qm))throw new TypeError("[ElTable] data must be an array");n.value[rc].loading=!1,n.value[rc].loaded=!0,n.value[rc].expanded=!0,qm.length&&($.value[rc]=qm),V.emit("expand-change",Xs,!0)}))};return{loadData:ec,loadOrToggle:dr,toggleTreeExpansion:Vr,updateTreeExpandKeys:ur,updateTreeData:Oe,updateKeyChildren:(Xs,rc)=>{const{lazy:ic,rowKey:_c}=V.props;if(ic){if(!_c)throw new Error("[Table] rowKey is required in updateKeyChild");$.value[Xs]&&($.value[Xs]=rc)}},normalize:ie,states:{expandRowKeys:e,treeData:n,indent:r,lazy:g,lazyTreeNodeMap:$,lazyColumnIdentifier:y,childrenColumnName:k,checkStrictly:L}}}const sortData=(t,e)=>{const n=e.sortingColumn;return!n||isString$1(n.sortable)?t:orderBy(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},doFlattenColumns=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,doFlattenColumns(n.children)):e.push(n)}),e};function useWatcher$1(){var t;const e=getCurrentInstance(),{size:n}=toRefs((t=e.proxy)==null?void 0:t.$props),r=ref(null),g=ref([]),$=ref([]),y=ref(!1),k=ref([]),L=ref([]),V=ref([]),z=ref([]),j=ref([]),ie=ref([]),Oe=ref([]),ur=ref([]),hr=[],Vr=ref(0),dr=ref(0),ec=ref(0),tc=ref(!1),Xs=ref([]),rc=ref(!1),ic=ref(!1),_c=ref(null),qm=ref({}),Xm=ref(null),Km=ref(null),tv=ref(null),nv=ref(null),sv=ref(null),gv=computed(()=>r.value?getKeysMap(Xs.value,r.value):void 0);watch(g,()=>{var I0;e.state&&(Jm(!1),e.props.tableLayout==="auto"&&((I0=e.refs.tableHeaderRef)==null||I0.updateFixedColumnStyle()))},{deep:!0});const Sv=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},wv=I0=>{var M0;(M0=I0.children)==null||M0.forEach(D0=>{D0.fixed=I0.fixed,wv(D0)})},rv=()=>{k.value.forEach(_0=>{wv(_0)}),z.value=k.value.filter(_0=>[!0,"left"].includes(_0.fixed));const I0=k.value.find(_0=>_0.type==="selection");let M0;I0&&I0.fixed!=="right"&&!z.value.includes(I0)&&k.value.indexOf(I0)===0&&z.value.length&&(z.value.unshift(I0),M0=!0),j.value=k.value.filter(_0=>_0.fixed==="right");const D0=k.value.filter(_0=>(M0?_0.type!=="selection":!0)&&!_0.fixed);L.value=Array.from(z.value).concat(D0).concat(j.value);const W0=doFlattenColumns(D0),Zv=doFlattenColumns(z.value),z0=doFlattenColumns(j.value);Vr.value=W0.length,dr.value=Zv.length,ec.value=z0.length,V.value=Array.from(Zv).concat(W0).concat(z0),y.value=z.value.length>0||j.value.length>0},Jm=(I0,M0=!1)=>{I0&&rv(),M0?e.state.doLayout():e.state.debouncedUpdateLayout()},dv=I0=>gv.value?!!gv.value[getRowIdentity(I0,r.value)]:Xs.value.includes(I0),pv=()=>{tc.value=!1;const I0=Xs.value;Xs.value=[],I0.length&&e.emit("selection-change",[])},mv=()=>{var I0,M0;let D0;if(r.value){D0=[];const W0=(M0=(I0=e==null?void 0:e.store)==null?void 0:I0.states)==null?void 0:M0.childrenColumnName.value,Zv=getKeysMap(g.value,r.value,!0,W0);for(const z0 in gv.value)hasOwn$1(gv.value,z0)&&!Zv[z0]&&D0.push(gv.value[z0].row)}else D0=Xs.value.filter(W0=>!g.value.includes(W0));if(D0.length){const W0=Xs.value.filter(Zv=>!D0.includes(Zv));Xs.value=W0,e.emit("selection-change",W0.slice())}},Cv=()=>(Xs.value||[]).slice(),uv=(I0,M0,D0=!0,W0=!1)=>{var Zv,z0,_0,q0;const Rv={children:(z0=(Zv=e==null?void 0:e.store)==null?void 0:Zv.states)==null?void 0:z0.childrenColumnName.value,checkStrictly:(q0=(_0=e==null?void 0:e.store)==null?void 0:_0.states)==null?void 0:q0.checkStrictly.value};if(toggleRowStatus(Xs.value,I0,M0,Rv,W0?void 0:_c.value,g.value.indexOf(I0),r.value)){const Ov=(Xs.value||[]).slice();D0&&e.emit("select",Ov,I0),e.emit("selection-change",Ov)}},yv=()=>{var I0,M0;const D0=ic.value?!tc.value:!(tc.value||Xs.value.length);tc.value=D0;let W0=!1,Zv=0;const z0=(M0=(I0=e==null?void 0:e.store)==null?void 0:I0.states)==null?void 0:M0.rowKey.value,{childrenColumnName:_0}=e.store.states,q0={children:_0.value,checkStrictly:!1};g.value.forEach((Rv,k0)=>{const Ov=k0+Zv;toggleRowStatus(Xs.value,Rv,D0,q0,_c.value,Ov,z0)&&(W0=!0),Zv+=Dv(getRowIdentity(Rv,z0))}),W0&&e.emit("selection-change",Xs.value?Xs.value.slice():[]),e.emit("select-all",(Xs.value||[]).slice())},$v=()=>{var I0;if(((I0=g.value)==null?void 0:I0.length)===0){tc.value=!1;return}const{childrenColumnName:M0}=e.store.states;let D0=0,W0=0;const Zv=_0=>{var q0;for(const Rv of _0){const k0=_c.value&&_c.value.call(null,Rv,D0);if(dv(Rv))W0++;else if(!_c.value||k0)return!1;if(D0++,(q0=Rv[M0.value])!=null&&q0.length&&!Zv(Rv[M0.value]))return!1}return!0},z0=Zv(g.value||[]);tc.value=W0===0?!1:z0},Dv=I0=>{var M0;if(!e||!e.store)return 0;const{treeData:D0}=e.store.states;let W0=0;const Zv=(M0=D0.value[I0])==null?void 0:M0.children;return Zv&&(W0+=Zv.length,Zv.forEach(z0=>{W0+=Dv(z0)})),W0},Hv=(I0,M0)=>{const D0={};return castArray$1(I0).forEach(W0=>{qm.value[W0.id]=M0,D0[W0.columnKey||W0.id]=M0}),D0},Gv=(I0,M0,D0)=>{Km.value&&Km.value!==I0&&(Km.value.order=null),Km.value=I0,tv.value=M0,nv.value=D0},f0=()=>{let I0=unref($);Object.keys(qm.value).forEach(M0=>{const D0=qm.value[M0];if(!D0||D0.length===0)return;const W0=getColumnById({columns:V.value},M0);W0&&W0.filterMethod&&(I0=I0.filter(Zv=>D0.some(z0=>W0.filterMethod.call(null,z0,Zv,W0))))}),Xm.value=I0},qv=()=>{var I0;g.value=sortData((I0=Xm.value)!=null?I0:[],{sortingColumn:Km.value,sortProp:tv.value,sortOrder:nv.value})},Pv=(I0=void 0)=>{I0!=null&&I0.filter||f0(),qv()},Tv=I0=>{const{tableHeaderRef:M0}=e.refs;if(!M0)return;const D0=Object.assign({},M0.filterPanels),W0=Object.keys(D0);if(W0.length)if(isString$1(I0)&&(I0=[I0]),isArray$1(I0)){const Zv=I0.map(z0=>getColumnByKey({columns:V.value},z0));W0.forEach(z0=>{const _0=Zv.find(q0=>q0.id===z0);_0&&(_0.filteredValue=[])}),e.store.commit("filterChange",{column:Zv,values:[],silent:!0,multi:!0})}else W0.forEach(Zv=>{const z0=V.value.find(_0=>_0.id===Zv);z0&&(z0.filteredValue=[])}),qm.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Vv=()=>{Km.value&&(Gv(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Av,toggleRowExpansion:y0,updateExpandRows:av,states:fv,isRowExpanded:lv}=useExpand({data:g,rowKey:r}),{updateTreeExpandKeys:kv,toggleTreeExpansion:Iv,updateTreeData:vv,updateKeyChildren:Ev,loadOrToggle:zv,states:Fv}=useTree$2({data:g,rowKey:r}),{updateCurrentRowData:Yv,updateCurrentRow:g0,setCurrentRowKey:Qv,states:N0}=useCurrent({data:g,rowKey:r});return{assertRowKey:Sv,updateColumns:rv,scheduleLayout:Jm,isSelected:dv,clearSelection:pv,cleanSelection:mv,getSelectionRows:Cv,toggleRowSelection:uv,_toggleAllSelection:yv,toggleAllSelection:null,updateAllSelected:$v,updateFilters:Hv,updateCurrentRow:g0,updateSort:Gv,execFilter:f0,execSort:qv,execQuery:Pv,clearFilter:Tv,clearSort:Vv,toggleRowExpansion:y0,setExpandRowKeysAdapter:I0=>{Av(I0),kv(I0)},setCurrentRowKey:Qv,toggleRowExpansionAdapter:(I0,M0)=>{V.value.some(({type:W0})=>W0==="expand")?y0(I0,M0):Iv(I0,M0)},isRowExpanded:lv,updateExpandRows:av,updateCurrentRowData:Yv,loadOrToggle:zv,updateTreeData:vv,updateKeyChildren:Ev,states:{tableSize:n,rowKey:r,data:g,_data:$,isComplex:y,_columns:k,originColumns:L,columns:V,fixedColumns:z,rightFixedColumns:j,leafColumns:ie,fixedLeafColumns:Oe,rightFixedLeafColumns:ur,updateOrderFns:hr,leafColumnsLength:Vr,fixedLeafColumnsLength:dr,rightFixedLeafColumnsLength:ec,isAllSelected:tc,selection:Xs,reserveSelection:rc,selectOnIndeterminate:ic,selectable:_c,filters:qm,filteredData:Xm,sortingColumn:Km,sortProp:tv,sortOrder:nv,hoverRow:sv,...fv,...Fv,...N0}}}function replaceColumn(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=replaceColumn(n.children,e)),n)})}function sortColumn(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&sortColumn(e.children)}),t.sort((e,n)=>e.no-n.no)}function useStore(){const t=getCurrentInstance(),e=useWatcher$1(),n=useNamespace("table"),{t:r}=useLocale();return{ns:n,t:r,...e,mutations:{setData(k,L){const V=unref(k._data)!==L;k.data.value=L,k._data.value=L,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),unref(k.reserveSelection)?t.store.assertRowKey():V?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(k,L,V,z){var j;const ie=unref(k._columns);let Oe=[];V?(V&&!V.children&&(V.children=[]),(j=V.children)==null||j.push(L),Oe=replaceColumn(ie,V)):(ie.push(L),Oe=ie),sortColumn(Oe),k._columns.value=Oe,k.updateOrderFns.push(z),L.type==="selection"&&(k.selectable.value=L.selectable,k.reserveSelection.value=L.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(k,L){var V;((V=L.getColumnIndex)==null?void 0:V.call(L))!==L.no&&(sortColumn(k._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(k,L,V,z){var j;const ie=unref(k._columns)||[];if(V)(j=V.children)==null||j.splice(V.children.findIndex(ur=>ur.id===L.id),1),nextTick(()=>{var ur;((ur=V.children)==null?void 0:ur.length)===0&&delete V.children}),k._columns.value=replaceColumn(ie,V);else{const ur=ie.indexOf(L);ur>-1&&(ie.splice(ur,1),k._columns.value=ie)}const Oe=k.updateOrderFns.indexOf(z);Oe>-1&&k.updateOrderFns.splice(Oe,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(k,L){const{prop:V,order:z,init:j}=L;if(V){const ie=unref(k.columns).find(Oe=>Oe.property===V);ie&&(ie.order=z,t.store.updateSort(ie,V,z),t.store.commit("changeSortCondition",{init:j}))}},changeSortCondition(k,L){const{sortingColumn:V,sortProp:z,sortOrder:j}=k,ie=unref(V),Oe=unref(z),ur=unref(j);isNull(ur)&&(k.sortingColumn.value=null,k.sortProp.value=null);const hr={filter:!0};t.store.execQuery(hr),(!L||!(L.silent||L.init))&&t.emit("sort-change",{column:ie,prop:Oe,order:ur}),t.store.updateTableScrollY()},filterChange(k,L){const{column:V,values:z,silent:j}=L,ie=t.store.updateFilters(V,z);t.store.execQuery(),j||t.emit("filter-change",ie),t.store.updateTableScrollY()},toggleAllSelection(){var k,L;(L=(k=t.store).toggleAllSelection)==null||L.call(k)},rowSelectedChanged(k,L){t.store.toggleRowSelection(L),t.store.updateAllSelected()},setHoverRow(k,L){k.hoverRow.value=L},setCurrentRow(k,L){t.store.updateCurrentRow(L)}},commit:function(k,...L){const V=t.store.mutations;if(V[k])V[k].apply(t,[t.store.states,...L]);else throw new Error(`Action not found: ${k}`)},updateTableScrollY:function(){nextTick(()=>t.layout.updateScrollY.apply(t.layout))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function createStore(t,e){if(!t)throw new Error("Table is required.");const n=useStore();return n.toggleAllSelection=debounce(n._toggleAllSelection,10),Object.keys(InitialStateMap).forEach(r=>{handleValue(getArrKeysValue(e,r),r,n)}),proxyTableProps(n,e),n}function proxyTableProps(t,e){Object.keys(InitialStateMap).forEach(n=>{watch(()=>getArrKeysValue(e,n),r=>{handleValue(r,n,t)})})}function handleValue(t,e,n){let r=t,g=InitialStateMap[e];isObject$2(g)&&(r=r||g.default,g=g.key),n.states[g].value=r}function getArrKeysValue(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(g=>{r=r[g]}),r}else return t[e]}class TableLayout{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref(null),this.scrollX=ref(!1),this.scrollY=ref(!1),this.bodyWidth=ref(null),this.fixedWidth=ref(null),this.rightFixedWidth=ref(null),this.gutterWidth=0;for(const n in e)hasOwn$1(e,n)&&(isRef(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const e=this.height.value;if(isNull(e))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const g=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,g!==r}return!1}setHeight(e,n="height"){if(!isClient)return;const r=this.table.vnode.el;if(e=parseHeight(e),this.height.value=Number(e),!r&&(e||e===0)){nextTick(()=>this.setHeight(e,n));return}r&&isNumber(e)?(r.style[n]=`${e}px`,this.updateElsHeight()):r&&isString$1(e)&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){var e;if(!isClient)return;const n=this.fit,r=(e=this.table.vnode.el)==null?void 0:e.clientWidth;let g=0;const $=this.getFlattenColumns(),y=$.filter(V=>!isNumber(V.width));if($.forEach(V=>{isNumber(V.width)&&V.realWidth&&(V.realWidth=null)}),y.length>0&&n){if($.forEach(V=>{g+=Number(V.width||V.minWidth||80)}),g<=r){this.scrollX.value=!1;const V=r-g;if(y.length===1)y[0].realWidth=Number(y[0].minWidth||80)+V;else{const z=y.reduce((Oe,ur)=>Oe+Number(ur.minWidth||80),0),j=V/z;let ie=0;y.forEach((Oe,ur)=>{if(ur===0)return;const hr=Math.floor(Number(Oe.minWidth||80)*j);ie+=hr,Oe.realWidth=Number(Oe.minWidth||80)+hr}),y[0].realWidth=Number(y[0].minWidth||80)+V-ie}}else this.scrollX.value=!0,y.forEach(V=>{V.realWidth=Number(V.minWidth)});this.bodyWidth.value=Math.max(g,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else $.forEach(V=>{!V.width&&!V.minWidth?V.realWidth=80:V.realWidth=Number(V.width||V.minWidth),g+=V.realWidth}),this.scrollX.value=g>r,this.bodyWidth.value=g;const k=this.store.states.fixedColumns.value;if(k.length>0){let V=0;k.forEach(z=>{V+=Number(z.realWidth||z.width)}),this.fixedWidth.value=V}const L=this.store.states.rightFixedColumns.value;if(L.length>0){let V=0;L.forEach(z=>{V+=Number(z.realWidth||z.width)}),this.rightFixedWidth.value=V}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var g,$;switch(e){case"columns":(g=r.state)==null||g.onColumnsChange(this);break;case"scrollable":($=r.state)==null||$.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const _sfc_main$A=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox,ElCheckboxGroup,ElScrollbar,ElTooltip,ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:useTooltipContentProps.appendTo},setup(t){const e=getCurrentInstance(),{t:n}=useLocale(),r=useNamespace("table-filter"),g=e==null?void 0:e.parent;t.column&&!g.filterPanels.value[t.column.id]&&(g.filterPanels.value[t.column.id]=e);const $=ref(null),y=ref(null),k=ref(0),L=computed(()=>t.column&&t.column.filters),V=computed(()=>t.column&&t.column.filterClassName?`${r.b()} ${t.column.filterClassName}`:r.b()),z=computed({get:()=>{var _c;return(((_c=t.column)==null?void 0:_c.filteredValue)||[])[0]},set:_c=>{j.value&&(isPropAbsent(_c)?j.value.splice(0,1):j.value.splice(0,1,_c))}}),j=computed({get(){return t.column?t.column.filteredValue||[]:[]},set(_c){var qm;t.column&&((qm=t.upDataColumn)==null||qm.call(t,"filteredValue",_c))}}),ie=computed(()=>t.column?t.column.filterMultiple:!0),Oe=_c=>_c.value===z.value,ur=()=>{var _c;(_c=$.value)==null||_c.onClose()},hr=()=>{ec(j.value),ur()},Vr=()=>{j.value=[],ec(j.value),ur()},dr=(_c,qm)=>{z.value=_c,k.value=qm,isPropAbsent(_c)?ec([]):ec(j.value),ur()},ec=_c=>{var qm,Xm;(qm=t.store)==null||qm.commit("filterChange",{column:t.column,values:_c}),(Xm=t.store)==null||Xm.updateAllSelected()},tc=()=>{var _c,qm;(_c=y.value)==null||_c.focus(),!ie.value&&rc(),t.column&&((qm=t.upDataColumn)==null||qm.call(t,"filterOpened",!0))},Xs=()=>{var _c;t.column&&((_c=t.upDataColumn)==null||_c.call(t,"filterOpened",!1))},rc=()=>{if(isPropAbsent(z)){k.value=0;return}const _c=(L.value||[]).findIndex(qm=>qm.value===z.value);k.value=_c>=0?_c+1:0};return{multiple:ie,filterClassName:V,filteredValue:j,filterValue:z,filters:L,handleConfirm:hr,handleReset:Vr,handleSelect:dr,isPropAbsent,isActive:Oe,t:n,ns:r,tooltipRef:$,rootRef:y,checkedIndex:k,handleShowTooltip:tc,handleHideTooltip:Xs,handleKeydown:_c=>{var qm,Xm;const Km=getEventCode(_c),tv=(L.value?L.value.length:0)+1;let nv=k.value,sv=!0;switch(Km){case EVENT_CODE.down:case EVENT_CODE.right:nv=(nv+1)%tv;break;case EVENT_CODE.up:case EVENT_CODE.left:nv=(nv-1+tv)%tv;break;case EVENT_CODE.tab:ur(),sv=!1;break;case EVENT_CODE.enter:case EVENT_CODE.space:if(nv===0)dr(null,0);else{const gv=(L.value||[])[nv-1];gv.value&&dr(gv.value,nv)}break;default:sv=!1;break}sv&&_c.preventDefault(),k.value=nv,(Xm=(qm=y.value)==null?void 0:qm.querySelector(`.${r.e("list-item")}:nth-child(${nv+1})`))==null||Xm.focus()}}}}),_hoisted_1$i=["disabled"],_hoisted_2$a=["tabindex","aria-checked"],_hoisted_3$3=["tabindex","aria-checked","onClick"],_hoisted_4$2=["aria-label"];function _sfc_render$5(t,e,n,r,g,$){const y=resolveComponent("el-checkbox"),k=resolveComponent("el-checkbox-group"),L=resolveComponent("el-scrollbar"),V=resolveComponent("arrow-up"),z=resolveComponent("arrow-down"),j=resolveComponent("el-icon"),ie=resolveComponent("el-tooltip");return openBlock(),createBlock(ie,{ref:"tooltipRef",offset:0,placement:t.placement,"show-arrow":!1,trigger:"click",role:"dialog",teleported:"",effect:"light",pure:"",loop:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo,onShow:t.handleShowTooltip,onHide:t.handleHideTooltip},{content:withCtx(()=>[t.multiple?(openBlock(),createElementBlock("div",{key:0,ref:"rootRef",tabindex:"-1",class:normalizeClass(t.ns.e("multiple"))},[createBaseVNode("div",{class:normalizeClass(t.ns.e("content"))},[createVNode(L,{"wrap-class":t.ns.e("wrap")},{default:withCtx(()=>[createVNode(k,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=Oe=>t.filteredValue=Oe),class:normalizeClass(t.ns.e("checkbox-group"))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filters,Oe=>(openBlock(),createBlock(y,{key:Oe.value,value:Oe.value},{default:withCtx(()=>[createTextVNode(toDisplayString$1(Oe.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(t.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass(t.ns.is("disabled",t.filteredValue.length===0)),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...Oe)=>t.handleConfirm&&t.handleConfirm(...Oe))},toDisplayString$1(t.t("el.table.confirmFilter")),11,_hoisted_1$i),createBaseVNode("button",{type:"button",onClick:e[2]||(e[2]=(...Oe)=>t.handleReset&&t.handleReset(...Oe))},toDisplayString$1(t.t("el.table.resetFilter")),1)],2)],2)):(openBlock(),createElementBlock("ul",{key:1,ref:"rootRef",tabindex:"-1",role:"radiogroup",class:normalizeClass(t.ns.e("list")),onKeydown:e[4]||(e[4]=(...Oe)=>t.handleKeydown&&t.handleKeydown(...Oe))},[createBaseVNode("li",{role:"radio",class:normalizeClass([t.ns.e("list-item"),t.ns.is("active",t.isPropAbsent(t.filterValue))]),tabindex:t.checkedIndex===0?0:-1,"aria-checked":t.isPropAbsent(t.filterValue),onClick:e[3]||(e[3]=Oe=>t.handleSelect(null,0))},toDisplayString$1(t.t("el.table.clearFilter")),11,_hoisted_2$a),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filters,(Oe,ur)=>(openBlock(),createElementBlock("li",{key:Oe.value,role:"radio",class:normalizeClass([t.ns.e("list-item"),t.ns.is("active",t.isActive(Oe))]),tabindex:t.checkedIndex===ur+1?0:-1,"aria-checked":t.isActive(Oe),onClick:hr=>t.handleSelect(Oe.value,ur+1)},toDisplayString$1(Oe.text),11,_hoisted_3$3))),128))],34))]),default:withCtx(()=>{var Oe;return[createBaseVNode("button",{type:"button",class:normalizeClass(`${t.ns.namespace.value}-table__column-filter-trigger`),"aria-label":t.t("el.table.filterLabel",{column:((Oe=t.column)==null?void 0:Oe.label)||""})},[createVNode(j,null,{default:withCtx(()=>[renderSlot(t.$slots,"filter-icon",{},()=>{var ur;return[(ur=t.column)!=null&&ur.filterOpened?(openBlock(),createBlock(V,{key:0})):(openBlock(),createBlock(z,{key:1}))]})]),_:3})],10,_hoisted_4$2)]}),_:3},8,["placement","popper-class","append-to","onShow","onHide"])}var FilterPanel=_export_sfc$1(_sfc_main$A,[["render",_sfc_render$5],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function useLayoutObserver(t){const e=getCurrentInstance();onBeforeMount(()=>{n.value.addObserver(e)}),onMounted(()=>{r(n.value),g(n.value)}),onUpdated(()=>{r(n.value),g(n.value)}),onUnmounted(()=>{n.value.removeObserver(e)});const n=computed(()=>{const $=t.layout;if(!$)throw new Error("Can not find table layout.");return $}),r=$=>{var y;const k=((y=t.vnode.el)==null?void 0:y.querySelectorAll("colgroup > col"))||[];if(!k.length)return;const L=$.getFlattenColumns(),V={};L.forEach(z=>{V[z.id]=z});for(let z=0,j=k.length;z<j;z++){const ie=k[z],Oe=ie.getAttribute("name"),ur=V[Oe];ur&&ie.setAttribute("width",ur.realWidth||ur.width)}},g=$=>{var y,k;const L=((y=t.vnode.el)==null?void 0:y.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let z=0,j=L.length;z<j;z++)L[z].setAttribute("width",$.scrollY.value?$.gutterWidth:"0");const V=((k=t.vnode.el)==null?void 0:k.querySelectorAll("th.gutter"))||[];for(let z=0,j=V.length;z<j;z++){const ie=V[z];ie.style.width=$.scrollY.value?`${$.gutterWidth}px`:"0",ie.style.display=$.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:g}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(t,e){const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),g=hr=>{hr.stopPropagation()},$=(hr,Vr)=>{!Vr.filters&&Vr.sortable?ur(hr,Vr,!1):Vr.filterable&&!Vr.sortable&&g(hr),r==null||r.emit("header-click",Vr,hr)},y=(hr,Vr)=>{r==null||r.emit("header-contextmenu",Vr,hr)},k=ref(null),L=ref(!1),V=ref(),z=(hr,Vr)=>{var dr,ec;if(isClient&&!(Vr.children&&Vr.children.length>0)&&k.value&&t.border&&k.value.id===Vr.id){L.value=!0;const tc=r;e("set-drag-visible",!0);const Xs=tc==null?void 0:tc.vnode.el,rc=Xs==null?void 0:Xs.getBoundingClientRect().left,ic=(ec=(dr=n==null?void 0:n.vnode)==null?void 0:dr.el)==null?void 0:ec.querySelector(`th.${Vr.id}`),_c=ic.getBoundingClientRect(),qm=_c.left-rc+30;addClass(ic,"noclick"),V.value={startMouseLeft:hr.clientX,startLeft:_c.right-rc,startColumnLeft:_c.left-rc,tableLeft:rc};const Xm=tc==null?void 0:tc.refs.resizeProxy;Xm.style.left=`${V.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const Km=nv=>{const sv=nv.clientX-V.value.startMouseLeft,gv=V.value.startLeft+sv;Xm.style.left=`${Math.max(qm,gv)}px`},tv=()=>{if(L.value){const{startColumnLeft:nv,startLeft:sv}=V.value,Sv=Number.parseInt(Xm.style.left,10)-nv;Vr.width=Vr.realWidth=Sv,tc==null||tc.emit("header-dragend",Vr.width,sv-nv,Vr,hr),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",L.value=!1,k.value=null,V.value=void 0,e("set-drag-visible",!1)}document.removeEventListener("mousemove",Km),document.removeEventListener("mouseup",tv),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{removeClass(ic,"noclick")},0)};document.addEventListener("mousemove",Km),document.addEventListener("mouseup",tv)}},j=(hr,Vr)=>{var dr;if(!t.border||Vr.children&&Vr.children.length>0)return;const ec=hr.target,tc=isElement$1(ec)?ec.closest("th"):null;if(!tc)return;const Xs=hasClass(tc,"is-sortable");if(Xs){const Km=L.value?"col-resize":"";tc.style.cursor=Km;const tv=tc.querySelector(".caret-wrapper");tv&&(tv.style.cursor=Km)}if(!Vr.resizable||L.value){k.value=null;return}const rc=tc.getBoundingClientRect(),ic=((dr=tc.parentNode)==null?void 0:dr.lastElementChild)===tc,_c=t.allowDragLastColumn||!ic,qm=rc.width>12&&rc.right-hr.clientX<8&&_c,Xm=qm?"col-resize":"";document.body.style.cursor=Xm,k.value=qm?Vr:null,Xs&&(tc.style.cursor=Xm)},ie=()=>{!isClient||L.value||(document.body.style.cursor="")},Oe=({order:hr,sortOrders:Vr})=>{if(hr==="")return Vr[0];const dr=Vr.indexOf(hr||null);return Vr[dr>Vr.length-2?0:dr+1]},ur=(hr,Vr,dr)=>{var ec;hr.stopPropagation();const tc=Vr.order===dr?null:dr||Oe(Vr),Xs=(ec=hr.target)==null?void 0:ec.closest("th");if(Xs&&hasClass(Xs,"noclick")){removeClass(Xs,"noclick");return}if(!Vr.sortable)return;const rc=hr.currentTarget;if(["ascending","descending"].some(Km=>hasClass(rc,Km)&&!Vr.sortOrders.includes(Km)))return;const ic=t.store.states;let _c=ic.sortProp.value,qm;const Xm=ic.sortingColumn.value;(Xm!==Vr||Xm===Vr&&isNull(Xm.order))&&(Xm&&(Xm.order=null),ic.sortingColumn.value=Vr,_c=Vr.property),tc?qm=Vr.order=tc:qm=Vr.order=null,ic.sortProp.value=_c,ic.sortOrder.value=qm,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:$,handleHeaderContextMenu:y,handleMouseDown:z,handleMouseMove:j,handleMouseOut:ie,handleSortClick:ur,handleFilterClick:g}}function useStyle$2(t){const e=inject(TABLE_INJECTION_KEY),n=useNamespace("table");return{getHeaderRowStyle:k=>{const L=e==null?void 0:e.props.headerRowStyle;return isFunction$1(L)?L.call(null,{rowIndex:k}):L},getHeaderRowClass:k=>{const L=[],V=e==null?void 0:e.props.headerRowClassName;return isString$1(V)?L.push(V):isFunction$1(V)&&L.push(V.call(null,{rowIndex:k})),L.join(" ")},getHeaderCellStyle:(k,L,V,z)=>{var j;let ie=(j=e==null?void 0:e.props.headerCellStyle)!=null?j:{};isFunction$1(ie)&&(ie=ie.call(null,{rowIndex:k,columnIndex:L,row:V,column:z}));const Oe=getFixedColumnOffset(L,z.fixed,t.store,V);return ensurePosition(Oe,"left"),ensurePosition(Oe,"right"),Object.assign({},ie,Oe)},getHeaderCellClass:(k,L,V,z)=>{const j=getFixedColumnsClass(n.b(),L,z.fixed,t.store,V),ie=[z.id,z.order,z.headerAlign,z.className,z.labelClassName,...j];z.children||ie.push("is-leaf"),z.sortable&&ie.push("is-sortable");const Oe=e==null?void 0:e.props.headerCellClassName;return isString$1(Oe)?ie.push(Oe):isFunction$1(Oe)&&ie.push(Oe.call(null,{rowIndex:k,columnIndex:L,row:V,column:z})),ie.push(n.e("cell")),ie.filter(ur=>!!ur).join(" ")}}}const getAllColumns=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,getAllColumns(n.children))):e.push(n)}),e},convertToRows=t=>{let e=1;const n=($,y)=>{if(y&&($.level=y.level+1,e<$.level&&(e=$.level)),$.children){let k=0;$.children.forEach(L=>{n(L,$),k+=L.colSpan}),$.colSpan=k}else $.colSpan=1};t.forEach($=>{$.level=1,n($,void 0)});const r=[];for(let $=0;$<e;$++)r.push([]);return getAllColumns(t).forEach($=>{$.children?($.rowSpan=1,$.children.forEach(y=>y.isSubColumn=!0)):$.rowSpan=e-$.level+1,r[$.level-1].push($)}),r};function useUtils$1(t){const e=inject(TABLE_INJECTION_KEY),n=computed(()=>convertToRows(t.store.states.originColumns.value));return{isGroup:computed(()=>{const $=n.value.length>1;return $&&e&&(e.state.isGroup.value=!0),$}),toggleAllSelection:$=>{$.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(t,{emit:e}){const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),g=useNamespace("table"),$=ref({}),{onColumnsChange:y,onScrollableChange:k}=useLayoutObserver(r),L=(r==null?void 0:r.props.tableLayout)==="auto",V=reactive(new Map),z=ref();let j;const ie=()=>{j=setTimeout(()=>{V.size>0&&(V.forEach((nv,sv)=>{const gv=z.value.querySelector(`.${sv.replace(/\s/g,".")}`);if(gv){const Sv=gv.getBoundingClientRect().width;nv.width=Sv||nv.width}}),V.clear())})};watch(V,ie),onBeforeUnmount(()=>{j&&(clearTimeout(j),j=void 0)}),onMounted(async()=>{await nextTick(),await nextTick();const{prop:nv,order:sv}=t.defaultSort;r==null||r.store.commit("sort",{prop:nv,order:sv,init:!0}),ie()});const{handleHeaderClick:Oe,handleHeaderContextMenu:ur,handleMouseDown:hr,handleMouseMove:Vr,handleMouseOut:dr,handleSortClick:ec,handleFilterClick:tc}=useEvent(t,e),{getHeaderRowStyle:Xs,getHeaderRowClass:rc,getHeaderCellStyle:ic,getHeaderCellClass:_c}=useStyle$2(t),{isGroup:qm,toggleAllSelection:Xm,columnRows:Km}=useUtils$1(t),{t:tv}=useLocale();return n.state={onColumnsChange:y,onScrollableChange:k},n.filterPanels=$,{ns:g,t:tv,filterPanels:$,onColumnsChange:y,onScrollableChange:k,columnRows:Km,getHeaderRowClass:rc,getHeaderRowStyle:Xs,getHeaderCellClass:_c,getHeaderCellStyle:ic,handleHeaderClick:Oe,handleHeaderContextMenu:ur,handleMouseDown:hr,handleMouseMove:Vr,handleMouseOut:dr,handleSortClick:ec,handleFilterClick:tc,isGroup:qm,toggleAllSelection:Xm,saveIndexSelection:V,isTableLayoutAuto:L,theadRef:z,updateFixedColumnStyle:ie}},render(){const{ns:t,t:e,isGroup:n,columnRows:r,getHeaderCellStyle:g,getHeaderCellClass:$,getHeaderRowClass:y,getHeaderRowStyle:k,handleHeaderClick:L,handleHeaderContextMenu:V,handleMouseDown:z,handleMouseMove:j,handleSortClick:ie,handleMouseOut:Oe,store:ur,$parent:hr,saveIndexSelection:Vr,isTableLayoutAuto:dr}=this;let ec=1;return h$1("thead",{ref:"theadRef",class:t.is("group",n)},r.map((tc,Xs)=>h$1("tr",{class:y(Xs),key:Xs,style:k(Xs)},tc.map((rc,ic)=>{rc.rowSpan>ec&&(ec=rc.rowSpan);const _c=$(Xs,ic,tc,rc);return dr&&rc.fixed&&Vr.set(_c,rc),h$1("th",{class:_c,colspan:rc.colSpan,key:`${rc.id}-thead`,rowspan:rc.rowSpan,scope:rc.colSpan>1?"colgroup":"col",ariaSort:rc.sortable?rc.order:void 0,style:g(Xs,ic,tc,rc),onClick:qm=>{var Xm;(Xm=qm.currentTarget)!=null&&Xm.classList.contains("noclick")||L(qm,rc)},onContextmenu:qm=>V(qm,rc),onMousedown:qm=>z(qm,rc),onMousemove:qm=>j(qm,rc),onMouseout:Oe},[h$1("div",{class:["cell",rc.filteredValue&&rc.filteredValue.length>0?"highlight":""]},[rc.renderHeader?rc.renderHeader({column:rc,$index:ic,store:ur,_self:hr}):rc.label,rc.sortable&&h$1("button",{type:"button",class:"caret-wrapper","aria-label":e("el.table.sortLabel",{column:rc.label||""}),onClick:qm=>ie(qm,rc)},[h$1("i",{onClick:qm=>ie(qm,rc,"ascending"),class:"sort-caret ascending"}),h$1("i",{onClick:qm=>ie(qm,rc,"descending"),class:"sort-caret descending"})]),rc.filterable&&h$1(FilterPanel,{store:ur,placement:rc.filterPlacement||"bottom-start",appendTo:hr==null?void 0:hr.appendFilterPanelTo,column:rc,upDataColumn:(qm,Xm)=>{rc[qm]=Xm}},{"filter-icon":()=>rc.renderFilterIcon?rc.renderFilterIcon({filterOpened:rc.filterOpened}):null})])])}))))}});function isGreaterThan(t,e,n=.03){return t-e>n}function useEvents(t){const e=inject(TABLE_INJECTION_KEY),n=ref(""),r=ref(h$1("div")),g=(ur,hr,Vr)=>{var dr,ec,tc;const Xs=e,rc=getCell(ur);let ic=null;const _c=(dr=Xs==null?void 0:Xs.vnode.el)==null?void 0:dr.dataset.prefix;rc&&(ic=getColumnByCell({columns:(tc=(ec=t.store)==null?void 0:ec.states.columns.value)!=null?tc:[]},rc,_c),ic&&(Xs==null||Xs.emit(`cell-${Vr}`,hr,ic,rc,ur))),Xs==null||Xs.emit(`row-${Vr}`,hr,ic,ur)},$=(ur,hr)=>{g(ur,hr,"dblclick")},y=(ur,hr)=>{var Vr;(Vr=t.store)==null||Vr.commit("setCurrentRow",hr),g(ur,hr,"click")},k=(ur,hr)=>{g(ur,hr,"contextmenu")},L=debounce(ur=>{var hr;(hr=t.store)==null||hr.commit("setHoverRow",ur)},30),V=debounce(()=>{var ur;(ur=t.store)==null||ur.commit("setHoverRow",null)},30),z=ur=>{const hr=window.getComputedStyle(ur,null),Vr=Number.parseInt(hr.paddingLeft,10)||0,dr=Number.parseInt(hr.paddingRight,10)||0,ec=Number.parseInt(hr.paddingTop,10)||0,tc=Number.parseInt(hr.paddingBottom,10)||0;return{left:Vr,right:dr,top:ec,bottom:tc}},j=(ur,hr,Vr)=>{var dr;let ec=(dr=hr==null?void 0:hr.target)==null?void 0:dr.parentNode;for(;ur>1&&(ec=ec==null?void 0:ec.nextSibling,!(!ec||ec.nodeName!=="TR"));)Vr(ec,"hover-row hover-fixed-row"),ur--};return{handleDoubleClick:$,handleClick:y,handleContextMenu:k,handleMouseEnter:L,handleMouseLeave:V,handleCellMouseEnter:(ur,hr,Vr)=>{var dr,ec,tc,Xs,rc,ic,_c,qm,Xm;if(!e)return;const Km=e,tv=getCell(ur),nv=(dr=Km==null?void 0:Km.vnode.el)==null?void 0:dr.dataset.prefix;let sv=null;if(tv){if(sv=getColumnByCell({columns:(tc=(ec=t.store)==null?void 0:ec.states.columns.value)!=null?tc:[]},tv,nv),!sv)return;tv.rowSpan>1&&j(tv.rowSpan,ur,addClass);const Dv=Km.hoverState={cell:tv,column:sv,row:hr};Km==null||Km.emit("cell-mouse-enter",Dv.row,Dv.column,Dv.cell,ur)}if(!Vr){((Xs=removePopper)==null?void 0:Xs.trigger)===tv&&((rc=removePopper)==null||rc());return}const gv=ur.target.querySelector(".cell");if(!(hasClass(gv,`${nv}-tooltip`)&&gv.childNodes.length&&((ic=gv.textContent)!=null&&ic.trim())))return;const Sv=document.createRange();Sv.setStart(gv,0),Sv.setEnd(gv,gv.childNodes.length);const{width:wv,height:rv}=Sv.getBoundingClientRect(),{width:Jm,height:dv}=gv.getBoundingClientRect(),{top:pv,left:mv,right:Cv,bottom:uv}=z(gv),yv=mv+Cv,$v=pv+uv;isGreaterThan(wv+yv,Jm)||isGreaterThan(rv+$v,dv)||isGreaterThan(gv.scrollWidth,Jm)?createTablePopper(Vr,(_c=(tv==null?void 0:tv.innerText)||(tv==null?void 0:tv.textContent))!=null?_c:"",hr,sv,tv,Km):((qm=removePopper)==null?void 0:qm.trigger)===tv&&((Xm=removePopper)==null||Xm())},handleCellMouseLeave:ur=>{const hr=getCell(ur);if(!hr)return;hr.rowSpan>1&&j(hr.rowSpan,ur,removeClass);const Vr=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",Vr==null?void 0:Vr.row,Vr==null?void 0:Vr.column,Vr==null?void 0:Vr.cell,ur)},tooltipContent:n,tooltipTrigger:r}}function useStyles$1(t){const e=inject(TABLE_INJECTION_KEY),n=useNamespace("table");return{getRowStyle:(V,z)=>{const j=e==null?void 0:e.props.rowStyle;return isFunction$1(j)?j.call(null,{row:V,rowIndex:z}):j||null},getRowClass:(V,z,j)=>{var ie;const Oe=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&V===((ie=t.store)==null?void 0:ie.states.currentRow.value)&&Oe.push("current-row"),t.stripe&&j%2===1&&Oe.push(n.em("row","striped"));const ur=e==null?void 0:e.props.rowClassName;return isString$1(ur)?Oe.push(ur):isFunction$1(ur)&&Oe.push(ur.call(null,{row:V,rowIndex:z})),Oe},getCellStyle:(V,z,j,ie)=>{const Oe=e==null?void 0:e.props.cellStyle;let ur=Oe??{};isFunction$1(Oe)&&(ur=Oe.call(null,{rowIndex:V,columnIndex:z,row:j,column:ie}));const hr=getFixedColumnOffset(z,t==null?void 0:t.fixed,t.store);return ensurePosition(hr,"left"),ensurePosition(hr,"right"),Object.assign({},ur,hr)},getCellClass:(V,z,j,ie,Oe)=>{const ur=getFixedColumnsClass(n.b(),z,t==null?void 0:t.fixed,t.store,void 0,Oe),hr=[ie.id,ie.align,ie.className,...ur],Vr=e==null?void 0:e.props.cellClassName;return isString$1(Vr)?hr.push(Vr):isFunction$1(Vr)&&hr.push(Vr.call(null,{rowIndex:V,columnIndex:z,row:j,column:ie})),hr.push(n.e("cell")),hr.filter(dr=>!!dr).join(" ")},getSpan:(V,z,j,ie)=>{let Oe=1,ur=1;const hr=e==null?void 0:e.props.spanMethod;if(isFunction$1(hr)){const Vr=hr({row:V,column:z,rowIndex:j,columnIndex:ie});isArray$1(Vr)?(Oe=Vr[0],ur=Vr[1]):isObject$2(Vr)&&(Oe=Vr.rowspan,ur=Vr.colspan)}return{rowspan:Oe,colspan:ur}},getColspanRealWidth:(V,z,j)=>{if(z<1)return V[j].realWidth;const ie=V.map(({realWidth:Oe,width:ur})=>Oe||ur).slice(j,j+z);return Number(ie.reduce((Oe,ur)=>Number(Oe)+Number(ur),-1))}}}const _hoisted_1$h=["colspan","rowspan"],_sfc_main$z=defineComponent({name:"TableTdWrapper",__name:"td-wrapper",props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(e,n)=>(openBlock(),createElementBlock("td",{colspan:t.colspan,rowspan:t.rowspan},[renderSlot(e.$slots,"default")],8,_hoisted_1$h))}});var TdWrapper=_export_sfc$1(_sfc_main$z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table-body/td-wrapper.vue"]]);function useRender$1(t){const e=inject(TABLE_INJECTION_KEY),n=useNamespace("table"),{handleDoubleClick:r,handleClick:g,handleContextMenu:$,handleMouseEnter:y,handleMouseLeave:k,handleCellMouseEnter:L,handleCellMouseLeave:V,tooltipContent:z,tooltipTrigger:j}=useEvents(t),{getRowStyle:ie,getRowClass:Oe,getCellStyle:ur,getCellClass:hr,getSpan:Vr,getColspanRealWidth:dr}=useStyles$1(t);let ec=-1;const tc=computed(()=>{var qm;return(qm=t.store)==null?void 0:qm.states.columns.value.findIndex(({type:Xm})=>Xm==="default")}),Xs=(qm,Xm)=>{var Km;const tv=(Km=e==null?void 0:e.props)==null?void 0:Km.rowKey;return tv?getRowIdentity(qm,tv):Xm},rc=(qm,Xm,Km,tv=!1)=>{const{tooltipEffect:nv,tooltipOptions:sv,store:gv}=t,{indent:Sv,columns:wv}=gv.states,rv=[];let Jm=!0;return Km&&(rv.push(n.em("row",`level-${Km.level}`)),Jm=!!Km.display),Xm===0&&(ec=-1),t.stripe&&Jm&&ec++,rv.push(...Oe(qm,Xm,ec)),h$1("tr",{style:[Jm?null:{display:"none"},ie(qm,Xm)],class:rv,key:Xs(qm,Xm),onDblclick:pv=>r(pv,qm),onClick:pv=>g(pv,qm),onContextmenu:pv=>$(pv,qm),onMouseenter:()=>y(Xm),onMouseleave:k},wv.value.map((pv,mv)=>{const{rowspan:Cv,colspan:uv}=Vr(qm,pv,Xm,mv);if(!Cv||!uv)return null;const yv=Object.assign({},pv);yv.realWidth=dr(wv.value,uv,mv);const $v={store:gv,_self:t.context||e,column:yv,row:qm,$index:Xm,cellIndex:mv,expanded:tv};mv===tc.value&&Km&&($v.treeNode={indent:Km.level&&Km.level*Sv.value,level:Km.level},isBoolean(Km.expanded)&&($v.treeNode.expanded=Km.expanded,"loading"in Km&&($v.treeNode.loading=Km.loading),"noLazyChildren"in Km&&($v.treeNode.noLazyChildren=Km.noLazyChildren)));const Dv=`${Xs(qm,Xm)},${mv}`,Hv=yv.columnKey||yv.rawColumnKey||"",Gv=pv.showOverflowTooltip&&merge({effect:nv},sv,pv.showOverflowTooltip);return h$1(TdWrapper,{style:ur(Xm,mv,qm,pv),class:hr(Xm,mv,qm,pv,uv-1),key:`${Hv}${Dv}`,rowspan:Cv,colspan:uv,onMouseenter:f0=>L(f0,qm,Gv),onMouseleave:V},{default:()=>ic(mv,pv,$v)})}))},ic=(qm,Xm,Km)=>Xm.renderCell(Km);return{wrappedRowRender:(qm,Xm)=>{const Km=t.store,{isRowExpanded:tv,assertRowKey:nv}=Km,{treeData:sv,lazyTreeNodeMap:gv,childrenColumnName:Sv,rowKey:wv}=Km.states,rv=Km.states.columns.value;if(rv.some(({type:dv})=>dv==="expand")){const dv=tv(qm),pv=rc(qm,Xm,void 0,dv),mv=e==null?void 0:e.renderExpanded;if(!mv)return console.error("[Element Error]renderExpanded is required."),pv;const Cv=[[pv]];return(e.props.preserveExpandedContent||dv)&&Cv[0].push(h$1("tr",{key:`expanded-row__${pv.key}`,style:{display:dv?"":"none"}},[h$1("td",{colspan:rv.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[mv({row:qm,$index:Xm,store:Km,expanded:dv})])])),Cv}else if(Object.keys(sv.value).length){nv();const dv=getRowIdentity(qm,wv.value);let pv=sv.value[dv],mv=null;pv&&(mv={expanded:pv.expanded,level:pv.level,display:!0,noLazyChildren:void 0,loading:void 0},isBoolean(pv.lazy)&&(mv&&isBoolean(pv.loaded)&&pv.loaded&&(mv.noLazyChildren=!(pv.children&&pv.children.length)),mv.loading=pv.loading));const Cv=[rc(qm,Xm,mv??void 0)];if(pv){let uv=0;const yv=(Dv,Hv)=>{Dv&&Dv.length&&Hv&&Dv.forEach(Gv=>{const f0={display:Hv.display&&Hv.expanded,level:Hv.level+1,expanded:!1,noLazyChildren:!1,loading:!1},qv=getRowIdentity(Gv,wv.value);if(isPropAbsent(qv))throw new Error("For nested data item, row-key is required.");if(pv={...sv.value[qv]},pv&&(f0.expanded=pv.expanded,pv.level=pv.level||f0.level,pv.display=!!(pv.expanded&&f0.display),isBoolean(pv.lazy)&&(isBoolean(pv.loaded)&&pv.loaded&&(f0.noLazyChildren=!(pv.children&&pv.children.length)),f0.loading=pv.loading)),uv++,Cv.push(rc(Gv,Xm+uv,f0)),pv){const Pv=gv.value[qv]||Gv[Sv.value];yv(Pv,pv)}})};pv.display=!0;const $v=gv.value[dv]||qm[Sv.value];yv($v,pv)}return Cv}else return rc(qm,Xm,void 0)},tooltipContent:z,tooltipTrigger:j}}const defaultProps$3={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$3,setup(t){var e;const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),g=useNamespace("table"),{wrappedRowRender:$,tooltipContent:y,tooltipTrigger:k}=useRender$1(t),{onColumnsChange:L,onScrollableChange:V}=useLayoutObserver(r),z=[];return watch((e=t.store)==null?void 0:e.states.hoverRow,(j,ie)=>{var Oe,ur;const hr=n==null?void 0:n.vnode.el,Vr=Array.from((hr==null?void 0:hr.children)||[]).filter(tc=>tc==null?void 0:tc.classList.contains(`${g.e("row")}`));let dr=j;const ec=(Oe=Vr[dr])==null?void 0:Oe.childNodes;if(ec!=null&&ec.length){let tc=0;Array.from(ec).reduce((rc,ic,_c)=>{var qm,Xm;return((qm=ec[_c])==null?void 0:qm.colSpan)>1&&(tc=(Xm=ec[_c])==null?void 0:Xm.colSpan),ic.nodeName!=="TD"&&tc===0&&rc.push(_c),tc>0&&tc--,rc},[]).forEach(rc=>{var ic;for(dr=j;dr>0;){const _c=(ic=Vr[dr-1])==null?void 0:ic.childNodes;if(_c[rc]&&_c[rc].nodeName==="TD"&&_c[rc].rowSpan>1){addClass(_c[rc],"hover-cell"),z.push(_c[rc]);break}dr--}})}else z.forEach(tc=>removeClass(tc,"hover-cell")),z.length=0;!((ur=t.store)!=null&&ur.states.isComplex.value)||!isClient||rAF(()=>{const tc=Vr[ie],Xs=Vr[j];tc&&!tc.classList.contains("hover-fixed-row")&&removeClass(tc,"hover-row"),Xs&&addClass(Xs,"hover-row")})}),onUnmounted(()=>{var j;(j=removePopper)==null||j()}),{ns:g,onColumnsChange:L,onScrollableChange:V,wrappedRowRender:$,tooltipContent:y,tooltipTrigger:k}},render(){const{wrappedRowRender:t,store:e}=this,n=(e==null?void 0:e.states.data.value)||[];return h$1("tbody",{tabIndex:-1},[n.reduce((r,g)=>r.concat(t(g,r.length)),[])])}});function useMapState(){const t=inject(TABLE_INJECTION_KEY),e=t==null?void 0:t.store,n=computed(()=>{var k;return(k=e==null?void 0:e.states.fixedLeafColumnsLength.value)!=null?k:0}),r=computed(()=>{var k;return(k=e==null?void 0:e.states.rightFixedColumns.value.length)!=null?k:0}),g=computed(()=>{var k;return(k=e==null?void 0:e.states.columns.value.length)!=null?k:0}),$=computed(()=>{var k;return(k=e==null?void 0:e.states.fixedColumns.value.length)!=null?k:0}),y=computed(()=>{var k;return(k=e==null?void 0:e.states.rightFixedColumns.value.length)!=null?k:0});return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:g,leftFixedCount:$,rightFixedCount:y,columns:computed(()=>{var k;return(k=e==null?void 0:e.states.columns.value)!=null?k:[]})}}function useStyle$1(t){const{columns:e}=useMapState(),n=useNamespace("table");return{getCellClasses:($,y)=>{const k=$[y],L=[n.e("cell"),k.id,k.align,k.labelClassName,...getFixedColumnsClass(n.b(),y,k.fixed,t.store)];return k.className&&L.push(k.className),k.children||L.push(n.is("leaf")),L},getCellStyles:($,y)=>{const k=getFixedColumnOffset(y,$.fixed,t.store);return ensurePosition(k,"left"),ensurePosition(k,"right"),k},columns:e}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const e=inject(TABLE_INJECTION_KEY),n=useNamespace("table"),{getCellClasses:r,getCellStyles:g,columns:$}=useStyle$1(t),{onScrollableChange:y,onColumnsChange:k}=useLayoutObserver(e);return{ns:n,onScrollableChange:y,onColumnsChange:k,getCellClasses:r,getCellStyles:g,columns:$}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:g}=this,$=this.store.states.data.value;let y=[];return r?y=r({columns:t,data:$}):t.forEach((k,L)=>{if(L===0){y[L]=g;return}const V=$.map(Oe=>Number(Oe[k.property])),z=[];let j=!0;V.forEach(Oe=>{if(!Number.isNaN(+Oe)){j=!1;const ur=`${Oe}`.split(".")[1];z.push(ur?ur.length:0)}});const ie=Math.max.apply(null,z);j?y[L]="":y[L]=V.reduce((Oe,ur)=>{const hr=Number(ur);return Number.isNaN(+hr)?Oe:Number.parseFloat((Oe+ur).toFixed(Math.min(ie,20)))},0)}),h$1(h$1("tfoot",[h$1("tr",{},[...t.map((k,L)=>h$1("td",{key:L,colspan:k.colSpan,rowspan:k.rowSpan,class:n(t,L),style:e(k,L)},[h$1("div",{class:["cell",k.labelClassName]},[y[L]])]))])]))}});function useUtils(t){return{setCurrentRow:j=>{t.commit("setCurrentRow",j)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(j,ie,Oe=!0)=>{t.toggleRowSelection(j,ie,!1,Oe),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:j=>{t.clearFilter(j)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(j,ie)=>{t.toggleRowExpansionAdapter(j,ie)},clearSort:()=>{t.clearSort()},sort:(j,ie)=>{t.commit("sort",{prop:j,order:ie})},updateKeyChildren:(j,ie)=>{t.updateKeyChildren(j,ie)}}}function useStyle(t,e,n,r){const g=ref(!1),$=ref(null),y=ref(!1),k=rv=>{y.value=rv},L=ref({width:null,height:null,headerHeight:null}),V=ref(!1),z={display:"inline-block",verticalAlign:"middle"},j=ref(),ie=ref(0),Oe=ref(0),ur=ref(0),hr=ref(0),Vr=ref(0);watch(()=>t.height,rv=>{e.setHeight(rv??null)},{immediate:!0}),watch(()=>t.maxHeight,rv=>{e.setMaxHeight(rv??null)},{immediate:!0}),watch(()=>[t.currentRowKey,n.states.rowKey],([rv,Jm])=>{!unref(Jm)||!unref(rv)||n.setCurrentRowKey(`${rv}`)},{immediate:!0}),watch(()=>t.data,rv=>{r.store.commit("setData",rv)},{immediate:!0,deep:!0}),watchEffect(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const dr=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},ec=(rv,Jm)=>{const{pixelX:dv,pixelY:pv}=Jm;Math.abs(dv)>=Math.abs(pv)&&(r.refs.bodyWrapper.scrollLeft+=Jm.pixelX/5)},tc=computed(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),Xs=computed(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),rc=()=>{tc.value&&e.updateElsHeight(),e.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(Xm)};onMounted(async()=>{await nextTick(),n.updateColumns(),Km(),requestAnimationFrame(rc);const rv=r.vnode.el,Jm=r.refs.headerWrapper;t.flexible&&rv&&rv.parentElement&&(rv.parentElement.style.minWidth="0"),L.value={width:j.value=rv.offsetWidth,height:rv.offsetHeight,headerHeight:t.showHeader&&Jm?Jm.offsetHeight:null},n.states.columns.value.forEach(dv=>{dv.filteredValue&&dv.filteredValue.length&&r.store.commit("filterChange",{column:dv,values:dv.filteredValue,silent:!0})}),r.$ready=!0});const ic=(rv,Jm)=>{if(!rv)return;const dv=Array.from(rv.classList).filter(pv=>!pv.startsWith("is-scrolling-"));dv.push(e.scrollX.value?Jm:"is-scrolling-none"),rv.className=dv.join(" ")},_c=rv=>{const{tableWrapper:Jm}=r.refs;ic(Jm,rv)},qm=rv=>{const{tableWrapper:Jm}=r.refs;return!!(Jm&&Jm.classList.contains(rv))},Xm=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const yv="is-scrolling-none";qm(yv)||_c(yv);return}const rv=r.refs.scrollBarRef.wrapRef;if(!rv)return;const{scrollLeft:Jm,offsetWidth:dv,scrollWidth:pv}=rv,{headerWrapper:mv,footerWrapper:Cv}=r.refs;mv&&(mv.scrollLeft=Jm),Cv&&(Cv.scrollLeft=Jm);const uv=pv-dv-1;Jm>=uv?_c("is-scrolling-right"):_c(Jm===0?"is-scrolling-left":"is-scrolling-middle")},Km=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&useEventListener(r.refs.scrollBarRef.wrapRef,"scroll",Xm,{passive:!0}),t.fit?useResizeObserver(r.vnode.el,tv):useEventListener(window,"resize",tv),useResizeObserver(r.refs.tableInnerWrapper,()=>{var rv,Jm;tv(),(Jm=(rv=r.refs)==null?void 0:rv.scrollBarRef)==null||Jm.update()}))},tv=()=>{var rv,Jm,dv,pv;const mv=r.vnode.el;if(!r.$ready||!mv)return;let Cv=!1;const{width:uv,height:yv,headerHeight:$v}=L.value,Dv=j.value=mv.offsetWidth;uv!==Dv&&(Cv=!0);const Hv=mv.offsetHeight;(t.height||tc.value)&&yv!==Hv&&(Cv=!0);const Gv=t.tableLayout==="fixed"?r.refs.headerWrapper:(rv=r.refs.tableHeaderRef)==null?void 0:rv.$el;t.showHeader&&(Gv==null?void 0:Gv.offsetHeight)!==$v&&(Cv=!0),ie.value=((Jm=r.refs.tableWrapper)==null?void 0:Jm.scrollHeight)||0,ur.value=(Gv==null?void 0:Gv.scrollHeight)||0,hr.value=((dv=r.refs.footerWrapper)==null?void 0:dv.offsetHeight)||0,Vr.value=((pv=r.refs.appendWrapper)==null?void 0:pv.offsetHeight)||0,Oe.value=ie.value-ur.value-hr.value-Vr.value,Cv&&(L.value={width:Dv,height:Hv,headerHeight:t.showHeader&&(Gv==null?void 0:Gv.offsetHeight)||0},rc())},nv=useFormSize(),sv=computed(()=>{const{bodyWidth:rv,scrollY:Jm,gutterWidth:dv}=e;return rv.value?`${rv.value-(Jm.value?dv:0)}px`:""}),gv=computed(()=>t.maxHeight?"fixed":t.tableLayout),Sv=computed(()=>{if(t.data&&t.data.length)return;let rv="100%";t.height&&Oe.value&&(rv=`${Oe.value}px`);const Jm=j.value;return{width:Jm?`${Jm}px`:"",height:rv}}),wv=computed(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${ur.value+hr.value}px)`}:{maxHeight:`${+t.maxHeight-ur.value-hr.value}px`}:{});return{isHidden:g,renderExpanded:$,setDragVisible:k,isGroup:V,handleMouseLeave:dr,handleHeaderFooterMousewheel:ec,tableSize:nv,emptyBlockStyle:Sv,resizeProxyVisible:y,bodyWidth:sv,resizeState:L,doLayout:rc,tableBodyStyles:Xs,tableLayout:gv,scrollbarViewStyle:z,scrollbarStyle:wv}}function useKeyRender(t){const e=ref(),n=()=>{const g=t.vnode.el.querySelector(".hidden-columns"),$={childList:!0,subtree:!0},y=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{y.forEach(k=>k())}),e.value.observe(g,$)};onMounted(()=>{n()}),onUnmounted(()=>{var r;(r=e.value)==null||r.disconnect()})}var defaultProps$2={data:{type:Array,default:()=>[]},size:useSizeProp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:[String,Object,Array],default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function hColgroup(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(({width:g})=>isUndefined(g))&&(n=[]);const r=g=>{const $={key:`${t.tableLayout}_${g.id}`,style:{},name:void 0};return e?$.style={width:`${g.width}px`}:$.name=g.id,$};return h$1("colgroup",{},n.map(g=>h$1("col",r(g))))}hColgroup.props=["columns","tableLayout"];const useScrollbar$1=()=>{const t=ref(),e=($,y)=>{const k=t.value;k&&k.scrollTo($,y)},n=($,y)=>{const k=t.value;k&&isNumber(y)&&["Top","Left"].includes($)&&k[`setScroll${$}`](y)};return{scrollBarRef:t,scrollTo:e,setScrollTop:$=>n("Top",$),setScrollLeft:$=>n("Left",$)}};var v=!1,o,f,s,u,d,N,l,p,m,w,D,x,E,M,F;function a(){if(!v){v=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(x=/\b(iPhone|iP[ao]d)/.exec(t),E=/\b(iP[ao]d)/.exec(t),w=/Android/i.exec(t),M=/FBAN\/\w+;/i.exec(t),F=/Mobile/i.exec(t),D=!!/Win64/.exec(t),e){o=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);N=r?parseFloat(r[1])+4:o,f=e[2]?parseFloat(e[2]):NaN,s=e[3]?parseFloat(e[3]):NaN,u=e[4]?parseFloat(e[4]):NaN,u?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),d=e&&e[1]?parseFloat(e[1]):NaN):d=NaN}else o=f=s=d=u=NaN;if(n){if(n[1]){var g=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);l=g?parseFloat(g[1].replace("_",".")):!0}else l=!1;p=!!n[2],m=!!n[3]}else l=p=m=!1}}var _={ie:function(){return a()||o},ieCompatibilityMode:function(){return a()||N>o},ie64:function(){return _.ie()&&D},firefox:function(){return a()||f},opera:function(){return a()||s},webkit:function(){return a()||u},safari:function(){return _.webkit()},chrome:function(){return a()||d},windows:function(){return a()||p},osx:function(){return a()||l},linux:function(){return a()||m},iphone:function(){return a()||x},mobile:function(){return a()||x||E||w||F},nativeApp:function(){return a()||M},android:function(){return a()||w},ipad:function(){return a()||E}},A=_,c=!!(typeof window<"u"&&window.document&&window.document.createElement),U={canUseDOM:c},h=U,X;h.canUseDOM&&(X=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S(t,e){if(!h.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var g=document.createElement("div");g.setAttribute(n,"return;"),r=typeof g[n]=="function"}return!r&&X&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var b=S,O=10,I=40,P=800;function T(t){var e=0,n=0,r=0,g=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*O,g=n*O,"deltaY"in t&&(g=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||g)&&t.deltaMode&&(t.deltaMode==1?(r*=I,g*=I):(r*=P,g*=P)),r&&!e&&(e=r<1?-1:1),g&&!n&&(n=g<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:g}}T.getEventType=function(){return A.firefox()?"DOMMouseScroll":b("wheel")?"wheel":"mousewheel"};var Y=T;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const SCOPE$3="_Mousewheel",mousewheel=function(t,e){if(t&&t.addEventListener){removeWheelHandler(t);const n=function(r){const g=Y(r);e&&Reflect.apply(e,this,[r,g])};t[SCOPE$3]={wheelHandler:n},t.addEventListener("wheel",n,{passive:!0})}},removeWheelHandler=t=>{var e;(e=t[SCOPE$3])!=null&&e.wheelHandler&&(t.removeEventListener("wheel",t[SCOPE$3].wheelHandler),t[SCOPE$3]=null)},Mousewheel={beforeMount(t,e){mousewheel(t,e.value)},unmounted(t){removeWheelHandler(t)},updated(t,e){e.value!==e.oldValue&&mousewheel(t,e.value)}};let tableIdSeed=1;const _sfc_main$y=defineComponent({name:"ElTable",directives:{Mousewheel},components:{TableHeader,TableBody,TableFooter,ElScrollbar,hColgroup},props:defaultProps$2,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=useLocale(),n=useNamespace("table"),r=getCurrentInstance();provide(TABLE_INJECTION_KEY,r);const g=createStore(r,t);r.store=g;const $=new TableLayout({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=$;const y=computed(()=>(g.states.data.value||[]).length===0),{setCurrentRow:k,getSelectionRows:L,toggleRowSelection:V,clearSelection:z,clearFilter:j,toggleAllSelection:ie,toggleRowExpansion:Oe,clearSort:ur,sort:hr,updateKeyChildren:Vr}=useUtils(g),{isHidden:dr,renderExpanded:ec,setDragVisible:tc,isGroup:Xs,handleMouseLeave:rc,handleHeaderFooterMousewheel:ic,tableSize:_c,emptyBlockStyle:qm,resizeProxyVisible:Xm,bodyWidth:Km,resizeState:tv,doLayout:nv,tableBodyStyles:sv,tableLayout:gv,scrollbarViewStyle:Sv,scrollbarStyle:wv}=useStyle(t,$,g,r),{scrollBarRef:rv,scrollTo:Jm,setScrollLeft:dv,setScrollTop:pv}=useScrollbar$1(),mv=debounce(nv,50),Cv=`${n.namespace.value}-table_${tableIdSeed++}`;r.tableId=Cv,r.state={isGroup:Xs,resizeState:tv,doLayout:nv,debouncedUpdateLayout:mv};const uv=computed(()=>{var Dv;return(Dv=t.sumText)!=null?Dv:e("el.table.sumText")}),yv=computed(()=>{var Dv;return(Dv=t.emptyText)!=null?Dv:e("el.table.emptyText")}),$v=computed(()=>convertToRows(g.states.originColumns.value)[0]);return useKeyRender(r),onBeforeUnmount(()=>{mv.cancel()}),{ns:n,layout:$,store:g,columns:$v,handleHeaderFooterMousewheel:ic,handleMouseLeave:rc,tableId:Cv,tableSize:_c,isHidden:dr,isEmpty:y,renderExpanded:ec,resizeProxyVisible:Xm,resizeState:tv,isGroup:Xs,bodyWidth:Km,tableBodyStyles:sv,emptyBlockStyle:qm,debouncedUpdateLayout:mv,setCurrentRow:k,getSelectionRows:L,toggleRowSelection:V,clearSelection:z,clearFilter:j,toggleAllSelection:ie,toggleRowExpansion:Oe,clearSort:ur,doLayout:nv,sort:hr,updateKeyChildren:Vr,t:e,setDragVisible:tc,context:r,computedSumText:uv,computedEmptyText:yv,tableLayout:gv,scrollbarViewStyle:Sv,scrollbarStyle:wv,scrollBarRef:rv,scrollTo:Jm,setScrollLeft:dv,setScrollTop:pv,allowDragLastColumn:t.allowDragLastColumn}}}),_hoisted_1$g=["data-prefix"],_hoisted_2$9={ref:"hiddenColumns",class:"hidden-columns"};function _sfc_render$4(t,e,n,r,g,$){const y=resolveComponent("hColgroup"),k=resolveComponent("table-header"),L=resolveComponent("table-body"),V=resolveComponent("table-footer"),z=resolveComponent("el-scrollbar"),j=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:normalizeStyle(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[1]||(e[1]=(...ie)=>t.handleMouseLeave&&t.handleMouseLeave(...ie))},[createBaseVNode("div",{ref:"tableInnerWrapper",class:normalizeClass(t.ns.e("inner-wrapper"))},[createBaseVNode("div",_hoisted_2$9,[renderSlot(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(t.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(t.ns.e("header")),style:normalizeStyle(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode(y,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),createVNode(k,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,"allow-drag-last-column":t.allowDragLastColumn,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[j,t.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(t.ns.e("body-wrapper"))},[createVNode(z,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,native:t.nativeScrollbar,onScroll:e[0]||(e[0]=ie=>t.$emit("scroll",ie))},{default:withCtx(()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle({width:t.bodyWidth,tableLayout:t.tableLayout})},[createVNode(y,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(openBlock(),createBlock(k,{key:0,ref:"tableHeaderRef",class:normalizeClass(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode(L,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(openBlock(),createBlock(V,{key:1,class:normalizeClass(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):createCommentVNode("v-if",!0)],6),t.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle(t.emptyBlockStyle),class:normalizeClass(t.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(t.ns.e("empty-text"))},[renderSlot(t.$slots,"empty",{},()=>[createTextVNode(toDisplayString$1(t.computedEmptyText),1)])],2)],6)):createCommentVNode("v-if",!0),t.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(t.ns.e("append-wrapper"))},[renderSlot(t.$slots,"append")],2)):createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","native"])],2),t.showSummary&&t.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(t.ns.e("footer-wrapper"))},[createBaseVNode("table",{class:normalizeClass(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle(t.tableBodyStyles)},[createVNode(y,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),createVNode(V,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[vShow,!t.isEmpty],[j,t.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),t.border||t.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(t.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(t.ns.e("column-resize-proxy"))},null,2),[[vShow,t.resizeProxyVisible]])],46,_hoisted_1$g)}var Table$1=_export_sfc$1(_sfc_main$y,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=t=>defaultClassNames[t]||"",cellForced={selection:{renderHeader({store:t}){var e;function n(){return t.states.data.value&&t.states.data.value.length===0}return h$1(ElCheckbox,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":(e=t.toggleAllSelection)!=null?e:void 0,modelValue:t.states.isAllSelected.value,ariaLabel:t.t("el.table.selectAllLabel")})},renderCell({row:t,column:e,store:n,$index:r}){return h$1(ElCheckbox,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:g=>g.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:n.t("el.table.selectRowLabel")})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return isNumber(r)?n=e+r:isFunction$1(r)&&(n=r(e)),h$1("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({column:t,row:e,store:n,expanded:r}){const{ns:g}=n,$=[g.e("expand-icon")];!t.renderExpand&&r&&$.push(g.em("expand-icon","expanded"));const y=function(k){k.stopPropagation(),n.toggleRowExpansion(e)};return h$1("button",{type:"button","aria-label":n.t(r?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":r,class:$,onClick:y},{default:()=>t.renderExpand?[t.renderExpand({expanded:r})]:[h$1(ElIcon,null,{default:()=>[h$1(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:t,column:e,$index:n}){var r;const g=e.property,$=g&&getProp(t,g).value;return e&&e.formatter?e.formatter(t,e,$,n):((r=$==null?void 0:$.toString)==null?void 0:r.call($))||""}function treeCellPrefix({row:t,treeNode:e,store:n},r=!1){const{ns:g}=n;if(!e)return r?[h$1("span",{class:g.e("placeholder")})]:null;const $=[],y=function(k){k.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&$.push(h$1("span",{class:g.e("indent"),style:{"padding-left":`${e.indent}px`}})),isBoolean(e.expanded)&&!e.noLazyChildren){const k=[g.e("expand-icon"),e.expanded?g.em("expand-icon","expanded"):""];let L=arrow_right_default;e.loading&&(L=loading_default),$.push(h$1("button",{type:"button","aria-label":n.t(e.expanded?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":e.expanded,class:k,onClick:y},{default:()=>[h$1(ElIcon,{class:g.is("loading",e.loading)},{default:()=>[h$1(L)]})]}))}else $.push(h$1("span",{class:g.e("placeholder")}));return $}function getAllAliases(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function useWatcher(t,e){const n=getCurrentInstance();return{registerComplexWatchers:()=>{const $=["fixed"],y={realWidth:"width",realMinWidth:"minWidth"},k=getAllAliases($,y);Object.keys(k).forEach(L=>{const V=y[L];hasOwn$1(e,V)&&watch(()=>e[V],z=>{let j=z;V==="width"&&L==="realWidth"&&(j=parseWidth(z)),V==="minWidth"&&L==="realMinWidth"&&(j=parseMinWidth(z)),n.columnConfig.value[V]=j,n.columnConfig.value[L]=j;const ie=V==="fixed";t.value.store.scheduleLayout(ie)})})},registerNormalWatchers:()=>{const $=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter","resizable"],y=["showOverflowTooltip"],k={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},L=getAllAliases($,k);Object.keys(L).forEach(V=>{const z=k[V];hasOwn$1(e,z)&&watch(()=>e[z],j=>{n.columnConfig.value[V]=j,(V==="filters"||V==="filterMethod")&&(n.columnConfig.value.filterable=!!(n.columnConfig.value.filters||n.columnConfig.value.filterMethod))})}),y.forEach(V=>{hasOwn$1(t.value.props,V)&&watch(()=>t.value.props[V],z=>{n.columnConfig.value[V]=z})})}}}function useRender(t,e,n){const r=getCurrentInstance(),g=ref(""),$=ref(!1),y=ref(),k=ref(),L=useNamespace("table");watchEffect(()=>{y.value=t.align?`is-${t.align}`:null,y.value}),watchEffect(()=>{k.value=t.headerAlign?`is-${t.headerAlign}`:y.value,k.value});const V=computed(()=>{let Xs=r.vnode.vParent||r.parent;for(;Xs&&!Xs.tableId&&!Xs.columnId;)Xs=Xs.vnode.vParent||Xs.parent;return Xs}),z=computed(()=>{const{store:Xs}=r.parent;if(!Xs)return!1;const{treeData:rc}=Xs.states,ic=rc.value;return ic&&Object.keys(ic).length>0}),j=ref(parseWidth(t.width)),ie=ref(parseMinWidth(t.minWidth)),Oe=Xs=>(j.value&&(Xs.width=j.value),ie.value&&(Xs.minWidth=ie.value),!j.value&&ie.value&&(Xs.width=void 0),Xs.minWidth||(Xs.minWidth=80),Xs.realWidth=Number(isUndefined(Xs.width)?Xs.minWidth:Xs.width),Xs),ur=Xs=>{const rc=Xs.type,ic=cellForced[rc]||{};Object.keys(ic).forEach(qm=>{const Xm=ic[qm];qm!=="className"&&!isUndefined(Xm)&&(Xs[qm]=Xm)});const _c=getDefaultClassName(rc);if(_c){const qm=`${unref(L.namespace)}-${_c}`;Xs.className=Xs.className?`${Xs.className} ${qm}`:qm}return Xs},hr=Xs=>{isArray$1(Xs)?Xs.forEach(ic=>rc(ic)):rc(Xs);function rc(ic){var _c;((_c=ic==null?void 0:ic.type)==null?void 0:_c.name)==="ElTableColumn"&&(ic.vParent=r)}};return{columnId:g,realAlign:y,isSubColumn:$,realHeaderAlign:k,columnOrTableParent:V,setColumnWidth:Oe,setColumnForcedProps:ur,setColumnRenders:Xs=>{t.renderHeader||Xs.type!=="selection"&&(Xs.renderHeader=ic=>{if(r.columnConfig.value.label,e.header){const _c=e.header(ic);if(ensureValidVNode(_c))return h$1(Fragment,_c)}return createTextVNode(Xs.label)}),e["filter-icon"]&&(Xs.renderFilterIcon=ic=>renderSlot(e,"filter-icon",ic)),e.expand&&(Xs.renderExpand=ic=>renderSlot(e,"expand",ic));let rc=Xs.renderCell;return Xs.type==="expand"?(Xs.renderCell=ic=>h$1("div",{class:"cell"},[rc(ic)]),n.value.renderExpanded=ic=>e.default?e.default(ic):e.default):(rc=rc||defaultRenderCell,Xs.renderCell=ic=>{let _c=null;if(e.default){const sv=e.default(ic);_c=sv.some(gv=>gv.type!==Comment)?sv:rc(ic)}else _c=rc(ic);const{columns:qm}=n.value.store.states,Xm=qm.value.findIndex(sv=>sv.type==="default"),Km=z.value&&ic.cellIndex===Xm,tv=treeCellPrefix(ic,Km),nv={class:"cell",style:{}};return Xs.showOverflowTooltip&&(nv.class=`${nv.class} ${unref(L.namespace)}-tooltip`,nv.style={width:`${(ic.column.realWidth||Number(ic.column.width))-1}px`}),hr(_c),h$1("div",nv,[tv,_c])}),Xs},getPropsData:(...Xs)=>Xs.reduce((rc,ic)=>(isArray$1(ic)&&ic.forEach(_c=>{rc[_c]=t[_c]}),rc),{}),getColumnElIndex:(Xs,rc)=>Array.prototype.indexOf.call(Xs,rc),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var defaultProps$1={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox},props:defaultProps$1,setup(t,{slots:e}){const n=getCurrentInstance(),r=ref({}),g=computed(()=>{let tc=n.parent;for(;tc&&!tc.tableId;)tc=tc.parent;return tc}),{registerNormalWatchers:$,registerComplexWatchers:y}=useWatcher(g,t),{columnId:k,isSubColumn:L,realHeaderAlign:V,columnOrTableParent:z,setColumnWidth:j,setColumnForcedProps:ie,setColumnRenders:Oe,getPropsData:ur,getColumnElIndex:hr,realAlign:Vr,updateColumnOrder:dr}=useRender(t,e,g),ec=z.value;k.value=`${"tableId"in ec&&ec.tableId||"columnId"in ec&&ec.columnId}_column_${columnIdSeed++}`,onBeforeMount(()=>{L.value=g.value!==ec;const tc=t.type||"default",Xs=t.sortable===""?!0:t.sortable,rc=tc==="selection"?!1:isUndefined(t.showOverflowTooltip)?ec.props.showOverflowTooltip:t.showOverflowTooltip,ic=isUndefined(t.tooltipFormatter)?ec.props.tooltipFormatter:t.tooltipFormatter,_c={...cellStarts[tc],id:k.value,type:tc,property:t.prop||t.property,align:Vr,headerAlign:V,showOverflowTooltip:rc,tooltipFormatter:ic,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:Xs,index:t.index,rawColumnKey:n.vnode.key};let nv=ur(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);nv=mergeOptions(_c,nv),nv=compose(Oe,j,ie)(nv),r.value=nv,$(),y()}),onMounted(()=>{var tc,Xs;const rc=z.value,ic=L.value?(tc=rc.vnode.el)==null?void 0:tc.children:(Xs=rc.refs.hiddenColumns)==null?void 0:Xs.children,_c=()=>hr(ic||[],n.vnode.el);r.value.getColumnIndex=_c,_c()>-1&&g.value.store.commit("insertColumn",r.value,L.value?"columnConfig"in rc&&rc.columnConfig.value:null,dr)}),onBeforeUnmount(()=>{const tc=r.value.getColumnIndex;(tc?tc():-1)>-1&&g.value.store.commit("removeColumn",r.value,L.value?"columnConfig"in ec&&ec.columnConfig.value:null,dr)}),n.columnId=k.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),g=[];if(isArray$1(r))for(const y of r)((n=y.type)==null?void 0:n.name)==="ElTableColumn"||y.shapeFlag&2?g.push(y):y.type===Fragment&&isArray$1(y.children)&&y.children.forEach(k=>{(k==null?void 0:k.patchFlag)!==1024&&!isString$1(k==null?void 0:k.children)&&g.push(k)});return h$1("div",g)}catch{return h$1("div",[])}}});const ElTable=withInstall(Table$1,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1);var SortOrder=(t=>(t.ASC="asc",t.DESC="desc",t))(SortOrder||{}),Alignment=(t=>(t.LEFT="left",t.CENTER="center",t.RIGHT="right",t))(Alignment||{}),FixedDir=(t=>(t.LEFT="left",t.RIGHT="right",t))(FixedDir||{});const oppositeOrderMap={asc:"desc",desc:"asc"},placeholderSign=Symbol("placeholder"),calcColumnStyle=(t,e,n)=>{var r;const g={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(g.flexShrink=1);const $={...(r=t.style)!=null?r:{},...g,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&($.maxWidth=t.maxWidth),t.minWidth&&($.minWidth=t.minWidth)),$};function useColumns(t,e,n){const r=computed(()=>unref(e).map((Vr,dr)=>{var ec,tc;return{...Vr,key:(tc=(ec=Vr.key)!=null?ec:Vr.dataKey)!=null?tc:dr}})),g=computed(()=>unref(r).filter(Vr=>!Vr.hidden)),$=computed(()=>unref(g).filter(Vr=>Vr.fixed==="left"||Vr.fixed===!0)),y=computed(()=>unref(g).filter(Vr=>Vr.fixed==="right")),k=computed(()=>unref(g).filter(Vr=>!Vr.fixed)),L=computed(()=>{const Vr=[];return unref($).forEach(dr=>{Vr.push({...dr,placeholderSign})}),unref(k).forEach(dr=>{Vr.push(dr)}),unref(y).forEach(dr=>{Vr.push({...dr,placeholderSign})}),Vr}),V=computed(()=>unref($).length||unref(y).length),z=computed(()=>unref(r).reduce((Vr,dr)=>(Vr[dr.key]=calcColumnStyle(dr,unref(n),t.fixed),Vr),{})),j=computed(()=>unref(g).reduce((Vr,dr)=>Vr+dr.width,0)),ie=Vr=>unref(r).find(dr=>dr.key===Vr),Oe=Vr=>unref(z)[Vr],ur=(Vr,dr)=>{Vr.width=dr};function hr(Vr){var dr;const{key:ec}=Vr.currentTarget.dataset;if(!ec)return;const{sortState:tc,sortBy:Xs}=t;let rc=SortOrder.ASC;isObject$2(tc)?rc=oppositeOrderMap[tc[ec]]:rc=oppositeOrderMap[Xs.order],(dr=t.onColumnSort)==null||dr.call(t,{column:ie(ec),key:ec,order:rc})}return{columns:r,columnsStyles:z,columnsTotalWidth:j,fixedColumnsOnLeft:$,fixedColumnsOnRight:y,hasFixedColumns:V,mainColumns:L,normalColumns:k,visibleColumns:g,getColumn:ie,getColumnStyle:Oe,updateColumnWidth:ur,onColumnSorted:hr}}const useScrollbar=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:g})=>{const $=ref({scrollLeft:0,scrollTop:0});function y(Oe){var ur,hr,Vr;const{scrollTop:dr}=Oe;(ur=e.value)==null||ur.scrollTo(Oe),(hr=n.value)==null||hr.scrollToTop(dr),(Vr=r.value)==null||Vr.scrollToTop(dr)}function k(Oe){$.value=Oe,y(Oe)}function L(Oe){$.value.scrollTop=Oe,y(unref($))}function V(Oe){var ur,hr;$.value.scrollLeft=Oe,(hr=(ur=e.value)==null?void 0:ur.scrollTo)==null||hr.call(ur,unref($))}function z(Oe){var ur;k(Oe),(ur=t.onScroll)==null||ur.call(t,Oe)}function j({scrollTop:Oe}){const{scrollTop:ur}=unref($);Oe!==ur&&L(Oe)}function ie(Oe,ur="auto"){var hr;(hr=e.value)==null||hr.scrollToRow(Oe,ur)}return watch(()=>unref($).scrollTop,(Oe,ur)=>{Oe>ur&&g()}),{scrollPos:$,scrollTo:k,scrollToLeft:V,scrollToTop:L,scrollToRow:ie,onScroll:z,onVerticalScroll:j}},useRow=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:g,ns:$,isScrolling:y})=>{const k=getCurrentInstance(),{emit:L}=k,V=shallowRef(!1),z=ref(t.defaultExpandedRowKeys||[]),j=ref(-1),ie=shallowRef(null),Oe=ref({}),ur=ref({}),hr=shallowRef({}),Vr=shallowRef({}),dr=shallowRef({}),ec=computed(()=>isNumber(t.estimatedRowHeight));function tc(Km){var tv;(tv=t.onRowsRendered)==null||tv.call(t,Km),Km.rowCacheEnd>unref(j)&&(j.value=Km.rowCacheEnd)}function Xs({hovered:Km,rowKey:tv}){if(y.value)return;g.vnode.el.querySelectorAll(`[rowkey="${String(tv)}"]`).forEach(gv=>{Km?gv.classList.add($.is("hovered")):gv.classList.remove($.is("hovered"))})}function rc({expanded:Km,rowData:tv,rowIndex:nv,rowKey:sv}){var gv,Sv;const wv=[...unref(z)],rv=wv.indexOf(sv);Km?rv===-1&&wv.push(sv):rv>-1&&wv.splice(rv,1),z.value=wv,L("update:expandedRowKeys",wv),(gv=t.onRowExpand)==null||gv.call(t,{expanded:Km,rowData:tv,rowIndex:nv,rowKey:sv}),(Sv=t.onExpandedRowsChange)==null||Sv.call(t,wv),g.vnode.el.querySelector(`.${$.is("hovered")}[rowkey="${String(sv)}"]`)&&nextTick(()=>Xs({hovered:!0,rowKey:sv}))}const ic=debounce(()=>{var Km,tv,nv,sv;V.value=!0,Oe.value={...unref(Oe),...unref(ur)},_c(unref(ie),!1),ur.value={},ie.value=null,(Km=e.value)==null||Km.forceUpdate(),(tv=n.value)==null||tv.forceUpdate(),(nv=r.value)==null||nv.forceUpdate(),(sv=k.proxy)==null||sv.$forceUpdate(),V.value=!1},0);function _c(Km,tv=!1){unref(ec)&&[e,n,r].forEach(nv=>{const sv=unref(nv);sv&&sv.resetAfterRowIndex(Km,tv)})}function qm(Km,tv,nv){const sv=unref(ie);(sv===null||sv>nv)&&(ie.value=nv),ur.value[Km]=tv}function Xm({rowKey:Km,height:tv,rowIndex:nv},sv){sv?sv===FixedDir.RIGHT?dr.value[Km]=tv:hr.value[Km]=tv:Vr.value[Km]=tv;const gv=Math.max(...[hr,dr,Vr].map(Sv=>Sv.value[Km]||0));unref(Oe)[Km]!==gv&&(qm(Km,gv,nv),ic())}return{expandedRowKeys:z,lastRenderedRowIndex:j,isDynamic:ec,isResetting:V,rowHeights:Oe,resetAfterIndex:_c,onRowExpanded:rc,onRowHovered:Xs,onRowsRendered:tc,onRowHeightChange:Xm}},useData=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const g=ref({}),$=computed(()=>{const k={},{data:L,rowKey:V}=t,z=unref(e);if(!z||!z.length)return L;const j=[],ie=new Set;z.forEach(ur=>ie.add(ur));let Oe=L.slice();for(Oe.forEach(ur=>k[ur[V]]=0);Oe.length>0;){const ur=Oe.shift();j.push(ur),ie.has(ur[V])&&isArray$1(ur.children)&&ur.children.length>0&&(Oe=[...ur.children,...Oe],ur.children.forEach(hr=>k[hr[V]]=k[ur[V]]+1))}return g.value=k,j}),y=computed(()=>{const{data:k,expandColumnKey:L}=t;return L?unref($):k});return watch(y,(k,L)=>{k!==L&&(n.value=-1,r(0,!0))}),{data:y,depthMap:g}},sumReducer=(t,e)=>t+e,sum=t=>isArray$1(t)?t.reduce(sumReducer,0):t,tryCall=(t,e,n={})=>isFunction$1(t)?t(e):t??n,enforceUnit=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=addUnit(t[e])}),t),componentToSlot=t=>isVNode$1(t)?e=>h$1(t,e):t,useStyles=(t,{columnsTotalWidth:e,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:g})=>{const $=computed(()=>{const{fixed:dr,width:ec,vScrollbarSize:tc}=t,Xs=ec-tc;return dr?Math.max(Math.round(unref(e)),Xs):Xs}),y=computed(()=>{const{height:dr=0,maxHeight:ec=0,footerHeight:tc,hScrollbarSize:Xs}=t;if(ec>0){const rc=unref(ie),ic=unref(n),qm=unref(j)+rc+ic+Xs;return Math.min(qm,ec-tc)}return dr-tc}),k=computed(()=>{const{maxHeight:dr}=t,ec=unref(y);if(isNumber(dr)&&dr>0)return ec;const tc=unref(n)+unref(j)+unref(ie);return Math.min(ec,tc)}),L=dr=>dr.width,V=computed(()=>sum(unref(r).map(L))),z=computed(()=>sum(unref(g).map(L))),j=computed(()=>sum(t.headerHeight)),ie=computed(()=>{var dr;return(((dr=t.fixedData)==null?void 0:dr.length)||0)*t.rowHeight}),Oe=computed(()=>unref(y)-unref(j)-unref(ie)),ur=computed(()=>{const{style:dr={},height:ec,width:tc}=t;return enforceUnit({...dr,height:ec,width:tc})}),hr=computed(()=>enforceUnit({height:t.footerHeight})),Vr=computed(()=>({top:addUnit(unref(j)),bottom:addUnit(t.footerHeight),width:addUnit(t.width)}));return{bodyWidth:$,fixedTableHeight:k,mainTableHeight:y,leftTableWidth:V,rightTableWidth:z,windowHeight:Oe,footerHeight:hr,emptyStyle:Vr,rootStyle:ur,headerHeight:j}};function useTable(t){const e=ref(),n=ref(),r=ref(),{columns:g,columnsStyles:$,columnsTotalWidth:y,fixedColumnsOnLeft:k,fixedColumnsOnRight:L,hasFixedColumns:V,mainColumns:z,onColumnSorted:j}=useColumns(t,toRef$1(t,"columns"),toRef$1(t,"fixed")),{scrollTo:ie,scrollToLeft:Oe,scrollToTop:ur,scrollToRow:hr,onScroll:Vr,onVerticalScroll:dr,scrollPos:ec}=useScrollbar(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:Vv}),tc=useNamespace("table-v2"),Xs=getCurrentInstance(),rc=shallowRef(!1),{expandedRowKeys:ic,lastRenderedRowIndex:_c,isDynamic:qm,isResetting:Xm,rowHeights:Km,resetAfterIndex:tv,onRowExpanded:nv,onRowHeightChange:sv,onRowHovered:gv,onRowsRendered:Sv}=useRow(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:Xs,ns:tc,isScrolling:rc}),{data:wv,depthMap:rv}=useData(t,{expandedRowKeys:ic,lastRenderedRowIndex:_c,resetAfterIndex:tv}),Jm=computed(()=>{const{estimatedRowHeight:Av,rowHeight:y0}=t,av=unref(wv);return isNumber(Av)?Object.values(unref(Km)).reduce((fv,lv)=>fv+lv,0):av.length*y0}),{bodyWidth:dv,fixedTableHeight:pv,mainTableHeight:mv,leftTableWidth:Cv,rightTableWidth:uv,windowHeight:yv,footerHeight:$v,emptyStyle:Dv,rootStyle:Hv,headerHeight:Gv}=useStyles(t,{columnsTotalWidth:y,fixedColumnsOnLeft:k,fixedColumnsOnRight:L,rowsHeight:Jm}),f0=ref(),qv=computed(()=>{const Av=unref(wv).length===0;return isArray$1(t.fixedData)?t.fixedData.length===0&&Av:Av});function Pv(Av){const{estimatedRowHeight:y0,rowHeight:av,rowKey:fv}=t;return y0?unref(Km)[unref(wv)[Av][fv]]||y0:av}const Tv=ref(!1);function Vv(){const{onEndReached:Av}=t;if(!Av)return;const{scrollTop:y0}=unref(ec),av=unref(Jm),fv=unref(yv),lv=av-(y0+fv)+t.hScrollbarSize;!Tv.value&&unref(_c)>=0&&av<=y0+unref(mv)-unref(Gv)?(Tv.value=!0,Av(lv)):Tv.value=!1}return watch(()=>unref(Jm),()=>Tv.value=!1),watch(()=>t.expandedRowKeys,Av=>ic.value=Av,{deep:!0}),{columns:g,containerRef:f0,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:qm,isResetting:Xm,isScrolling:rc,hasFixedColumns:V,columnsStyles:$,columnsTotalWidth:y,data:wv,expandedRowKeys:ic,depthMap:rv,fixedColumnsOnLeft:k,fixedColumnsOnRight:L,mainColumns:z,bodyWidth:dv,emptyStyle:Dv,rootStyle:Hv,footerHeight:$v,mainTableHeight:mv,fixedTableHeight:pv,leftTableWidth:Cv,rightTableWidth:uv,showEmpty:qv,getRowHeight:Pv,onColumnSorted:j,onRowHovered:gv,onRowExpanded:nv,onRowsRendered:Sv,onRowHeightChange:sv,scrollTo:ie,scrollToLeft:Oe,scrollToTop:ur,scrollToRow:hr,onScroll:Vr,onVerticalScroll:dr}}const TableV2InjectionKey=Symbol("tableV2"),TABLE_V2_GRID_INJECTION_KEY="tableV2GridScrollLeft",classType=String,columns={type:definePropType(Array),required:!0},fixedDataType={type:definePropType(Array)},dataType={...fixedDataType,required:!0},expandColumnKey=String,expandKeys={type:definePropType(Array),default:()=>mutable([])},requiredNumber={type:Number,required:!0},rowKey={type:definePropType([String,Number,Symbol]),default:"id"},styleType={type:definePropType(Object)},tableV2RowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},depth:Number,expandColumnKey,estimatedRowHeight:{...virtualizedGridProps.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:definePropType(Function)},onRowHover:{type:definePropType(Function)},onRowHeightChange:{type:definePropType(Function)},rowData:{type:definePropType(Object),required:!0},rowEventHandlers:{type:definePropType(Object)},rowIndex:{type:Number,required:!0},rowKey,style:{type:definePropType(Object)}}),requiredNumberType={type:Number,required:!0},tableV2HeaderProps=buildProps({class:String,columns,fixedHeaderData:{type:definePropType(Array)},headerData:{type:definePropType(Array),required:!0},headerHeight:{type:definePropType([Number,Array]),default:50},rowWidth:requiredNumberType,rowHeight:{type:Number,default:50},height:requiredNumberType,width:requiredNumberType}),tableV2GridProps=buildProps({columns,data:dataType,fixedData:fixedDataType,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,width:requiredNumber,height:requiredNumber,headerWidth:requiredNumber,headerHeight:tableV2HeaderProps.headerHeight,bodyWidth:requiredNumber,rowHeight:requiredNumber,cache:virtualizedListProps.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:virtualizedGridProps.scrollbarAlwaysOn,scrollbarStartGap:virtualizedGridProps.scrollbarStartGap,scrollbarEndGap:virtualizedGridProps.scrollbarEndGap,class:classType,style:styleType,containerStyle:styleType,getRowHeight:{type:definePropType(Function),required:!0},rowKey:tableV2RowProps.rowKey,onRowsRendered:{type:definePropType(Function)},onScroll:{type:definePropType(Function)}}),tableV2Props=buildProps({cache:tableV2GridProps.cache,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,rowKey,headerClass:{type:definePropType([String,Function])},headerProps:{type:definePropType([Object,Function])},headerCellProps:{type:definePropType([Object,Function])},headerHeight:tableV2HeaderProps.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:definePropType([String,Function])},rowProps:{type:definePropType([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:definePropType([Object,Function])},columns,data:dataType,dataGetter:{type:definePropType(Function)},fixedData:fixedDataType,expandColumnKey:tableV2RowProps.expandColumnKey,expandedRowKeys:expandKeys,defaultExpandedRowKeys:expandKeys,class:classType,fixed:Boolean,style:{type:definePropType(Object)},width:requiredNumber,height:requiredNumber,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:virtualizedGridProps.hScrollbarSize,vScrollbarSize:virtualizedGridProps.vScrollbarSize,scrollbarAlwaysOn:virtualizedScrollbarProps.alwaysOn,sortBy:{type:definePropType(Object),default:()=>({})},sortState:{type:definePropType(Object),default:void 0},onColumnSort:{type:definePropType(Function)},onExpandedRowsChange:{type:definePropType(Function)},onEndReached:{type:definePropType(Function)},onRowExpand:tableV2RowProps.onRowExpand,onScroll:tableV2GridProps.onScroll,onRowsRendered:tableV2GridProps.onRowsRendered,rowEventHandlers:tableV2RowProps.rowEventHandlers}),COMPONENT_NAME$8="ElTableV2Header",TableV2Header=defineComponent({name:COMPONENT_NAME$8,props:tableV2HeaderProps,setup(t,{slots:e,expose:n}){const r=useNamespace("table-v2"),g=inject(TABLE_V2_GRID_INJECTION_KEY),$=ref(),y=computed(()=>enforceUnit({width:t.width,height:t.height})),k=computed(()=>enforceUnit({width:t.rowWidth,height:t.height})),L=computed(()=>castArray$1(unref(t.headerHeight))),V=ie=>{const Oe=unref($);nextTick(()=>{Oe!=null&&Oe.scroll&&Oe.scroll({left:ie})})},z=()=>{const ie=r.e("fixed-header-row"),{columns:Oe,fixedHeaderData:ur,rowHeight:hr}=t;return ur==null?void 0:ur.map((Vr,dr)=>{var ec;const tc=enforceUnit({height:hr,width:"100%"});return(ec=e.fixed)==null?void 0:ec.call(e,{class:ie,columns:Oe,rowData:Vr,rowIndex:-(dr+1),style:tc})})},j=()=>{const ie=r.e("dynamic-header-row"),{columns:Oe}=t;return unref(L).map((ur,hr)=>{var Vr;const dr=enforceUnit({width:"100%",height:ur});return(Vr=e.dynamic)==null?void 0:Vr.call(e,{class:ie,columns:Oe,headerIndex:hr,style:dr})})};return onUpdated(()=>{g!=null&&g.value&&V(g.value)}),n({scrollToLeft:V}),()=>{if(!(t.height<=0))return createVNode("div",{ref:$,class:t.class,style:unref(y),role:"rowgroup"},[createVNode("div",{style:unref(k),class:r.e("header")},[j(),z()])])}}});var Header$1=TableV2Header;const useGridWheel=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},g)=>{let $=null,y=0,k=0;const L=(z,j)=>{const ie=z<=0&&e.value||z>=0&&t.value,Oe=j<=0&&r.value||j>=0&&n.value;return ie&&Oe};return{hasReachedEdge:L,onWheel:z=>{cAF($);let j=z.deltaX,ie=z.deltaY;Math.abs(j)>Math.abs(ie)?ie=0:j=0,z.shiftKey&&ie!==0&&(j=ie,ie=0),!(L(y,k)&&L(y+j,k+ie))&&(y+=j,k+=ie,z.preventDefault(),$=rAF(()=>{g(y,k),y=0,k=0}))}}},useGridTouch=(t,e,n,r,g,$,y)=>{const k=ref(0),L=ref(0);let V,z=0,j=0;const ie=ur=>{cAF(V),k.value=ur.touches[0].clientX,L.value=ur.touches[0].clientY,z=0,j=0},Oe=ur=>{ur.preventDefault(),cAF(V),z+=k.value-ur.touches[0].clientX,j+=L.value-ur.touches[0].clientY,k.value=ur.touches[0].clientX,L.value=ur.touches[0].clientY,V=rAF(()=>{const hr=r.value-unref($),Vr=g.value-unref(y),dr=Math.min(e.value.scrollLeft+z,hr),ec=Math.min(e.value.scrollTop+j,Vr);n({scrollLeft:dr,scrollTop:ec}),z=0,j=0})};return useEventListener(t,"touchstart",ie,{passive:!0}),useEventListener(t,"touchmove",Oe,{passive:!1}),{touchStartX:k,touchStartY:L,handleTouchStart:ie,handleTouchMove:Oe}},createGrid=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:g,getEstimatedTotalHeight:$,getEstimatedTotalWidth:y,getColumnOffset:k,getRowOffset:L,getRowPosition:V,getRowStartIndexForOffset:z,getRowStopIndexForStartIndex:j,initCache:ie,injectToInstance:Oe,validateProps:ur})=>defineComponent({name:t??"ElVirtualList",props:virtualizedGridProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(hr,{emit:Vr,expose:dr,slots:ec}){const tc=useNamespace("vl");ur(hr);const Xs=getCurrentInstance(),rc=ref(ie(hr,Xs));Oe==null||Oe(Xs,rc);const ic=ref(),_c=ref(),qm=ref(),Xm=ref(),Km=ref({isScrolling:!1,scrollLeft:isNumber(hr.initScrollLeft)?hr.initScrollLeft:0,scrollTop:isNumber(hr.initScrollTop)?hr.initScrollTop:0,updateRequested:!1,xAxisScrollDir:FORWARD,yAxisScrollDir:FORWARD}),tv=useCache(),nv=computed(()=>Number.parseInt(`${hr.height}`,10)),sv=computed(()=>Number.parseInt(`${hr.width}`,10)),gv=computed(()=>{const{totalColumn:vv,totalRow:Ev,columnCache:zv}=hr,{isScrolling:Fv,xAxisScrollDir:Yv,scrollLeft:g0}=unref(Km);if(vv===0||Ev===0)return[0,0,0,0];const Qv=r(hr,g0,unref(rc)),N0=g(hr,Qv,g0,unref(rc)),B0=!Fv||Yv===BACKWARD?Math.max(1,zv):1,a1=!Fv||Yv===FORWARD?Math.max(1,zv):1;return[Math.max(0,Qv-B0),Math.max(0,Math.min(vv-1,N0+a1)),Qv,N0]}),Sv=computed(()=>{const{totalColumn:vv,totalRow:Ev,rowCache:zv}=hr,{isScrolling:Fv,yAxisScrollDir:Yv,scrollTop:g0}=unref(Km);if(vv===0||Ev===0)return[0,0,0,0];const Qv=z(hr,g0,unref(rc)),N0=j(hr,Qv,g0,unref(rc)),B0=!Fv||Yv===BACKWARD?Math.max(1,zv):1,a1=!Fv||Yv===FORWARD?Math.max(1,zv):1;return[Math.max(0,Qv-B0),Math.max(0,Math.min(Ev-1,N0+a1)),Qv,N0]}),wv=computed(()=>$(hr,unref(rc))),rv=computed(()=>y(hr,unref(rc))),Jm=computed(()=>{var vv;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:hr.direction,height:isNumber(hr.height)?`${hr.height}px`:hr.height,width:isNumber(hr.width)?`${hr.width}px`:hr.width},(vv=hr.style)!=null?vv:{}]}),dv=computed(()=>{const vv=`${unref(rv)}px`;return{height:`${unref(wv)}px`,pointerEvents:unref(Km).isScrolling?"none":void 0,width:vv,margin:0,boxSizing:"border-box"}}),pv=()=>{const{totalColumn:vv,totalRow:Ev}=hr;if(vv>0&&Ev>0){const[N0,B0,a1,I0]=unref(gv),[M0,D0,W0,Zv]=unref(Sv);Vr(ITEM_RENDER_EVT,{columnCacheStart:N0,columnCacheEnd:B0,rowCacheStart:M0,rowCacheEnd:D0,columnVisibleStart:a1,columnVisibleEnd:I0,rowVisibleStart:W0,rowVisibleEnd:Zv})}const{scrollLeft:zv,scrollTop:Fv,updateRequested:Yv,xAxisScrollDir:g0,yAxisScrollDir:Qv}=unref(Km);Vr(SCROLL_EVT,{xAxisScrollDir:g0,scrollLeft:zv,yAxisScrollDir:Qv,scrollTop:Fv,updateRequested:Yv})},mv=vv=>{const{clientHeight:Ev,clientWidth:zv,scrollHeight:Fv,scrollLeft:Yv,scrollTop:g0,scrollWidth:Qv}=vv.currentTarget,N0=unref(Km);if(N0.scrollTop===g0&&N0.scrollLeft===Yv)return;let B0=Yv;if(isRTL$1(hr.direction))switch(getRTLOffsetType()){case RTL_OFFSET_NAG:B0=-Yv;break;case RTL_OFFSET_POS_DESC:B0=Qv-zv-Yv;break}Km.value={...N0,isScrolling:!0,scrollLeft:B0,scrollTop:Math.max(0,Math.min(g0,Fv-Ev)),updateRequested:!0,xAxisScrollDir:getScrollDir(N0.scrollLeft,B0),yAxisScrollDir:getScrollDir(N0.scrollTop,g0)},nextTick(()=>Tv()),Vv(),pv()},Cv=(vv,Ev)=>{const zv=unref(nv),Fv=(wv.value-zv)/Ev*vv;$v({scrollTop:Math.min(wv.value-zv,Fv)})},uv=(vv,Ev)=>{const zv=unref(sv),Fv=(rv.value-zv)/Ev*vv;$v({scrollLeft:Math.min(rv.value-zv,Fv)})},{onWheel:yv}=useGridWheel({atXStartEdge:computed(()=>Km.value.scrollLeft<=0),atXEndEdge:computed(()=>Km.value.scrollLeft>=rv.value-unref(sv)),atYStartEdge:computed(()=>Km.value.scrollTop<=0),atYEndEdge:computed(()=>Km.value.scrollTop>=wv.value-unref(nv))},(vv,Ev)=>{var zv,Fv,Yv,g0;(Fv=(zv=_c.value)==null?void 0:zv.onMouseUp)==null||Fv.call(zv),(g0=(Yv=qm.value)==null?void 0:Yv.onMouseUp)==null||g0.call(Yv);const Qv=unref(sv),N0=unref(nv);$v({scrollLeft:Math.min(Km.value.scrollLeft+vv,rv.value-Qv),scrollTop:Math.min(Km.value.scrollTop+Ev,wv.value-N0)})});useEventListener(ic,"wheel",yv,{passive:!1});const $v=({scrollLeft:vv=Km.value.scrollLeft,scrollTop:Ev=Km.value.scrollTop})=>{vv=Math.max(vv,0),Ev=Math.max(Ev,0);const zv=unref(Km);Ev===zv.scrollTop&&vv===zv.scrollLeft||(Km.value={...zv,xAxisScrollDir:getScrollDir(zv.scrollLeft,vv),yAxisScrollDir:getScrollDir(zv.scrollTop,Ev),scrollLeft:vv,scrollTop:Ev,updateRequested:!0},nextTick(()=>Tv()),Vv(),pv())},{touchStartX:Dv,touchStartY:Hv,handleTouchStart:Gv,handleTouchMove:f0}=useGridTouch(ic,Km,$v,rv,wv,sv,nv),qv=(vv=0,Ev=0,zv=AUTO_ALIGNMENT)=>{const Fv=unref(Km);Ev=Math.max(0,Math.min(Ev,hr.totalColumn-1)),vv=Math.max(0,Math.min(vv,hr.totalRow-1));const Yv=getScrollBarWidth(tc.namespace.value),g0=unref(rc),Qv=$(hr,g0),N0=y(hr,g0);$v({scrollLeft:k(hr,Ev,zv,Fv.scrollLeft,g0,N0>hr.width?Yv:0),scrollTop:L(hr,vv,zv,Fv.scrollTop,g0,Qv>hr.height?Yv:0)})},Pv=(vv,Ev)=>{const{columnWidth:zv,direction:Fv,rowHeight:Yv}=hr,g0=tv.value(e&&zv,e&&Yv,e&&Fv),Qv=`${vv},${Ev}`;if(hasOwn$1(g0,Qv))return g0[Qv];{const[,N0]=n(hr,Ev,unref(rc)),B0=unref(rc),a1=isRTL$1(Fv),[I0,M0]=V(hr,vv,B0),[D0]=n(hr,Ev,B0);return g0[Qv]={position:"absolute",left:a1?void 0:`${N0}px`,right:a1?`${N0}px`:void 0,top:`${M0}px`,height:`${I0}px`,width:`${D0}px`},g0[Qv]}},Tv=()=>{Km.value.isScrolling=!1,nextTick(()=>{tv.value(-1,null,null)})};onMounted(()=>{if(!isClient)return;const{initScrollLeft:vv,initScrollTop:Ev}=hr,zv=unref(ic);zv&&(isNumber(vv)&&(zv.scrollLeft=vv),isNumber(Ev)&&(zv.scrollTop=Ev)),pv()});const Vv=()=>{const{direction:vv}=hr,{scrollLeft:Ev,scrollTop:zv,updateRequested:Fv}=unref(Km),Yv=unref(ic);if(Fv&&Yv){if(vv===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{Yv.scrollLeft=-Ev;break}case RTL_OFFSET_POS_ASC:{Yv.scrollLeft=Ev;break}default:{const{clientWidth:g0,scrollWidth:Qv}=Yv;Yv.scrollLeft=Qv-g0-Ev;break}}else Yv.scrollLeft=Math.max(0,Ev);Yv.scrollTop=Math.max(0,zv)}},{resetAfterColumnIndex:Av,resetAfterRowIndex:y0,resetAfter:av}=Xs.proxy;dr({windowRef:ic,innerRef:Xm,getItemStyleCache:tv,touchStartX:Dv,touchStartY:Hv,handleTouchStart:Gv,handleTouchMove:f0,scrollTo:$v,scrollToItem:qv,states:Km,resetAfterColumnIndex:Av,resetAfterRowIndex:y0,resetAfter:av});const fv=()=>{const{scrollbarAlwaysOn:vv,scrollbarStartGap:Ev,scrollbarEndGap:zv,totalColumn:Fv,totalRow:Yv}=hr,g0=unref(sv),Qv=unref(nv),N0=unref(rv),B0=unref(wv),{scrollLeft:a1,scrollTop:I0}=unref(Km),M0=h$1(ScrollBar,{ref:_c,alwaysOn:vv,startGap:Ev,endGap:zv,class:tc.e("horizontal"),clientSize:g0,layout:"horizontal",onScroll:uv,ratio:g0*100/N0,scrollFrom:a1/(N0-g0),total:Yv,visible:!0}),D0=h$1(ScrollBar,{ref:qm,alwaysOn:vv,startGap:Ev,endGap:zv,class:tc.e("vertical"),clientSize:Qv,layout:"vertical",onScroll:Cv,ratio:Qv*100/B0,scrollFrom:I0/(B0-Qv),total:Fv,visible:!0});return{horizontalScrollbar:M0,verticalScrollbar:D0}},lv=()=>{var vv;const[Ev,zv]=unref(gv),[Fv,Yv]=unref(Sv),{data:g0,totalColumn:Qv,totalRow:N0,useIsScrolling:B0,itemKey:a1}=hr,I0=[];if(N0>0&&Qv>0)for(let M0=Fv;M0<=Yv;M0++)for(let D0=Ev;D0<=zv;D0++){const W0=a1({columnIndex:D0,data:g0,rowIndex:M0});I0.push(h$1(Fragment,{key:W0},(vv=ec.default)==null?void 0:vv.call(ec,{columnIndex:D0,data:g0,isScrolling:B0?unref(Km).isScrolling:void 0,style:Pv(M0,D0),rowIndex:M0})))}return I0},kv=()=>{const vv=resolveDynamicComponent(hr.innerElement),Ev=lv();return[h$1(vv,mergeProps(hr.innerProps,{style:unref(dv),ref:Xm}),isString$1(vv)?Ev:{default:()=>Ev})]};return()=>{const vv=resolveDynamicComponent(hr.containerElement),{horizontalScrollbar:Ev,verticalScrollbar:zv}=fv(),Fv=kv();return h$1("div",{key:0,class:tc.e("wrapper"),role:hr.role},[h$1(vv,{class:hr.className,style:unref(Jm),onScroll:mv,ref:ic},isString$1(vv)?Fv:{default:()=>Fv}),Ev,zv])}}}),{max:max$1,min:min$1,floor:floor$1}=Math,ACCESS_SIZER_KEY_MAP={column:"columnWidth",row:"rowHeight"},ACCESS_LAST_VISITED_KEY_MAP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},getItemFromCache=(t,e,n,r)=>{const[g,$,y]=[n[r],t[ACCESS_SIZER_KEY_MAP[r]],n[ACCESS_LAST_VISITED_KEY_MAP[r]]];if(e>y){let k=0;if(y>=0){const L=g[y];k=L.offset+L.size}for(let L=y+1;L<=e;L++){const V=$(L);g[L]={offset:k,size:V},k+=V}n[ACCESS_LAST_VISITED_KEY_MAP[r]]=e}return g[e]},bs=(t,e,n,r,g,$)=>{for(;n<=r;){const y=n+floor$1((r-n)/2),k=getItemFromCache(t,y,e,$).offset;if(k===g)return y;k<g?n=y+1:r=y-1}return max$1(0,n-1)},es=(t,e,n,r,g)=>{const $=g==="column"?t.totalColumn:t.totalRow;let y=1;for(;n<$&&getItemFromCache(t,n,e,g).offset<r;)n+=y,y*=2;return bs(t,e,floor$1(n/2),min$1(n,$-1),r,g)},findItem=(t,e,n,r)=>{const[g,$]=[e[r],e[ACCESS_LAST_VISITED_KEY_MAP[r]]];return($>0?g[$].offset:0)>=n?bs(t,e,0,$,n,r):es(t,e,max$1(0,$),n,r)},getEstimatedTotalHeight=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let g=0;if(n>=t&&(n=t-1),n>=0){const k=r[n];g=k.offset+k.size}const y=(t-n-1)*e;return g+y},getEstimatedTotalWidth=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let g=0;if(r>t&&(r=t-1),r>=0){const k=e[r];g=k.offset+k.size}const y=(t-r-1)*n;return g+y},ACCESS_ESTIMATED_SIZE_KEY_MAP={column:getEstimatedTotalWidth,row:getEstimatedTotalHeight},getOffset=(t,e,n,r,g,$,y)=>{const[k,L]=[$==="row"?t.height:t.width,ACCESS_ESTIMATED_SIZE_KEY_MAP[$]],V=getItemFromCache(t,e,g,$),z=L(t,g),j=max$1(0,min$1(z-k,V.offset)),ie=max$1(0,V.offset-k+y+V.size);switch(n===SMART_ALIGNMENT&&(r>=ie-k&&r<=j+k?n=AUTO_ALIGNMENT:n=CENTERED_ALIGNMENT),n){case START_ALIGNMENT:return j;case END_ALIGNMENT:return ie;case CENTERED_ALIGNMENT:return Math.round(ie+(j-ie)/2);case AUTO_ALIGNMENT:default:return r>=ie&&r<=j?r:ie>j||r<ie?ie:j}},DynamicSizeGrid=createGrid({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=getItemFromCache(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=getItemFromCache(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,g,$)=>getOffset(t,e,n,r,g,"column",$),getRowOffset:(t,e,n,r,g,$)=>getOffset(t,e,n,r,g,"row",$),getColumnStartIndexForOffset:(t,e,n)=>findItem(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const g=getItemFromCache(t,e,r,"column"),$=n+t.width;let y=g.offset+g.size,k=e;for(;k<t.totalColumn-1&&y<$;)k++,y+=getItemFromCache(t,e,r,"column").size;return k},getEstimatedTotalHeight,getEstimatedTotalWidth,getRowStartIndexForOffset:(t,e,n)=>findItem(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:g,height:$}=t,y=getItemFromCache(t,e,r,"row"),k=n+$;let L=y.size+y.offset,V=e;for(;V<g-1&&L<k;)V++,L+=getItemFromCache(t,V,r,"row").size;return V},injectToInstance:(t,e)=>{const n=({columnIndex:$,rowIndex:y},k)=>{var L,V;k=isUndefined(k)?!0:k,isNumber($)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,$-1)),isNumber(y)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,y-1)),(L=t.exposed)==null||L.getItemStyleCache.value(-1,null,null),k&&((V=t.proxy)==null||V.$forceUpdate())},r=($,y)=>{n({columnIndex:$},y)},g=($,y)=>{n({rowIndex:$},y)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:g,resetAfter:n})},initCache:({estimatedColumnWidth:t=DEFAULT_DYNAMIC_LIST_ITEM_SIZE,estimatedRowHeight:e=DEFAULT_DYNAMIC_LIST_ITEM_SIZE})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),FixedSizeGrid=createGrid({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,g,$,y,k)=>{n=Number(n);const L=Math.max(0,t*e-n),V=Math.min(L,r*e),z=Math.max(0,r*e-n+k+e);switch(g==="smart"&&($>=z-n&&$<=V+n?g=AUTO_ALIGNMENT:g=CENTERED_ALIGNMENT),g){case START_ALIGNMENT:return V;case END_ALIGNMENT:return z;case CENTERED_ALIGNMENT:{const j=Math.round(z+(V-z)/2);return j<Math.ceil(n/2)?0:j>L+Math.floor(n/2)?L:j}case AUTO_ALIGNMENT:default:return $>=z&&$<=V?$:z>V||$<z?z:V}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,g,$,y,k)=>{e=Number(e);const L=Math.max(0,n*t-e),V=Math.min(L,r*t),z=Math.max(0,r*t-e+k+t);switch(g===SMART_ALIGNMENT&&($>=z-e&&$<=V+e?g=AUTO_ALIGNMENT:g=CENTERED_ALIGNMENT),g){case START_ALIGNMENT:return V;case END_ALIGNMENT:return z;case CENTERED_ALIGNMENT:{const j=Math.round(z+(V-z)/2);return j<Math.ceil(e/2)?0:j>L+Math.floor(e/2)?L:j}case AUTO_ALIGNMENT:default:return $>=z&&$<=V?$:z>V||$<z?z:V}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,g)=>{const $=r*t,y=Math.ceil((n+g-$)/t);return Math.max(0,Math.min(e-1,r+y-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,g)=>{const $=r*t,y=Math.ceil((n+g-$)/t);return Math.max(0,Math.min(e-1,r+y-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),COMPONENT_NAME$7="ElTableV2Grid",useTableGrid=t=>{const e=ref(),n=ref(),r=ref(0),g=computed(()=>{const{data:Vr,rowHeight:dr,estimatedRowHeight:ec}=t;if(!ec)return Vr.length*dr}),$=computed(()=>{const{fixedData:Vr,rowHeight:dr}=t;return((Vr==null?void 0:Vr.length)||0)*dr}),y=computed(()=>sum(t.headerHeight)),k=computed(()=>{const{height:Vr}=t;return Math.max(0,Vr-unref(y)-unref($))}),L=computed(()=>unref(y)+unref($)>0),V=({data:Vr,rowIndex:dr})=>Vr[dr][t.rowKey];function z({rowCacheStart:Vr,rowCacheEnd:dr,rowVisibleStart:ec,rowVisibleEnd:tc}){var Xs;(Xs=t.onRowsRendered)==null||Xs.call(t,{rowCacheStart:Vr,rowCacheEnd:dr,rowVisibleStart:ec,rowVisibleEnd:tc})}function j(Vr,dr){var ec;(ec=n.value)==null||ec.resetAfterRowIndex(Vr,dr)}function ie(Vr,dr){const ec=unref(e),tc=unref(n);isObject$2(Vr)?(ec==null||ec.scrollToLeft(Vr.scrollLeft),r.value=Vr.scrollLeft,tc==null||tc.scrollTo(Vr)):(ec==null||ec.scrollToLeft(Vr),r.value=Vr,tc==null||tc.scrollTo({scrollLeft:Vr,scrollTop:dr}))}function Oe(Vr){var dr;(dr=unref(n))==null||dr.scrollTo({scrollTop:Vr})}function ur(Vr,dr){var ec;(ec=unref(n))==null||ec.scrollToItem(Vr,1,dr)}function hr(){var Vr,dr;(Vr=unref(n))==null||Vr.$forceUpdate(),(dr=unref(e))==null||dr.$forceUpdate()}return watch(()=>t.bodyWidth,()=>{var Vr;isNumber(t.estimatedRowHeight)&&((Vr=n.value)==null||Vr.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:hr,fixedRowHeight:$,gridHeight:k,hasHeader:L,headerHeight:y,headerRef:e,totalHeight:g,itemKey:V,onItemRendered:z,resetAfterRowIndex:j,scrollTo:ie,scrollToTop:Oe,scrollToRow:ur,scrollLeft:r}},TableGrid=defineComponent({name:COMPONENT_NAME$7,props:tableV2GridProps,setup(t,{slots:e,expose:n}){const{ns:r}=inject(TableV2InjectionKey),{bodyRef:g,fixedRowHeight:$,gridHeight:y,hasHeader:k,headerRef:L,headerHeight:V,totalHeight:z,forceUpdate:j,itemKey:ie,onItemRendered:Oe,resetAfterRowIndex:ur,scrollTo:hr,scrollToTop:Vr,scrollToRow:dr,scrollLeft:ec}=useTableGrid(t);provide(TABLE_V2_GRID_INJECTION_KEY,ec),onActivated(async()=>{var Xs;await nextTick();const rc=(Xs=g.value)==null?void 0:Xs.states.scrollTop;rc&&Vr(Math.round(rc)+1)}),n({forceUpdate:j,totalHeight:z,scrollTo:hr,scrollToTop:Vr,scrollToRow:dr,resetAfterRowIndex:ur});const tc=()=>t.bodyWidth;return()=>{const{cache:Xs,columns:rc,data:ic,fixedData:_c,useIsScrolling:qm,scrollbarAlwaysOn:Xm,scrollbarEndGap:Km,scrollbarStartGap:tv,style:nv,rowHeight:sv,bodyWidth:gv,estimatedRowHeight:Sv,headerWidth:wv,height:rv,width:Jm,getRowHeight:dv,onScroll:pv}=t,mv=isNumber(Sv),Cv=mv?DynamicSizeGrid:FixedSizeGrid,uv=unref(V);return createVNode("div",{role:"table",class:[r.e("table"),t.class],style:nv},[createVNode(Cv,{ref:g,data:ic,useIsScrolling:qm,itemKey:ie,columnCache:0,columnWidth:mv?tc:gv,totalColumn:1,totalRow:ic.length,rowCache:Xs,rowHeight:mv?dv:sv,width:Jm,height:unref(y),class:r.e("body"),role:"rowgroup",scrollbarStartGap:tv,scrollbarEndGap:Km,scrollbarAlwaysOn:Xm,onScroll:pv,onItemRendered:Oe,perfMode:!1},{default:yv=>{var $v;const Dv=ic[yv.rowIndex];return($v=e.row)==null?void 0:$v.call(e,{...yv,columns:rc,rowData:Dv})}}),unref(k)&&createVNode(Header$1,{ref:L,class:r.e("header-wrapper"),columns:rc,headerData:ic,headerHeight:t.headerHeight,fixedHeaderData:_c,rowWidth:wv,rowHeight:sv,width:Jm,height:Math.min(uv+unref($),rv)},{dynamic:e.header,fixed:e.row})])}}});var Table=TableGrid;function _isSlot$5(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}const MainTable=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return createVNode(Table,mergeProps({ref:n},r),_isSlot$5(e)?e:{default:()=>[e]})};var MainTable$1=MainTable;function _isSlot$4(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}const LeftTable=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return createVNode(Table,mergeProps({ref:n},r),_isSlot$4(e)?e:{default:()=>[e]})};var LeftTable$1=LeftTable;function _isSlot$3(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}const RightTable=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return createVNode(Table,mergeProps({ref:n},r),_isSlot$3(e)?e:{default:()=>[e]})};var RightTable$1=RightTable;const useTableRow=t=>{const{isScrolling:e}=inject(TableV2InjectionKey),n=ref(!1),r=ref(),g=computed(()=>isNumber(t.estimatedRowHeight)&&t.rowIndex>=0),$=(L=!1)=>{const V=unref(r);if(!V)return;const{columns:z,onRowHeightChange:j,rowKey:ie,rowIndex:Oe,style:ur}=t,{height:hr}=V.getBoundingClientRect();n.value=!0,nextTick(()=>{if(L||hr!==Number.parseInt(ur.height)){const Vr=z[0],dr=(Vr==null?void 0:Vr.placeholderSign)===placeholderSign;j==null||j({rowKey:ie,height:hr,rowIndex:Oe},Vr&&!dr&&Vr.fixed)}})},y=computed(()=>{const{rowData:L,rowIndex:V,rowKey:z,onRowHover:j}=t,ie=t.rowEventHandlers||{},Oe={};return Object.entries(ie).forEach(([ur,hr])=>{isFunction$1(hr)&&(Oe[ur]=Vr=>{hr({event:Vr,rowData:L,rowIndex:V,rowKey:z})})}),j&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:ur,hovered:hr})=>{const Vr=Oe[ur];Oe[ur]=dr=>{j({event:dr,hovered:hr,rowData:L,rowIndex:V,rowKey:z}),Vr==null||Vr(dr)}}),Oe}),k=L=>{const{onRowExpand:V,rowData:z,rowIndex:j,rowKey:ie}=t;V==null||V({expanded:L,rowData:z,rowIndex:j,rowKey:ie})};return onMounted(()=>{unref(g)&&$(!0)}),{isScrolling:e,measurable:g,measured:n,rowRef:r,eventHandlers:y,onExpand:k}},COMPONENT_NAME$6="ElTableV2TableRow",TableV2Row=defineComponent({name:COMPONENT_NAME$6,props:tableV2RowProps,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:g,isScrolling:$,measurable:y,measured:k,rowRef:L,onExpand:V}=useTableRow(t);return e({onExpand:V}),()=>{const{columns:z,columnsStyles:j,expandColumnKey:ie,depth:Oe,rowData:ur,rowIndex:hr,style:Vr}=t;let dr=z.map((ec,tc)=>{const Xs=isArray$1(ur.children)&&ur.children.length>0&&ec.key===ie;return n.cell({column:ec,columns:z,columnIndex:tc,depth:Oe,style:j[ec.key],rowData:ur,rowIndex:hr,isScrolling:unref($),expandIconProps:Xs?{rowData:ur,rowIndex:hr,onExpand:V}:void 0})});if(n.row&&(dr=n.row({cells:dr.map(ec=>isArray$1(ec)&&ec.length===1?ec[0]:ec),style:Vr,columns:z,depth:Oe,rowData:ur,rowIndex:hr,isScrolling:unref($)})),unref(y)){const{height:ec,...tc}=Vr||{},Xs=unref(k);return createVNode("div",mergeProps({ref:L,class:t.class,style:Xs?Vr:tc,role:"row"},r,unref(g)),[dr])}return createVNode("div",mergeProps(r,{ref:L,class:t.class,style:Vr,role:"row"},unref(g)),[dr])}}});var Row$1=TableV2Row;function _isSlot$2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}const RowRenderer=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:g,expandColumnKey:$,expandedRowKeys:y,estimatedRowHeight:k,hasFixedColumns:L,rowData:V,rowIndex:z,style:j,isScrolling:ie,rowProps:Oe,rowClass:ur,rowKey:hr,rowEventHandlers:Vr,ns:dr,onRowHovered:ec,onRowExpanded:tc}=t,Xs=tryCall(ur,{columns:n,rowData:V,rowIndex:z},""),rc=tryCall(Oe,{columns:n,rowData:V,rowIndex:z}),ic=V[hr],_c=g[ic]||0,qm=!!$,Xm=z<0,Km=[dr.e("row"),Xs,dr.is("expanded",qm&&y.includes(ic)),dr.is("fixed",!_c&&Xm),dr.is("customized",!!e.row),{[dr.e(`row-depth-${_c}`)]:qm&&z>=0}],tv=L?ec:void 0,nv={...rc,columns:n,columnsStyles:r,class:Km,depth:_c,expandColumnKey:$,estimatedRowHeight:Xm?void 0:k,isScrolling:ie,rowIndex:z,rowData:V,rowKey:ic,rowEventHandlers:Vr,style:j};return createVNode(Row$1,mergeProps(nv,{onRowExpand:tc,onMouseenter:Sv=>{tv==null||tv({hovered:!0,rowKey:ic,event:Sv,rowData:V,rowIndex:z})},onMouseleave:Sv=>{tv==null||tv({hovered:!1,rowKey:ic,event:Sv,rowData:V,rowIndex:z})},rowkey:ic}),_isSlot$2(e)?e:{default:()=>[e]})};var Row=RowRenderer;const TableV2Cell=(t,{slots:e})=>{var n;const{cellData:r,style:g}=t,$=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",y=renderSlot(e,"default",t,()=>[$]);return createVNode("div",{class:t.class,title:$,style:g},[y])};TableV2Cell.displayName="ElTableV2Cell";TableV2Cell.inheritAttrs=!1;var TableCell=TableV2Cell;const ExpandIcon=t=>{const{expanded:e,expandable:n,onExpand:r,style:g,size:$,ariaLabel:y}=t,k={onClick:n?()=>r(!e):void 0,ariaLabel:y,ariaExpanded:e,class:t.class};return createVNode("button",mergeProps(k,{type:"button"}),[createVNode(ElIcon,{size:$,style:g},{default:()=>[createVNode(arrow_right_default,null,null)]})])};var ExpandIcon$1=ExpandIcon;const CellRenderer=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:g,isScrolling:$,rowData:y,rowIndex:k,style:L,expandedRowKeys:V,ns:z,t:j,cellProps:ie,expandColumnKey:Oe,indentSize:ur,iconSize:hr,rowKey:Vr},{slots:dr})=>{const ec=enforceUnit(L);if(e.placeholderSign===placeholderSign)return createVNode("div",{class:z.em("row-cell","placeholder"),style:ec},null);const{cellRenderer:tc,dataKey:Xs,dataGetter:rc}=e,ic=isFunction$1(rc)?rc({columns:t,column:e,columnIndex:n,rowData:y,rowIndex:k}):get(y,Xs??""),_c=tryCall(ie,{cellData:ic,columns:t,column:e,columnIndex:n,rowIndex:k,rowData:y}),qm={class:z.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:ic,isScrolling:$,rowData:y,rowIndex:k},Xm=componentToSlot(tc),Km=Xm?Xm(qm):renderSlot(dr,"default",qm,()=>[createVNode(TableCell,qm,null)]),tv=[z.e("row-cell"),e.class,e.align===Alignment.CENTER&&z.is("align-center"),e.align===Alignment.RIGHT&&z.is("align-right")],nv=k>=0&&Oe&&e.key===Oe,sv=k>=0&&V.includes(y[Vr]);let gv;const Sv=`margin-inline-start: ${r*ur}px;`;return nv&&(isObject$2(g)?gv=createVNode(ExpandIcon$1,mergeProps(g,{class:[z.e("expand-icon"),z.is("expanded",sv)],size:hr,expanded:sv,ariaLabel:j(sv?"el.table.collapseRowLabel":"el.table.expandRowLabel"),style:Sv,expandable:!0}),null):gv=createVNode("div",{style:[Sv,`width: ${hr}px; height: ${hr}px;`].join(" ")},null)),createVNode("div",mergeProps({class:tv,style:ec},_c,{role:"cell"}),[gv,Km])};CellRenderer.inheritAttrs=!1;var Cell=CellRenderer;const tableV2HeaderRowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},headerIndex:Number,style:{type:definePropType(Object)}}),TableV2HeaderRow=defineComponent({name:"ElTableV2HeaderRow",props:tableV2HeaderRowProps,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:g,style:$}=t;let y=n.map((k,L)=>e.cell({columns:n,column:k,columnIndex:L,headerIndex:g,style:r[k.key]}));return e.header&&(y=e.header({cells:y.map(k=>isArray$1(k)&&k.length===1?k[0]:k),columns:n,headerIndex:g})),createVNode("div",{class:t.class,style:$,role:"row"},[y])}}});var HeaderRow=TableV2HeaderRow;function _isSlot$1(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}const HeaderRenderer=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:g,headerProps:$,ns:y},{slots:k})=>{const L={columns:t,headerIndex:n},V=[y.e("header-row"),tryCall(g,L,""),y.is("customized",!!k.header)],z={...tryCall($,L),columnsStyles:e,class:V,columns:t,headerIndex:n,style:r};return createVNode(HeaderRow,z,_isSlot$1(k)?k:{default:()=>[k]})};var Header=HeaderRenderer;const HeaderCell$1=(t,{slots:e})=>renderSlot(e,"default",t,()=>{var n,r;return[createVNode("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])]});HeaderCell$1.displayName="ElTableV2HeaderCell";HeaderCell$1.inheritAttrs=!1;var HeaderCell$1$1=HeaderCell$1;const SortIcon=t=>{const{sortOrder:e}=t;return createVNode("button",{type:"button","aria-label":t.ariaLabel,class:t.class},[createVNode(ElIcon,{size:14},{default:()=>[e===SortOrder.ASC?createVNode(sort_up_default,null,null):createVNode(sort_down_default,null,null)]})])};var SortIcon$1=SortIcon;const HeaderCellRenderer=(t,{slots:e})=>{const{column:n,ns:r,t:g,style:$,onColumnSorted:y}=t,k=enforceUnit($);if(n.placeholderSign===placeholderSign)return createVNode("div",{class:r.em("header-row-cell","placeholder"),style:k},null);const{headerCellRenderer:L,headerClass:V,sortable:z}=n,j={...t,class:r.e("header-cell-text")},ie=componentToSlot(L),Oe=ie?ie(j):renderSlot(e,"default",j,()=>[createVNode(HeaderCell$1$1,j,null)]),{sortBy:ur,sortState:hr,headerCellProps:Vr}=t;let dr,ec,tc;if(hr){const ic=hr[n.key];dr=!!oppositeOrderMap[ic],ec=dr?ic:SortOrder.ASC}else dr=n.key===ur.key,ec=dr?ur.order:SortOrder.ASC;ec===SortOrder.ASC?tc="ascending":ec===SortOrder.DESC?tc="descending":tc=void 0;const Xs=[r.e("header-cell"),tryCall(V,t,""),n.align===Alignment.CENTER&&r.is("align-center"),n.align===Alignment.RIGHT&&r.is("align-right"),z&&r.is("sortable")],rc={...tryCall(Vr,t),onClick:n.sortable?y:void 0,ariaSort:z?tc:void 0,class:Xs,style:k,"data-key":n.key};return createVNode("div",mergeProps(rc,{role:"columnheader"}),[Oe,z&&createVNode(SortIcon$1,{class:[r.e("sort-icon"),dr&&r.is("sorting")],sortOrder:ec,ariaLabel:g("el.table.sortLabel",{column:n.title||""})},null)])};var HeaderCell=HeaderCellRenderer;const Footer$1=(t,{slots:e})=>{var n;return createVNode("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};Footer$1.displayName="ElTableV2Footer";var Footer$1$1=Footer$1;const Footer=(t,{slots:e})=>{const n=renderSlot(e,"default",{},()=>[createVNode(ElEmpty,null,null)]);return createVNode("div",{class:t.class,style:t.style},[n])};Footer.displayName="ElTableV2Empty";var Empty=Footer;const Overlay=(t,{slots:e})=>{var n;return createVNode("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};Overlay.displayName="ElTableV2Overlay";var Overlay$1=Overlay;function _isSlot(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode$1(t)}const COMPONENT_NAME$5="ElTableV2",TableV2=defineComponent({name:COMPONENT_NAME$5,props:tableV2Props,setup(t,{slots:e,expose:n}){const r=useNamespace("table-v2"),{t:g}=useLocale(),{columnsStyles:$,fixedColumnsOnLeft:y,fixedColumnsOnRight:k,mainColumns:L,mainTableHeight:V,fixedTableHeight:z,leftTableWidth:j,rightTableWidth:ie,data:Oe,depthMap:ur,expandedRowKeys:hr,hasFixedColumns:Vr,mainTableRef:dr,leftTableRef:ec,rightTableRef:tc,isDynamic:Xs,isResetting:rc,isScrolling:ic,bodyWidth:_c,emptyStyle:qm,rootStyle:Xm,footerHeight:Km,showEmpty:tv,scrollTo:nv,scrollToLeft:sv,scrollToTop:gv,scrollToRow:Sv,getRowHeight:wv,onColumnSorted:rv,onRowHeightChange:Jm,onRowHovered:dv,onRowExpanded:pv,onRowsRendered:mv,onScroll:Cv,onVerticalScroll:uv}=useTable(t);return n({scrollTo:nv,scrollToLeft:sv,scrollToTop:gv,scrollToRow:Sv}),provide(TableV2InjectionKey,{ns:r,isResetting:rc,isScrolling:ic}),()=>{const{cache:yv,cellProps:$v,estimatedRowHeight:Dv,expandColumnKey:Hv,fixedData:Gv,headerHeight:f0,headerClass:qv,headerProps:Pv,headerCellProps:Tv,sortBy:Vv,sortState:Av,rowHeight:y0,rowClass:av,rowEventHandlers:fv,rowKey:lv,rowProps:kv,scrollbarAlwaysOn:Iv,indentSize:vv,iconSize:Ev,useIsScrolling:zv,vScrollbarSize:Fv,width:Yv}=t,g0=unref(Oe),Qv={cache:yv,class:r.e("main"),columns:unref(L),data:g0,fixedData:Gv,estimatedRowHeight:Dv,bodyWidth:unref(_c),headerHeight:f0,headerWidth:unref(_c),height:unref(V),mainTableRef:dr,rowKey:lv,rowHeight:y0,scrollbarAlwaysOn:Iv,scrollbarStartGap:2,scrollbarEndGap:Fv,useIsScrolling:zv,width:Yv,getRowHeight:wv,onRowsRendered:mv,onScroll:Cv},N0=unref(j),B0=unref(z),a1={cache:yv,class:r.e("left"),columns:unref(y),data:g0,fixedData:Gv,estimatedRowHeight:Dv,leftTableRef:ec,rowHeight:y0,bodyWidth:N0,headerWidth:N0,headerHeight:f0,height:B0,rowKey:lv,scrollbarAlwaysOn:Iv,scrollbarStartGap:2,scrollbarEndGap:Fv,useIsScrolling:zv,width:N0,getRowHeight:wv,onScroll:uv},I0=unref(ie),M0={cache:yv,class:r.e("right"),columns:unref(k),data:g0,fixedData:Gv,estimatedRowHeight:Dv,rightTableRef:tc,rowHeight:y0,bodyWidth:I0,headerWidth:I0,headerHeight:f0,height:B0,rowKey:lv,scrollbarAlwaysOn:Iv,scrollbarStartGap:2,scrollbarEndGap:Fv,width:I0,style:`${r.cssVarName("table-scrollbar-size")}: ${Fv}px`,useIsScrolling:zv,getRowHeight:wv,onScroll:uv},D0=unref($),W0={ns:r,depthMap:unref(ur),columnsStyles:D0,expandColumnKey:Hv,expandedRowKeys:unref(hr),estimatedRowHeight:Dv,hasFixedColumns:unref(Vr),rowProps:kv,rowClass:av,rowKey:lv,rowEventHandlers:fv,onRowHovered:dv,onRowExpanded:pv,onRowHeightChange:Jm},Zv={cellProps:$v,expandColumnKey:Hv,indentSize:vv,iconSize:Ev,rowKey:lv,expandedRowKeys:unref(hr),ns:r,t:g},z0={ns:r,headerClass:qv,headerProps:Pv,columnsStyles:D0},_0={ns:r,t:g,sortBy:Vv,sortState:Av,headerCellProps:Tv,onColumnSorted:rv},q0={row:Ov=>createVNode(Row,mergeProps(Ov,W0),{row:e.row,cell:Kv=>{let E0;return e.cell?createVNode(Cell,mergeProps(Kv,Zv,{style:D0[Kv.column.key]}),_isSlot(E0=e.cell(Kv))?E0:{default:()=>[E0]}):createVNode(Cell,mergeProps(Kv,Zv,{style:D0[Kv.column.key]}),null)}}),header:Ov=>createVNode(Header,mergeProps(Ov,z0),{header:e.header,cell:Kv=>{let E0;return e["header-cell"]?createVNode(HeaderCell,mergeProps(Kv,_0,{style:D0[Kv.column.key]}),_isSlot(E0=e["header-cell"](Kv))?E0:{default:()=>[E0]}):createVNode(HeaderCell,mergeProps(Kv,_0,{style:D0[Kv.column.key]}),null)}})},Rv=[t.class,r.b(),r.e("root"),r.is("dynamic",unref(Xs))],k0={class:r.e("footer"),style:unref(Km)};return createVNode("div",{class:Rv,style:unref(Xm)},[createVNode(MainTable$1,Qv,_isSlot(q0)?q0:{default:()=>[q0]}),createVNode(LeftTable$1,a1,_isSlot(q0)?q0:{default:()=>[q0]}),createVNode(RightTable$1,M0,_isSlot(q0)?q0:{default:()=>[q0]}),e.footer&&createVNode(Footer$1$1,k0,{default:e.footer}),unref(tv)&&createVNode(Empty,{class:r.e("empty"),style:unref(qm)},{default:e.empty}),e.overlay&&createVNode(Overlay$1,{class:r.e("overlay")},{default:e.overlay})])}}});var TableV2$1=TableV2;const autoResizerProps=buildProps({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:definePropType(Function)}}),useAutoResize=t=>{const e=ref(),n=ref(0),r=ref(0);let g;return onMounted(()=>{g=useResizeObserver(e,([$])=>{const{width:y,height:k}=$.contentRect,{paddingLeft:L,paddingRight:V,paddingTop:z,paddingBottom:j}=getComputedStyle($.target),ie=Number.parseInt(L)||0,Oe=Number.parseInt(V)||0,ur=Number.parseInt(z)||0,hr=Number.parseInt(j)||0;n.value=y-ie-Oe,r.value=k-ur-hr}).stop}),onBeforeUnmount(()=>{g==null||g()}),watch([n,r],([$,y])=>{var k;(k=t.onResize)==null||k.call(t,{width:$,height:y})}),{sizer:e,width:n,height:r}},AutoResizer=defineComponent({name:"ElAutoResizer",props:autoResizerProps,setup(t,{slots:e}){const n=useNamespace("auto-resizer"),{height:r,width:g,sizer:$}=useAutoResize(t),y={width:"100%",height:"100%"};return()=>{var k;return createVNode("div",{ref:$,class:n.b(),style:y},[(k=e.default)==null?void 0:k.call(e,{height:r.value,width:g.value})])}}});var AutoResizer$1=AutoResizer;const ElTableV2=withInstall(TableV2$1),ElAutoResizer=withInstall(AutoResizer$1),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])},tabRefs:{type:definePropType(Object),default:()=>mutable({})}}),COMPONENT_NAME$4="ElTabBar",_sfc_main$x=defineComponent({name:COMPONENT_NAME$4,__name:"tab-bar",props:tabBarProps,setup(t,{expose:e}){const n=t,r=inject(tabsRootContextKey);r||throwError(COMPONENT_NAME$4,"<el-tabs><el-tab-bar /></el-tabs>");const g=useNamespace("tabs"),$=ref(),y=ref(),k=computed(()=>{var Oe;return isUndefined(r.props.defaultValue)||!!((Oe=y.value)!=null&&Oe.transform)}),L=()=>{let Oe=0,ur=0;const hr=["top","bottom"].includes(r.props.tabPosition)?"width":"height",Vr=hr==="width"?"x":"y",dr=Vr==="x"?"left":"top";return n.tabs.every(ec=>{if(isUndefined(ec.paneName))return!1;const tc=n.tabRefs[ec.paneName];if(!tc)return!1;if(!ec.active)return!0;Oe=tc[`offset${capitalize(dr)}`],ur=tc[`client${capitalize(hr)}`];const Xs=window.getComputedStyle(tc);return hr==="width"&&(ur-=Number.parseFloat(Xs.paddingLeft)+Number.parseFloat(Xs.paddingRight),Oe+=Number.parseFloat(Xs.paddingLeft)),!1}),{[hr]:`${ur}px`,transform:`translate${capitalize(Vr)}(${Oe}px)`}},V=()=>y.value=L(),z=[],j=()=>{z.forEach(Oe=>Oe.stop()),z.length=0,Object.values(n.tabRefs).forEach(Oe=>{z.push(useResizeObserver(Oe,V))})};watch(()=>n.tabs,async()=>{await nextTick(),V(),j()},{immediate:!0});const ie=useResizeObserver($,()=>V());return onBeforeUnmount(()=>{z.forEach(Oe=>Oe.stop()),z.length=0,ie.stop()}),e({ref:$,update:V}),(Oe,ur)=>k.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"barRef",ref:$,class:normalizeClass([unref(g).e("active-bar"),unref(g).is(unref(r).props.tabPosition)]),style:normalizeStyle(y.value)},null,6)):createCommentVNode("v-if",!0)}});var TabBar=_export_sfc$1(_sfc_main$x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),tabNavEmits={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},COMPONENT_NAME$3="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$3,props:tabNavProps,emits:tabNavEmits,setup(t,{expose:e,emit:n}){const r=inject(tabsRootContextKey);r||throwError(COMPONENT_NAME$3,"<el-tabs><tab-nav /></el-tabs>");const g=useNamespace("tabs"),$=useDocumentVisibility(),y=useWindowFocus(),k=ref(),L=ref(),V=ref(),z=ref({}),j=ref(),ie=ref(!1),Oe=ref(0),ur=ref(!1),hr=ref(!0),Vr=shallowRef(),dr=computed(()=>["top","bottom"].includes(r.props.tabPosition)),ec=computed(()=>dr.value?"width":"height"),tc=computed(()=>({transform:`translate${ec.value==="width"?"X":"Y"}(-${Oe.value}px)`})),{width:Xs,height:rc}=useElementSize(k),{width:ic,height:_c}=useElementSize(L,{width:0,height:0},{box:"border-box"}),qm=computed(()=>dr.value?Xs.value:rc.value),Xm=computed(()=>dr.value?ic.value:_c.value),{onWheel:Km}=useWheel({atStartEdge:computed(()=>Oe.value<=0),atEndEdge:computed(()=>Xm.value-Oe.value<=qm.value),layout:computed(()=>dr.value?"horizontal":"vertical")},pv=>{Oe.value=clamp$2(Oe.value+pv,0,Xm.value-qm.value)}),tv=()=>{if(!k.value)return;const pv=k.value[`offset${capitalize(ec.value)}`],mv=Oe.value;if(!mv)return;const Cv=mv>pv?mv-pv:0;Oe.value=Cv},nv=()=>{if(!k.value||!L.value)return;const pv=L.value[`offset${capitalize(ec.value)}`],mv=k.value[`offset${capitalize(ec.value)}`],Cv=Oe.value;if(pv-Cv<=mv)return;const uv=pv-Cv>mv*2?Cv+mv:pv-mv;Oe.value=uv},sv=async()=>{const pv=L.value;if(!ie.value||!V.value||!k.value||!pv)return;await nextTick();const mv=z.value[t.currentName];if(!mv)return;const Cv=k.value,uv=mv.getBoundingClientRect(),yv=Cv.getBoundingClientRect(),$v=dr.value?pv.offsetWidth-yv.width:pv.offsetHeight-yv.height,Dv=Oe.value;let Hv=Dv;dr.value?(uv.left<yv.left&&(Hv=Dv-(yv.left-uv.left)),uv.right>yv.right&&(Hv=Dv+uv.right-yv.right)):(uv.top<yv.top&&(Hv=Dv-(yv.top-uv.top)),uv.bottom>yv.bottom&&(Hv=Dv+(uv.bottom-yv.bottom))),Hv=Math.max(Hv,0),Oe.value=Math.min(Hv,$v)},gv=()=>{var pv;if(!L.value||!k.value)return;t.stretch&&((pv=j.value)==null||pv.update());const mv=L.value[`offset${capitalize(ec.value)}`],Cv=k.value[`offset${capitalize(ec.value)}`],uv=Oe.value;Cv<mv?(ie.value=ie.value||{},ie.value.prev=uv,ie.value.next=uv+Cv<mv,mv-uv<Cv&&(Oe.value=mv-Cv)):(ie.value=!1,uv>0&&(Oe.value=0))},Sv=pv=>{const mv=getEventCode(pv);let Cv=0;switch(mv){case EVENT_CODE.left:case EVENT_CODE.up:Cv=-1;break;case EVENT_CODE.right:case EVENT_CODE.down:Cv=1;break;default:return}const uv=Array.from(pv.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let $v=uv.indexOf(pv.target)+Cv;$v<0?$v=uv.length-1:$v>=uv.length&&($v=0),uv[$v].focus({preventScroll:!0}),uv[$v].click(),wv()},wv=()=>{hr.value&&(ur.value=!0)},rv=()=>ur.value=!1,Jm=(pv,mv)=>{z.value[mv]=pv},dv=async()=>{await nextTick();const pv=z.value[t.currentName];pv==null||pv.focus({preventScroll:!0})};return watch($,pv=>{pv==="hidden"?hr.value=!1:pv==="visible"&&setTimeout(()=>hr.value=!0,50)}),watch(y,pv=>{pv?setTimeout(()=>hr.value=!0,50):hr.value=!1}),useResizeObserver(V,()=>{rAF(gv)}),onMounted(()=>setTimeout(()=>sv(),0)),onUpdated(()=>gv()),e({scrollToActiveTab:sv,removeFocus:rv,focusActiveTab:dv,tabListRef:L,tabBarRef:j,scheduleRender:()=>triggerRef(Vr)}),()=>{const pv=ie.value?[createVNode("span",{class:[g.e("nav-prev"),g.is("disabled",!ie.value.prev)],onClick:tv},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_left_default,null,null)]})]),createVNode("span",{class:[g.e("nav-next"),g.is("disabled",!ie.value.next)],onClick:nv},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_right_default,null,null)]})])]:null,mv=t.panes.map((Cv,uv)=>{var yv,$v,Dv,Hv,Gv;const f0=Cv.uid,qv=Cv.props.disabled,Pv=($v=(yv=Cv.props.name)!=null?yv:Cv.index)!=null?$v:`${uv}`,Tv=!qv&&(Cv.isClosable||Cv.props.closable!==!1&&t.editable);Cv.index=`${uv}`;const Vv=Tv?createVNode(ElIcon,{class:"is-icon-close",onClick:av=>n("tabRemove",Cv,av)},{default:()=>[createVNode(close_default,null,null)]}):null,Av=((Hv=(Dv=Cv.slots).label)==null?void 0:Hv.call(Dv))||Cv.props.label,y0=!qv&&Cv.active?(Gv=t.tabindex)!=null?Gv:r.props.tabindex:-1;return createVNode("div",{ref:av=>Jm(av,Pv),class:[g.e("item"),g.is(r.props.tabPosition),g.is("active",Cv.active),g.is("disabled",qv),g.is("closable",Tv),g.is("focus",ur.value)],id:`tab-${Pv}`,key:`tab-${f0}`,"aria-controls":`pane-${Pv}`,role:"tab","aria-selected":Cv.active,tabindex:y0,onFocus:()=>wv(),onBlur:()=>rv(),onClick:av=>{rv(),n("tabClick",Cv,Pv,av)},onKeydown:av=>{const fv=getEventCode(av);Tv&&(fv===EVENT_CODE.delete||fv===EVENT_CODE.backspace)&&n("tabRemove",Cv,av)}},[Av,Vv])});return Vr.value,createVNode("div",{ref:V,class:[g.e("nav-wrap"),g.is("scrollable",!!ie.value),g.is(r.props.tabPosition)]},[pv,createVNode("div",{class:g.e("nav-scroll"),ref:k},[t.panes.length>0?createVNode("div",{class:[g.e("nav"),g.is(r.props.tabPosition),g.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:L,style:tc.value,role:"tablist",onKeydown:Sv,onWheel:Km},[t.type?null:createVNode(TabBar,{ref:j,tabs:[...t.panes],tabRefs:z.value},null),mv]):null])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),isPaneName=t=>isString$1(t)||isNumber(t),tabsEmits={[UPDATE_MODEL_EVENT]:t=>isPaneName(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>isPaneName(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>isPaneName(t),tabAdd:()=>!0},Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(t,{emit:e,slots:n,expose:r}){var g;const $=useNamespace("tabs"),y=computed(()=>["left","right"].includes(t.tabPosition)),{children:k,addChild:L,removeChild:V,ChildrenSorter:z}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),j=ref(),ie=ref((g=isUndefined(t.modelValue)?t.defaultValue:t.modelValue)!=null?g:"0"),Oe=async(tc,Xs=!1)=>{var rc,ic,_c,qm;if(!(ie.value===tc||isUndefined(tc)))try{let Xm;if(t.beforeLeave){const Km=t.beforeLeave(tc,ie.value);Xm=Km instanceof Promise?await Km:Km}else Xm=!0;if(Xm!==!1){const Km=(rc=k.value.find(tv=>tv.paneName===ie.value))==null?void 0:rc.isFocusInsidePane();ie.value=tc,Xs&&(e(UPDATE_MODEL_EVENT,tc),e("tabChange",tc)),(_c=(ic=j.value)==null?void 0:ic.removeFocus)==null||_c.call(ic),Km&&((qm=j.value)==null||qm.focusActiveTab())}}catch{}},ur=(tc,Xs,rc)=>{tc.props.disabled||(e("tabClick",tc,rc),Oe(Xs,!0))},hr=(tc,Xs)=>{tc.props.disabled||isUndefined(tc.props.name)||(Xs.stopPropagation(),e("edit",tc.props.name,"remove"),e("tabRemove",tc.props.name))},Vr=()=>{e("edit",void 0,"add"),e("tabAdd")},dr=tc=>{const Xs=getEventCode(tc);[EVENT_CODE.enter,EVENT_CODE.numpadEnter].includes(Xs)&&Vr()},ec=tc=>{const Xs=tc.el.firstChild,rc=["bottom","right"].includes(t.tabPosition)?tc.children[0].el:tc.children[1].el;Xs!==rc&&Xs.before(rc)};return watch(()=>t.modelValue,tc=>Oe(tc)),watch(ie,async()=>{var tc;await nextTick(),(tc=j.value)==null||tc.scrollToActiveTab()}),provide(tabsRootContextKey,{props:t,currentName:ie,registerPane:L,unregisterPane:V,nav$:j}),r({currentName:ie,get tabNavRef(){return omit(j.value,["scheduleRender"])}}),()=>{const tc=n["add-icon"],Xs=t.editable||t.addable?createVNode("div",{class:[$.e("new-tab"),y.value&&$.e("new-tab-vertical")],tabindex:t.tabindex,onClick:Vr,onKeydown:dr},[tc?renderSlot(n,"add-icon"):createVNode(ElIcon,{class:$.is("icon-plus")},{default:()=>[createVNode(plus_default,null,null)]})]):null,rc=()=>createVNode(TabNav,{ref:j,currentName:ie.value,editable:t.editable,type:t.type,panes:k.value,stretch:t.stretch,onTabClick:ur,onTabRemove:hr},null),ic=createVNode("div",{class:[$.e("header"),y.value&&$.e("header-vertical"),$.is(t.tabPosition)]},[createVNode(z,null,{default:rc,$stable:!0}),Xs]),_c=createVNode("div",{class:$.e("content")},[renderSlot(n,"default")]);return createVNode("div",{class:[$.b(),$.m(t.tabPosition),{[$.m("card")]:t.type==="card",[$.m("border-card")]:t.type==="border-card"}],onVnodeMounted:ec,onVnodeUpdated:ec},[_c,ic])}}}),tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),_hoisted_1$f=["id","aria-hidden","aria-labelledby"],COMPONENT_NAME$2="ElTabPane",_sfc_main$w=defineComponent({name:COMPONENT_NAME$2,__name:"tab-pane",props:tabPaneProps,setup(t){const e=t,n=getCurrentInstance(),r=useSlots(),g=inject(tabsRootContextKey);g||throwError(COMPONENT_NAME$2,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const $=useNamespace("tab-pane"),y=ref(),k=ref(),L=computed(()=>{var hr;return(hr=e.closable)!=null?hr:g.props.closable}),V=computed(()=>{var hr;return g.currentName.value===((hr=e.name)!=null?hr:k.value)}),z=ref(V.value),j=computed(()=>{var hr;return(hr=e.name)!=null?hr:k.value}),ie=computed(()=>!e.lazy||z.value||V.value),Oe=()=>{var hr;return(hr=y.value)==null?void 0:hr.contains(document.activeElement)};watch(V,hr=>{hr&&(z.value=!0)});const ur=reactive({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:e,paneName:j,active:V,index:k,isClosable:L,isFocusInsidePane:Oe});return g.registerPane(ur),onBeforeUnmount(()=>{g.unregisterPane(ur)}),onBeforeUpdate(()=>{var hr;r.label&&((hr=g.nav$.value)==null||hr.scheduleRender())}),(hr,Vr)=>ie.value?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${j.value}`,ref_key:"paneRef",ref:y,class:normalizeClass(unref($).b()),role:"tabpanel","aria-hidden":!V.value,"aria-labelledby":`tab-${j.value}`},[renderSlot(hr.$slots,"default")],10,_hoisted_1$f)),[[vShow,V.value]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc$1(_sfc_main$w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ElTabs=withInstall(Tabs,{TabPane}),ElTabPane=withNoopInstall(TabPane),textProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:componentSizes,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),_sfc_main$v=defineComponent({name:"ElText",__name:"text",props:textProps,setup(t){const e=t,n=ref(),r=useFormSize(),g=useNamespace("text"),$=computed(()=>[g.b(),g.m(e.type),g.m(r.value),g.is("truncated",e.truncated),g.is("line-clamp",!isUndefined(e.lineClamp))]),y=()=>{var k,L,V,z,j,ie,Oe;if(useAttrs$1().title)return;let hr=!1;const Vr=((k=n.value)==null?void 0:k.textContent)||"";if(e.truncated){const dr=(L=n.value)==null?void 0:L.offsetWidth,ec=(V=n.value)==null?void 0:V.scrollWidth;dr&&ec&&ec>dr&&(hr=!0)}else if(!isUndefined(e.lineClamp)){const dr=(z=n.value)==null?void 0:z.offsetHeight,ec=(j=n.value)==null?void 0:j.scrollHeight;dr&&ec&&ec>dr&&(hr=!0)}hr?(ie=n.value)==null||ie.setAttribute("title",Vr):(Oe=n.value)==null||Oe.removeAttribute("title")};return onMounted(y),onUpdated(y),(k,L)=>(openBlock(),createBlock(resolveDynamicComponent(k.tag),{ref_key:"textRef",ref:n,class:normalizeClass($.value),style:normalizeStyle({"-webkit-line-clamp":k.lineClamp})},{default:withCtx(()=>[renderSlot(k.$slots,"default")]),_:3},8,["class","style"]))}});var Text=_export_sfc$1(_sfc_main$v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const ElText=withInstall(Text),timeSelectProps=buildProps({format:{type:String,default:"HH:mm"},modelValue:{type:definePropType(String)},disabled:{type:Boolean,default:void 0},editable:{type:Boolean,default:!0},effect:{type:definePropType(String),default:"light"},clearable:{type:Boolean,default:!0},size:useSizeProp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:definePropType(String)},maxTime:{type:definePropType(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:definePropType([String,Object]),default:()=>clock_default},clearIcon:{type:definePropType([String,Object]),default:()=>circle_close_default},popperClass:{type:String,default:""},popperStyle:{type:definePropType([String,Object])},...useEmptyValuesProps}),parseTime=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),g=t.toUpperCase();return g.includes("AM")&&n===12?n=0:g.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},compareTime=(t,e)=>{const n=parseTime(t);if(!n)return-1;const r=parseTime(e);if(!r)return-1;const g=n.minutes+n.hours*60,$=r.minutes+r.hours*60;return g===$?0:g>$?1:-1},padTime=t=>`${t}`.padStart(2,"0"),formatTime=t=>`${padTime(t.hours)}:${padTime(t.minutes)}`,nextTime=(t,e)=>{const n=parseTime(t);if(!n)return"";const r=parseTime(e);if(!r)return"";const g={hours:n.hours,minutes:n.minutes};return g.minutes+=r.minutes,g.hours+=r.hours,g.hours+=Math.floor(g.minutes/60),g.minutes=g.minutes%60,formatTime(g)},_sfc_main$u=defineComponent({name:"ElTimeSelect",__name:"time-select",props:timeSelectProps,emits:[CHANGE_EVENT,"blur","focus","clear",UPDATE_MODEL_EVENT],setup(t,{expose:e}){dayjs.extend(customParseFormat);const{Option:n}=ElSelect,r=t,g=useNamespace("input"),$=ref(),y=useFormDisabled(),{lang:k}=useLocale(),L=computed(()=>r.modelValue),V=computed(()=>{const dr=parseTime(r.start);return dr?formatTime(dr):null}),z=computed(()=>{const dr=parseTime(r.end);return dr?formatTime(dr):null}),j=computed(()=>{const dr=parseTime(r.step);return dr?formatTime(dr):null}),ie=computed(()=>{const dr=parseTime(r.minTime||"");return dr?formatTime(dr):null}),Oe=computed(()=>{const dr=parseTime(r.maxTime||"");return dr?formatTime(dr):null}),ur=computed(()=>{var dr;const ec=[],tc=(Xs,rc)=>{ec.push({value:Xs,disabled:compareTime(rc,ie.value||"-1:-1")<=0||compareTime(rc,Oe.value||"100:100")>=0})};if(r.start&&r.end&&r.step){let Xs=V.value,rc;for(;Xs&&z.value&&compareTime(Xs,z.value)<=0;)rc=dayjs(Xs,"HH:mm").locale(k.value).format(r.format),tc(rc,Xs),Xs=nextTime(Xs,j.value);if(r.includeEndTime&&z.value&&((dr=ec[ec.length-1])==null?void 0:dr.value)!==z.value){const ic=dayjs(z.value,"HH:mm").locale(k.value).format(r.format);tc(ic,z.value)}}return ec});return e({blur:()=>{var dr,ec;(ec=(dr=$.value)==null?void 0:dr.blur)==null||ec.call(dr)},focus:()=>{var dr,ec;(ec=(dr=$.value)==null?void 0:dr.focus)==null||ec.call(dr)}}),(dr,ec)=>(openBlock(),createBlock(unref(ElSelect),{ref_key:"select",ref:$,"model-value":L.value,disabled:unref(y),clearable:dr.clearable,"clear-icon":dr.clearIcon,size:dr.size,effect:dr.effect,placeholder:dr.placeholder,"default-first-option":"",filterable:dr.editable,"empty-values":dr.emptyValues,"value-on-clear":dr.valueOnClear,"popper-class":dr.popperClass,"popper-style":dr.popperStyle,"onUpdate:modelValue":ec[0]||(ec[0]=tc=>dr.$emit(unref(UPDATE_MODEL_EVENT),tc)),onChange:ec[1]||(ec[1]=tc=>dr.$emit(unref(CHANGE_EVENT),tc)),onBlur:ec[2]||(ec[2]=tc=>dr.$emit("blur",tc)),onFocus:ec[3]||(ec[3]=tc=>dr.$emit("focus",tc)),onClear:ec[4]||(ec[4]=()=>dr.$emit("clear"))},{prefix:withCtx(()=>[dr.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(g).e("prefix-icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(dr.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(ur.value,tc=>(openBlock(),createBlock(unref(n),{key:tc.value,label:tc.value,value:tc.value,disabled:tc.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","popper-class","popper-style"]))}});var TimeSelect=_export_sfc$1(_sfc_main$u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);const ElTimeSelect=withInstall(TimeSelect),TIMELINE_INJECTION_KEY="timeline",Timeline=defineComponent({name:"ElTimeline",props:{reverse:Boolean},setup(t,{slots:e}){const n=useNamespace("timeline");return provide(TIMELINE_INJECTION_KEY,e),()=>{var r,g;const $=flattedChildren((g=(r=e.default)==null?void 0:r.call(e))!=null?g:[]).filter(y=>{var k;return((k=y==null?void 0:y.type)==null?void 0:k.name)==="ElTimelineItem"});return h$1("ul",{class:[n.b()]},t.reverse?$.reverse():$)}}}),timelineItemProps=buildProps({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:iconPropType},hollow:Boolean}),_sfc_main$t=defineComponent({name:"ElTimelineItem",__name:"timeline-item",props:timelineItemProps,setup(t){const e=t,n=useNamespace("timeline-item"),r=computed(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(g,$)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(n).b(),{[unref(n).e("center")]:g.center}])},[createBaseVNode("div",{class:normalizeClass(unref(n).e("tail"))},null,2),g.$slots.dot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.value),style:normalizeStyle({backgroundColor:g.color})},[g.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(n).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g.icon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)),g.$slots.dot?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(n).e("dot"))},[renderSlot(g.$slots,"dot")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("wrapper"))},[!g.hideTimestamp&&g.placement==="top"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("timestamp"),unref(n).is("top")])},toDisplayString$1(g.timestamp),3)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("content"))},[renderSlot(g.$slots,"default")],2),!g.hideTimestamp&&g.placement==="bottom"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("timestamp"),unref(n).is("bottom")])},toDisplayString$1(g.timestamp),3)):createCommentVNode("v-if",!0)],2)],2))}});var TimelineItem=_export_sfc$1(_sfc_main$t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const ElTimeline=withInstall(Timeline,{TimelineItem}),ElTimelineItem=withNoopInstall(TimelineItem),LEFT_CHECK_CHANGE_EVENT="left-check-change",RIGHT_CHECK_CHANGE_EVENT="right-check-change",transferProps=buildProps({data:{type:definePropType(Array),default:()=>[]},titles:{type:definePropType(Array),default:()=>[]},buttonTexts:{type:definePropType(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:definePropType(Function)},leftDefaultChecked:{type:definePropType(Array),default:()=>[]},rightDefaultChecked:{type:definePropType(Array),default:()=>[]},renderContent:{type:definePropType(Function)},modelValue:{type:definePropType(Array),default:()=>[]},format:{type:definePropType(Object),default:()=>({})},filterable:Boolean,props:{type:definePropType(Object),default:()=>mutable({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),transferCheckedChangeFn=(t,e)=>[t,e].every(isArray$1)||isArray$1(t)&&isNil(e),transferEmits={[CHANGE_EVENT]:(t,e,n)=>[t,n].every(isArray$1)&&["left","right"].includes(e),[UPDATE_MODEL_EVENT]:t=>isArray$1(t),[LEFT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn,[RIGHT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn},CHECKED_CHANGE_EVENT="checked-change",transferPanelProps=buildProps({data:transferProps.data,optionRender:{type:definePropType(Function)},placeholder:String,title:String,filterable:Boolean,format:transferProps.format,filterMethod:transferProps.filterMethod,defaultChecked:transferProps.leftDefaultChecked,props:transferProps.props}),transferPanelEmits={[CHECKED_CHANGE_EVENT]:transferCheckedChangeFn},usePropsAlias=t=>{const e={label:"label",key:"key",disabled:"disabled"};return computed(()=>({...e,...t.props}))},useCheck$1=(t,e,n)=>{const r=usePropsAlias(t),g=computed(()=>t.data.filter(z=>isFunction$1(t.filterMethod)?t.filterMethod(e.query,z):String(z[r.value.label]||z[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),$=computed(()=>g.value.filter(z=>!z[r.value.disabled])),y=computed(()=>{const z=e.checked.length,j=t.data.length,{noChecked:ie,hasChecked:Oe}=t.format;return ie&&Oe?z>0?Oe.replace(/\${checked}/g,z.toString()).replace(/\${total}/g,j.toString()):ie.replace(/\${total}/g,j.toString()):`${z}/${j}`}),k=computed(()=>{const z=e.checked.length;return z>0&&z<$.value.length}),L=()=>{const z=$.value.map(j=>j[r.value.key]);e.allChecked=z.length>0&&z.every(j=>e.checked.includes(j))},V=z=>{e.checked=z?$.value.map(j=>j[r.value.key]):[]};return watch(()=>e.checked,(z,j)=>{if(L(),e.checkChangeByUser){const ie=z.concat(j).filter(Oe=>!z.includes(Oe)||!j.includes(Oe));n(CHECKED_CHANGE_EVENT,z,ie)}else n(CHECKED_CHANGE_EVENT,z),e.checkChangeByUser=!0}),watch($,()=>{L()}),watch(()=>t.data,()=>{const z=[],j=g.value.map(ie=>ie[r.value.key]);e.checked.forEach(ie=>{j.includes(ie)&&z.push(ie)}),e.checkChangeByUser=!1,e.checked=z}),watch(()=>t.defaultChecked,(z,j)=>{if(j&&z.length===j.length&&z.every(ur=>j.includes(ur)))return;const ie=[],Oe=$.value.map(ur=>ur[r.value.key]);z.forEach(ur=>{Oe.includes(ur)&&ie.push(ur)}),e.checkChangeByUser=!1,e.checked=ie},{immediate:!0}),{filteredData:g,checkableData:$,checkedSummary:y,isIndeterminate:k,updateAllChecked:L,handleAllCheckedChange:V}},_sfc_main$s=defineComponent({name:"ElTransferPanel",__name:"transfer-panel",props:transferPanelProps,emits:transferPanelEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useSlots(),y=({option:Xs})=>Xs,{t:k}=useLocale(),L=useNamespace("transfer"),V=reactive({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),z=usePropsAlias(r),{filteredData:j,checkedSummary:ie,isIndeterminate:Oe,handleAllCheckedChange:ur}=useCheck$1(r,V,g),hr=computed(()=>!isEmpty(V.query)&&isEmpty(j.value)),Vr=computed(()=>!isEmpty($.default()[0].children)),{checked:dr,allChecked:ec,query:tc}=toRefs(V);return e({query:tc}),(Xs,rc)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(L).b("panel"))},[createBaseVNode("p",{class:normalizeClass(unref(L).be("panel","header"))},[createVNode(unref(ElCheckbox),{modelValue:unref(ec),"onUpdate:modelValue":rc[0]||(rc[0]=ic=>isRef(ec)?ec.value=ic:null),indeterminate:unref(Oe),"validate-event":!1,onChange:unref(ur)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(Xs.title)+" ",1),createBaseVNode("span",null,toDisplayString$1(unref(ie)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),createBaseVNode("div",{class:normalizeClass([unref(L).be("panel","body"),unref(L).is("with-footer",Vr.value)])},[Xs.filterable?(openBlock(),createBlock(unref(ElInput),{key:0,modelValue:unref(tc),"onUpdate:modelValue":rc[1]||(rc[1]=ic=>isRef(tc)?tc.value=ic:null),class:normalizeClass(unref(L).be("panel","filter")),size:"default",placeholder:Xs.placeholder,"prefix-icon":unref(search_default),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):createCommentVNode("v-if",!0),withDirectives(createVNode(unref(ElCheckboxGroup),{modelValue:unref(dr),"onUpdate:modelValue":rc[2]||(rc[2]=ic=>isRef(dr)?dr.value=ic:null),"validate-event":!1,class:normalizeClass([unref(L).is("filterable",Xs.filterable),unref(L).be("panel","list")])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(j),ic=>(openBlock(),createBlock(unref(ElCheckbox),{key:ic[unref(z).key],class:normalizeClass(unref(L).be("panel","item")),value:ic[unref(z).key],disabled:ic[unref(z).disabled],"validate-event":!1},{default:withCtx(()=>{var _c;return[createVNode(y,{option:(_c=Xs.optionRender)==null?void 0:_c.call(Xs,ic)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[vShow,!hr.value&&!unref(isEmpty)(Xs.data)]]),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(L).be("panel","empty"))},[renderSlot(Xs.$slots,"empty",{},()=>[createTextVNode(toDisplayString$1(hr.value?unref(k)("el.transfer.noMatch"):unref(k)("el.transfer.noData")),1)])],2),[[vShow,hr.value||unref(isEmpty)(Xs.data)]])],2),Vr.value?(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(L).be("panel","footer"))},[renderSlot(Xs.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var TransferPanel=_export_sfc$1(_sfc_main$s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const useComputedData=t=>{const e=usePropsAlias(t),n=computed(()=>t.data.reduce(($,y)=>($[y[e.value.key]]=y)&&$,{})),r=computed(()=>t.data.filter($=>!t.modelValue.includes($[e.value.key]))),g=computed(()=>t.targetOrder==="original"?t.data.filter($=>t.modelValue.includes($[e.value.key])):t.modelValue.reduce(($,y)=>{const k=n.value[y];return k&&$.push(k),$},[]));return{sourceData:r,targetData:g}},useMove=(t,e,n)=>{const r=usePropsAlias(t),g=(k,L,V)=>{n(UPDATE_MODEL_EVENT,k),n(CHANGE_EVENT,k,L,V)};return{addToLeft:()=>{const k=t.modelValue.slice();e.rightChecked.forEach(L=>{const V=k.indexOf(L);V>-1&&k.splice(V,1)}),g(k,"left",e.rightChecked)},addToRight:()=>{let k=t.modelValue.slice();const L=t.data.filter(V=>{const z=V[r.value.key];return e.leftChecked.includes(z)&&!t.modelValue.includes(z)}).map(V=>V[r.value.key]);k=t.targetOrder==="unshift"?L.concat(k):k.concat(L),t.targetOrder==="original"&&(k=t.data.filter(V=>k.includes(V[r.value.key])).map(V=>V[r.value.key])),g(k,"right",e.leftChecked)}}},useCheckedChange=(t,e)=>({onSourceCheckedChange:(g,$)=>{t.leftChecked=g,$&&e(LEFT_CHECK_CHANGE_EVENT,g,$)},onTargetCheckedChange:(g,$)=>{t.rightChecked=g,$&&e(RIGHT_CHECK_CHANGE_EVENT,g,$)}}),_hoisted_1$e={key:0},_hoisted_2$8={key:0},_sfc_main$r=defineComponent({name:"ElTransfer",__name:"transfer",props:transferProps,emits:transferEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useSlots(),{t:y}=useLocale(),k=useNamespace("transfer"),{formItem:L}=useFormItem(),V=reactive({leftChecked:[],rightChecked:[]}),z=usePropsAlias(r),{sourceData:j,targetData:ie}=useComputedData(r),{onSourceCheckedChange:Oe,onTargetCheckedChange:ur}=useCheckedChange(V,g),{addToLeft:hr,addToRight:Vr}=useMove(r,V,g),dr=ref(),ec=ref(),tc=Xm=>{switch(Xm){case"left":dr.value.query="";break;case"right":ec.value.query="";break}},Xs=computed(()=>r.buttonTexts.length===2),rc=computed(()=>r.titles[0]||y("el.transfer.titles.0")),ic=computed(()=>r.titles[1]||y("el.transfer.titles.1")),_c=computed(()=>r.filterPlaceholder||y("el.transfer.filterPlaceholder"));watch(()=>r.modelValue,()=>{var Xm;r.validateEvent&&((Xm=L==null?void 0:L.validate)==null||Xm.call(L,"change").catch(Km=>void 0))});const qm=computed(()=>Xm=>{var Km;if(r.renderContent)return r.renderContent(h$1,Xm);const tv=(((Km=$.default)==null?void 0:Km.call($,{option:Xm}))||[]).filter(nv=>nv.type!==Comment);return tv.length?tv:h$1("span",Xm[z.value.label]||Xm[z.value.key])});return e({clearQuery:tc,leftPanel:dr,rightPanel:ec}),(Xm,Km)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(k).b())},[createVNode(TransferPanel,{ref_key:"leftPanel",ref:dr,data:unref(j),"option-render":qm.value,placeholder:_c.value,title:rc.value,filterable:Xm.filterable,format:Xm.format,"filter-method":Xm.filterMethod,"default-checked":Xm.leftDefaultChecked,props:r.props,onCheckedChange:unref(Oe)},{empty:withCtx(()=>[renderSlot(Xm.$slots,"left-empty")]),default:withCtx(()=>[renderSlot(Xm.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),createBaseVNode("div",{class:normalizeClass(unref(k).e("buttons"))},[createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref(k).e("button"),unref(k).is("with-texts",Xs.value)]),disabled:unref(isEmpty)(V.rightChecked),onClick:unref(hr)},{default:withCtx(()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1}),unref(isUndefined)(Xm.buttonTexts[0])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_1$e,toDisplayString$1(Xm.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref(k).e("button"),unref(k).is("with-texts",Xs.value)]),disabled:unref(isEmpty)(V.leftChecked),onClick:unref(Vr)},{default:withCtx(()=>[unref(isUndefined)(Xm.buttonTexts[1])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_2$8,toDisplayString$1(Xm.buttonTexts[1]),1)),createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),createVNode(TransferPanel,{ref_key:"rightPanel",ref:ec,data:unref(ie),"option-render":qm.value,placeholder:_c.value,filterable:Xm.filterable,format:Xm.format,"filter-method":Xm.filterMethod,title:ic.value,"default-checked":Xm.rightDefaultChecked,props:r.props,onCheckedChange:unref(ur)},{empty:withCtx(()=>[renderSlot(Xm.$slots,"right-empty")]),default:withCtx(()=>[renderSlot(Xm.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Transfer=_export_sfc$1(_sfc_main$r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const ElTransfer=withInstall(Transfer),NODE_KEY="$treeNodeId",markNodeData=function(t,e){!e||e[NODE_KEY]||Object.defineProperty(e,NODE_KEY,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=(t,e)=>e==null?void 0:e[t||NODE_KEY],handleCurrentChange=(t,e,n)=>{const r=t.value.currentNode;n();const g=t.value.currentNode;r!==g&&e("current-change",g?g.data:null,g)},getChildState=t=>{let e=!0,n=!0,r=!0,g=!0;for(let $=0,y=t.length;$<y;$++){const k=t[$];(k.checked!==!0||k.indeterminate)&&(e=!1,k.disabled||(r=!1)),(k.checked!==!1||k.indeterminate)&&(n=!1),k.isEffectivelyChecked||(g=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n,isEffectivelyChecked:g}},reInitChecked=function(t){if(t.childNodes.length===0||t.loading){t.isEffectivelyChecked=t.disabled||t.checked;return}const{all:e,none:n,half:r,isEffectivelyChecked:g}=getChildState(t.childNodes);t.isEffectivelyChecked=g,e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const $=t.parent;!$||$.level===0||t.store.checkStrictly||reInitChecked($)},getPropertyFromData=function(t,e){const n=t.store.props,r=t.data||{},g=n[e];if(isFunction$1(g))return g(r,t);if(isString$1(g))return r[g];if(isUndefined(g)){const $=r[e];return isUndefined($)?"":$}},setCanFocus=function(t,e){t.forEach(n=>{n.canFocus=e,setCanFocus(n.childNodes,e)})};let nodeIdSeed=0,Node$1=class Y_{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.isEffectivelyChecked=!1,this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)hasOwn$1(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const r=n.props;if(r&&typeof r.isLeaf<"u"){const y=getPropertyFromData(this,"isLeaf");isBoolean(y)&&(this.isLeafByUser=y)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),isArray$1(this.data)||markNodeData(this,this.data),!this.data)return;const g=n.defaultExpandedKeys,$=n.key;$&&!isNil(this.key)&&g&&g.includes(this.key)&&this.expand(null,n.autoExpandParent),$&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode&&(n.currentNode.isCurrent=!1),n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((e=this.parent)==null?void 0:e.expanded)===!0)&&(this.canFocus=!0)}setData(e){isArray$1(e)||markNodeData(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&isArray$1(this.data)?n=this.data:n=getPropertyFromData(this,"children")||[];for(let r=0,g=n.length;r<g;r++)this.insertChild({data:n[r]})}get label(){return getPropertyFromData(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Y_)){if(!r){const g=this.getChildren(!0);g!=null&&g.includes(e.data)||(isUndefined(n)||n<0?g==null||g.push(e.data):g==null||g.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=reactive(new Y_(e)),e instanceof Y_&&e.initialize()}e.level=this.level+1,isUndefined(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const g=this.childNodes.indexOf(e);g>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(g,1)),this.updateLeafState()}removeChildByData(e){const n=this.childNodes.find(r=>r.data===e);n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let g=this.parent;for(;g&&g.level>0;)g.expanded=!0,g=g.parent}this.expanded=!0,e&&e(),setCanFocus(this.childNodes,!0)};this.shouldLoadData()?this.loadData(g=>{isArray$1(g)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,setCanFocus(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(e,n,r,g){if(this.indeterminate=e==="half",this.checked=e===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const y=()=>{if(n){const k=this.childNodes;for(let j=0,ie=k.length;j<ie;j++){const Oe=k[j];g=g||e!==!1;const ur=Oe.disabled&&Oe.isLeaf?Oe.checked:g;Oe.setChecked(ur,n,!0,g)}const{half:L,all:V,isEffectivelyChecked:z}=getChildState(k);V||(this.checked=V,this.indeterminate=L),this.isEffectivelyChecked=this.childNodes.length?z:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{y(),reInitChecked(this)},{checked:e!==!1});return}else y()}const $=this.parent;!$||$.level===0||r||reInitChecked($)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let g="children";return r&&(g=r.children||"children"),isUndefined(n[g])&&(n[g]=null),e&&!n[g]&&(n[g]=[]),n[g]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map($=>$.data),r={},g=[];e.forEach(($,y)=>{const k=$[NODE_KEY];!!k&&n.some(V=>(V==null?void 0:V[NODE_KEY])===k)?r[k]={index:y,data:$}:g.push({index:y,data:$})}),this.store.lazy||n.forEach($=>{r[$==null?void 0:$[NODE_KEY]]||this.removeChildByData($)}),g.forEach(({index:$,data:y})=>{this.insertChild({data:y},$)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=$=>{this.childNodes=[],this.doCreateChildren($,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,$)},g=()=>{this.loading=!1};this.store.load(this,r,g)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||reInitChecked(this)}};class TreeStore{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const n in e)hasOwn$1(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()},NOOP)}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,g=async function($){const y=$.root?$.root.childNodes:$.childNodes;for(const[k,L]of y.entries())L.visible=!!(n!=null&&n.call(L,e,L.data,L)),k%80===0&&k>0&&await nextTick(),await g(L);if(!$.visible&&y.length){let k=!0;k=!y.some(L=>L.visible),$.root?$.root.visible=k===!1:$.visible=k===!1}e&&$.visible&&!$.isLeaf&&(!r||$.loaded)&&$.expand()};g(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof Node$1)return e;const n=isObject$2(e)?getNodeKey(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){var r;const g=this.getNode(n);(r=g.parent)==null||r.insertBefore({data:e},g)}insertAfter(e,n){var r;const g=this.getNode(n);(r=g.parent)==null||r.insertAfter({data:e},g)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=isPropAbsent(n)?this.root:this.getNode(n);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const g=n[r];g&&g.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const n=this.defaultCheckedKeys||[];!isNil(e.key)&&n.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;if(!(!e||!e.data))if(!n)this.nodesMap[e.id]=e;else{const r=e.key;isNil(r)||(this.nodesMap[r]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],g=function($){($.root?$.root.childNodes:$.childNodes).forEach(k=>{(k.checked||n&&k.indeterminate)&&(!e||e&&k.isLeaf)&&r.push(k.data),g(k)})};return g(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach($=>{$.indeterminate&&e.push($.data),n($)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)hasOwn$1(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const g=r.childNodes;for(let $=g.length-1;$>=0;$--){const y=g[$];this.remove(y.data)}for(let $=0,y=n.length;$<y;$++){const k=n[$];this.append(k,r.data)}}_setCheckedKeys(e,n=!1,r){const g=this._getAllNodes().sort((L,V)=>L.level-V.level),$=Object.create(null),y=Object.keys(r);g.forEach(L=>L.setChecked(!1,!1));const k=L=>{L.childNodes.forEach(V=>{var z;$[V.data[e]]=!0,(z=V.childNodes)!=null&&z.length&&k(V)})};for(let L=0,V=g.length;L<V;L++){const z=g[L],j=z.data[e].toString();if(!y.includes(j)){z.checked&&!$[j]&&z.setChecked(!1,!1);continue}if(z.childNodes.length&&k(z),z.isLeaf||this.checkStrictly){z.setChecked(!0,!1);continue}if(z.setChecked(!0,!0),n){z.setChecked(!1,!1);const Oe=function(ur){ur.childNodes.forEach(Vr=>{Vr.isLeaf||Vr.setChecked(!1,!1),Oe(Vr)})};Oe(z)}}}setCheckedNodes(e,n=!1){const r=this.key,g={};e.forEach($=>{g[($||{})[r]]=!0}),this._setCheckedKeys(r,n,g)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,g={};e.forEach($=>{g[$]=!0}),this._setCheckedKeys(r,n,g)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const g=this.getNode(e);g&&g.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){var r;const g=e[this.key],$=this.nodesMap[g];this.setCurrentNode($),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0))}setCurrentNodeKey(e,n=!0){var r;if(this.currentNodeKey=e,isPropAbsent(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const g=this.getNode(e);g&&(this.setCurrentNode(g),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0)))}}const ROOT_TREE_INJECTION_KEY$1="RootTree",NODE_INSTANCE_INJECTION_KEY="NodeInstance",TREE_NODE_MAP_INJECTION_KEY="TreeNodeMap",_sfc_main$q=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=useNamespace("tree"),n=inject(NODE_INSTANCE_INJECTION_KEY),r=inject(ROOT_TREE_INJECTION_KEY$1);return()=>{const g=t.node,{data:$,store:y}=g;return t.renderContent?t.renderContent(h$1,{_self:n,node:g,data:$,store:y}):renderSlot(r.ctx.slots,"default",{node:g,data:$},()=>[h$1(ElText,{tag:"span",truncated:!0,class:e.be("node","label")},()=>[g.label])])}}});var NodeContent=_export_sfc$1(_sfc_main$q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function useNodeExpandEventBroadcast(t){const e=inject(TREE_NODE_MAP_INJECTION_KEY,null);let n={treeNodeExpand:r=>{var g;t.node!==r&&((g=t.node)==null||g.collapse())},children:new Set};return e&&e.children.add(n),onBeforeUnmount(()=>{e&&e.children.delete(n),n=null}),provide(TREE_NODE_MAP_INJECTION_KEY,n),{broadcastExpanded:r=>{if(t.accordion)for(const g of n.children)g.treeNodeExpand(r)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:t,ctx:e,el$:n,dropIndicator$:r,store:g}){const $=useNamespace("tree"),y=ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:z,treeNode:j})=>{if(z.dataTransfer){if(isFunction$1(t.allowDrag)&&!t.allowDrag(j.node))return z.preventDefault(),!1;z.dataTransfer.effectAllowed="move";try{z.dataTransfer.setData("text/plain","")}catch{}y.value.draggingNode=j,e.emit("node-drag-start",j.node,z)}},treeNodeDragOver:({event:z,treeNode:j})=>{if(!z.dataTransfer)return;const ie=j,Oe=y.value.dropNode;Oe&&Oe.node.id!==ie.node.id&&removeClass(Oe.$el,$.is("drop-inner"));const ur=y.value.draggingNode;if(!ur||!ie)return;let hr=!0,Vr=!0,dr=!0,ec=!0;isFunction$1(t.allowDrop)&&(hr=t.allowDrop(ur.node,ie.node,"prev"),ec=Vr=t.allowDrop(ur.node,ie.node,"inner"),dr=t.allowDrop(ur.node,ie.node,"next")),z.dataTransfer.dropEffect=Vr||hr||dr?"move":"none",(hr||Vr||dr)&&(Oe==null?void 0:Oe.node.id)!==ie.node.id&&(Oe&&e.emit("node-drag-leave",ur.node,Oe.node,z),e.emit("node-drag-enter",ur.node,ie.node,z)),hr||Vr||dr?y.value.dropNode=ie:y.value.dropNode=null,ie.node.nextSibling===ur.node&&(dr=!1),ie.node.previousSibling===ur.node&&(hr=!1),ie.node.contains(ur.node,!1)&&(Vr=!1),(ur.node===ie.node||ur.node.contains(ie.node))&&(hr=!1,Vr=!1,dr=!1);const tc=ie.$el,Xs=tc.querySelector(`.${$.be("node","content")}`).getBoundingClientRect(),rc=n.value.getBoundingClientRect(),ic=n.value.scrollTop;let _c;const qm=hr?Vr?.25:dr?.45:1:Number.NEGATIVE_INFINITY,Xm=dr?Vr?.75:hr?.55:0:Number.POSITIVE_INFINITY;let Km=-9999;const tv=z.clientY-Xs.top;tv<Xs.height*qm?_c="before":tv>Xs.height*Xm?_c="after":Vr?_c="inner":_c="none";const nv=tc.querySelector(`.${$.be("node","expand-icon")}`).getBoundingClientRect(),sv=r.value;_c==="before"?Km=nv.top-rc.top+ic:_c==="after"&&(Km=nv.bottom-rc.top+ic),sv.style.top=`${Km}px`,sv.style.left=`${nv.right-rc.left}px`,_c==="inner"?addClass(tc,$.is("drop-inner")):removeClass(tc,$.is("drop-inner")),y.value.showDropIndicator=_c==="before"||_c==="after",y.value.allowDrop=y.value.showDropIndicator||ec,y.value.dropType=_c,e.emit("node-drag-over",ur.node,ie.node,z)},treeNodeDragEnd:z=>{var j,ie;const{draggingNode:Oe,dropType:ur,dropNode:hr}=y.value;if(z.preventDefault(),z.dataTransfer&&(z.dataTransfer.dropEffect="move"),Oe!=null&&Oe.node.data&&hr){const Vr={data:Oe.node.data};ur!=="none"&&Oe.node.remove(),ur==="before"?(j=hr.node.parent)==null||j.insertBefore(Vr,hr.node):ur==="after"?(ie=hr.node.parent)==null||ie.insertAfter(Vr,hr.node):ur==="inner"&&hr.node.insertChild(Vr),ur!=="none"&&(g.value.registerNode(Vr),g.value.key&&Oe.node.eachNode(dr=>{var ec;(ec=g.value.nodesMap[dr.data[g.value.key]])==null||ec.setChecked(dr.checked,!g.value.checkStrictly)})),removeClass(hr.$el,$.is("drop-inner")),e.emit("node-drag-end",Oe.node,hr.node,ur,z),ur!=="none"&&e.emit("node-drop",Oe.node,hr.node,ur,z)}Oe&&!hr&&e.emit("node-drag-end",Oe.node,null,ur,z),y.value.showDropIndicator=!1,y.value.draggingNode=null,y.value.dropNode=null,y.value.allowDrop=!0}}),{dragState:y}}const _sfc_main$p=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition,ElCheckbox,NodeContent,ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(t,e){const n=useNamespace("tree"),{broadcastExpanded:r}=useNodeExpandEventBroadcast(t),g=inject(ROOT_TREE_INJECTION_KEY$1),$=ref(!1),y=ref(!1),k=ref(),L=ref(),V=ref(),z=inject(dragEventsKey),j=getCurrentInstance();provide(NODE_INSTANCE_INJECTION_KEY,j),t.node.expanded&&($.value=!0,y.value=!0);const ie=g.props.props.children||"children";watch(()=>{var Xm;const Km=(Xm=t.node.data)==null?void 0:Xm[ie];return Km&&[...Km]},()=>{t.node.updateChildren()}),watch(()=>t.node.indeterminate,Xm=>{hr(t.node.checked,Xm)}),watch(()=>t.node.checked,Xm=>{hr(Xm,t.node.indeterminate)}),watch(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),watch(()=>t.node.expanded,Xm=>{nextTick(()=>$.value=Xm),Xm&&(y.value=!0)});const Oe=Xm=>getNodeKey(g.props.nodeKey,Xm.data),ur=Xm=>{const Km=t.props.class;if(!Km)return{};let tv;if(isFunction$1(Km)){const{data:nv}=Xm;tv=Km(nv,Xm)}else tv=Km;return isString$1(tv)?{[tv]:!0}:tv},hr=(Xm,Km)=>{(k.value!==Xm||L.value!==Km)&&g.ctx.emit("check-change",t.node.data,Xm,Km),k.value=Xm,L.value=Km},Vr=Xm=>{handleCurrentChange(g.store,g.ctx.emit,()=>{var Km;if((Km=g==null?void 0:g.props)==null?void 0:Km.nodeKey){const nv=Oe(t.node);g.store.value.setCurrentNodeKey(nv)}else g.store.value.setCurrentNode(t.node)}),g.currentNode.value=t.node,g.props.expandOnClickNode&&ec(),(g.props.checkOnClickNode||t.node.isLeaf&&g.props.checkOnClickLeaf&&t.showCheckbox)&&!t.node.disabled&&tc(!t.node.checked),g.ctx.emit("node-click",t.node.data,t.node,j,Xm)},dr=Xm=>{var Km;(Km=g.instance.vnode.props)!=null&&Km.onNodeContextmenu&&(Xm.stopPropagation(),Xm.preventDefault()),g.ctx.emit("node-contextmenu",Xm,t.node.data,t.node,j)},ec=()=>{t.node.isLeaf||($.value?(g.ctx.emit("node-collapse",t.node.data,t.node,j),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,j)}))},tc=Xm=>{const Km=g==null?void 0:g.props.checkStrictly,tv=t.node.childNodes;!Km&&tv.length&&(Xm=tv.some(nv=>!nv.isEffectivelyChecked)),t.node.setChecked(Xm,!Km),nextTick(()=>{const nv=g.store.value;g.ctx.emit("check",t.node.data,{checkedNodes:nv.getCheckedNodes(),checkedKeys:nv.getCheckedKeys(),halfCheckedNodes:nv.getHalfCheckedNodes(),halfCheckedKeys:nv.getHalfCheckedKeys()})})};return{ns:n,node$:V,tree:g,expanded:$,childNodeRendered:y,oldChecked:k,oldIndeterminate:L,getNodeKey:Oe,getNodeClass:ur,handleSelectChange:hr,handleClick:Vr,handleContextMenu:dr,handleExpandIconClick:ec,handleCheckChange:tc,handleChildNodeExpand:(Xm,Km,tv)=>{r(Km),g.ctx.emit("node-expand",Xm,Km,tv)},handleDragStart:Xm=>{g.props.draggable&&z.treeNodeDragStart({event:Xm,treeNode:t})},handleDragOver:Xm=>{Xm.preventDefault(),g.props.draggable&&z.treeNodeDragOver({event:Xm,treeNode:{$el:V.value,node:t.node}})},handleDrop:Xm=>{Xm.preventDefault()},handleDragEnd:Xm=>{g.props.draggable&&z.treeNodeDragEnd(Xm)},CaretRight:caret_right_default}}}),_hoisted_1$d=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],_hoisted_2$7=["aria-expanded"];function _sfc_render$3(t,e,n,r,g,$){const y=resolveComponent("el-icon"),k=resolveComponent("el-checkbox"),L=resolveComponent("loading"),V=resolveComponent("node-content"),z=resolveComponent("el-tree-node"),j=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[2]||(e[2]=withModifiers((...ie)=>t.handleClick&&t.handleClick(...ie),["stop"])),onContextmenu:e[3]||(e[3]=(...ie)=>t.handleContextMenu&&t.handleContextMenu(...ie)),onDragstart:e[4]||(e[4]=withModifiers((...ie)=>t.handleDragStart&&t.handleDragStart(...ie),["stop"])),onDragover:e[5]||(e[5]=withModifiers((...ie)=>t.handleDragOver&&t.handleDragOver(...ie),["stop"])),onDragend:e[6]||(e[6]=withModifiers((...ie)=>t.handleDragEnd&&t.handleDragEnd(...ie),["stop"])),onDrop:e[7]||(e[7]=withModifiers((...ie)=>t.handleDrop&&t.handleDrop(...ie),["stop"]))},[createBaseVNode("div",{class:normalizeClass(t.ns.be("node","content")),style:normalizeStyle({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(openBlock(),createBlock(y,{key:0,class:normalizeClass([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:withModifiers(t.handleExpandIconClick,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),t.showCheckbox?(openBlock(),createBlock(k,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=withModifiers(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):createCommentVNode("v-if",!0),t.node.loading?(openBlock(),createBlock(y,{key:2,class:normalizeClass([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:withCtx(()=>[createVNode(L)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(V,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),createVNode(j,null,{default:withCtx(()=>[!t.renderAfterExpand||t.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded,onClick:e[1]||(e[1]=withModifiers(()=>{},["stop"]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.node.childNodes,ie=>(openBlock(),createBlock(z,{key:t.getNodeKey(ie),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:ie,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,_hoisted_2$7)),[[vShow,t.expanded]]):createCommentVNode("v-if",!0)]),_:1})],42,_hoisted_1$d)),[[vShow,t.node.visible]])}var ElTreeNode$1=_export_sfc$1(_sfc_main$p,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function useKeydown({el$:t},e){const n=useNamespace("tree");onMounted(()=>{$()}),onUpdated(()=>{var y;(y=t.value)==null||y.querySelectorAll("input[type=checkbox]").forEach(k=>{k.setAttribute("tabindex","-1")})});function r(y,k){var L,V;const z=e.value.getNode(y[k].dataset.key);return z.canFocus&&z.visible&&(((L=z.parent)==null?void 0:L.expanded)||((V=z.parent)==null?void 0:V.level)===0)}useEventListener(t,"keydown",y=>{const k=y.target;if(!k.className.includes(n.b("node")))return;const L=getEventCode(y),V=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),z=V.indexOf(k);let j;if([EVENT_CODE.up,EVENT_CODE.down].includes(L)){if(y.preventDefault(),L===EVENT_CODE.up){j=z===-1?0:z!==0?z-1:V.length-1;const Oe=j;for(;!r(V,j);){if(j--,j===Oe){j=-1;break}j<0&&(j=V.length-1)}}else{j=z===-1?0:z<V.length-1?z+1:0;const Oe=j;for(;!r(V,j);){if(j++,j===Oe){j=-1;break}j>=V.length&&(j=0)}}j!==-1&&V[j].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes(L)&&(y.preventDefault(),k.click());const ie=k.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space].includes(L)&&ie&&(y.preventDefault(),ie.click())});const $=()=>{var y;if(!t.value)return;const k=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(z=>{z.setAttribute("tabindex","-1")});const V=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(V.length){V[0].setAttribute("tabindex","0");return}(y=k[0])==null||y.setAttribute("tabindex","0")}}const treeProps$1=buildProps({data:{type:definePropType(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array},defaultExpandedKeys:{type:Array},currentNodeKey:{type:[String,Number]},renderContent:{type:definePropType(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:definePropType(Function)},allowDrop:{type:definePropType(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:{type:Function},filterNodeMethod:{type:Function},accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}}),treeEmits$1={"check-change":(t,e,n)=>t&&isBoolean(e)&&isBoolean(n),"current-change":(t,e)=>!0,"node-click":(t,e,n,r)=>t&&e&&r instanceof Event,"node-contextmenu":(t,e,n,r)=>t instanceof Event&&e&&n,"node-collapse":(t,e,n)=>t&&e,"node-expand":(t,e,n)=>t&&e,check:(t,e)=>t&&e,"node-drag-start":(t,e)=>t&&e,"node-drag-end":(t,e,n,r)=>t&&r,"node-drop":(t,e,n,r)=>t&&e&&r,"node-drag-leave":(t,e,n)=>t&&e&&n,"node-drag-enter":(t,e,n)=>t&&e&&n,"node-drag-over":(t,e,n)=>t&&e&&n},_sfc_main$o=defineComponent({name:"ElTree",components:{ElTreeNode:ElTreeNode$1},props:treeProps$1,emits:treeEmits$1,setup(t,e){const{t:n}=useLocale(),r=useNamespace("tree"),g=ref(new TreeStore({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));g.value.initialize();const $=ref(g.value.root),y=ref(null),k=ref(null),L=ref(null),{broadcastExpanded:V}=useNodeExpandEventBroadcast(t),{dragState:z}=useDragNodeHandler({props:t,ctx:e,el$:k,dropIndicator$:L,store:g});useKeydown({el$:k},g);const j=getCurrentInstance(),ie=computed(()=>{let pv=j==null?void 0:j.parent;for(;pv;){if(pv.type.name==="ElTreeSelect")return!0;pv=pv.parent}return!1}),Oe=computed(()=>{const{childNodes:pv}=$.value;return(!pv||pv.length===0||pv.every(({visible:mv})=>!mv))&&!ie.value});watch(()=>t.currentNodeKey,pv=>{g.value.setCurrentNodeKey(pv??null)}),watch(()=>t.defaultCheckedKeys,(pv,mv)=>{isEqual$1(pv,mv)||g.value.setDefaultCheckedKey(pv??[])}),watch(()=>t.defaultExpandedKeys,pv=>{g.value.setDefaultExpandedKeys(pv??[])}),watch(()=>t.data,pv=>{g.value.setData(pv)},{deep:!0}),watch(()=>t.checkStrictly,pv=>{g.value.checkStrictly=pv});const ur=pv=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");g.value.filter(pv)},hr=pv=>getNodeKey(t.nodeKey,pv.data),Vr=pv=>{if(!t.nodeKey)throw new Error(`[Tree] nodeKey is required in ${pv}`)},dr=pv=>{Vr("getNodePath");const mv=g.value.getNode(pv);if(!mv)return[];const Cv=[mv.data];let uv=mv.parent;for(;uv&&uv!==$.value;)Cv.push(uv.data),uv=uv.parent;return Cv.reverse()},ec=(pv,mv)=>g.value.getCheckedNodes(pv,mv),tc=pv=>g.value.getCheckedKeys(pv),Xs=()=>{const pv=g.value.getCurrentNode();return pv?pv.data:null},rc=()=>{Vr("getCurrentKey");const pv=Xs();return pv?pv[t.nodeKey]:null},ic=(pv,mv)=>{Vr("setCheckedNodes"),g.value.setCheckedNodes(pv,mv)},_c=(pv,mv)=>{Vr("setCheckedKeys"),g.value.setCheckedKeys(pv,mv)},qm=(pv,mv,Cv)=>{g.value.setChecked(pv,mv,Cv)},Xm=()=>g.value.getHalfCheckedNodes(),Km=()=>g.value.getHalfCheckedKeys(),tv=(pv,mv=!0)=>{Vr("setCurrentNode"),handleCurrentChange(g,e.emit,()=>{V(pv),g.value.setUserCurrentNode(pv,mv)})},nv=(pv=null,mv=!0)=>{Vr("setCurrentKey"),handleCurrentChange(g,e.emit,()=>{V(),g.value.setCurrentNodeKey(pv,mv)})},sv=pv=>g.value.getNode(pv),gv=pv=>{g.value.remove(pv)},Sv=(pv,mv)=>{g.value.append(pv,mv)},wv=(pv,mv)=>{g.value.insertBefore(pv,mv)},rv=(pv,mv)=>{g.value.insertAfter(pv,mv)},Jm=(pv,mv,Cv)=>{V(mv),e.emit("node-expand",pv,mv,Cv)},dv=(pv,mv)=>{Vr("updateKeyChild"),g.value.updateChildren(pv,mv)};return provide(ROOT_TREE_INJECTION_KEY$1,{ctx:e,props:t,store:g,root:$,currentNode:y,instance:j}),provide(formItemContextKey,void 0),{ns:r,store:g,root:$,currentNode:y,dragState:z,el$:k,dropIndicator$:L,isEmpty:Oe,filter:ur,getNodeKey:hr,getNodePath:dr,getCheckedNodes:ec,getCheckedKeys:tc,getCurrentNode:Xs,getCurrentKey:rc,setCheckedNodes:ic,setCheckedKeys:_c,setChecked:qm,getHalfCheckedNodes:Xm,getHalfCheckedKeys:Km,setCurrentNode:tv,setCurrentKey:nv,t:n,getNode:sv,remove:gv,append:Sv,insertBefore:wv,insertAfter:rv,handleNodeExpand:Jm,updateKeyChildren:dv}}});function _sfc_render$2(t,e,n,r,g,$){const y=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.root.childNodes,k=>(openBlock(),createBlock(y,{key:t.getNodeKey(k),node:k,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.ns.e("empty-block"))},[renderSlot(t.$slots,"empty",{},()=>{var k;return[createBaseVNode("span",{class:normalizeClass(t.ns.e("empty-text"))},toDisplayString$1((k=t.emptyText)!=null?k:t.t("el.tree.emptyText")),3)]})],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(t.ns.e("drop-indicator"))},null,2),[[vShow,t.dragState.showDropIndicator]])],2)}var Tree=_export_sfc$1(_sfc_main$o,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);const ElTree=withInstall(Tree),useSelect=(t,{attrs:e,emit:n},{select:r,tree:g,key:$})=>{const y=useNamespace("tree-select");watch(()=>t.data,()=>{t.filterable&&nextTick(()=>{var V,z;(z=g.value)==null||z.filter((V=r.value)==null?void 0:V.states.inputValue)})},{flush:"post"});const k=V=>{var z;const j=V.at(-1);if(j.expanded&&j.childNodes.at(-1))k([j.childNodes.at(-1)]);else{const ie=(z=g.value.el$)==null?void 0:z.querySelector(`[data-key="${V.at(-1).key}"]`);ie==null||ie.focus({preventScroll:!0});return}};return onMounted(()=>{useEventListener(()=>{var V;return(V=r.value)==null?void 0:V.$el},"keydown",async V=>{const z=getEventCode(V),{dropdownMenuVisible:j}=r.value;[EVENT_CODE.down,EVENT_CODE.up].includes(z)&&j&&(await nextTick(),setTimeout(()=>{var ie,Oe,ur;if(EVENT_CODE.up===z){const hr=g.value.store.root.childNodes;k(hr);return}(ur=(Oe=(ie=r.value.optionsArray[r.value.states.hoveringIndex].$el)==null?void 0:ie.parentNode)==null?void 0:Oe.parentNode)==null||ur.focus({preventScroll:!0})}))},{capture:!0})}),{...pick(toRefs(t),Object.keys(ElSelect.props)),...e,class:computed(()=>e.class),style:computed(()=>e.style),"onUpdate:modelValue":V=>n(UPDATE_MODEL_EVENT,V),valueKey:$,popperClass:computed(()=>{const V=[y.e("popper")];return t.popperClass&&V.push(t.popperClass),V.join(" ")}),filterMethod:(V="")=>{var z;t.filterMethod?t.filterMethod(V):t.remoteMethod?t.remoteMethod(V):(z=g.value)==null||z.filter(V)}}},component=defineComponent({extends:ElOption,setup(t,e){const n=ElOption.setup(t,e);delete n.selectOptionClick;const r=getCurrentInstance().proxy;return nextTick(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),watch(()=>e.attrs.visible,g=>{nextTick(()=>{n.states.visible=g})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function isValidValue(t){return t||t===0}function isValidArray(t){return isArray$1(t)&&t.length}function toValidArray(t){return isArray$1(t)?t:isValidValue(t)?[t]:[]}function treeFind(t,e,n,r,g){for(let $=0;$<t.length;$++){const y=t[$];if(e(y,$,t,g))return r?r(y,$,t,g):y;{const k=n(y);if(isValidArray(k)){const L=treeFind(k,e,n,r,y);if(L)return L}}}}function treeEach(t,e,n,r){for(let g=0;g<t.length;g++){const $=t[g];e($,g,t,r);const y=n($);isValidArray(y)&&treeEach(y,e,n,$)}}const useTree$1=(t,{attrs:e,slots:n,emit:r},{select:g,tree:$,key:y})=>{watch([()=>t.modelValue,$],()=>{t.showCheckbox&&nextTick(()=>{const ie=$.value;ie&&!isEqual$1(ie.getCheckedKeys(),toValidArray(t.modelValue))&&ie.setCheckedKeys(toValidArray(t.modelValue))})},{immediate:!0,deep:!0});const k=computed(()=>({value:y.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),L=(ie,Oe)=>{var ur;const hr=k.value[ie];return isFunction$1(hr)?hr(Oe,(ur=$.value)==null?void 0:ur.getNode(L("value",Oe))):Oe[hr]},V=toValidArray(t.modelValue).map(ie=>treeFind(t.data||[],Oe=>L("value",Oe)===ie,Oe=>L("children",Oe),(Oe,ur,hr,Vr)=>Vr&&L("value",Vr))).filter(ie=>isValidValue(ie)),z=computed(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const ie=[];return treeEach(t.data.concat(t.cacheData),Oe=>{const ur=L("value",Oe);ie.push({value:ur,currentLabel:L("label",Oe),isDisabled:L("disabled",Oe)})},Oe=>L("children",Oe)),ie}),j=()=>{var ie;return(ie=$.value)==null?void 0:ie.getCheckedKeys().filter(Oe=>{var ur;const hr=(ur=$.value)==null?void 0:ur.getNode(Oe);return!isNil(hr)&&isEmpty(hr.childNodes)})};return{...pick(toRefs(t),Object.keys(ElTree.props)),...e,nodeKey:y,expandOnClickNode:computed(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:computed(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(V):V),renderContent:(ie,{node:Oe,data:ur,store:hr})=>ie(component,{value:L("value",ur),label:L("label",ur),disabled:L("disabled",ur),visible:Oe.visible},t.renderContent?()=>t.renderContent(ie,{node:Oe,data:ur,store:hr}):n.default?()=>n.default({node:Oe,data:ur,store:hr}):void 0),filterNodeMethod:(ie,Oe,ur)=>t.filterNodeMethod?t.filterNodeMethod(ie,Oe,ur):ie?new RegExp(escapeStringRegexp(ie),"i").test(L("label",Oe)||""):!0,onNodeClick:(ie,Oe,ur)=>{var hr,Vr,dr;if((hr=e.onNodeClick)==null||hr.call(e,ie,Oe,ur),!(t.showCheckbox&&t.checkOnClickNode))if(!t.showCheckbox&&(t.checkStrictly||Oe.isLeaf)){if(!L("disabled",ie)){const ec=(Vr=g.value)==null?void 0:Vr.states.options.get(L("value",ie));(dr=g.value)==null||dr.handleOptionSelect(ec)}}else t.expandOnClickNode&&ur.proxy.handleExpandIconClick()},onCheck:(ie,Oe)=>{var ur;if(!t.showCheckbox)return;const hr=L("value",ie),Vr={};treeEach([$.value.store.root],Xs=>Vr[Xs.key]=Xs,Xs=>Xs.childNodes);const dr=Oe.checkedKeys,ec=t.multiple?toValidArray(t.modelValue).filter(Xs=>!(Xs in Vr)&&!dr.includes(Xs)):[],tc=ec.concat(dr);if(t.checkStrictly)r(UPDATE_MODEL_EVENT,t.multiple?tc:tc.includes(hr)?hr:void 0);else if(t.multiple){const Xs=j();r(UPDATE_MODEL_EVENT,ec.concat(Xs))}else{const Xs=treeFind([ie],_c=>!isValidArray(L("children",_c))&&!L("disabled",_c),_c=>L("children",_c)),rc=Xs?L("value",Xs):void 0,ic=isValidValue(t.modelValue)&&!!treeFind([ie],_c=>L("value",_c)===t.modelValue,_c=>L("children",_c));r(UPDATE_MODEL_EVENT,rc===t.modelValue||ic?void 0:rc)}nextTick(()=>{var Xs;const rc=toValidArray(t.modelValue);$.value.setCheckedKeys(rc),(Xs=e.onCheck)==null||Xs.call(e,ie,{checkedKeys:$.value.getCheckedKeys(),checkedNodes:$.value.getCheckedNodes(),halfCheckedKeys:$.value.getHalfCheckedKeys(),halfCheckedNodes:$.value.getHalfCheckedNodes()})}),(ur=g.value)==null||ur.focus()},onNodeExpand:(ie,Oe,ur)=>{var hr;(hr=e.onNodeExpand)==null||hr.call(e,ie,Oe,ur),nextTick(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&Oe.checked){const Vr={},dr=$.value.getCheckedKeys();treeEach([$.value.store.root],Xs=>Vr[Xs.key]=Xs,Xs=>Xs.childNodes);const ec=toValidArray(t.modelValue).filter(Xs=>!(Xs in Vr)&&!dr.includes(Xs)),tc=j();r(UPDATE_MODEL_EVENT,ec.concat(tc))}})},cacheOptions:z}};var CacheOptions=defineComponent({props:{data:{type:Array,default:()=>[]}},setup(t){const e=inject(selectKey);return watch(()=>t.data,()=>{var n;t.data.forEach(g=>{e.states.cachedOptions.has(g.value)||e.states.cachedOptions.set(g.value,g)});const r=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];isClient&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const _sfc_main$n=defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...selectProps,...treeProps$1,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,g=ref(),$=ref(),y=computed(()=>t.nodeKey||t.valueKey||"value"),k=useSelect(t,e,{select:g,tree:$,key:y}),{cacheOptions:L,...V}=useTree$1(t,e,{select:g,tree:$,key:y}),z=reactive({});return r(z),onMounted(()=>{Object.assign(z,{...pick($.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pick(g.value,["focus","blur","selectedLabel"]),treeRef:$.value,selectRef:g.value})}),()=>h$1(ElSelect,reactive({...k,ref:j=>g.value=j}),{...n,default:()=>[h$1(CacheOptions,{data:L.value}),h$1(ElTree,reactive({...V,ref:j=>$.value=j}))]})}});var TreeSelect=_export_sfc$1(_sfc_main$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);const ElTreeSelect=withInstall(TreeSelect),ROOT_TREE_INJECTION_KEY=Symbol(),EMPTY_NODE={key:-1,level:-1,data:{}};var TreeOptionsEnum=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(TreeOptionsEnum||{}),SetOperationEnum=(t=>(t.ADD="add",t.DELETE="delete",t))(SetOperationEnum||{});const itemSize={type:Number,default:26},treeProps=buildProps({data:{type:definePropType(Array),default:()=>mutable([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:definePropType(Object),default:()=>mutable({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:Boolean,showCheckbox:Boolean,defaultCheckedKeys:{type:definePropType(Array),default:()=>mutable([])},checkStrictly:Boolean,defaultExpandedKeys:{type:definePropType(Array),default:()=>mutable([])},indent:{type:Number,default:16},itemSize,icon:{type:iconPropType},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:definePropType([String,Number])},accordion:Boolean,filterMethod:{type:definePropType(Function)},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),treeNodeProps=buildProps({node:{type:definePropType(Object),default:()=>mutable(EMPTY_NODE)},expanded:Boolean,checked:Boolean,indeterminate:Boolean,showCheckbox:Boolean,disabled:Boolean,current:Boolean,hiddenExpandIcon:Boolean,itemSize}),treeNodeContentProps=buildProps({node:{type:definePropType(Object),required:!0}}),NODE_CLICK="node-click",NODE_DROP="node-drop",NODE_EXPAND="node-expand",NODE_COLLAPSE="node-collapse",CURRENT_CHANGE="current-change",NODE_CHECK="check",NODE_CHECK_CHANGE="check-change",NODE_CONTEXTMENU="node-contextmenu",treeEmits={[NODE_CLICK]:(t,e,n)=>t&&e&&n,[NODE_DROP]:(t,e,n)=>t&&e&&n,[NODE_EXPAND]:(t,e)=>t&&e,[NODE_COLLAPSE]:(t,e)=>t&&e,[CURRENT_CHANGE]:(t,e)=>t&&e,[NODE_CHECK]:(t,e)=>t&&e,[NODE_CHECK_CHANGE]:(t,e)=>t&&isBoolean(e),[NODE_CONTEXTMENU]:(t,e,n)=>t&&e&&n},treeNodeEmits={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&isBoolean(e)};function useCheck(t,e){const n=ref(new Set),r=ref(new Set),{emit:g}=getCurrentInstance();watch([()=>e.value,()=>t.defaultCheckedKeys],()=>nextTick(()=>{ec(t.defaultCheckedKeys)}),{immediate:!0});const $=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:tc,maxLevel:Xs}=e.value,rc=n.value,ic=new Set;for(let _c=Xs;_c>=1;--_c){const qm=tc.get(_c);qm&&qm.forEach(Xm=>{const Km=Xm.children;let tv=!Xm.isLeaf||Xm.disabled||rc.has(Xm.key);if(Km){let nv=!0,sv=!1;for(const gv of Km){const Sv=gv.key;if(gv.isEffectivelyChecked||(tv=!1),rc.has(Sv))sv=!0;else if(ic.has(Sv)){nv=!1,sv=!0;break}else nv=!1}nv?rc.add(Xm.key):sv?(ic.add(Xm.key),rc.delete(Xm.key)):(rc.delete(Xm.key),ic.delete(Xm.key))}Xm.isEffectivelyChecked=tv})}r.value=ic},y=tc=>n.value.has(tc.key),k=tc=>r.value.has(tc.key),L=(tc,Xs,rc=!0,ic=!0)=>{const _c=n.value,qm=tc.children;!t.checkStrictly&&rc&&(qm!=null&&qm.length)&&(Xs=qm.some(Km=>!Km.isEffectivelyChecked));const Xm=(Km,tv)=>{_c[tv?SetOperationEnum.ADD:SetOperationEnum.DELETE](Km.key);const nv=Km.children;!t.checkStrictly&&nv&&nv.forEach(sv=>{(!sv.disabled||sv.children)&&Xm(sv,tv)})};Xm(tc,Xs),ic&&$(),rc&&V(tc,Xs)},V=(tc,Xs)=>{const{checkedNodes:rc,checkedKeys:ic}=ur(),{halfCheckedNodes:_c,halfCheckedKeys:qm}=hr();g(NODE_CHECK,tc.data,{checkedKeys:ic,checkedNodes:rc,halfCheckedKeys:qm,halfCheckedNodes:_c}),g(NODE_CHECK_CHANGE,tc.data,Xs)};function z(tc=!1){return ur(tc).checkedKeys}function j(tc=!1){return ur(tc).checkedNodes}function ie(){return hr().halfCheckedKeys}function Oe(){return hr().halfCheckedNodes}function ur(tc=!1){const Xs=[],rc=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:ic}=e.value;n.value.forEach(_c=>{const qm=ic.get(_c);qm&&(!tc||tc&&qm.isLeaf)&&(rc.push(_c),Xs.push(qm.data))})}return{checkedKeys:rc,checkedNodes:Xs}}function hr(){const tc=[],Xs=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:rc}=e.value;r.value.forEach(ic=>{const _c=rc.get(ic);_c&&(Xs.push(ic),tc.push(_c.data))})}return{halfCheckedNodes:tc,halfCheckedKeys:Xs}}function Vr(tc){n.value.clear(),r.value.clear(),nextTick(()=>{ec(tc)})}function dr(tc,Xs){if(e!=null&&e.value&&t.showCheckbox){const rc=e.value.treeNodeMap.get(tc);rc&&L(rc,Xs,!1)}}function ec(tc){if(e!=null&&e.value){const{treeNodeMap:Xs}=e.value;if(t.showCheckbox&&Xs&&(tc==null?void 0:tc.length)>0){for(const rc of tc){const ic=Xs.get(rc);ic&&!y(ic)&&L(ic,!0,!1,!1)}$()}}}return{updateCheckedKeys:$,toggleCheckbox:L,isChecked:y,isIndeterminate:k,getCheckedKeys:z,getCheckedNodes:j,getHalfCheckedKeys:ie,getHalfCheckedNodes:Oe,setChecked:dr,setCheckedKeys:Vr}}function useFilter(t,e){const n=ref(new Set([])),r=ref(new Set([])),g=computed(()=>isFunction$1(t.filterMethod));function $(k){var L;if(!g.value)return;const V=new Set,z=r.value,j=n.value,ie=[],Oe=((L=e.value)==null?void 0:L.treeNodes)||[],ur=t.filterMethod;j.clear();function hr(Vr){Vr.forEach(dr=>{ie.push(dr),ur!=null&&ur(k,dr.data,dr)?ie.forEach(tc=>{V.add(tc.key),tc.expanded=!0}):(dr.expanded=!1,dr.isLeaf&&j.add(dr.key));const ec=dr.children;if(ec&&hr(ec),!dr.isLeaf){if(!V.has(dr.key))j.add(dr.key);else if(ec){let tc=!0;for(const Xs of ec)if(!j.has(Xs.key)){tc=!1;break}tc?z.add(dr.key):z.delete(dr.key)}}ie.pop()})}return hr(Oe),V}function y(k){return r.value.has(k.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:$,isForceHiddenExpandIcon:y}}function useTree(t,e){const n=ref(new Set),r=ref(),g=shallowRef(),$=ref(),{isIndeterminate:y,isChecked:k,toggleCheckbox:L,getCheckedKeys:V,getCheckedNodes:z,getHalfCheckedKeys:j,getHalfCheckedNodes:ie,setChecked:Oe,setCheckedKeys:ur}=useCheck(t,g),{doFilter:hr,hiddenNodeKeySet:Vr,isForceHiddenExpandIcon:dr}=useFilter(t,g),ec=computed(()=>{var Pv;return((Pv=t.props)==null?void 0:Pv.value)||TreeOptionsEnum.KEY}),tc=computed(()=>{var Pv;return((Pv=t.props)==null?void 0:Pv.children)||TreeOptionsEnum.CHILDREN}),Xs=computed(()=>{var Pv;return((Pv=t.props)==null?void 0:Pv.disabled)||TreeOptionsEnum.DISABLED}),rc=computed(()=>{var Pv;return((Pv=t.props)==null?void 0:Pv.label)||TreeOptionsEnum.LABEL}),ic=computed(()=>{var Pv;const Tv=n.value,Vv=Vr.value,Av=[],y0=((Pv=g.value)==null?void 0:Pv.treeNodes)||[],av=[];for(let fv=y0.length-1;fv>=0;--fv)av.push(y0[fv]);for(;av.length;){const fv=av.pop();if(!Vv.has(fv.key)&&(Av.push(fv),fv.children&&Tv.has(fv.key)))for(let lv=fv.children.length-1;lv>=0;--lv)av.push(fv.children[lv])}return Av}),_c=computed(()=>ic.value.length>0);function qm(Pv){const Tv=new Map,Vv=new Map;let Av=1;function y0(fv,lv=1,kv=void 0){var Iv;const vv=[];for(const Ev of fv){const zv=tv(Ev),Fv={level:lv,key:zv,data:Ev};Fv.label=sv(Ev),Fv.parent=kv;const Yv=Km(Ev);Fv.disabled=nv(Ev),Fv.isLeaf=!Yv||Yv.length===0,Fv.expanded=n.value.has(zv),Yv&&Yv.length&&(Fv.children=y0(Yv,lv+1,Fv)),vv.push(Fv),Tv.set(zv,Fv),Vv.has(lv)||Vv.set(lv,[]),(Iv=Vv.get(lv))==null||Iv.push(Fv)}return lv>Av&&(Av=lv),vv}const av=y0(Pv);return{treeNodeMap:Tv,levelTreeNodeMap:Vv,maxLevel:Av,treeNodes:av}}function Xm(Pv){const Tv=hr(Pv);Tv&&(n.value=Tv)}function Km(Pv){return Pv[tc.value]}function tv(Pv){return Pv?Pv[ec.value]:""}function nv(Pv){return Pv[Xs.value]}function sv(Pv){return Pv[rc.value]}function gv(Pv){n.value.has(Pv.key)?mv(Pv):pv(Pv)}function Sv(Pv){const Tv=new Set,Vv=g.value.treeNodeMap;n.value.forEach(Av=>{const y0=Vv.get(Av);n.value.delete(y0.key),y0.expanded=!1}),Pv.forEach(Av=>{let y0=Vv.get(Av);for(;y0&&!Tv.has(y0.key);)Tv.add(y0.key),y0.expanded=!0,y0=y0.parent}),n.value=Tv}function wv(Pv,Tv){e(NODE_CLICK,Pv.data,Pv,Tv),Jm(Pv),t.expandOnClickNode&&gv(Pv),t.showCheckbox&&(t.checkOnClickNode||Pv.isLeaf&&t.checkOnClickLeaf)&&!Pv.disabled&&L(Pv,!k(Pv),!0)}function rv(Pv,Tv){e(NODE_DROP,Pv.data,Pv,Tv)}function Jm(Pv){uv(Pv)||(r.value=Pv.key,e(CURRENT_CHANGE,Pv.data,Pv))}function dv(Pv,Tv){L(Pv,Tv)}function pv(Pv){const Tv=n.value;if(g.value&&t.accordion){const{treeNodeMap:Av}=g.value;Tv.forEach(y0=>{const av=Av.get(y0);Pv&&Pv.level===(av==null?void 0:av.level)&&(Tv.delete(y0),av.expanded=!1)})}Tv.add(Pv.key);const Vv=Gv(Pv.key);Vv&&(Vv.expanded=!0,e(NODE_EXPAND,Vv.data,Vv))}function mv(Pv){n.value.delete(Pv.key);const Tv=Gv(Pv.key);Tv&&(Tv.expanded=!1,e(NODE_COLLAPSE,Tv.data,Tv))}function Cv(Pv){return!!Pv.disabled}function uv(Pv){const Tv=r.value;return Tv!==void 0&&Tv===Pv.key}function yv(){var Pv,Tv;if(r.value)return(Tv=(Pv=g.value)==null?void 0:Pv.treeNodeMap.get(r.value))==null?void 0:Tv.data}function $v(){return r.value}function Dv(Pv){r.value=Pv}function Hv(Pv){g.value=qm(Pv)}function Gv(Pv){var Tv;const Vv=isObject$2(Pv)?tv(Pv):Pv;return(Tv=g.value)==null?void 0:Tv.treeNodeMap.get(Vv)}function f0(Pv,Tv="auto"){const Vv=Gv(Pv);Vv&&$.value&&$.value.scrollToItem(ic.value.indexOf(Vv),Tv)}function qv(Pv){var Tv;(Tv=$.value)==null||Tv.scrollTo(Pv)}return watch(()=>t.currentNodeKey,Pv=>{r.value=Pv},{immediate:!0}),watch(()=>t.defaultExpandedKeys,Pv=>{n.value=new Set(Pv)},{immediate:!0}),watch(()=>t.data,Pv=>{Hv(Pv)},{immediate:!0}),{tree:g,flattenTree:ic,isNotEmpty:_c,listRef:$,getKey:tv,getChildren:Km,toggleExpand:gv,toggleCheckbox:L,isChecked:k,isIndeterminate:y,isDisabled:Cv,isCurrent:uv,isForceHiddenExpandIcon:dr,handleNodeClick:wv,handleNodeDrop:rv,handleNodeCheck:dv,getCurrentNode:yv,getCurrentKey:$v,setCurrentKey:Dv,getCheckedKeys:V,getCheckedNodes:z,getHalfCheckedKeys:j,getHalfCheckedNodes:ie,setChecked:Oe,setCheckedKeys:ur,filter:Xm,setData:Hv,getNode:Gv,expandNode:pv,collapseNode:mv,setExpandedKeys:Sv,scrollToNode:f0,scrollTo:qv}}var ElNodeContent=defineComponent({name:"ElTreeNodeContent",props:treeNodeContentProps,setup(t){const e=inject(ROOT_TREE_INJECTION_KEY),n=useNamespace("tree");return()=>{const r=t.node,{data:g}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:g}):h$1(ElText,{tag:"span",truncated:!0,class:n.be("node","label")},()=>[r==null?void 0:r.label])}}});const _hoisted_1$c=["aria-expanded","aria-disabled","aria-checked","data-key"],_sfc_main$m=defineComponent({name:"ElTreeNode",__name:"tree-node",props:treeNodeProps,emits:treeNodeEmits,setup(t,{emit:e}){const n=t,r=e,g=inject(ROOT_TREE_INJECTION_KEY),$=useNamespace("tree"),y=computed(()=>{var ur;return(ur=g==null?void 0:g.props.indent)!=null?ur:16}),k=computed(()=>{var ur;return(ur=g==null?void 0:g.props.icon)!=null?ur:caret_right_default}),L=ur=>{const hr=g==null?void 0:g.props.props.class;if(!hr)return{};let Vr;if(isFunction$1(hr)){const{data:dr}=ur;Vr=hr(dr,ur)}else Vr=hr;return isString$1(Vr)?{[Vr]:!0}:Vr},V=ur=>{r("click",n.node,ur)},z=ur=>{r("drop",n.node,ur)},j=()=>{r("toggle",n.node)},ie=ur=>{r("check",n.node,ur)},Oe=ur=>{var hr,Vr,dr,ec;(dr=(Vr=(hr=g==null?void 0:g.instance)==null?void 0:hr.vnode)==null?void 0:Vr.props)!=null&&dr.onNodeContextmenu&&(ur.stopPropagation(),ur.preventDefault()),g==null||g.ctx.emit(NODE_CONTEXTMENU,ur,(ec=n.node)==null?void 0:ec.data,n.node)};return(ur,hr)=>{var Vr,dr,ec;return openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([unref($).b("node"),unref($).is("expanded",ur.expanded),unref($).is("current",ur.current),unref($).is("focusable",!ur.disabled),unref($).is("checked",!ur.disabled&&ur.checked),L(ur.node)]),role:"treeitem",tabindex:"-1","aria-expanded":ur.expanded,"aria-disabled":ur.disabled,"aria-checked":ur.checked,"data-key":(Vr=ur.node)==null?void 0:Vr.key,onClick:withModifiers(V,["stop"]),onContextmenu:Oe,onDragover:hr[1]||(hr[1]=withModifiers(()=>{},["prevent"])),onDragenter:hr[2]||(hr[2]=withModifiers(()=>{},["prevent"])),onDrop:withModifiers(z,["stop"])},[createBaseVNode("div",{class:normalizeClass(unref($).be("node","content")),style:normalizeStyle({paddingLeft:`${(ur.node.level-1)*y.value}px`,height:ur.itemSize+"px"})},[k.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref($).is("leaf",!!((dr=ur.node)!=null&&dr.isLeaf)),unref($).is("hidden",ur.hiddenExpandIcon),{expanded:!((ec=ur.node)!=null&&ec.isLeaf)&&ur.expanded},unref($).be("node","expand-icon")]),onClick:withModifiers(j,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(k.value)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),ur.showCheckbox?(openBlock(),createBlock(unref(ElCheckbox),{key:1,"model-value":ur.checked,indeterminate:ur.indeterminate,disabled:ur.disabled,onChange:ie,onClick:hr[0]||(hr[0]=withModifiers(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):createCommentVNode("v-if",!0),createVNode(unref(ElNodeContent),{node:{...ur.node,expanded:ur.expanded}},null,8,["node"])],6)],42,_hoisted_1$c)}}});var ElTreeNode=_export_sfc$1(_sfc_main$m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const _sfc_main$l=defineComponent({name:"ElTreeV2",__name:"tree",props:treeProps,emits:treeEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useSlots(),y=computed(()=>r.itemSize);provide(ROOT_TREE_INJECTION_KEY,{ctx:{emit:g,slots:$},props:r,instance:getCurrentInstance()}),provide(formItemContextKey,void 0);const{t:k}=useLocale(),L=useNamespace("tree"),{flattenTree:V,isNotEmpty:z,listRef:j,toggleExpand:ie,isIndeterminate:Oe,isChecked:ur,isDisabled:hr,isCurrent:Vr,isForceHiddenExpandIcon:dr,handleNodeClick:ec,handleNodeDrop:tc,handleNodeCheck:Xs,toggleCheckbox:rc,getCurrentNode:ic,getCurrentKey:_c,setCurrentKey:qm,getCheckedKeys:Xm,getCheckedNodes:Km,getHalfCheckedKeys:tv,getHalfCheckedNodes:nv,setChecked:sv,setCheckedKeys:gv,filter:Sv,setData:wv,getNode:rv,expandNode:Jm,collapseNode:dv,setExpandedKeys:pv,scrollToNode:mv,scrollTo:Cv}=useTree(r,g);return e({toggleCheckbox:rc,getCurrentNode:ic,getCurrentKey:_c,setCurrentKey:qm,getCheckedKeys:Xm,getCheckedNodes:Km,getHalfCheckedKeys:tv,getHalfCheckedNodes:nv,setChecked:sv,setCheckedKeys:gv,filter:Sv,setData:wv,getNode:rv,expandNode:Jm,collapseNode:dv,setExpandedKeys:pv,scrollToNode:mv,scrollTo:Cv}),(uv,yv)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(L).b(),{[unref(L).m("highlight-current")]:uv.highlightCurrent}]),role:"tree"},[unref(z)?(openBlock(),createBlock(unref(FixedSizeList),{key:0,ref_key:"listRef",ref:j,"class-name":unref(L).b("virtual-list"),data:unref(V),total:unref(V).length,height:uv.height,"item-size":y.value,"perf-mode":uv.perfMode,"scrollbar-always-on":uv.scrollbarAlwaysOn},{default:withCtx(({data:$v,index:Dv,style:Hv})=>[(openBlock(),createBlock(ElTreeNode,{key:$v[Dv].key,style:normalizeStyle(Hv),node:$v[Dv],expanded:$v[Dv].expanded,"show-checkbox":uv.showCheckbox,checked:unref(ur)($v[Dv]),indeterminate:unref(Oe)($v[Dv]),"item-size":y.value,disabled:unref(hr)($v[Dv]),current:unref(Vr)($v[Dv]),"hidden-expand-icon":unref(dr)($v[Dv]),onClick:unref(ec),onToggle:unref(ie),onCheck:unref(Xs),onDrop:unref(tc)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode","scrollbar-always-on"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(L).e("empty-block"))},[renderSlot(uv.$slots,"empty",{},()=>{var $v;return[createBaseVNode("span",{class:normalizeClass(unref(L).e("empty-text"))},toDisplayString$1(($v=uv.emptyText)!=null?$v:unref(k)("el.tree.emptyText")),3)]})],2))],2))}});var TreeV2=_export_sfc$1(_sfc_main$l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const ElTreeV2=withInstall(TreeV2),uploadContextKey=Symbol("uploadContextKey"),SCOPE$2="ElUpload";class UploadAjaxError extends Error{constructor(e,n,r,g){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=g}}function getError(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new UploadAjaxError(r,n.status,e.method,t)}function getBody(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const ajaxUpload=t=>{typeof XMLHttpRequest>"u"&&throwError(SCOPE$2,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",$=>{const y=$;y.percent=$.total>0?$.loaded/$.total*100:0,t.onProgress(y)});const r=new FormData;if(t.data)for(const[$,y]of Object.entries(t.data))isArray$1(y)&&y.length?r.append($,...y):r.append($,y);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(getError(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(getError(n,t,e));t.onSuccess(getBody(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const g=t.headers||{};if(g instanceof Headers)g.forEach(($,y)=>e.setRequestHeader(y,$));else for(const[$,y]of Object.entries(g))isNil(y)||e.setRequestHeader($,String(y));return e.send(r),e},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:definePropType([Object,Function,Promise]),default:()=>mutable({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:{type:Boolean,default:void 0},limit:Number}),uploadProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP},crossorigin:{type:definePropType(String)}}),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"},crossorigin:{type:definePropType(String)}}),uploadListEmits={remove:t=>!!t},_hoisted_1$b=["tabindex","aria-disabled","onKeydown"],_hoisted_2$6=["src","crossorigin"],_hoisted_3$2=["onClick"],_hoisted_4$1=["title"],_hoisted_5=["onClick"],_hoisted_6=["onClick"],_sfc_main$k=defineComponent({name:"ElUploadList",__name:"upload-list",props:uploadListProps,emits:uploadListEmits,setup(t,{emit:e}){const n=t,r=e,{t:g}=useLocale(),$=useNamespace("upload"),y=useNamespace("icon"),k=useNamespace("list"),L=useFormDisabled(),V=ref(!1),z=computed(()=>[$.b("list"),$.bm("list",n.listType),$.is("disabled",L.value)]),j=ie=>{r("remove",ie)};return(ie,Oe)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass(z.value),name:unref(k).b()},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(ie.files,(ur,hr)=>(openBlock(),createElementBlock("li",{key:ur.uid||ur.name,class:normalizeClass([unref($).be("list","item"),unref($).is(ur.status),{focusing:V.value}]),tabindex:unref(L)?void 0:0,"aria-disabled":unref(L),role:"button",onKeydown:withKeys(Vr=>!unref(L)&&j(ur),["delete"]),onFocus:Oe[0]||(Oe[0]=Vr=>V.value=!0),onBlur:Oe[1]||(Oe[1]=Vr=>V.value=!1),onClick:Oe[2]||(Oe[2]=Vr=>V.value=!1)},[renderSlot(ie.$slots,"default",{file:ur,index:hr},()=>[ie.listType==="picture"||ur.status!=="uploading"&&ie.listType==="picture-card"?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref($).be("list","item-thumbnail")),src:ur.url,crossorigin:ie.crossorigin,alt:""},null,10,_hoisted_2$6)):createCommentVNode("v-if",!0),ur.status==="uploading"||ie.listType!=="picture-card"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref($).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref($).be("list","item-name")),onClick:withModifiers(Vr=>ie.handlePreview(ur),["prevent"])},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("document"))},{default:withCtx(()=>[createVNode(unref(document_default))]),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref($).be("list","item-file-name")),title:ur.name},toDisplayString$1(ur.name),11,_hoisted_4$1)],10,_hoisted_3$2),ur.status==="uploading"?(openBlock(),createBlock(unref(ElProgress),{key:0,type:ie.listType==="picture-card"?"circle":"line","stroke-width":ie.listType==="picture-card"?6:2,percentage:Number(ur.percentage),style:normalizeStyle(ie.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("label",{class:normalizeClass(unref($).be("list","item-status-label"))},[ie.listType==="text"?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).m("upload-success"),unref(y).m("circle-check")])},{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1},8,["class"])):["picture-card","picture"].includes(ie.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(y).m("upload-success"),unref(y).m("check")])},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),unref(L)?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(y).m("close")),onClick:Vr=>j(ur)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),unref(L)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref(y).m("close-tip"))},toDisplayString$1(unref(g)("el.upload.deleteTip")),3)),ie.listType==="picture-card"?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref($).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref($).be("list","item-preview")),onClick:Vr=>ie.handlePreview(ur)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("zoom-in"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1},8,["class"])],10,_hoisted_5),unref(L)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref($).be("list","item-delete")),onClick:Vr=>j(ur)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(y).m("delete"))},{default:withCtx(()=>[createVNode(unref(delete_default))]),_:1},8,["class"])],10,_hoisted_6))],2)):createCommentVNode("v-if",!0)])],42,_hoisted_1$b))),128)),renderSlot(ie.$slots,"append")]),_:3},8,["class","name"]))}});var UploadList=_export_sfc$1(_sfc_main$k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:void 0}}),uploadDraggerEmits={file:t=>isArray$1(t)},COMPONENT_NAME$1="ElUploadDrag",_sfc_main$j=defineComponent({name:COMPONENT_NAME$1,__name:"upload-dragger",props:uploadDraggerProps,emits:uploadDraggerEmits,setup(t,{emit:e}){const n=e;inject(uploadContextKey)||throwError(COMPONENT_NAME$1,"usage: <el-upload><el-upload-dragger /></el-upload>");const g=useNamespace("upload"),$=ref(!1),y=useFormDisabled(),k=z=>{if(y.value)return;$.value=!1,z.stopPropagation();const j=Array.from(z.dataTransfer.files),ie=z.dataTransfer.items||[];j.forEach((Oe,ur)=>{var hr;const Vr=ie[ur],dr=(hr=Vr==null?void 0:Vr.webkitGetAsEntry)==null?void 0:hr.call(Vr);dr&&(Oe.isDirectory=dr.isDirectory)}),n("file",j)},L=()=>{y.value||($.value=!0)},V=z=>{z.currentTarget.contains(z.relatedTarget)||($.value=!1)};return(z,j)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b("dragger"),unref(g).is("dragover",$.value)]),onDrop:withModifiers(k,["prevent"]),onDragover:withModifiers(L,["prevent"]),onDragleave:withModifiers(V,["prevent"])},[renderSlot(z.$slots,"default")],34))}});var UploadDragger=_export_sfc$1(_sfc_main$j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const uploadContentProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),_hoisted_1$a=["tabindex","aria-disabled","onKeydown"],_hoisted_2$5=["name","disabled","multiple","accept"],_sfc_main$i=defineComponent({name:"ElUploadContent",inheritAttrs:!1,__name:"upload-content",props:uploadContentProps,setup(t,{expose:e}){const n=t,r=useNamespace("upload"),g=useFormDisabled(),$=shallowRef({}),y=shallowRef(),k=hr=>{if(hr.length===0)return;const{autoUpload:Vr,limit:dr,fileList:ec,multiple:tc,onStart:Xs,onExceed:rc}=n;if(dr&&ec.length+hr.length>dr){rc(hr,ec);return}tc||(hr=hr.slice(0,1));for(const ic of hr){const _c=ic;_c.uid=genFileId(),Xs(_c),Vr&&L(_c)}},L=async hr=>{if(y.value.value="",!n.beforeUpload)return z(hr);let Vr,dr={};try{const tc=n.data,Xs=n.beforeUpload(hr);dr=isPlainObject$1(n.data)?cloneDeep(n.data):n.data,Vr=await Xs,isPlainObject$1(n.data)&&isEqual$1(tc,dr)&&(dr=cloneDeep(n.data))}catch{Vr=!1}if(Vr===!1){n.onRemove(hr);return}let ec=hr;Vr instanceof Blob&&(Vr instanceof File?ec=Vr:ec=new File([Vr],hr.name,{type:hr.type})),z(Object.assign(ec,{uid:hr.uid}),dr)},V=async(hr,Vr)=>isFunction$1(hr)?hr(Vr):hr,z=async(hr,Vr)=>{const{headers:dr,data:ec,method:tc,withCredentials:Xs,name:rc,action:ic,onProgress:_c,onSuccess:qm,onError:Xm,httpRequest:Km}=n;try{Vr=await V(Vr??ec,hr)}catch{n.onRemove(hr);return}const{uid:tv}=hr,nv={headers:dr||{},withCredentials:Xs,file:hr,data:Vr,method:tc,filename:rc,action:ic,onProgress:gv=>{_c(gv,hr)},onSuccess:gv=>{qm(gv,hr),delete $.value[tv]},onError:gv=>{Xm(gv,hr),delete $.value[tv]}},sv=Km(nv);$.value[tv]=sv,sv instanceof Promise&&sv.then(nv.onSuccess,nv.onError)},j=hr=>{const Vr=hr.target.files;Vr&&k(Array.from(Vr))},ie=()=>{g.value||(y.value.value="",y.value.click())},Oe=()=>{ie()};return e({abort:hr=>{entriesOf($.value).filter(hr?([dr])=>String(hr.uid)===dr:()=>!0).forEach(([dr,ec])=>{ec instanceof XMLHttpRequest&&ec.abort(),delete $.value[dr]})},upload:L}),(hr,Vr)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(hr.listType),unref(r).is("drag",hr.drag),unref(r).is("disabled",unref(g))]),tabindex:unref(g)?void 0:0,"aria-disabled":unref(g),role:"button",onClick:ie,onKeydown:withKeys(withModifiers(Oe,["self"]),["enter","space"])},[hr.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:unref(g),onFile:k},{default:withCtx(()=>[renderSlot(hr.$slots,"default")]),_:3},8,["disabled"])):renderSlot(hr.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:y,class:normalizeClass(unref(r).e("input")),name:hr.name,disabled:unref(g),multiple:hr.multiple,accept:hr.accept,type:"file",onChange:j,onClick:Vr[0]||(Vr[0]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$5)],42,_hoisted_1$a))}});var UploadContent=_export_sfc$1(_sfc_main$i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const SCOPE$1="ElUpload",revokeFileObjectURL=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},useHandlers=(t,e)=>{const n=useVModel(t,"fileList",void 0,{passive:!0}),r=ur=>n.value.find(hr=>hr.uid===ur.uid);function g(ur){var hr;(hr=e.value)==null||hr.abort(ur)}function $(ur=["ready","uploading","success","fail"]){n.value=n.value.filter(hr=>!ur.includes(hr.status))}function y(ur){n.value=n.value.filter(hr=>hr.uid!==ur.uid)}const k=ur=>{nextTick(()=>t.onChange(ur,n.value))},L=(ur,hr)=>{const Vr=r(hr);Vr&&(console.error(ur),Vr.status="fail",y(Vr),t.onError(ur,Vr,n.value),k(Vr))},V=(ur,hr)=>{const Vr=r(hr);Vr&&(t.onProgress(ur,Vr,n.value),Vr.status="uploading",Vr.percentage=Math.round(ur.percent))},z=(ur,hr)=>{const Vr=r(hr);Vr&&(Vr.status="success",Vr.response=ur,t.onSuccess(ur,Vr,n.value),k(Vr))},j=ur=>{isNil(ur.uid)&&(ur.uid=genFileId());const hr={name:ur.name,percentage:0,status:"ready",size:ur.size,raw:ur,uid:ur.uid};if(t.listType==="picture-card"||t.listType==="picture")try{hr.url=URL.createObjectURL(ur)}catch(Vr){Vr.message,t.onError(Vr,hr,n.value)}n.value=[...n.value,hr],k(hr)},ie=async ur=>{const hr=ur instanceof File?r(ur):ur;hr||throwError(SCOPE$1,"file to be removed not found");const Vr=dr=>{g(dr),y(dr),t.onRemove(dr,n.value),revokeFileObjectURL(dr)};t.beforeRemove?await t.beforeRemove(hr,n.value)!==!1&&Vr(hr):Vr(hr)};function Oe(){n.value.filter(({status:ur})=>ur==="ready").forEach(({raw:ur})=>{var hr;return ur&&((hr=e.value)==null?void 0:hr.upload(ur))})}return watch(()=>t.listType,ur=>{ur!=="picture-card"&&ur!=="picture"||(n.value=n.value.map(hr=>{const{raw:Vr,url:dr}=hr;if(!dr&&Vr)try{hr.url=URL.createObjectURL(Vr)}catch(ec){t.onError(ec,hr,n.value)}return hr}))}),watch(n,ur=>{for(const hr of ur)hr.uid||(hr.uid=genFileId()),hr.status||(hr.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:g,clearFiles:$,handleError:L,handleProgress:V,handleStart:j,handleSuccess:z,handleRemove:ie,submit:Oe,revokeFileObjectURL}},_sfc_main$h=defineComponent({name:"ElUpload",__name:"upload",props:uploadProps,setup(t,{expose:e}){const n=t,r=useFormDisabled(),g=shallowRef(),{abort:$,submit:y,clearFiles:k,uploadFiles:L,handleStart:V,handleError:z,handleRemove:j,handleSuccess:ie,handleProgress:Oe,revokeFileObjectURL:ur}=useHandlers(n,g),hr=computed(()=>n.listType==="picture-card"),Vr=computed(()=>({...n,fileList:L.value,onStart:V,onProgress:Oe,onSuccess:ie,onError:z,onRemove:j}));return onBeforeUnmount(()=>{L.value.forEach(ur)}),provide(uploadContextKey,{accept:toRef$1(n,"accept")}),e({abort:$,submit:y,clearFiles:k,handleStart:V,handleRemove:j}),(dr,ec)=>(openBlock(),createElementBlock("div",null,[hr.value&&dr.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(r),"list-type":dr.listType,files:unref(L),crossorigin:dr.crossorigin,"handle-preview":dr.onPreview,onRemove:unref(j)},createSlots({append:withCtx(()=>[createVNode(UploadContent,mergeProps({ref_key:"uploadRef",ref:g},Vr.value),{default:withCtx(()=>[dr.$slots.trigger?renderSlot(dr.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!dr.$slots.trigger&&dr.$slots.default?renderSlot(dr.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)]),_:2},[dr.$slots.file?{name:"default",fn:withCtx(({file:tc,index:Xs})=>[renderSlot(dr.$slots,"file",{file:tc,index:Xs})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0),!hr.value||hr.value&&!dr.showFileList?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:g},Vr.value),{default:withCtx(()=>[dr.$slots.trigger?renderSlot(dr.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!dr.$slots.trigger&&dr.$slots.default?renderSlot(dr.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)):createCommentVNode("v-if",!0),dr.$slots.trigger?renderSlot(dr.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(dr.$slots,"tip"),!hr.value&&dr.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(r),"list-type":dr.listType,files:unref(L),crossorigin:dr.crossorigin,"handle-preview":dr.onPreview,onRemove:unref(j)},createSlots({_:2},[dr.$slots.file?{name:"default",fn:withCtx(({file:tc,index:Xs})=>[renderSlot(dr.$slots,"file",{file:tc,index:Xs})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}});var Upload=_export_sfc$1(_sfc_main$h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const ElUpload=withInstall(Upload),watermarkProps=buildProps({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:definePropType([String,Array]),default:"Element Plus"},font:{type:definePropType(Object)},gap:{type:definePropType(Array),default:()=>[100,100]},offset:{type:definePropType(Array)}});function toLowercaseSeparator(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function getStyleStr(t){return Object.keys(t).map(e=>`${toLowercaseSeparator(e)}: ${t[e]};`).join(" ")}function getPixelRatio(){return window.devicePixelRatio||1}const reRendering=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},TEXT_ALIGN_RATIO_MAP={left:[0,.5],start:[0,.5],center:[.5,0],right:[1,-.5],end:[1,-.5]};function prepareCanvas(t,e,n=1){const r=document.createElement("canvas"),g=r.getContext("2d"),$=t*n,y=e*n;return r.setAttribute("width",`${$}px`),r.setAttribute("height",`${y}px`),g.save(),[g,r,$,y]}function useClips(){function t(e,n,r,g,$,y,k,L,V){const[z,j,ie,Oe]=prepareCanvas(g,$,r);let ur=0;if(e instanceof HTMLImageElement)z.drawImage(e,0,0,ie,Oe);else{const{color:uv,fontSize:yv,fontStyle:$v,fontWeight:Dv,fontFamily:Hv,textAlign:Gv,textBaseline:f0}=y,qv=Number(yv)*r;z.font=`${$v} normal ${Dv} ${qv}px/${$}px ${Hv}`,z.fillStyle=uv,z.textAlign=Gv,z.textBaseline=f0;const Pv=isArray$1(e)?e:[e];if(f0!=="top"&&Pv[0]){const Tv=z.measureText(Pv[0]);z.textBaseline="top";const Vv=z.measureText(Pv[0]);ur=Tv.actualBoundingBoxAscent-Vv.actualBoundingBoxAscent}Pv==null||Pv.forEach((Tv,Vv)=>{const[Av,y0]=TEXT_ALIGN_RATIO_MAP[Gv];z.fillText(Tv??"",ie*Av+V*y0,Vv*(qv+y.fontGap*r))})}const hr=Math.PI/180*Number(n),Vr=Math.max(g,$),[dr,ec,tc]=prepareCanvas(Vr,Vr,r);dr.translate(tc/2,tc/2),dr.rotate(hr),ie>0&&Oe>0&&dr.drawImage(j,-ie/2,-Oe/2);function Xs(uv,yv){const $v=uv*Math.cos(hr)-yv*Math.sin(hr),Dv=uv*Math.sin(hr)+yv*Math.cos(hr);return[$v,Dv]}let rc=0,ic=0,_c=0,qm=0;const Xm=ie/2,Km=Oe/2;[[0-Xm,0-Km],[0+Xm,0-Km],[0+Xm,0+Km],[0-Xm,0+Km]].forEach(([uv,yv])=>{const[$v,Dv]=Xs(uv,yv);rc=Math.min(rc,$v),ic=Math.max(ic,$v),_c=Math.min(_c,Dv),qm=Math.max(qm,Dv)});const nv=rc+tc/2,sv=_c+tc/2,gv=ic-rc,Sv=qm-_c,wv=k*r,rv=L*r,Jm=(gv+wv)*2,dv=Sv+rv,[pv,mv]=prepareCanvas(Jm,dv);function Cv(uv=0,yv=0){pv.drawImage(ec,nv,sv,gv,Sv,uv,yv+ur,gv,Sv)}return Cv(),Cv(gv+wv,-Sv/2-rv/2),Cv(gv+wv,+Sv/2+rv/2),[mv.toDataURL(),Jm/r,dv/r]}return t}const _sfc_main$g=defineComponent({name:"ElWatermark",__name:"watermark",props:watermarkProps,setup(t){const e={position:"relative"},n=t,r=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.fontGap)!=null?nv:3}),g=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.color)!=null?nv:"rgba(0,0,0,.15)"}),$=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.fontSize)!=null?nv:16}),y=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.fontWeight)!=null?nv:"normal"}),k=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.fontStyle)!=null?nv:"normal"}),L=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.fontFamily)!=null?nv:"sans-serif"}),V=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.textAlign)!=null?nv:"center"}),z=computed(()=>{var tv,nv;return(nv=(tv=n.font)==null?void 0:tv.textBaseline)!=null?nv:"hanging"}),j=computed(()=>n.gap[0]),ie=computed(()=>n.gap[1]),Oe=computed(()=>j.value/2),ur=computed(()=>ie.value/2),hr=computed(()=>{var tv,nv;return(nv=(tv=n.offset)==null?void 0:tv[0])!=null?nv:Oe.value}),Vr=computed(()=>{var tv,nv;return(nv=(tv=n.offset)==null?void 0:tv[1])!=null?nv:ur.value}),dr=()=>{const tv={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let nv=hr.value-Oe.value,sv=Vr.value-ur.value;return nv>0&&(tv.left=`${nv}px`,tv.width=`calc(100% - ${nv}px)`,nv=0),sv>0&&(tv.top=`${sv}px`,tv.height=`calc(100% - ${sv}px)`,sv=0),tv.backgroundPosition=`${nv}px ${sv}px`,tv},ec=shallowRef(null),tc=shallowRef(),Xs=ref(!1),rc=()=>{tc.value&&(tc.value.remove(),tc.value=void 0)},ic=(tv,nv)=>{var sv;ec.value&&tc.value&&(Xs.value=!0,tc.value.setAttribute("style",getStyleStr({...dr(),backgroundImage:`url('${tv}')`,backgroundSize:`${Math.floor(nv)}px`})),(sv=ec.value)==null||sv.append(tc.value),setTimeout(()=>{Xs.value=!1}))},_c=tv=>{let nv=120,sv=64,gv=0;const{image:Sv,content:wv,width:rv,height:Jm,rotate:dv}=n;if(!Sv&&tv.measureText){tv.font=`${Number($.value)}px ${L.value}`;const pv=isArray$1(wv)?wv:[wv];let mv=0,Cv=0;pv.forEach(yv=>{const{width:$v,fontBoundingBoxAscent:Dv,fontBoundingBoxDescent:Hv,actualBoundingBoxAscent:Gv,actualBoundingBoxDescent:f0}=tv.measureText(yv),qv=isUndefined(Dv)?Gv+f0:Dv+Hv;$v>mv&&(mv=Math.ceil($v)),qv>Cv&&(Cv=Math.ceil(qv))}),nv=mv,sv=Cv*pv.length+(pv.length-1)*r.value;const uv=Math.PI/180*Number(dv);gv=Math.ceil(Math.abs(Math.sin(uv)*sv)/2),nv+=gv}return[rv??nv,Jm??sv,gv]},qm=useClips(),Xm=()=>{const nv=document.createElement("canvas").getContext("2d"),sv=n.image,gv=n.content,Sv=n.rotate;if(nv){tc.value||(tc.value=document.createElement("div"));const wv=getPixelRatio(),[rv,Jm,dv]=_c(nv),pv=mv=>{const[Cv,uv]=qm(mv||"",Sv,wv,rv,Jm,{color:g.value,fontSize:$.value,fontStyle:k.value,fontWeight:y.value,fontFamily:L.value,fontGap:r.value,textAlign:V.value,textBaseline:z.value},j.value,ie.value,dv);ic(Cv,uv)};if(sv){const mv=new Image;mv.onload=()=>{pv(mv)},mv.onerror=()=>{pv(gv)},mv.crossOrigin="anonymous",mv.referrerPolicy="no-referrer",mv.src=sv}else pv(gv)}};return onMounted(()=>{Xm()}),watch(()=>n,()=>{Xm()},{deep:!0,flush:"post"}),onBeforeUnmount(()=>{rc()}),useMutationObserver(ec,tv=>{Xs.value||tv.forEach(nv=>{reRendering(nv,tc.value)&&(rc(),Xm())})},{attributes:!0,subtree:!0,childList:!0}),(tv,nv)=>(openBlock(),createElementBlock("div",{ref_key:"containerRef",ref:ec,style:normalizeStyle([e])},[renderSlot(tv.$slots,"default")],4))}});var Watermark=_export_sfc$1(_sfc_main$g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/watermark/src/watermark.vue"]]);const ElWatermark=withInstall(Watermark),maskProps=buildProps({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:definePropType(Object)},targetAreaClickable:{type:Boolean,default:!0}}),min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(t,e,n){return max(t,min(e,n))}function evaluate(t,e){return typeof t=="function"?t(e):t}function getSide(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(t){return yAxisSides.has(getSide(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,e,n){n===void 0&&(n=!1);const r=getAlignment(t),g=getAlignmentAxis(t),$=getAxisLength(g);let y=g==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[$]>e.floating[$]&&(y=getOppositePlacement(y)),[y,getOppositePlacement(y)]}function getExpandedPlacements(t){const e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,e=>oppositeAlignmentMap[e])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(t,e,n){switch(t){case"top":case"bottom":return n?e?rlPlacement:lrPlacement:e?lrPlacement:rlPlacement;case"left":case"right":return e?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(t,e,n,r){const g=getAlignment(t);let $=getSideList(getSide(t),n==="start",r);return g&&($=$.map(y=>y+"-"+g),e&&($=$.concat($.map(getOppositeAlignmentPlacement)))),$}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:e,y:n,width:r,height:g}=t;return{width:r,height:g,top:n,left:e,right:e+r,bottom:n+g,x:e,y:n}}function computeCoordsFromPlacement(t,e,n){let{reference:r,floating:g}=t;const $=getSideAxis(e),y=getAlignmentAxis(e),k=getAxisLength(y),L=getSide(e),V=$==="y",z=r.x+r.width/2-g.width/2,j=r.y+r.height/2-g.height/2,ie=r[k]/2-g[k]/2;let Oe;switch(L){case"top":Oe={x:z,y:r.y-g.height};break;case"bottom":Oe={x:z,y:r.y+r.height};break;case"right":Oe={x:r.x+r.width,y:j};break;case"left":Oe={x:r.x-g.width,y:j};break;default:Oe={x:r.x,y:r.y}}switch(getAlignment(e)){case"start":Oe[y]-=ie*(n&&V?-1:1);break;case"end":Oe[y]+=ie*(n&&V?-1:1);break}return Oe}const computePosition$1=async(t,e,n)=>{const{placement:r="bottom",strategy:g="absolute",middleware:$=[],platform:y}=n,k=$.filter(Boolean),L=await(y.isRTL==null?void 0:y.isRTL(e));let V=await y.getElementRects({reference:t,floating:e,strategy:g}),{x:z,y:j}=computeCoordsFromPlacement(V,r,L),ie=r,Oe={},ur=0;for(let hr=0;hr<k.length;hr++){const{name:Vr,fn:dr}=k[hr],{x:ec,y:tc,data:Xs,reset:rc}=await dr({x:z,y:j,initialPlacement:r,placement:ie,strategy:g,middlewareData:Oe,rects:V,platform:y,elements:{reference:t,floating:e}});z=ec??z,j=tc??j,Oe={...Oe,[Vr]:{...Oe[Vr],...Xs}},rc&&ur<=50&&(ur++,typeof rc=="object"&&(rc.placement&&(ie=rc.placement),rc.rects&&(V=rc.rects===!0?await y.getElementRects({reference:t,floating:e,strategy:g}):rc.rects),{x:z,y:j}=computeCoordsFromPlacement(V,ie,L)),hr=-1)}return{x:z,y:j,placement:ie,strategy:g,middlewareData:Oe}};async function detectOverflow$1(t,e){var n;e===void 0&&(e={});const{x:r,y:g,platform:$,rects:y,elements:k,strategy:L}=t,{boundary:V="clippingAncestors",rootBoundary:z="viewport",elementContext:j="floating",altBoundary:ie=!1,padding:Oe=0}=evaluate(e,t),ur=getPaddingObject(Oe),Vr=k[ie?j==="floating"?"reference":"floating":j],dr=rectToClientRect(await $.getClippingRect({element:(n=await($.isElement==null?void 0:$.isElement(Vr)))==null||n?Vr:Vr.contextElement||await($.getDocumentElement==null?void 0:$.getDocumentElement(k.floating)),boundary:V,rootBoundary:z,strategy:L})),ec=j==="floating"?{x:r,y:g,width:y.floating.width,height:y.floating.height}:y.reference,tc=await($.getOffsetParent==null?void 0:$.getOffsetParent(k.floating)),Xs=await($.isElement==null?void 0:$.isElement(tc))?await($.getScale==null?void 0:$.getScale(tc))||{x:1,y:1}:{x:1,y:1},rc=rectToClientRect($.convertOffsetParentRelativeRectToViewportRelativeRect?await $.convertOffsetParentRelativeRectToViewportRelativeRect({elements:k,rect:ec,offsetParent:tc,strategy:L}):ec);return{top:(dr.top-rc.top+ur.top)/Xs.y,bottom:(rc.bottom-dr.bottom+ur.bottom)/Xs.y,left:(dr.left-rc.left+ur.left)/Xs.x,right:(rc.right-dr.right+ur.right)/Xs.x}}const arrow$1=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:g,rects:$,platform:y,elements:k,middlewareData:L}=e,{element:V,padding:z=0}=evaluate(t,e)||{};if(V==null)return{};const j=getPaddingObject(z),ie={x:n,y:r},Oe=getAlignmentAxis(g),ur=getAxisLength(Oe),hr=await y.getDimensions(V),Vr=Oe==="y",dr=Vr?"top":"left",ec=Vr?"bottom":"right",tc=Vr?"clientHeight":"clientWidth",Xs=$.reference[ur]+$.reference[Oe]-ie[Oe]-$.floating[ur],rc=ie[Oe]-$.reference[Oe],ic=await(y.getOffsetParent==null?void 0:y.getOffsetParent(V));let _c=ic?ic[tc]:0;(!_c||!await(y.isElement==null?void 0:y.isElement(ic)))&&(_c=k.floating[tc]||$.floating[ur]);const qm=Xs/2-rc/2,Xm=_c/2-hr[ur]/2-1,Km=min(j[dr],Xm),tv=min(j[ec],Xm),nv=Km,sv=_c-hr[ur]-tv,gv=_c/2-hr[ur]/2+qm,Sv=clamp(nv,gv,sv),wv=!L.arrow&&getAlignment(g)!=null&&gv!==Sv&&$.reference[ur]/2-(gv<nv?Km:tv)-hr[ur]/2<0,rv=wv?gv<nv?gv-nv:gv-sv:0;return{[Oe]:ie[Oe]+rv,data:{[Oe]:Sv,centerOffset:gv-Sv-rv,...wv&&{alignmentOffset:rv}},reset:wv}}}),flip$1=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:g,middlewareData:$,rects:y,initialPlacement:k,platform:L,elements:V}=e,{mainAxis:z=!0,crossAxis:j=!0,fallbackPlacements:ie,fallbackStrategy:Oe="bestFit",fallbackAxisSideDirection:ur="none",flipAlignment:hr=!0,...Vr}=evaluate(t,e);if((n=$.arrow)!=null&&n.alignmentOffset)return{};const dr=getSide(g),ec=getSideAxis(k),tc=getSide(k)===k,Xs=await(L.isRTL==null?void 0:L.isRTL(V.floating)),rc=ie||(tc||!hr?[getOppositePlacement(k)]:getExpandedPlacements(k)),ic=ur!=="none";!ie&&ic&&rc.push(...getOppositeAxisPlacements(k,hr,ur,Xs));const _c=[k,...rc],qm=await detectOverflow$1(e,Vr),Xm=[];let Km=((r=$.flip)==null?void 0:r.overflows)||[];if(z&&Xm.push(qm[dr]),j){const gv=getAlignmentSides(g,y,Xs);Xm.push(qm[gv[0]],qm[gv[1]])}if(Km=[...Km,{placement:g,overflows:Xm}],!Xm.every(gv=>gv<=0)){var tv,nv;const gv=(((tv=$.flip)==null?void 0:tv.index)||0)+1,Sv=_c[gv];if(Sv&&(!(j==="alignment"?ec!==getSideAxis(Sv):!1)||Km.every(Jm=>getSideAxis(Jm.placement)===ec?Jm.overflows[0]>0:!0)))return{data:{index:gv,overflows:Km},reset:{placement:Sv}};let wv=(nv=Km.filter(rv=>rv.overflows[0]<=0).sort((rv,Jm)=>rv.overflows[1]-Jm.overflows[1])[0])==null?void 0:nv.placement;if(!wv)switch(Oe){case"bestFit":{var sv;const rv=(sv=Km.filter(Jm=>{if(ic){const dv=getSideAxis(Jm.placement);return dv===ec||dv==="y"}return!0}).map(Jm=>[Jm.placement,Jm.overflows.filter(dv=>dv>0).reduce((dv,pv)=>dv+pv,0)]).sort((Jm,dv)=>Jm[1]-dv[1])[0])==null?void 0:sv[0];rv&&(wv=rv);break}case"initialPlacement":wv=k;break}if(g!==wv)return{reset:{placement:wv}}}return{}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(t,e){const{placement:n,platform:r,elements:g}=t,$=await(r.isRTL==null?void 0:r.isRTL(g.floating)),y=getSide(n),k=getAlignment(n),L=getSideAxis(n)==="y",V=originSides.has(y)?-1:1,z=$&&L?-1:1,j=evaluate(e,t);let{mainAxis:ie,crossAxis:Oe,alignmentAxis:ur}=typeof j=="number"?{mainAxis:j,crossAxis:0,alignmentAxis:null}:{mainAxis:j.mainAxis||0,crossAxis:j.crossAxis||0,alignmentAxis:j.alignmentAxis};return k&&typeof ur=="number"&&(Oe=k==="end"?ur*-1:ur),L?{x:Oe*z,y:ie*V}:{x:ie*V,y:Oe*z}}const offset$1=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:g,y:$,placement:y,middlewareData:k}=e,L=await convertValueToCoords(e,t);return y===((n=k.offset)==null?void 0:n.placement)&&(r=k.arrow)!=null&&r.alignmentOffset?{}:{x:g+L.x,y:$+L.y,data:{...L,placement:y}}}}},shift$1=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:g}=e,{mainAxis:$=!0,crossAxis:y=!1,limiter:k={fn:Vr=>{let{x:dr,y:ec}=Vr;return{x:dr,y:ec}}},...L}=evaluate(t,e),V={x:n,y:r},z=await detectOverflow$1(e,L),j=getSideAxis(getSide(g)),ie=getOppositeAxis(j);let Oe=V[ie],ur=V[j];if($){const Vr=ie==="y"?"top":"left",dr=ie==="y"?"bottom":"right",ec=Oe+z[Vr],tc=Oe-z[dr];Oe=clamp(ec,Oe,tc)}if(y){const Vr=j==="y"?"top":"left",dr=j==="y"?"bottom":"right",ec=ur+z[Vr],tc=ur-z[dr];ur=clamp(ec,ur,tc)}const hr=k.fn({...e,[ie]:Oe,[j]:ur});return{...hr,data:{x:hr.x-n,y:hr.y-r,enabled:{[ie]:$,[j]:y}}}}}};function hasWindow(){return typeof window<"u"}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(t){var e;return(e=(isNode(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function isNode(t){return hasWindow()?t instanceof Node||t instanceof getWindow(t).Node:!1}function isElement(t){return hasWindow()?t instanceof Element||t instanceof getWindow(t).Element:!1}function isHTMLElement(t){return hasWindow()?t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement:!1}function isShadowRoot(t){return!hasWindow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(t){const{overflow:e,overflowX:n,overflowY:r,display:g}=getComputedStyle$1(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!invalidOverflowDisplayValues.has(g)}const tableElements=new Set(["table","td","th"]);function isTableElement(t){return tableElements.has(getNodeName(t))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(t){return topLayerSelectors.some(e=>{try{return t.matches(e)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(t){const e=isWebKit(),n=isElement(t)?getComputedStyle$1(t):t;return transformProperties.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||willChangeValues.some(r=>(n.willChange||"").includes(r))||containValues.some(r=>(n.contain||"").includes(r))}function getContainingBlock(t){let e=getParentNode(t);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(t){return lastTraversableNodeNames.has(getNodeName(t))}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if(getNodeName(t)==="html")return t;const e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){const e=getParentNode(t);return isLastTraversableNode(e)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const g=getNearestOverflowAncestor(t),$=g===((r=t.ownerDocument)==null?void 0:r.body),y=getWindow(g);if($){const k=getFrameElement(y);return e.concat(y,y.visualViewport||[],isOverflowElement(g)?g:[],k&&n?getOverflowAncestors(k):[])}return e.concat(g,getOverflowAncestors(g,[],n))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const e=getComputedStyle$1(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const g=isHTMLElement(t),$=g?t.offsetWidth:n,y=g?t.offsetHeight:r,k=round(n)!==$||round(r)!==y;return k&&(n=$,r=y),{width:n,height:r,$:k}}function unwrapElement(t){return isElement(t)?t:t.contextElement}function getScale(t){const e=unwrapElement(t);if(!isHTMLElement(e))return createCoords(1);const n=e.getBoundingClientRect(),{width:r,height:g,$}=getCssDimensions(e);let y=($?round(n.width):n.width)/r,k=($?round(n.height):n.height)/g;return(!y||!Number.isFinite(y))&&(y=1),(!k||!Number.isFinite(k))&&(k=1),{x:y,y:k}}const noOffsets=createCoords(0);function getVisualOffsets(t){const e=getWindow(t);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==getWindow(t)?!1:e}function getBoundingClientRect(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const g=t.getBoundingClientRect(),$=unwrapElement(t);let y=createCoords(1);e&&(r?isElement(r)&&(y=getScale(r)):y=getScale(t));const k=shouldAddVisualOffsets($,n,r)?getVisualOffsets($):createCoords(0);let L=(g.left+k.x)/y.x,V=(g.top+k.y)/y.y,z=g.width/y.x,j=g.height/y.y;if($){const ie=getWindow($),Oe=r&&isElement(r)?getWindow(r):r;let ur=ie,hr=getFrameElement(ur);for(;hr&&r&&Oe!==ur;){const Vr=getScale(hr),dr=hr.getBoundingClientRect(),ec=getComputedStyle$1(hr),tc=dr.left+(hr.clientLeft+parseFloat(ec.paddingLeft))*Vr.x,Xs=dr.top+(hr.clientTop+parseFloat(ec.paddingTop))*Vr.y;L*=Vr.x,V*=Vr.y,z*=Vr.x,j*=Vr.y,L+=tc,V+=Xs,ur=getWindow(hr),hr=getFrameElement(ur)}}return rectToClientRect({width:z,height:j,x:L,y:V})}function getWindowScrollBarX(t,e){const n=getNodeScroll(t).scrollLeft;return e?e.left+n:getBoundingClientRect(getDocumentElement(t)).left+n}function getHTMLOffset(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-getWindowScrollBarX(t,n),g=n.top+e.scrollTop;return{x:r,y:g}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:e,rect:n,offsetParent:r,strategy:g}=t;const $=g==="fixed",y=getDocumentElement(r),k=e?isTopLayer(e.floating):!1;if(r===y||k&&$)return n;let L={scrollLeft:0,scrollTop:0},V=createCoords(1);const z=createCoords(0),j=isHTMLElement(r);if((j||!j&&!$)&&((getNodeName(r)!=="body"||isOverflowElement(y))&&(L=getNodeScroll(r)),isHTMLElement(r))){const Oe=getBoundingClientRect(r);V=getScale(r),z.x=Oe.x+r.clientLeft,z.y=Oe.y+r.clientTop}const ie=y&&!j&&!$?getHTMLOffset(y,L):createCoords(0);return{width:n.width*V.x,height:n.height*V.y,x:n.x*V.x-L.scrollLeft*V.x+z.x+ie.x,y:n.y*V.y-L.scrollTop*V.y+z.y+ie.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const e=getDocumentElement(t),n=getNodeScroll(t),r=t.ownerDocument.body,g=max(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),$=max(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let y=-n.scrollLeft+getWindowScrollBarX(t);const k=-n.scrollTop;return getComputedStyle$1(r).direction==="rtl"&&(y+=max(e.clientWidth,r.clientWidth)-g),{width:g,height:$,x:y,y:k}}const SCROLLBAR_MAX=25;function getViewportRect(t,e){const n=getWindow(t),r=getDocumentElement(t),g=n.visualViewport;let $=r.clientWidth,y=r.clientHeight,k=0,L=0;if(g){$=g.width,y=g.height;const z=isWebKit();(!z||z&&e==="fixed")&&(k=g.offsetLeft,L=g.offsetTop)}const V=getWindowScrollBarX(r);if(V<=0){const z=r.ownerDocument,j=z.body,ie=getComputedStyle(j),Oe=z.compatMode==="CSS1Compat"&&parseFloat(ie.marginLeft)+parseFloat(ie.marginRight)||0,ur=Math.abs(r.clientWidth-j.clientWidth-Oe);ur<=SCROLLBAR_MAX&&($-=ur)}else V<=SCROLLBAR_MAX&&($+=V);return{width:$,height:y,x:k,y:L}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(t,e){const n=getBoundingClientRect(t,!0,e==="fixed"),r=n.top+t.clientTop,g=n.left+t.clientLeft,$=isHTMLElement(t)?getScale(t):createCoords(1),y=t.clientWidth*$.x,k=t.clientHeight*$.y,L=g*$.x,V=r*$.y;return{width:y,height:k,x:L,y:V}}function getClientRectFromClippingAncestor(t,e,n){let r;if(e==="viewport")r=getViewportRect(t,n);else if(e==="document")r=getDocumentRect(getDocumentElement(t));else if(isElement(e))r=getInnerBoundingClientRect(e,n);else{const g=getVisualOffsets(t);r={x:e.x-g.x,y:e.y-g.y,width:e.width,height:e.height}}return rectToClientRect(r)}function hasFixedPositionAncestor(t,e){const n=getParentNode(t);return n===e||!isElement(n)||isLastTraversableNode(n)?!1:getComputedStyle$1(n).position==="fixed"||hasFixedPositionAncestor(n,e)}function getClippingElementAncestors(t,e){const n=e.get(t);if(n)return n;let r=getOverflowAncestors(t,[],!1).filter(k=>isElement(k)&&getNodeName(k)!=="body"),g=null;const $=getComputedStyle$1(t).position==="fixed";let y=$?getParentNode(t):t;for(;isElement(y)&&!isLastTraversableNode(y);){const k=getComputedStyle$1(y),L=isContainingBlock(y);!L&&k.position==="fixed"&&(g=null),($?!L&&!g:!L&&k.position==="static"&&!!g&&absoluteOrFixed.has(g.position)||isOverflowElement(y)&&!L&&hasFixedPositionAncestor(t,y))?r=r.filter(z=>z!==y):g=k,y=getParentNode(y)}return e.set(t,r),r}function getClippingRect(t){let{element:e,boundary:n,rootBoundary:r,strategy:g}=t;const y=[...n==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(n),r],k=y[0],L=y.reduce((V,z)=>{const j=getClientRectFromClippingAncestor(e,z,g);return V.top=max(j.top,V.top),V.right=min(j.right,V.right),V.bottom=min(j.bottom,V.bottom),V.left=max(j.left,V.left),V},getClientRectFromClippingAncestor(e,k,g));return{width:L.right-L.left,height:L.bottom-L.top,x:L.left,y:L.top}}function getDimensions(t){const{width:e,height:n}=getCssDimensions(t);return{width:e,height:n}}function getRectRelativeToOffsetParent(t,e,n){const r=isHTMLElement(e),g=getDocumentElement(e),$=n==="fixed",y=getBoundingClientRect(t,!0,$,e);let k={scrollLeft:0,scrollTop:0};const L=createCoords(0);function V(){L.x=getWindowScrollBarX(g)}if(r||!r&&!$)if((getNodeName(e)!=="body"||isOverflowElement(g))&&(k=getNodeScroll(e)),r){const Oe=getBoundingClientRect(e,!0,$,e);L.x=Oe.x+e.clientLeft,L.y=Oe.y+e.clientTop}else g&&V();$&&!r&&g&&V();const z=g&&!r&&!$?getHTMLOffset(g,k):createCoords(0),j=y.left+k.scrollLeft-L.x-z.x,ie=y.top+k.scrollTop-L.y-z.y;return{x:j,y:ie,width:y.width,height:y.height}}function isStaticPositioned(t){return getComputedStyle$1(t).position==="static"}function getTrueOffsetParent(t,e){if(!isHTMLElement(t)||getComputedStyle$1(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return getDocumentElement(t)===n&&(n=n.ownerDocument.body),n}function getOffsetParent(t,e){const n=getWindow(t);if(isTopLayer(t))return n;if(!isHTMLElement(t)){let g=getParentNode(t);for(;g&&!isLastTraversableNode(g);){if(isElement(g)&&!isStaticPositioned(g))return g;g=getParentNode(g)}return n}let r=getTrueOffsetParent(t,e);for(;r&&isTableElement(r)&&isStaticPositioned(r);)r=getTrueOffsetParent(r,e);return r&&isLastTraversableNode(r)&&isStaticPositioned(r)&&!isContainingBlock(r)?n:r||getContainingBlock(t)||n}const getElementRects=async function(t){const e=this.getOffsetParent||getOffsetParent,n=this.getDimensions,r=await n(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function isRTL(t){return getComputedStyle$1(t).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function observeMove(t,e){let n=null,r;const g=getDocumentElement(t);function $(){var k;clearTimeout(r),(k=n)==null||k.disconnect(),n=null}function y(k,L){k===void 0&&(k=!1),L===void 0&&(L=1),$();const V=t.getBoundingClientRect(),{left:z,top:j,width:ie,height:Oe}=V;if(k||e(),!ie||!Oe)return;const ur=floor(j),hr=floor(g.clientWidth-(z+ie)),Vr=floor(g.clientHeight-(j+Oe)),dr=floor(z),tc={rootMargin:-ur+"px "+-hr+"px "+-Vr+"px "+-dr+"px",threshold:max(0,min(1,L))||1};let Xs=!0;function rc(ic){const _c=ic[0].intersectionRatio;if(_c!==L){if(!Xs)return y();_c?y(!1,_c):r=setTimeout(()=>{y(!1,1e-7)},1e3)}_c===1&&!rectsAreEqual(V,t.getBoundingClientRect())&&y(),Xs=!1}try{n=new IntersectionObserver(rc,{...tc,root:g.ownerDocument})}catch{n=new IntersectionObserver(rc,tc)}n.observe(t)}return y(!0),$}function autoUpdate(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:g=!0,ancestorResize:$=!0,elementResize:y=typeof ResizeObserver=="function",layoutShift:k=typeof IntersectionObserver=="function",animationFrame:L=!1}=r,V=unwrapElement(t),z=g||$?[...V?getOverflowAncestors(V):[],...getOverflowAncestors(e)]:[];z.forEach(dr=>{g&&dr.addEventListener("scroll",n,{passive:!0}),$&&dr.addEventListener("resize",n)});const j=V&&k?observeMove(V,n):null;let ie=-1,Oe=null;y&&(Oe=new ResizeObserver(dr=>{let[ec]=dr;ec&&ec.target===V&&Oe&&(Oe.unobserve(e),cancelAnimationFrame(ie),ie=requestAnimationFrame(()=>{var tc;(tc=Oe)==null||tc.observe(e)})),n()}),V&&!L&&Oe.observe(V),Oe.observe(e));let ur,hr=L?getBoundingClientRect(t):null;L&&Vr();function Vr(){const dr=getBoundingClientRect(t);hr&&!rectsAreEqual(hr,dr)&&n(),hr=dr,ur=requestAnimationFrame(Vr)}return n(),()=>{var dr;z.forEach(ec=>{g&&ec.removeEventListener("scroll",n),$&&ec.removeEventListener("resize",n)}),j==null||j(),(dr=Oe)==null||dr.disconnect(),Oe=null,L&&cancelAnimationFrame(ur)}}const detectOverflow=detectOverflow$1,offset=offset$1,shift=shift$1,flip=flip$1,arrow=arrow$1,computePosition=(t,e,n)=>{const r=new Map,g={platform,...n},$={...g.platform,_c:r};return computePosition$1(t,e,{...g,platform:$})},useTarget=(t,e,n,r,g)=>{const $=ref(null),y=()=>{let j;return isString$1(t.value)?j=document.querySelector(t.value):isFunction$1(t.value)?j=t.value():j=t.value,j},k=()=>{const j=y();if(!j||!e.value){$.value=null;return}isInViewPort(j)||j.scrollIntoView(g.value);const{left:ie,top:Oe,width:ur,height:hr}=j.getBoundingClientRect();$.value={left:ie,top:Oe,width:ur,height:hr,radius:0}};onMounted(()=>{watch([e,t],()=>{k()},{immediate:!0}),window.addEventListener("resize",k)}),onBeforeUnmount(()=>{window.removeEventListener("resize",k)});const L=j=>{var ie;return(ie=isArray$1(n.value.offset)?n.value.offset[j]:n.value.offset)!=null?ie:6},V=computed(()=>{var j;if(!$.value)return $.value;const ie=L(0),Oe=L(1),ur=((j=n.value)==null?void 0:j.radius)||2;return{left:$.value.left-ie,top:$.value.top-Oe,width:$.value.width+ie*2,height:$.value.height+Oe*2,radius:ur}}),z=computed(()=>{const j=y();return!r.value||!j||!window.DOMRect?j||void 0:{getBoundingClientRect(){var ie,Oe,ur,hr;return window.DOMRect.fromRect({width:((ie=V.value)==null?void 0:ie.width)||0,height:((Oe=V.value)==null?void 0:Oe.height)||0,x:((ur=V.value)==null?void 0:ur.left)||0,y:((hr=V.value)==null?void 0:hr.top)||0})}}});return{mergedPosInfo:V,triggerTarget:z}},tourKey=Symbol("ElTour");function isInViewPort(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:g,bottom:$,left:y}=t.getBoundingClientRect();return r>=0&&y>=0&&g<=e&&$<=n}const useFloating=(t,e,n,r,g,$,y,k)=>{const L=ref(),V=ref(),z=ref({}),j={x:L,y:V,placement:r,strategy:g,middlewareData:z},ie=computed(()=>{const dr=[offset(unref($)),flip(),shift(),overflowMiddleware()];return unref(k)&&unref(n)&&dr.push(arrow({element:unref(n)})),dr}),Oe=async()=>{if(!isClient)return;const dr=unref(t),ec=unref(e);if(!dr||!ec)return;const tc=await computePosition(dr,ec,{placement:unref(r),strategy:unref(g),middleware:unref(ie)});keysOf(j).forEach(Xs=>{j[Xs].value=tc[Xs]})},ur=computed(()=>{if(!unref(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:unref(y)};const{overflow:dr}=unref(z);return{position:unref(g),zIndex:unref(y),top:unref(V)!=null?`${unref(V)}px`:"",left:unref(L)!=null?`${unref(L)}px`:"",maxWidth:dr!=null&&dr.maxWidth?`${dr==null?void 0:dr.maxWidth}px`:""}}),hr=computed(()=>{if(!unref(k))return{};const{arrow:dr}=unref(z);return{left:(dr==null?void 0:dr.x)!=null?`${dr==null?void 0:dr.x}px`:"",top:(dr==null?void 0:dr.y)!=null?`${dr==null?void 0:dr.y}px`:""}});let Vr;return onMounted(()=>{const dr=unref(t),ec=unref(e);dr&&ec&&(Vr=autoUpdate(dr,ec,Oe)),watchEffect(()=>{Oe()})}),onBeforeUnmount(()=>{Vr&&Vr()}),{update:Oe,contentStyle:ur,arrowStyle:hr}},overflowMiddleware=()=>({name:"overflow",async fn(t){const e=await detectOverflow(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),_hoisted_1$9={style:{width:"100%",height:"100%"}},_hoisted_2$4=["d"],_sfc_main$f=defineComponent({name:"ElTourMask",inheritAttrs:!1,__name:"mask",props:maskProps,setup(t){const e=t,{ns:n}=inject(tourKey),r=computed(()=>{var z,j;return(j=(z=e.pos)==null?void 0:z.radius)!=null?j:2}),g=computed(()=>{const z=r.value,j=`a${z},${z} 0 0 1`;return{topRight:`${j} ${z},${z}`,bottomRight:`${j} ${-z},${z}`,bottomLeft:`${j} ${-z},${-z}`,topLeft:`${j} ${z},${-z}`}}),{width:$,height:y}=useWindowSize(),k=computed(()=>{const z=$.value,j=y.value,ie=g.value,Oe=`M${z},0 L0,0 L0,${j} L${z},${j} L${z},0 Z`,ur=r.value;return e.pos?`${Oe} M${e.pos.left+ur},${e.pos.top} h${e.pos.width-ur*2} ${ie.topRight} v${e.pos.height-ur*2} ${ie.bottomRight} h${-e.pos.width+ur*2} ${ie.bottomLeft} v${-e.pos.height+ur*2} ${ie.topLeft} z`:Oe}),L=computed(()=>({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:e.zIndex,pointerEvents:e.pos&&e.targetAreaClickable?"none":"auto"})),V=computed(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return useLockscreen(toRef$1(e,"visible"),{ns:n}),(z,j)=>z.visible?(openBlock(),createElementBlock("div",mergeProps({key:0,class:unref(n).e("mask"),style:L.value},z.$attrs),[(openBlock(),createElementBlock("svg",_hoisted_1$9,[createBaseVNode("path",{class:normalizeClass(unref(n).e("hollow")),style:normalizeStyle(V.value),d:k.value},null,14,_hoisted_2$4)]))],16)):createCommentVNode("v-if",!0)}});var ElTourMask=_export_sfc$1(_sfc_main$f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/mask.vue"]]);const tourStrategies=["absolute","fixed"],tourPlacements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tourContentProps=buildProps({placement:{type:definePropType(String),values:tourPlacements,default:"bottom"},reference:{type:definePropType(Object),default:null},strategy:{type:definePropType(String),values:tourStrategies,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),tourContentEmits={close:()=>!0},_hoisted_1$8=["data-side"],_sfc_main$e=defineComponent({name:"ElTourContent",__name:"content",props:tourContentProps,emits:tourContentEmits,setup(t,{emit:e}){const n=t,r=e,g=ref(n.placement),$=ref(n.strategy),y=ref(null),k=ref(null);watch(()=>n.placement,()=>{g.value=n.placement});const{contentStyle:L,arrowStyle:V}=useFloating(toRef$1(n,"reference"),y,k,g,$,toRef$1(n,"offset"),toRef$1(n,"zIndex"),toRef$1(n,"showArrow")),z=computed(()=>g.value.split("-")[0]),{ns:j}=inject(tourKey),ie=()=>{r("close")},Oe=ur=>{ur.detail.focusReason==="pointer"&&ur.preventDefault()};return(ur,hr)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:y,style:normalizeStyle(unref(L)),class:normalizeClass(unref(j).e("content")),"data-side":z.value,tabindex:"-1"},[createVNode(unref(ElFocusTrap),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":y.value||void 0,onReleaseRequested:ie,onFocusoutPrevented:Oe},{default:withCtx(()=>[renderSlot(ur.$slots,"default")]),_:3},8,["focus-trap-el"]),ur.showArrow?(openBlock(),createElementBlock("span",{key:0,ref_key:"arrowRef",ref:k,style:normalizeStyle(unref(V)),class:normalizeClass(unref(j).e("arrow"))},null,6)):createCommentVNode("v-if",!0)],14,_hoisted_1$8))}});var ElTourContent=_export_sfc$1(_sfc_main$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/content.vue"]]),ElTourSteps=defineComponent({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let r=0;return()=>{var g,$;const y=(g=e.default)==null?void 0:g.call(e),k=[];let L=0;function V(z){isArray$1(z)&&z.forEach(j=>{var ie;((ie=(j==null?void 0:j.type)||{})==null?void 0:ie.name)==="ElTourStep"&&(k.push(j),L+=1)})}return y.length&&V(flattedChildren(($=y[0])==null?void 0:$.children)),r!==L&&(r=L,n("update-total",L)),k.length?k[t.current]:null}}});const tourProps=buildProps({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:iconPropType},placement:tourContentProps.placement,contentStyle:{type:definePropType([Object])},mask:{type:definePropType([Boolean,Object]),default:!0},gap:{type:definePropType(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:definePropType([Boolean,Object]),default:()=>({block:"center"})},type:{type:definePropType(String)},appendTo:{type:teleportProps.to.type,default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),tourEmits={[UPDATE_MODEL_EVENT]:t=>isBoolean(t),"update:current":t=>isNumber(t),close:t=>isNumber(t),finish:()=>!0,change:t=>isNumber(t)},_sfc_main$d=defineComponent({name:"ElTour",__name:"tour",props:tourProps,emits:tourEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("tour"),$=ref(0),y=ref(),k=useVModel(n,"current",r,{passive:!0}),L=computed(()=>{var Km;return(Km=y.value)==null?void 0:Km.target}),V=computed(()=>[g.b(),dr.value==="primary"?g.m("primary"):""]),z=computed(()=>{var Km;return((Km=y.value)==null?void 0:Km.placement)||n.placement}),j=computed(()=>{var Km,tv;return(tv=(Km=y.value)==null?void 0:Km.contentStyle)!=null?tv:n.contentStyle}),ie=computed(()=>{var Km,tv;return(tv=(Km=y.value)==null?void 0:Km.mask)!=null?tv:n.mask}),Oe=computed(()=>!!ie.value&&n.modelValue),ur=computed(()=>isBoolean(ie.value)?void 0:ie.value),hr=computed(()=>{var Km,tv;return!!L.value&&((tv=(Km=y.value)==null?void 0:Km.showArrow)!=null?tv:n.showArrow)}),Vr=computed(()=>{var Km,tv;return(tv=(Km=y.value)==null?void 0:Km.scrollIntoViewOptions)!=null?tv:n.scrollIntoViewOptions}),dr=computed(()=>{var Km,tv;return(tv=(Km=y.value)==null?void 0:Km.type)!=null?tv:n.type}),{nextZIndex:ec}=useZIndex(),tc=ec(),Xs=computed(()=>{var Km;return(Km=n.zIndex)!=null?Km:tc}),{mergedPosInfo:rc,triggerTarget:ic}=useTarget(L,toRef$1(n,"modelValue"),toRef$1(n,"gap"),ie,Vr);watch(()=>n.modelValue,Km=>{Km||(k.value=0)});const _c=()=>{n.closeOnPressEscape&&(r(UPDATE_MODEL_EVENT,!1),r("close",k.value))},qm=Km=>{$.value=Km},Xm=useSlots();return provide(tourKey,{currentStep:y,current:k,total:$,showClose:toRef$1(n,"showClose"),closeIcon:toRef$1(n,"closeIcon"),mergedType:dr,ns:g,slots:Xm,updateModelValue(Km){r(UPDATE_MODEL_EVENT,Km)},onClose(){r("close",k.value)},onFinish(){r("finish")},onChange(){r(CHANGE_EVENT,k.value)}}),(Km,tv)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(unref(ElTeleport),{to:Km.appendTo},{default:withCtx(()=>{var nv,sv;return[createBaseVNode("div",mergeProps({class:V.value},Km.$attrs),[createVNode(ElTourMask,{visible:Oe.value,fill:(nv=ur.value)==null?void 0:nv.color,style:normalizeStyle((sv=ur.value)==null?void 0:sv.style),pos:unref(rc),"z-index":Xs.value,"target-area-clickable":Km.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),Km.modelValue?(openBlock(),createBlock(ElTourContent,{key:unref(k),reference:unref(ic),placement:z.value,"show-arrow":hr.value,"z-index":Xs.value,style:normalizeStyle(j.value),onClose:_c},{default:withCtx(()=>[createVNode(unref(ElTourSteps),{current:unref(k),onUpdateTotal:qm},{default:withCtx(()=>[renderSlot(Km.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):createCommentVNode("v-if",!0)],16)]}),_:3},8,["to"]),createCommentVNode(" just for IDE "),createCommentVNode("v-if",!0)],64))}});var Tour=_export_sfc$1(_sfc_main$d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/tour.vue"]]);const tourStepProps=buildProps({target:{type:definePropType([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:iconPropType},showArrow:{type:Boolean,default:void 0},placement:tourContentProps.placement,mask:{type:definePropType([Boolean,Object]),default:void 0},contentStyle:{type:definePropType([Object])},prevButtonProps:{type:definePropType(Object)},nextButtonProps:{type:definePropType(Object)},scrollIntoViewOptions:{type:definePropType([Boolean,Object]),default:void 0},type:{type:definePropType(String)}}),tourStepEmits={close:()=>!0},_hoisted_1$7=["aria-label"],_sfc_main$c=defineComponent({name:"ElTourStep",__name:"step",props:tourStepProps,emits:tourStepEmits,setup(t,{emit:e}){const n=t,r=e,{Close:g}=CloseComponents,{t:$}=useLocale(),{currentStep:y,current:k,total:L,showClose:V,closeIcon:z,mergedType:j,ns:ie,slots:Oe,updateModelValue:ur,onClose:hr,onFinish:Vr,onChange:dr}=inject(tourKey);watch(n,Km=>{y.value=Km},{immediate:!0});const ec=computed(()=>{var Km;return(Km=n.showClose)!=null?Km:V.value}),tc=computed(()=>{var Km,tv;return(tv=(Km=n.closeIcon)!=null?Km:z.value)!=null?tv:g}),Xs=Km=>{if(Km)return omit(Km,["children","onClick"])},rc=()=>{var Km,tv;k.value-=1,(Km=n.prevButtonProps)!=null&&Km.onClick&&((tv=n.prevButtonProps)==null||tv.onClick()),dr()},ic=()=>{var Km;k.value>=L.value-1?_c():k.value+=1,(Km=n.nextButtonProps)!=null&&Km.onClick&&n.nextButtonProps.onClick(),dr()},_c=()=>{qm(),Vr()},qm=()=>{ur(!1),hr(),r("close")},Xm=Km=>{const tv=Km.target;if(tv!=null&&tv.isContentEditable)return;switch(getEventCode(Km)){case EVENT_CODE.left:Km.preventDefault(),k.value>0&&rc();break;case EVENT_CODE.right:Km.preventDefault(),ic();break}};return onMounted(()=>{window.addEventListener("keydown",Xm)}),onBeforeUnmount(()=>{window.removeEventListener("keydown",Xm)}),(Km,tv)=>(openBlock(),createElementBlock(Fragment,null,[ec.value?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref($)("el.tour.close"),class:normalizeClass(unref(ie).e("closebtn")),type:"button",onClick:qm},[createVNode(unref(ElIcon),{class:normalizeClass(unref(ie).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(tc.value)))]),_:1},8,["class"])],10,_hoisted_1$7)):createCommentVNode("v-if",!0),createBaseVNode("header",{class:normalizeClass([unref(ie).e("header"),{"show-close":unref(V)}])},[renderSlot(Km.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading",class:normalizeClass(unref(ie).e("title"))},toDisplayString$1(Km.title),3)])],2),createBaseVNode("div",{class:normalizeClass(unref(ie).e("body"))},[renderSlot(Km.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString$1(Km.description),1)])],2),createBaseVNode("footer",{class:normalizeClass(unref(ie).e("footer"))},[createBaseVNode("div",{class:normalizeClass(unref(ie).b("indicators"))},[unref(Oe).indicators?(openBlock(),createBlock(resolveDynamicComponent(unref(Oe).indicators),{key:0,current:unref(k),total:unref(L)},null,8,["current","total"])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(L),(nv,sv)=>(openBlock(),createElementBlock("span",{key:nv,class:normalizeClass([unref(ie).b("indicator"),unref(ie).is("active",sv===unref(k))])},null,2))),128))],2),createBaseVNode("div",{class:normalizeClass(unref(ie).b("buttons"))},[unref(k)>0?(openBlock(),createBlock(unref(ElButton),mergeProps({key:0,size:"small",type:unref(j)},Xs(Km.prevButtonProps),{onClick:rc}),{default:withCtx(()=>{var nv,sv;return[createTextVNode(toDisplayString$1((sv=(nv=Km.prevButtonProps)==null?void 0:nv.children)!=null?sv:unref($)("el.tour.previous")),1)]}),_:1},16,["type"])):createCommentVNode("v-if",!0),unref(k)<=unref(L)-1?(openBlock(),createBlock(unref(ElButton),mergeProps({key:1,size:"small",type:unref(j)==="primary"?"default":"primary"},Xs(Km.nextButtonProps),{onClick:ic}),{default:withCtx(()=>{var nv,sv;return[createTextVNode(toDisplayString$1((sv=(nv=Km.nextButtonProps)==null?void 0:nv.children)!=null?sv:unref(k)===unref(L)-1?unref($)("el.tour.finish"):unref($)("el.tour.next")),1)]}),_:1},16,["type"])):createCommentVNode("v-if",!0)],2)],2)],64))}});var TourStep=_export_sfc$1(_sfc_main$c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/step.vue"]]);const ElTour=withInstall(Tour,{TourStep}),ElTourStep=withNoopInstall(TourStep),anchorProps=buildProps({container:{type:definePropType([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:definePropType(String),default:"default"},direction:{type:definePropType(String),default:"vertical"},selectScrollTop:Boolean}),anchorEmits={change:t=>isString$1(t),click:(t,e)=>t instanceof MouseEvent&&(isString$1(e)||isUndefined(e))},anchorKey=Symbol("anchor"),getElement=t=>{if(!isClient||t==="")return null;if(isString$1(t))try{return document.querySelector(t)}catch{return null}return t};function throttleByRaf(t){let e=0;const n=(...r)=>{e&&cAF(e),e=rAF(()=>{t(...r),e=0})};return n.cancel=()=>{cAF(e),e=0},n}const _sfc_main$b=defineComponent({name:"ElAnchor",__name:"anchor",props:anchorProps,emits:anchorEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useSlots(),y=ref(""),k=ref({}),L=ref(null),V=ref(null),z=ref(),j={};let ie=!1,Oe=0;const ur=useNamespace("anchor"),hr=computed(()=>[ur.b(),r.type==="underline"?ur.m("underline"):"",ur.m(r.direction)]),Vr=nv=>{j[nv.href]=nv.el},dr=nv=>{delete j[nv]},ec=nv=>{y.value!==nv&&(y.value=nv,g(CHANGE_EVENT,nv))};let tc=null,Xs="";const rc=nv=>{if(!z.value)return;const sv=getElement(nv);if(!sv)return;if(tc){if(Xs===nv)return;tc()}Xs=nv,ie=!0;const gv=getScrollElement(sv,z.value),Sv=getOffsetTopDistance(sv,gv),wv=gv.scrollHeight-gv.clientHeight,rv=Math.min(Sv-r.offset,wv);tc=animateScrollTo(z.value,Oe,rv,r.duration,()=>{setTimeout(()=>{ie=!1,Xs=""},20)})},ic=nv=>{nv&&(ec(nv),rc(nv))},_c=(nv,sv)=>{g("click",nv,sv),ic(sv)},qm=throttleByRaf(()=>{z.value&&(Oe=getScrollTop(z.value));const nv=Xm();ie||isUndefined(nv)||ec(nv)}),Xm=()=>{if(!z.value)return;const nv=getScrollTop(z.value),sv=[];for(const gv of Object.keys(j)){const Sv=getElement(gv);if(!Sv)continue;const wv=getScrollElement(Sv,z.value),rv=getOffsetTopDistance(Sv,wv);sv.push({top:rv-r.offset-r.bound,href:gv})}sv.sort((gv,Sv)=>gv.top-Sv.top);for(let gv=0;gv<sv.length;gv++){const Sv=sv[gv],wv=sv[gv+1];if(gv===0&&nv===0)return r.selectScrollTop?Sv.href:"";if(Sv.top<=nv&&(!wv||wv.top>nv))return Sv.href}},Km=()=>{const nv=getElement(r.container);!nv||isWindow(nv)?z.value=window:z.value=nv};useEventListener(z,"scroll",qm);const tv=()=>{nextTick(()=>{if(!L.value||!V.value||!y.value){k.value={};return}const nv=j[y.value];if(!nv){k.value={};return}const sv=L.value.getBoundingClientRect(),gv=V.value.getBoundingClientRect(),Sv=nv.getBoundingClientRect();if(r.direction==="horizontal"){const wv=Sv.left-sv.left;k.value={left:`${wv}px`,width:`${Sv.width}px`,opacity:1}}else{const wv=Sv.top-sv.top+(Sv.height-gv.height)/2;k.value={top:`${wv}px`,opacity:1}}})};return watch(y,tv),watch(()=>{var nv;return(nv=$.default)==null?void 0:nv.call($)},tv),onMounted(()=>{Km();const nv=decodeURIComponent(window.location.hash);getElement(nv)?ic(nv):qm()}),watch(()=>r.container,()=>{Km()}),provide(anchorKey,{ns:ur,direction:r.direction,currentAnchor:y,addLink:Vr,removeLink:dr,handleClick:_c}),e({scrollTo:ic}),(nv,sv)=>(openBlock(),createElementBlock("div",{ref_key:"anchorRef",ref:L,class:normalizeClass(hr.value)},[nv.marker?(openBlock(),createElementBlock("div",{key:0,ref_key:"markerRef",ref:V,class:normalizeClass(unref(ur).e("marker")),style:normalizeStyle(k.value)},null,6)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(ur).e("list"))},[renderSlot(nv.$slots,"default")],2)],2))}});var Anchor=_export_sfc$1(_sfc_main$b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor.vue"]]);const anchorLinkProps=buildProps({title:String,href:String}),_hoisted_1$6=["href"],_sfc_main$a=defineComponent({name:"ElAnchorLink",__name:"anchor-link",props:anchorLinkProps,setup(t){const e=t,n=ref(null),{ns:r,direction:g,currentAnchor:$,addLink:y,removeLink:k,handleClick:L}=inject(anchorKey),V=computed(()=>[r.e("link"),r.is("active",$.value===e.href)]),z=j=>{L(j,e.href)};return watch(()=>e.href,(j,ie)=>{nextTick(()=>{ie&&k(ie),j&&y({href:j,el:n.value})})}),onMounted(()=>{const{href:j}=e;j&&y({href:j,el:n.value})}),onBeforeUnmount(()=>{const{href:j}=e;j&&k(j)}),(j,ie)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).e("item"))},[createBaseVNode("a",{ref_key:"linkRef",ref:n,class:normalizeClass(V.value),href:j.href,onClick:z},[renderSlot(j.$slots,"default",{},()=>[createTextVNode(toDisplayString$1(j.title),1)])],10,_hoisted_1$6),j.$slots["sub-link"]&&unref(g)==="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("list"))},[renderSlot(j.$slots,"sub-link")],2)):createCommentVNode("v-if",!0)],2))}});var AnchorLink=_export_sfc$1(_sfc_main$a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor-link.vue"]]);const ElAnchor=withInstall(Anchor,{AnchorLink}),ElAnchorLink=withNoopInstall(AnchorLink),defaultProps={label:"label",value:"value",disabled:"disabled"},segmentedProps=buildProps({direction:{type:definePropType(String),default:"horizontal"},options:{type:definePropType(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:definePropType(Object),default:()=>defaultProps},block:Boolean,size:useSizeProp,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},id:String,name:String,...useAriaProps(["ariaLabel"])}),segmentedEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t)||isNumber(t)||isBoolean(t),[CHANGE_EVENT]:t=>isString$1(t)||isNumber(t)||isBoolean(t)},_hoisted_1$5=["id","aria-label","aria-labelledby"],_hoisted_2$3=["name","disabled","checked","onChange"],_sfc_main$9=defineComponent({name:"ElSegmented",__name:"segmented",props:segmentedProps,emits:segmentedEmits,setup(t,{emit:e}){const n=t,r=e,g=useNamespace("segmented"),$=useId(),y=useFormSize(),k=useFormDisabled(),{formItem:L}=useFormItem(),{inputId:V,isLabeledByFormItem:z}=useFormItemInputId(n,{formItemContext:L}),j=ref(null),ie=useActiveElement(),Oe=reactive({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),ur=(nv,sv)=>{const gv=dr(sv);r(UPDATE_MODEL_EVENT,gv),r(CHANGE_EVENT,gv),nv.target.checked=gv===n.modelValue},hr=computed(()=>({...defaultProps,...n.props})),Vr=nv=>nv,dr=nv=>isObject$2(nv)?nv[hr.value.value]:nv,ec=nv=>isObject$2(nv)?nv[hr.value.label]:nv,tc=nv=>!!(k.value||isObject$2(nv)&&nv[hr.value.disabled]),Xs=nv=>n.modelValue===dr(nv),rc=nv=>n.options.find(sv=>dr(sv)===nv),ic=nv=>[g.e("item"),g.is("selected",Xs(nv)),g.is("disabled",tc(nv))],_c=()=>{if(!j.value)return;const nv=j.value.querySelector(".is-selected"),sv=j.value.querySelector(".is-selected input");if(!nv||!sv){Oe.width=0,Oe.height=0,Oe.translateX=0,Oe.translateY=0,Oe.focusVisible=!1;return}Oe.isInit=!0,n.direction==="vertical"?(Oe.height=nv.offsetHeight,Oe.translateY=nv.offsetTop):(Oe.width=nv.offsetWidth,Oe.translateX=nv.offsetLeft);try{Oe.focusVisible=sv.matches(":focus-visible")}catch{}},qm=computed(()=>[g.b(),g.m(y.value),g.is("block",n.block)]),Xm=computed(()=>({width:n.direction==="vertical"?"100%":`${Oe.width}px`,height:n.direction==="vertical"?`${Oe.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${Oe.translateY}px)`:`translateX(${Oe.translateX}px)`,display:Oe.isInit?"block":"none"})),Km=computed(()=>[g.e("item-selected"),g.is("disabled",tc(rc(n.modelValue))),g.is("focus-visible",Oe.focusVisible)]),tv=computed(()=>n.name||$.value);return useResizeObserver(j,_c),watch(ie,_c),watch(()=>n.modelValue,()=>{var nv;_c(),n.validateEvent&&((nv=L==null?void 0:L.validate)==null||nv.call(L,"change").catch(sv=>void 0))},{flush:"post"}),(nv,sv)=>nv.options.length?(openBlock(),createElementBlock("div",{key:0,id:unref(V),ref_key:"segmentedRef",ref:j,class:normalizeClass(qm.value),role:"radiogroup","aria-label":unref(z)?void 0:nv.ariaLabel||"segmented","aria-labelledby":unref(z)?unref(L).labelId:void 0},[createBaseVNode("div",{class:normalizeClass([unref(g).e("group"),unref(g).m(nv.direction)])},[createBaseVNode("div",{style:normalizeStyle(Xm.value),class:normalizeClass(Km.value)},null,6),(openBlock(!0),createElementBlock(Fragment,null,renderList(nv.options,(gv,Sv)=>(openBlock(),createElementBlock("label",{key:Sv,class:normalizeClass(ic(gv))},[createBaseVNode("input",{class:normalizeClass(unref(g).e("item-input")),type:"radio",name:tv.value,disabled:tc(gv),checked:Xs(gv),onChange:wv=>ur(wv,gv)},null,42,_hoisted_2$3),createBaseVNode("div",{class:normalizeClass(unref(g).e("item-label"))},[renderSlot(nv.$slots,"default",{item:Vr(gv)},()=>[createTextVNode(toDisplayString$1(ec(gv)),1)])],2)],2))),128))],2)],10,_hoisted_1$5)):createCommentVNode("v-if",!0)}});var Segmented=_export_sfc$1(_sfc_main$9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/segmented/src/segmented.vue"]]);const ElSegmented=withInstall(Segmented),filterOption=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value||"").toLowerCase().includes(n)},getMentionCtx=(t,e,n)=>{const{selectionEnd:r}=t;if(r===null)return;const g=t.value,$=castArray$1(e);let y=-1,k;for(let L=r-1;L>=0;--L){const V=g[L];if(V===n||V===`
`||V==="\r"){y=L;continue}if($.includes(V)){const z=y===-1?r:y;k={pattern:g.slice(L+1,z),start:L+1,end:z,prefix:V,prefixIndex:L,splitIndex:y,selectionEnd:r};break}}return k},getCursorPosition=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,r=t.selectionEnd!==null?t.selectionEnd:0,g=e.useSelectionEnd?r:n,$=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const ie=document.querySelector("#input-textarea-caret-position-mirror-div");ie!=null&&ie.parentNode&&ie.parentNode.removeChild(ie)}const y=document.createElement("div");y.id="input-textarea-caret-position-mirror-div",document.body.appendChild(y);const k=y.style,L=window.getComputedStyle(t),V=t.nodeName==="INPUT";k.whiteSpace=V?"nowrap":"pre-wrap",V||(k.wordWrap="break-word"),k.position="absolute",e.debug||(k.visibility="hidden"),$.forEach(ie=>{if(V&&ie==="lineHeight")if(L.boxSizing==="border-box"){const Oe=Number.parseInt(L.height),ur=Number.parseInt(L.paddingTop)+Number.parseInt(L.paddingBottom)+Number.parseInt(L.borderTopWidth)+Number.parseInt(L.borderBottomWidth),hr=ur+Number.parseInt(L.lineHeight);Oe>hr?k.lineHeight=`${Oe-ur}px`:Oe===hr?k.lineHeight=L.lineHeight:k.lineHeight="0"}else k.lineHeight=L.height;else k[ie]=L[ie]}),isFirefox()?t.scrollHeight>Number.parseInt(L.height)&&(k.overflowY="scroll"):k.overflow="hidden",y.textContent=t.value.slice(0,Math.max(0,g)),V&&y.textContent&&(y.textContent=y.textContent.replace(/\s/g,""));const z=document.createElement("span");z.textContent=t.value.slice(Math.max(0,g))||".",z.style.position="relative",z.style.left=`${-t.scrollLeft}px`,z.style.top=`${-t.scrollTop}px`,y.appendChild(z);const j={top:z.offsetTop+Number.parseInt(L.borderTopWidth),left:z.offsetLeft+Number.parseInt(L.borderLeftWidth),height:Number.parseInt(L.fontSize)*1.5};return e.debug?z.style.backgroundColor="#aaa":document.body.removeChild(y),j.left>=t.clientWidth&&(j.left=t.clientWidth),j},mentionProps=buildProps({...inputProps,options:{type:definePropType(Array),default:()=>[]},prefix:{type:definePropType([String,Array]),default:"@",validator:t=>isString$1(t)?t.length===1:t.every(e=>isString$1(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:definePropType([Boolean,Function]),default:()=>filterOption,validator:t=>t===!1?!0:isFunction$1(t)},placement:{type:definePropType(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:definePropType(Function)},modelValue:String,loading:Boolean,popperClass:useTooltipContentProps.popperClass,popperStyle:useTooltipContentProps.popperStyle,popperOptions:{type:definePropType(Object),default:()=>({})},props:{type:definePropType(Object),default:()=>mentionDefaultProps}}),mentionEmits={[UPDATE_MODEL_EVENT]:t=>isString$1(t),"whole-remove":(t,e)=>isString$1(t)&&isString$1(e),input:t=>isString$1(t),search:(t,e)=>isString$1(t)&&isString$1(e),select:(t,e)=>isObject$2(t)&&isString$1(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},mentionDefaultProps={value:"value",label:"label",disabled:"disabled"},mentionDropdownProps=buildProps({options:{type:definePropType(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),mentionDropdownEmits={select:t=>isString$1(t.value)},_hoisted_1$4=["id","aria-disabled","aria-selected","onMousemove","onClick"],_sfc_main$8=defineComponent({name:"ElMentionDropdown",__name:"mention-dropdown",props:mentionDropdownProps,emits:mentionDropdownEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=useNamespace("mention"),{t:y}=useLocale(),k=ref(-1),L=ref(),V=ref(),z=ref(),j=(Xs,rc)=>[$.be("dropdown","item"),$.is("hovering",k.value===rc),$.is("disabled",Xs.disabled||r.disabled)],ie=Xs=>{Xs.disabled||r.disabled||g("select",Xs)},Oe=Xs=>{k.value=Xs},ur=computed(()=>r.disabled||r.options.every(Xs=>Xs.disabled)),hr=computed(()=>r.options[k.value]),Vr=()=>{hr.value&&g("select",hr.value)},dr=Xs=>{const{options:rc}=r;if(rc.length===0||ur.value)return;Xs==="next"?(k.value++,k.value===rc.length&&(k.value=0)):Xs==="prev"&&(k.value--,k.value<0&&(k.value=rc.length-1));const ic=rc[k.value];if(ic.disabled){dr(Xs);return}nextTick(()=>ec(ic))},ec=Xs=>{var rc,ic,_c,qm;const{options:Xm}=r,Km=Xm.findIndex(nv=>nv.value===Xs.value),tv=(rc=V.value)==null?void 0:rc[Km];if(tv){const nv=(_c=(ic=z.value)==null?void 0:ic.querySelector)==null?void 0:_c.call(ic,`.${$.be("dropdown","wrap")}`);nv&&scrollIntoView(nv,tv)}(qm=L.value)==null||qm.handleScroll()};return watch(()=>r.options,()=>{ur.value||r.options.length===0?k.value=-1:k.value=0},{immediate:!0}),e({hoveringIndex:k,navigateOptions:dr,selectHoverOption:Vr,hoverOption:hr}),(Xs,rc)=>(openBlock(),createElementBlock("div",{ref_key:"dropdownRef",ref:z,class:normalizeClass(unref($).b("dropdown"))},[Xs.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).be("dropdown","header"))},[renderSlot(Xs.$slots,"header")],2)):createCommentVNode("v-if",!0),withDirectives(createVNode(unref(ElScrollbar),{id:Xs.contentId,ref_key:"scrollbarRef",ref:L,tag:"ul","wrap-class":unref($).be("dropdown","wrap"),"view-class":unref($).be("dropdown","list"),role:"listbox","aria-label":Xs.ariaLabel,"aria-orientation":"vertical"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Xs.options,(ic,_c)=>(openBlock(),createElementBlock("li",{id:`${Xs.contentId}-${_c}`,ref_for:!0,ref_key:"optionRefs",ref:V,key:_c,class:normalizeClass(j(ic,_c)),role:"option","aria-disabled":ic.disabled||Xs.disabled||void 0,"aria-selected":k.value===_c,onMousemove:qm=>Oe(_c),onClick:withModifiers(qm=>ie(ic),["stop"])},[renderSlot(Xs.$slots,"label",{item:ic,index:_c},()=>{var qm;return[createBaseVNode("span",null,toDisplayString$1((qm=ic.label)!=null?qm:ic.value),1)]})],42,_hoisted_1$4))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[vShow,Xs.options.length>0&&!Xs.loading]]),Xs.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref($).be("dropdown","loading"))},[renderSlot(Xs.$slots,"loading",{},()=>[createTextVNode(toDisplayString$1(unref(y)("el.mention.loading")),1)])],2)):createCommentVNode("v-if",!0),Xs.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref($).be("dropdown","footer"))},[renderSlot(Xs.$slots,"footer")],2)):createCommentVNode("v-if",!0)],2))}});var ElMentionDropdown=_export_sfc$1(_sfc_main$8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention-dropdown.vue"]]);const _sfc_main$7=defineComponent({name:"ElMention",inheritAttrs:!1,__name:"mention",props:mentionProps,emits:mentionEmits,setup(t,{expose:e,emit:n}){const r=t,g=n,$=computed(()=>pick(r,Object.keys(inputProps))),y=useNamespace("mention"),k=useFormDisabled(),L=useId(),V=ref(),z=ref(),j=ref(),ie=ref(!1),Oe=ref(),ur=ref(),hr=computed(()=>r.showArrow?r.placement:`${r.placement}-start`),Vr=computed(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),dr=computed(()=>({...mentionDefaultProps,...r.props})),ec=rv=>{const Jm={label:rv[dr.value.label],value:rv[dr.value.value],disabled:rv[dr.value.disabled]};return{...rv,...Jm}},tc=computed(()=>r.options.map(ec)),Xs=computed(()=>{const{filterOption:rv}=r;return!ur.value||!rv?tc.value:tc.value.filter(Jm=>rv(ur.value.pattern,Jm))}),rc=computed(()=>ie.value&&(!!Xs.value.length||r.loading)),ic=computed(()=>{var rv;return`${L.value}-${(rv=j.value)==null?void 0:rv.hoveringIndex}`}),_c=rv=>{g(UPDATE_MODEL_EVENT,rv),g(INPUT_EVENT,rv),gv()},qm=rv=>{var Jm,dv,pv,mv;if((Jm=V.value)!=null&&Jm.isComposing)return;const Cv=getEventCode(rv);switch(Cv){case EVENT_CODE.left:case EVENT_CODE.right:gv();break;case EVENT_CODE.up:case EVENT_CODE.down:if(!ie.value)return;rv.preventDefault(),(dv=j.value)==null||dv.navigateOptions(Cv===EVENT_CODE.up?"prev":"next");break;case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:if(!ie.value){r.type!=="textarea"&&gv();return}rv.preventDefault(),(pv=j.value)!=null&&pv.hoverOption?(mv=j.value)==null||mv.selectHoverOption():ie.value=!1;break;case EVENT_CODE.esc:if(!ie.value)return;rv.preventDefault(),ie.value=!1;break;case EVENT_CODE.backspace:if(r.whole&&ur.value){const{splitIndex:uv,selectionEnd:yv,pattern:$v,prefixIndex:Dv,prefix:Hv}=ur.value,Gv=sv();if(!Gv)return;const f0=Gv.value,qv=tc.value.find(Tv=>Tv.value===$v);if((isFunction$1(r.checkIsWhole)?r.checkIsWhole($v,Hv):qv)&&uv!==-1&&uv+1===yv){rv.preventDefault();const Tv=f0.slice(0,Dv)+f0.slice(uv+1);g(UPDATE_MODEL_EVENT,Tv),g(INPUT_EVENT,Tv),g("whole-remove",$v,Hv);const Vv=Dv;nextTick(()=>{Gv.selectionStart=Vv,Gv.selectionEnd=Vv,wv()})}}}},{wrapperRef:Xm}=useFocusController(V,{disabled:k,afterFocus(){gv()},beforeBlur(rv){var Jm;return(Jm=z.value)==null?void 0:Jm.isFocusInsideContent(rv)},afterBlur(){ie.value=!1}}),Km=()=>{gv()},tv=rv=>r.options.find(Jm=>rv.value===Jm[dr.value.value]),nv=rv=>{if(!ur.value)return;const Jm=sv();if(!Jm)return;const dv=Jm.value,{split:pv}=r,mv=dv.slice(ur.value.end),Cv=mv.startsWith(pv),uv=`${rv.value}${Cv?"":pv}`,yv=dv.slice(0,ur.value.start)+uv+mv;g(UPDATE_MODEL_EVENT,yv),g(INPUT_EVENT,yv),g("select",tv(rv),ur.value.prefix);const $v=ur.value.start+uv.length+(Cv?1:0);nextTick(()=>{Jm.selectionStart=$v,Jm.selectionEnd=$v,Jm.focus(),wv()})},sv=()=>{var rv,Jm;return r.type==="textarea"?(rv=V.value)==null?void 0:rv.textarea:(Jm=V.value)==null?void 0:Jm.input},gv=()=>{setTimeout(()=>{Sv(),wv(),nextTick(()=>{var rv;return(rv=z.value)==null?void 0:rv.updatePopper()})},0)},Sv=()=>{const rv=sv();if(!rv)return;const Jm=getCursorPosition(rv),dv=rv.getBoundingClientRect(),pv=Xm.value.getBoundingClientRect();Oe.value={position:"absolute",width:0,height:`${Jm.height}px`,left:`${Jm.left+dv.left-pv.left}px`,top:`${Jm.top+dv.top-pv.top}px`}},wv=()=>{const rv=sv();if(document.activeElement!==rv){ie.value=!1;return}const{prefix:Jm,split:dv}=r;if(ur.value=getMentionCtx(rv,Jm,dv),ur.value&&ur.value.splitIndex===-1){ie.value=!0,g("search",ur.value.pattern,ur.value.prefix);return}ie.value=!1};return e({input:V,tooltip:z,dropdownVisible:rc}),(rv,Jm)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:Xm,class:normalizeClass(unref(y).b())},[createVNode(unref(ElInput),mergeProps(mergeProps($.value,rv.$attrs),{ref_key:"elInputRef",ref:V,"model-value":rv.modelValue,disabled:unref(k),role:rc.value?"combobox":void 0,"aria-activedescendant":rc.value?ic.value||"":void 0,"aria-controls":rc.value?unref(L):void 0,"aria-expanded":rc.value||void 0,"aria-label":rv.ariaLabel,"aria-autocomplete":rc.value?"none":void 0,"aria-haspopup":rc.value?"listbox":void 0,onInput:_c,onKeydown:qm,onMousedown:Km}),createSlots({_:2},[renderList(rv.$slots,(dv,pv)=>({name:pv,fn:withCtx(mv=>[renderSlot(rv.$slots,pv,normalizeProps(guardReactiveProps(mv)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),createVNode(unref(ElTooltip),{ref_key:"tooltipRef",ref:z,visible:rc.value,"popper-class":[unref(y).e("popper"),rv.popperClass],"popper-style":rv.popperStyle,"popper-options":rv.popperOptions,placement:hr.value,"fallback-placements":Vr.value,effect:"light",pure:"",offset:rv.offset,"show-arrow":rv.showArrow},{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle(Oe.value)},null,4)]),content:withCtx(()=>[createVNode(ElMentionDropdown,{ref_key:"dropdownRef",ref:j,options:Xs.value,disabled:unref(k),loading:rv.loading,"content-id":unref(L),"aria-label":rv.ariaLabel,onSelect:nv,onClick:Jm[0]||(Jm[0]=withModifiers(dv=>{var pv;return(pv=V.value)==null?void 0:pv.focus()},["stop"]))},createSlots({_:2},[renderList(rv.$slots,(dv,pv)=>({name:pv,fn:withCtx(mv=>[renderSlot(rv.$slots,pv,normalizeProps(guardReactiveProps(mv)))])}))]),1032,["options","disabled","loading","content-id","aria-label"])]),_:3},8,["visible","popper-class","popper-style","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Mention=_export_sfc$1(_sfc_main$7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention.vue"]]);const ElMention=withInstall(Mention),splitterProps=buildProps({layout:{type:String,default:"horizontal",values:["horizontal","vertical"]},lazy:Boolean}),splitterEmits={resizeStart:(t,e)=>!0,resize:(t,e)=>!0,resizeEnd:(t,e)=>!0,collapse:(t,e,n)=>!0},splitterRootContextKey=Symbol("splitterRootContextKey");function useContainer(t){const e=ref(),{width:n,height:r}=useElementSize(e),g=computed(()=>t.value==="horizontal"?n.value:r.value);return{containerEl:e,containerSize:g}}function getPct(t){return Number(t.slice(0,-1))/100}function getPx(t){return Number(t.slice(0,-2))}function isPct(t){return isString$1(t)&&t.endsWith("%")}function isPx(t){return isString$1(t)&&t.endsWith("px")}function useSize(t,e){const n=computed(()=>t.value.map(k=>k.size)),r=computed(()=>t.value.length),g=ref([]);watch([n,r,e],()=>{var k;let L=[],V=0;for(let j=0;j<r.value;j+=1){const ie=(k=t.value[j])==null?void 0:k.size;if(isPct(ie))L[j]=getPct(ie);else if(isPx(ie))L[j]=getPx(ie)/e.value;else if(ie||ie===0){const Oe=Number(ie);Number.isNaN(Oe)||(L[j]=Oe/e.value)}else V+=1,L[j]=void 0}const z=L.reduce((j,ie)=>j+(ie||0),0);if(z>1||!V){const j=1/z;L=L.map(ie=>ie===void 0?0:ie*j)}else{const j=(1-z)/V;L=L.map(ie=>ie===void 0?j:ie)}g.value=L});const $=k=>k*e.value,y=computed(()=>g.value.map($));return{percentSizes:g,pxSizes:y}}function useResize(t,e,n,r){const g=Vr=>Vr*e.value||0;function $(Vr,dr){return isPct(Vr)?g(getPct(Vr)):isPx(Vr)?getPx(Vr):Vr??dr}const y=ref(0),k=ref(null);let L=[],V=NOOP;const z=computed(()=>t.value.map(Vr=>[Vr.min,Vr.max]));watch(r,()=>{if(y.value){const Vr=new MouseEvent("mouseup",{bubbles:!0});window.dispatchEvent(Vr)}});const j=Vr=>{y.value=0,k.value={index:Vr,confirmed:!1},L=n.value},ie=(Vr,dr)=>{var ec,tc;let Xs=null;if((!k.value||!k.value.confirmed)&&dr!==0){if(dr>0)Xs=Vr,k.value={index:Vr,confirmed:!0};else for(let sv=Vr;sv>=0;sv-=1)if(L[sv]>0){Xs=sv,k.value={index:sv,confirmed:!0};break}}const rc=(tc=Xs??((ec=k.value)==null?void 0:ec.index))!=null?tc:Vr,ic=[...L],_c=rc+1,qm=$(z.value[rc][0],0),Xm=$(z.value[_c][0],0),Km=$(z.value[rc][1],e.value||0),tv=$(z.value[_c][1],e.value||0);let nv=dr;ic[rc]+nv<qm&&(nv=qm-ic[rc]),ic[_c]-nv<Xm&&(nv=ic[_c]-Xm),ic[rc]+nv>Km&&(nv=Km-ic[rc]),ic[_c]-nv>tv&&(nv=ic[_c]-tv),ic[rc]+=nv,ic[_c]-=nv,y.value=nv,V=()=>{t.value.forEach((sv,gv)=>{sv.size=ic[gv]}),V=NOOP},r.value||V()},Oe=()=>{r.value&&V(),y.value=0,k.value=null,L=[]},ur=[];return{lazyOffset:y,onMoveStart:j,onMoving:ie,onMoveEnd:Oe,movingIndex:k,onCollapse:(Vr,dr)=>{ur.length||ur.push(...n.value);const ec=n.value,tc=dr==="start"?Vr:Vr+1,Xs=dr==="start"?Vr+1:Vr,rc=ec[tc],ic=ec[Xs];if(rc!==0&&ic!==0)ec[tc]=0,ec[Xs]+=rc,ur[Vr]=rc;else{const _c=rc+ic,qm=ur[Vr],Xm=_c-qm;ec[Xs]=qm,ec[tc]=Xm}t.value.forEach((_c,qm)=>{_c.size=ec[qm]})}}}const _sfc_main$6=defineComponent({name:"ElSplitter",__name:"splitter",props:splitterProps,emits:splitterEmits,setup(t,{emit:e}){const n=useNamespace("splitter"),r=e,g=t,$=toRef$1(g,"layout"),y=toRef$1(g,"lazy"),{containerEl:k,containerSize:L}=useContainer($),{removeChild:V,children:z,addChild:j,ChildrenSorter:ie}=useOrderedChildren(getCurrentInstance(),"ElSplitterPanel");watch(z,()=>{Vr.value=null,z.value.forEach((Km,tv)=>{Km.setIndex(tv)})});const{percentSizes:Oe,pxSizes:ur}=useSize(z,L),{lazyOffset:hr,movingIndex:Vr,onMoveStart:dr,onMoving:ec,onMoveEnd:tc,onCollapse:Xs}=useResize(z,L,ur,y),rc=computed(()=>({[n.cssVarBlockName("bar-offset")]:y.value?`${hr.value}px`:void 0}));return provide(splitterRootContextKey,reactive({panels:z,percentSizes:Oe,pxSizes:ur,layout:$,lazy:y,movingIndex:Vr,containerSize:L,onMoveStart:Km=>{dr(Km),r("resizeStart",Km,ur.value)},onMoving:(Km,tv)=>{ec(Km,tv),y.value||r("resize",Km,ur.value)},onMoveEnd:async Km=>{tc(),await nextTick(),r("resizeEnd",Km,ur.value)},onCollapse:(Km,tv)=>{Xs(Km,tv),r("collapse",Km,tv,ur.value)},registerPanel:j,unregisterPanel:V})),(Km,tv)=>(openBlock(),createElementBlock("div",{ref_key:"containerEl",ref:k,class:normalizeClass([unref(n).b(),unref(n).e($.value)]),style:normalizeStyle(rc.value)},[renderSlot(Km.$slots,"default"),createVNode(unref(ie)),createCommentVNode(" Prevent iframe touch events from breaking "),unref(Vr)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("mask"),unref(n).e(`mask-${$.value}`)])},null,2)):createCommentVNode("v-if",!0)],6))}});var Splitter=_export_sfc$1(_sfc_main$6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/splitter.vue"]]);function getCollapsible(t){return t&&isObject$2(t)?t:{start:!!t,end:!!t}}function isCollapsible(t,e,n,r){return!!(t!=null&&t.collapsible.end&&e>0||n!=null&&n.collapsible.start&&r===0&&e>0)}const _sfc_main$5=defineComponent({name:"ElSplitterBar",__name:"split-bar",props:{index:{type:Number,required:!0},layout:{type:String,values:["horizontal","vertical"],default:"horizontal"},resizable:{type:Boolean,default:!0},lazy:Boolean,startCollapsible:Boolean,endCollapsible:Boolean},emits:["moveStart","moving","moveEnd","collapse"],setup(t,{emit:e}){const n=useNamespace("splitter-bar"),r=t,g=e,$=computed(()=>r.layout==="horizontal"),y=computed(()=>$.value?{width:0}:{height:0}),k=computed(()=>({width:$.value?"16px":"100%",height:$.value?"100%":"16px",cursor:r.resizable?$.value?"ew-resize":"ns-resize":"auto",touchAction:"none"})),L=computed(()=>{const ec=n.e("dragger");return{[`${ec}-horizontal`]:$.value,[`${ec}-vertical`]:!$.value,[`${ec}-active`]:!!V.value}}),V=ref(null),z=ec=>{r.resizable&&(V.value=[ec.pageX,ec.pageY],g("moveStart",r.index),window.addEventListener("mouseup",ur),window.addEventListener("mousemove",ie))},j=ec=>{if(r.resizable&&ec.touches.length===1){ec.preventDefault();const tc=ec.touches[0];V.value=[tc.pageX,tc.pageY],g("moveStart",r.index),window.addEventListener("touchend",hr),window.addEventListener("touchmove",Oe)}},ie=ec=>{const{pageX:tc,pageY:Xs}=ec,rc=tc-V.value[0],ic=Xs-V.value[1],_c=$.value?rc:ic;g("moving",r.index,_c)},Oe=ec=>{if(ec.touches.length===1){ec.preventDefault();const tc=ec.touches[0],Xs=tc.pageX-V.value[0],rc=tc.pageY-V.value[1],ic=$.value?Xs:rc;g("moving",r.index,ic)}},ur=()=>{V.value=null,window.removeEventListener("mouseup",ur),window.removeEventListener("mousemove",ie),g("moveEnd",r.index)},hr=()=>{V.value=null,window.removeEventListener("touchend",hr),window.removeEventListener("touchmove",Oe),g("moveEnd",r.index)},Vr=computed(()=>$.value?arrow_left_default:arrow_up_default),dr=computed(()=>$.value?arrow_right_default:arrow_down_default);return(ec,tc)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b()]),style:normalizeStyle(y.value)},[t.startCollapsible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("collapse-icon"),unref(n).e(`${t.layout}-collapse-icon-start`)]),onClick:tc[0]||(tc[0]=Xs=>g("collapse",t.index,"start"))},[renderSlot(ec.$slots,"start-collapsible",{},()=>[(openBlock(),createBlock(resolveDynamicComponent(Vr.value),{style:{width:"12px",height:"12px"}}))])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(n).e("dragger"),L.value,unref(n).is("disabled",!t.resizable),unref(n).is("lazy",t.resizable&&t.lazy)]),style:normalizeStyle(k.value),onMousedown:z,onTouchstart:j},null,38),t.endCollapsible?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("collapse-icon"),unref(n).e(`${t.layout}-collapse-icon-end`)]),onClick:tc[1]||(tc[1]=Xs=>g("collapse",t.index,"end"))},[renderSlot(ec.$slots,"end-collapsible",{},()=>[(openBlock(),createBlock(resolveDynamicComponent(dr.value),{style:{width:"12px",height:"12px"}}))])],2)):createCommentVNode("v-if",!0)],6))}});var SplitBar=_export_sfc$1(_sfc_main$5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-bar.vue"]]);const splitterPanelProps=buildProps({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:Boolean}),splitterPanelEmits={"update:size":t=>typeof t=="number"||typeof t=="string"},COMPONENT_NAME="ElSplitterPanel",_sfc_main$4=defineComponent({name:COMPONENT_NAME,__name:"split-panel",props:splitterPanelProps,emits:splitterPanelEmits,setup(t,{expose:e,emit:n}){const r=useNamespace("splitter-panel"),g=t,$=n,y=inject(splitterRootContextKey);y||throwError(COMPONENT_NAME,"usage: <el-splitter><el-splitter-panel /></el-splitter/>");const{panels:k,layout:L,lazy:V,containerSize:z,pxSizes:j}=toRefs(y),{registerPanel:ie,unregisterPanel:Oe,onCollapse:ur,onMoveEnd:hr,onMoveStart:Vr,onMoving:dr}=y,ec=ref(),tc=getCurrentInstance(),Xs=tc.uid,rc=ref(0),ic=computed(()=>k.value[rc.value]),_c=Jm=>{rc.value=Jm},qm=computed(()=>{var Jm;return ic.value&&(Jm=j.value[rc.value])!=null?Jm:0}),Xm=computed(()=>{var Jm;return ic.value&&(Jm=j.value[rc.value+1])!=null?Jm:0}),Km=computed(()=>ic.value?k.value[rc.value+1]:null),tv=computed(()=>{var Jm;return Km.value?g.resizable&&((Jm=Km.value)==null?void 0:Jm.resizable)&&(qm.value!==0||!g.min)&&(Xm.value!==0||!Km.value.min):!1}),nv=computed(()=>ic.value?rc.value!==k.value.length-1:!1),sv=computed(()=>isCollapsible(ic.value,qm.value,Km.value,Xm.value)),gv=computed(()=>isCollapsible(Km.value,Xm.value,ic.value,qm.value));function Sv(Jm){return isPct(Jm)?getPct(Jm)*z.value||0:isPx(Jm)?getPx(Jm):Jm??0}let wv=!1;watch(()=>g.size,()=>{if(!wv&&ic.value){if(!z.value){ic.value.size=g.size;return}const Jm=Sv(g.size),dv=Sv(g.max),pv=Sv(g.min),mv=Math.min(Math.max(Jm,pv||0),dv||Jm);mv!==Jm&&$("update:size",mv),ic.value.size=mv}}),watch(()=>{var Jm;return(Jm=ic.value)==null?void 0:Jm.size},Jm=>{Jm!==g.size&&(wv=!0,$("update:size",Jm),nextTick(()=>wv=!1))}),watch(()=>g.resizable,Jm=>{ic.value&&(ic.value.resizable=Jm)});const rv=reactive({el:ec.value,uid:Xs,getVnode:()=>tc.vnode,setIndex:_c,...g,collapsible:computed(()=>getCollapsible(g.collapsible))});return ie(rv),onBeforeUnmount(()=>Oe(rv)),e({splitterPanelRef:ec}),(Jm,dv)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",mergeProps({ref_key:"panelEl",ref:ec,class:[unref(r).b()],style:{flexBasis:`${qm.value}px`}},Jm.$attrs),[renderSlot(Jm.$slots,"default")],16),nv.value?(openBlock(),createBlock(SplitBar,{key:0,index:rc.value,layout:unref(L),lazy:unref(V),resizable:tv.value,"start-collapsible":sv.value,"end-collapsible":gv.value,onMoveStart:unref(Vr),onMoving:unref(dr),onMoveEnd:unref(hr),onCollapse:unref(ur)},{"start-collapsible":withCtx(()=>[renderSlot(Jm.$slots,"start-collapsible")]),"end-collapsible":withCtx(()=>[renderSlot(Jm.$slots,"end-collapsible")]),_:3},8,["index","layout","lazy","resizable","start-collapsible","end-collapsible","onMoveStart","onMoving","onMoveEnd","onCollapse"])):createCommentVNode("v-if",!0)],64))}});var SplitPanel=_export_sfc$1(_sfc_main$4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-panel.vue"]]);const ElSplitter=withInstall(Splitter,{SplitPanel}),ElSplitterPanel=withNoopInstall(SplitPanel);var Components=[ElAffix,ElAlert,ElAutocomplete,ElAutoResizer,ElAvatar,ElBacktop,ElBadge,ElBreadcrumb,ElBreadcrumbItem,ElButton,ElButtonGroup$1,ElCalendar,ElCard,ElCarousel,ElCarouselItem,ElCascader,ElCascaderPanel,ElCheckTag,ElCheckbox,ElCheckboxButton,ElCheckboxGroup,ElCol,ElCollapse,ElCollapseItem,ElCollapseTransition,ElColorPickerPanel,ElColorPicker,ElConfigProvider,ElContainer,ElAside,ElFooter,ElHeader,ElMain,ElDatePicker,ElDatePickerPanel,ElDescriptions,ElDescriptionsItem,ElDialog,ElDivider,ElDrawer,ElDropdown,ElDropdownItem,ElDropdownMenu,ElEmpty,ElForm,ElFormItem,ElIcon,ElImage,ElImageViewer,ElInput,ElInputNumber,ElInputTag,ElLink,ElMenu,ElMenuItem,ElMenuItemGroup,ElSubMenu,ElPageHeader,ElPagination,ElPopconfirm,ElPopover,ElPopper,ElProgress,ElRadio,ElRadioButton,ElRadioGroup,ElRate,ElResult,ElRow,ElScrollbar,ElSelect,ElOption,ElOptionGroup,ElSelectV2,ElSkeleton,ElSkeletonItem,ElSlider,ElSpace,ElStatistic,ElCountdown,ElSteps,ElStep,ElSwitch,ElTable,ElTableColumn,ElTableV2,ElTabs,ElTabPane,ElTag,ElText,ElTimePicker,ElTimeSelect,ElTimeline,ElTimelineItem,ElTooltip,ElTransfer,ElTree,ElTreeSelect,ElTreeV2,ElUpload,ElWatermark,ElTour,ElTourStep,ElAnchor,ElAnchorLink,ElSegmented,ElMention,ElSplitter,ElSplitterPanel];const SCOPE="ElInfiniteScroll",CHECK_INTERVAL=50,DEFAULT_DELAY=200,DEFAULT_DISTANCE=0,attributes={delay:{type:Number,default:DEFAULT_DELAY},distance:{type:Number,default:DEFAULT_DISTANCE},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},getScrollOptions=(t,e)=>Object.entries(attributes).reduce((n,[r,g])=>{var $,y;const{type:k,default:L}=g,V=t.getAttribute(`infinite-scroll-${r}`);let z=(y=($=e[V])!=null?$:V)!=null?y:L;return z=z==="false"?!1:z,z=k(z),n[r]=Number.isNaN(z)?L:z,n},{}),destroyObserver=t=>{const{observer:e}=t[SCOPE];e&&(e.disconnect(),delete t[SCOPE].observer)},handleScroll=(t,e)=>{const{container:n,containerEl:r,instance:g,observer:$,lastScrollTop:y}=t[SCOPE],{disabled:k,distance:L}=getScrollOptions(t,g),{clientHeight:V,scrollHeight:z,scrollTop:j}=r,ie=j-y;if(t[SCOPE].lastScrollTop=j,$||k||ie<0)return;let Oe=!1;if(n===t)Oe=z-(V+j)<=L;else{const{clientTop:ur,scrollHeight:hr}=t,Vr=getOffsetTopDistance(t,r);Oe=j+V>=Vr+ur+hr-L}Oe&&e.call(g)};function checkFull(t,e){const{containerEl:n,instance:r}=t[SCOPE],{disabled:g}=getScrollOptions(t,r);g||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):destroyObserver(t))}const InfiniteScroll={async mounted(t,e){const{instance:n,value:r}=e;useDeprecated({scope:SCOPE,from:"the directive v-infinite-scroll",replacement:"the el-scrollbar infinite scroll",version:"3.0.0",ref:"https://element-plus.org/en-US/component/scrollbar#infinite-scroll"},!0),isFunction$1(r)||throwError(SCOPE,"'v-infinite-scroll' binding value must be a function"),await nextTick();const{delay:g,immediate:$}=getScrollOptions(t,n),y=getScrollContainer(t,!0),k=y===window?document.documentElement:y,L=throttle(handleScroll.bind(null,t,r),g);if(y){if(t[SCOPE]={instance:n,container:y,containerEl:k,delay:g,cb:r,onScroll:L,lastScrollTop:k.scrollTop},$){const V=new MutationObserver(throttle(checkFull.bind(null,t,r),CHECK_INTERVAL));t[SCOPE].observer=V,V.observe(t,{childList:!0,subtree:!0}),checkFull(t,r)}y.addEventListener("scroll",L)}},unmounted(t){if(!t[SCOPE])return;const{container:e,onScroll:n}=t[SCOPE];e==null||e.removeEventListener("scroll",n),destroyObserver(t)},async updated(t){if(!t[SCOPE])await nextTick();else{const{containerEl:e,cb:n,observer:r}=t[SCOPE];e.clientHeight&&r&&checkFull(t,n)}}},_InfiniteScroll=InfiniteScroll;_InfiniteScroll.install=t=>{t.directive("InfiniteScroll",_InfiniteScroll)};const ElInfiniteScroll=_InfiniteScroll;function createLoadingComponent(t,e){let n;const r=ref(!1),g=reactive({...t,originalPosition:"",originalOverflow:"",visible:!1});function $(Oe){g.text=Oe}function y(){const Oe=g.parent,ur=ie.ns;if(!Oe.vLoadingAddClassList){let hr=Oe.getAttribute("loading-number");hr=Number.parseInt(hr)-1,hr?Oe.setAttribute("loading-number",hr.toString()):(removeClass(Oe,ur.bm("parent","relative")),Oe.removeAttribute("loading-number")),removeClass(Oe,ur.bm("parent","hidden"))}k(),j.unmount()}function k(){var Oe,ur;(ur=(Oe=ie.$el)==null?void 0:Oe.parentNode)==null||ur.removeChild(ie.$el)}function L(){var Oe;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(V,400),g.visible=!1,(Oe=t.closed)==null||Oe.call(t))}function V(){if(!r.value)return;const Oe=g.parent;r.value=!1,Oe.vLoadingAddClassList=void 0,y()}const j=createApp(defineComponent({name:"ElLoading",setup(Oe,{expose:ur}){const{ns:hr,zIndex:Vr}=useGlobalComponentSettings("loading");return ur({ns:hr,zIndex:Vr}),()=>{const dr=g.spinner||g.svg,ec=h$1("svg",{class:"circular",viewBox:g.svgViewBox?g.svgViewBox:"0 0 50 50",...dr?{innerHTML:dr}:{}},[h$1("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),tc=g.text?h$1("p",{class:hr.b("text")},[g.text]):void 0;return h$1(Transition,{name:hr.b("fade"),onAfterLeave:V},{default:withCtx(()=>[withDirectives(createVNode("div",{style:{backgroundColor:g.background||""},class:[hr.b("mask"),g.customClass,hr.is("fullscreen",g.fullscreen)]},[h$1("div",{class:hr.b("spinner")},[ec,tc])]),[[vShow,g.visible]])])})}}}));Object.assign(j._context,e??{});const ie=j.mount(document.createElement("div"));return{...toRefs(g),setText:$,removeElLoadingChild:k,close:L,handleAfterLeave:V,vm:ie,get $el(){return ie.$el}}}let fullscreenInstance;const Loading=function(t={},e){if(!isClient)return;const n=resolveOptions(t);if(n.fullscreen&&fullscreenInstance)return fullscreenInstance;const r=createLoadingComponent({...n,closed:()=>{var $;($=n.closed)==null||$.call(n),n.fullscreen&&(fullscreenInstance=void 0)}},e??Loading._context);addStyle(n,n.parent,r),addClassList(n,n.parent,r),n.parent.vLoadingAddClassList=()=>addClassList(n,n.parent,r);let g=n.parent.getAttribute("loading-number");return g?g=`${Number.parseInt(g)+1}`:g="1",n.parent.setAttribute("loading-number",g),n.parent.appendChild(r.$el),nextTick(()=>r.visible.value=n.visible),n.fullscreen&&(fullscreenInstance=r),r},resolveOptions=t=>{var e,n,r,g;let $;return isString$1(t.target)?$=(e=document.querySelector(t.target))!=null?e:document.body:$=t.target||document.body,{parent:$===document.body||t.body?document.body:$,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:$===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(g=t.visible)!=null?g:!0,beforeClose:t.beforeClose,closed:t.closed,target:$}},addStyle=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,g={};if(t.fullscreen)n.originalPosition.value=getStyle(document.body,"position"),n.originalOverflow.value=getStyle(document.body,"overflow"),g.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=getStyle(document.body,"position"),await nextTick();for(const $ of["top","left"]){const y=$==="top"?"scrollTop":"scrollLeft";g[$]=`${t.target.getBoundingClientRect()[$]+document.body[y]+document.documentElement[y]-Number.parseInt(getStyle(document.body,`margin-${$}`),10)}px`}for(const $ of["height","width"])g[$]=`${t.target.getBoundingClientRect()[$]}px`}else n.originalPosition.value=getStyle(e,"position");for(const[$,y]of Object.entries(g))n.$el.style[$]=y},addClassList=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?removeClass(e,r.bm("parent","relative")):addClass(e,r.bm("parent","relative")),t.fullscreen&&t.lock?addClass(e,r.bm("parent","hidden")):removeClass(e,r.bm("parent","hidden"))};Loading._context=null;const INSTANCE_KEY=Symbol("ElLoading"),getAttributeName=t=>`element-loading-${hyphenate(t)}`,createInstance=(t,e)=>{var n,r,g,$;const y=e.instance,k=Oe=>isObject$2(e.value)?e.value[Oe]:void 0,L=Oe=>{const ur=isString$1(Oe)&&(y==null?void 0:y[Oe])||Oe;return ref(ur)},V=Oe=>L(k(Oe)||t.getAttribute(getAttributeName(Oe))),z=(n=k("fullscreen"))!=null?n:e.modifiers.fullscreen,j={text:V("text"),svg:V("svg"),svgViewBox:V("svgViewBox"),spinner:V("spinner"),background:V("background"),customClass:V("customClass"),fullscreen:z,target:(r=k("target"))!=null?r:z?void 0:t,body:(g=k("body"))!=null?g:e.modifiers.body,lock:($=k("lock"))!=null?$:e.modifiers.lock},ie=Loading(j);ie._context=vLoading._context,t[INSTANCE_KEY]={options:j,instance:ie}},updateOptions=(t,e)=>{for(const n of Object.keys(t))isRef(t[n])&&(t[n].value=e[n])},vLoading={mounted(t,e){e.value&&createInstance(t,e)},updated(t,e){const n=t[INSTANCE_KEY];if(!e.value){n==null||n.instance.close(),t[INSTANCE_KEY]=null;return}n?updateOptions(n.options,isObject$2(e.value)?e.value:{text:t.getAttribute(getAttributeName("text")),svg:t.getAttribute(getAttributeName("svg")),svgViewBox:t.getAttribute(getAttributeName("svgViewBox")),spinner:t.getAttribute(getAttributeName("spinner")),background:t.getAttribute(getAttributeName("background")),customClass:t.getAttribute(getAttributeName("customClass"))}):createInstance(t,e)},unmounted(t){var e;(e=t[INSTANCE_KEY])==null||e.instance.close(),t[INSTANCE_KEY]=null}};vLoading._context=null;const ElLoading={install(t){Loading._context=t._context,vLoading._context=t._context,t.directive("loading",vLoading),t.config.globalProperties.$loading=Loading},directive:vLoading,service:Loading},messageTypes=["primary","success","info","warning","error"],messagePlacement=["top","top-left","top-right","bottom","bottom-left","bottom-right"],MESSAGE_DEFAULT_PLACEMENT="top",messageDefaults=mutable({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),default:messageDefaults.onClose},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},plain:{type:Boolean,default:messageDefaults.plain},offset:{type:Number,default:messageDefaults.offset},placement:{type:String,values:messagePlacement,default:messageDefaults.placement},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},placementInstances=shallowReactive({}),getOrCreatePlacementInstances=t=>(placementInstances[t]||(placementInstances[t]=shallowReactive([])),placementInstances[t]),getInstance=(t,e)=>{const n=placementInstances[e]||[],r=n.findIndex(y=>y.id===t),g=n[r];let $;return r>0&&($=n[r-1]),{current:g,prev:$}},getLastOffset=(t,e)=>{const{prev:n}=getInstance(t,e);return n?n.vm.exposed.bottom.value:0},getOffsetOrSpace=(t,e,n)=>(placementInstances[n]||[]).findIndex($=>$.id===t)>0?16:e,_hoisted_1$3=["id"],_hoisted_2$2=["innerHTML"],_sfc_main$3=defineComponent({name:"ElMessage",__name:"message",props:messageProps,emits:messageEmits,setup(t,{expose:e,emit:n}){const{Close:r}=TypeComponents,g=t,$=n,y=ref(!1),{ns:k,zIndex:L}=useGlobalComponentSettings("message"),{currentZIndex:V,nextZIndex:z}=L,j=ref(),ie=ref(!1),Oe=ref(0);let ur;const hr=computed(()=>g.type?g.type==="error"?"danger":g.type:"info"),Vr=computed(()=>{const sv=g.type;return{[k.bm("icon",sv)]:sv&&TypeComponentsMap[sv]}}),dr=computed(()=>g.icon||TypeComponentsMap[g.type]||""),ec=computed(()=>g.placement||MESSAGE_DEFAULT_PLACEMENT),tc=computed(()=>getLastOffset(g.id,ec.value)),Xs=computed(()=>getOffsetOrSpace(g.id,g.offset,ec.value)+tc.value),rc=computed(()=>Oe.value+Xs.value),ic=computed(()=>ec.value.includes("left")?k.is("left"):ec.value.includes("right")?k.is("right"):k.is("center")),_c=computed(()=>ec.value.startsWith("top")?"top":"bottom"),qm=computed(()=>({[_c.value]:`${Xs.value}px`,zIndex:V.value}));function Xm(){g.duration!==0&&({stop:ur}=useTimeoutFn(()=>{tv()},g.duration))}function Km(){ur==null||ur()}function tv(){ie.value=!1,nextTick(()=>{var sv;y.value||((sv=g.onClose)==null||sv.call(g),$("destroy"))})}function nv(sv){getEventCode(sv)===EVENT_CODE.esc&&tv()}return onMounted(()=>{Xm(),z(),ie.value=!0}),watch(()=>g.repeatNum,()=>{Km(),Xm()}),useEventListener(document,"keydown",nv),useResizeObserver(j,()=>{Oe.value=j.value.getBoundingClientRect().height}),e({visible:ie,bottom:rc,close:tv}),(sv,gv)=>(openBlock(),createBlock(Transition,{name:unref(k).b("fade"),onBeforeEnter:gv[0]||(gv[0]=Sv=>y.value=!0),onBeforeLeave:sv.onClose,onAfterLeave:gv[1]||(gv[1]=Sv=>sv.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:sv.id,ref_key:"messageRef",ref:j,class:normalizeClass([unref(k).b(),{[unref(k).m(sv.type)]:sv.type},unref(k).is("closable",sv.showClose),unref(k).is("plain",sv.plain),unref(k).is("bottom",_c.value==="bottom"),ic.value,sv.customClass]),style:normalizeStyle(qm.value),role:"alert",onMouseenter:Km,onMouseleave:Xm},[sv.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:sv.repeatNum,type:hr.value,class:normalizeClass(unref(k).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),dr.value?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(k).e("icon"),Vr.value])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(dr.value)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(sv.$slots,"default",{},()=>[sv.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(k).e("content")),innerHTML:sv.message},null,10,_hoisted_2$2)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(k).e("content"))},toDisplayString$1(sv.message),3))]),sv.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(k).e("closeBtn")),onClick:withModifiers(tv,["stop"])},{default:withCtx(()=>[createVNode(unref(r))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],46,_hoisted_1$3),[[vShow,ie.value]])]),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc$1(_sfc_main$3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let seed$1=1;const normalizeAppendTo=t=>{if(!t.appendTo)t.appendTo=document.body;else if(isString$1(t.appendTo)){let n=document.querySelector(t.appendTo);isElement$1(n)||(n=document.body),t.appendTo=n}},normalizePlacement=t=>{!t.placement&&isString$1(messageConfig.placement)&&messageConfig.placement&&(t.placement=messageConfig.placement),t.placement||(t.placement=MESSAGE_DEFAULT_PLACEMENT),messagePlacement.includes(t.placement)||(t.placement=MESSAGE_DEFAULT_PLACEMENT)},normalizeOptions=t=>{const e=!t||isString$1(t)||isVNode$1(t)||isFunction$1(t)?{message:t}:t,n={...messageDefaults,...e};return normalizeAppendTo(n),normalizePlacement(n),isBoolean(messageConfig.grouping)&&!n.grouping&&(n.grouping=messageConfig.grouping),isNumber(messageConfig.duration)&&n.duration===3e3&&(n.duration=messageConfig.duration),isNumber(messageConfig.offset)&&n.offset===16&&(n.offset=messageConfig.offset),isBoolean(messageConfig.showClose)&&!n.showClose&&(n.showClose=messageConfig.showClose),isBoolean(messageConfig.plain)&&!n.plain&&(n.plain=messageConfig.plain),n},closeMessage=t=>{const e=t.props.placement||MESSAGE_DEFAULT_PLACEMENT,n=placementInstances[e],r=n.indexOf(t);if(r===-1)return;n.splice(r,1);const{handler:g}=t;g.close()},createMessage=({appendTo:t,...e},n)=>{const r=`message_${seed$1++}`,g=e.onClose,$=document.createElement("div"),y={...e,id:r,onClose:()=>{g==null||g(),closeMessage(z)},onDestroy:()=>{render(null,$)}},k=createVNode(MessageConstructor,y,isFunction$1(y.message)||isVNode$1(y.message)?{default:isFunction$1(y.message)?y.message:()=>y.message}:null);k.appContext=n||message._context,render(k,$),t.appendChild($.firstElementChild);const L=k.component,z={id:r,vnode:k,vm:L,handler:{close:()=>{L.exposed.close()}},props:k.component.props};return z},message=(t={},e)=>{if(!isClient)return{close:()=>{}};const n=normalizeOptions(t),r=getOrCreatePlacementInstances(n.placement||MESSAGE_DEFAULT_PLACEMENT);if(n.grouping&&r.length){const $=r.find(({vnode:y})=>{var k;return((k=y.props)==null?void 0:k.message)===n.message});if($)return $.props.repeatNum+=1,$.props.type=n.type,$.handler}if(isNumber(messageConfig.max)&&r.length>=messageConfig.max)return{close:()=>{}};const g=createMessage(n,e);return r.push(g),g.handler};messageTypes.forEach(t=>{message[t]=(e={},n)=>{const r=normalizeOptions(e);return message({...r,type:t},n)}});function closeAll$1(t){for(const e in placementInstances)if(hasOwn$1(placementInstances,e)){const n=[...placementInstances[e]];for(const r of n)(!t||t===r.props.type)&&r.handler.close()}}function closeAllByPlacement(t){if(!placementInstances[t])return;[...placementInstances[t]].forEach(n=>n.handler.close())}message.closeAll=closeAll$1;message.closeAllByPlacement=closeAllByPlacement;message._context=null;const ElMessage=withInstallFunction(message,"$message"),FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=t=>{if(FOCUS_STACK.length===0)return;const e=getEventCode(t),n=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(n.length>0&&e===EVENT_CODE.tab){if(n.length===1){t.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const r=t.shiftKey,g=t.target===n[0],$=t.target===n[n.length-1];g&&r&&(t.preventDefault(),n[n.length-1].focus()),$&&!r&&(t.preventDefault(),n[0].focus())}},TrapFocus={beforeMount(t){t[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(t),FOCUS_STACK.push(t),FOCUS_STACK.length<=1&&document.addEventListener("keydown",FOCUS_HANDLER)},updated(t){nextTick(()=>{t[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(t)})},unmounted(){FOCUS_STACK.shift(),FOCUS_STACK.length===0&&document.removeEventListener("keydown",FOCUS_HANDLER)}},_sfc_main$2=defineComponent({name:"ElMessageBox",directives:{TrapFocus},components:{ElButton,ElFocusTrap,ElInput,ElOverlay,ElIcon,...TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:isValidComponentSize},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:g,size:$}=useGlobalComponentSettings("message-box",computed(()=>t.buttonSize)),{t:y}=n,{nextZIndex:k}=r,L=ref(!1),V=reactive({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:markRaw(loading_default),cancelButtonLoadingIcon:markRaw(loading_default),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:k()}),z=computed(()=>{const rv=V.type;return{[g.bm("icon",rv)]:rv&&TypeComponentsMap[rv]}}),j=useId(),ie=useId(),Oe=computed(()=>{const rv=V.type;return V.icon||rv&&TypeComponentsMap[rv]||""}),ur=computed(()=>!!V.message),hr=ref(),Vr=ref(),dr=ref(),ec=ref(),tc=ref(),Xs=computed(()=>V.confirmButtonClass);watch(()=>V.inputValue,async rv=>{await nextTick(),t.boxType==="prompt"&&rv&&sv()},{immediate:!0}),watch(()=>L.value,rv=>{var Jm,dv;rv&&(t.boxType!=="prompt"&&(V.autofocus?dr.value=(dv=(Jm=tc.value)==null?void 0:Jm.$el)!=null?dv:hr.value:dr.value=hr.value),V.zIndex=k()),t.boxType==="prompt"&&(rv?nextTick().then(()=>{var pv;ec.value&&ec.value.$el&&(V.autofocus?dr.value=(pv=gv())!=null?pv:hr.value:dr.value=hr.value)}):(V.editorErrorMessage="",V.validateError=!1))});const rc=computed(()=>t.draggable),ic=computed(()=>t.overflow),{isDragging:_c}=useDraggable(hr,Vr,rc,ic);onMounted(async()=>{await nextTick(),t.closeOnHashChange&&window.addEventListener("hashchange",qm)}),onBeforeUnmount(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",qm)});function qm(){L.value&&(L.value=!1,nextTick(()=>{V.action&&e("action",V.action)}))}const Xm=()=>{t.closeOnClickModal&&nv(V.distinguishCancelAndClose?"close":"cancel")},Km=useSameTarget(Xm),tv=rv=>{if(V.inputType!=="textarea")return rv.preventDefault(),nv("confirm")},nv=rv=>{var Jm;t.boxType==="prompt"&&rv==="confirm"&&!sv()||(V.action=rv,V.beforeClose?(Jm=V.beforeClose)==null||Jm.call(V,rv,V,qm):qm())},sv=()=>{if(t.boxType==="prompt"){const rv=V.inputPattern;if(rv&&!rv.test(V.inputValue||""))return V.editorErrorMessage=V.inputErrorMessage||y("el.messagebox.error"),V.validateError=!0,!1;const Jm=V.inputValidator;if(isFunction$1(Jm)){const dv=Jm(V.inputValue);if(dv===!1)return V.editorErrorMessage=V.inputErrorMessage||y("el.messagebox.error"),V.validateError=!0,!1;if(isString$1(dv))return V.editorErrorMessage=dv,V.validateError=!0,!1}}return V.editorErrorMessage="",V.validateError=!1,!0},gv=()=>{var rv,Jm;const dv=(rv=ec.value)==null?void 0:rv.$refs;return(Jm=dv==null?void 0:dv.input)!=null?Jm:dv==null?void 0:dv.textarea},Sv=()=>{nv("close")},wv=()=>{t.closeOnPressEscape&&Sv()};return t.lockScroll&&useLockscreen(L,{ns:g}),{...toRefs(V),ns:g,overlayEvent:Km,visible:L,hasMessage:ur,typeClass:z,contentId:j,inputId:ie,btnSize:$,iconComponent:Oe,confirmButtonClasses:Xs,rootRef:hr,focusStartRef:dr,headerRef:Vr,inputRef:ec,isDragging:_c,confirmRef:tc,doClose:qm,handleClose:Sv,onCloseRequested:wv,handleWrapperClick:Xm,handleInputEnter:tv,handleAction:nv,t:y}}}),_hoisted_1$2=["aria-label","aria-describedby"],_hoisted_2$1=["aria-label"],_hoisted_3$1=["id"];function _sfc_render$1(t,e,n,r,g,$){const y=resolveComponent("el-icon"),k=resolveComponent("el-input"),L=resolveComponent("el-button"),V=resolveComponent("el-focus-trap"),z=resolveComponent("el-overlay");return openBlock(),createBlock(Transition,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=j=>t.$emit("vanish")),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(z,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:normalizeClass(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...j)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...j)),onMousedown:e[9]||(e[9]=(...j)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...j)),onMouseup:e[10]||(e[10]=(...j)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...j))},[createVNode(V,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",{ref:"rootRef",class:normalizeClass([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),t.ns.is("dragging",t.isDragging),{[t.ns.m("center")]:t.center}]),style:normalizeStyle(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=withModifiers(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(openBlock(),createElementBlock("div",{key:0,ref:"headerRef",class:normalizeClass([t.ns.e("header"),{"show-close":t.showClose}])},[createBaseVNode("div",{class:normalizeClass(t.ns.e("title"))},[t.iconComponent&&t.center?(openBlock(),createBlock(y,{key:0,class:normalizeClass([t.ns.e("status"),t.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString$1(t.title),1)],2),t.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=j=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=withKeys(withModifiers(j=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[createVNode(y,{class:normalizeClass(t.ns.e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.closeIcon||"close")))]),_:1},8,["class"])],42,_hoisted_2$1)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{id:t.contentId,class:normalizeClass(t.ns.e("content"))},[createBaseVNode("div",{class:normalizeClass(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(openBlock(),createBlock(y,{key:0,class:normalizeClass([t.ns.e("status"),t.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),t.hasMessage?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(t.ns.e("message"))},[renderSlot(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(openBlock(),createBlock(resolveDynamicComponent(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0,textContent:toDisplayString$1(t.message)},null,8,["for","textContent"]))])],2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(t.ns.e("input"))},[createVNode(k,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=j=>t.inputValue=j),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:normalizeClass({invalid:t.validateError}),onKeydown:withKeys(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),createBaseVNode("div",{class:normalizeClass(t.ns.e("errormsg")),style:normalizeStyle({visibility:t.editorErrorMessage?"visible":"hidden"})},toDisplayString$1(t.editorErrorMessage),7)],2),[[vShow,t.showInput]])],10,_hoisted_3$1),createBaseVNode("div",{class:normalizeClass(t.ns.e("btns"))},[t.showCancelButton?(openBlock(),createBlock(L,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:normalizeClass([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=j=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=withKeys(withModifiers(j=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size"])):createCommentVNode("v-if",!0),withDirectives(createVNode(L,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:normalizeClass([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=j=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=withKeys(withModifiers(j=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString$1(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size"]),[[vShow,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,_hoisted_1$2)]),_:3},8,["z-index","overlay-class","mask"]),[[vShow,t.visible]])]),_:3})}var MessageBoxConstructor=_export_sfc$1(_sfc_main$2,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const messageInstance=new Map,getAppendToElement=t=>{let e=document.body;return t.appendTo&&(isString$1(t.appendTo)&&(e=document.querySelector(t.appendTo)),isElement$1(t.appendTo)&&(e=t.appendTo),isElement$1(e)||(e=document.body)),e},initInstance=(t,e,n=null)=>{const r=createVNode(MessageBoxConstructor,t,isFunction$1(t.message)||isVNode$1(t.message)?{default:isFunction$1(t.message)?t.message:()=>t.message}:null);return r.appContext=n,render(r,e),getAppendToElement(t).appendChild(e.firstElementChild),r.component},genContainer=()=>document.createElement("div"),showMessage=(t,e)=>{const n=genContainer();t.onVanish=()=>{render(null,n),messageInstance.delete(g)},t.onAction=$=>{const y=messageInstance.get(g);let k;t.showInput?k={value:g.inputValue,action:$}:k=$,t.callback?t.callback(k,r.proxy):$==="cancel"||$==="close"?t.distinguishCancelAndClose&&$!=="cancel"?y.reject("close"):y.reject("cancel"):y.resolve(k)};const r=initInstance(t,n,e),g=r.proxy;for(const $ in t)hasOwn$1(t,$)&&!hasOwn$1(g.$props,$)&&($==="closeIcon"&&isObject$2(t[$])?g[$]=markRaw(t[$]):g[$]=t[$]);return g.visible=!0,g};function MessageBox(t,e=null){if(!isClient)return Promise.reject();let n;return isString$1(t)||isVNode$1(t)?t={message:t}:n=t.callback,new Promise((r,g)=>{const $=showMessage(t,e??MessageBox._context);messageInstance.set($,{options:t,callback:n,resolve:r,reject:g})})}const MESSAGE_BOX_VARIANTS=["alert","confirm","prompt"],MESSAGE_BOX_DEFAULT_OPTS={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};MESSAGE_BOX_VARIANTS.forEach(t=>{MessageBox[t]=messageBoxFactory(t)});function messageBoxFactory(t){return(e,n,r,g)=>{let $="";return isObject$2(n)?(r=n,$=""):isUndefined(n)?$="":$=n,MessageBox(Object.assign({title:$,message:e,type:"",...MESSAGE_BOX_DEFAULT_OPTS[t]},r,{boxType:t}),g)}}MessageBox.close=()=>{messageInstance.forEach((t,e)=>{e.doClose()}),messageInstance.clear()};MessageBox._context=null;const _MessageBox=MessageBox;_MessageBox.install=t=>{_MessageBox._context=t._context,t.config.globalProperties.$msgbox=_MessageBox,t.config.globalProperties.$messageBox=_MessageBox,t.config.globalProperties.$alert=_MessageBox.alert,t.config.globalProperties.$confirm=_MessageBox.confirm,t.config.globalProperties.$prompt=_MessageBox.prompt};const ElMessageBox=_MessageBox,notificationTypes=["primary","success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:iconPropType},id:{type:String,default:""},message:{type:definePropType([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:Number,closeIcon:{type:iconPropType,default:close_default}}),notificationEmits={destroy:()=>!0},_hoisted_1$1=["id"],_hoisted_2=["textContent"],_hoisted_3={key:0},_hoisted_4=["innerHTML"],_sfc_main$1=defineComponent({name:"ElNotification",__name:"notification",props:notificationProps,emits:notificationEmits,setup(t,{expose:e}){const n=t,{ns:r,zIndex:g}=useGlobalComponentSettings("notification"),{nextZIndex:$,currentZIndex:y}=g,k=ref(!1);let L;const V=computed(()=>{const ec=n.type;return ec&&TypeComponentsMap[n.type]?r.m(ec):""}),z=computed(()=>n.type&&TypeComponentsMap[n.type]||n.icon),j=computed(()=>n.position.endsWith("right")?"right":"left"),ie=computed(()=>n.position.startsWith("top")?"top":"bottom"),Oe=computed(()=>{var ec;return{[ie.value]:`${n.offset}px`,zIndex:(ec=n.zIndex)!=null?ec:y.value}});function ur(){n.duration>0&&({stop:L}=useTimeoutFn(()=>{k.value&&Vr()},n.duration))}function hr(){L==null||L()}function Vr(){k.value=!1}function dr(ec){switch(getEventCode(ec)){case EVENT_CODE.delete:case EVENT_CODE.backspace:hr();break;case EVENT_CODE.esc:k.value&&Vr();break;default:ur();break}}return onMounted(()=>{ur(),$(),k.value=!0}),useEventListener(document,"keydown",dr),e({visible:k,close:Vr}),(ec,tc)=>(openBlock(),createBlock(Transition,{name:unref(r).b("fade"),onBeforeLeave:ec.onClose,onAfterLeave:tc[1]||(tc[1]=Xs=>ec.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:ec.id,class:normalizeClass([unref(r).b(),ec.customClass,j.value]),style:normalizeStyle(Oe.value),role:"alert",onMouseenter:hr,onMouseleave:ur,onClick:tc[0]||(tc[0]=(...Xs)=>ec.onClick&&ec.onClick(...Xs))},[z.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(r).e("icon"),V.value])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(z.value)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("group"))},[createBaseVNode("h2",{class:normalizeClass(unref(r).e("title")),textContent:toDisplayString$1(ec.title)},null,10,_hoisted_2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(r).e("content")),style:normalizeStyle(ec.title?void 0:{margin:0})},[renderSlot(ec.$slots,"default",{},()=>[ec.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{innerHTML:ec.message},null,8,_hoisted_4)],2112)):(openBlock(),createElementBlock("p",_hoisted_3,toDisplayString$1(ec.message),1))])],6),[[vShow,ec.message]]),ec.showClose?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("closeBtn")),onClick:withModifiers(Vr,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ec.closeIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],46,_hoisted_1$1),[[vShow,k.value]])]),_:3},8,["name","onBeforeLeave"]))}});var NotificationConstructor=_export_sfc$1(_sfc_main$1,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed=1;const notify=function(t={},e){if(!isClient)return{close:()=>{}};(isString$1(t)||isVNode$1(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;notifications[n].forEach(({vm:z})=>{var j;r+=(((j=z.el)==null?void 0:j.offsetHeight)||0)+GAP_SIZE}),r+=GAP_SIZE;const g=`notification_${seed++}`,$=t.onClose,y={...t,offset:r,id:g,onClose:()=>{close(g,n,$)}};let k=document.body;isElement$1(t.appendTo)?k=t.appendTo:isString$1(t.appendTo)&&(k=document.querySelector(t.appendTo)),isElement$1(k)||(k=document.body);const L=document.createElement("div"),V=createVNode(NotificationConstructor,y,isFunction$1(y.message)?y.message:isVNode$1(y.message)?()=>y.message:null);return V.appContext=isUndefined(e)?notify._context:e,V.props.onDestroy=()=>{render(null,L)},render(V,L),notifications[n].push({vm:V}),k.appendChild(L.firstElementChild),{close:()=>{V.component.exposed.visible.value=!1}}};notificationTypes.forEach(t=>{notify[t]=(e={},n)=>((isString$1(e)||isVNode$1(e))&&(e={message:e}),notify({...e,type:t},n))});function close(t,e,n){const r=notifications[e],g=r.findIndex(({vm:V})=>{var z;return((z=V.component)==null?void 0:z.props.id)===t});if(g===-1)return;const{vm:$}=r[g];if(!$)return;n==null||n($);const y=$.el.offsetHeight,k=e.split("-")[0];r.splice(g,1);const L=r.length;if(!(L<1))for(let V=g;V<L;V++){const{el:z,component:j}=r[V].vm,ie=Number.parseInt(z.style[k],10)-y-GAP_SIZE;j.props.offset=ie}}function closeAll(){for(const t of Object.values(notifications))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}function updateOffsets(t="top-right"){var e,n,r,g;let $=((r=(n=(e=notifications[t][0])==null?void 0:e.vm.component)==null?void 0:n.props)==null?void 0:r.offset)||0;for(const{vm:y}of notifications[t])y.component.props.offset=$,$+=(((g=y.el)==null?void 0:g.offsetHeight)||0)+GAP_SIZE}notify.closeAll=closeAll;notify.updateOffsets=updateOffsets;notify._context=null;const ElNotification=withInstallFunction(notify,"$notify");var Plugins=[ElInfiniteScroll,ElLoading,ElMessage,ElMessageBox,ElNotification,ElPopoverDirective],installer=makeInstaller([...Components,...Plugins]);/*! Element Plus Icons Vue v2.3.1 */var Lt=defineComponent({name:"Bell",__name:"bell",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64"}),createBaseVNode("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320"}),createBaseVNode("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32m352 128h128a64 64 0 0 1-128 0"})]))}}),be=Lt,Tt=defineComponent({name:"Check",__name:"check",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),te=Tt,Bt=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Dt=Bt,zt=defineComponent({name:"Close",__name:"close",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),xe=zt,$t=defineComponent({name:"Delete",__name:"delete",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),Vt=$t,Pt=defineComponent({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),Te=Pt,It=defineComponent({name:"Menu",__name:"menu",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),At=It,Et=defineComponent({name:"Moon",__name:"moon",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"})]))}}),Nt=Et,Ft=defineComponent({name:"Operation",__name:"operation",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),Rt=Ft,Ot=defineComponent({name:"Setting",__name:"setting",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256"})]))}}),Ht=Ot,Yt=defineComponent({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Gt=Yt,Wt=defineComponent({name:"Sunny",__name:"sunny",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"})]))}}),Xt=Wt,Ut=defineComponent({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),Zt=Ut,qt=defineComponent({name:"Warning",__name:"warning",setup(t){return(e,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0m-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"})]))}}),jt=qt;const Kt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 15 15"};function Qt(t,e){return openBlock(),createElementBlock("svg",Kt,e[0]||(e[0]=[createBaseVNode("path",{fill:"currentColor",d:"M1.417 11.667h1.916v.833H0V9.167h.833v1.916l2.5-2.5.584.584zm9.666 0-2.5-2.5.584-.584 2.5 2.5V9.167h.833V12.5H9.167v-.833zM1.417.833l2.5 2.5-.584.584-2.5-2.5v1.916H0V0h3.333v.833zm9.666 0H9.167V0H12.5v3.333h-.833V1.417l-2.5 2.5-.584-.584z"},null,-1)]))}const Be={render:Qt},Jt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512"};function en(t,e){return openBlock(),createElementBlock("svg",Jt,e[0]||(e[0]=[createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m434.8 137.65-149.36-68.1c-16.19-7.4-42.69-7.4-58.88 0L77.3 137.65c-17.6 8-17.6 21.09 0 29.09l148 67.5c16.89 7.7 44.69 7.7 61.58 0l148-67.5c17.52-8 17.52-21.1-.08-29.09M160 308.52l-82.7 37.11c-17.6 8-17.6 21.1 0 29.1l148 67.5c16.89 7.69 44.69 7.69 61.58 0l148-67.5c17.6-8 17.6-21.1 0-29.1l-79.94-38.47"},null,-1),createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m160 204.48-82.8 37.16c-17.6 8-17.6 21.1 0 29.1l148 67.49c16.89 7.7 44.69 7.7 61.58 0l148-67.49c17.7-8 17.7-21.1.1-29.1L352 204.48"},null,-1)]))}const tn={render:en},nn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function on(t,e){return openBlock(),createElementBlock("svg",nn,e[0]||(e[0]=[createBaseVNode("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.81 207.81 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048m15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.81 271.81 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72"},null,-1),createBaseVNode("text",{x:"512",y:"580",fill:"currentColor","dominant-baseline":"middle","font-family":"Arial","font-size":"300","font-weight":"bold","text-anchor":"middle"},"ML",-1)]))}const ln={render:on},an={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function rn(t,e){return openBlock(),createElementBlock("svg",an,e[0]||(e[0]=[createBaseVNode("path",{d:"m15.08 12.854.002-.002V5.59c0-.422-.652-.414-.652 0v3.466c0 .938-1.482.95-1.482 0v-4.83c0-.414-.638-.414-.638 0h-.014v4.83c.014.95-1.482.95-1.482 0V3.444c0-.42-.638-.414-.638 0v5.612c0 .95-1.494.95-1.494 0V4.232c0-.408-.64-.42-.64 0v6.756c0 .802-1.094 1.088-1.494.388q-.39-.669-.776-1.338c-.338-.482-1.1-.15-.794.38l.978 1.698.02.04q.829 1.418 1.658 2.834c.19.3.422.578.666.802h-.006c.672.61 1.528.964 2.418 1.052.888.06 1.792-.124 2.56-.612q.45-.285.816-.68a4 4 0 0 0 .734-1.204c.176-.482.258-.97.258-1.494m-.91-8.608-.004-.002c.958-.38 2.058.244 2.058 1.346v7.266c0 .652-.108 1.29-.332 1.894a4.8 4.8 0 0 1-.964 1.576 5.9 5.9 0 0 1-1.046.884c-.978.612-2.146.862-3.26.774a5.34 5.34 0 0 1-3.098-1.352 5.4 5.4 0 0 1-.87-1.034l-1.672-2.88-.012-.028-.978-1.706c-.59-1.018.068-2.186 1.156-2.336.536-.074 1.126.116 1.562.72.026.028.04.062.054.096q.061.11.122.218V4.234c0-1.176 1.244-1.788 2.202-1.278.42-1.278 2.378-1.264 2.792-.014.972-.51 2.222.102 2.222 1.284v.06z"},null,-1)]))}const sn={render:rn},cn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function un(t,e){return openBlock(),createElementBlock("svg",cn,e[0]||(e[0]=[createBaseVNode("path",{fill:"currentColor",d:"M10.438 15.298h.002l4.86-4.86-9.722-4.86zM18 10l-3.434 3.434 3.2 3.2-1.132 1.132-3.2-3.2L10 18 2.4 2.4z"},null,-1)]))}const dn={render:un},mn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function pn(t,e){return openBlock(),createElementBlock("svg",mn,e[0]||(e[0]=[createBaseVNode("path",{fill:"currentColor",d:"M15.083 14.808a7 7 0 0 0 1.909-4.825 7.001 7.001 0 1 0-2.167 5.083c.092-.083.175-.174.258-.258m1.259.592 2.575 2.575-.942.942-2.575-2.575a8.334 8.334 0 0 1-11.525-.692 8.326 8.326 0 0 1 .233-11.542C7.267.942 12.367.842 15.65 3.875s3.592 8.117.692 11.525m-3.55-2.608V7.208H7.208v5.584zM5.875 5.875h8.25v8.25h-8.25z"},null,-1)]))}const vn={render:pn},gn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function fn(t,e){return openBlock(),createElementBlock("svg",gn,e[0]||(e[0]=[createBaseVNode("path",{fill:"currentColor",d:"m9.333 14.125-3.458-3.458v3.458zm4.792-3.458-3.458 3.458h3.458zm-3.458-4.792 3.458 3.458V5.875zM5.875 9.333l3.458-3.458H5.875zm9.208 5.475a7 7 0 0 0 1.909-4.825 7.001 7.001 0 1 0-2.167 5.083c.092-.083.175-.174.258-.258m1.259.592 2.575 2.575-.942.942-2.575-2.575c-3.408 2.9-8.492 2.591-11.525-.692S.942 7.275 4.108 4.108C7.267.942 12.367.842 15.65 3.875s3.592 8.117.692 11.525"},null,-1)]))}const hn={render:fn},_n={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function yn(t,e){return openBlock(),createElementBlock("svg",_n,e[0]||(e[0]=[createBaseVNode("path",{d:"M9.5 9.54h1v1h-1z"},null,-1)]))}const wn={render:yn},bn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function kn(t,e){return openBlock(),createElementBlock("svg",bn)}const xn={render:kn},Cn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function Mn(t,e){return openBlock(),createElementBlock("svg",Cn,e[0]||(e[0]=[createBaseVNode("path",{d:"M2 9.5h16v1H2z"},null,-1),createBaseVNode("path",{d:"M9.5 2h1v16h-1z"},null,-1)]))}const Sn={render:Mn},Ln={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function Tn(t,e){return openBlock(),createElementBlock("svg",Ln,e[0]||(e[0]=[createBaseVNode("path",{d:"m2.146 2.851.707-.707 14.998 14.998-.707.707z"},null,-1),createBaseVNode("path",{d:"M2.146 17.149 17.144 2.15l.707.707L2.853 17.856z"},null,-1)]))}const Bn={render:Tn},Dn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function zn(t,e){return openBlock(),createElementBlock("svg",Dn,e[0]||(e[0]=[createBaseVNode("path",{d:"M9.5 2.04h1v8h-1z"},null,-1)]))}const $n={render:zn},Vn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function Pn(t,e){return openBlock(),createElementBlock("svg",Vn,e[0]||(e[0]=[createBaseVNode("path",{d:"M9.5 9.54h1v1h-1z"},null,-1),createBaseVNode("path",{d:"M10 3a7 7 0 1 1-7 7 7 7 0 0 1 7-7m0-1a8 8 0 1 0 8 8 8 8 0 0 0-8-8"},null,-1)]))}const In={render:Pn},An={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function En(t,e){return openBlock(),createElementBlock("svg",An,e[0]||(e[0]=[createBaseVNode("path",{d:"M10 3a7 7 0 1 1-7 7 7 7 0 0 1 7-7m0-1a8 8 0 1 0 8 8 8 8 0 0 0-8-8"},null,-1)]))}const Nn={render:En},Fn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function Rn(t,e){return openBlock(),createElementBlock("svg",Fn,e[0]||(e[0]=[createBaseVNode("path",{d:"M3 9.5h14v1H3z"},null,-1),createBaseVNode("path",{d:"M9.5 3h1v14h-1z"},null,-1),createBaseVNode("path",{d:"M10 3a7 7 0 1 1-7 7 7 7 0 0 1 7-7m0-1a8 8 0 1 0 8 8 8 8 0 0 0-8-8"},null,-1)]))}const On={render:Rn},Hn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function Yn(t,e){return openBlock(),createElementBlock("svg",Hn,e[0]||(e[0]=[createBaseVNode("path",{d:"m2.146 2.851.707-.707 14.998 14.998-.707.707z"},null,-1),createBaseVNode("path",{d:"M2.146 17.149 17.144 2.15l.707.707L2.853 17.856z"},null,-1),createBaseVNode("path",{d:"M10 3a7 7 0 1 1-7 7 7 7 0 0 1 7-7m0-1a8 8 0 1 0 8 8 8 8 0 0 0-8-8"},null,-1)]))}const Gn={render:Yn},Wn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function Xn(t,e){return openBlock(),createElementBlock("svg",Wn,e[0]||(e[0]=[createBaseVNode("path",{d:"M9.5 5.04h1v5h-1z"},null,-1),createBaseVNode("path",{d:"M10 3a7 7 0 1 1-7 7 7 7 0 0 1 7-7m0-1a8 8 0 1 0 8 8 8 8 0 0 0-8-8"},null,-1)]))}const Un={render:Xn},Zn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function qn(t,e){return openBlock(),createElementBlock("svg",Zn,e[0]||(e[0]=[createBaseVNode("path",{d:"M9.5 9.54h1v1h-1z"},null,-1),createBaseVNode("path",{d:"M17 3v14H3V3zm1-1H2v16h16z"},null,-1)]))}const jn={render:qn},Kn={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function Qn(t,e){return openBlock(),createElementBlock("svg",Kn,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3v14H3V3zm1-1H2v16h16z"},null,-1)]))}const Jn={render:Qn},eo={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function to(t,e){return openBlock(),createElementBlock("svg",eo,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3.08v14H3v-14zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"M3 9.58h14v1H3z"},null,-1),createBaseVNode("path",{d:"M9.5 3.08h1v14h-1z"},null,-1)]))}const no={render:to},oo={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function lo(t,e){return openBlock(),createElementBlock("svg",oo,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3.08v14H3v-14zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"m2.146 2.851.707-.707 14.998 14.998-.707.707z"},null,-1),createBaseVNode("path",{d:"M2.146 17.149 17.144 2.15l.707.707L2.853 17.856z"},null,-1)]))}const ao={render:lo},io={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function ro(t,e){return openBlock(),createElementBlock("svg",io,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3.08v14H3v-14zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"M9.5 6.04h1v5h-1z"},null,-1)]))}const so={render:ro},co={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function uo(t,e){return openBlock(),createElementBlock("svg",co,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3.08v14H3v-14zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"M9.5 9.54h1v1h-1z"},null,-1),createBaseVNode("path",{d:"M10 4a6 6 0 1 1-6 6 6 6 0 0 1 6-6m0-1a7 7 0 1 0 7 7 7 7 0 0 0-7-7"},null,-1)]))}const mo={render:uo},po={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function vo(t,e){return openBlock(),createElementBlock("svg",po,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3.08v14H3v-14zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"M10 4a6 6 0 1 1-6 6 6 6 0 0 1 6-6m0-1a7 7 0 1 0 7 7 7 7 0 0 0-7-7"},null,-1)]))}const go={render:vo},fo={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function ho(t,e){return openBlock(),createElementBlock("svg",fo,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3v14H3V3zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"M3.88 9.6h12.25v.88H3.88z"},null,-1),createBaseVNode("path",{d:"M9.56 3.91h.88v12.25h-.88z"},null,-1),createBaseVNode("path",{d:"M10 4a6 6 0 1 1-6 6 6 6 0 0 1 6-6m0-1a7 7 0 1 0 7 7 7 7 0 0 0-7-7"},null,-1)]))}const _o={render:ho},yo={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function wo(t,e){return openBlock(),createElementBlock("svg",yo,e[0]||(e[0]=[createBaseVNode("path",{d:"m2.146 2.851.707-.707 14.998 14.998-.707.707z"},null,-1),createBaseVNode("path",{d:"M2.146 17.149 17.144 2.15l.707.707L2.853 17.856z"},null,-1),createBaseVNode("path",{d:"M17 3v14H3V3zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"M10 4a6 6 0 1 1-6 6 6 6 0 0 1 6-6m0-1a7 7 0 1 0 7 7 7 7 0 0 0-7-7"},null,-1)]))}const bo={render:wo},ko={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"};function xo(t,e){return openBlock(),createElementBlock("svg",ko,e[0]||(e[0]=[createBaseVNode("path",{d:"M17 3v14H3V3zm1-1H2v16h16z"},null,-1),createBaseVNode("path",{d:"M9.5 5.04h1v5h-1z"},null,-1),createBaseVNode("path",{d:"M10 4a6 6 0 1 1-6 6 6 6 0 0 1 6-6m0-1a7 7 0 1 0 7 7 7 7 0 0 0-7-7"},null,-1)]))}const Co={render:xo},Mo={key:0,class:"ml-base-dialog",role:"dialog","aria-modal":"true"},So={class:"ml-base-dialog-header"},Lo={class:"ml-base-dialog-title"},To={key:0,class:"ml-base-dialog-icon-wrapper"},Bo={class:"ml-base-dialog-actions"},Do={class:"ml-base-dialog-body"},zo={class:"ml-base-dialog-footer"},$o=defineComponent({__name:"MlBaseDialog",props:{modelValue:{type:Boolean,required:!0},title:{type:String,required:!0},width:{type:[Number,String],default:400},icon:{type:Object,default:null}},emits:["update:modelValue","ok","cancel","open","opened"],setup(t,{emit:e}){const{t:n}=useI18n(),r=t,g=e,$=computed(()=>r.icon??ln),y=computed(()=>typeof r.width=="number"?`${r.width}px`:r.width);watch(()=>r.modelValue,async(V,z)=>{V&&!z&&(g("open"),await nextTick(),g("opened"))});function k(){g("ok"),g("update:modelValue",!1)}function L(){g("cancel"),g("update:modelValue",!1)}return(V,z)=>{const j=resolveComponent("el-icon"),ie=resolveComponent("el-button"),Oe=resolveComponent("el-config-provider");return t.modelValue?(openBlock(),createElementBlock("div",Mo,[createBaseVNode("div",{class:"ml-base-dialog-overlay",onClick:L}),createVNode(Oe,{size:"small"},{default:withCtx(()=>[createBaseVNode("div",{class:"ml-base-dialog-container",style:normalizeStyle({width:y.value})},[createBaseVNode("div",So,[createBaseVNode("div",Lo,[$.value?(openBlock(),createElementBlock("span",To,[(openBlock(),createBlock(resolveDynamicComponent($.value),{class:"ml-base-dialog-icon"}))])):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString$1(t.title),1)]),createBaseVNode("div",Bo,[createVNode(ie,{text:"",class:"ml-base-dialog-close",onClick:L},{default:withCtx(()=>[createVNode(j,null,{default:withCtx(()=>[createVNode(unref(xe))]),_:1})]),_:1})])]),createBaseVNode("div",Do,[renderSlot(V.$slots,"default",{},void 0,!0)]),createBaseVNode("div",zo,[createVNode(ie,{onClick:L},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(n)("dialog.baseDialog.cancel")),1)]),_:1}),createVNode(ie,{type:"primary",onClick:k},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(n)("dialog.baseDialog.ok")),1)]),_:1})])],4)]),_:3})])):createCommentVNode("",!0)}}}),W=(t,e)=>{const n=t.__vccOpts||t;for(const[r,g]of e)n[r]=g;return n},Ce=W($o,[["__scopeId","data-v-a16d1a97"]]),Io={ACAD:{la:"Layer properties manager",md:"Replaces missed fonts and images",pttype:"Specifies the display style and size of point objects"},USER:{}},Ao={baseDialog:{ok:"OK",cancel:"Cancel"},replacementDlg:{title:"Replace Missed Data",fontTabName:"Font",imageTabName:"Image",file:"File",replace:"Replace",missedFont:"Missed Font",replacedFont:"Replaced Font",selectFont:"Select font to replace"},pointStyleDlg:{title:"Point Style",pointSize:"Point Size:"},colorPickerDlg:{title:"Select Color",aciTabTitle:"Color Index",rgbTabTitle:"True Color"}},Eo={entityName:{"2dPolyline":"2D Polyline","3dPolyline":"3D Polyline","3PointAngularDimension":"Three Point Angular Dimension",AlignedDimension:"Aligned Dimension",Arc:"Arc",ArcDimension:"Arc Dimension",BlockReference:"Block Reference",Circle:"Circle",Dimension:"Dimension",DiametricDimension:"Diametric Dimension",Ellipse:"Ellipse",Face:"Face",Hatch:"Hatch",Leader:"Leader",Line:"Line",MText:"MText",OrdinateDimension:"Ordinate Dimension",Point:"Point",Polyline:"Polyline",RadialDimension:"Radial Dimension",RasterImage:"Raster Image",Ray:"Ray",Spline:"Spline",Table:"Table",Trace:"Trace",Text:"Text",Xline:"Xline"},color:{aliceblue:"Alice Blue",antiquewhite:"Antique White",aqua:"Aqua",aquamarine:"Aquamarine",azure:"Azure",beige:"Beige",bisque:"Bisque",black:"Black",blanchedalmond:"Blanched Almond",blue:"Blue",blueviolet:"Blue Violet",brown:"Brown",burlywood:"Burlywood",cadetblue:"Cadet Blue",chartreuse:"Chartreuse",chocolate:"Chocolate",coral:"Coral",cornflowerblue:"Cornflower Blue",cornsilk:"Corn Silk",crimson:"Crimson",cyan:"Cyan",darkblue:"Dark Blue",darkcyan:"Dark Cyan",darkgoldenrod:"Dark Goldenrod",darkgray:"Dark Gray",darkgreen:"Dark Green",darkkhaki:"Dark Khaki",darkmagenta:"Dark Magenta",darkolivegreen:"Dark Olive Green",darkorange:"Dark Orange",darkorchid:"Dark Orchid",darkred:"Dark Red",darksalmon:"Dark Salmon",darkseagreen:"Dark Sea Green",darkslateblue:"Dark Slate Blue",darkslategray:"Dark Slate Gray",darkturquoise:"Dark Turquoise",darkviolet:"Dark Violet",deeppink:"Deep Pink",deepskyblue:"Deep Sky Blue",dimgrey:"Dim Grey",dodgerblue:"Dodger Blue",firebrick:"Fire Brick",floralwhite:"Floral White",forestgreen:"Forest Green",fuchsia:"Fuchsia",gainsboro:"Gainsboro",ghostwhite:"Ghost White",gold:"Gold",goldenrod:"Goldenrod",gray:"Gray",green:"Green",greenyellow:"Green Yellow",grey:"Grey",honeydew:"Honeydew",hotpink:"Hot Pink",indianred:"Indian Red",indigo:"Indigo",ivory:"Ivory",khaki:"Khaki",lavender:"Lavender",lavenderblush:"Lavender Blush",lawngreen:"Lawn Green",lemonchiffon:"Lemon Chiffon",lightblue:"Light Blue",lightcoral:"Light Coral",lightcyan:"Light Cyan",lightgoldenrodyellow:"Light Goldenrod Yellow",lightgray:"Light Gray",lightgreen:"Light Green",lightgrey:"Light Grey",lightpink:"Light Pink",lightsalmon:"Light Salmon",lightseagreen:"Light Sea Green",lightskyblue:"Light Sky Blue",lightslategray:"Light Slate Gray",lightslategrey:"Light Slate Grey",lightsteelblue:"Light Steel Blue",lightyellow:"Light Yellow",lime:"Lime",limegreen:"Lime Green",linen:"Linen",magenta:"Magenta",maroon:"Maroon",mediumaquamarine:"Medium Aquamarine",mediumblue:"Medium Blue",mediumorchid:"Medium Orchid",mediumpurple:"Medium Purple",mediumseagreen:"Medium Sea Green",mediumslateblue:"Medium Slate Blue",mediumspringgreen:"Medium Spring Green",mediumturquoise:"Medium Turquoise",mediumvioletred:"Medium Violet Red",midnightblue:"Midnight Blue",mintcream:"Mint Cream",mistyrose:"Misty Rose",moccasin:"Moccasin",navajowhite:"Navajo White",navy:"Navy",oldlace:"Oldlace",olive:"Olive",olivedrab:"Olive Drab",orange:"Orange",orangered:"Orange Red",orchid:"Orchid",palegoldenrod:"Pale Goldenrod",palegreen:"Pale Green",paleturquoise:"Paletur Quoise",palevioletred:"Pale Violet Red",papayawhip:"Papaya Whip",peachpuff:"Peachpuff",peru:"Peru",pink:"Pink",plum:"Plum",powderblue:"Powder Blue",purple:"purple",rebeccapurple:"Rebeccapurple",red:"Red",rosybrown:"Rosy Brown",royalblue:"Royal Blue",saddlebrown:"Saddle Brown",salmon:"Salmon",sandybrown:"Sandy Brown",seagreen:"Sea Green",seashell:"Seashell",sienna:"Sienna",silver:"Silver",skyblue:"Skyblue",slateblue:"Slate Blue",slategrey:"Slate Grey",snow:"Snow",springgreen:"Spring Green",steelblue:"Steel Blue",tan:"Tan",teal:"Teal",thistle:"Thistle",tomato:"Tomato",turquoise:"Turquoise",violet:"Violet",wheat:"Wheat",white:"White",whitesmoke:"White Smoke",yellow:"Yellow",yellowgreen:"Yellow Green"},enum:{TopLeft:"Top Left",TopCenter:"Top Center",TopRight:"Top Right",MiddleLeft:"Middle Left",MiddleCenter:"Middle Center",MiddleRight:"Middle Right",BottomLeft:"Bottom Left",BottomCenter:"Bottom Center",BottomRight:"Bottom Right",LEFT_TO_RIGHT:"Left to Right",RIGHT_TO_LEFT:"Right to Left",TOP_TO_BOTTOM:"Top to Bottom",BOTTOM_TO_TOP:"Bottom to Top",BY_STYLE:"By Style",UserDefined:"User Defined",Predefined:"Predefined",Custom:"Custom"},property:{general:"General",geometry:"Geometry",pattern:"Pattern",table:"Table",patternType:"Type",patternName:"Name",patternAngle:"Angle",patternScale:"Scale",elevation:"Elevation",text:"Text",handle:"Handle",color:"Color",layer:"Layer",linetype:"Linetype",linetypeScale:"Linetype Scale",lineWeight:"Lineweight",thickness:"Thickness",transparency:"Transparency",startX:"Start X",startY:"Start Y",startZ:"Start Z",endX:"End X",endY:"End Y",endZ:"End Z",length:"Length",arcLength:"Arc Length",totalAngle:"Total Angle",centerX:"Center X",centerY:"Center Y",centerZ:"Center Z",radius:"Radius",diameter:"Diameter",normalX:"Normal X",normalY:"Normal Y",normalZ:"Normal Z",startAngle:"Start Angle",endAngle:"End Angle",perimeter:"Perimeter",area:"Area",majorAxisRadius:"Major Radius",minorAxisRadius:"Minor Radius",blockName:"Block Name",positionX:"Position X",positionY:"Position Y",positionZ:"Position Z",rotation:"Rotation",scaleFactorsX:"Scale X",scaleFactorsY:"Scale Y",scaleFactorsZ:"Scale Z",basePointX:"Base Point X",basePointY:"Base Point Y",basePointZ:"Base Point Z",unitDirX:"Unit Dir X",unitDirY:"Unit Dir Y",unitDirZ:"Unit Dir Z",contents:"Contents",styleName:"Style",attachmentPoint:"Attachment Point",drawingDirection:"Drawing Direction",textHeight:"Text Height",lineSpacingFactor:"Line Spacing Factor",definedWidth:"Defined Width",directionX:"Direction X",directionY:"Direction Y",directionZ:"Direction Z",locationX:"Location X",locationY:"Location Y",locationZ:"Location Z",x:"X",y:"Y",z:"Z",numRows:"Number of Rows",numColumns:"Number of Columns",tableWidth:"Table Width",tableHeight:"Table Height"}},No={mainMenu:{new:"New Drawing",open:"Open Drawing",export:"Export to SVG"},verticalToolbar:{select:{text:"Select",description:"Selects entities"},pan:{text:"Pan",description:"Shifts the view without changing the viewing direction or magnification"},zoomToExtent:{text:"Zoom Extents",description:"Zooms to display the maximum extents of all entities"},zoomToBox:{text:"Zoom Window",description:"Zooms to display an area specified by a rectangular window"},layer:{text:"Layer",description:"Manages layers"}},statusBar:{setting:{tooltip:"Display Settings",commandLine:"Command Line",coordinate:"Coordinate",entityInfo:"Entity Info",languageSelector:"Language Selector",mainMenu:"Main Menu",toolbar:"Toolbar",stats:"Statistics"},pointStyle:{tooltip:"Modify point style"},fullScreen:{on:"Turn on full screen mode",off:"Turn off full screen mode"},theme:{dark:"Switch to dark theme",light:"Switch to light light"},warning:{font:"The following fonts are not found!"},notification:{tooltip:"Show notifications"}},toolPalette:{entityProperties:{tab:"Properties",title:"Entity Properties",propertyPanel:{noEntitySelected:"No entity selected!",multipleEntitySelected:"{count} entities selected",propValCopied:"Property value copied",failedToCopyPropVal:"Failed to copy property value!"}},layerManager:{tab:"Layers",title:"Layer Manager",layerList:{name:"Name",on:"On",color:"Color",zoomToLayer:'Zoomed to the clicked layer "{layer}"'}}},colorDropdown:{custom:"Custom"},colorIndexPicker:{color:"Color: ",colorIndex:"Color Index: ",inputPlaceholder:"0-256, BYLAYER, BYBLOCK",rgb:"RGB: "},entityInfo:{color:"Color",layer:"Layer",lineType:"Linetype"},message:{loadingFonts:"Loading fonts ...",loadingDwgConverter:"Loading DWG converter...",fontsNotFound:'Fonts "{fonts}" can not be found in font repository!',fontsNotLoaded:'Fonts "{fonts}" can not be loaded!',failedToGetAvaiableFonts:'Failed to get avaiable fonts from "{url}"!',failedToOpenFile:'Failed to open file "{fileName}"!',fetchingDrawingFile:"Fetching file ...",unknownEntities:"This drawing contains {count} unknown or unsupported entities! Those entities will not be shown."},notification:{center:{title:"Notifications",clearAll:"Clear All",noNotifications:"No notifications"},time:{justNow:"Just now",minutesAgo:"{count} minute ago | {count} minutes ago",hoursAgo:"{count} hour ago | {count} hours ago",daysAgo:"{count} day ago | {count} days ago"},title:{failedToOpenFile:"Failed to Open File",fontNotFound:"Font Not Found",fontNotLoaded:"Font Not Loaded",parsingWarning:"Issues on Parsing Drawing"}}},Fo={ACAD:{la:"",md:"",pttype:""},USER:{}},Ro={baseDialog:{ok:"",cancel:""},replacementDlg:{title:"",fontTabName:"",imageTabName:"",file:"",replace:"",missedFont:"",replacedFont:"",selectFont:""},pointStyleDlg:{title:"",pointSize:":"},colorPickerDlg:{title:"",aciTabTitle:"",rgbTabTitle:""}},Oo={entityName:{"2dPolyline":"","3dPolyline":"","3PointAngularDimension":"",AlignedDimension:"",Arc:"",ArcDimension:"",BlockReference:"",Circle:"",Dimension:"",DiametricDimension:"",Ellipse:"",Face:"",Hatch:"",Leader:"",Line:"",MText:"",OrdinateDimension:"",Point:"",Polyline:"",RadialDimension:"",RasterImage:"",Ray:"",Spline:"",Table:"",Trace:"",Text:"",Xline:""},color:{aliceblue:"",antiquewhite:"",aqua:"",aquamarine:"",azure:"",beige:"",bisque:"",black:"",blanchedalmond:"",blue:"",blueviolet:"",brown:"",burlywood:"",cadetblue:"",chartreuse:"",chocolate:"",coral:"",cornflowerblue:"",cornsilk:"",crimson:"",cyan:"",darkblue:"",darkcyan:"",darkgoldenrod:"",darkgray:"	",darkgreen:"",darkkhaki:"",darkmagenta:"",darkolivegreen:"",darkorange:"",darkorchid:"",darkred:"",darksalmon:"",darkseagreen:"",darkslateblue:"",darkslategray:"",darkturquoise:"",darkviolet:"",deeppink:"",deepskyblue:"",dimgrey:"",dodgerblue:"",firebrick:"",floralwhite:"",forestgreen:"",fuchsia:"",gainsboro:"Gainsboro",ghostwhite:"",gold:"",goldenrod:"",gray:"",green:"",greenyellow:"",grey:"",honeydew:"",hotpink:"",indianred:"",indigo:"",ivory:"",khaki:"",lavender:"",lavenderblush:"",lawngreen:"",lemonchiffon:" ",lightblue:"",lightcoral:"",lightcyan:"",lightgoldenrodyellow:"",lightgray:"",lightgreen:"",lightgrey:"",lightpink:"",lightsalmon:"",lightseagreen:"",lightskyblue:"",lightslategray:"",lightslategrey:"",lightsteelblue:"",lightyellow:"",lime:"",limegreen:"",linen:"",magenta:"",maroon:"",mediumaquamarine:"",mediumblue:"",mediumorchid:"",mediumpurple:"",mediumseagreen:"",mediumslateblue:"",mediumspringgreen:"",mediumturquoise:"",mediumvioletred:"",midnightblue:"",mintcream:"",mistyrose:"",moccasin:"",navajowhite:"",navy:"",oldlace:"",olive:"",olivedrab:"",orange:"",orangered:"",orchid:"",palegoldenrod:"",palegreen:"",paleturquoise:"",palevioletred:"",papayawhip:"",peachpuff:"",peru:"",pink:"",plum:"",powderblue:"",purple:"",rebeccapurple:"",red:"",rosybrown:"",royalblue:"",saddlebrown:"",salmon:"",sandybrown:"",seagreen:"",seashell:"",sienna:"",silver:"",skyblue:"",slateblue:"",slategrey:"",snow:"",springgreen:"",steelblue:"",tan:"",teal:"",thistle:"",tomato:"",turquoise:"",violet:"",wheat:"",white:"",whitesmoke:"",yellow:"",yellowgreen:""},enum:{TopLeft:"",TopCenter:"",TopRight:"",MiddleLeft:"",MiddleCenter:"",MiddleRight:"",BottomLeft:"",BottomCenter:"",BottomRight:"",LEFT_TO_RIGHT:"",RIGHT_TO_LEFT:"",TOP_TO_BOTTOM:"",BOTTOM_TO_TOP:"",BY_STYLE:"",UserDefined:"",Predefined:"",Custom:""},property:{general:"",geometry:"",pattern:"",table:"",patternType:"",patternName:"",patternAngle:"",patternScale:"",elevation:"",text:"",handle:"",color:"",layer:"",linetype:"",linetypeScale:"",lineWeight:"",thickness:"",transparency:"",startX:" X",startY:" Y",startZ:" Z",endX:" X",endY:" Y",endZ:" Z",length:"",arcLength:"",totalAngle:"",centerX:" X",centerY:" Y",centerZ:" Z",radius:"",diameter:"",normalX:" X",normalY:" Y",normalZ:" Z",startAngle:"",endAngle:"",perimeter:"",area:"",majorAxisRadius:"",minorAxisRadius:"",blockName:"",positionX:" X",positionY:" Y",positionZ:" Z",rotation:"",scaleFactorsX:" X",scaleFactorsY:" Y",scaleFactorsZ:" Z",basePointX:" X",basePointY:" Y",basePointZ:" Z",unitDirX:" X",unitDirY:" Y",unitDirZ:" Z",contents:"",styleName:"",attachmentPoint:"",drawingDirection:"",textHeight:"",lineSpacingFactor:"",definedWidth:"",directionX:" X",directionY:" Y",directionZ:" Z",locationX:" X",locationY:" Y",locationZ:" Z",x:"X",y:"Y",z:"Z",numRows:"",numColumns:"",tableWidth:"",tableHeight:""}},Ho={mainMenu:{new:"",open:"",export:"SVG"},verticalToolbar:{select:{text:"",description:""},pan:{text:"",description:""},zoomToExtent:{text:"",description:""},zoomToBox:{text:"",description:""},layer:{text:"",description:""}},statusBar:{setting:{tooltip:"",commandLine:"",coordinate:"",entityInfo:"",languageSelector:"",mainMenu:"",toolbar:"",stats:""},pointStyle:{tooltip:""},fullScreen:{on:"",off:""},theme:{dark:"",light:""},warning:{font:""},notification:{tooltip:""}},toolPalette:{entityProperties:{tab:"",title:"",propertyPanel:{noEntitySelected:"",multipleEntitySelected:"{count}",propValCopied:"",failedToCopyPropVal:""}},layerManager:{tab:"",title:"",layerList:{name:"",on:"",color:"",zoomToLayer:'"{layer}"'}}},colorDropdown:{custom:""},colorIndexPicker:{color:"",colorIndex:"",inputPlaceholder:"0-256, BYLAYER, BYBLOCK",rgb:"RGB: "},entityInfo:{color:"",layer:"",lineType:""},message:{loadingFonts:"...",loadingDwgConverter:"DWG...",fontsNotFound:"{fonts}",fontsNotLoaded:"{fonts}",failedToGetAvaiableFonts:'"{url}"',failedToOpenFile:'"{fileName}"',fetchingDrawingFile:"...",unknownEntities:"{count}"},notification:{center:{title:"",clearAll:"",noNotifications:""},time:{justNow:"",minutesAgo:"{count} ",hoursAgo:"{count} ",daysAgo:"{count} "},title:{failedToOpenFile:"",fontNotFound:"",fontNotLoaded:"",parsingWarning:""}}},Yo=()=>{const t=localStorage.getItem("preferred_lang");return t==="en"||t==="zh"?t:navigator.language.toLowerCase().substring(0,2)==="zh"?"zh":"en"},We={en:{main:No,command:Io,dialog:Ao,entity:Eo},zh:{main:Ho,command:Fo,dialog:Ro,entity:Oo}};ce$1.mergeLocaleMessage("en",We.en);ce$1.mergeLocaleMessage("zh",We.zh);const ae=createI18n({legacy:!1,messages:ce$1.messages,locale:Yo(),fallbackLocale:"en",globalInjection:!0}),Go=t=>{const e=ae.global.t,n="entity.entityName."+t.type;return e(n,t.type,{missingWarn:!1})},De=t=>{const e=ae.global.t,n="entity.property."+t;return e(n,t,{missingWarn:!1})},ze=t=>{const e=ae.global.t,n="entity.enum."+t;return e(n,t,{missingWarn:!0})},Xe=t=>{if(t=="ByLayer"||t=="ByBlock")return t;{const e=ae.global.t,n="entity.color."+t.toLowerCase();return e(n,t,{missingWarn:!1})}},Wo=t=>{const e=ae.global.t,n=`main.toolPalette.${t}.title`;return e(n,t,{missingWarn:!1})},Xo=t=>{const e=ae.global.t,n=`main.toolPalette.${t}.tab`;return e(n,t,{missingWarn:!1})},Uo={class:"ml-color-picker-dlg-panel-body"},Zo={class:"ml-color-picker-dlg-panel-body"},qo=defineComponent({__name:"MlColorPickerDlg",props:{modelValue:{type:Boolean},color:{},title:{}},emits:["update:modelValue","ok","cancel"],setup(t,{emit:e}){const{t:n}=useI18n(),r=t,g=e,$=computed({get:()=>r.modelValue,set:ie=>g("update:modelValue",ie)}),y=ref("aci"),k=ref(void 0),L=ref("#ffffff");function V(ie){if(!ie)return;const Oe=Kr$1.fromString(ie);Oe&&(y.value=Oe.isByColor?"rgb":"aci",Oe.isByLayer?k.value=256:Oe.isByBlock?k.value=0:Oe.isByACI?k.value=Oe.colorIndex:k.value=void 0,L.value=Oe.cssColor??"#ffffff")}V(r.color),watch(()=>r.color,ie=>{V(ie)});function z(){const ie=new Kr$1;if(y.value==="aci")k.value===256?ie.setByLayer():k.value===0?ie.setByBlock():ie.colorIndex=k.value;else if(y.value==="rgb"){const Oe=L.value.replace(/^#/,"");if(Oe.length===6){const ur=parseInt(Oe.substring(0,2),16),hr=parseInt(Oe.substring(2,4),16),Vr=parseInt(Oe.substring(4,6),16);ie.setRGB(ur,hr,Vr)}}g("ok",ie)}function j(){g("cancel",void 0)}return(ie,Oe)=>{const ur=resolveComponent("el-tab-pane"),hr=resolveComponent("el-tabs");return openBlock(),createBlock(unref(Ce),{modelValue:$.value,"onUpdate:modelValue":Oe[3]||(Oe[3]=Vr=>$.value=Vr),title:ie.title,width:500,onOk:z,onCancel:j},{default:withCtx(()=>[createVNode(hr,{modelValue:y.value,"onUpdate:modelValue":Oe[2]||(Oe[2]=Vr=>y.value=Vr)},{default:withCtx(()=>[createVNode(ur,{label:unref(n)("dialog.colorPickerDlg.aciTabTitle"),name:"aci"},{default:withCtx(()=>[createBaseVNode("div",Uo,[createVNode(unref(Il),{modelValue:k.value,"onUpdate:modelValue":Oe[0]||(Oe[0]=Vr=>k.value=Vr)},null,8,["modelValue"])])]),_:1},8,["label"]),createVNode(ur,{label:unref(n)("dialog.colorPickerDlg.rgbTabTitle"),name:"rgb"},{default:withCtx(()=>[createBaseVNode("div",Zo,[createVNode(unref(ElColorPickerPanel),{modelValue:L.value,"onUpdate:modelValue":Oe[1]||(Oe[1]=Vr=>L.value=Vr)},null,8,["modelValue"])])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])}}}),Ue=W(qo,[["__scopeId","data-v-7a7eb144"]]);function $e(t,e="en-US"){const n=Math.abs(t);if(n!==0&&(n<.001||n>=1e6)){const[r,g]=t.toExponential(3).split("e");return`${new Intl.NumberFormat(e,{maximumFractionDigits:3}).format(Number(r))}e${g}`}else return new Intl.NumberFormat(e,{maximumFractionDigits:6}).format(t)}function jo(t){const e=ref(0),n=ref(0);function r($){e.value=$.x,n.value=$.y}onMounted(()=>t.events.mouseMove.addEventListener(r)),onUnmounted(()=>t.events.mouseMove.removeEventListener(r));const g=computed(()=>`${$e(e.value)}, ${$e(n.value)}`);return{x:e,y:n,text:g}}const Ko=useDark();useToggle(Ko);const ue=reactive([]);function Qo(t){ue.find(e=>e.name===t.name)||ue.push({...t,visible:!1})}function Jo(t,e){const n=ue.find(r=>r.name===t);n&&(n.visible=e)}function el(t){return ue.find(e=>e.name===t)}function fe(){return{dialogs:computed(()=>ue),registerDialog:Qo,toggleDialog:Jo,getDialogByName:el}}function tl(){const t=ref(new Set),e=Nr$1.instance;for(const n of e.fileTypes)t.value.add(n);return e.events.registered.addEventListener(n=>{t.value.add(n.fileType)}),t}function nl(){const t=ref(!1),e=ref(null),n=ref(null),r=ref({x:-1,y:-1}),g=y=>{const k=ee$1.instance.curDocument.database.tables.blockTable.modelSpace.getIdAt(y.id);k?(e.value=k,n.value=y.id,t.value=!0,r.value={x:y.x,y:y.y}):(t.value=!1,e.value=null,n.value=null)},$=()=>{t.value=!1,e.value=null,n.value=null};return onMounted(()=>{const y=ee$1.instance.curView.events;y.hover.addEventListener(g),y.unhover.addEventListener($)}),onUnmounted(()=>{const y=ee$1.instance.curView.events;y.hover.removeEventListener(g),y.unhover.removeEventListener($)}),{hovered:t,entity:e,id:n,mouse:r}}function ol(t){const e=reactive([]),n=t.curDocument,r=g=>{const $=g.tables.layerTable.newIterator();for(const y of $)e.push({name:y.name,color:y.color.toString(),isLocked:y.isLocked,isHidden:y.isHidden,isInUse:y.isInUse,isOn:!y.isOff,isPlottable:y.isPlottable,transparency:y.transparency.toString(),linetype:y.linetype,lineWeight:y.lineWeight})};return r(n.database),n.database.events.layerModified.addEventListener(g=>{let $=e.find(y=>y.name==g.layer.name);if($){$=$;const y=g.changes;y.color!=null&&($.color=y.color.toString()),y.isLocoked!=null&&($.isLocked=y.isLocked),y.isHidden!=null&&($.isHidden=y.isHidden),y.isInUse!=null&&($.isInUse=y.isInUse),y.isOff!=null&&($.isOn=!y.isOff),y.isPlottable!=null&&($.isPlottable=y.isPlottable),y.transparency!=null&&($.transparency=y.transparency.toString()),y.linetype!=null&&($.linetype=y.linetype),y.lineWeight!=null&&($.lineWeight=y.lineWeight)}}),t.events.documentActivated.addEventListener(g=>{e.length=0,r(g.doc.database)}),e}function ll(t){const e=reactive([]),n=t.curDocument,r=g=>{const $=g.dictionaries.layouts.newIterator();e.length=0;for(const y of $)e.push({name:y.layoutName,tabOrder:y.tabOrder,blockTableRecordId:y.blockTableRecordId,isActive:y.blockTableRecordId==g.currentSpaceId});e.sort((y,k)=>y.tabOrder-k.tabOrder)};return r(n.database),t.events.documentActivated.addEventListener(g=>{e.length=0,r(g.doc.database)}),Gh$1().layoutManager.events.layoutSwitched.addEventListener(g=>{const $=g.layout;e.forEach(y=>{y.name==$.layoutName?y.isActive=!0:y.isActive=!1})}),e}const we="preferred_lang";function Ze(t){const{locale:e}=useI18n(),n=ref((()=>{const k=localStorage.getItem(we);if(k==="en"||k==="zh")return k;const L=navigator.language.toLowerCase().substring(0,2)==="zh"?"zh":"en";return ce$1.setCurrentLocale(L),L})()),r=computed(()=>n.value),g=k=>{ae.global.locale.value=k,n.value=k,(!t||t==="default")&&localStorage.setItem(we,k),ce$1.setCurrentLocale(k)},$=()=>{localStorage.removeItem(we)};t&&watch(()=>t,k=>{k&&k!=="default"&&g(k)},{immediate:!0}),watch(()=>e.value,k=>{(!t||t==="default")&&g(k==="zh"?"zh":"en")});const y=computed(()=>r.value==="en"?English:zhCn);return{currentLocale:n,effectiveLocale:r,elementPlusLocale:y,setLocale:g,clearStoragePreference:$,isControlled:computed(()=>!!(t&&t!=="default"))}}function qe(){const t=reactive(new Map),e=reactive(new Map),n=()=>{const r=ee$1.instance.curView.missedData,g=Ze$2.instance.fontMapping;t.clear(),Object.keys(r.fonts).forEach($=>{const y=g[$];t.set($,y||"")}),e.clear(),r.images.forEach(($,y)=>{const k=e.get($);k?k.ids.add(y):e.set($,{fileName:$,ids:new Set([y])})})};return ee$1.instance.events.documentActivated.addEventListener(()=>{n()}),ot$1.on("font-not-found",r=>{n()}),{fonts:t,images:e}}class al{constructor(){this.notifications=ref([]),this.nextId=1}get allNotifications(){return computed(()=>this.notifications.value)}get unreadCount(){return computed(()=>this.notifications.value.length)}get hasNotifications(){return computed(()=>this.notifications.value.length>0)}add(e){const n={...e,id:`notification-${this.nextId++}`,timestamp:new Date};return this.notifications.value.unshift(n),n.id}remove(e){const n=this.notifications.value.findIndex(r=>r.id===e);n>-1&&this.notifications.value.splice(n,1)}clear(){this.notifications.value=[]}clearAll(){this.clear()}info(e,n,r){return this.add({type:"info",title:e,message:n,...r})}warning(e,n,r){return this.add({type:"warning",title:e,message:n,...r})}error(e,n,r){return this.add({type:"error",title:e,message:n,persistent:!0,...r})}success(e,n,r){return this.add({type:"success",title:e,message:n,...r})}}const G=new al;function he(){return{notifications:G.allNotifications,unreadCount:G.unreadCount,hasNotifications:G.hasNotifications,add:G.add.bind(G),remove:G.remove.bind(G),clear:G.clear.bind(G),clearAll:G.clearAll.bind(G),info:G.info.bind(G),warning:G.warning.bind(G),error:G.error.bind(G),success:G.success.bind(G)}}function il(){const t=ref([]),e=ref([]),n=ref([]),r=$=>{e.value=$.ids,t.value=ee$1.instance.curView.selectionSet.ids},g=$=>{n.value=$.ids,t.value=ee$1.instance.curView.selectionSet.ids};return onMounted(()=>{const $=ee$1.instance.curView.selectionSet.events;$.selectionAdded.addEventListener(r),$.selectionRemoved.addEventListener(g)}),onUnmounted(()=>{const $=ee$1.instance.curView.selectionSet.events;$.selectionAdded.removeEventListener(r),$.selectionRemoved.removeEventListener(g)}),{selectionSet:t,added:e,removed:n}}function me(){const t=reactive(Ze$2.instance.settings);return Ze$2.instance.events.modified.addEventListener(e=>{t[e.key]=e.value}),t}function rl(t){const e=reactive({}),n=t.curDocument,r=g=>{e.pdmode=g.pdmode,e.pdmode=g.pdsize};return r(n.database),n.database.events.headerSysVarChanged.addEventListener(g=>{e[g.name]=g.database[g.name]}),t.events.documentActivated.addEventListener(g=>{r(g.doc.database)}),e}function sl(){const t=useMediaQuery("(max-width: 768px)"),e=ref(!1),n=ref(!1);return onMounted(()=>{var r;try{const g=window.navigator,$=g.maxTouchPoints??g.msMaxTouchPoints??0,y=((r=window.matchMedia)==null?void 0:r.call(window,"(pointer: coarse)").matches)??!1;e.value=$>0||y||"ontouchstart"in window;const k=g.userAgent||"";n.value=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(k)}catch{e.value=!1,n.value=!1}}),{isMobile:computed(()=>!!t.value&&(e.value||n.value))}}const cl=defineComponent({__name:"MlPointStyleDlg",setup(t){const{t:e}=useI18n(),n=rl(ee$1.instance),r=ref(!0),g=ref(0),$=[[{id:0,icon:wn},{id:1,icon:xn},{id:2,icon:Sn},{id:3,icon:Bn},{id:4,icon:$n}],[{id:32,icon:In},{id:33,icon:Nn},{id:34,icon:On},{id:35,icon:Gn},{id:36,icon:Un}],[{id:64,icon:jn},{id:65,icon:Jn},{id:66,icon:no},{id:67,icon:ao},{id:68,icon:so}],[{id:96,icon:mo},{id:97,icon:go},{id:98,icon:_o},{id:99,icon:bo},{id:100,icon:Co}]],y=()=>{n.pdmode&&(g.value=n.pdmode)};y();const k=(j,ie)=>$[j][ie].id==g.value?"primary":null,L=(j,ie)=>{g.value=$[j][ie].id},V=()=>{ee$1.instance.curDocument.database.pdmode=g.value},z=()=>{y()};return(j,ie)=>{const Oe=resolveComponent("el-button"),ur=resolveComponent("el-col"),hr=resolveComponent("el-row");return openBlock(),createBlock(Ce,{title:unref(e)("dialog.pointStyleDlg.title"),width:400,modelValue:r.value,"onUpdate:modelValue":ie[0]||(ie[0]=Vr=>r.value=Vr),name:"PointStyleDlg",onOk:V,onCancel:z},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList($,(Vr,dr)=>createVNode(hr,{key:dr,style:{"margin-top":"10px"},gutter:6,justify:"space-between"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Vr,(ec,tc)=>(openBlock(),createBlock(ur,{key:tc,span:4},{default:withCtx(()=>[createVNode(Oe,{icon:ec.icon,type:k(dr,tc),onClick:Xs=>L(dr,tc),style:{"font-size":"25px"}},null,8,["icon","type","onClick"])]),_:2},1024))),128))]),_:2},1024)),64))]),_:1},8,["title","modelValue"])}}}),ul=defineComponent({__name:"MlReplacementDlg",setup(t){const{t:e}=useI18n(),{fonts:n,images:r}=qe(),g=ref(!0),$=computed(()=>n.size>0?"font":"image"),y=ref(null),k=ref([]),L=()=>{const Oe=ee$1.instance.avaiableFonts;k.value=Oe.map(ur=>ur.name[0])},V=()=>{const Oe=ee$1.instance.curDocument.database;r.forEach(hr=>{hr.file&&hr.ids.forEach(Vr=>{const dr=Oe.tables.blockTable.modelSpace.getIdAt(Vr);dr.image=hr.file,dr.triggerModifiedEvent()})});const ur=Ze$2.instance;n.forEach((hr,Vr)=>{Vr&&hr&&ur.setFontMapping(Vr,hr)})},z=Oe=>{y.value&&(y.value.click(),y.value.onchange=()=>{j(Oe)})},j=Oe=>{var ur,hr;const Vr=(hr=(ur=y.value)==null?void 0:ur.files)==null?void 0:hr[0];Vr&&(Oe.file=Vr)},ie=(Oe,ur)=>{n.set(Oe,ur)};return(Oe,ur)=>{const hr=resolveComponent("el-col"),Vr=resolveComponent("el-row"),dr=resolveComponent("el-option"),ec=resolveComponent("el-select"),tc=resolveComponent("el-tab-pane"),Xs=resolveComponent("el-table-column"),rc=resolveComponent("el-button"),ic=resolveComponent("el-table"),_c=resolveComponent("el-tabs");return openBlock(),createBlock(Ce,{title:unref(e)("dialog.replacementDlg.title"),modelValue:g.value,"onUpdate:modelValue":ur[1]||(ur[1]=qm=>g.value=qm),name:"ReplacementDlg",onOk:V,onOpen:L},{default:withCtx(()=>[createVNode(_c,{size:"small",modelValue:$.value,"onUpdate:modelValue":ur[0]||(ur[0]=qm=>$.value=qm)},{default:withCtx(()=>[unref(n).size>0?(openBlock(),createBlock(tc,{key:0,label:unref(e)("dialog.replacementDlg.fontTabName"),name:"font"},{default:withCtx(()=>[createBaseVNode("div",null,[createVNode(Vr,null,{default:withCtx(()=>[createVNode(hr,{span:12},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(unref(e)("dialog.replacementDlg.missedFont")),1)]),_:1}),createVNode(hr,{span:12},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(unref(e)("dialog.replacementDlg.replacedFont")),1)]),_:1})]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),([qm,Xm])=>(openBlock(),createBlock(Vr,{key:qm,style:{"margin-top":"10px"}},{default:withCtx(()=>[createVNode(hr,{span:12},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(qm),1)]),_:2},1024),createVNode(hr,{span:12},{default:withCtx(()=>[createVNode(ec,{"model-value":Xm,placeholder:unref(e)("dialog.replacementDlg.selectFont"),"onUpdate:modelValue":Km=>ie(qm,Km),style:{width:"100%"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.value,(Km,tv)=>(openBlock(),createBlock(dr,{key:tv,label:Km,value:Km},null,8,["label","value"]))),128))]),_:2},1032,["model-value","placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),_:1},8,["label"])):createCommentVNode("",!0),unref(r).size>0?(openBlock(),createBlock(tc,{key:1,label:unref(e)("dialog.replacementDlg.imageTabName"),name:"image"},{default:withCtx(()=>[createVNode(ic,{data:Array.from(unref(r).values()),style:{width:"100%"},"v-show":!1},{default:withCtx(()=>[createVNode(Xs,{label:unref(e)("dialog.replacementDlg.file"),prop:"fileName","min-width":0,flex:1},null,8,["label"]),createVNode(Xs,{label:unref(e)("dialog.replacementDlg.replace"),fixed:"right",width:"60"},{default:withCtx(({row:qm})=>[createVNode(rc,{link:"",type:"primary",size:"small",onClick:Xm=>z(qm)},{default:withCtx(()=>ur[2]||(ur[2]=[createTextVNode(" ... ",-1)])),_:2,__:[2]},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),createBaseVNode("input",{type:"file",ref_key:"fileInput",ref:y,accept:".png,.jpg,.jpeg",onChange:j,style:{display:"none"}},null,544)]),_:1},8,["label"])):createCommentVNode("",!0)]),_:1},8,["modelValue"])]),_:1},8,["title","modelValue"])}}}),dl={class:"ml-color-dropdown-color-item"},ml={class:"ml-color-dropdown-color-name"},pl={class:"ml-color-dropdown-color-item"},vl={class:"ml-color-dropdown-color-name"},gl={class:"ml-color-dropdown-color-item"},fl={class:"ml-color-dropdown-color-name"},hl=defineComponent({__name:"MlColorDropdown",props:{modelValue:{},disabled:{type:Boolean},onCustomColorSelected:{type:Function}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,{t:g}=useI18n(),$=ref(!1),y=ref(ur(n.modelValue)),k=computed(()=>{var ec;return(ec=n.modelValue)==null?void 0:ec.toString()}),L=computed(()=>Vr(y.value)),V=[{key:"bylayer",name:"ByLayer"},{key:"byblock",name:"ByBlock"},{key:"aci-1",name:"Red"},{key:"aci-2",name:"Yellow"},{key:"aci-3",name:"Green"},{key:"aci-4",name:"Cyan"},{key:"aci-5",name:"Blue"},{key:"aci-6",name:"Magenta"}],z=computed(()=>V.map(ec=>({...ec,i18nName:Xe(ec.name)})));async function j(ec){if(n.disabled){y.value=ur(n.modelValue);return}if(ec==="custom-trigger"){if(n.onCustomColorSelected){const Xs=await n.onCustomColorSelected(n.modelValue);Xs?(r("update:modelValue",Xs),y.value=ur(Xs)):y.value=ur(n.modelValue);return}$.value=!0;return}const tc=hr(ec);r("update:modelValue",tc)}function ie(ec){n.disabled||(r("update:modelValue",ec),y.value=ur(ec))}function Oe(){y.value=ur(n.modelValue)}function ur(ec){return ec?ec.isByLayer?"bylayer":ec.isByBlock?"byblock":ec.isByACI?`aci-${ec.colorIndex}`:ec.isByColor?`rgb-${ec.red}-${ec.green}-${ec.blue}`:"":""}function hr(ec){const tc=new Kr$1;if(ec==="bylayer")tc.setByLayer();else if(ec==="byblock")tc.setByBlock();else if(ec.startsWith("aci-"))tc.colorIndex=Number(ec.substring(4));else if(ec.startsWith("rgb-")){const[Xs,rc,ic,_c]=ec.split("-");tc.setRGB(Number(rc),Number(ic),Number(_c))}return tc}function Vr(ec){if(!ec)return"";if(ec.startsWith("aci-"))return new Kr$1(mt$2.ByACI,Number(ec.substring(4))).cssColor??"";if(ec.startsWith("rgb-")){const[tc,Xs,rc,ic]=ec.split("-");return`rgb(${Xs}, ${rc}, ${ic})`}return"#FFFFFF"}function dr(ec){const tc=z.value.find(Xs=>Xs.key===ec);return tc?tc.i18nName:ec.startsWith("rgb-")?g("main.colors.CustomColor"):""}return(ec,tc)=>{const Xs=resolveComponent("el-option"),rc=resolveComponent("el-select");return openBlock(),createElementBlock("div",null,[createVNode(rc,{modelValue:y.value,"onUpdate:modelValue":tc[0]||(tc[0]=ic=>y.value=ic),onChange:j,disabled:n.disabled},{label:withCtx(()=>[createBaseVNode("div",dl,[createBaseVNode("span",{class:"ml-color-dropdown-color-preview",style:normalizeStyle({backgroundColor:L.value})},null,4),createBaseVNode("span",ml,toDisplayString$1(dr(y.value)),1)])]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(z.value,ic=>(openBlock(),createBlock(Xs,{key:ic.key,label:ic.i18nName,value:ic.key},{default:withCtx(()=>[createBaseVNode("div",pl,[createBaseVNode("span",{class:"ml-color-dropdown-color-preview",style:normalizeStyle({backgroundColor:Vr(ic.key)})},null,4),createBaseVNode("span",vl,toDisplayString$1(ic.i18nName),1)])]),_:2},1032,["label","value"]))),128)),createVNode(Xs,{key:"custom-trigger",value:"custom-trigger",label:unref(g)("main.colorDropdown.custom"),disabled:n.disabled},{default:withCtx(()=>[createBaseVNode("div",gl,[tc[2]||(tc[2]=createBaseVNode("span",{class:"ml-color-dropdown-custom-icon"},"",-1)),createBaseVNode("span",fl,toDisplayString$1(unref(g)("main.colorDropdown.custom")),1)])]),_:1},8,["label","disabled"])]),_:1},8,["modelValue","disabled"]),createVNode(unref(Ue),{modelValue:$.value,"onUpdate:modelValue":tc[1]||(tc[1]=ic=>$.value=ic),title:unref(g)("dialog.colorPickerDlg.title"),color:k.value,onOk:ie,onCancel:Oe},null,8,["modelValue","title","color"])])}}}),Ve=W(hl,[["__scopeId","data-v-9fdf03ed"]]),_l={class:"ml-aci-picker"},yl={class:"ml-aci-palette ml-aci-palette-large"},wl=["onMouseenter","onClick"],bl={class:"ml-aci-small-row"},kl={class:"ml-aci-palette ml-aci-palette-small"},xl=["onMouseenter","onClick"],Cl={class:"ml-aci-small-actions"},Ml={class:"ml-aci-palette ml-aci-palette-gray"},Sl=["onMouseenter","onClick"],Ll={class:"ml-aci-bottom-row"},Tl={class:"ml-aci-bottom-left"},Bl={class:"ml-aci-info-row"},Dl={class:"ml-aci-info-left"},zl={class:"ml-aci-info-right"},$l={class:"ml-aci-input-row"},Vl=["placeholder"],Pl=defineComponent({__name:"MlColorIndexPicker",props:{modelValue:{type:Number,default:256}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e,r=t,{t:g}=useI18n(),$=Array.from({length:9},(tc,Xs)=>Xs+1),y=Array.from({length:240},(tc,Xs)=>Xs+10),k=Array.from({length:6},(tc,Xs)=>Xs+250),L=ref(r.modelValue??null),V=ref(r.modelValue!=null?String(r.modelValue):""),z=ref(null),j=ref({r:0,g:0,b:0}),ie=tc=>{const Xs=new Kr$1;return Xs.colorIndex=tc,Xs.cssColor||"#FFF"};function Oe(tc){z.value=tc;const Xs=new Kr$1;Xs.colorIndex=tc,j.value={r:Xs.red??0,g:Xs.green??0,b:Xs.blue??0}}function ur(){z.value=null}function hr(tc){L.value=tc,V.value=tc.toString(),n("update:modelValue",tc)}watch(()=>r.modelValue,tc=>{tc==null?(L.value=null,V.value=""):(L.value=tc,V.value=String(tc))});function Vr(){const tc=V.value.trim().toUpperCase();if(tc==="BYLAYER")return hr(256);if(tc==="BYBLOCK")return hr(0);const Xs=Number(tc);if(!Number.isInteger(Xs)||Xs<0||Xs>256){V.value="";return}hr(Xs)}const dr=computed(()=>L.value==null?"":L.value),ec=computed(()=>{if(L.value==null||L.value===0||L.value===256)return"";const tc=new Kr$1;return tc.colorIndex=L.value,`${tc.red}, ${tc.green}, ${tc.blue}`});return(tc,Xs)=>(openBlock(),createElementBlock("div",_l,[createBaseVNode("div",yl,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(y),rc=>(openBlock(),createElementBlock("div",{key:rc,class:"ml-aci-color-cell",style:normalizeStyle({background:ie(rc)}),onMouseenter:ic=>Oe(rc),onMouseleave:ur,onClick:ic=>hr(rc)},null,44,wl))),128))]),createBaseVNode("div",bl,[createBaseVNode("div",kl,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),rc=>(openBlock(),createElementBlock("div",{key:rc,class:"ml-aci-color-cell",style:normalizeStyle({background:ie(rc)}),onMouseenter:ic=>Oe(rc),onMouseleave:ur,onClick:ic=>hr(rc)},null,44,xl))),128))]),createBaseVNode("div",Cl,[createBaseVNode("button",{type:"button",onClick:Xs[0]||(Xs[0]=rc=>hr(256))},"ByLayer"),createBaseVNode("button",{type:"button",onClick:Xs[1]||(Xs[1]=rc=>hr(0))},"ByBlock")])]),createBaseVNode("div",Ml,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(k),rc=>(openBlock(),createElementBlock("div",{key:rc,class:"ml-aci-color-cell",style:normalizeStyle({background:ie(rc)}),onMouseenter:ic=>Oe(rc),onMouseleave:ur,onClick:ic=>hr(rc)},null,44,Sl))),128))]),createBaseVNode("div",Ll,[createBaseVNode("div",Tl,[createBaseVNode("div",Bl,[createBaseVNode("div",Dl,toDisplayString$1(unref(g)("main.colorIndexPicker.colorIndex"))+toDisplayString$1(dr.value),1),createBaseVNode("div",zl,toDisplayString$1(unref(g)("main.colorIndexPicker.rgb"))+toDisplayString$1(ec.value),1)]),createBaseVNode("div",$l,[createBaseVNode("span",null,toDisplayString$1(unref(g)("main.colorIndexPicker.color")),1),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Xs[2]||(Xs[2]=rc=>V.value=rc),onKeydown:withKeys(Vr,["enter"]),placeholder:unref(g)("main.colorIndexPicker.inputPlaceholder")},null,40,Vl),[[vModelText,V.value]])])]),createBaseVNode("div",{class:"ml-aci-preview-box",style:normalizeStyle({background:L.value!==null?ie(L.value):"#000"})},null,4)])]))}}),Il=W(Pl,[["__scopeId","data-v-0c39bc11"]]),Al=defineComponent({__name:"MlDialogManager",setup(t,{expose:e}){const{dialogs:n,toggleDialog:r,registerDialog:g}=fe();return e({toggleDialog:r,registerDialog:g}),($,y)=>(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),k=>(openBlock(),createElementBlock("div",{key:k.name},[(openBlock(),createBlock(resolveDynamicComponent(k.component),mergeProps({modelValue:k.visible,"onUpdate:modelValue":L=>k.visible=L},{ref_for:!0},k.props),null,16,["modelValue","onUpdate:modelValue"]))]))),128))}}),El=["accept"],Nl=defineComponent({__name:"MlFileReader",emits:["file-read"],setup(t,{emit:e}){const n=e,r=ref(null),g=tl(),$=computed(()=>{const k=Array.from(g.value);let L="";for(let V=0,z=k.length;V<z;++V)V==z-1?L+=`.${k[V]}`:L+=`.${k[V]}, `;return L});onMounted(()=>{ot$1.on("open-file",()=>{var k;(k=r.value)==null||k.click()})});const y=k=>{var L;const V=(L=k.target.files)==null?void 0:L[0];if(V&&V.name){const z=new FileReader;z.readAsArrayBuffer(V),z.onload=j=>{var ie;const Oe=(ie=j.target)==null?void 0:ie.result;Oe&&n("file-read",V.name,Oe)},z.onerror=()=>{console.error("Failed to read the file.")}}};return(k,L)=>(openBlock(),createElementBlock("input",{type:"file",ref_key:"fileInput",ref:r,accept:$.value,style:{display:"none"},onChange:y},null,40,El))}}),Fl=defineComponent({__name:"MlToggleButton",props:mergeModels({size:{default:30},data:{}},{modelValue:{default:!1},modelModifiers:{}}),emits:mergeModels(["click"],["update:modelValue"]),setup(t,{emit:e}){useCssVars(V=>({a97b120a:y.value}));const n=t,r=useModel(t,"modelValue"),g=e,$=computed(()=>r.value?n.data.onIcon:n.data.offIcon),y=computed(()=>n.size+"px"),k=computed(()=>r.value?n.data.onTooltip:n.data.offTooltip),L=()=>{g("click",r.value)};return(V,z)=>{const j=resolveComponent("el-button"),ie=resolveComponent("el-tooltip");return openBlock(),createBlock(ie,{content:k.value,"hide-after":0},{default:withCtx(()=>[createVNode(j,{class:"ml-toggle-button",icon:$.value,onClick:L},null,8,["icon"])]),_:1},8,["content"])}}}),je=W(Fl,[["__scopeId","data-v-48d6b055"]]);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ml-dropdown-icon[data-v-3fc33b5d],.ml-dropdown-icon[data-v-3fc33b5d]:hover{outline:none;border:none}.ml-status-bar[data-v-d6a59cf0]{position:fixed;bottom:0;left:0;right:0;height:30px;display:flex;justify-content:space-between;align-items:center;background-color:var(--el-fill-color);box-sizing:border-box;border:1px solid var(--el-border-color)}.ml-status-bar-left[data-v-d6a59cf0],.ml-status-bar-right[data-v-d6a59cf0]{display:flex;align-items:center}.ml-status-bar-left[data-v-d6a59cf0]>*{margin-right:10px}.ml-status-bar-right[data-v-d6a59cf0]>*{margin-left:10px}.ml-toggle-button[data-v-5adaeb5a]{border:none;padding:0;cursor:pointer;width:var(--021a85e9);height:var(--021a85e9)}.ml-vertical-toolbar-button-group[data-v-c6504e33]{display:flex;flex-direction:column;background-color:var(--el-fill-color)}.ml-horizontal-toolbar-button-group[data-v-c6504e33]{display:flex;flex-direction:row;background-color:var(--el-fill-color)}.ml-toolbar-button[data-v-c6504e33]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:5px}.ml-toolbar-button-text[data-v-c6504e33]{margin-left:0;margin-top:5px}.ml-tool-palette-dialog[data-v-cd1a3c67]{cursor:default;width:300px;min-width:var(--collapsed-width);position:fixed;box-sizing:border-box;border:1px solid var(--el-border-color)}.ml-tool-palette-disabled[data-v-cd1a3c67]{pointer-events:none;opacity:.6}.ml-tool-palette-dialog-icon[data-v-cd1a3c67]{border-bottom:1px solid var(--el-border-color);cursor:default}.ml-tool-palette-dialog-icon[data-v-cd1a3c67]:hover{color:var(--el-color-primary)}.ml-tool-palette-dialog-layout[data-v-cd1a3c67]{display:flex;height:100%}.ml-tool-palette-title-bar[data-v-cd1a3c67]{width:var(--collapsed-width);display:flex;justify-content:left;align-items:center;cursor:move;writing-mode:vertical-rl;text-align:center;background-color:var(--el-fill-color)}.ml-tool-palette-title[data-v-cd1a3c67]{pointer-events:none;margin-top:10px;margin-bottom:10px;font-size:small;-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ml-tool-palette-content[data-v-cd1a3c67]{-webkit-user-select:none;user-select:none;flex-grow:1;display:flex;flex-direction:column;background-color:var(--el-fill-color);overflow:hidden}.ml-tool-palette-tabs[data-v-cd1a3c67]{display:flex;flex-direction:column;height:100%;flex:1}.ml-tool-palette-tabs[data-v-cd1a3c67] .el-tabs{display:flex;flex-direction:column;height:100%}.ml-tool-palette-tabs[data-v-cd1a3c67] .el-tabs__header{margin:0;border-bottom:none;order:1;flex-shrink:0;position:relative}.ml-tool-palette-tabs[data-v-cd1a3c67] .el-tabs__content{flex:1;overflow:auto;padding:0;order:2;min-height:0;position:relative}.ml-tool-palette-tabs[data-v-cd1a3c67] .el-tab-pane{height:100%;overflow:auto}.ml-tool-palette-default-content[data-v-cd1a3c67]{flex:1;overflow:auto;display:flex;flex-direction:column}.ml-tool-palette-dialog-layout.left .ml-tool-palette-title-bar[data-v-cd1a3c67]{order:1}.ml-tool-palette-dialog-layout.left .ml-tool-palette-content[data-v-cd1a3c67],.ml-tool-palette-dialog-layout.right .ml-tool-palette-title-bar[data-v-cd1a3c67]{order:2}.ml-tool-palette-dialog-layout.right .ml-tool-palette-content[data-v-cd1a3c67]{order:1}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Rl={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},Ol=createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0"},null,-1),Hl=[Ol];function Yl(t,e){return openBlock(),createElementBlock("svg",Rl,[...Hl])}const Pe={render:Yl},Gl={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},Wl=createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),Xl=[Wl];function Ul(t,e){return openBlock(),createElementBlock("svg",Gl,[...Xl])}const Ie={render:Ul},Zl=defineComponent({__name:"MlCollapse",props:mergeModels({size:{default:18},reverse:{type:Boolean,default:!1}},{modelValue:{default:!0},modelModifiers:{}}),emits:mergeModels(["change"],["update:modelValue"]),setup(t,{emit:e}){const n=t,r=useModel(t,"modelValue"),g=e,$=computed(()=>n.reverse?r.value?Pe:Ie:r.value?Ie:Pe),y=computed(()=>`${n.size}px`),k=()=>{g("change",r.value),r.value=!r.value};return(L,V)=>{const z=ElIcon;return openBlock(),createBlock(z,{size:y.value,onClick:k},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.value)))]),_:1},8,["size"])}}}),ql=t=>(pushScopeId("data-v-3fc33b5d"),t=t(),popScopeId(),t),jl=ql(()=>createBaseVNode("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em","data-v-63d067da":""},[createBaseVNode("path",{fill:"currentColor",d:"m18.5 10l4.4 11h-2.155l-1.201-3h-4.09l-1.199 3h-2.154L16.5 10h2zM10 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.62 6.301a14.864 14.864 0 0 0 2.336 1.707l-.751 1.878A17.015 17.015 0 0 1 9 13.725a16.676 16.676 0 0 1-6.201 3.548l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042A18.078 18.078 0 0 1 4.767 8h2.24A16.032 16.032 0 0 0 9 10.877a16.165 16.165 0 0 0 2.91-4.876L2 6V4h6V2h2zm7.5 10.885L16.253 16h2.492L17.5 12.885z"})],-1)),Kl=defineComponent({__name:"MlDropdown",props:{icon:{},items:{},current:{default:void 0}},emits:{click:null},setup(t,{emit:e}){const n=t,r=e,g=computed(()=>n.items.filter(y=>y.name!==n.current)),$=y=>{r("click",y)};return(y,k)=>{const L=ElIcon,V=ElDropdownItem,z=ElDropdownMenu,j=ElDropdown;return openBlock(),createBlock(j,{onCommand:$},{dropdown:withCtx(()=>[createVNode(z,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,ie=>(openBlock(),createBlock(V,{key:ie.text,command:ie.name},{default:withCtx(()=>[createTextVNode(toDisplayString$1(ie.text),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:withCtx(()=>[createVNode(L,{size:"30",class:"ml-dropdown-icon"},{default:withCtx(()=>[jl]),_:1})]),_:1})}}}),_e=(t,e)=>{const n=t.__vccOpts||t;for(const[r,g]of e)n[r]=g;return n},Ql=_e(Kl,[["__scopeId","data-v-3fc33b5d"]]),Jl='<svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-63d067da=""><path fill="currentColor" d="m18.5 10l4.4 11h-2.155l-1.201-3h-4.09l-1.199 3h-2.154L16.5 10h2zM10 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.62 6.301a14.864 14.864 0 0 0 2.336 1.707l-.751 1.878A17.015 17.015 0 0 1 9 13.725a16.676 16.676 0 0 1-6.201 3.548l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042A18.078 18.078 0 0 1 4.767 8h2.24A16.032 16.032 0 0 0 9 10.877a16.165 16.165 0 0 0 2.91-4.876L2 6V4h6V2h2zm7.5 10.885L16.253 16h2.492L17.5 12.885z"></path></svg>',ea=defineComponent({__name:"MlLanguage",props:{languages:{},current:{}},emits:{click:null},setup(t,{emit:e}){const n=t,r=e,g=$=>{r("click",$)};return($,y)=>(openBlock(),createBlock(Ql,{icon:Jl,items:n.languages,current:n.current,onClick:g},null,8,["items","current"]))}}),ta={},na={class:"ml-status-bar"},oa={class:"ml-status-bar-left"},la={class:"ml-status-bar-right"};function aa(t,e){return openBlock(),createElementBlock("div",na,[createBaseVNode("div",oa,[renderSlot(t.$slots,"left",{},void 0,!0)]),createBaseVNode("div",la,[renderSlot(t.$slots,"right",{},void 0,!0)])])}const ia=_e(ta,[["render",aa],["__scopeId","data-v-d6a59cf0"]]),ra={key:0,class:"ml-toolbar-button-text"},sa=defineComponent({__name:"MlToolBar",props:{items:{},size:{default:"large"},direction:{}},emits:{click:null},setup(t,{emit:e}){const n=t,r=e,g=computed(()=>n.direction==="vertical"?"ml-vertical-toolbar-button-group":"ml-horizontal-toolbar-button-group"),$=computed(()=>n.size==="small"?20:30),y=computed(()=>{switch(n.size){case"small":return 30;case"medium":return 50}return 70}),k=z=>z.description?z.description:z.text,L=computed(()=>n.size==="large"),V=z=>{r("click",z)};return(z,j)=>{const ie=ElIcon,Oe=ElButton,ur=ElTooltip,hr=ElButtonGroup$1;return openBlock(),createBlock(hr,{class:normalizeClass(g.value)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(z.items,(Vr,dr)=>(openBlock(),createBlock(ur,{key:Vr.text,content:k(Vr),"hide-after":0},{default:withCtx(()=>[(openBlock(),createBlock(Oe,{class:"ml-toolbar-button",style:normalizeStyle({width:y.value+"px",height:y.value+"px"}),key:dr,onClick:ec=>V(Vr.command)},{default:withCtx(()=>[createBaseVNode("div",null,[createVNode(ie,{size:$.value},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Vr.icon)))]),_:2},1032,["size"]),L.value?(openBlock(),createElementBlock("div",ra,toDisplayString$1(Vr.text),1)):createCommentVNode("",!0)])]),_:2},1032,["style","onClick"]))]),_:2},1032,["content"]))),128))]),_:1},8,["class"])}}}),ca=_e(sa,[["__scopeId","data-v-c6504e33"]]),Ae=20;function ua(t,e,n){const r=ref(!1),g=L=>{if(n.value&&t.value){const V=t.value.getBoundingClientRect(),z=L.clientX<V.left||L.clientX>V.right||L.clientY<V.top||L.clientY>V.bottom;r.value=!z}},$=()=>{n.value&&(r.value=!0)},y=()=>{e.value&&e.value.addEventListener("mousemove",$),t.value&&t.value.addEventListener("mousemove",$)},k=()=>{e.value&&e.value.removeEventListener("mousemove",$),t.value&&t.value.removeEventListener("mousemove",$)};return onMounted(()=>{window.addEventListener("mousemove",g)}),onUnmounted(()=>{window.removeEventListener("mousemove",g)}),watch(n,L=>{L&&(r.value=!1)}),watch(t,L=>{L?y():k()}),{autoOpened:r}}function da(t,e,n){const r=ref(!1),g=ref(null),$=ref(null),y={x:0,y:0},k=computed(()=>g.value==null||$.value==null?{x:0,y:0}:{x:g.value.x-$.value.x,y:g.value.y-$.value.y}),L=()=>{if(t.value){const ur=t.value.getBoundingClientRect();$.value={x:ur.left,y:ur.top},g.value={x:ur.left,y:ur.top}}},V=()=>{t.value&&t.value.addEventListener("mousedown",j)},z=()=>{t.value&&t.value.removeEventListener("mousedown",j)},j=ur=>{if(t.value!=null){if(e&&e.value){const hr=e.value.getBoundingClientRect();if(ur.clientX<hr.left||ur.clientX>hr.right||ur.clientY<hr.top||ur.clientY>hr.bottom)return}r.value=!0,y.x=ur.clientX,y.y=ur.clientY,L(),document.addEventListener("mousemove",ie),document.addEventListener("mouseup",Oe)}},ie=ur=>{if(r.value&&$.value&&g.value){const hr=window.innerWidth,Vr=window.innerHeight,dr=t.value,ec=dr.getBoundingClientRect(),tc=ec.width,Xs=ec.height,rc=$.value.x+(ur.clientX-y.x),ic=$.value.y+(ur.clientY-y.y);g.value.x=Math.max(n?n.value.offset.value.left:0,rc);const _c=hr-tc;g.value.x=Math.min(n?_c-n.value.offset.value.right:_c,g.value.x),g.value.y=Math.max(n?n.value.offset.value.top:0,Math.min(ic,Vr-Xs));const qm=Vr-Xs;g.value.y=Math.min(n?qm-n.value.offset.value.bottom:qm,g.value.y),dr.style.left=g.value.x+"px",dr.style.top=g.value.y+"px"}},Oe=()=>{r.value=!1,document.removeEventListener("mousemove",ie),document.removeEventListener("mouseup",Oe)};return onMounted(()=>{t.value&&(L(),V())}),onUnmounted(()=>{t.value&&t.value.removeEventListener("mousedown",j)}),watch(t,ur=>{ur?(L(),V()):z()}),{isDragging:r,movement:k,position:g}}function ma(t,e,n){const r=ref(!1),g=ref("left"),{isDragging:$,movement:y,position:k}=da(t,e,n);return watch(y,L=>{if(L&&t.value){const V=t.value.getBoundingClientRect();V.left<=n.value.offset.value.left?(g.value="left",r.value=!0):window.innerWidth-V.left-V.width<=n.value.offset.value.right?(g.value="right",r.value=!0):r.value=!1}}),{docked:r,orientation:g,isDragging:$,movement:y,position:k}}function pa(t,e,n,r){const g=ref(null),$=ref(null),y=ref(null),k=ref(null);return watch(t,(L,V)=>{g.value=V}),watch(e,(L,V)=>{$.value=V}),watch(n,(L,V)=>{y.value=V}),watch(r,(L,V)=>{k.value=V}),{lastLeft:g,lastTop:$,lastWidth:y,lastHeight:k}}function va(t,e,n,r){const g=ref(t.value.width),$=ref(t.value.left),y=computed(()=>t.value.width),k=computed(()=>t.value.left),L=computed(()=>n.value?n.value.x:null);return watch([y,k],([V,z])=>{(g.value==null||$.value==null||e.value)&&(g.value=V,$.value=z)}),watch(L,V=>{r.value&&n.value&&($.value=V)}),{left:$,width:g}}function ga(t,e=ref({left:0,right:0,top:0,bottom:0})){const n=ref({});let r=!1;const g=()=>{if(!r&&t.value){const $=t.value.getBoundingClientRect();n.value.left=Math.max($.left,e.value.left),n.value.top=Math.max($.top,e.value.top),n.value.width=$.width,n.value.height=$.height,r=!0}};return onMounted(()=>{t.value&&g()}),watch(t,$=>{$&&g()}),{isIntialized:r,initialRect:n}}function fa(t,e=ref(!1),n=ref(!1),r=ref({left:0,right:0,top:0,bottom:0}),g={width:20,height:40}){const{initialRect:$}=ga(t,r),y=ref(!1);let k=0,L=0,V=0,z=0,j=0;const ie=5,Oe=ref(null),ur=tc=>{if(!(!t.value||e.value))if(y.value){const Xs=tc.clientX-z,rc=tc.clientY-j;if(Oe.value==="left"||Oe.value==="left-bottom-corner"){const ic=L-Xs;ic>g.width&&($.value.width=ic,$.value.left=k+Xs,t.value.style.left=$.value.left+"px",t.value.style.width=$.value.width+"px")}if(Oe.value==="right"||Oe.value==="right-bottom-corner"){const ic=L+Xs;ic>g.width&&($.value.width=ic,t.value.style.width=$.value.width+"px")}if(Oe.value==="bottom"||Oe.value==="left-bottom-corner"||Oe.value==="right-bottom-corner"){const ic=V+rc;ic>g.height&&($.value.height=ic,t.value.style.height=$.value.height+"px")}}else{const Xs=t.value.getBoundingClientRect(),rc=tc.clientX-Xs.left,ic=tc.clientY-Xs.top,_c=Math.abs(rc)<=ie,qm=Math.abs(Xs.width-rc)<=ie,Xm=Math.abs(Xs.height-ic)<=ie;_c&&Xm&&n.value?(t.value.style.cursor="nesw-resize",Oe.value="left-bottom-corner"):qm&&Xm&&!n.value?(t.value.style.cursor="nwse-resize",Oe.value="right-bottom-corner"):_c&&n.value?(t.value.style.cursor="ew-resize",Oe.value="left"):qm&&!n.value?(t.value.style.cursor="ew-resize",Oe.value="right"):Xm?(t.value.style.cursor="ns-resize",Oe.value="bottom"):(t.value.style.cursor="",Oe.value=null)}},hr=tc=>{if(!t.value||!Oe.value)return;const Xs=t.value.getBoundingClientRect();z=tc.clientX,j=tc.clientY,L=Xs.width,V=Xs.height,k=Xs.left,$.value.width=L,$.value.height=V,$.value.left=Xs.left,$.value.top=Xs.top,y.value=!0,document.addEventListener("mousemove",ur),document.addEventListener("mouseup",Vr)},Vr=()=>{y.value=!1,Oe.value=null,t.value&&(t.value.style.cursor=""),document.removeEventListener("mousemove",ur),document.removeEventListener("mouseup",Vr)},dr=()=>{t.value&&(t.value.removeEventListener("mousedown",hr),t.value.removeEventListener("mousemove",ur)),document.removeEventListener("mouseup",Vr)},ec=()=>{t.value&&(t.value.addEventListener("mousedown",hr),t.value.addEventListener("mousemove",ur))};return onMounted(()=>{t.value&&ec()}),onBeforeUnmount(()=>{dr()}),watch(t,tc=>{tc?ec():dr()}),{rect:$,isResizing:y}}function ha(t,e,n,r){const g=()=>{if(t.value){const L=t.value;e.value?L.style.transition="width 0.3s ease-out, left 0.3s ease-out":L.style.transition="width 0.3s ease"}},$=()=>{t.value&&(t.value.style.transition="")},y=()=>{t.value&&t.value.removeEventListener("transitionend",$)},k=()=>{t.value&&t.value.addEventListener("transitionend",$)};onMounted(()=>{t.value&&t.value.addEventListener("transitionend",$)}),onBeforeUnmount(()=>{t.value&&t.value.removeEventListener("transitionend",$)}),watch(t,L=>{L?k():y()}),watch(n,()=>{g()}),watch(r,()=>{g()})}function _a(t,e,n,r){const g=ref(window.innerWidth),$=ref(window.innerHeight),{docked:y,orientation:k,movement:L,position:V,isDragging:z}=ma(t,e,r),j=computed(()=>k.value==="right"),{rect:ie,isResizing:Oe}=fa(t,n,j,r.value.offset),{width:ur,left:hr}=va(ie,Oe,V,z),{lastTop:Vr,lastHeight:dr}=pa(computed(()=>ie.value.left),computed(()=>ie.value.top),computed(()=>ie.value.width),computed(()=>ie.value.height)),{autoOpened:ec}=ua(t,e,n);ha(t,j,n,ec);const tc=_c=>{if(t.value){const qm=t.value.getBoundingClientRect(),Xm=qm.left+_c;if(j.value){ie.value.left=Xm;const Km=window.innerWidth-qm.width-qm.left;qm.left<=0&&Km>=0&&_c<0&&(ie.value.left=Math.max(0,Xm)),window.innerWidth-qm.width<=0&&(ie.value.left=window.innerWidth-qm.width)}else qm.left+qm.width>=window.innerWidth&&_c<0&&(ie.value.left=Math.max(0,Xm))}},Xs=()=>{const _c=window.innerWidth-g.value;g.value=window.innerWidth,$.value=window.innerHeight,tc(_c)};onMounted(()=>{window.addEventListener("resize",Xs)}),onUnmounted(()=>{window.removeEventListener("resize",Xs)});const rc=_c=>{_c?(ie.value.width=Ae,j.value&&hr.value&&ur.value&&(ie.value.left=hr.value+ur.value-Ae)):(ie.value.width=ur.value,j.value&&hr.value&&ur.value&&(ie.value.left=hr.value))},ic=()=>{y.value?(ie.value.top=r.value.offset.value.top,ie.value.height=window.innerHeight-r.value.offset.value.top-r.value.offset.value.bottom):(ie.value.top=Vr.value,ie.value.height=dr.value)};return watch(y,()=>{ic()}),watch(n,_c=>{rc(_c)}),watch(ec,_c=>{n.value&&!z.value&&rc(!_c)}),watch(L,_c=>{if(_c&&t.value){const qm=t.value.getBoundingClientRect();ie.value.left=qm.left,ie.value.top=qm.top}}),{rect:ie,orientation:k,reversed:j}}const ya=t=>(pushScopeId("data-v-cd1a3c67"),t=t(),popScopeId(),t),wa=ya(()=>createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})],-1)),ba={class:"ml-tool-palette-title"},ka={class:"ml-tool-palette-content"},xa={key:1,class:"ml-tool-palette-default-content"},Ca=defineComponent({__name:"MlToolPalette",props:mergeModels({title:{default:""},tabs:{default:void 0},leftOffset:{default:0},rightOffset:{default:0},topOffset:{default:0},bottomOffset:{default:0},disabled:{type:Boolean,default:!1}},{modelValue:{default:!0},modelModifiers:{},activeTab:{default:""},activeTabModifiers:{}}),emits:mergeModels(["close","tab-change","tab-close"],["update:modelValue","update:activeTab"]),setup(t,{emit:e}){const n=t,r=useModel(t,"modelValue"),g=useModel(t,"activeTab"),$=e,y=computed(()=>n.tabs&&n.tabs.length>0);onMounted(()=>{y.value&&!g.value&&n.tabs&&n.tabs.length>0&&(g.value=n.tabs[0].name)}),watch(()=>n.tabs,Xs=>{Xs&&Xs.length>0&&!g.value&&(g.value=Xs[0].name)},{immediate:!0});const k=ref(!1),L=ref(null),V=ref(null),z=computed(()=>({offset:ref({left:n.leftOffset,right:n.rightOffset,top:n.topOffset,bottom:n.bottomOffset})})),{rect:j,orientation:ie,reversed:Oe}=_a(V,L,k,z),ur=computed(()=>({left:`${j.value.left}px`,top:`${j.value.top}px`,width:`${j.value.width}px`,height:`${j.value.height}px`})),hr=computed(()=>Oe.value?{borderLeft:"1px solid var(--el-border-color)",borderRight:null}:{borderLeft:null,borderRight:"1px solid var(--el-border-color)"}),Vr=computed(()=>{if(y.value&&g.value&&n.tabs){const Xs=n.tabs.find(rc=>rc.name===g.value);if(Xs!=null&&Xs.title)return Xs.title}return n.title}),dr=()=>{r.value=!1;const Xs=V.value;$("close",{x:Xs?Xs.clientLeft:0,y:Xs?Xs.clientTop:0})},ec=Xs=>{$("tab-change",Xs)},tc=Xs=>{if($("tab-close",Xs),g.value===Xs&&n.tabs){const rc=n.tabs.findIndex(ic=>ic.name===Xs);if(rc>=0){const ic=n.tabs[rc+1]||n.tabs[rc-1];ic&&(g.value=ic.name)}}};return(Xs,rc)=>{const ic=ElIcon,_c=ElTabPane,qm=ElTabs;return r.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"toolPaletteElement",ref:V,style:normalizeStyle([ur.value]),class:normalizeClass(["ml-tool-palette-dialog",{"ml-tool-palette-disabled":Xs.disabled}])},[createBaseVNode("div",{class:normalizeClass(["ml-tool-palette-dialog-layout",unref(ie)])},[createBaseVNode("div",{ref_key:"titleBarElement",ref:L,class:"ml-tool-palette-title-bar",style:normalizeStyle(hr.value)},[createVNode(ic,{size:18,class:"ml-tool-palette-dialog-icon",onClick:rc[0]||(rc[0]=Xm=>!Xs.disabled&&dr())},{default:withCtx(()=>[wa]),_:1}),createVNode(Zl,{class:"ml-tool-palette-dialog-icon",modelValue:k.value,"onUpdate:modelValue":rc[1]||(rc[1]=Xm=>k.value=Xm),reverse:unref(Oe),disabled:Xs.disabled},null,8,["modelValue","reverse","disabled"]),createBaseVNode("span",ba,toDisplayString$1(Vr.value),1)],4),createBaseVNode("div",ka,[y.value?(openBlock(),createBlock(qm,{key:0,modelValue:g.value,"onUpdate:modelValue":rc[2]||(rc[2]=Xm=>g.value=Xm),type:"border-card",class:"ml-tool-palette-tabs",onTabRemove:rc[3]||(rc[3]=Xm=>!Xs.disabled&&tc),onTabChange:rc[4]||(rc[4]=Xm=>!Xs.disabled&&ec)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.tabs,Xm=>(openBlock(),createBlock(_c,{key:Xm.name,name:Xm.name,label:Xm.label},{label:withCtx(()=>[createBaseVNode("span",null,toDisplayString$1(Xm.label),1)]),default:withCtx(()=>[renderSlot(Xs.$slots,`tab-${Xm.name}`,{},void 0,!0)]),_:2},1032,["name","label"]))),128))]),_:3},8,["modelValue"])):(openBlock(),createElementBlock("div",xa,[renderSlot(Xs.$slots,"default",{},void 0,!0)]))])],2)],6)):createCommentVNode("",!0)}}}),Ma=_e(Ca,[["__scopeId","data-v-cd1a3c67"]]),Sa={class:"ml-entity-properties"},La={key:0,class:"ml-entity-selector"},Ta={class:"ml-cell-container"},Ba={key:0},Da={key:1},za={key:0,class:"ml-cell-value"},$a=["title","onDblclick"],Va={key:1},Pa={key:2,class:"ml-no-entity-selected"},Ia=defineComponent({__name:"MlEntityProperties",props:{entityPropsList:{},editable:{type:Boolean}},emits:["update-property"],setup(t,{emit:e}){const{t:n}=useI18n(),r=t,g=e,$=ref(-1);function y(Oe){var ur;const hr=Oe.accessor.get();switch(Oe.type){case"boolean":return hr?"True":"False";case"enum":{const Vr=(ur=Oe.options)==null?void 0:ur.find(dr=>dr.value===hr);return Vr&&Vr.label?ze(Vr.label):""}case"color":return hr.toString();case"lineweight":return xa$2[hr];case"transparency":return hr.toString();default:return hr!=null?String(hr):""}}async function k(Oe){const ur=y(Oe);try{await navigator.clipboard.writeText(ur),ElMessage({message:n("main.toolPalette.entityProperties.propertyPanel.propValCopied"),grouping:!0,type:"success"})}catch(hr){console.error(hr),ElMessage({message:n("main.toolPalette.entityProperties.propertyPanel.failedToCopyPropVal"),grouping:!0,type:"error"})}}const L=computed(()=>{const Oe=r.entityPropsList;if(!Oe||Oe.length===0)return[];if(Oe.length===1)return V(Oe[0]);if($.value>=0){const ur=Oe[$.value];return V(ur)}else{const ur=z(Oe);return V(ur)}});function V(Oe){return Oe.groups.map((ur,hr)=>({id:`group-${hr}`,name:ur.groupName,isGroup:!0,children:ur.properties.map((Vr,dr)=>({...Vr,id:`group-${hr}-prop-${dr}`,isGroup:!1}))}))}function z(Oe){if(!Oe.length)return{type:"",groups:[]};const ur=Oe[0],hr=[];for(const Vr of ur.groups){const dr=[];for(const ec of Vr.properties)Oe.every(tc=>{const Xs=tc.groups.find(ic=>ic.groupName===Vr.groupName),rc=Xs==null?void 0:Xs.properties.find(ic=>ic.name===ec.name);return rc&&rc.accessor.get()===ec.accessor.get()})&&dr.push(ec);dr.length&&hr.push({groupName:Vr.groupName,properties:dr})}return{type:ur.type,groups:hr}}const j=({row:Oe,columnIndex:ur})=>Oe.isGroup?ur===0?[1,2]:[0,0]:[1,1];function ie(Oe,ur){var hr;if(!r.editable||!((hr=r.entityPropsList)!=null&&hr.length))return;const Vr=($.value>=0?r.entityPropsList[$.value]:r.entityPropsList[0]).groups.find(dr=>dr.properties.some(ec=>ec.name===Oe.name));Vr&&g("update-property",{groupName:Vr.groupName,propertyName:Oe.name,newValue:ur})}return(Oe,ur)=>{const hr=resolveComponent("el-option"),Vr=resolveComponent("el-select"),dr=resolveComponent("el-table-column"),ec=resolveComponent("el-switch"),tc=resolveComponent("el-input-number"),Xs=resolveComponent("el-input"),rc=resolveComponent("el-table");return openBlock(),createElementBlock("div",Sa,[Oe.entityPropsList&&Oe.entityPropsList.length>1?(openBlock(),createElementBlock("div",La,[createVNode(Vr,{modelValue:$.value,"onUpdate:modelValue":ur[0]||(ur[0]=ic=>$.value=ic),placeholder:"Select Entity",style:{width:"100%","margin-bottom":"0.5rem"}},{default:withCtx(()=>[createVNode(hr,{label:unref(n)("main.toolPalette.entityProperties.propertyPanel.multipleEntitySelected",{count:Oe.entityPropsList.length}),value:-1},null,8,["label"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Oe.entityPropsList,(ic,_c)=>(openBlock(),createBlock(hr,{key:_c,label:ic.type,value:_c},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])):createCommentVNode("",!0),L.value.length?(openBlock(),createBlock(rc,{key:1,data:L.value,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"children"},"show-header":!1,"span-method":j,class:"ml-entity-properties-table"},{default:withCtx(()=>[createVNode(dr,{prop:"name","min-width":"auto"},{default:withCtx(({row:ic})=>[createBaseVNode("div",Ta,[createBaseVNode("div",{class:normalizeClass(["ml-cell-label",{"ml-group-row":ic.isGroup}])},[ic.isGroup?(openBlock(),createElementBlock("strong",Ba,toDisplayString$1(unref(De)(ic.name)),1)):(openBlock(),createElementBlock("span",Da,toDisplayString$1(unref(De)(ic.name)),1))],2)])]),_:1}),createVNode(dr,null,{default:withCtx(({row:ic})=>[ic.isGroup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",za,[!Oe.editable||!ic.editable?(openBlock(),createElementBlock(Fragment,{key:0},[ic.type==="color"?(openBlock(),createBlock(unref(Ve),{key:0,"model-value":ic.accessor.get(),disabled:""},null,8,["model-value"])):(openBlock(),createElementBlock("span",{key:1,title:y(ic),class:"ml-readonly-value",onDblclick:_c=>k(ic)},toDisplayString$1(y(ic)),41,$a))],64)):(openBlock(),createElementBlock("div",Va,[ic.type==="enum"?(openBlock(),createBlock(Vr,{key:0,"model-value":ic.accessor.get(),onChange:_c=>ie(ic,_c),style:{width:"100%"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(ic.options||[],_c=>(openBlock(),createBlock(hr,{key:_c.value,label:unref(ze)(_c.label),value:_c.value},null,8,["label","value"]))),128))]),_:2},1032,["model-value","onChange"])):ic.type==="color"?(openBlock(),createBlock(unref(Ve),{key:1,"model-value":ic.accessor.get(),onColorChange:_c=>ie(ic,_c)},null,8,["model-value","onColorChange"])):ic.type==="boolean"?(openBlock(),createBlock(ec,{key:2,"model-value":ic.accessor.get(),onChange:_c=>ie(ic,_c)},null,8,["model-value","onChange"])):ic.type==="int"?(openBlock(),createBlock(tc,{key:3,"model-value":ic.accessor.get(),step:1,precision:0,onChange:_c=>ie(ic,_c)},null,8,["model-value","onChange"])):ic.type==="float"?(openBlock(),createBlock(tc,{key:4,"model-value":ic.accessor.get(),step:.1,precision:3,onChange:_c=>ie(ic,_c)},null,8,["model-value","onChange"])):(openBlock(),createBlock(Xs,{key:5,"model-value":ic.accessor.get(),onInput:_c=>ie(ic,_c)},null,8,["model-value","onInput"]))]))]))]),_:1})]),_:1},8,["data"])):(openBlock(),createElementBlock("div",Pa,toDisplayString$1(unref(n)("main.toolPalette.entityProperties.propertyPanel.noEntitySelected")),1))])}}}),Aa=W(Ia,[["__scopeId","data-v-cf717cab"]]),Ea={class:"ml-layer-list-cell"},Na={class:"ml-layer-list-cell"},Fa=defineComponent({__name:"MlLayerList",props:{editor:{}},setup(t){const{t:e}=useI18n(),n=t,r=ol(n.editor),g=ur=>computed(()=>{const hr=Kr$1.fromString(ur.color);return(hr==null?void 0:hr.cssColor)||"#FFFFFF"}),$=ur=>{n.editor.curView.zoomToFitLayer(ur.name)&&ElMessage({message:e("main.toolPalette.layerManager.layerList.zoomToLayer",{layer:ur.name}),grouping:!0,type:"success"})},y=ur=>{const hr=n.editor.curDocument.database.tables.layerTable.getAt(ur.name);hr&&(hr.isOff=!ur.isOn)},k=ref(!1),L=ref(null),V=ref(void 0),z=ur=>{L.value=ur,V.value=ur.color,k.value=!0},j=ur=>{if(!L.value)return;const hr=L.value;hr.color=ur.toString();const Vr=n.editor.curDocument.database.tables.layerTable.getAt(hr.name);Vr&&(Vr.color=ur)},ie=ur=>{j(ur)},Oe=()=>{};return(ur,hr)=>{const Vr=resolveComponent("el-table-column"),dr=resolveComponent("el-checkbox"),ec=resolveComponent("el-tag");return openBlock(),createElementBlock(Fragment,null,[createVNode(unref(ElTable),{data:unref(r),class:"ml-layer-list",onRowDblclick:$},{default:withCtx(()=>[createVNode(Vr,{property:"name",label:unref(e)("main.toolPalette.layerManager.layerList.name"),"min-width":"120",sortable:"","show-overflow-tooltip":""},null,8,["label"]),createVNode(Vr,{property:"isOn",label:unref(e)("main.toolPalette.layerManager.layerList.on"),width:"50"},{default:withCtx(tc=>[createBaseVNode("div",Ea,[createVNode(dr,{modelValue:tc.row.isOn,"onUpdate:modelValue":Xs=>tc.row.isOn=Xs,onChange:Xs=>y(tc.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])])]),_:1},8,["label"]),createVNode(Vr,{property:"color",label:unref(e)("main.toolPalette.layerManager.layerList.color"),width:"70"},{default:withCtx(tc=>[createBaseVNode("div",Na,[createVNode(ec,{color:g(tc.row).value,class:"ml-layer-list-color",onClick:withModifiers(Xs=>z(tc.row),["stop"])},null,8,["color","onClick"])])]),_:1},8,["label"])]),_:1},8,["data"]),createVNode(unref(Ue),{modelValue:k.value,"onUpdate:modelValue":hr[0]||(hr[0]=tc=>k.value=tc),title:unref(e)("dialog.colorPickerDlg.title"),color:V.value,onOk:ie,onCancel:Oe},null,8,["modelValue","title","color"])],64)}}}),Ra={class:"ml-layer-list-wrapper"},Oa=defineComponent({__name:"MlPaletteManager",props:{editor:{}},setup(t){const e=t,n=["layerManager","entityProperties"],r=ref(n[0]),g=computed(()=>n.map(k=>({name:k,label:Xo(k),title:Wo(k)}))),{selectionSet:$}=il(),y=computed(()=>{const k=[],L=ee$1.instance.curDocument.database;return $.value.forEach(V=>{const z=L.tables.blockTable.modelSpace.getIdAt(V);z&&k.push(z.properties)}),k});return(k,L)=>{const V=resolveComponent("el-config-provider");return openBlock(),createBlock(V,{size:"small"},{default:withCtx(()=>[createVNode(unref(Ma),{class:"ml-layer-manager",modelValue:unref(oe).dialogs.layerManager,"onUpdate:modelValue":L[0]||(L[0]=z=>unref(oe).dialogs.layerManager=z),"active-tab":r.value,"onUpdate:activeTab":L[1]||(L[1]=z=>r.value=z),tabs:g.value,"bottom-offset":30},{"tab-layerManager":withCtx(()=>[createBaseVNode("div",Ra,[createVNode(Fa,{editor:e.editor},null,8,["editor"])])]),"tab-entityProperties":withCtx(()=>[createVNode(Aa,{"entity-props-list":y.value},null,8,["entity-props-list"])]),_:1},8,["modelValue","active-tab","tabs"])]),_:1})}}}),Ha=W(Oa,[["__scopeId","data-v-18adcdd0"]]),pe=8,Ya=defineComponent({__name:"MlEntityInfo",setup(t){useCssVars(ie=>({"3e47cda4":L.value,"0741074e":V.value}));const{t:e}=useI18n(),n=ref(null),{hovered:r,entity:g,mouse:$}=nl(),y=ref(180),k=ref(120),L=computed(()=>`${Math.min(Math.max($.value.x,pe),window.innerWidth-y.value-pe)}px`),V=computed(()=>`${Math.min(Math.max($.value.y,pe),window.innerHeight-k.value-pe)}px`),z=computed(()=>{const ie=g.value;return ie?{type:Go(ie),color:Xe(ie.color.toString()),layer:ie.layer,lineType:ie.lineType}:{type:"",color:"",layer:"",lineType:""}}),j=computed(()=>r.value&&z.value.type!==""&&Ze$2.instance.isShowEntityInfo&&!ee$1.instance.editor.isActive);return watch(j,async ie=>{var Oe;if(ie){await nextTick();const ur=(Oe=n.value)==null?void 0:Oe.$el;ur&&(y.value=ur.offsetWidth,k.value=ur.offsetHeight)}}),(ie,Oe)=>{const ur=resolveComponent("el-text"),hr=resolveComponent("el-col"),Vr=resolveComponent("el-row"),dr=resolveComponent("el-card");return j.value?(openBlock(),createBlock(dr,{key:0,ref_key:"cardRef",ref:n,class:"ml-entity-info"},{default:withCtx(()=>[createVNode(Vr,{class:"ml-entity-info-text"},{default:withCtx(()=>[createVNode(hr,{span:24},{default:withCtx(()=>[createVNode(ur,{size:"small",class:"ml-entity-info-title"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(z.value.type),1)]),_:1})]),_:1})]),_:1}),createVNode(Vr,{class:"ml-entity-info-text"},{default:withCtx(()=>[createVNode(hr,{span:10},{default:withCtx(()=>[createVNode(ur,{size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.entityInfo.color")),1)]),_:1})]),_:1}),createVNode(hr,{span:14},{default:withCtx(()=>[createVNode(ur,{size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(z.value.color),1)]),_:1})]),_:1})]),_:1}),createVNode(Vr,{class:"ml-entity-info-text"},{default:withCtx(()=>[createVNode(hr,{span:10},{default:withCtx(()=>[createVNode(ur,{size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.entityInfo.layer")),1)]),_:1})]),_:1}),createVNode(hr,{span:14},{default:withCtx(()=>[createVNode(ur,{size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(z.value.layer),1)]),_:1})]),_:1})]),_:1}),createVNode(Vr,{class:"ml-entity-info-text"},{default:withCtx(()=>[createVNode(hr,{span:10},{default:withCtx(()=>[createVNode(ur,{size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.entityInfo.lineType")),1)]),_:1})]),_:1}),createVNode(hr,{span:14},{default:withCtx(()=>[createVNode(ur,{size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(z.value.lineType),1)]),_:1})]),_:1})]),_:1})]),_:1},512)):createCommentVNode("",!0)}}}),Ga=W(Ya,[["__scopeId","data-v-d0b7631d"]]),Wa=defineComponent({__name:"MlLanguageSelector",props:{currentLocale:{default:void 0}},setup(t){const e=me(),n=t,{effectiveLocale:r,setLocale:g}=Ze(n.currentLocale),$=reactive([{name:"en",text:"English"},{name:"zh",text:""}]),y=k=>{(k==="en"||k==="zh")&&g(k)};return(k,L)=>unref(e).isShowLanguageSelector?(openBlock(),createBlock(unref(ea),{key:0,class:"ml-language-selector",languages:$,current:unref(r),onClick:y},null,8,["languages","current"])):createCommentVNode("",!0)}}),Xa=W(Wa,[["__scopeId","data-v-22a7d15f"]]),Ua=defineComponent({__name:"MlMainMenu",setup(t){const{t:e}=useI18n(),n=me(),r=g=>{g==="Convert"?new nm().tirgger(ee$1.instance.context):g==="QNew"?new lm().tirgger(ee$1.instance.context):g==="Open"&&new cm().tirgger(ee$1.instance.context)};return(g,$)=>{const y=resolveComponent("el-icon"),k=resolveComponent("el-dropdown-item"),L=resolveComponent("el-dropdown-menu"),V=resolveComponent("el-dropdown");return unref(n).isShowMainMenu?(openBlock(),createBlock(V,{key:0,"aria-hidden":"false",class:"ml-main-menu-container",onCommand:r},{dropdown:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(k,{command:"QNew"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.mainMenu.new")),1)]),_:1}),createVNode(k,{command:"Open"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.mainMenu.open")),1)]),_:1})]),_:1})]),default:withCtx(()=>[createVNode(y,{class:"ml-main-menu-icon",size:"30"},{default:withCtx(()=>[createVNode(unref(At))]),_:1})]),_:1})):createCommentVNode("",!0)}}}),Za=W(Ua,[["__scopeId","data-v-8caede15"]]),qa={key:0,class:"ml-vertical-toolbar-container"},ja=defineComponent({__name:"MlToolBars",setup(t){const{t:e}=useI18n(),n=me(),r=computed(()=>[{icon:dn,text:e("main.verticalToolbar.select.text"),command:"select",description:e("main.verticalToolbar.select.description")},{icon:sn,text:e("main.verticalToolbar.pan.text"),command:"pan",description:e("main.verticalToolbar.pan.description")},{icon:hn,text:e("main.verticalToolbar.zoomToExtent.text"),command:"zoom",description:e("main.verticalToolbar.zoomToExtent.description")},{icon:vn,text:e("main.verticalToolbar.zoomToBox.text"),command:"zoomw",description:e("main.verticalToolbar.zoomToBox.description")},{icon:tn,text:e("main.verticalToolbar.layer.text"),command:"la",description:e("main.verticalToolbar.layer.description")}]),g=$=>{ee$1.instance.sendStringToExecute($)};return($,y)=>unref(n).isShowToolbar?(openBlock(),createElementBlock("div",qa,[createVNode(unref(ca),{items:r.value,size:"small",direction:"vertical",onClick:g},null,8,["items"])])):createCommentVNode("",!0)}}),Ka={class:"ml-notification-item-icon"},Qa={class:"ml-notification-item-content"},Ja={class:"ml-notification-item-header"},ei={class:"ml-notification-item-title"},ti={class:"ml-notification-item-actions"},ni={key:0,class:"ml-notification-item-message"},oi={class:"ml-notification-item-footer"},li={class:"ml-notification-item-time"},ai=defineComponent({__name:"MlNotificationItem",props:{notification:{}},emits:["close","action"],setup(t){const e=t,{t:n}=useI18n(),r=computed(()=>{switch(e.notification.type){case"info":return Te;case"warning":return Zt;case"error":return Dt;case"success":return Gt;default:return Te}}),g=y=>{y.action()},$=y=>{const k=new Date().getTime()-y.getTime(),L=Math.floor(k/6e4),V=Math.floor(k/36e5),z=Math.floor(k/864e5);return z>0?n("main.notification.time.daysAgo",{count:z}):V>0?n("main.notification.time.hoursAgo",{count:V}):L>0?n("main.notification.time.minutesAgo",{count:L}):n("main.notification.time.justNow")};return(y,k)=>{const L=resolveComponent("el-icon"),V=resolveComponent("el-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["ml-notification-item",`ml-notification-item--${y.notification.type}`])},[createBaseVNode("div",Ka,[createVNode(L,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.value)))]),_:1})]),createBaseVNode("div",Qa,[createBaseVNode("div",Ja,[createBaseVNode("h4",ei,toDisplayString$1(y.notification.title),1),createBaseVNode("div",ti,[y.notification.actions&&y.notification.actions.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(y.notification.actions,z=>(openBlock(),createBlock(V,{key:z.label,type:z.primary?"primary":"default",size:"small",onClick:j=>g(z)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(z.label),1)]),_:2},1032,["type","onClick"]))),128)):createCommentVNode("",!0),createVNode(V,{text:"",size:"small",onClick:k[0]||(k[0]=z=>y.$emit("close"))},{default:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(unref(xe))]),_:1})]),_:1})])]),y.notification.message?(openBlock(),createElementBlock("p",ni,toDisplayString$1(y.notification.message),1)):createCommentVNode("",!0),createBaseVNode("div",oi,[createBaseVNode("span",li,toDisplayString$1($(y.notification.timestamp)),1)])])],2)}}}),ii=W(ai,[["__scopeId","data-v-e1dde915"]]),ri={class:"ml-notification-center"},si={class:"ml-notification-center-header"},ci={class:"ml-notification-center-title"},ui={class:"ml-notification-center-actions"},di={class:"ml-notification-center-content"},mi={key:0,class:"ml-notification-center-empty"},pi={key:1,class:"ml-notification-list"},vi=defineComponent({__name:"MlNotificationCenter",props:{title:{}},emits:["close"],setup(t){const{t:e}=useI18n(),n=t,r=computed(()=>n.title??e("main.notification.center.title")),{notifications:g,remove:$,clearAll:y}=he(),k=L=>{L.action()};return(L,V)=>{const z=resolveComponent("el-icon"),j=resolveComponent("el-button"),ie=resolveComponent("el-tooltip");return openBlock(),createElementBlock("div",ri,[createBaseVNode("div",si,[createBaseVNode("div",ci,[createVNode(z,{class:"ml-notification-center-icon"},{default:withCtx(()=>[createVNode(unref(be))]),_:1}),createBaseVNode("span",null,toDisplayString$1(r.value),1)]),createBaseVNode("div",ui,[unref(g).length>0?(openBlock(),createBlock(ie,{key:0,content:unref(e)("main.notification.center.clearAll"),"hide-after":0},{default:withCtx(()=>[createVNode(j,{text:"",circle:"",size:"small",class:"ml-notification-center-clear",onClick:unref(y)},{default:withCtx(()=>[createVNode(z,null,{default:withCtx(()=>[createVNode(unref(Vt))]),_:1})]),_:1},8,["onClick"])]),_:1},8,["content"])):createCommentVNode("",!0),createVNode(j,{text:"",size:"small",class:"ml-notification-center-close",onClick:V[0]||(V[0]=Oe=>L.$emit("close"))},{default:withCtx(()=>[createVNode(z,null,{default:withCtx(()=>[createVNode(unref(xe))]),_:1})]),_:1})])]),createBaseVNode("div",di,[unref(g).length===0?(openBlock(),createElementBlock("div",mi,[createVNode(z,{class:"ml-notification-center-empty-icon"},{default:withCtx(()=>[createVNode(unref(be))]),_:1}),createBaseVNode("p",null,toDisplayString$1(unref(e)("main.notification.center.noNotifications")),1)])):(openBlock(),createElementBlock("div",pi,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),Oe=>(openBlock(),createBlock(ii,{key:Oe.id,notification:Oe,onClose:ur=>unref($)(Oe.id),onAction:k},null,8,["notification","onClose"]))),128))]))])])}}}),gi=W(vi,[["__scopeId","data-v-bdd67bed"]]),fi=defineComponent({__name:"MlFullScreenButton",setup(t){const{t:e}=useI18n(),{isFullscreen:n,toggle:r}=useFullscreen(),g=computed(()=>({onIcon:Be,offIcon:Be,onTooltip:e("main.statusBar.fullScreen.on"),offTooltip:e("main.statusBar.fullScreen.off")})),$=computed(()=>!n.value);return(y,k)=>(openBlock(),createBlock(unref(je),{modelValue:$.value,"onUpdate:modelValue":k[0]||(k[0]=L=>$.value=L),data:g.value,onClick:unref(r)},null,8,["modelValue","data","onClick"]))}}),hi=defineComponent({__name:"MlNotificationButton",emits:["click"],setup(t,{emit:e}){const{t:n}=useI18n(),{unreadCount:r}=he(),g=e,$=()=>{g("click")};return(y,k)=>{const L=resolveComponent("el-badge"),V=resolveComponent("el-button"),z=resolveComponent("el-tooltip");return openBlock(),createBlock(z,{content:unref(n)("main.statusBar.notification.tooltip"),"hide-after":0},{default:withCtx(()=>[createVNode(V,{class:"ml-notification-button",icon:unref(be),onClick:$},{default:withCtx(()=>[unref(r)>0?(openBlock(),createBlock(L,{key:0,value:unref(r),max:99,class:"ml-notification-badge"},null,8,["value"])):createCommentVNode("",!0)]),_:1},8,["icon"])]),_:1},8,["content"])}}}),_i=W(hi,[["__scopeId","data-v-48c740b7"]]),yi=defineComponent({__name:"MlPointStyleButton",setup(t){const{t:e}=useI18n(),n=()=>{ee$1.instance.sendStringToExecute("pttype")};return(r,g)=>{const $=resolveComponent("el-button"),y=resolveComponent("el-tooltip");return openBlock(),createBlock(y,{content:unref(e)("main.statusBar.pointStyle.tooltip"),"hide-after":0},{default:withCtx(()=>[createVNode($,{class:"ml-point-style-button",icon:unref(Rt),onClick:g[0]||(g[0]=k=>n())},null,8,["icon"])]),_:1},8,["content"])}}}),wi=W(yi,[["__scopeId","data-v-29692d7d"]]),bi={key:0,class:"ml-progress"},ki=defineComponent({__name:"MlProgress",setup(t){const{t:e}=useI18n(),n=ref(0),r=ref(!1),{warning:g}=he(),$=k=>{if(k.stage==="CONVERSION"&&k.subStage&&k.subStage==="PARSE"&&k.subStageStatus==="END"&&k.data){const L=k.data;L.unknownEntityCount>0&&g(e("main.notification.title.parsingWarning"),e("main.message.unknownEntities",{count:L.unknownEntityCount}))}n.value=k.percentage,n.value<100?r.value=!0:r.value=!1},y=k=>`${k.toFixed(0)}%`;return onMounted(()=>{ot$1.on("open-file-progress",$)}),onUnmounted(()=>{ot$1.off("open-file-progress",$)}),(k,L)=>r.value?(openBlock(),createElementBlock("div",bi,[createVNode(unref(ElProgress),{"text-inside":!0,"stroke-width":20,percentage:n.value,format:y},null,8,["percentage"])])):createCommentVNode("",!0)}}),xi=W(ki,[["__scopeId","data-v-7513492f"]]),Ci=defineComponent({__name:"MlSettingButton",setup(t){const{t:e}=useI18n(),n=me(),r=g=>{g=="isShowCoordinate"?(n.isShowCoordinate=!n.isShowCoordinate,Ze$2.instance.isShowCoordinate=n.isShowCoordinate):g=="isShowCommandLine"?(n.isShowCommandLine=!n.isShowCommandLine,Ze$2.instance.isShowCommandLine=n.isShowCommandLine):g=="isShowEntityInfo"?(n.isShowEntityInfo=!n.isShowEntityInfo,Ze$2.instance.isShowEntityInfo=n.isShowEntityInfo):g=="isShowMainMenu"?(n.isShowMainMenu=!n.isShowMainMenu,Ze$2.instance.isShowMainMenu=n.isShowMainMenu):g=="isShowLanguageSelector"?(n.isShowLanguageSelector=!n.isShowLanguageSelector,Ze$2.instance.isShowLanguageSelector=n.isShowLanguageSelector):g=="isShowToolbar"?(n.isShowToolbar=!n.isShowToolbar,Ze$2.instance.isShowToolbar=n.isShowToolbar):g=="isShowStats"&&(n.isShowStats=!n.isShowStats,Ze$2.instance.isShowStats=n.isShowStats)};return(g,$)=>{const y=resolveComponent("el-button"),k=resolveComponent("el-dropdown-item"),L=resolveComponent("el-dropdown-menu"),V=resolveComponent("el-dropdown"),z=resolveComponent("el-tooltip");return openBlock(),createBlock(z,{content:unref(e)("main.statusBar.setting.tooltip"),"hide-after":0},{default:withCtx(()=>[createVNode(V,{trigger:"click",onCommand:r},{dropdown:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(k,{icon:unref(n).isShowStats?unref(te):"",command:"isShowStats"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.statusBar.setting.stats")),1)]),_:1},8,["icon"]),createVNode(k,{icon:unref(n).isShowCommandLine?unref(te):"",command:"isShowCommandLine"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.statusBar.setting.commandLine")),1)]),_:1},8,["icon"]),createVNode(k,{icon:unref(n).isShowEntityInfo?unref(te):"",command:"isShowEntityInfo"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.statusBar.setting.entityInfo")),1)]),_:1},8,["icon"]),createVNode(k,{icon:unref(n).isShowMainMenu?unref(te):"",command:"isShowMainMenu"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.statusBar.setting.mainMenu")),1)]),_:1},8,["icon"]),createVNode(k,{icon:unref(n).isShowLanguageSelector?unref(te):"",command:"isShowLanguageSelector"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.statusBar.setting.languageSelector")),1)]),_:1},8,["icon"]),createVNode(k,{icon:unref(n).isShowCoordinate?unref(te):"",command:"isShowCoordinate"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.statusBar.setting.coordinate")),1)]),_:1},8,["icon"]),createVNode(k,{icon:unref(n).isShowToolbar?unref(te):"",command:"isShowToolbar"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(e)("main.statusBar.setting.toolbar")),1)]),_:1},8,["icon"])]),_:1})]),default:withCtx(()=>[createVNode(y,{class:"ml-setting-button",icon:unref(Ht)},null,8,["icon"])]),_:1})]),_:1},8,["content"])}}}),Mi=W(Ci,[["__scopeId","data-v-a8817740"]]),Si=defineComponent({__name:"MlThemeButton",props:{isDark:{type:Boolean},toggleDark:{type:Function}},setup(t){const{t:e}=useI18n(),n=computed(()=>({onIcon:Xt,offIcon:Nt,onTooltip:e("main.statusBar.theme.light"),offTooltip:e("main.statusBar.theme.dark")}));return(r,g)=>(openBlock(),createBlock(unref(je),{"model-value":r.isDark,data:n.value,onClick:g[0]||(g[0]=$=>r.toggleDark())},null,8,["model-value","data"]))}}),Li=defineComponent({__name:"MlWarningButton",setup(t){const e=()=>{ee$1.instance.sendStringToExecute("md")},{fonts:n,images:r}=qe(),g=computed(()=>r.size>0||n.size>0);return($,y)=>{const k=resolveComponent("el-button");return g.value?(openBlock(),createBlock(k,{key:0,class:"ml-warning-button",type:"warning",icon:unref(jt),onClick:y[0]||(y[0]=L=>e())},null,8,["icon"])):createCommentVNode("",!0)}}}),Ti=W(Li,[["__scopeId","data-v-3411a3ec"]]),Bi=defineComponent({__name:"MlStatusBar",props:{isDark:{type:Boolean},toggleDark:{type:Function}},emits:["toggleNotificationCenter"],setup(t,{emit:e}){const n=t,{text:r}=jo(ee$1.instance.curView),g=ll(ee$1.instance),$=me(),{isMobile:y}=sl(),k=z=>{Gh$1().layoutManager.setCurrentLayoutBtrId(z.blockTableRecordId)},L=e,V=()=>{L("toggleNotificationCenter")};return(z,j)=>{const ie=resolveComponent("el-button"),Oe=resolveComponent("el-button-group");return openBlock(),createBlock(unref(ia),{class:"ml-status-bar"},{left:withCtx(()=>[createVNode(Oe,{class:"ml-status-bar-left-button-group"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),ur=>(openBlock(),createBlock(ie,{class:"ml-status-bar-layout-button",key:ur.name,type:ur.isActive?"primary":"",onClick:hr=>k(ur)},{default:withCtx(()=>[createTextVNode(toDisplayString$1(ur.name),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),right:withCtx(()=>[createVNode(xi),createVNode(Oe,{class:"ml-status-bar-right-button-group"},{default:withCtx(()=>[unref($).isShowCoordinate&&!unref(y)?(openBlock(),createBlock(ie,{key:0,class:"ml-status-bar-current-pos"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(unref(r)),1)]),_:1})):createCommentVNode("",!0),createVNode(Ti),createVNode(_i,{onClick:V}),createVNode(Si,{"is-dark":n.isDark,"toggle-dark":n.toggleDark},null,8,["is-dark","toggle-dark"]),createVNode(fi),createVNode(wi),createVNode(Mi)]),_:1})]),_:1})}}}),Di=W(Bi,[["__scopeId","data-v-78a01988"]]),zi={class:"ml-file-name"},cr=defineComponent({__name:"MlCadViewer",props:{locale:{default:"default"},url:{default:void 0},localFile:{default:void 0},background:{default:void 0},baseUrl:{default:void 0},useMainThreadDraw:{type:Boolean,default:!1},theme:{default:"dark"}},setup(t){const e=t,{t:n}=useI18n(),{effectiveLocale:r,elementPlusLocale:g}=Ze(e.locale),{info:$,warning:y,error:k,success:L}=he(),V=ref(),z=ref(null),j=ref(null),ie=computed(()=>j.value),Oe=ref(!1),ur=useDark({selector:z,attribute:"class",valueDark:"ml-theme-dark",valueLight:"ml-theme-light"}),hr=useToggle(ur),Vr=async(rc,ic)=>{const _c={minimumChunkSize:1e3};await ee$1.instance.openDocument(rc,ic,_c),oe.fileName=ee$1.instance.curDocument.docTitle},dr=async rc=>{try{const ic={minimumChunkSize:1e3};await ee$1.instance.openUrl(rc,ic),oe.fileName=ee$1.instance.curDocument.docTitle}catch(ic){console.error("Failed to open file from URL:",ic),ElMessage({message:n("main.message.failedToOpenFile",{fileName:rc}),grouping:!0,type:"error",showClose:!0})}},ec=async rc=>{try{const ic=new FileReader;ic.readAsArrayBuffer(rc);const _c=await new Promise((Xm,Km)=>{ic.onload=tv=>{var nv;const sv=(nv=tv.target)==null?void 0:nv.result;sv?Xm(sv):Km(new Error("Failed to read file content"))},ic.onerror=()=>Km(new Error("Failed to read file"))}),qm={minimumChunkSize:1e3};await ee$1.instance.openDocument(rc.name,_c,qm),oe.fileName=ee$1.instance.curDocument.docTitle}catch(ic){console.error("Failed to open local file:",ic),ElMessage({message:n("main.message.failedToOpenFile",{fileName:rc.name}),grouping:!0,type:"error",showClose:!0})}};watch(()=>e.url,async rc=>{rc&&dr(rc)}),watch(()=>e.localFile,async rc=>{rc&&ec(rc)}),watch(()=>e.background,rc=>{rc!=null&&(ee$1.instance.curView.backgroundColor=rc)}),watch(()=>e.theme,rc=>{ur.value=rc==="dark"}),onMounted(async()=>{V.value&&(Pi({canvas:V.value,baseUrl:e.baseUrl,useMainThreadDraw:e.useMainThreadDraw}),j.value=ee$1.instance),e.url?dr(e.url):e.localFile&&ec(e.localFile),e.background!=null&&(ee$1.instance.curView.backgroundColor=e.background),e.theme==="dark"?ur.value=!0:ur.value=!1}),ot$1.on("message",rc=>{switch(ElMessage({message:rc.message,grouping:!0,type:rc.type,showClose:!0}),rc.type){case"success":L("System Message",rc.message);break;case"warning":y("System Warning",rc.message);break;case"error":k("System Error",rc.message);break;default:$("System Info",rc.message);break}}),ot$1.on("fonts-not-loaded",rc=>{const ic=rc.fonts.map(qm=>qm.fontName).join(", "),_c=n("main.message.fontsNotLoaded",{fonts:ic});k(n("main.notification.title.fontNotFound"),_c)}),ot$1.on("fonts-not-found",rc=>{const ic=n("main.message.fontsNotFound",{fonts:rc.fonts.join(", ")});y(n("main.notification.title.fontNotFound"),ic)}),ot$1.on("failed-to-get-avaiable-fonts",rc=>{ElMessage({message:n("main.message.failedToGetAvaiableFonts",{url:rc.url}),grouping:!0,type:"error",showClose:!0})}),ot$1.on("failed-to-open-file",rc=>{const ic=n("main.message.failedToOpenFile",{fileName:rc.fileName});ElMessage({message:ic,grouping:!0,type:"error",showClose:!0}),k("File Opening Failed",ic)});const tc=()=>{Oe.value=!Oe.value},Xs=()=>{Oe.value=!1};return(rc,ic)=>{const _c=resolveComponent("el-config-provider");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("canvas",{ref_key:"canvasRef",ref:V,class:"ml-cad-canvas"},null,512),j.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"viewerRoot",ref:z,class:"ml-cad-viewer-container"},[createVNode(_c,{locale:unref(g)},{default:withCtx(()=>[createBaseVNode("header",null,[createVNode(unref(Za)),createVNode(unref(Xa),{"current-locale":unref(r)},null,8,["current-locale"])]),createBaseVNode("main",null,[createBaseVNode("div",zi,toDisplayString$1(unref(oe).fileName),1),createVNode(unref(ja)),createVNode(unref(Ha),{editor:ie.value},null,8,["editor"]),createVNode(unref(Al))]),createBaseVNode("footer",null,[createVNode(unref(Di),{"is-dark":unref(ur),"toggle-dark":unref(hr),onToggleNotificationCenter:tc},null,8,["is-dark","toggle-dark"])]),createVNode(unref(Nl),{onFileRead:Vr}),createVNode(unref(Ga)),Oe.value?(openBlock(),createBlock(unref(gi),{key:0,onClose:Xs})):createCommentVNode("",!0)]),_:1},8,["locale"])],512)):createCommentVNode("",!0)],64)}}}),$i=()=>{Q$1.instance.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"la","la",new Ii),Q$1.instance.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"md","md",new Ai),Q$1.instance.addCommand(Q$1.SYSTEMT_COMMAND_GROUP_NAME,"pttype","pttype",new Ei)},Vi=()=>{const{registerDialog:t}=fe();t({name:"ReplacementDlg",component:markRaw(ul),props:{}}),t({name:"PointStyleDlg",component:markRaw(cl),props:{}})},Pi=(t={})=>{ee$1.createInstance(t),$i(),Vi()},oe=reactive({fileName:"",dialogs:{layerManager:!1}});class Ii extends ve$1{execute(e){oe.dialogs.layerManager=!0}}class Ai extends ve$1{execute(e){const{toggleDialog:n}=fe();n("ReplacementDlg",!0)}}class Ei extends ve$1{execute(e){const{toggleDialog:n}=fe();n("PointStyleDlg",!0)}}var vconsole_min={exports:{}};/*!
 * vConsole v3.15.1 (https://github.com/Tencent/vConsole)
 *
 * Tencent is pleased to support the open source community by making vConsole available.
 * Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.
 * Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 * http://opensource.org/licenses/MIT
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */(function(module,exports$1){(function(t,e){module.exports=e()})(commonjsGlobal||self,function(){return function(){var __webpack_modules__={4264:function(t,e,n){t.exports=n(7588)},5036:function(t,e,n){n(1719),n(5677),n(6394),n(5334),n(6969),n(2021),n(8328),n(2129);var r=n(1287);t.exports=r.Promise},2582:function(t,e,n){n(1646),n(6394),n(2004),n(462),n(8407),n(2429),n(1172),n(8288),n(1274),n(8201),n(6626),n(3211),n(9952),n(15),n(9831),n(7521),n(2972),n(6956),n(5222),n(2257);var r=n(1287);t.exports=r.Symbol},8257:function(t,e,n){var r=n(7583),g=n(9212),$=n(5637),y=r.TypeError;t.exports=function(k){if(g(k))return k;throw y($(k)+" is not a function")}},1186:function(t,e,n){var r=n(7583),g=n(2097),$=n(5637),y=r.TypeError;t.exports=function(k){if(g(k))return k;throw y($(k)+" is not a constructor")}},9882:function(t,e,n){var r=n(7583),g=n(9212),$=r.String,y=r.TypeError;t.exports=function(k){if(typeof k=="object"||g(k))return k;throw y("Can't set "+$(k)+" as a prototype")}},6288:function(t,e,n){var r=n(3649),g=n(3590),$=n(4615),y=r("unscopables"),k=Array.prototype;k[y]==null&&$.f(k,y,{configurable:!0,value:g(null)}),t.exports=function(L){k[y][L]=!0}},4761:function(t,e,n){var r=n(7583),g=n(2447),$=r.TypeError;t.exports=function(y,k){if(g(k,y))return y;throw $("Incorrect invocation")}},2569:function(t,e,n){var r=n(7583),g=n(794),$=r.String,y=r.TypeError;t.exports=function(k){if(g(k))return k;throw y($(k)+" is not an object")}},5766:function(t,e,n){var r=n(2977),g=n(6782),$=n(1825),y=function(k){return function(L,V,z){var j,ie=r(L),Oe=$(ie),ur=g(z,Oe);if(k&&V!=V){for(;Oe>ur;)if((j=ie[ur++])!=j)return!0}else for(;Oe>ur;ur++)if((k||ur in ie)&&ie[ur]===V)return k||ur||0;return!k&&-1}};t.exports={includes:y(!0),indexOf:y(!1)}},4805:function(t,e,n){var r=n(2938),g=n(7386),$=n(5044),y=n(1324),k=n(1825),L=n(4822),V=g([].push),z=function(j){var ie=j==1,Oe=j==2,ur=j==3,hr=j==4,Vr=j==6,dr=j==7,ec=j==5||Vr;return function(tc,Xs,rc,ic){for(var _c,qm,Xm=y(tc),Km=$(Xm),tv=r(Xs,rc),nv=k(Km),sv=0,gv=ic||L,Sv=ie?gv(tc,nv):Oe||dr?gv(tc,0):void 0;nv>sv;sv++)if((ec||sv in Km)&&(qm=tv(_c=Km[sv],sv,Xm),j))if(ie)Sv[sv]=qm;else if(qm)switch(j){case 3:return!0;case 5:return _c;case 6:return sv;case 2:V(Sv,_c)}else switch(j){case 4:return!1;case 7:V(Sv,_c)}return Vr?-1:ur||hr?hr:Sv}};t.exports={forEach:z(0),map:z(1),filter:z(2),some:z(3),every:z(4),find:z(5),findIndex:z(6),filterReject:z(7)}},9269:function(t,e,n){var r=n(6544),g=n(3649),$=n(4061),y=g("species");t.exports=function(k){return $>=51||!r(function(){var L=[];return(L.constructor={})[y]=function(){return{foo:1}},L[k](Boolean).foo!==1})}},4546:function(t,e,n){var r=n(7583),g=n(6782),$=n(1825),y=n(5999),k=r.Array,L=Math.max;t.exports=function(V,z,j){for(var ie=$(V),Oe=g(z,ie),ur=g(j===void 0?ie:j,ie),hr=k(L(ur-Oe,0)),Vr=0;Oe<ur;Oe++,Vr++)y(hr,Vr,V[Oe]);return hr.length=Vr,hr}},6917:function(t,e,n){var r=n(7386);t.exports=r([].slice)},5289:function(t,e,n){var r=n(7583),g=n(4521),$=n(2097),y=n(794),k=n(3649)("species"),L=r.Array;t.exports=function(V){var z;return g(V)&&(z=V.constructor,($(z)&&(z===L||g(z.prototype))||y(z)&&(z=z[k])===null)&&(z=void 0)),z===void 0?L:z}},4822:function(t,e,n){var r=n(5289);t.exports=function(g,$){return new(r(g))($===0?0:$)}},3616:function(t,e,n){var r=n(3649)("iterator"),g=!1;try{var $=0,y={next:function(){return{done:!!$++}},return:function(){g=!0}};y[r]=function(){return this},Array.from(y,function(){throw 2})}catch{}t.exports=function(k,L){if(!L&&!g)return!1;var V=!1;try{var z={};z[r]=function(){return{next:function(){return{done:V=!0}}}},k(z)}catch{}return V}},9624:function(t,e,n){var r=n(7386),g=r({}.toString),$=r("".slice);t.exports=function(y){return $(g(y),8,-1)}},3058:function(t,e,n){var r=n(7583),g=n(8191),$=n(9212),y=n(9624),k=n(3649)("toStringTag"),L=r.Object,V=y(function(){return arguments}())=="Arguments";t.exports=g?y:function(z){var j,ie,Oe;return z===void 0?"Undefined":z===null?"Null":typeof(ie=function(ur,hr){try{return ur[hr]}catch{}}(j=L(z),k))=="string"?ie:V?y(j):(Oe=y(j))=="Object"&&$(j.callee)?"Arguments":Oe}},1509:function(t,e,n){var r=n(7386)("".replace),g=String(Error("zxcasd").stack),$=/\n\s*at [^:]*:[^\n]*/,y=$.test(g);t.exports=function(k,L){if(y&&typeof k=="string")for(;L--;)k=r(k,$,"");return k}},3478:function(t,e,n){var r=n(2870),g=n(929),$=n(6683),y=n(4615);t.exports=function(k,L,V){for(var z=g(L),j=y.f,ie=$.f,Oe=0;Oe<z.length;Oe++){var ur=z[Oe];r(k,ur)||V&&r(V,ur)||j(k,ur,ie(L,ur))}}},926:function(t,e,n){var r=n(6544);t.exports=!r(function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})},4683:function(t,e,n){var r=n(2365).IteratorPrototype,g=n(3590),$=n(4677),y=n(8821),k=n(339),L=function(){return this};t.exports=function(V,z,j,ie){var Oe=z+" Iterator";return V.prototype=g(r,{next:$(+!ie,j)}),y(V,Oe,!1,!0),k[Oe]=L,V}},57:function(t,e,n){var r=n(8494),g=n(4615),$=n(4677);t.exports=r?function(y,k,L){return g.f(y,k,$(1,L))}:function(y,k,L){return y[k]=L,y}},4677:function(t){t.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},5999:function(t,e,n){var r=n(8734),g=n(4615),$=n(4677);t.exports=function(y,k,L){var V=r(k);V in y?g.f(y,V,$(0,L)):y[V]=L}},9012:function(t,e,n){var r=n(7263),g=n(8262),$=n(6268),y=n(4340),k=n(9212),L=n(4683),V=n(729),z=n(7496),j=n(8821),ie=n(57),Oe=n(1270),ur=n(3649),hr=n(339),Vr=n(2365),dr=y.PROPER,ec=y.CONFIGURABLE,tc=Vr.IteratorPrototype,Xs=Vr.BUGGY_SAFARI_ITERATORS,rc=ur("iterator"),ic="keys",_c="values",qm="entries",Xm=function(){return this};t.exports=function(Km,tv,nv,sv,gv,Sv,wv){L(nv,tv,sv);var rv,Jm,dv,pv=function(Hv){if(Hv===gv&&$v)return $v;if(!Xs&&Hv in uv)return uv[Hv];switch(Hv){case ic:case _c:case qm:return function(){return new nv(this,Hv)}}return function(){return new nv(this)}},mv=tv+" Iterator",Cv=!1,uv=Km.prototype,yv=uv[rc]||uv["@@iterator"]||gv&&uv[gv],$v=!Xs&&yv||pv(gv),Dv=tv=="Array"&&uv.entries||yv;if(Dv&&(rv=V(Dv.call(new Km)))!==Object.prototype&&rv.next&&($||V(rv)===tc||(z?z(rv,tc):k(rv[rc])||Oe(rv,rc,Xm)),j(rv,mv,!0,!0),$&&(hr[mv]=Xm)),dr&&gv==_c&&yv&&yv.name!==_c&&(!$&&ec?ie(uv,"name",_c):(Cv=!0,$v=function(){return g(yv,this)})),gv)if(Jm={values:pv(_c),keys:Sv?$v:pv(ic),entries:pv(qm)},wv)for(dv in Jm)(Xs||Cv||!(dv in uv))&&Oe(uv,dv,Jm[dv]);else r({target:tv,proto:!0,forced:Xs||Cv},Jm);return $&&!wv||uv[rc]===$v||Oe(uv,rc,$v,{name:gv}),hr[tv]=$v,Jm}},2219:function(t,e,n){var r=n(1287),g=n(2870),$=n(491),y=n(4615).f;t.exports=function(k){var L=r.Symbol||(r.Symbol={});g(L,k)||y(L,k,{value:$.f(k)})}},8494:function(t,e,n){var r=n(6544);t.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},6668:function(t,e,n){var r=n(7583),g=n(794),$=r.document,y=g($)&&g($.createElement);t.exports=function(k){return y?$.createElement(k):{}}},6778:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9307:function(t,e,n){var r=n(6668)("span").classList,g=r&&r.constructor&&r.constructor.prototype;t.exports=g===Object.prototype?void 0:g},2274:function(t){t.exports=typeof window=="object"},3256:function(t,e,n){var r=n(6918),g=n(7583);t.exports=/ipad|iphone|ipod/i.test(r)&&g.Pebble!==void 0},7020:function(t,e,n){var r=n(6918);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5354:function(t,e,n){var r=n(9624),g=n(7583);t.exports=r(g.process)=="process"},6846:function(t,e,n){var r=n(6918);t.exports=/web0s(?!.*chrome)/i.test(r)},6918:function(t,e,n){var r=n(5897);t.exports=r("navigator","userAgent")||""},4061:function(t,e,n){var r,g,$=n(7583),y=n(6918),k=$.process,L=$.Deno,V=k&&k.versions||L&&L.version,z=V&&V.v8;z&&(g=(r=z.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!g&&y&&(!(r=y.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=y.match(/Chrome\/(\d+)/))&&(g=+r[1]),t.exports=g},5690:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1178:function(t,e,n){var r=n(6544),g=n(4677);t.exports=!r(function(){var $=Error("a");return!("stack"in $)||(Object.defineProperty($,"stack",g(1,7)),$.stack!==7)})},7263:function(t,e,n){var r=n(7583),g=n(6683).f,$=n(57),y=n(1270),k=n(460),L=n(3478),V=n(4451);t.exports=function(z,j){var ie,Oe,ur,hr,Vr,dr=z.target,ec=z.global,tc=z.stat;if(ie=ec?r:tc?r[dr]||k(dr,{}):(r[dr]||{}).prototype)for(Oe in j){if(hr=j[Oe],ur=z.noTargetGet?(Vr=g(ie,Oe))&&Vr.value:ie[Oe],!V(ec?Oe:dr+(tc?".":"#")+Oe,z.forced)&&ur!==void 0){if(typeof hr==typeof ur)continue;L(hr,ur)}(z.sham||ur&&ur.sham)&&$(hr,"sham",!0),y(ie,Oe,hr,z)}}},6544:function(t){t.exports=function(e){try{return!!e()}catch{return!0}}},1611:function(t,e,n){var r=n(8987),g=Function.prototype,$=g.apply,y=g.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(r?y.bind($):function(){return y.apply($,arguments)})},2938:function(t,e,n){var r=n(7386),g=n(8257),$=n(8987),y=r(r.bind);t.exports=function(k,L){return g(k),L===void 0?k:$?y(k,L):function(){return k.apply(L,arguments)}}},8987:function(t,e,n){var r=n(6544);t.exports=!r(function(){var g=(function(){}).bind();return typeof g!="function"||g.hasOwnProperty("prototype")})},8262:function(t,e,n){var r=n(8987),g=Function.prototype.call;t.exports=r?g.bind(g):function(){return g.apply(g,arguments)}},4340:function(t,e,n){var r=n(8494),g=n(2870),$=Function.prototype,y=r&&Object.getOwnPropertyDescriptor,k=g($,"name"),L=k&&(function(){}).name==="something",V=k&&(!r||r&&y($,"name").configurable);t.exports={EXISTS:k,PROPER:L,CONFIGURABLE:V}},7386:function(t,e,n){var r=n(8987),g=Function.prototype,$=g.bind,y=g.call,k=r&&$.bind(y,y);t.exports=r?function(L){return L&&k(L)}:function(L){return L&&function(){return y.apply(L,arguments)}}},5897:function(t,e,n){var r=n(7583),g=n(9212),$=function(y){return g(y)?y:void 0};t.exports=function(y,k){return arguments.length<2?$(r[y]):r[y]&&r[y][k]}},8272:function(t,e,n){var r=n(3058),g=n(911),$=n(339),y=n(3649)("iterator");t.exports=function(k){if(k!=null)return g(k,y)||g(k,"@@iterator")||$[r(k)]}},6307:function(t,e,n){var r=n(7583),g=n(8262),$=n(8257),y=n(2569),k=n(5637),L=n(8272),V=r.TypeError;t.exports=function(z,j){var ie=arguments.length<2?L(z):j;if($(ie))return y(g(ie,z));throw V(k(z)+" is not iterable")}},911:function(t,e,n){var r=n(8257);t.exports=function(g,$){var y=g[$];return y==null?void 0:r(y)}},7583:function(t,e,n){var r=function(g){return g&&g.Math==Math&&g};t.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof n.g=="object"&&n.g)||function(){return this}()||Function("return this")()},2870:function(t,e,n){var r=n(7386),g=n(1324),$=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(y,k){return $(g(y),k)}},4639:function(t){t.exports={}},2716:function(t,e,n){var r=n(7583);t.exports=function(g,$){var y=r.console;y&&y.error&&(arguments.length==1?y.error(g):y.error(g,$))}},482:function(t,e,n){var r=n(5897);t.exports=r("document","documentElement")},275:function(t,e,n){var r=n(8494),g=n(6544),$=n(6668);t.exports=!r&&!g(function(){return Object.defineProperty($("div"),"a",{get:function(){return 7}}).a!=7})},5044:function(t,e,n){var r=n(7583),g=n(7386),$=n(6544),y=n(9624),k=r.Object,L=g("".split);t.exports=$(function(){return!k("z").propertyIsEnumerable(0)})?function(V){return y(V)=="String"?L(V,""):k(V)}:k},9734:function(t,e,n){var r=n(7386),g=n(9212),$=n(1314),y=r(Function.toString);g($.inspectSource)||($.inspectSource=function(k){return y(k)}),t.exports=$.inspectSource},4402:function(t,e,n){var r=n(794),g=n(57);t.exports=function($,y){r(y)&&"cause"in y&&g($,"cause",y.cause)}},2743:function(t,e,n){var r,g,$,y=n(9491),k=n(7583),L=n(7386),V=n(794),z=n(57),j=n(2870),ie=n(1314),Oe=n(9137),ur=n(4639),hr="Object already initialized",Vr=k.TypeError,dr=k.WeakMap;if(y||ie.state){var ec=ie.state||(ie.state=new dr),tc=L(ec.get),Xs=L(ec.has),rc=L(ec.set);r=function(_c,qm){if(Xs(ec,_c))throw new Vr(hr);return qm.facade=_c,rc(ec,_c,qm),qm},g=function(_c){return tc(ec,_c)||{}},$=function(_c){return Xs(ec,_c)}}else{var ic=Oe("state");ur[ic]=!0,r=function(_c,qm){if(j(_c,ic))throw new Vr(hr);return qm.facade=_c,z(_c,ic,qm),qm},g=function(_c){return j(_c,ic)?_c[ic]:{}},$=function(_c){return j(_c,ic)}}t.exports={set:r,get:g,has:$,enforce:function(_c){return $(_c)?g(_c):r(_c,{})},getterFor:function(_c){return function(qm){var Xm;if(!V(qm)||(Xm=g(qm)).type!==_c)throw Vr("Incompatible receiver, "+_c+" required");return Xm}}}},114:function(t,e,n){var r=n(3649),g=n(339),$=r("iterator"),y=Array.prototype;t.exports=function(k){return k!==void 0&&(g.Array===k||y[$]===k)}},4521:function(t,e,n){var r=n(9624);t.exports=Array.isArray||function(g){return r(g)=="Array"}},9212:function(t){t.exports=function(e){return typeof e=="function"}},2097:function(t,e,n){var r=n(7386),g=n(6544),$=n(9212),y=n(3058),k=n(5897),L=n(9734),V=function(){},z=[],j=k("Reflect","construct"),ie=/^\s*(?:class|function)\b/,Oe=r(ie.exec),ur=!ie.exec(V),hr=function(dr){if(!$(dr))return!1;try{return j(V,z,dr),!0}catch{return!1}},Vr=function(dr){if(!$(dr))return!1;switch(y(dr)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ur||!!Oe(ie,L(dr))}catch{return!0}};Vr.sham=!0,t.exports=!j||g(function(){var dr;return hr(hr.call)||!hr(Object)||!hr(function(){dr=!0})||dr})?Vr:hr},4451:function(t,e,n){var r=n(6544),g=n(9212),$=/#|\.prototype\./,y=function(j,ie){var Oe=L[k(j)];return Oe==z||Oe!=V&&(g(ie)?r(ie):!!ie)},k=y.normalize=function(j){return String(j).replace($,".").toLowerCase()},L=y.data={},V=y.NATIVE="N",z=y.POLYFILL="P";t.exports=y},794:function(t,e,n){var r=n(9212);t.exports=function(g){return typeof g=="object"?g!==null:r(g)}},6268:function(t){t.exports=!1},5871:function(t,e,n){var r=n(7583),g=n(5897),$=n(9212),y=n(2447),k=n(7786),L=r.Object;t.exports=k?function(V){return typeof V=="symbol"}:function(V){var z=g("Symbol");return $(z)&&y(z.prototype,L(V))}},4026:function(t,e,n){var r=n(7583),g=n(2938),$=n(8262),y=n(2569),k=n(5637),L=n(114),V=n(1825),z=n(2447),j=n(6307),ie=n(8272),Oe=n(7093),ur=r.TypeError,hr=function(dr,ec){this.stopped=dr,this.result=ec},Vr=hr.prototype;t.exports=function(dr,ec,tc){var Xs,rc,ic,_c,qm,Xm,Km,tv=tc&&tc.that,nv=!(!tc||!tc.AS_ENTRIES),sv=!(!tc||!tc.IS_ITERATOR),gv=!(!tc||!tc.INTERRUPTED),Sv=g(ec,tv),wv=function(Jm){return Xs&&Oe(Xs,"normal",Jm),new hr(!0,Jm)},rv=function(Jm){return nv?(y(Jm),gv?Sv(Jm[0],Jm[1],wv):Sv(Jm[0],Jm[1])):gv?Sv(Jm,wv):Sv(Jm)};if(sv)Xs=dr;else{if(!(rc=ie(dr)))throw ur(k(dr)+" is not iterable");if(L(rc)){for(ic=0,_c=V(dr);_c>ic;ic++)if((qm=rv(dr[ic]))&&z(Vr,qm))return qm;return new hr(!1)}Xs=j(dr,rc)}for(Xm=Xs.next;!(Km=$(Xm,Xs)).done;){try{qm=rv(Km.value)}catch(Jm){Oe(Xs,"throw",Jm)}if(typeof qm=="object"&&qm&&z(Vr,qm))return qm}return new hr(!1)}},7093:function(t,e,n){var r=n(8262),g=n(2569),$=n(911);t.exports=function(y,k,L){var V,z;g(y);try{if(!(V=$(y,"return"))){if(k==="throw")throw L;return L}V=r(V,y)}catch(j){z=!0,V=j}if(k==="throw")throw L;if(z)throw V;return g(V),L}},2365:function(t,e,n){var r,g,$,y=n(6544),k=n(9212),L=n(3590),V=n(729),z=n(1270),j=n(3649),ie=n(6268),Oe=j("iterator"),ur=!1;[].keys&&("next"in($=[].keys())?(g=V(V($)))!==Object.prototype&&(r=g):ur=!0),r==null||y(function(){var hr={};return r[Oe].call(hr)!==hr})?r={}:ie&&(r=L(r)),k(r[Oe])||z(r,Oe,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:ur}},339:function(t){t.exports={}},1825:function(t,e,n){var r=n(97);t.exports=function(g){return r(g.length)}},2095:function(t,e,n){var r,g,$,y,k,L,V,z,j=n(7583),ie=n(2938),Oe=n(6683).f,ur=n(8117).set,hr=n(7020),Vr=n(3256),dr=n(6846),ec=n(5354),tc=j.MutationObserver||j.WebKitMutationObserver,Xs=j.document,rc=j.process,ic=j.Promise,_c=Oe(j,"queueMicrotask"),qm=_c&&_c.value;qm||(r=function(){var Xm,Km;for(ec&&(Xm=rc.domain)&&Xm.exit();g;){Km=g.fn,g=g.next;try{Km()}catch(tv){throw g?y():$=void 0,tv}}$=void 0,Xm&&Xm.enter()},hr||ec||dr||!tc||!Xs?!Vr&&ic&&ic.resolve?((V=ic.resolve(void 0)).constructor=ic,z=ie(V.then,V),y=function(){z(r)}):ec?y=function(){rc.nextTick(r)}:(ur=ie(ur,j),y=function(){ur(r)}):(k=!0,L=Xs.createTextNode(""),new tc(r).observe(L,{characterData:!0}),y=function(){L.data=k=!k})),t.exports=qm||function(Xm){var Km={fn:Xm,next:void 0};$&&($.next=Km),g||(g=Km,y()),$=Km}},783:function(t,e,n){var r=n(7583);t.exports=r.Promise},8640:function(t,e,n){var r=n(4061),g=n(6544);t.exports=!!Object.getOwnPropertySymbols&&!g(function(){var $=Symbol();return!String($)||!(Object($)instanceof Symbol)||!Symbol.sham&&r&&r<41})},9491:function(t,e,n){var r=n(7583),g=n(9212),$=n(9734),y=r.WeakMap;t.exports=g(y)&&/native code/.test($(y))},5084:function(t,e,n){var r=n(8257),g=function($){var y,k;this.promise=new $(function(L,V){if(y!==void 0||k!==void 0)throw TypeError("Bad Promise constructor");y=L,k=V}),this.resolve=r(y),this.reject=r(k)};t.exports.f=function($){return new g($)}},2764:function(t,e,n){var r=n(8320);t.exports=function(g,$){return g===void 0?arguments.length<2?"":$:r(g)}},3590:function(t,e,n){var r,g=n(2569),$=n(8728),y=n(5690),k=n(4639),L=n(482),V=n(6668),z=n(9137),j=z("IE_PROTO"),ie=function(){},Oe=function(Vr){return"<script>"+Vr+"<\/script>"},ur=function(Vr){Vr.write(Oe("")),Vr.close();var dr=Vr.parentWindow.Object;return Vr=null,dr},hr=function(){try{r=new ActiveXObject("htmlfile")}catch{}var Vr,dr;hr=typeof document<"u"?document.domain&&r?ur(r):((dr=V("iframe")).style.display="none",L.appendChild(dr),dr.src="javascript:",(Vr=dr.contentWindow.document).open(),Vr.write(Oe("document.F=Object")),Vr.close(),Vr.F):ur(r);for(var ec=y.length;ec--;)delete hr.prototype[y[ec]];return hr()};k[j]=!0,t.exports=Object.create||function(Vr,dr){var ec;return Vr!==null?(ie.prototype=g(Vr),ec=new ie,ie.prototype=null,ec[j]=Vr):ec=hr(),dr===void 0?ec:$.f(ec,dr)}},8728:function(t,e,n){var r=n(8494),g=n(7670),$=n(4615),y=n(2569),k=n(2977),L=n(5432);e.f=r&&!g?Object.defineProperties:function(V,z){y(V);for(var j,ie=k(z),Oe=L(z),ur=Oe.length,hr=0;ur>hr;)$.f(V,j=Oe[hr++],ie[j]);return V}},4615:function(t,e,n){var r=n(7583),g=n(8494),$=n(275),y=n(7670),k=n(2569),L=n(8734),V=r.TypeError,z=Object.defineProperty,j=Object.getOwnPropertyDescriptor,ie="enumerable",Oe="configurable",ur="writable";e.f=g?y?function(hr,Vr,dr){if(k(hr),Vr=L(Vr),k(dr),typeof hr=="function"&&Vr==="prototype"&&"value"in dr&&ur in dr&&!dr.writable){var ec=j(hr,Vr);ec&&ec.writable&&(hr[Vr]=dr.value,dr={configurable:Oe in dr?dr.configurable:ec.configurable,enumerable:ie in dr?dr.enumerable:ec.enumerable,writable:!1})}return z(hr,Vr,dr)}:z:function(hr,Vr,dr){if(k(hr),Vr=L(Vr),k(dr),$)try{return z(hr,Vr,dr)}catch{}if("get"in dr||"set"in dr)throw V("Accessors not supported");return"value"in dr&&(hr[Vr]=dr.value),hr}},6683:function(t,e,n){var r=n(8494),g=n(8262),$=n(112),y=n(4677),k=n(2977),L=n(8734),V=n(2870),z=n(275),j=Object.getOwnPropertyDescriptor;e.f=r?j:function(ie,Oe){if(ie=k(ie),Oe=L(Oe),z)try{return j(ie,Oe)}catch{}if(V(ie,Oe))return y(!g($.f,ie,Oe),ie[Oe])}},3130:function(t,e,n){var r=n(9624),g=n(2977),$=n(9275).f,y=n(4546),k=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(L){return k&&r(L)=="Window"?function(V){try{return $(V)}catch{return y(k)}}(L):$(g(L))}},9275:function(t,e,n){var r=n(8356),g=n(5690).concat("length","prototype");e.f=Object.getOwnPropertyNames||function($){return r($,g)}},4012:function(t,e){e.f=Object.getOwnPropertySymbols},729:function(t,e,n){var r=n(7583),g=n(2870),$=n(9212),y=n(1324),k=n(9137),L=n(926),V=k("IE_PROTO"),z=r.Object,j=z.prototype;t.exports=L?z.getPrototypeOf:function(ie){var Oe=y(ie);if(g(Oe,V))return Oe[V];var ur=Oe.constructor;return $(ur)&&Oe instanceof ur?ur.prototype:Oe instanceof z?j:null}},2447:function(t,e,n){var r=n(7386);t.exports=r({}.isPrototypeOf)},8356:function(t,e,n){var r=n(7386),g=n(2870),$=n(2977),y=n(5766).indexOf,k=n(4639),L=r([].push);t.exports=function(V,z){var j,ie=$(V),Oe=0,ur=[];for(j in ie)!g(k,j)&&g(ie,j)&&L(ur,j);for(;z.length>Oe;)g(ie,j=z[Oe++])&&(~y(ur,j)||L(ur,j));return ur}},5432:function(t,e,n){var r=n(8356),g=n(5690);t.exports=Object.keys||function($){return r($,g)}},112:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,g=r&&!n.call({1:2},1);e.f=g?function($){var y=r(this,$);return!!y&&y.enumerable}:n},7496:function(t,e,n){var r=n(7386),g=n(2569),$=n(9882);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,k=!1,L={};try{(y=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(L,[]),k=L instanceof Array}catch{}return function(V,z){return g(V),$(z),k?y(V,z):V.__proto__=z,V}}():void 0)},3060:function(t,e,n){var r=n(8191),g=n(3058);t.exports=r?{}.toString:function(){return"[object "+g(this)+"]"}},6252:function(t,e,n){var r=n(7583),g=n(8262),$=n(9212),y=n(794),k=r.TypeError;t.exports=function(L,V){var z,j;if(V==="string"&&$(z=L.toString)&&!y(j=g(z,L))||$(z=L.valueOf)&&!y(j=g(z,L))||V!=="string"&&$(z=L.toString)&&!y(j=g(z,L)))return j;throw k("Can't convert object to primitive value")}},929:function(t,e,n){var r=n(5897),g=n(7386),$=n(9275),y=n(4012),k=n(2569),L=g([].concat);t.exports=r("Reflect","ownKeys")||function(V){var z=$.f(k(V)),j=y.f;return j?L(z,j(V)):z}},1287:function(t,e,n){var r=n(7583);t.exports=r},544:function(t){t.exports=function(e){try{return{error:!1,value:e()}}catch(n){return{error:!0,value:n}}}},5732:function(t,e,n){var r=n(2569),g=n(794),$=n(5084);t.exports=function(y,k){if(r(y),g(k)&&k.constructor===y)return k;var L=$.f(y);return(0,L.resolve)(k),L.promise}},2723:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(n){var r={item:n,next:null};this.head?this.tail.next=r:this.head=r,this.tail=r},get:function(){var n=this.head;if(n)return this.head=n.next,this.tail===n&&(this.tail=null),n.item}},t.exports=e},6893:function(t,e,n){var r=n(1270);t.exports=function(g,$,y){for(var k in $)r(g,k,$[k],y);return g}},1270:function(t,e,n){var r=n(7583),g=n(9212),$=n(2870),y=n(57),k=n(460),L=n(9734),V=n(2743),z=n(4340).CONFIGURABLE,j=V.get,ie=V.enforce,Oe=String(String).split("String");(t.exports=function(ur,hr,Vr,dr){var ec,tc=!!dr&&!!dr.unsafe,Xs=!!dr&&!!dr.enumerable,rc=!!dr&&!!dr.noTargetGet,ic=dr&&dr.name!==void 0?dr.name:hr;g(Vr)&&(String(ic).slice(0,7)==="Symbol("&&(ic="["+String(ic).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!$(Vr,"name")||z&&Vr.name!==ic)&&y(Vr,"name",ic),(ec=ie(Vr)).source||(ec.source=Oe.join(typeof ic=="string"?ic:""))),ur!==r?(tc?!rc&&ur[hr]&&(Xs=!0):delete ur[hr],Xs?ur[hr]=Vr:y(ur,hr,Vr)):Xs?ur[hr]=Vr:k(hr,Vr)})(Function.prototype,"toString",function(){return g(this)&&j(this).source||L(this)})},3955:function(t,e,n){var r=n(7583).TypeError;t.exports=function(g){if(g==null)throw r("Can't call method on "+g);return g}},460:function(t,e,n){var r=n(7583),g=Object.defineProperty;t.exports=function($,y){try{g(r,$,{value:y,configurable:!0,writable:!0})}catch{r[$]=y}return y}},7730:function(t,e,n){var r=n(5897),g=n(4615),$=n(3649),y=n(8494),k=$("species");t.exports=function(L){var V=r(L),z=g.f;y&&V&&!V[k]&&z(V,k,{configurable:!0,get:function(){return this}})}},8821:function(t,e,n){var r=n(4615).f,g=n(2870),$=n(3649)("toStringTag");t.exports=function(y,k,L){y&&!L&&(y=y.prototype),y&&!g(y,$)&&r(y,$,{configurable:!0,value:k})}},9137:function(t,e,n){var r=n(7836),g=n(8284),$=r("keys");t.exports=function(y){return $[y]||($[y]=g(y))}},1314:function(t,e,n){var r=n(7583),g=n(460),$="__core-js_shared__",y=r[$]||g($,{});t.exports=y},7836:function(t,e,n){var r=n(6268),g=n(1314);(t.exports=function($,y){return g[$]||(g[$]=y!==void 0?y:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},564:function(t,e,n){var r=n(2569),g=n(1186),$=n(3649)("species");t.exports=function(y,k){var L,V=r(y).constructor;return V===void 0||(L=r(V)[$])==null?k:g(L)}},6389:function(t,e,n){var r=n(7386),g=n(7486),$=n(8320),y=n(3955),k=r("".charAt),L=r("".charCodeAt),V=r("".slice),z=function(j){return function(ie,Oe){var ur,hr,Vr=$(y(ie)),dr=g(Oe),ec=Vr.length;return dr<0||dr>=ec?j?"":void 0:(ur=L(Vr,dr))<55296||ur>56319||dr+1===ec||(hr=L(Vr,dr+1))<56320||hr>57343?j?k(Vr,dr):ur:j?V(Vr,dr,dr+2):hr-56320+(ur-55296<<10)+65536}};t.exports={codeAt:z(!1),charAt:z(!0)}},8117:function(t,e,n){var r,g,$,y,k=n(7583),L=n(1611),V=n(2938),z=n(9212),j=n(2870),ie=n(6544),Oe=n(482),ur=n(6917),hr=n(6668),Vr=n(7520),dr=n(7020),ec=n(5354),tc=k.setImmediate,Xs=k.clearImmediate,rc=k.process,ic=k.Dispatch,_c=k.Function,qm=k.MessageChannel,Xm=k.String,Km=0,tv={},nv="onreadystatechange";try{r=k.location}catch{}var sv=function(rv){if(j(tv,rv)){var Jm=tv[rv];delete tv[rv],Jm()}},gv=function(rv){return function(){sv(rv)}},Sv=function(rv){sv(rv.data)},wv=function(rv){k.postMessage(Xm(rv),r.protocol+"//"+r.host)};tc&&Xs||(tc=function(rv){Vr(arguments.length,1);var Jm=z(rv)?rv:_c(rv),dv=ur(arguments,1);return tv[++Km]=function(){L(Jm,void 0,dv)},g(Km),Km},Xs=function(rv){delete tv[rv]},ec?g=function(rv){rc.nextTick(gv(rv))}:ic&&ic.now?g=function(rv){ic.now(gv(rv))}:qm&&!dr?(y=($=new qm).port2,$.port1.onmessage=Sv,g=V(y.postMessage,y)):k.addEventListener&&z(k.postMessage)&&!k.importScripts&&r&&r.protocol!=="file:"&&!ie(wv)?(g=wv,k.addEventListener("message",Sv,!1)):g=nv in hr("script")?function(rv){Oe.appendChild(hr("script")).onreadystatechange=function(){Oe.removeChild(this),sv(rv)}}:function(rv){setTimeout(gv(rv),0)}),t.exports={set:tc,clear:Xs}},6782:function(t,e,n){var r=n(7486),g=Math.max,$=Math.min;t.exports=function(y,k){var L=r(y);return L<0?g(L+k,0):$(L,k)}},2977:function(t,e,n){var r=n(5044),g=n(3955);t.exports=function($){return r(g($))}},7486:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(r){var g=+r;return g!=g||g===0?0:(g>0?n:e)(g)}},97:function(t,e,n){var r=n(7486),g=Math.min;t.exports=function($){return $>0?g(r($),9007199254740991):0}},1324:function(t,e,n){var r=n(7583),g=n(3955),$=r.Object;t.exports=function(y){return $(g(y))}},2670:function(t,e,n){var r=n(7583),g=n(8262),$=n(794),y=n(5871),k=n(911),L=n(6252),V=n(3649),z=r.TypeError,j=V("toPrimitive");t.exports=function(ie,Oe){if(!$(ie)||y(ie))return ie;var ur,hr=k(ie,j);if(hr){if(Oe===void 0&&(Oe="default"),ur=g(hr,ie,Oe),!$(ur)||y(ur))return ur;throw z("Can't convert object to primitive value")}return Oe===void 0&&(Oe="number"),L(ie,Oe)}},8734:function(t,e,n){var r=n(2670),g=n(5871);t.exports=function($){var y=r($,"string");return g(y)?y:y+""}},8191:function(t,e,n){var r={};r[n(3649)("toStringTag")]="z",t.exports=String(r)==="[object z]"},8320:function(t,e,n){var r=n(7583),g=n(3058),$=r.String;t.exports=function(y){if(g(y)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $(y)}},5637:function(t,e,n){var r=n(7583).String;t.exports=function(g){try{return r(g)}catch{return"Object"}}},8284:function(t,e,n){var r=n(7386),g=0,$=Math.random(),y=r(1 .toString);t.exports=function(k){return"Symbol("+(k===void 0?"":k)+")_"+y(++g+$,36)}},7786:function(t,e,n){var r=n(8640);t.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},7670:function(t,e,n){var r=n(8494),g=n(6544);t.exports=r&&g(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},7520:function(t,e,n){var r=n(7583).TypeError;t.exports=function(g,$){if(g<$)throw r("Not enough arguments");return g}},491:function(t,e,n){var r=n(3649);e.f=r},3649:function(t,e,n){var r=n(7583),g=n(7836),$=n(2870),y=n(8284),k=n(8640),L=n(7786),V=g("wks"),z=r.Symbol,j=z&&z.for,ie=L?z:z&&z.withoutSetter||y;t.exports=function(Oe){if(!$(V,Oe)||!k&&typeof V[Oe]!="string"){var ur="Symbol."+Oe;k&&$(z,Oe)?V[Oe]=z[Oe]:V[Oe]=L&&j?j(ur):ie(ur)}return V[Oe]}},1719:function(t,e,n){var r=n(7263),g=n(7583),$=n(2447),y=n(729),k=n(7496),L=n(3478),V=n(3590),z=n(57),j=n(4677),ie=n(1509),Oe=n(4402),ur=n(4026),hr=n(2764),Vr=n(3649),dr=n(1178),ec=Vr("toStringTag"),tc=g.Error,Xs=[].push,rc=function(_c,qm){var Xm,Km=arguments.length>2?arguments[2]:void 0,tv=$(ic,this);k?Xm=k(new tc,tv?y(this):ic):(Xm=tv?this:V(ic),z(Xm,ec,"Error")),qm!==void 0&&z(Xm,"message",hr(qm)),dr&&z(Xm,"stack",ie(Xm.stack,1)),Oe(Xm,Km);var nv=[];return ur(_c,Xs,{that:nv}),z(Xm,"errors",nv),Xm};k?k(rc,tc):L(rc,tc,{name:!0});var ic=rc.prototype=V(tc.prototype,{constructor:j(1,rc),message:j(1,""),name:j(1,"AggregateError")});r({global:!0},{AggregateError:rc})},1646:function(t,e,n){var r=n(7263),g=n(7583),$=n(6544),y=n(4521),k=n(794),L=n(1324),V=n(1825),z=n(5999),j=n(4822),ie=n(9269),Oe=n(3649),ur=n(4061),hr=Oe("isConcatSpreadable"),Vr=9007199254740991,dr="Maximum allowed index exceeded",ec=g.TypeError,tc=ur>=51||!$(function(){var ic=[];return ic[hr]=!1,ic.concat()[0]!==ic}),Xs=ie("concat"),rc=function(ic){if(!k(ic))return!1;var _c=ic[hr];return _c!==void 0?!!_c:y(ic)};r({target:"Array",proto:!0,forced:!tc||!Xs},{concat:function(ic){var _c,qm,Xm,Km,tv,nv=L(this),sv=j(nv,0),gv=0;for(_c=-1,Xm=arguments.length;_c<Xm;_c++)if(rc(tv=_c===-1?nv:arguments[_c])){if(gv+(Km=V(tv))>Vr)throw ec(dr);for(qm=0;qm<Km;qm++,gv++)qm in tv&&z(sv,gv,tv[qm])}else{if(gv>=Vr)throw ec(dr);z(sv,gv++,tv)}return sv.length=gv,sv}})},5677:function(t,e,n){var r=n(2977),g=n(6288),$=n(339),y=n(2743),k=n(4615).f,L=n(9012),V=n(6268),z=n(8494),j="Array Iterator",ie=y.set,Oe=y.getterFor(j);t.exports=L(Array,"Array",function(hr,Vr){ie(this,{type:j,target:r(hr),index:0,kind:Vr})},function(){var hr=Oe(this),Vr=hr.target,dr=hr.kind,ec=hr.index++;return!Vr||ec>=Vr.length?(hr.target=void 0,{value:void 0,done:!0}):dr=="keys"?{value:ec,done:!1}:dr=="values"?{value:Vr[ec],done:!1}:{value:[ec,Vr[ec]],done:!1}},"values");var ur=$.Arguments=$.Array;if(g("keys"),g("values"),g("entries"),!V&&z&&ur.name!=="values")try{k(ur,"name",{value:"values"})}catch{}},6956:function(t,e,n){var r=n(7583);n(8821)(r.JSON,"JSON",!0)},5222:function(t,e,n){n(8821)(Math,"Math",!0)},6394:function(t,e,n){var r=n(8191),g=n(1270),$=n(3060);r||g(Object.prototype,"toString",$,{unsafe:!0})},6969:function(t,e,n){var r=n(7263),g=n(8262),$=n(8257),y=n(5084),k=n(544),L=n(4026);r({target:"Promise",stat:!0},{allSettled:function(V){var z=this,j=y.f(z),ie=j.resolve,Oe=j.reject,ur=k(function(){var hr=$(z.resolve),Vr=[],dr=0,ec=1;L(V,function(tc){var Xs=dr++,rc=!1;ec++,g(hr,z,tc).then(function(ic){rc||(rc=!0,Vr[Xs]={status:"fulfilled",value:ic},--ec||ie(Vr))},function(ic){rc||(rc=!0,Vr[Xs]={status:"rejected",reason:ic},--ec||ie(Vr))})}),--ec||ie(Vr)});return ur.error&&Oe(ur.value),j.promise}})},2021:function(t,e,n){var r=n(7263),g=n(8257),$=n(5897),y=n(8262),k=n(5084),L=n(544),V=n(4026),z="No one promise resolved";r({target:"Promise",stat:!0},{any:function(j){var ie=this,Oe=$("AggregateError"),ur=k.f(ie),hr=ur.resolve,Vr=ur.reject,dr=L(function(){var ec=g(ie.resolve),tc=[],Xs=0,rc=1,ic=!1;V(j,function(_c){var qm=Xs++,Xm=!1;rc++,y(ec,ie,_c).then(function(Km){Xm||ic||(ic=!0,hr(Km))},function(Km){Xm||ic||(Xm=!0,tc[qm]=Km,--rc||Vr(new Oe(tc,z)))})}),--rc||Vr(new Oe(tc,z))});return dr.error&&Vr(dr.value),ur.promise}})},8328:function(t,e,n){var r=n(7263),g=n(6268),$=n(783),y=n(6544),k=n(5897),L=n(9212),V=n(564),z=n(5732),j=n(1270);if(r({target:"Promise",proto:!0,real:!0,forced:!!$&&y(function(){$.prototype.finally.call({then:function(){}},function(){})})},{finally:function(Oe){var ur=V(this,k("Promise")),hr=L(Oe);return this.then(hr?function(Vr){return z(ur,Oe()).then(function(){return Vr})}:Oe,hr?function(Vr){return z(ur,Oe()).then(function(){throw Vr})}:Oe)}}),!g&&L($)){var ie=k("Promise").prototype.finally;$.prototype.finally!==ie&&j($.prototype,"finally",ie,{unsafe:!0})}},5334:function(t,e,n){var r,g,$,y,k=n(7263),L=n(6268),V=n(7583),z=n(5897),j=n(8262),ie=n(783),Oe=n(1270),ur=n(6893),hr=n(7496),Vr=n(8821),dr=n(7730),ec=n(8257),tc=n(9212),Xs=n(794),rc=n(4761),ic=n(9734),_c=n(4026),qm=n(3616),Xm=n(564),Km=n(8117).set,tv=n(2095),nv=n(5732),sv=n(2716),gv=n(5084),Sv=n(544),wv=n(2723),rv=n(2743),Jm=n(4451),dv=n(3649),pv=n(2274),mv=n(5354),Cv=n(4061),uv=dv("species"),yv="Promise",$v=rv.getterFor(yv),Dv=rv.set,Hv=rv.getterFor(yv),Gv=ie&&ie.prototype,f0=ie,qv=Gv,Pv=V.TypeError,Tv=V.document,Vv=V.process,Av=gv.f,y0=Av,av=!!(Tv&&Tv.createEvent&&V.dispatchEvent),fv=tc(V.PromiseRejectionEvent),lv="unhandledrejection",kv=!1,Iv=Jm(yv,function(){var M0=ic(f0),D0=M0!==String(f0);if(!D0&&Cv===66||L&&!qv.finally)return!0;if(Cv>=51&&/native code/.test(M0))return!1;var W0=new f0(function(z0){z0(1)}),Zv=function(z0){z0(function(){},function(){})};return(W0.constructor={})[uv]=Zv,!(kv=W0.then(function(){})instanceof Zv)||!D0&&pv&&!fv}),vv=Iv||!qm(function(M0){f0.all(M0).catch(function(){})}),Ev=function(M0){var D0;return!(!Xs(M0)||!tc(D0=M0.then))&&D0},zv=function(M0,D0){var W0,Zv,z0,_0=D0.value,q0=D0.state==1,Rv=q0?M0.ok:M0.fail,k0=M0.resolve,Ov=M0.reject,Kv=M0.domain;try{Rv?(q0||(D0.rejection===2&&N0(D0),D0.rejection=1),Rv===!0?W0=_0:(Kv&&Kv.enter(),W0=Rv(_0),Kv&&(Kv.exit(),z0=!0)),W0===M0.promise?Ov(Pv("Promise-chain cycle")):(Zv=Ev(W0))?j(Zv,W0,k0,Ov):k0(W0)):Ov(_0)}catch(E0){Kv&&!z0&&Kv.exit(),Ov(E0)}},Fv=function(M0,D0){M0.notified||(M0.notified=!0,tv(function(){for(var W0,Zv=M0.reactions;W0=Zv.get();)zv(W0,M0);M0.notified=!1,D0&&!M0.rejection&&g0(M0)}))},Yv=function(M0,D0,W0){var Zv,z0;av?((Zv=Tv.createEvent("Event")).promise=D0,Zv.reason=W0,Zv.initEvent(M0,!1,!0),V.dispatchEvent(Zv)):Zv={promise:D0,reason:W0},!fv&&(z0=V["on"+M0])?z0(Zv):M0===lv&&sv("Unhandled promise rejection",W0)},g0=function(M0){j(Km,V,function(){var D0,W0=M0.facade,Zv=M0.value;if(Qv(M0)&&(D0=Sv(function(){mv?Vv.emit("unhandledRejection",Zv,W0):Yv(lv,W0,Zv)}),M0.rejection=mv||Qv(M0)?2:1,D0.error))throw D0.value})},Qv=function(M0){return M0.rejection!==1&&!M0.parent},N0=function(M0){j(Km,V,function(){var D0=M0.facade;mv?Vv.emit("rejectionHandled",D0):Yv("rejectionhandled",D0,M0.value)})},B0=function(M0,D0,W0){return function(Zv){M0(D0,Zv,W0)}},a1=function(M0,D0,W0){M0.done||(M0.done=!0,W0&&(M0=W0),M0.value=D0,M0.state=2,Fv(M0,!0))},I0=function M0(D0,W0,Zv){if(!D0.done){D0.done=!0,Zv&&(D0=Zv);try{if(D0.facade===W0)throw Pv("Promise can't be resolved itself");var z0=Ev(W0);z0?tv(function(){var _0={done:!1};try{j(z0,W0,B0(M0,_0,D0),B0(a1,_0,D0))}catch(q0){a1(_0,q0,D0)}}):(D0.value=W0,D0.state=1,Fv(D0,!1))}catch(_0){a1({done:!1},_0,D0)}}};if(Iv&&(qv=(f0=function(M0){rc(this,qv),ec(M0),j(r,this);var D0=$v(this);try{M0(B0(I0,D0),B0(a1,D0))}catch(W0){a1(D0,W0)}}).prototype,(r=function(M0){Dv(this,{type:yv,done:!1,notified:!1,parent:!1,reactions:new wv,rejection:!1,state:0,value:void 0})}).prototype=ur(qv,{then:function(M0,D0){var W0=Hv(this),Zv=Av(Xm(this,f0));return W0.parent=!0,Zv.ok=!tc(M0)||M0,Zv.fail=tc(D0)&&D0,Zv.domain=mv?Vv.domain:void 0,W0.state==0?W0.reactions.add(Zv):tv(function(){zv(Zv,W0)}),Zv.promise},catch:function(M0){return this.then(void 0,M0)}}),g=function(){var M0=new r,D0=$v(M0);this.promise=M0,this.resolve=B0(I0,D0),this.reject=B0(a1,D0)},gv.f=Av=function(M0){return M0===f0||M0===$?new g(M0):y0(M0)},!L&&tc(ie)&&Gv!==Object.prototype)){y=Gv.then,kv||(Oe(Gv,"then",function(M0,D0){var W0=this;return new f0(function(Zv,z0){j(y,W0,Zv,z0)}).then(M0,D0)},{unsafe:!0}),Oe(Gv,"catch",qv.catch,{unsafe:!0}));try{delete Gv.constructor}catch{}hr&&hr(Gv,qv)}k({global:!0,wrap:!0,forced:Iv},{Promise:f0}),Vr(f0,yv,!1,!0),dr(yv),$=z(yv),k({target:yv,stat:!0,forced:Iv},{reject:function(M0){var D0=Av(this);return j(D0.reject,void 0,M0),D0.promise}}),k({target:yv,stat:!0,forced:L||Iv},{resolve:function(M0){return nv(L&&this===$?f0:this,M0)}}),k({target:yv,stat:!0,forced:vv},{all:function(M0){var D0=this,W0=Av(D0),Zv=W0.resolve,z0=W0.reject,_0=Sv(function(){var q0=ec(D0.resolve),Rv=[],k0=0,Ov=1;_c(M0,function(Kv){var E0=k0++,X0=!1;Ov++,j(q0,D0,Kv).then(function(l1){X0||(X0=!0,Rv[E0]=l1,--Ov||Zv(Rv))},z0)}),--Ov||Zv(Rv)});return _0.error&&z0(_0.value),W0.promise},race:function(M0){var D0=this,W0=Av(D0),Zv=W0.reject,z0=Sv(function(){var _0=ec(D0.resolve);_c(M0,function(q0){j(_0,D0,q0).then(W0.resolve,Zv)})});return z0.error&&Zv(z0.value),W0.promise}})},2257:function(t,e,n){var r=n(7263),g=n(7583),$=n(8821);r({global:!0},{Reflect:{}}),$(g.Reflect,"Reflect",!0)},2129:function(t,e,n){var r=n(6389).charAt,g=n(8320),$=n(2743),y=n(9012),k="String Iterator",L=$.set,V=$.getterFor(k);y(String,"String",function(z){L(this,{type:k,string:g(z),index:0})},function(){var z,j=V(this),ie=j.string,Oe=j.index;return Oe>=ie.length?{value:void 0,done:!0}:(z=r(ie,Oe),j.index+=z.length,{value:z,done:!1})})},462:function(t,e,n){n(2219)("asyncIterator")},8407:function(t,e,n){var r=n(7263),g=n(8494),$=n(7583),y=n(7386),k=n(2870),L=n(9212),V=n(2447),z=n(8320),j=n(4615).f,ie=n(3478),Oe=$.Symbol,ur=Oe&&Oe.prototype;if(g&&L(Oe)&&(!("description"in ur)||Oe().description!==void 0)){var hr={},Vr=function(){var _c=arguments.length<1||arguments[0]===void 0?void 0:z(arguments[0]),qm=V(ur,this)?new Oe(_c):_c===void 0?Oe():Oe(_c);return _c===""&&(hr[qm]=!0),qm};ie(Vr,Oe),Vr.prototype=ur,ur.constructor=Vr;var dr=String(Oe("test"))=="Symbol(test)",ec=y(ur.toString),tc=y(ur.valueOf),Xs=/^Symbol\((.*)\)[^)]+$/,rc=y("".replace),ic=y("".slice);j(ur,"description",{configurable:!0,get:function(){var _c=tc(this),qm=ec(_c);if(k(hr,_c))return"";var Xm=dr?ic(qm,7,-1):rc(qm,Xs,"$1");return Xm===""?void 0:Xm}}),r({global:!0,forced:!0},{Symbol:Vr})}},2429:function(t,e,n){n(2219)("hasInstance")},1172:function(t,e,n){n(2219)("isConcatSpreadable")},8288:function(t,e,n){n(2219)("iterator")},2004:function(t,e,n){var r=n(7263),g=n(7583),$=n(5897),y=n(1611),k=n(8262),L=n(7386),V=n(6268),z=n(8494),j=n(8640),ie=n(6544),Oe=n(2870),ur=n(4521),hr=n(9212),Vr=n(794),dr=n(2447),ec=n(5871),tc=n(2569),Xs=n(1324),rc=n(2977),ic=n(8734),_c=n(8320),qm=n(4677),Xm=n(3590),Km=n(5432),tv=n(9275),nv=n(3130),sv=n(4012),gv=n(6683),Sv=n(4615),wv=n(8728),rv=n(112),Jm=n(6917),dv=n(1270),pv=n(7836),mv=n(9137),Cv=n(4639),uv=n(8284),yv=n(3649),$v=n(491),Dv=n(2219),Hv=n(8821),Gv=n(2743),f0=n(4805).forEach,qv=mv("hidden"),Pv="Symbol",Tv=yv("toPrimitive"),Vv=Gv.set,Av=Gv.getterFor(Pv),y0=Object.prototype,av=g.Symbol,fv=av&&av.prototype,lv=g.TypeError,kv=g.QObject,Iv=$("JSON","stringify"),vv=gv.f,Ev=Sv.f,zv=nv.f,Fv=rv.f,Yv=L([].push),g0=pv("symbols"),Qv=pv("op-symbols"),N0=pv("string-to-symbol-registry"),B0=pv("symbol-to-string-registry"),a1=pv("wks"),I0=!kv||!kv.prototype||!kv.prototype.findChild,M0=z&&ie(function(){return Xm(Ev({},"a",{get:function(){return Ev(this,"a",{value:7}).a}})).a!=7})?function(Ov,Kv,E0){var X0=vv(y0,Kv);X0&&delete y0[Kv],Ev(Ov,Kv,E0),X0&&Ov!==y0&&Ev(y0,Kv,X0)}:Ev,D0=function(Ov,Kv){var E0=g0[Ov]=Xm(fv);return Vv(E0,{type:Pv,tag:Ov,description:Kv}),z||(E0.description=Kv),E0},W0=function(Ov,Kv,E0){Ov===y0&&W0(Qv,Kv,E0),tc(Ov);var X0=ic(Kv);return tc(E0),Oe(g0,X0)?(E0.enumerable?(Oe(Ov,qv)&&Ov[qv][X0]&&(Ov[qv][X0]=!1),E0=Xm(E0,{enumerable:qm(0,!1)})):(Oe(Ov,qv)||Ev(Ov,qv,qm(1,{})),Ov[qv][X0]=!0),M0(Ov,X0,E0)):Ev(Ov,X0,E0)},Zv=function(Ov,Kv){tc(Ov);var E0=rc(Kv),X0=Km(E0).concat(Rv(E0));return f0(X0,function(l1){z&&!k(z0,E0,l1)||W0(Ov,l1,E0[l1])}),Ov},z0=function(Ov){var Kv=ic(Ov),E0=k(Fv,this,Kv);return!(this===y0&&Oe(g0,Kv)&&!Oe(Qv,Kv))&&(!(E0||!Oe(this,Kv)||!Oe(g0,Kv)||Oe(this,qv)&&this[qv][Kv])||E0)},_0=function(Ov,Kv){var E0=rc(Ov),X0=ic(Kv);if(E0!==y0||!Oe(g0,X0)||Oe(Qv,X0)){var l1=vv(E0,X0);return!l1||!Oe(g0,X0)||Oe(E0,qv)&&E0[qv][X0]||(l1.enumerable=!0),l1}},q0=function(Ov){var Kv=zv(rc(Ov)),E0=[];return f0(Kv,function(X0){Oe(g0,X0)||Oe(Cv,X0)||Yv(E0,X0)}),E0},Rv=function(Ov){var Kv=Ov===y0,E0=zv(Kv?Qv:rc(Ov)),X0=[];return f0(E0,function(l1){!Oe(g0,l1)||Kv&&!Oe(y0,l1)||Yv(X0,g0[l1])}),X0};if(j||(av=function(){if(dr(fv,this))throw lv("Symbol is not a constructor");var Ov=arguments.length&&arguments[0]!==void 0?_c(arguments[0]):void 0,Kv=uv(Ov),E0=function X0(l1){this===y0&&k(X0,Qv,l1),Oe(this,qv)&&Oe(this[qv],Kv)&&(this[qv][Kv]=!1),M0(this,Kv,qm(1,l1))};return z&&I0&&M0(y0,Kv,{configurable:!0,set:E0}),D0(Kv,Ov)},dv(fv=av.prototype,"toString",function(){return Av(this).tag}),dv(av,"withoutSetter",function(Ov){return D0(uv(Ov),Ov)}),rv.f=z0,Sv.f=W0,wv.f=Zv,gv.f=_0,tv.f=nv.f=q0,sv.f=Rv,$v.f=function(Ov){return D0(yv(Ov),Ov)},z&&(Ev(fv,"description",{configurable:!0,get:function(){return Av(this).description}}),V||dv(y0,"propertyIsEnumerable",z0,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!j,sham:!j},{Symbol:av}),f0(Km(a1),function(Ov){Dv(Ov)}),r({target:Pv,stat:!0,forced:!j},{for:function(Ov){var Kv=_c(Ov);if(Oe(N0,Kv))return N0[Kv];var E0=av(Kv);return N0[Kv]=E0,B0[E0]=Kv,E0},keyFor:function(Ov){if(!ec(Ov))throw lv(Ov+" is not a symbol");if(Oe(B0,Ov))return B0[Ov]},useSetter:function(){I0=!0},useSimple:function(){I0=!1}}),r({target:"Object",stat:!0,forced:!j,sham:!z},{create:function(Ov,Kv){return Kv===void 0?Xm(Ov):Zv(Xm(Ov),Kv)},defineProperty:W0,defineProperties:Zv,getOwnPropertyDescriptor:_0}),r({target:"Object",stat:!0,forced:!j},{getOwnPropertyNames:q0,getOwnPropertySymbols:Rv}),r({target:"Object",stat:!0,forced:ie(function(){sv.f(1)})},{getOwnPropertySymbols:function(Ov){return sv.f(Xs(Ov))}}),Iv&&r({target:"JSON",stat:!0,forced:!j||ie(function(){var Ov=av();return Iv([Ov])!="[null]"||Iv({a:Ov})!="{}"||Iv(Object(Ov))!="{}"})},{stringify:function(Ov,Kv,E0){var X0=Jm(arguments),l1=Kv;if((Vr(Kv)||Ov!==void 0)&&!ec(Ov))return ur(Kv)||(Kv=function(x1,K0){if(hr(l1)&&(K0=k(l1,this,x1,K0)),!ec(K0))return K0}),X0[1]=Kv,y(Iv,null,X0)}}),!fv[Tv]){var k0=fv.valueOf;dv(fv,Tv,function(Ov){return k(k0,this)})}Hv(av,Pv),Cv[qv]=!0},8201:function(t,e,n){n(2219)("matchAll")},1274:function(t,e,n){n(2219)("match")},6626:function(t,e,n){n(2219)("replace")},3211:function(t,e,n){n(2219)("search")},9952:function(t,e,n){n(2219)("species")},15:function(t,e,n){n(2219)("split")},9831:function(t,e,n){n(2219)("toPrimitive")},7521:function(t,e,n){n(2219)("toStringTag")},2972:function(t,e,n){n(2219)("unscopables")},4655:function(t,e,n){var r=n(7583),g=n(6778),$=n(9307),y=n(5677),k=n(57),L=n(3649),V=L("iterator"),z=L("toStringTag"),j=y.values,ie=function(ur,hr){if(ur){if(ur[V]!==j)try{k(ur,V,j)}catch{ur[V]=j}if(ur[z]||k(ur,z,hr),g[hr]){for(var Vr in y)if(ur[Vr]!==y[Vr])try{k(ur,Vr,y[Vr])}catch{ur[Vr]=y[Vr]}}}};for(var Oe in g)ie(r[Oe]&&r[Oe].prototype,Oe);ie($,"DOMTokenList")},8765:function(t,e,n){var r=n(5036);n(4655),t.exports=r},5441:function(t,e,n){var r=n(2582);n(4655),t.exports=r},7705:function(t){t.exports=function(e){var n=[];return n.toString=function(){return this.map(function(r){var g="",$=r[5]!==void 0;return r[4]&&(g+="@supports (".concat(r[4],") {")),r[2]&&(g+="@media ".concat(r[2]," {")),$&&(g+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),g+=e(r),$&&(g+="}"),r[2]&&(g+="}"),r[4]&&(g+="}"),g}).join("")},n.i=function(r,g,$,y,k){typeof r=="string"&&(r=[[null,r,void 0]]);var L={};if($)for(var V=0;V<this.length;V++){var z=this[V][0];z!=null&&(L[z]=!0)}for(var j=0;j<r.length;j++){var ie=[].concat(r[j]);$&&L[ie[0]]||(k!==void 0&&(ie[5]===void 0||(ie[1]="@layer".concat(ie[5].length>0?" ".concat(ie[5]):""," {").concat(ie[1],"}")),ie[5]=k),g&&(ie[2]&&(ie[1]="@media ".concat(ie[2]," {").concat(ie[1],"}")),ie[2]=g),y&&(ie[4]?(ie[1]="@supports (".concat(ie[4],") {").concat(ie[1],"}"),ie[4]=y):ie[4]="".concat(y)),n.push(ie))}},n}},6738:function(t){t.exports=function(e){return e[1]}},8679:function(t){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=window.WeakMap;if(n===void 0){var r=Object.defineProperty,g=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+g+++"__"}).prototype={set:function(ic,_c){var qm=ic[this.name];return qm&&qm[0]===ic?qm[1]=_c:r(ic,this.name,{value:[ic,_c],writable:!0}),this},get:function(ic){var _c;return(_c=ic[this.name])&&_c[0]===ic?_c[1]:void 0},delete:function(ic){var _c=ic[this.name];if(!_c)return!1;var qm=_c[0]===ic;return _c[0]=_c[1]=void 0,qm},has:function(ic){var _c=ic[this.name];return!!_c&&_c[0]===ic}}}var $=new n,y=window.msSetImmediate;if(!y){var k=[],L=String(Math.random());window.addEventListener("message",function(ic){if(ic.data===L){var _c=k;k=[],_c.forEach(function(qm){qm()})}}),y=function(ic){k.push(ic),window.postMessage(L,"*")}}var V=!1,z=[];function j(){V=!1;var ic=z;z=[],ic.sort(function(qm,Xm){return qm.uid_-Xm.uid_});var _c=!1;ic.forEach(function(qm){var Xm=qm.takeRecords();(function(Km){Km.nodes_.forEach(function(tv){var nv=$.get(tv);nv&&nv.forEach(function(sv){sv.observer===Km&&sv.removeTransientObservers()})})})(qm),Xm.length&&(qm.callback_(Xm,qm),_c=!0)}),_c&&j()}function ie(ic,_c){for(var qm=ic;qm;qm=qm.parentNode){var Xm=$.get(qm);if(Xm)for(var Km=0;Km<Xm.length;Km++){var tv=Xm[Km],nv=tv.options;if(qm===ic||nv.subtree){var sv=_c(nv);sv&&tv.enqueue(sv)}}}}var Oe,ur,hr=0;function Vr(ic){this.callback_=ic,this.nodes_=[],this.records_=[],this.uid_=++hr}function dr(ic,_c){this.type=ic,this.target=_c,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function ec(ic,_c){return Oe=new dr(ic,_c)}function tc(ic){return ur||((qm=new dr((_c=Oe).type,_c.target)).addedNodes=_c.addedNodes.slice(),qm.removedNodes=_c.removedNodes.slice(),qm.previousSibling=_c.previousSibling,qm.nextSibling=_c.nextSibling,qm.attributeName=_c.attributeName,qm.attributeNamespace=_c.attributeNamespace,qm.oldValue=_c.oldValue,(ur=qm).oldValue=ic,ur);var _c,qm}function Xs(ic,_c){return ic===_c?ic:ur&&((qm=ic)===ur||qm===Oe)?ur:null;var qm}function rc(ic,_c,qm){this.observer=ic,this.target=_c,this.options=qm,this.transientObservedNodes=[]}Vr.prototype={observe:function(ic,_c){var qm;if(qm=ic,ic=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(qm)||qm,!_c.childList&&!_c.attributes&&!_c.characterData||_c.attributeOldValue&&!_c.attributes||_c.attributeFilter&&_c.attributeFilter.length&&!_c.attributes||_c.characterDataOldValue&&!_c.characterData)throw new SyntaxError;var Xm,Km=$.get(ic);Km||$.set(ic,Km=[]);for(var tv=0;tv<Km.length;tv++)if(Km[tv].observer===this){(Xm=Km[tv]).removeListeners(),Xm.options=_c;break}Xm||(Xm=new rc(this,ic,_c),Km.push(Xm),this.nodes_.push(ic)),Xm.addListeners()},disconnect:function(){this.nodes_.forEach(function(ic){for(var _c=$.get(ic),qm=0;qm<_c.length;qm++){var Xm=_c[qm];if(Xm.observer===this){Xm.removeListeners(),_c.splice(qm,1);break}}},this),this.records_=[]},takeRecords:function(){var ic=this.records_;return this.records_=[],ic}},rc.prototype={enqueue:function(ic){var _c,qm=this.observer.records_,Xm=qm.length;if(qm.length>0){var Km=Xs(qm[Xm-1],ic);if(Km)return void(qm[Xm-1]=Km)}else _c=this.observer,z.push(_c),V||(V=!0,y(j));qm[Xm]=ic},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(ic){var _c=this.options;_c.attributes&&ic.addEventListener("DOMAttrModified",this,!0),_c.characterData&&ic.addEventListener("DOMCharacterDataModified",this,!0),_c.childList&&ic.addEventListener("DOMNodeInserted",this,!0),(_c.childList||_c.subtree)&&ic.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(ic){var _c=this.options;_c.attributes&&ic.removeEventListener("DOMAttrModified",this,!0),_c.characterData&&ic.removeEventListener("DOMCharacterDataModified",this,!0),_c.childList&&ic.removeEventListener("DOMNodeInserted",this,!0),(_c.childList||_c.subtree)&&ic.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(ic){if(ic!==this.target){this.addListeners_(ic),this.transientObservedNodes.push(ic);var _c=$.get(ic);_c||$.set(ic,_c=[]),_c.push(this)}},removeTransientObservers:function(){var ic=this.transientObservedNodes;this.transientObservedNodes=[],ic.forEach(function(_c){this.removeListeners_(_c);for(var qm=$.get(_c),Xm=0;Xm<qm.length;Xm++)if(qm[Xm]===this){qm.splice(Xm,1);break}},this)},handleEvent:function(ic){switch(ic.stopImmediatePropagation(),ic.type){case"DOMAttrModified":var _c=ic.attrName,qm=ic.relatedNode.namespaceURI,Xm=ic.target;(tv=new ec("attributes",Xm)).attributeName=_c,tv.attributeNamespace=qm;var Km=null;typeof MutationEvent<"u"&&ic.attrChange===MutationEvent.ADDITION||(Km=ic.prevValue),ie(Xm,function(rv){if(rv.attributes&&(!rv.attributeFilter||!rv.attributeFilter.length||rv.attributeFilter.indexOf(_c)!==-1||rv.attributeFilter.indexOf(qm)!==-1))return rv.attributeOldValue?tc(Km):tv});break;case"DOMCharacterDataModified":var tv=ec("characterData",Xm=ic.target);Km=ic.prevValue,ie(Xm,function(rv){if(rv.characterData)return rv.characterDataOldValue?tc(Km):tv});break;case"DOMNodeRemoved":this.addTransientObserver(ic.target);case"DOMNodeInserted":Xm=ic.relatedNode;var nv,sv,gv=ic.target;ic.type==="DOMNodeInserted"?(nv=[gv],sv=[]):(nv=[],sv=[gv]);var Sv=gv.previousSibling,wv=gv.nextSibling;(tv=ec("childList",Xm)).addedNodes=nv,tv.removedNodes=sv,tv.previousSibling=Sv,tv.nextSibling=wv,ie(Xm,function(rv){if(rv.childList)return tv})}Oe=ur=void 0}},e||(e=Vr),t.exports=e},7588:function(t){var e=function(n){var r,g=Object.prototype,$=g.hasOwnProperty,y=typeof Symbol=="function"?Symbol:{},k=y.iterator||"@@iterator",L=y.asyncIterator||"@@asyncIterator",V=y.toStringTag||"@@toStringTag";function z(rv,Jm,dv){return Object.defineProperty(rv,Jm,{value:dv,enumerable:!0,configurable:!0,writable:!0}),rv[Jm]}try{z({},"")}catch{z=function(Jm,dv,pv){return Jm[dv]=pv}}function j(rv,Jm,dv,pv){var mv=Jm&&Jm.prototype instanceof ec?Jm:ec,Cv=Object.create(mv.prototype),uv=new gv(pv||[]);return Cv._invoke=function(yv,$v,Dv){var Hv=Oe;return function(Gv,f0){if(Hv===hr)throw new Error("Generator is already running");if(Hv===Vr){if(Gv==="throw")throw f0;return wv()}for(Dv.method=Gv,Dv.arg=f0;;){var qv=Dv.delegate;if(qv){var Pv=tv(qv,Dv);if(Pv){if(Pv===dr)continue;return Pv}}if(Dv.method==="next")Dv.sent=Dv._sent=Dv.arg;else if(Dv.method==="throw"){if(Hv===Oe)throw Hv=Vr,Dv.arg;Dv.dispatchException(Dv.arg)}else Dv.method==="return"&&Dv.abrupt("return",Dv.arg);Hv=hr;var Tv=ie(yv,$v,Dv);if(Tv.type==="normal"){if(Hv=Dv.done?Vr:ur,Tv.arg===dr)continue;return{value:Tv.arg,done:Dv.done}}Tv.type==="throw"&&(Hv=Vr,Dv.method="throw",Dv.arg=Tv.arg)}}}(rv,dv,uv),Cv}function ie(rv,Jm,dv){try{return{type:"normal",arg:rv.call(Jm,dv)}}catch(pv){return{type:"throw",arg:pv}}}n.wrap=j;var Oe="suspendedStart",ur="suspendedYield",hr="executing",Vr="completed",dr={};function ec(){}function tc(){}function Xs(){}var rc={};z(rc,k,function(){return this});var ic=Object.getPrototypeOf,_c=ic&&ic(ic(Sv([])));_c&&_c!==g&&$.call(_c,k)&&(rc=_c);var qm=Xs.prototype=ec.prototype=Object.create(rc);function Xm(rv){["next","throw","return"].forEach(function(Jm){z(rv,Jm,function(dv){return this._invoke(Jm,dv)})})}function Km(rv,Jm){function dv(mv,Cv,uv,yv){var $v=ie(rv[mv],rv,Cv);if($v.type!=="throw"){var Dv=$v.arg,Hv=Dv.value;return Hv&&typeof Hv=="object"&&$.call(Hv,"__await")?Jm.resolve(Hv.__await).then(function(Gv){dv("next",Gv,uv,yv)},function(Gv){dv("throw",Gv,uv,yv)}):Jm.resolve(Hv).then(function(Gv){Dv.value=Gv,uv(Dv)},function(Gv){return dv("throw",Gv,uv,yv)})}yv($v.arg)}var pv;this._invoke=function(mv,Cv){function uv(){return new Jm(function(yv,$v){dv(mv,Cv,yv,$v)})}return pv=pv?pv.then(uv,uv):uv()}}function tv(rv,Jm){var dv=rv.iterator[Jm.method];if(dv===r){if(Jm.delegate=null,Jm.method==="throw"){if(rv.iterator.return&&(Jm.method="return",Jm.arg=r,tv(rv,Jm),Jm.method==="throw"))return dr;Jm.method="throw",Jm.arg=new TypeError("The iterator does not provide a 'throw' method")}return dr}var pv=ie(dv,rv.iterator,Jm.arg);if(pv.type==="throw")return Jm.method="throw",Jm.arg=pv.arg,Jm.delegate=null,dr;var mv=pv.arg;return mv?mv.done?(Jm[rv.resultName]=mv.value,Jm.next=rv.nextLoc,Jm.method!=="return"&&(Jm.method="next",Jm.arg=r),Jm.delegate=null,dr):mv:(Jm.method="throw",Jm.arg=new TypeError("iterator result is not an object"),Jm.delegate=null,dr)}function nv(rv){var Jm={tryLoc:rv[0]};1 in rv&&(Jm.catchLoc=rv[1]),2 in rv&&(Jm.finallyLoc=rv[2],Jm.afterLoc=rv[3]),this.tryEntries.push(Jm)}function sv(rv){var Jm=rv.completion||{};Jm.type="normal",delete Jm.arg,rv.completion=Jm}function gv(rv){this.tryEntries=[{tryLoc:"root"}],rv.forEach(nv,this),this.reset(!0)}function Sv(rv){if(rv){var Jm=rv[k];if(Jm)return Jm.call(rv);if(typeof rv.next=="function")return rv;if(!isNaN(rv.length)){var dv=-1,pv=function mv(){for(;++dv<rv.length;)if($.call(rv,dv))return mv.value=rv[dv],mv.done=!1,mv;return mv.value=r,mv.done=!0,mv};return pv.next=pv}}return{next:wv}}function wv(){return{value:r,done:!0}}return tc.prototype=Xs,z(qm,"constructor",Xs),z(Xs,"constructor",tc),tc.displayName=z(Xs,V,"GeneratorFunction"),n.isGeneratorFunction=function(rv){var Jm=typeof rv=="function"&&rv.constructor;return!!Jm&&(Jm===tc||(Jm.displayName||Jm.name)==="GeneratorFunction")},n.mark=function(rv){return Object.setPrototypeOf?Object.setPrototypeOf(rv,Xs):(rv.__proto__=Xs,z(rv,V,"GeneratorFunction")),rv.prototype=Object.create(qm),rv},n.awrap=function(rv){return{__await:rv}},Xm(Km.prototype),z(Km.prototype,L,function(){return this}),n.AsyncIterator=Km,n.async=function(rv,Jm,dv,pv,mv){mv===void 0&&(mv=Promise);var Cv=new Km(j(rv,Jm,dv,pv),mv);return n.isGeneratorFunction(Jm)?Cv:Cv.next().then(function(uv){return uv.done?uv.value:Cv.next()})},Xm(qm),z(qm,V,"Generator"),z(qm,k,function(){return this}),z(qm,"toString",function(){return"[object Generator]"}),n.keys=function(rv){var Jm=[];for(var dv in rv)Jm.push(dv);return Jm.reverse(),function pv(){for(;Jm.length;){var mv=Jm.pop();if(mv in rv)return pv.value=mv,pv.done=!1,pv}return pv.done=!0,pv}},n.values=Sv,gv.prototype={constructor:gv,reset:function(rv){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(sv),!rv)for(var Jm in this)Jm.charAt(0)==="t"&&$.call(this,Jm)&&!isNaN(+Jm.slice(1))&&(this[Jm]=r)},stop:function(){this.done=!0;var rv=this.tryEntries[0].completion;if(rv.type==="throw")throw rv.arg;return this.rval},dispatchException:function(rv){if(this.done)throw rv;var Jm=this;function dv($v,Dv){return Cv.type="throw",Cv.arg=rv,Jm.next=$v,Dv&&(Jm.method="next",Jm.arg=r),!!Dv}for(var pv=this.tryEntries.length-1;pv>=0;--pv){var mv=this.tryEntries[pv],Cv=mv.completion;if(mv.tryLoc==="root")return dv("end");if(mv.tryLoc<=this.prev){var uv=$.call(mv,"catchLoc"),yv=$.call(mv,"finallyLoc");if(uv&&yv){if(this.prev<mv.catchLoc)return dv(mv.catchLoc,!0);if(this.prev<mv.finallyLoc)return dv(mv.finallyLoc)}else if(uv){if(this.prev<mv.catchLoc)return dv(mv.catchLoc,!0)}else{if(!yv)throw new Error("try statement without catch or finally");if(this.prev<mv.finallyLoc)return dv(mv.finallyLoc)}}}},abrupt:function(rv,Jm){for(var dv=this.tryEntries.length-1;dv>=0;--dv){var pv=this.tryEntries[dv];if(pv.tryLoc<=this.prev&&$.call(pv,"finallyLoc")&&this.prev<pv.finallyLoc){var mv=pv;break}}mv&&(rv==="break"||rv==="continue")&&mv.tryLoc<=Jm&&Jm<=mv.finallyLoc&&(mv=null);var Cv=mv?mv.completion:{};return Cv.type=rv,Cv.arg=Jm,mv?(this.method="next",this.next=mv.finallyLoc,dr):this.complete(Cv)},complete:function(rv,Jm){if(rv.type==="throw")throw rv.arg;return rv.type==="break"||rv.type==="continue"?this.next=rv.arg:rv.type==="return"?(this.rval=this.arg=rv.arg,this.method="return",this.next="end"):rv.type==="normal"&&Jm&&(this.next=Jm),dr},finish:function(rv){for(var Jm=this.tryEntries.length-1;Jm>=0;--Jm){var dv=this.tryEntries[Jm];if(dv.finallyLoc===rv)return this.complete(dv.completion,dv.afterLoc),sv(dv),dr}},catch:function(rv){for(var Jm=this.tryEntries.length-1;Jm>=0;--Jm){var dv=this.tryEntries[Jm];if(dv.tryLoc===rv){var pv=dv.completion;if(pv.type==="throw"){var mv=pv.arg;sv(dv)}return mv}}throw new Error("illegal catch attempt")},delegateYield:function(rv,Jm,dv){return this.delegate={iterator:Sv(rv),resultName:Jm,nextLoc:dv},this.method==="next"&&(this.arg=r),dr}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},8702:function(t,e,n){n.d(e,{Z:function(){return pv}});var r=n(4296),g=n(6464),$=n(6881),y=n(2942),k=n(7003),L=n(3379),V=n.n(L),z=n(7795),j=n.n(z),ie=n(569),Oe=n.n(ie),ur=n(3565),hr=n.n(ur),Vr=n(9216),dr=n.n(Vr),ec=n(4589),tc=n.n(ec),Xs=n(5313),rc={};Xs.Z&&Xs.Z.locals&&(rc.locals=Xs.Z.locals);var ic,_c=0,qm={};qm.styleTagTransform=tc(),qm.setAttributes=hr(),qm.insert=Oe().bind(null,"head"),qm.domAPI=j(),qm.insertStyleElement=dr(),rc.use=function(mv){return qm.options=mv||{},_c++||(ic=V()(Xs.Z,qm)),rc},rc.unuse=function(){_c>0&&!--_c&&(ic(),ic=null)};var Xm=rc;function Km(mv){var Cv,uv;return{c:function(){Cv=(0,y.bi5)("svg"),uv=(0,y.bi5)("path"),(0,y.Ljt)(uv,"d","M599.99999 832.000004h47.999999a24 24 0 0 0 23.999999-24V376.000013a24 24 0 0 0-23.999999-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24zM927.999983 160.000017h-164.819997l-67.999998-113.399998A95.999998 95.999998 0 0 0 612.819989 0.00002H411.179993a95.999998 95.999998 0 0 0-82.319998 46.599999L260.819996 160.000017H95.999999A31.999999 31.999999 0 0 0 64 192.000016v32a31.999999 31.999999 0 0 0 31.999999 31.999999h32v671.999987a95.999998 95.999998 0 0 0 95.999998 95.999998h575.999989a95.999998 95.999998 0 0 0 95.999998-95.999998V256.000015h31.999999a31.999999 31.999999 0 0 0 32-31.999999V192.000016a31.999999 31.999999 0 0 0-32-31.999999zM407.679993 101.820018A12 12 0 0 1 417.999993 96.000018h187.999996a12 12 0 0 1 10.3 5.82L651.219989 160.000017H372.779994zM799.999986 928.000002H223.999997V256.000015h575.999989z m-423.999992-95.999998h47.999999a24 24 0 0 0 24-24V376.000013a24 24 0 0 0-24-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24z"),(0,y.Ljt)(Cv,"class","vc-icon-delete"),(0,y.Ljt)(Cv,"viewBox","0 0 1024 1024"),(0,y.Ljt)(Cv,"width","200"),(0,y.Ljt)(Cv,"height","200")},m:function(yv,$v){(0,y.$Tr)(yv,Cv,$v),(0,y.R3I)(Cv,uv)},d:function(yv){yv&&(0,y.ogt)(Cv)}}}function tv(mv){var Cv,uv,yv;return{c:function(){Cv=(0,y.bi5)("svg"),uv=(0,y.bi5)("path"),yv=(0,y.bi5)("path"),(0,y.Ljt)(uv,"d","M874.154197 150.116875A511.970373 511.970373 0 1 0 1023.993986 511.991687a511.927744 511.927744 0 0 0-149.839789-361.874812z m-75.324866 648.382129A405.398688 405.398688 0 1 1 917.422301 511.991687a405.313431 405.313431 0 0 1-118.59297 286.507317z"),(0,y.Ljt)(yv,"d","M725.039096 299.274605a54.351559 54.351559 0 0 0-76.731613 0l-135.431297 135.431297L377.274375 299.274605a54.436817 54.436817 0 0 0-76.944756 76.987385l135.388668 135.431297-135.388668 135.473925a54.436817 54.436817 0 0 0 76.944756 76.987385l135.388668-135.431297 135.431297 135.473926a54.436817 54.436817 0 0 0 76.731613-76.987385l-135.388668-135.473926 135.388668-135.431296a54.479445 54.479445 0 0 0 0.213143-77.030014z"),(0,y.Ljt)(Cv,"viewBox","0 0 1024 1024"),(0,y.Ljt)(Cv,"width","200"),(0,y.Ljt)(Cv,"height","200")},m:function($v,Dv){(0,y.$Tr)($v,Cv,Dv),(0,y.R3I)(Cv,uv),(0,y.R3I)(Cv,yv)},d:function($v){$v&&(0,y.ogt)(Cv)}}}function nv(mv){var Cv,uv;return{c:function(){Cv=(0,y.bi5)("svg"),uv=(0,y.bi5)("path"),(0,y.Ljt)(uv,"fill-rule","evenodd"),(0,y.Ljt)(uv,"d","M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"),(0,y.Ljt)(Cv,"class","vc-icon-copy"),(0,y.Ljt)(Cv,"viewBox","0 0 16 16")},m:function(yv,$v){(0,y.$Tr)(yv,Cv,$v),(0,y.R3I)(Cv,uv)},d:function(yv){yv&&(0,y.ogt)(Cv)}}}function sv(mv){var Cv,uv;return{c:function(){Cv=(0,y.bi5)("svg"),uv=(0,y.bi5)("path"),(0,y.Ljt)(uv,"fill-rule","evenodd"),(0,y.Ljt)(uv,"d","M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"),(0,y.Ljt)(Cv,"class","vc-icon-suc"),(0,y.Ljt)(Cv,"viewBox","0 0 16 16")},m:function(yv,$v){(0,y.$Tr)(yv,Cv,$v),(0,y.R3I)(Cv,uv)},d:function(yv){yv&&(0,y.ogt)(Cv)}}}function gv(mv){var Cv,uv,yv;return{c:function(){Cv=(0,y.bi5)("svg"),uv=(0,y.bi5)("path"),yv=(0,y.bi5)("path"),(0,y.Ljt)(uv,"d","M776.533333 1024 162.133333 1024C72.533333 1024 0 951.466667 0 861.866667L0 247.466667C0 157.866667 72.533333 85.333333 162.133333 85.333333L469.333333 85.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667L162.133333 170.666667C119.466667 170.666667 85.333333 204.8 85.333333 247.466667l0 610.133333c0 42.666667 34.133333 76.8 76.8 76.8l610.133333 0c42.666667 0 76.8-34.133333 76.8-76.8L849.066667 554.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 307.2C938.666667 951.466667 866.133333 1024 776.533333 1024z"),(0,y.Ljt)(yv,"d","M256 810.666667c-12.8 0-21.333333-4.266667-29.866667-12.8C217.6 789.333333 213.333333 772.266667 213.333333 759.466667l42.666667-213.333333c0-8.533333 4.266667-17.066667 12.8-21.333333l512-512c17.066667-17.066667 42.666667-17.066667 59.733333 0l170.666667 170.666667c17.066667 17.066667 17.066667 42.666667 0 59.733333l-512 512c-4.266667 4.266667-12.8 8.533333-21.333333 12.8l-213.333333 42.666667C260.266667 810.666667 260.266667 810.666667 256 810.666667zM337.066667 576l-25.6 136.533333 136.533333-25.6L921.6 213.333333 810.666667 102.4 337.066667 576z"),(0,y.Ljt)(Cv,"class","vc-icon-edit"),(0,y.Ljt)(Cv,"viewBox","0 0 1024 1024"),(0,y.Ljt)(Cv,"width","200"),(0,y.Ljt)(Cv,"height","200")},m:function($v,Dv){(0,y.$Tr)($v,Cv,Dv),(0,y.R3I)(Cv,uv),(0,y.R3I)(Cv,yv)},d:function($v){$v&&(0,y.ogt)(Cv)}}}function Sv(mv){var Cv,uv;return{c:function(){Cv=(0,y.bi5)("svg"),uv=(0,y.bi5)("path"),(0,y.Ljt)(uv,"d","M581.338005 987.646578c-2.867097 4.095853-4.573702 8.669555-8.191705 12.287558a83.214071 83.214071 0 0 1-60.959939 24.029001 83.214071 83.214071 0 0 1-61.028203-24.029001c-3.618003-3.618003-5.324608-8.191705-8.123441-12.15103L24.370323 569.050448a83.418864 83.418864 0 0 1 117.892289-117.89229l369.923749 369.92375L1308.829682 24.438587A83.418864 83.418864 0 0 1 1426.721971 142.194348L581.338005 987.646578z"),(0,y.Ljt)(Cv,"class","vc-icon-don"),(0,y.Ljt)(Cv,"viewBox","0 0 1501 1024"),(0,y.Ljt)(Cv,"width","200"),(0,y.Ljt)(Cv,"height","200")},m:function(yv,$v){(0,y.$Tr)(yv,Cv,$v),(0,y.R3I)(Cv,uv)},d:function(yv){yv&&(0,y.ogt)(Cv)}}}function wv(mv){var Cv,uv;return{c:function(){Cv=(0,y.bi5)("svg"),uv=(0,y.bi5)("path"),(0,y.Ljt)(uv,"d","M894.976 574.464q0 78.848-29.696 148.48t-81.408 123.392-121.856 88.064-151.04 41.472q-5.12 1.024-9.216 1.536t-9.216 0.512l-177.152 0q-17.408 0-34.304-6.144t-30.208-16.896-22.016-25.088-8.704-29.696 8.192-29.696 21.504-24.576 29.696-16.384 33.792-6.144l158.72 1.024q54.272 0 102.4-19.968t83.968-53.76 56.32-79.36 20.48-97.792q0-49.152-18.432-92.16t-50.688-76.8-75.264-54.784-93.184-26.112q-2.048 0-2.56 0.512t-2.56 0.512l-162.816 0 0 80.896q0 17.408-13.824 25.6t-44.544-10.24q-8.192-5.12-26.112-17.92t-41.984-30.208-50.688-36.864l-51.2-38.912q-15.36-12.288-26.624-22.016t-11.264-24.064q0-12.288 12.8-25.6t29.184-26.624q18.432-15.36 44.032-35.84t50.688-39.936 45.056-35.328 28.16-22.016q24.576-17.408 39.936-7.168t16.384 30.72l0 81.92 162.816 0q5.12 0 10.752 1.024t10.752 2.048q79.872 8.192 149.504 41.984t121.344 87.552 80.896 123.392 29.184 147.456z"),(0,y.Ljt)(Cv,"class","vc-icon-cancel"),(0,y.Ljt)(Cv,"viewBox","0 0 1024 1024"),(0,y.Ljt)(Cv,"width","200"),(0,y.Ljt)(Cv,"height","200")},m:function(yv,$v){(0,y.$Tr)(yv,Cv,$v),(0,y.R3I)(Cv,uv)},d:function(yv){yv&&(0,y.ogt)(Cv)}}}function rv(mv){var Cv,uv,yv,$v,Dv,Hv,Gv,f0,qv,Pv=mv[0]==="delete"&&Km(),Tv=mv[0]==="clear"&&tv(),Vv=mv[0]==="copy"&&nv(),Av=mv[0]==="success"&&sv(),y0=mv[0]==="edit"&&gv(),av=mv[0]==="done"&&Sv(),fv=mv[0]==="cancel"&&wv();return{c:function(){Cv=(0,y.bGB)("i"),Pv&&Pv.c(),uv=(0,y.DhX)(),Tv&&Tv.c(),yv=(0,y.DhX)(),Vv&&Vv.c(),$v=(0,y.DhX)(),Av&&Av.c(),Dv=(0,y.DhX)(),y0&&y0.c(),Hv=(0,y.DhX)(),av&&av.c(),Gv=(0,y.DhX)(),fv&&fv.c(),(0,y.Ljt)(Cv,"class","vc-icon")},m:function(lv,kv){(0,y.$Tr)(lv,Cv,kv),Pv&&Pv.m(Cv,null),(0,y.R3I)(Cv,uv),Tv&&Tv.m(Cv,null),(0,y.R3I)(Cv,yv),Vv&&Vv.m(Cv,null),(0,y.R3I)(Cv,$v),Av&&Av.m(Cv,null),(0,y.R3I)(Cv,Dv),y0&&y0.m(Cv,null),(0,y.R3I)(Cv,Hv),av&&av.m(Cv,null),(0,y.R3I)(Cv,Gv),fv&&fv.m(Cv,null),f0||(qv=(0,y.oLt)(Cv,"click",mv[1]),f0=!0)},p:function(lv,kv){kv[0],lv[0]==="delete"?Pv||((Pv=Km()).c(),Pv.m(Cv,uv)):Pv&&(Pv.d(1),Pv=null),lv[0]==="clear"?Tv||((Tv=tv()).c(),Tv.m(Cv,yv)):Tv&&(Tv.d(1),Tv=null),lv[0]==="copy"?Vv||((Vv=nv()).c(),Vv.m(Cv,$v)):Vv&&(Vv.d(1),Vv=null),lv[0]==="success"?Av||((Av=sv()).c(),Av.m(Cv,Dv)):Av&&(Av.d(1),Av=null),lv[0]==="edit"?y0||((y0=gv()).c(),y0.m(Cv,Hv)):y0&&(y0.d(1),y0=null),lv[0]==="done"?av||((av=Sv()).c(),av.m(Cv,Gv)):av&&(av.d(1),av=null),lv[0]==="cancel"?fv||((fv=wv()).c(),fv.m(Cv,null)):fv&&(fv.d(1),fv=null)},i:y.ZTd,o:y.ZTd,d:function(lv){lv&&(0,y.ogt)(Cv),Pv&&Pv.d(),Tv&&Tv.d(),Vv&&Vv.d(),Av&&Av.d(),y0&&y0.d(),av&&av.d(),fv&&fv.d(),f0=!1,qv()}}}function Jm(mv,Cv,uv){var yv=Cv.name;return(0,k.H3)(function(){Xm.use()}),(0,k.ev)(function(){Xm.unuse()}),mv.$$set=function($v){"name"in $v&&uv(0,yv=$v.name)},[yv,function($v){y.cKT.call(this,mv,$v)}]}var dv=function(mv){function Cv(uv){var yv;return yv=mv.call(this)||this,(0,y.S1n)((0,g.Z)(yv),uv,Jm,rv,y.N8,{name:0}),yv}return(0,$.Z)(Cv,mv),(0,r.Z)(Cv,[{key:"name",get:function(){return this.$$.ctx[0]},set:function(uv){this.$$set({name:uv}),(0,y.yl1)()}}]),Cv}(y.f_C),pv=dv},3903:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6464),_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6881),svelte_internal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2942),svelte__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7003),_component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8702),_logTool__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8665),_log_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5629),_logCommand_less__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3411);function get_each_context(t,e,n){var r=t.slice();return r[28]=e[n],r}function create_if_block_2(t){var e,n,r;return{c:function(){(e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="Close",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-prompted-hide")},m:function(g,$){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(g,e,$),n||(r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",t[5]),n=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(g){g&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),n=!1,r()}}}function create_else_block(t){var e;return{c:function(){(e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="No Prompted"},m:function(n,r){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(n,e,r)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(n){n&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e)}}}function create_each_block(t){var e,n,r,g,$=t[28].text+"";function y(){return t[14](t[28])}return{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li"),n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.fLW)($)},m:function(k,L){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(k,e,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,n),r||(g=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",y),r=!0)},p:function(k,L){t=k,8&L&&$!==($=t[28].text+"")&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.rTO)(n,$)},d:function(k){k&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),r=!1,g()}}}function create_if_block_1(t){var e,n,r,g,$;return n=new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(n.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-clear-btn")},m:function(y,k){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(y,e,k),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(n,e,null),r=!0,g||($=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[17])),g=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(y){r||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(n.$$.fragment,y),r=!0)},o:function(y){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(n.$$.fragment,y),r=!1},d:function(y){y&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(n),g=!1,$()}}}function create_if_block(t){var e,n,r,g,$;return n=new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(n.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-clear-btn")},m:function(y,k){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(y,e,k),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(n,e,null),r=!0,g||($=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[19])),g=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(y){r||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(n.$$.fragment,y),r=!0)},o:function(y){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(n.$$.fragment,y),r=!1},d:function(y){y&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(n),g=!1,$()}}}function create_fragment(t){for(var e,n,r,g,$,y,k,L,V,z,j,ie,Oe,ur,hr,Vr,dr,ec,tc,Xs,rc,ic=t[3].length>0&&create_if_block_2(t),_c=t[3],qm=[],Xm=0;Xm<_c.length;Xm+=1)qm[Xm]=create_each_block(get_each_context(t,_c,Xm));var Km=null;_c.length||(Km=create_else_block());var tv=t[1].length>0&&create_if_block_1(t),nv=t[4].length>0&&create_if_block(t);return{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),ic&&ic.c(),r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)();for(var sv=0;sv<qm.length;sv+=1)qm[sv].c();Km&&Km.c(),g=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),$=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),y=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),k=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),tv&&tv.c(),L=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(V=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="OK",z=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),j=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),ie=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),Oe=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),ur=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),hr=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),Vr=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),nv&&nv.c(),dr=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(ec=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="Filter",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"style",t[2]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(y,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(y,"placeholder","command..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)($,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(V,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(V,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(ie,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(hr,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(hr,"placeholder","filter..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(ur,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(ec,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(ec,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(j,"class","vc-cmd vc-filter")},m:function(sv,gv){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(sv,e,gv),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,n),ic&&ic.m(n,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n,r);for(var Sv=0;Sv<qm.length;Sv+=1)qm[Sv].m(n,null);Km&&Km.m(n,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,g),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,$),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)($,y),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(y,t[1]),t[16](y),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)($,k),tv&&tv.m($,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,V),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(sv,z,gv),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(sv,j,gv),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(j,ie),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(j,Oe),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(j,ur),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(ur,hr),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(hr,t[4]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(ur,Vr),nv&&nv.m(ur,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(j,dr),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(j,ec),tc=!0,Xs||(rc=[(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(y,"input",t[15]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(y,"keydown",t[10]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(y,"keyup",t[11]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(y,"focus",t[8]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(y,"blur",t[9]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[12])),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(hr,"input",t[18]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(j,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[13]))],Xs=!0)},p:function(sv,gv){var Sv=gv[0];if(sv[3].length>0?ic?ic.p(sv,Sv):((ic=create_if_block_2(sv)).c(),ic.m(n,r)):ic&&(ic.d(1),ic=null),136&Sv){var wv;for(_c=sv[3],wv=0;wv<_c.length;wv+=1){var rv=get_each_context(sv,_c,wv);qm[wv]?qm[wv].p(rv,Sv):(qm[wv]=create_each_block(rv),qm[wv].c(),qm[wv].m(n,null))}for(;wv<qm.length;wv+=1)qm[wv].d(1);qm.length=_c.length,!_c.length&&Km?Km.p(sv,Sv):_c.length?Km&&(Km.d(1),Km=null):((Km=create_else_block()).c(),Km.m(n,null))}(!tc||4&Sv)&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"style",sv[2]),2&Sv&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(y,sv[1]),sv[1].length>0?tv?(tv.p(sv,Sv),2&Sv&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(tv,1)):((tv=create_if_block_1(sv)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(tv,1),tv.m($,null)):tv&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(tv,1,1,function(){tv=null}),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)()),16&Sv&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(hr,sv[4]),sv[4].length>0?nv?(nv.p(sv,Sv),16&Sv&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(nv,1)):((nv=create_if_block(sv)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(nv,1),nv.m(ur,null)):nv&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(nv,1,1,function(){nv=null}),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)())},i:function(sv){tc||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(tv),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(nv),tc=!0)},o:function(sv){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(tv),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(nv),tc=!1},d:function(sv){sv&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),ic&&ic.d(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.RMB)(qm,sv),Km&&Km.d(),t[16](null),tv&&tv.d(),sv&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(z),sv&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(j),nv&&nv.d(),Xs=!1,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.j7q)(rc)}}}function instance($$self,$$props,$$invalidate){var module=_log_model__WEBPACK_IMPORTED_MODULE_3__.W.getSingleton(_log_model__WEBPACK_IMPORTED_MODULE_3__.W,"VConsoleLogModel"),cachedObjKeys={},dispatch=(0,svelte__WEBPACK_IMPORTED_MODULE_1__.x)(),cmdElement,cmdValue="",promptedStyle="",promptedList=[],filterValue="";(0,svelte__WEBPACK_IMPORTED_MODULE_1__.H3)(function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.use()}),(0,svelte__WEBPACK_IMPORTED_MODULE_1__.ev)(function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.unuse()});var evalCommand=function(t){module.evalCommand(t)},moveCursorToPos=function(t,e){t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(e,e)},1)},clearPromptedList=function(){$$invalidate(2,promptedStyle="display: none;"),$$invalidate(3,promptedList=[])},updatePromptedList=function updatePromptedList(identifier){if(cmdValue!==""){identifier||(identifier=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(cmdValue));var objName="window",keyName=cmdValue;if(identifier.front.text!=="."&&identifier.front.text!=="["||(objName=identifier.front.before,keyName=identifier.back.text!==""?identifier.back.before:identifier.front.after),keyName=keyName.replace(/(^['"]+)|(['"']+$)/g,""),!cachedObjKeys[objName])try{cachedObjKeys[objName]=Object.getOwnPropertyNames(eval("("+objName+")")).sort()}catch(t){}try{if(cachedObjKeys[objName])for(var i=0;i<cachedObjKeys[objName].length&&!(promptedList.length>=100);i++){var key=String(cachedObjKeys[objName][i]),keyPattern=new RegExp("^"+keyName,"i");if(keyPattern.test(key)){var completeCmd=objName;identifier.front.text==="."||identifier.front.text===""?completeCmd+="."+key:identifier.front.text==="["&&(completeCmd+="['"+key+"']"),promptedList.push({text:key,value:completeCmd})}}}catch(t){}if(promptedList.length>0){var m=Math.min(200,31*(promptedList.length+1));$$invalidate(2,promptedStyle="display: block; height: "+m+"px; margin-top: "+(-m-2)+"px;"),$$invalidate(3,promptedList)}else clearPromptedList()}else clearPromptedList()},autoCompleteBrackets=function(t,e){if(!(e===8||e===46)&&t.front.after==="")switch(t.front.text){case"[":return $$invalidate(1,cmdValue+="]"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"(":return $$invalidate(1,cmdValue+=")"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"{":return $$invalidate(1,cmdValue+="}"),void moveCursorToPos(cmdElement,cmdValue.length-1)}},dispatchFilterEvent=function(){dispatch("filterText",{filterText:filterValue})},onTapClearText=function(t){t==="cmd"?($$invalidate(1,cmdValue=""),clearPromptedList()):t==="filter"&&($$invalidate(4,filterValue=""),dispatchFilterEvent())},onTapPromptedItem=function onTapPromptedItem(item){var type="";try{type=eval("typeof "+item.value)}catch(t){}$$invalidate(1,cmdValue=item.value+(type==="function"?"()":"")),clearPromptedList()},onCmdFocus=function(){updatePromptedList()},onCmdBlur=function(){},onCmdKeyDown=function(t){t.keyCode===13&&(t.preventDefault(),onCmdSubmit())},onCmdKeyUp=function(t){$$invalidate(3,promptedList=[]);var e=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(t.target.value);autoCompleteBrackets(e,t.keyCode),updatePromptedList(e)},onCmdSubmit=function(){cmdValue!==""&&evalCommand(cmdValue),clearPromptedList()},onFilterSubmit=function(t){dispatchFilterEvent()},click_handler=function(t){return onTapPromptedItem(t)};function textarea0_input_handler(){cmdValue=this.value,$$invalidate(1,cmdValue)}function textarea0_binding(t){svelte_internal__WEBPACK_IMPORTED_MODULE_0__.VnY[t?"unshift":"push"](function(){$$invalidate(0,cmdElement=t)})}var click_handler_1=function(){return onTapClearText("cmd")};function textarea1_input_handler(){filterValue=this.value,$$invalidate(4,filterValue)}var click_handler_2=function(){return onTapClearText("filter")};return[cmdElement,cmdValue,promptedStyle,promptedList,filterValue,clearPromptedList,onTapClearText,onTapPromptedItem,onCmdFocus,onCmdBlur,onCmdKeyDown,onCmdKeyUp,onCmdSubmit,onFilterSubmit,click_handler,textarea0_input_handler,textarea0_binding,click_handler_1,textarea1_input_handler,click_handler_2]}var LogCommand=function(t){function e(n){var r;return r=t.call(this)||this,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.S1n)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.Z)(r),n,instance,create_fragment,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.N8,{}),r}return(0,_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__.Z)(e,t),e}(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.f_C);__webpack_exports__.Z=LogCommand},4687:function(t,e,n){n.d(e,{x:function(){return g}});var r=n(3313),g=function(){var $=(0,r.fZ)({updateTime:0}),y=$.subscribe,k=$.set,L=$.update;return{subscribe:y,set:k,update:L,updateTime:function(){L(function(V){return V.updateTime=Date.now(),V})}}}()},643:function(t,e,n){n.d(e,{N:function(){return r}});var r=function(){function g(){this._onDataUpdateCallbacks=[]}return g.getSingleton=function($,y){return y||(y=$.toString()),g.singleton[y]||(g.singleton[y]=new $),g.singleton[y]},g}();r.singleton={}},5103:function(t,e,n){function r(uv){var yv=uv>0?new Date(uv):new Date,$v=yv.getDate()<10?"0"+yv.getDate():yv.getDate(),Dv=yv.getMonth()<9?"0"+(yv.getMonth()+1):yv.getMonth()+1,Hv=yv.getFullYear(),Gv=yv.getHours()<10?"0"+yv.getHours():yv.getHours(),f0=yv.getMinutes()<10?"0"+yv.getMinutes():yv.getMinutes(),qv=yv.getSeconds()<10?"0"+yv.getSeconds():yv.getSeconds(),Pv=yv.getMilliseconds()<10?"0"+yv.getMilliseconds():yv.getMilliseconds();return Pv<100&&(Pv="0"+Pv),{time:+yv,year:Hv,month:Dv,day:$v,hour:Gv,minute:f0,second:qv,millisecond:Pv}}function g(uv){return Object.prototype.toString.call(uv)==="[object Number]"}function $(uv){return typeof uv=="bigint"}function y(uv){return typeof uv=="string"}function k(uv){return Object.prototype.toString.call(uv)==="[object Array]"}function L(uv){return typeof uv=="boolean"}function V(uv){return uv===void 0}function z(uv){return uv===null}function j(uv){return typeof uv=="symbol"}function ie(uv){return!(Object.prototype.toString.call(uv)!=="[object Object]"&&(g(uv)||$(uv)||y(uv)||L(uv)||k(uv)||z(uv)||Oe(uv)||V(uv)||j(uv)))}function Oe(uv){return typeof uv=="function"}function ur(uv){return typeof HTMLElement=="object"?uv instanceof HTMLElement:uv&&typeof uv=="object"&&uv!==null&&uv.nodeType===1&&typeof uv.nodeName=="string"}function hr(uv){var yv=Object.prototype.toString.call(uv);return yv==="[object Window]"||yv==="[object DOMWindow]"||yv==="[object global]"}function Vr(uv){return uv!=null&&typeof uv!="string"&&typeof uv!="boolean"&&typeof uv!="number"&&typeof uv!="function"&&typeof uv!="symbol"&&typeof uv!="bigint"&&typeof Symbol<"u"&&typeof uv[Symbol.iterator]=="function"}function dr(uv){return Object.prototype.toString.call(uv).replace(/\[object (.*)\]/,"$1")}n.d(e,{C4:function(){return $},DV:function(){return tc},FJ:function(){return hr},Ft:function(){return z},HD:function(){return y},H_:function(){return mv},KL:function(){return tv},Kn:function(){return ie},MH:function(){return Sv},PO:function(){return Xs},QI:function(){return pv},QK:function(){return wv},TW:function(){return Vr},_3:function(){return r},_D:function(){return rv},cF:function(){return dv},hZ:function(){return Km},hj:function(){return g},id:function(){return nv},jn:function(){return L},kJ:function(){return k},kK:function(){return ur},mf:function(){return Oe},o8:function(){return V},po:function(){return Jm},qr:function(){return gv},qt:function(){return Cv},rE:function(){return _c},yk:function(){return j},zl:function(){return dr}});var ec=/(function|class) ([^ \{\()}]{1,})[\(| ]/;function tc(uv){var yv;if(uv==null)return"";var $v=ec.exec((uv==null||(yv=uv.constructor)==null?void 0:yv.toString())||"");return $v&&$v.length>1?$v[2]:""}function Xs(uv){var yv,$v=Object.prototype.hasOwnProperty;if(!uv||typeof uv!="object"||uv.nodeType||hr(uv))return!1;try{if(uv.constructor&&!$v.call(uv,"constructor")&&!$v.call(uv.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}for(yv in uv);return yv===void 0||$v.call(uv,yv)}var rc=/[\n\t]/g,ic=function(uv){return{"\n":"\\n","	":"\\t"}[uv]};function _c(uv){return typeof uv!="string"?uv:String(uv).replace(rc,ic)}var qm=function(uv,yv){yv===void 0&&(yv=0);var $v="";return y(uv)?(yv>0&&(uv=nv(uv,yv)),$v+='"'+_c(uv)+'"'):j(uv)?$v+=String(uv).replace(/^Symbol\((.*)\)$/i,'Symbol("$1")'):Oe(uv)?$v+=(uv.name||"function")+"()":$(uv)?$v+=String(uv)+"n":$v+=String(uv),$v},Xm=function uv(yv,$v,Dv){if(Dv===void 0&&(Dv=0),ie(yv)||k(yv))if($v.circularFinder(yv)){var Hv="";if(k(yv))Hv="(Circular Array)";else if(ie(yv)){var Gv;Hv="(Circular "+(((Gv=yv.constructor)==null?void 0:Gv.name)||"Object")+")"}$v.ret+=$v.standardJSON?'"'+Hv+'"':Hv}else{var f0="",qv="";if($v.pretty){for(var Pv=0;Pv<=Dv;Pv++)f0+="  ";qv=`
`}var Tv="{",Vv="}";k(yv)&&(Tv="[",Vv="]"),$v.ret+=Tv+qv;for(var Av=Sv(yv),y0=0;y0<Av.length;y0++){var av=Av[y0];$v.ret+=f0;try{k(yv)||(ie(av)||k(av)||j(av)?$v.ret+=Object.prototype.toString.call(av):y(av)&&$v.standardJSON?$v.ret+='"'+av+'"':$v.ret+=av,$v.ret+=": ")}catch{continue}try{var fv=yv[av];if(k(fv))$v.maxDepth>-1&&Dv>=$v.maxDepth?$v.ret+="Array("+fv.length+")":uv(fv,$v,Dv+1);else if(ie(fv)){var lv;$v.maxDepth>-1&&Dv>=$v.maxDepth?$v.ret+=(((lv=fv.constructor)==null?void 0:lv.name)||"Object")+" {}":uv(fv,$v,Dv+1)}else $v.ret+=qm(fv,$v.keyMaxLen)}catch{$v.ret+=$v.standardJSON?'"(PARSE_ERROR)"':"(PARSE_ERROR)"}if($v.keyMaxLen>0&&$v.ret.length>=10*$v.keyMaxLen){$v.ret+=", (...)";break}y0<Av.length-1&&($v.ret+=", "),$v.ret+=qv}$v.ret+=f0.substring(0,f0.length-2)+Vv}else $v.ret+=qm(yv,$v.keyMaxLen)};function Km(uv,yv){yv===void 0&&(yv={maxDepth:-1,keyMaxLen:-1,pretty:!1,standardJSON:!1});var $v,Dv=Object.assign({ret:"",maxDepth:-1,keyMaxLen:-1,pretty:!1,standardJSON:!1,circularFinder:($v=new WeakSet,function(Hv){if(typeof Hv=="object"&&Hv!==null){if($v.has(Hv))return!0;$v.add(Hv)}return!1})},yv);return Xm(uv,Dv),Dv.ret}function tv(uv){return uv<=0?"":uv>=1e6?(uv/1e3/1e3).toFixed(1)+" MB":uv>=1e3?(uv/1e3).toFixed(1)+" KB":uv+" B"}function nv(uv,yv){return uv.length>yv&&(uv=uv.substring(0,yv)+"...("+tv(function($v){try{return encodeURI($v).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1}catch{return 0}}(uv))+")"),uv}var sv=function(uv,yv){return String(uv).localeCompare(String(yv),void 0,{numeric:!0,sensitivity:"base"})};function gv(uv){return uv.sort(sv)}function Sv(uv){return ie(uv)||k(uv)?Object.keys(uv):[]}function wv(uv){var yv=Sv(uv),$v=function(Dv){return ie(Dv)||k(Dv)?Object.getOwnPropertyNames(Dv):[]}(uv);return $v.filter(function(Dv){return yv.indexOf(Dv)===-1})}function rv(uv){return ie(uv)||k(uv)?Object.getOwnPropertySymbols(uv):[]}function Jm(uv,yv){window.localStorage&&(uv="vConsole_"+uv,localStorage.setItem(uv,yv))}function dv(uv){if(window.localStorage)return uv="vConsole_"+uv,localStorage.getItem(uv)}function pv(uv){return uv===void 0&&(uv=""),"__vc_"+uv+Math.random().toString(36).substring(2,8)}function mv(){return typeof window<"u"&&!!window.__wxConfig&&!!window.wx&&!!window.__virtualDOM__}function Cv(uv){if(mv()&&typeof window.wx[uv]=="function")try{for(var yv,$v=arguments.length,Dv=new Array($v>1?$v-1:0),Hv=1;Hv<$v;Hv++)Dv[Hv-1]=arguments[Hv];var Gv=(yv=window.wx[uv]).call.apply(yv,[window.wx].concat(Dv));return Gv}catch(f0){return void console.debug("[vConsole] Fail to call wx."+uv+"():",f0)}}},5629:function(t,e,n){n.d(e,{W:function(){return ur}});var r=n(8270),g=n(6881),$=n(5103),y=n(643),k=n(4687),L=n(8665),V=n(9923);function z(hr,Vr){var dr=Object.keys(hr);if(Object.getOwnPropertySymbols){var ec=Object.getOwnPropertySymbols(hr);Vr&&(ec=ec.filter(function(tc){return Object.getOwnPropertyDescriptor(hr,tc).enumerable})),dr.push.apply(dr,ec)}return dr}function j(hr){for(var Vr=1;Vr<arguments.length;Vr++){var dr=arguments[Vr]!=null?arguments[Vr]:{};Vr%2?z(Object(dr),!0).forEach(function(ec){(0,r.Z)(hr,ec,dr[ec])}):Object.getOwnPropertyDescriptors?Object.defineProperties(hr,Object.getOwnPropertyDescriptors(dr)):z(Object(dr)).forEach(function(ec){Object.defineProperty(hr,ec,Object.getOwnPropertyDescriptor(dr,ec))})}return hr}function ie(hr,Vr){var dr=typeof Symbol<"u"&&hr[Symbol.iterator]||hr["@@iterator"];if(dr)return(dr=dr.call(hr)).next.bind(dr);if(Array.isArray(hr)||(dr=function(tc,Xs){if(tc){if(typeof tc=="string")return Oe(tc,Xs);var rc=Object.prototype.toString.call(tc).slice(8,-1);if(rc==="Object"&&tc.constructor&&(rc=tc.constructor.name),rc==="Map"||rc==="Set")return Array.from(tc);if(rc==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rc))return Oe(tc,Xs)}}(hr))||Vr){dr&&(hr=dr);var ec=0;return function(){return ec>=hr.length?{done:!0}:{done:!1,value:hr[ec++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(hr,Vr){(Vr==null||Vr>hr.length)&&(Vr=hr.length);for(var dr=0,ec=new Array(Vr);dr<Vr;dr++)ec[dr]=hr[dr];return ec}var ur=function(hr){function Vr(){for(var ec,tc=arguments.length,Xs=new Array(tc),rc=0;rc<tc;rc++)Xs[rc]=arguments[rc];return(ec=hr.call.apply(hr,[this].concat(Xs))||this).LOG_METHODS=["log","info","warn","debug","error"],ec.ADDED_LOG_PLUGIN_ID=[],ec.maxLogNumber=1e3,ec.logCounter=0,ec.groupLevel=0,ec.groupLabelCollapsedStack=[],ec.pluginPattern=void 0,ec.logQueue=[],ec.flushLogScheduled=!1,ec.origConsole={},ec}(0,g.Z)(Vr,hr);var dr=Vr.prototype;return dr.bindPlugin=function(ec){return!(this.ADDED_LOG_PLUGIN_ID.indexOf(ec)>-1)&&(this.ADDED_LOG_PLUGIN_ID.length===0&&this.mockConsole(),V.O.create(ec),this.ADDED_LOG_PLUGIN_ID.push(ec),this.pluginPattern=new RegExp("^\\[("+this.ADDED_LOG_PLUGIN_ID.join("|")+")\\]$","i"),!0)},dr.unbindPlugin=function(ec){var tc=this.ADDED_LOG_PLUGIN_ID.indexOf(ec);return tc!==-1&&(this.ADDED_LOG_PLUGIN_ID.splice(tc,1),V.O.delete(ec),this.ADDED_LOG_PLUGIN_ID.length===0&&this.unmockConsole(),!0)},dr.mockConsole=function(){var ec=this;typeof this.origConsole.log!="function"&&(window.console?(this.LOG_METHODS.map(function(tc){ec.origConsole[tc]=window.console[tc]}),this.origConsole.time=window.console.time,this.origConsole.timeEnd=window.console.timeEnd,this.origConsole.clear=window.console.clear,this.origConsole.group=window.console.group,this.origConsole.groupCollapsed=window.console.groupCollapsed,this.origConsole.groupEnd=window.console.groupEnd):window.console={},this._mockConsoleLog(),this._mockConsoleTime(),this._mockConsoleGroup(),this._mockConsoleClear(),window._vcOrigConsole=this.origConsole)},dr._mockConsoleLog=function(){var ec=this;this.LOG_METHODS.map(function(tc){window.console[tc]=(function(){for(var Xs=arguments.length,rc=new Array(Xs),ic=0;ic<Xs;ic++)rc[ic]=arguments[ic];ec.addLog({type:tc,origData:rc||[]})}).bind(window.console)})},dr._mockConsoleTime=function(){var ec=this,tc={};window.console.time=(function(Xs){Xs===void 0&&(Xs=""),tc[Xs]=Date.now()}).bind(window.console),window.console.timeEnd=(function(Xs){Xs===void 0&&(Xs="");var rc=tc[Xs],ic=0;rc&&(ic=Date.now()-rc,delete tc[Xs]),ec.addLog({type:"log",origData:[Xs+": "+ic+"ms"]})}).bind(window.console)},dr._mockConsoleGroup=function(){var ec=this,tc=function(Xs){return(function(rc){rc===void 0&&(rc="console.group");var ic=Symbol(rc);ec.groupLabelCollapsedStack.push({label:ic,collapsed:Xs}),ec.addLog({type:"log",origData:[rc],isGroupHeader:Xs?2:1,isGroupCollapsed:!1},{noOrig:!0}),ec.groupLevel++,Xs?ec.origConsole.groupCollapsed(rc):ec.origConsole.group(rc)}).bind(window.console)};window.console.group=tc(!1),window.console.groupCollapsed=tc(!0),window.console.groupEnd=(function(){ec.groupLabelCollapsedStack.pop(),ec.groupLevel=Math.max(0,ec.groupLevel-1),ec.origConsole.groupEnd()}).bind(window.console)},dr._mockConsoleClear=function(){var ec=this;window.console.clear=(function(){ec.resetGroup(),ec.clearLog();for(var tc=arguments.length,Xs=new Array(tc),rc=0;rc<tc;rc++)Xs[rc]=arguments[rc];ec.callOriginalConsole.apply(ec,["clear"].concat(Xs))}).bind(window.console)},dr.unmockConsole=function(){for(var ec in this.origConsole)window.console[ec]=this.origConsole[ec],delete this.origConsole[ec];window._vcOrigConsole&&delete window._vcOrigConsole},dr.callOriginalConsole=function(ec){if(typeof this.origConsole[ec]=="function"){for(var tc=arguments.length,Xs=new Array(tc>1?tc-1:0),rc=1;rc<tc;rc++)Xs[rc-1]=arguments[rc];this.origConsole[ec].apply(window.console,Xs)}},dr.resetGroup=function(){for(;this.groupLevel>0;)console.groupEnd()},dr.clearLog=function(){var ec=V.O.getAll();for(var tc in ec)this.clearPluginLog(tc)},dr.clearPluginLog=function(ec){var tc=this.logQueue;this.logQueue=[];for(var Xs,rc=ie(tc);!(Xs=rc()).done;){var ic=Xs.value;this._extractPluginIdByLog(ic)!==ec&&this.logQueue.push(ic)}V.O.get(ec).update(function(_c){return _c.logList.length=0,_c}),k.x.updateTime()},dr.addLog=function(ec,tc){ec===void 0&&(ec={type:"log",origData:[],isGroupHeader:0,isGroupCollapsed:!1});var Xs=this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length-2],rc=this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length-1],ic={_id:$.QI(),type:ec.type,cmdType:tc==null?void 0:tc.cmdType,toggle:{},date:Date.now(),data:(0,L.b1)(ec.origData||[]),repeated:0,groupLabel:rc==null?void 0:rc.label,groupLevel:this.groupLevel,groupHeader:ec.isGroupHeader,groupCollapsed:ec.isGroupHeader?!(Xs==null||!Xs.collapsed):!(rc==null||!rc.collapsed)};this._signalLog(ic),tc!=null&&tc.noOrig||this.callOriginalConsole.apply(this,[ec.type].concat(ec.origData))},dr.evalCommand=function(ec){this.addLog({type:"log",origData:[ec]},{cmdType:"input"});var tc=void 0;try{tc=eval.call(window,"("+ec+")")}catch{try{tc=eval.call(window,ec)}catch{}}this.addLog({type:"log",origData:[tc]},{cmdType:"output"})},dr._signalLog=function(ec){var tc=this;this.flushLogScheduled||(this.flushLogScheduled=!0,window.requestAnimationFrame(function(){tc.flushLogScheduled=!1,tc._flushLogs()})),this.logQueue.push(ec)},dr._flushLogs=function(){var ec=this,tc=this.logQueue;this.logQueue=[];for(var Xs,rc={},ic=ie(tc);!(Xs=ic()).done;){var _c=Xs.value,qm=this._extractPluginIdByLog(_c);(rc[qm]=rc[qm]||[]).push(_c)}for(var Xm=function(nv){var sv=rc[nv];V.O.get(nv).update(function(gv){for(var Sv,wv=[].concat(gv.logList),rv=ie(sv);!(Sv=rv()).done;){var Jm=Sv.value;ec._isRepeatedLog(wv,Jm)?ec._updateLastLogRepeated(wv):wv.push(Jm)}return{logList:wv=ec._limitLogListLength(wv)}})},Km=0,tv=Object.keys(rc);Km<tv.length;Km++)Xm(tv[Km]);k.x.updateTime()},dr._extractPluginIdByLog=function(ec){var tc,Xs="default",rc=(tc=ec.data[0])==null?void 0:tc.origData;if($.HD(rc)){var ic=rc.match(this.pluginPattern);if(ic!==null&&ic.length>1){var _c=ic[1].toLowerCase();this.ADDED_LOG_PLUGIN_ID.indexOf(_c)>-1&&(Xs=_c,ec.data.shift())}}return Xs},dr._isRepeatedLog=function(ec,tc){var Xs=ec[ec.length-1];if(!Xs)return!1;var rc=!1;if(tc.type===Xs.type&&tc.cmdType===Xs.cmdType&&tc.data.length===Xs.data.length){rc=!0;for(var ic=0;ic<tc.data.length;ic++)if(tc.data[ic].origData!==Xs.data[ic].origData){rc=!1;break}}return rc},dr._updateLastLogRepeated=function(ec){var tc=ec[ec.length-1],Xs=tc.repeated?tc.repeated+1:2;return ec[ec.length-1]=j(j({},tc),{},{repeated:Xs}),ec},dr._limitLogListLength=function(ec){var tc=ec.length,Xs=this.maxLogNumber;return tc>Xs?ec.slice(tc-Xs,tc):ec},Vr}(y.N)},9923:function(t,e,n){n.d(e,{O:function(){return g}});var r=n(3313),g=function(){function $(){}return $.create=function(y){return this.storeMap[y]||(this.storeMap[y]=(0,r.fZ)({logList:[]})),this.storeMap[y]},$.delete=function(y){this.storeMap[y]&&delete this.storeMap[y]},$.get=function(y){return this.storeMap[y]},$.getRaw=function(y){return(0,r.U2)(this.storeMap[y])},$.getAll=function(){return this.storeMap},$}();g.storeMap={}},8665:function(t,e,n){n.d(e,{HX:function(){return z},LH:function(){return $},Tg:function(){return Oe},b1:function(){return ie},oj:function(){return V}});var r=n(5103),g=function(ur){var hr=r.hZ(ur,{maxDepth:0}),Vr=hr.substring(0,36),dr=r.DV(ur);return hr.length>36&&(Vr+="..."),dr=r.rE(dr+" "+Vr)},$=function(ur,hr){hr===void 0&&(hr=!0);var Vr="undefined",dr=ur;return ur instanceof Oe?(Vr="uninvocatable",dr="(...)"):r.kJ(ur)?(Vr="array",dr=g(ur)):r.Kn(ur)?(Vr="object",dr=g(ur)):r.HD(ur)?(Vr="string",dr=r.rE(ur),hr&&(dr='"'+dr+'"')):r.hj(ur)?(Vr="number",dr=String(ur)):r.C4(ur)?(Vr="bigint",dr=String(ur)+"n"):r.jn(ur)?(Vr="boolean",dr=String(ur)):r.Ft(ur)?(Vr="null",dr="null"):r.o8(ur)?(Vr="undefined",dr="undefined"):r.mf(ur)?(Vr="function",dr=(ur.name||"function")+"()"):r.yk(ur)&&(Vr="symbol",dr=String(ur)),{text:dr,valueType:Vr}},y=[".","[","(","{","}"],k=["]",")","}"],L=function(ur,hr,Vr){Vr===void 0&&(Vr=0);for(var dr={text:"",pos:-1,before:"",after:""},ec=ur.length-1;ec>=Vr;ec--){var tc=hr.indexOf(ur[ec]);if(tc>-1){dr.text=hr[tc],dr.pos=ec,dr.before=ur.substring(Vr,ec),dr.after=ur.substring(ec+1,ur.length);break}}return dr},V=function(ur){var hr=L(ur,y,0);return{front:hr,back:L(ur,k,hr.pos+1)}},z=function(ur,hr){if(hr==="")return!0;for(var Vr=0;Vr<ur.data.length;Vr++)if(typeof ur.data[Vr].origData=="string"&&ur.data[Vr].origData.indexOf(hr)>-1)return!0;return!1},j=/(\%[csdo] )|( \%[csdo])/g,ie=function(ur){if(j.lastIndex=0,r.HD(ur[0])&&j.test(ur[0])){for(var hr,Vr=[].concat(ur),dr=Vr.shift().split(j).filter(function(tv){return tv!==void 0&&tv!==""}),ec=Vr,tc=[],Xs=!1,rc="";dr.length>0;){var ic=dr.shift();if(/ ?\%c ?/.test(ic)?ec.length>0?typeof(rc=ec.shift())!="string"&&(rc=""):(hr=ic,rc="",Xs=!0):/ ?\%[sd] ?/.test(ic)?(hr=ec.length>0?r.Kn(ec[0])?r.DV(ec.shift()):String(ec.shift()):ic,Xs=!0):/ ?\%o ?/.test(ic)?(hr=ec.length>0?ec.shift():ic,Xs=!0):(hr=ic,Xs=!0),Xs){var _c={origData:hr};rc&&(_c.style=rc),tc.push(_c),Xs=!1,hr=void 0,rc=""}}for(var qm=0;qm<ec.length;qm++)tc.push({origData:ec[qm]});return tc}for(var Xm=[],Km=0;Km<ur.length;Km++)Xm.push({origData:ur[Km]});return Xm},Oe=function(){}},5313:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-icon {
  word-break: normal;
  white-space: normal;
  overflow: visible;
}
.vc-icon svg {
  fill: var(--VC-FG-2);
  height: 1em;
  width: 1em;
  vertical-align: -0.11em;
}
.vc-icon .vc-icon-delete {
  vertical-align: -0.11em;
}
.vc-icon .vc-icon-copy {
  height: 1.1em;
  width: 1.1em;
  vertical-align: -0.16em;
}
.vc-icon .vc-icon-suc {
  fill: var(--VC-TEXTGREEN);
  height: 1.1em;
  width: 1.1em;
  vertical-align: -0.16em;
}
`,""]),e.Z=y},1142:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-scroller-viewport {
  position: relative;
  overflow: hidden;
  height: 100%;
}
.vc-scroller-contents {
  min-height: 100%;
  will-change: transform;
}
.vc-scroller-items {
  will-change: height;
  position: relative;
}
.vc-scroller-item {
  display: none;
  position: absolute;
  left: 0;
  right: 0;
}
.vc-scroller-viewport.static .vc-scroller-item {
  display: block;
  position: static;
}
.vc-scroller-scrollbar-track {
  width: 4px;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding: 1px;
}
.vc-scroller-scrollbar-thumb {
  position: relative;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 999px;
}
`,""]),e.Z=y},3283:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`#__vconsole {
  --VC-BG-0: #ededed;
  --VC-BG-1: #f7f7f7;
  --VC-BG-2: #fff;
  --VC-BG-3: #f7f7f7;
  --VC-BG-4: #4c4c4c;
  --VC-BG-5: #fff;
  --VC-BG-6: rgba(0, 0, 0, 0.1);
  --VC-FG-0: rgba(0, 0, 0, 0.9);
  --VC-FG-HALF: rgba(0, 0, 0, 0.9);
  --VC-FG-1: rgba(0, 0, 0, 0.5);
  --VC-FG-2: rgba(0, 0, 0, 0.3);
  --VC-FG-3: rgba(0, 0, 0, 0.1);
  --VC-RED: #fa5151;
  --VC-ORANGE: #fa9d3b;
  --VC-YELLOW: #ffc300;
  --VC-GREEN: #91d300;
  --VC-LIGHTGREEN: #95ec69;
  --VC-BRAND: #07c160;
  --VC-BLUE: #10aeff;
  --VC-INDIGO: #1485ee;
  --VC-PURPLE: #6467f0;
  --VC-LINK: #576b95;
  --VC-TEXTGREEN: #06ae56;
  --VC-FG: black;
  --VC-BG: white;
  --VC-BG-COLOR-ACTIVE: #ececec;
  --VC-WARN-BG: #fff3cc;
  --VC-WARN-BORDER: #ffe799;
  --VC-ERROR-BG: #fedcdc;
  --VC-ERROR-BORDER: #fdb9b9;
  --VC-DOM-TAG-NAME-COLOR: #881280;
  --VC-DOM-ATTRIBUTE-NAME-COLOR: #994500;
  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #1a1aa6;
  --VC-CODE-KEY-FG: #881391;
  --VC-CODE-PRIVATE-KEY-FG: #cfa1d3;
  --VC-CODE-FUNC-FG: #0d22aa;
  --VC-CODE-NUMBER-FG: #1c00cf;
  --VC-CODE-STR-FG: #c41a16;
  --VC-CODE-NULL-FG: #808080;
  color: var(--VC-FG-0);
  font-size: 13px;
  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
  -webkit-user-select: auto;
  /* global */
}
#__vconsole .vc-max-height {
  max-height: 19.23076923em;
}
#__vconsole .vc-max-height-line {
  max-height: 6.30769231em;
}
#__vconsole .vc-min-height {
  min-height: 3.07692308em;
}
#__vconsole dd,
#__vconsole dl,
#__vconsole pre {
  margin: 0;
}
#__vconsole pre {
  white-space: pre-wrap;
}
#__vconsole i {
  font-style: normal;
}
.vc-table {
  height: 100%;
}
.vc-table .vc-table-row {
  line-height: 1.5;
  display: -webkit-box;
  display: -webkit-flex;
  display: -moz-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
  -moz-box-orient: horizontal;
  -moz-box-direction: normal;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  overflow: hidden;
  border-bottom: 1px solid var(--VC-FG-3);
}
.vc-table .vc-table-row.vc-left-border {
  border-left: 1px solid var(--VC-FG-3);
}
.vc-table .vc-table-row-icon {
  margin-left: 4px;
}
.vc-table .vc-table-col {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
  -moz-box-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 0.23076923em 0.30769231em;
  border-left: 1px solid var(--VC-FG-3);
  overflow: auto;
}
.vc-table .vc-table-col:first-child {
  border: none;
}
.vc-table .vc-table-col-value {
  white-space: pre-wrap;
  word-break: break-word;
  /*white-space: nowrap;
    text-overflow: ellipsis;*/
  -webkit-overflow-scrolling: touch;
}
.vc-table .vc-small .vc-table-col {
  padding: 0 0.30769231em;
  font-size: 0.92307692em;
}
.vc-table .vc-table-col-2 {
  -webkit-box-flex: 2;
  -webkit-flex: 2;
  -moz-box-flex: 2;
  -ms-flex: 2;
  flex: 2;
}
.vc-table .vc-table-col-3 {
  -webkit-box-flex: 3;
  -webkit-flex: 3;
  -moz-box-flex: 3;
  -ms-flex: 3;
  flex: 3;
}
.vc-table .vc-table-col-4 {
  -webkit-box-flex: 4;
  -webkit-flex: 4;
  -moz-box-flex: 4;
  -ms-flex: 4;
  flex: 4;
}
.vc-table .vc-table-col-5 {
  -webkit-box-flex: 5;
  -webkit-flex: 5;
  -moz-box-flex: 5;
  -ms-flex: 5;
  flex: 5;
}
.vc-table .vc-table-col-6 {
  -webkit-box-flex: 6;
  -webkit-flex: 6;
  -moz-box-flex: 6;
  -ms-flex: 6;
  flex: 6;
}
.vc-table .vc-table-row-error {
  border-color: var(--VC-ERROR-BORDER);
  background-color: var(--VC-ERROR-BG);
}
.vc-table .vc-table-row-error .vc-table-col {
  color: var(--VC-RED);
  border-color: var(--VC-ERROR-BORDER);
}
.vc-table .vc-table-col-title {
  font-weight: bold;
}
.vc-table .vc-table-action {
  display: flex;
  justify-content: space-evenly;
}
.vc-table .vc-table-action .vc-icon {
  flex: 1;
  text-align: center;
  display: block;
}
.vc-table .vc-table-action .vc-icon:hover {
  background: var(--VC-BG-3);
}
.vc-table .vc-table-action .vc-icon:active {
  background: var(--VC-BG-1);
}
.vc-table .vc-table-input {
  width: 100%;
  border: none;
  color: var(--VC-FG-0);
  background-color: var(--VC-BG-6);
  height: 3.53846154em;
}
.vc-table .vc-table-input:focus {
  background-color: var(--VC-FG-2);
}
@media (prefers-color-scheme: dark) {
  #__vconsole:not([data-theme="light"]) {
    --VC-BG-0: #191919;
    --VC-BG-1: #1f1f1f;
    --VC-BG-2: #232323;
    --VC-BG-3: #2f2f2f;
    --VC-BG-4: #606060;
    --VC-BG-5: #2c2c2c;
    --VC-BG-6: rgba(255, 255, 255, 0.2);
    --VC-FG-0: rgba(255, 255, 255, 0.8);
    --VC-FG-HALF: rgba(255, 255, 255, 0.6);
    --VC-FG-1: rgba(255, 255, 255, 0.5);
    --VC-FG-2: rgba(255, 255, 255, 0.3);
    --VC-FG-3: rgba(255, 255, 255, 0.05);
    --VC-RED: #fa5151;
    --VC-ORANGE: #c87d2f;
    --VC-YELLOW: #cc9c00;
    --VC-GREEN: #74a800;
    --VC-LIGHTGREEN: #28b561;
    --VC-BRAND: #07c160;
    --VC-BLUE: #10aeff;
    --VC-INDIGO: #1196ff;
    --VC-PURPLE: #8183ff;
    --VC-LINK: #7d90a9;
    --VC-TEXTGREEN: #259c5c;
    --VC-FG: white;
    --VC-BG: black;
    --VC-BG-COLOR-ACTIVE: #282828;
    --VC-WARN-BG: #332700;
    --VC-WARN-BORDER: #664e00;
    --VC-ERROR-BG: #321010;
    --VC-ERROR-BORDER: #642020;
    --VC-DOM-TAG-NAME-COLOR: #5DB0D7;
    --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;
    --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;
    --VC-CODE-KEY-FG: #e36eec;
    --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;
    --VC-CODE-FUNC-FG: #556af2;
    --VC-CODE-NUMBER-FG: #9980ff;
    --VC-CODE-STR-FG: #e93f3b;
    --VC-CODE-NULL-FG: #808080;
  }
}
#__vconsole[data-theme="dark"] {
  --VC-BG-0: #191919;
  --VC-BG-1: #1f1f1f;
  --VC-BG-2: #232323;
  --VC-BG-3: #2f2f2f;
  --VC-BG-4: #606060;
  --VC-BG-5: #2c2c2c;
  --VC-BG-6: rgba(255, 255, 255, 0.2);
  --VC-FG-0: rgba(255, 255, 255, 0.8);
  --VC-FG-HALF: rgba(255, 255, 255, 0.6);
  --VC-FG-1: rgba(255, 255, 255, 0.5);
  --VC-FG-2: rgba(255, 255, 255, 0.3);
  --VC-FG-3: rgba(255, 255, 255, 0.05);
  --VC-RED: #fa5151;
  --VC-ORANGE: #c87d2f;
  --VC-YELLOW: #cc9c00;
  --VC-GREEN: #74a800;
  --VC-LIGHTGREEN: #28b561;
  --VC-BRAND: #07c160;
  --VC-BLUE: #10aeff;
  --VC-INDIGO: #1196ff;
  --VC-PURPLE: #8183ff;
  --VC-LINK: #7d90a9;
  --VC-TEXTGREEN: #259c5c;
  --VC-FG: white;
  --VC-BG: black;
  --VC-BG-COLOR-ACTIVE: #282828;
  --VC-WARN-BG: #332700;
  --VC-WARN-BORDER: #664e00;
  --VC-ERROR-BG: #321010;
  --VC-ERROR-BORDER: #642020;
  --VC-DOM-TAG-NAME-COLOR: #5DB0D7;
  --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;
  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;
  --VC-CODE-KEY-FG: #e36eec;
  --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;
  --VC-CODE-FUNC-FG: #556af2;
  --VC-CODE-NUMBER-FG: #9980ff;
  --VC-CODE-STR-FG: #e93f3b;
  --VC-CODE-NULL-FG: #808080;
}
.vc-tabbar {
  border-bottom: 1px solid var(--VC-FG-3);
  overflow-x: auto;
  height: 3em;
  width: auto;
  white-space: nowrap;
}
.vc-tabbar .vc-tab {
  display: inline-block;
  line-height: 3em;
  padding: 0 1.15384615em;
  border-right: 1px solid var(--VC-FG-3);
  text-decoration: none;
  color: var(--VC-FG-0);
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}
.vc-tabbar .vc-tab:active {
  background-color: rgba(0, 0, 0, 0.15);
}
.vc-tabbar .vc-tab.vc-actived {
  background-color: var(--VC-BG-1);
}
.vc-toolbar {
  border-top: 1px solid var(--VC-FG-3);
  line-height: 3em;
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  display: -webkit-box;
  display: -webkit-flex;
  display: -moz-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
  -moz-box-orient: horizontal;
  -moz-box-direction: normal;
  -ms-flex-direction: row;
  flex-direction: row;
}
.vc-toolbar .vc-tool {
  display: none;
  font-style: normal;
  text-decoration: none;
  color: var(--VC-FG-0);
  width: 50%;
  -webkit-box-flex: 1;
  -webkit-flex: 1;
  -moz-box-flex: 1;
  -ms-flex: 1;
  flex: 1;
  text-align: center;
  position: relative;
  -webkit-touch-callout: none;
}
.vc-toolbar .vc-tool.vc-toggle,
.vc-toolbar .vc-tool.vc-global-tool {
  display: block;
}
.vc-toolbar .vc-tool:active {
  background-color: rgba(0, 0, 0, 0.15);
}
.vc-toolbar .vc-tool:after {
  content: " ";
  position: absolute;
  top: 0.53846154em;
  bottom: 0.53846154em;
  right: 0;
  border-left: 1px solid var(--VC-FG-3);
}
.vc-toolbar .vc-tool-last:after {
  border: none;
}
.vc-topbar {
  background-color: var(--VC-BG-1);
  display: -webkit-box;
  display: -webkit-flex;
  display: -moz-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
  -moz-box-orient: horizontal;
  -moz-box-direction: normal;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  width: 100%;
}
.vc-topbar .vc-toptab {
  display: none;
  -webkit-box-flex: 1;
  -webkit-flex: 1;
  -moz-box-flex: 1;
  -ms-flex: 1;
  flex: 1;
  line-height: 2.30769231em;
  padding: 0 1.15384615em;
  border-bottom: 1px solid var(--VC-FG-3);
  text-decoration: none;
  text-align: center;
  color: var(--VC-FG-0);
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}
.vc-topbar .vc-toptab.vc-toggle {
  display: block;
}
.vc-topbar .vc-toptab:active {
  background-color: rgba(0, 0, 0, 0.15);
}
.vc-topbar .vc-toptab.vc-actived {
  border-bottom: 1px solid var(--VC-INDIGO);
}
.vc-mask {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0);
  z-index: 10001;
  -webkit-transition: background 0.3s;
  transition: background 0.3s;
  -webkit-tap-highlight-color: transparent;
  overflow-y: scroll;
}
.vc-panel {
  display: none;
  position: fixed;
  min-height: 85%;
  left: 0;
  right: 0;
  bottom: -100%;
  z-index: 10002;
  background-color: var(--VC-BG-0);
  transition: bottom 0.3s;
}
.vc-toggle .vc-switch {
  display: none;
}
.vc-toggle .vc-mask {
  background: rgba(0, 0, 0, 0.6);
  display: block;
}
.vc-toggle .vc-panel {
  bottom: 0;
}
.vc-content {
  background-color: var(--VC-BG-2);
  overflow-x: hidden;
  overflow-y: auto;
  position: absolute;
  top: 3.07692308em;
  left: 0;
  right: 0;
  bottom: 3.07692308em;
  -webkit-overflow-scrolling: touch;
  margin-bottom: constant(safe-area-inset-bottom);
  margin-bottom: env(safe-area-inset-bottom);
}
.vc-content.vc-has-topbar {
  top: 5.46153846em;
}
.vc-plugin-box {
  display: none;
  position: relative;
  min-height: 100%;
}
.vc-plugin-box.vc-fixed-height {
  height: 100%;
}
.vc-plugin-box.vc-actived {
  display: block;
}
.vc-plugin-content {
  display: flex;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  flex-direction: column;
  -webkit-tap-highlight-color: transparent;
}
.vc-plugin-content:empty:before {
  content: "Empty";
  color: var(--VC-FG-1);
  position: absolute;
  top: 45%;
  left: 0;
  right: 0;
  bottom: 0;
  font-size: 1.15384615em;
  text-align: center;
}
.vc-plugin-empty {
  color: var(--VC-FG-1);
  font-size: 1.15384615em;
  height: 100%;
  width: 100%;
  padding: 1.15384615em 0;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {
  .vc-toolbar,
  .vc-switch {
    bottom: constant(safe-area-inset-bottom);
    bottom: env(safe-area-inset-bottom);
  }
}
`,""]),e.Z=y},7558:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-switch {
  display: block;
  position: fixed;
  right: 0.76923077em;
  bottom: 0.76923077em;
  color: #FFF;
  background-color: var(--VC-BRAND);
  line-height: 1;
  font-size: 1.07692308em;
  padding: 0.61538462em 1.23076923em;
  z-index: 10000;
  border-radius: 0.30769231em;
  box-shadow: 0 0 0.61538462em rgba(0, 0, 0, 0.4);
}
`,""]),e.Z=y},5670:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`/* color */
.vcelm-node {
  color: var(--VC-DOM-TAG-NAME-COLOR);
}
.vcelm-k {
  color: var(--VC-DOM-ATTRIBUTE-NAME-COLOR);
}
.vcelm-v {
  color: var(--VC-DOM-ATTRIBUTE-VALUE-COLOR);
}
.vcelm-l.vc-actived > .vcelm-node {
  background-color: var(--VC-FG-3);
}
/* layout */
.vcelm-l {
  padding-left: 8px;
  position: relative;
  word-wrap: break-word;
  line-height: 1.2;
}
/*.vcelm-l.vcelm-noc {
  padding-left: 0;
}*/
.vcelm-l .vcelm-node:active {
  background-color: var(--VC-BG-COLOR-ACTIVE);
}
.vcelm-l.vcelm-noc .vcelm-node:active {
  background-color: transparent;
}
.vcelm-t {
  white-space: pre-wrap;
  word-wrap: break-word;
}
/* level */
/* arrow */
.vcelm-l:before {
  content: "";
  display: block;
  position: absolute;
  top: 6px;
  left: 3px;
  width: 0;
  height: 0;
  border: transparent solid 3px;
  border-left-color: var(--VC-FG-1);
}
.vcelm-l.vc-toggle:before {
  display: block;
  top: 6px;
  left: 0;
  border-top-color: var(--VC-FG-1);
  border-left-color: transparent;
}
.vcelm-l.vcelm-noc:before {
  display: none;
}
`,""]),e.Z=y},3327:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,"",""]),e.Z=y},1130:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-cmd {
  height: 3.07692308em;
  border-top: 1px solid var(--VC-FG-3);
  display: flex;
  flex-direction: row;
}
.vc-cmd.vc-filter {
  bottom: 0;
}
.vc-cmd-input-wrap {
  display: flex;
  align-items: center;
  flex: 1;
  position: relative;
  height: 2.15384615em;
  padding: 0.46153846em 0.61538462em;
}
.vc-cmd-input {
  width: 100%;
  border: none;
  resize: none;
  outline: none;
  padding: 0;
  font-size: 0.92307692em;
  background-color: transparent;
  color: var(--VC-FG-0);
}
.vc-cmd-input::-webkit-input-placeholder {
  line-height: 2.15384615em;
}
.vc-cmd-btn {
  width: 3.07692308em;
  border: none;
  background-color: var(--VC-BG-0);
  color: var(--VC-FG-0);
  outline: none;
  -webkit-touch-callout: none;
  font-size: 1em;
}
.vc-cmd-clear-btn {
  flex: 1 3.07692308em;
  text-align: center;
  line-height: 3.07692308em;
}
.vc-cmd-btn:active,
.vc-cmd-clear-btn:active {
  background-color: var(--VC-BG-COLOR-ACTIVE);
}
.vc-cmd-prompted {
  position: absolute;
  left: 0.46153846em;
  right: 0.46153846em;
  background-color: var(--VC-BG-3);
  border: 1px solid var(--VC-FG-3);
  overflow-x: scroll;
  display: none;
}
.vc-cmd-prompted li {
  list-style: none;
  line-height: 30px;
  padding: 0 0.46153846em;
  border-bottom: 1px solid var(--VC-FG-3);
}
.vc-cmd-prompted li:active {
  background-color: var(--VC-BG-COLOR-ACTIVE);
}
.vc-cmd-prompted-hide {
  text-align: center;
}
`,""]),e.Z=y},7147:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-log-row {
  margin: 0;
  padding: 0.46153846em 0.61538462em;
  overflow: hidden;
  line-height: 1.3;
  border-bottom: 1px solid var(--VC-FG-3);
  word-break: break-word;
  position: relative;
  display: flex;
}
.vc-log-info {
  color: var(--VC-PURPLE);
}
.vc-log-debug {
  color: var(--VC-YELLOW);
}
.vc-log-warn {
  color: var(--VC-ORANGE);
  border-color: var(--VC-WARN-BORDER);
  background-color: var(--VC-WARN-BG);
}
.vc-log-error {
  color: var(--VC-RED);
  border-color: var(--VC-ERROR-BORDER);
  background-color: var(--VC-ERROR-BG);
}
.vc-logrow-icon {
  margin-left: auto;
}
.vc-log-padding {
  width: 1.53846154em;
  border-left: 1px solid var(--VC-FG-3);
}
.vc-log-group .vc-log-content {
  font-weight: bold;
}
.vc-log-group-toggle {
  padding-left: 0.76923077em;
}
.vc-log-group-toggle {
  display: block;
  font-style: italic;
  padding-left: 0.76923077em;
  position: relative;
}
.vc-log-group-toggle:active {
  background-color: var(--VC-BG-COLOR-ACTIVE);
}
.vc-log-group > .vc-log-group-toggle::before {
  content: "";
  position: absolute;
  top: 0.30769231em;
  left: 0.15384615em;
  width: 0;
  height: 0;
  border: transparent solid 0.30769231em;
  border-left-color: var(--VC-FG-1);
}
.vc-log-group.vc-toggle > .vc-log-group-toggle::before {
  top: 0.46153846em;
  left: 0;
  border-top-color: var(--VC-FG-1);
  border-left-color: transparent;
}
.vc-log-time {
  width: 6.15384615em;
  color: #777;
}
.vc-log-repeat i {
  margin-right: 0.30769231em;
  padding: 0 6.5px;
  color: #D7E0EF;
  background-color: #42597F;
  border-radius: 8.66666667px;
}
.vc-log-error .vc-log-repeat i {
  color: #901818;
  background-color: var(--VC-RED);
}
.vc-log-warn .vc-log-repeat i {
  color: #987D20;
  background-color: #F4BD02;
}
.vc-log-content {
  flex: 1;
}
.vc-log-input,
.vc-log-output {
  padding-left: 0.92307692em;
}
.vc-log-input:before,
.vc-log-output:before {
  content: "";
  position: absolute;
  top: 0.15384615em;
  left: 0;
  font-size: 1.23076923em;
  color: #6A5ACD;
}
.vc-log-output:before {
  content: "";
}
`,""]),e.Z=y},1237:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-log-tree {
  display: block;
  overflow: auto;
  position: relative;
  -webkit-overflow-scrolling: touch;
}
.vc-log-tree-node {
  display: block;
  font-style: italic;
  padding-left: 0.76923077em;
  position: relative;
}
.vc-log-tree.vc-is-tree > .vc-log-tree-node:active {
  background-color: var(--VC-BG-COLOR-ACTIVE);
}
.vc-log-tree.vc-is-tree > .vc-log-tree-node::before {
  content: "";
  position: absolute;
  top: 0.30769231em;
  left: 0.15384615em;
  width: 0;
  height: 0;
  border: transparent solid 0.30769231em;
  border-left-color: var(--VC-FG-1);
}
.vc-log-tree.vc-is-tree.vc-toggle > .vc-log-tree-node::before {
  top: 0.46153846em;
  left: 0;
  border-top-color: var(--VC-FG-1);
  border-left-color: transparent;
}
.vc-log-tree-child {
  margin-left: 0.76923077em;
}
.vc-log-tree-loadmore {
  text-decoration: underline;
  padding-left: 1.84615385em;
  position: relative;
  color: var(--VC-CODE-FUNC-FG);
}
.vc-log-tree-loadmore::before {
  content: "";
  position: absolute;
  top: -0.15384615em;
  left: 0.76923077em;
  font-size: 1.23076923em;
  color: var(--VC-CODE-FUNC-FG);
}
.vc-log-tree-loadmore:active {
  background-color: var(--VC-BG-COLOR-ACTIVE);
}
`,""]),e.Z=y},845:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-log-key {
  color: var(--VC-CODE-KEY-FG);
}
.vc-log-key-private {
  color: var(--VC-CODE-PRIVATE-KEY-FG);
}
.vc-log-val {
  white-space: pre-line;
}
.vc-log-val-function {
  color: var(--VC-CODE-FUNC-FG);
  font-style: italic !important;
}
.vc-log-val-bigint {
  color: var(--VC-CODE-FUNC-FG);
}
.vc-log-val-number,
.vc-log-val-boolean {
  color: var(--VC-CODE-NUMBER-FG);
}
.vc-log-val-string {
  white-space: pre-wrap;
}
.vc-log-val-string.vc-log-val-haskey {
  color: var(--VC-CODE-STR-FG);
  white-space: normal;
}
.vc-log-val-null,
.vc-log-val-undefined,
.vc-log-val-uninvocatable {
  color: var(--VC-CODE-NULL-FG);
}
.vc-log-val-symbol {
  color: var(--VC-CODE-STR-FG);
}
`,""]),e.Z=y},8747:function(t,e,n){var r=n(6738),g=n.n(r),$=n(7705),y=n.n($)()(g());y.push([t.id,`.vc-group .vc-group-preview {
  -webkit-touch-callout: none;
}
.vc-group .vc-group-preview:active {
  background-color: var(--VC-BG-COLOR-ACTIVE);
}
.vc-group .vc-group-detail {
  display: none;
  padding: 0 0 0.76923077em 1.53846154em;
  border-bottom: 1px solid var(--VC-FG-3);
}
.vc-group.vc-actived .vc-group-detail {
  display: block;
  background-color: var(--VC-BG-1);
}
.vc-group.vc-actived .vc-table-row {
  background-color: var(--VC-BG-2);
}
.vc-group.vc-actived .vc-group-preview {
  background-color: var(--VC-BG-1);
}
`,""]),e.Z=y},3411:function(t,e,n){var r=n(3379),g=n.n(r),$=n(7795),y=n.n($),k=n(569),L=n.n(k),V=n(3565),z=n.n(V),j=n(9216),ie=n.n(j),Oe=n(4589),ur=n.n(Oe),hr=n(1130),Vr={};hr.Z&&hr.Z.locals&&(Vr.locals=hr.Z.locals);var dr,ec=0,tc={};tc.styleTagTransform=ur(),tc.setAttributes=z(),tc.insert=L().bind(null,"head"),tc.domAPI=y(),tc.insertStyleElement=ie(),Vr.use=function(Xs){return tc.options=Xs||{},ec++||(dr=g()(hr.Z,tc)),Vr},Vr.unuse=function(){ec>0&&!--ec&&(dr(),dr=null)},e.Z=Vr},3379:function(t){var e=[];function n($){for(var y=-1,k=0;k<e.length;k++)if(e[k].identifier===$){y=k;break}return y}function r($,y){for(var k={},L=[],V=0;V<$.length;V++){var z=$[V],j=y.base?z[0]+y.base:z[0],ie=k[j]||0,Oe="".concat(j," ").concat(ie);k[j]=ie+1;var ur=n(Oe),hr={css:z[1],media:z[2],sourceMap:z[3],supports:z[4],layer:z[5]};if(ur!==-1)e[ur].references++,e[ur].updater(hr);else{var Vr=g(hr,y);y.byIndex=V,e.splice(V,0,{identifier:Oe,updater:Vr,references:1})}L.push(Oe)}return L}function g($,y){var k=y.domAPI(y);return k.update($),function(L){if(L){if(L.css===$.css&&L.media===$.media&&L.sourceMap===$.sourceMap&&L.supports===$.supports&&L.layer===$.layer)return;k.update($=L)}else k.remove()}}t.exports=function($,y){var k=r($=$||[],y=y||{});return function(L){L=L||[];for(var V=0;V<k.length;V++){var z=n(k[V]);e[z].references--}for(var j=r(L,y),ie=0;ie<k.length;ie++){var Oe=n(k[ie]);e[Oe].references===0&&(e[Oe].updater(),e.splice(Oe,1))}k=j}}},569:function(t){var e={};t.exports=function(n,r){var g=function($){if(e[$]===void 0){var y=document.querySelector($);if(window.HTMLIFrameElement&&y instanceof window.HTMLIFrameElement)try{y=y.contentDocument.head}catch{y=null}e[$]=y}return e[$]}(n);if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(r)}},9216:function(t){t.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},3565:function(t,e,n){t.exports=function(r){var g=n.nc;g&&r.setAttribute("nonce",g)}},7795:function(t){t.exports=function(e){var n=e.insertStyleElement(e);return{update:function(r){(function(g,$,y){var k="";y.supports&&(k+="@supports (".concat(y.supports,") {")),y.media&&(k+="@media ".concat(y.media," {"));var L=y.layer!==void 0;L&&(k+="@layer".concat(y.layer.length>0?" ".concat(y.layer):""," {")),k+=y.css,L&&(k+="}"),y.media&&(k+="}"),y.supports&&(k+="}");var V=y.sourceMap;V&&typeof btoa<"u"&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(V))))," */")),$.styleTagTransform(k,g,$.options)})(n,e,r)},remove:function(){(function(r){if(r.parentNode===null)return!1;r.parentNode.removeChild(r)})(n)}}}},4589:function(t){t.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},6464:function(t,e,n){function r(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}n.d(e,{Z:function(){return r}})},4296:function(t,e,n){function r($,y){for(var k=0;k<y.length;k++){var L=y[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty($,L.key,L)}}function g($,y,k){return y&&r($.prototype,y),k&&r($,k),Object.defineProperty($,"prototype",{writable:!1}),$}n.d(e,{Z:function(){return g}})},8270:function(t,e,n){function r(g,$,y){return $ in g?Object.defineProperty(g,$,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[$]=y,g}n.d(e,{Z:function(){return r}})},6881:function(t,e,n){n.d(e,{Z:function(){return g}});var r=n(2717);function g($,y){$.prototype=Object.create(y.prototype),$.prototype.constructor=$,(0,r.Z)($,y)}},2717:function(t,e,n){function r(g,$){return r=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},r(g,$)}n.d(e,{Z:function(){return r}})},7003:function(t,e,n){n.d(e,{H3:function(){return r.H3E},ev:function(){return r.evW},x:function(){return r.xa3}});var r=n(2942)},2942:function(t,e,n){n.d(e,{f_C:function(){return q0},hjT:function(){return lv},R3I:function(){return rc},Ljt:function(){return rv},akz:function(){return M0},VnY:function(){return Pv},cKT:function(){return f0},gbL:function(){return g0},FIv:function(){return Oe},XGm:function(){return tc},xa3:function(){return Gv},YCL:function(){return D0},nuO:function(){return ur},vpE:function(){return Zv},RMB:function(){return qm},ogt:function(){return _c},bGB:function(){return Xm},cSb:function(){return sv},yl1:function(){return vv},VOJ:function(){return ec},u2N:function(){return Vr},$XI:function(){return ie},lig:function(){return B0},dvw:function(){return Yv},S1n:function(){return _0},$Tr:function(){return ic},sBU:function(){return k},oLt:function(){return gv},yef:function(){return W0},ZTd:function(){return r},AqN:function(){return V},evW:function(){return Hv},H3E:function(){return Dv},cly:function(){return a1},AT7:function(){return Sv},j7q:function(){return y},N8:function(){return L},rTO:function(){return Jm},BmG:function(){return dv},fxP:function(){return Xs},czc:function(){return pv},DhX:function(){return nv},XET:function(){return wv},LdU:function(){return j},bi5:function(){return Km},fLW:function(){return tv},VHj:function(){return mv},Ui:function(){return Qv},etI:function(){return N0},GQg:function(){return I0},kmG:function(){return dr}}),n(2717),n(6881);function r(){}function g(Rv){return Rv()}function $(){return Object.create(null)}function y(Rv){Rv.forEach(g)}function k(Rv){return typeof Rv=="function"}function L(Rv,k0){return Rv!=Rv?k0==k0:Rv!==k0||Rv&&typeof Rv=="object"||typeof Rv=="function"}function V(Rv,k0){return Rv!=Rv?k0==k0:Rv!==k0}function z(Rv){return Object.keys(Rv).length===0}function j(Rv){if(Rv==null)return r;for(var k0=arguments.length,Ov=new Array(k0>1?k0-1:0),Kv=1;Kv<k0;Kv++)Ov[Kv-1]=arguments[Kv];var E0=Rv.subscribe.apply(Rv,Ov);return E0.unsubscribe?function(){return E0.unsubscribe()}:E0}function ie(Rv){var k0;return j(Rv,function(Ov){return k0=Ov})(),k0}function Oe(Rv,k0,Ov){Rv.$$.on_destroy.push(j(k0,Ov))}function ur(Rv,k0,Ov,Kv){if(Rv){var E0=hr(Rv,k0,Ov,Kv);return Rv[0](E0)}}function hr(Rv,k0,Ov,Kv){return Rv[1]&&Kv?function(E0,X0){for(var l1 in X0)E0[l1]=X0[l1];return E0}(Ov.ctx.slice(),Rv[1](Kv(k0))):Ov.ctx}function Vr(Rv,k0,Ov,Kv){if(Rv[2]&&Kv){var E0=Rv[2](Kv(Ov));if(k0.dirty===void 0)return E0;if(typeof E0=="object"){for(var X0=[],l1=Math.max(k0.dirty.length,E0.length),x1=0;x1<l1;x1+=1)X0[x1]=k0.dirty[x1]|E0[x1];return X0}return k0.dirty|E0}return k0.dirty}function dr(Rv,k0,Ov,Kv,E0,X0){if(E0){var l1=hr(k0,Ov,Kv,X0);Rv.p(l1,E0)}}function ec(Rv){if(Rv.ctx.length>32){for(var k0=[],Ov=Rv.ctx.length/32,Kv=0;Kv<Ov;Kv++)k0[Kv]=-1;return k0}return-1}function tc(Rv){var k0={};for(var Ov in Rv)k0[Ov]=!0;return k0}function Xs(Rv,k0,Ov){return Rv.set(Ov),k0}function rc(Rv,k0){Rv.appendChild(k0)}function ic(Rv,k0,Ov){Rv.insertBefore(k0,Ov||null)}function _c(Rv){Rv.parentNode.removeChild(Rv)}function qm(Rv,k0){for(var Ov=0;Ov<Rv.length;Ov+=1)Rv[Ov]&&Rv[Ov].d(k0)}function Xm(Rv){return document.createElement(Rv)}function Km(Rv){return document.createElementNS("http://www.w3.org/2000/svg",Rv)}function tv(Rv){return document.createTextNode(Rv)}function nv(){return tv(" ")}function sv(){return tv("")}function gv(Rv,k0,Ov,Kv){return Rv.addEventListener(k0,Ov,Kv),function(){return Rv.removeEventListener(k0,Ov,Kv)}}function Sv(Rv){return function(k0){return k0.preventDefault(),Rv.call(this,k0)}}function wv(Rv){return function(k0){return k0.stopPropagation(),Rv.call(this,k0)}}function rv(Rv,k0,Ov){Ov==null?Rv.removeAttribute(k0):Rv.getAttribute(k0)!==Ov&&Rv.setAttribute(k0,Ov)}function Jm(Rv,k0){k0=""+k0,Rv.wholeText!==k0&&(Rv.data=k0)}function dv(Rv,k0){Rv.value=k0??""}function pv(Rv,k0,Ov,Kv){Ov===null?Rv.style.removeProperty(k0):Rv.style.setProperty(k0,Ov,Kv?"important":"")}function mv(Rv,k0,Ov){Rv.classList[Ov?"add":"remove"](k0)}function Cv(Rv,k0,Ov){Ov===void 0&&(Ov=!1);var Kv=document.createEvent("CustomEvent");return Kv.initCustomEvent(Rv,Ov,!1,k0),Kv}var uv;function yv(Rv){uv=Rv}function $v(){if(!uv)throw new Error("Function called outside component initialization");return uv}function Dv(Rv){$v().$$.on_mount.push(Rv)}function Hv(Rv){$v().$$.on_destroy.push(Rv)}function Gv(){var Rv=$v();return function(k0,Ov){var Kv=Rv.$$.callbacks[k0];if(Kv){var E0=Cv(k0,Ov);Kv.slice().forEach(function(X0){X0.call(Rv,E0)})}}}function f0(Rv,k0){var Ov=this,Kv=Rv.$$.callbacks[k0.type];Kv&&Kv.slice().forEach(function(E0){return E0.call(Ov,k0)})}var qv=[],Pv=[],Tv=[],Vv=[],Av=Promise.resolve(),y0=!1;function av(){y0||(y0=!0,Av.then(vv))}function fv(Rv){Tv.push(Rv)}function lv(Rv){Vv.push(Rv)}var kv=new Set,Iv=0;function vv(){var Rv=uv;do{for(;Iv<qv.length;){var k0=qv[Iv];Iv++,yv(k0),Ev(k0.$$)}for(yv(null),qv.length=0,Iv=0;Pv.length;)Pv.pop()();for(var Ov=0;Ov<Tv.length;Ov+=1){var Kv=Tv[Ov];kv.has(Kv)||(kv.add(Kv),Kv())}Tv.length=0}while(qv.length);for(;Vv.length;)Vv.pop()();y0=!1,kv.clear(),yv(Rv)}function Ev(Rv){if(Rv.fragment!==null){Rv.update(),y(Rv.before_update);var k0=Rv.dirty;Rv.dirty=[-1],Rv.fragment&&Rv.fragment.p(Rv.ctx,k0),Rv.after_update.forEach(fv)}}var zv,Fv=new Set;function Yv(){zv={r:0,c:[],p:zv}}function g0(){zv.r||y(zv.c),zv=zv.p}function Qv(Rv,k0){Rv&&Rv.i&&(Fv.delete(Rv),Rv.i(k0))}function N0(Rv,k0,Ov,Kv){if(Rv&&Rv.o){if(Fv.has(Rv))return;Fv.add(Rv),zv.c.push(function(){Fv.delete(Rv),Kv&&(Ov&&Rv.d(1),Kv())}),Rv.o(k0)}}var B0=typeof window<"u"?window:typeof globalThis<"u"?globalThis:commonjsGlobal;function a1(Rv,k0){N0(Rv,1,1,function(){k0.delete(Rv.key)})}function I0(Rv,k0,Ov,Kv,E0,X0,l1,x1,K0,J0,y1,vy){for(var ty=Rv.length,Mv=X0.length,P1=ty,Py={};P1--;)Py[Rv[P1].key]=P1;var Ny=[],yy=new Map,Hy=new Map;for(P1=Mv;P1--;){var R0=vy(E0,X0,P1),k1=Ov(R0),V1=l1.get(k1);V1?Kv&&V1.p(R0,k0):(V1=J0(k1,R0)).c(),yy.set(k1,Ny[P1]=V1),k1 in Py&&Hy.set(k1,Math.abs(P1-Py[k1]))}var j1=new Set,X1=new Set;function H0(A0){Qv(A0,1),A0.m(x1,y1),l1.set(A0.key,A0),y1=A0.first,Mv--}for(;ty&&Mv;){var d1=Ny[Mv-1],h1=Rv[ty-1],Z1=d1.key,ey=h1.key;d1===h1?(y1=d1.first,ty--,Mv--):yy.has(ey)?!l1.has(Z1)||j1.has(Z1)?H0(d1):X1.has(ey)?ty--:Hy.get(Z1)>Hy.get(ey)?(X1.add(Z1),H0(d1)):(j1.add(ey),ty--):(K0(h1,l1),ty--)}for(;ty--;){var jv=Rv[ty];yy.has(jv.key)||K0(jv,l1)}for(;Mv;)H0(Ny[Mv-1]);return Ny}function M0(Rv,k0,Ov){var Kv=Rv.$$.props[k0];Kv!==void 0&&(Rv.$$.bound[Kv]=Ov,Ov(Rv.$$.ctx[Kv]))}function D0(Rv){Rv&&Rv.c()}function W0(Rv,k0,Ov,Kv){var E0=Rv.$$,X0=E0.fragment,l1=E0.on_mount,x1=E0.on_destroy,K0=E0.after_update;X0&&X0.m(k0,Ov),Kv||fv(function(){var J0=l1.map(g).filter(k);x1?x1.push.apply(x1,J0):y(J0),Rv.$$.on_mount=[]}),K0.forEach(fv)}function Zv(Rv,k0){var Ov=Rv.$$;Ov.fragment!==null&&(y(Ov.on_destroy),Ov.fragment&&Ov.fragment.d(k0),Ov.on_destroy=Ov.fragment=null,Ov.ctx=[])}function z0(Rv,k0){Rv.$$.dirty[0]===-1&&(qv.push(Rv),av(),Rv.$$.dirty.fill(0)),Rv.$$.dirty[k0/31|0]|=1<<k0%31}function _0(Rv,k0,Ov,Kv,E0,X0,l1,x1){x1===void 0&&(x1=[-1]);var K0=uv;yv(Rv);var J0=Rv.$$={fragment:null,ctx:null,props:X0,update:r,not_equal:E0,bound:$(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(k0.context||(K0?K0.$$.context:[])),callbacks:$(),dirty:x1,skip_bound:!1,root:k0.target||K0.$$.root};l1&&l1(J0.root);var y1,vy=!1;if(J0.ctx=Ov?Ov(Rv,k0.props||{},function(Mv,P1){var Py=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:P1;return J0.ctx&&E0(J0.ctx[Mv],J0.ctx[Mv]=Py)&&(!J0.skip_bound&&J0.bound[Mv]&&J0.bound[Mv](Py),vy&&z0(Rv,Mv)),P1}):[],J0.update(),vy=!0,y(J0.before_update),J0.fragment=!!Kv&&Kv(J0.ctx),k0.target){if(k0.hydrate){var ty=(y1=k0.target,Array.from(y1.childNodes));J0.fragment&&J0.fragment.l(ty),ty.forEach(_c)}else J0.fragment&&J0.fragment.c();k0.intro&&Qv(Rv.$$.fragment),W0(Rv,k0.target,k0.anchor,k0.customElement),vv()}yv(K0)}var q0=function(){function Rv(){}var k0=Rv.prototype;return k0.$destroy=function(){Zv(this,1),this.$destroy=r},k0.$on=function(Ov,Kv){var E0=this.$$.callbacks[Ov]||(this.$$.callbacks[Ov]=[]);return E0.push(Kv),function(){var X0=E0.indexOf(Kv);X0!==-1&&E0.splice(X0,1)}},k0.$set=function(Ov){this.$$set&&!z(Ov)&&(this.$$.skip_bound=!0,this.$$set(Ov),this.$$.skip_bound=!1)},Rv}()},3313:function(t,e,n){n.d(e,{U2:function(){return r.$XI},fZ:function(){return k}});var r=n(2942);function g(L,V){var z=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(z)return(z=z.call(L)).next.bind(z);if(Array.isArray(L)||(z=function(ie,Oe){if(ie){if(typeof ie=="string")return $(ie,Oe);var ur=Object.prototype.toString.call(ie).slice(8,-1);if(ur==="Object"&&ie.constructor&&(ur=ie.constructor.name),ur==="Map"||ur==="Set")return Array.from(ie);if(ur==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ur))return $(ie,Oe)}}(L))||V){z&&(L=z);var j=0;return function(){return j>=L.length?{done:!0}:{done:!1,value:L[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(L,V){(V==null||V>L.length)&&(V=L.length);for(var z=0,j=new Array(V);z<V;z++)j[z]=L[z];return j}var y=[];function k(L,V){var z;V===void 0&&(V=r.ZTd);var j=new Set;function ie(Oe){if((0,r.N8)(L,Oe)&&(L=Oe,z)){for(var ur,hr=!y.length,Vr=g(j);!(ur=Vr()).done;){var dr=ur.value;dr[1](),y.push(dr,L)}if(hr){for(var ec=0;ec<y.length;ec+=2)y[ec][0](y[ec+1]);y.length=0}}}return{set:ie,update:function(Oe){ie(Oe(L))},subscribe:function(Oe,ur){ur===void 0&&(ur=r.ZTd);var hr=[Oe,ur];return j.add(hr),j.size===1&&(z=V(ie)||r.ZTd),Oe(L),function(){j.delete(hr),j.size===0&&(z(),z=null)}}}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var __webpack_exports__={};return function(){__webpack_require__.d(__webpack_exports__,{default:function(){return J2}}),__webpack_require__(5441),__webpack_require__(8765);var t=__webpack_require__(4296),e=__webpack_require__(5103),n={one:function(ev,Ym){Ym===void 0&&(Ym=document);try{return Ym.querySelector(ev)||void 0}catch{return}},all:function(ev,Ym){Ym===void 0&&(Ym=document);try{var fc=Ym.querySelectorAll(ev);return[].slice.call(fc)}catch{return[]}},addClass:function(ev,Ym){if(ev)for(var fc=(0,e.kJ)(ev)?ev:[ev],$m=0;$m<fc.length;$m++){var Qm=(fc[$m].className||"").split(" ");Qm.indexOf(Ym)>-1||(Qm.push(Ym),fc[$m].className=Qm.join(" "))}},removeClass:function(ev,Ym){if(ev)for(var fc=(0,e.kJ)(ev)?ev:[ev],$m=0;$m<fc.length;$m++){for(var Qm=fc[$m].className.split(" "),ov=0;ov<Qm.length;ov++)Qm[ov]==Ym&&(Qm[ov]="");fc[$m].className=Qm.join(" ").trim()}},hasClass:function(ev,Ym){return!(!ev||!ev.classList)&&ev.classList.contains(Ym)},bind:function(ev,Ym,fc,$m){$m===void 0&&($m=!1),ev&&((0,e.kJ)(ev)?ev:[ev]).forEach(function(Qm){Qm.addEventListener(Ym,fc,!!$m)})},delegate:function(ev,Ym,fc,$m){ev&&ev.addEventListener(Ym,function(Qm){var ov=n.all(fc,ev);if(ov)e:for(var cv=0;cv<ov.length;cv++)for(var bv=Qm.target;bv;){if(bv==ov[cv]){$m.call(bv,Qm,bv);break e}if((bv=bv.parentNode)==ev)break}},!1)},removeChildren:function(ev){for(;ev.firstChild;)ev.removeChild(ev.lastChild);return ev}},r=n,g=__webpack_require__(6464),$=__webpack_require__(6881),y=__webpack_require__(2942),k=__webpack_require__(7003),L=__webpack_require__(3379),V=__webpack_require__.n(L),z=__webpack_require__(7795),j=__webpack_require__.n(z),ie=__webpack_require__(569),Oe=__webpack_require__.n(ie),ur=__webpack_require__(3565),hr=__webpack_require__.n(ur),Vr=__webpack_require__(9216),dr=__webpack_require__.n(Vr),ec=__webpack_require__(4589),tc=__webpack_require__.n(ec),Xs=__webpack_require__(7558),rc={};Xs.Z&&Xs.Z.locals&&(rc.locals=Xs.Z.locals);var ic,_c=0,qm={};qm.styleTagTransform=tc(),qm.setAttributes=hr(),qm.insert=Oe().bind(null,"head"),qm.domAPI=j(),qm.insertStyleElement=dr(),rc.use=function(ev){return qm.options=ev||{},_c++||(ic=V()(Xs.Z,qm)),rc},rc.unuse=function(){_c>0&&!--_c&&(ic(),ic=null)};var Xm=rc;function Km(ev){var Ym,fc,$m,Qm;return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.fLW)("vConsole"),(0,y.Ljt)(Ym,"class","vc-switch"),(0,y.czc)(Ym,"right",ev[2].x+"px"),(0,y.czc)(Ym,"bottom",ev[2].y+"px"),(0,y.czc)(Ym,"display",ev[0]?"block":"none")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),(0,y.R3I)(Ym,fc),ev[8](Ym),$m||(Qm=[(0,y.oLt)(Ym,"touchstart",ev[3],{passive:!1}),(0,y.oLt)(Ym,"touchend",ev[4],{passive:!1}),(0,y.oLt)(Ym,"touchmove",ev[5],{passive:!1}),(0,y.oLt)(Ym,"click",ev[7])],$m=!0)},p:function(ov,cv){var bv=cv[0];4&bv&&(0,y.czc)(Ym,"right",ov[2].x+"px"),4&bv&&(0,y.czc)(Ym,"bottom",ov[2].y+"px"),1&bv&&(0,y.czc)(Ym,"display",ov[0]?"block":"none")},i:y.ZTd,o:y.ZTd,d:function(ov){ov&&(0,y.ogt)(Ym),ev[8](null),$m=!1,(0,y.j7q)(Qm)}}}function tv(ev,Ym,fc){var $m,Qm=Ym.show,ov=Qm===void 0||Qm,cv=Ym.position,bv=cv===void 0?{x:0,y:0}:cv,Lv={hasMoved:!1,x:0,y:0,startX:0,startY:0,endX:0,endY:0},Wv={x:0,y:0};(0,k.H3)(function(){Xm.use()}),(0,k.ev)(function(){Xm.unuse()});var Xv=function(S0,G0){var L0=$0(S0,G0);S0=L0[0],G0=L0[1],Lv.x=S0,Lv.y=G0,fc(2,Wv.x=S0,Wv),fc(2,Wv.y=G0,Wv),e.po("switch_x",S0+""),e.po("switch_y",G0+"")},$0=function(S0,G0){var L0=Math.max(document.documentElement.offsetWidth,window.innerWidth),Z0=Math.max(document.documentElement.offsetHeight,window.innerHeight);return S0+$m.offsetWidth>L0&&(S0=L0-$m.offsetWidth),G0+$m.offsetHeight>Z0&&(G0=Z0-$m.offsetHeight),S0<0&&(S0=0),G0<20&&(G0=20),[S0,G0]};return ev.$$set=function(S0){"show"in S0&&fc(0,ov=S0.show),"position"in S0&&fc(6,bv=S0.position)},ev.$$.update=function(){66&ev.$$.dirty&&$m&&Xv(bv.x,bv.y)},[ov,$m,Wv,function(S0){Lv.startX=S0.touches[0].pageX,Lv.startY=S0.touches[0].pageY,Lv.hasMoved=!1},function(S0){Lv.hasMoved&&(Lv.startX=0,Lv.startY=0,Lv.hasMoved=!1,Xv(Lv.endX,Lv.endY))},function(S0){if(!(S0.touches.length<=0)){var G0=S0.touches[0].pageX-Lv.startX,L0=S0.touches[0].pageY-Lv.startY,Z0=Math.floor(Lv.x-G0),r1=Math.floor(Lv.y-L0),u1=$0(Z0,r1);Z0=u1[0],r1=u1[1],fc(2,Wv.x=Z0,Wv),fc(2,Wv.y=r1,Wv),Lv.endX=Z0,Lv.endY=r1,Lv.hasMoved=!0,S0.preventDefault()}},bv,function(S0){y.cKT.call(this,ev,S0)},function(S0){y.VnY[S0?"unshift":"push"](function(){fc(1,$m=S0)})}]}var nv=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,tv,Km,y.N8,{show:0,position:6}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"show",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({show:fc}),(0,y.yl1)()}},{key:"position",get:function(){return this.$$.ctx[6]},set:function(fc){this.$$set({position:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),sv=nv;function gv(ev){var Ym,fc;return{c:function(){Ym=(0,y.bGB)("div"),(0,y.Ljt)(Ym,"id",fc="__vc_plug_"+ev[0]),(0,y.Ljt)(Ym,"class","vc-plugin-box"),(0,y.VHj)(Ym,"vc-fixed-height",ev[1]),(0,y.VHj)(Ym,"vc-actived",ev[2])},m:function($m,Qm){(0,y.$Tr)($m,Ym,Qm),ev[6](Ym)},p:function($m,Qm){var ov=Qm[0];1&ov&&fc!==(fc="__vc_plug_"+$m[0])&&(0,y.Ljt)(Ym,"id",fc),2&ov&&(0,y.VHj)(Ym,"vc-fixed-height",$m[1]),4&ov&&(0,y.VHj)(Ym,"vc-actived",$m[2])},i:y.ZTd,o:y.ZTd,d:function($m){$m&&(0,y.ogt)(Ym),ev[6](null)}}}function Sv(ev,Ym,fc){var $m=Ym.pluginId,Qm=$m===void 0?"":$m,ov=Ym.fixedHeight,cv=ov!==void 0&&ov,bv=Ym.actived,Lv=bv!==void 0&&bv,Wv=Ym.content,Xv=Wv===void 0?void 0:Wv,$0=void 0,S0=void 0;return ev.$$set=function(G0){"pluginId"in G0&&fc(0,Qm=G0.pluginId),"fixedHeight"in G0&&fc(1,cv=G0.fixedHeight),"actived"in G0&&fc(2,Lv=G0.actived),"content"in G0&&fc(4,Xv=G0.content)},ev.$$.update=function(){57&ev.$$.dirty&&S0!==Qm&&Xv&&$0&&(fc(5,S0=Qm),fc(3,$0.innerHTML="",$0),(0,e.HD)(Xv)?fc(3,$0.innerHTML=Xv,$0):(0,e.kK)(Xv)&&$0.appendChild(Xv))},[Qm,cv,Lv,$0,Xv,S0,function(G0){y.VnY[G0?"unshift":"push"](function(){fc(3,$0=G0),fc(5,S0),fc(0,Qm),fc(4,Xv)})}]}var wv=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,Sv,gv,y.N8,{pluginId:0,fixedHeight:1,actived:2,content:4}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"pluginId",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({pluginId:fc}),(0,y.yl1)()}},{key:"fixedHeight",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({fixedHeight:fc}),(0,y.yl1)()}},{key:"actived",get:function(){return this.$$.ctx[2]},set:function(fc){this.$$set({actived:fc}),(0,y.yl1)()}},{key:"content",get:function(){return this.$$.ctx[4]},set:function(fc){this.$$set({content:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),rv=wv,Jm=__webpack_require__(4687),dv=__webpack_require__(3283),pv={};dv.Z&&dv.Z.locals&&(pv.locals=dv.Z.locals);var mv,Cv=0,uv={};uv.styleTagTransform=tc(),uv.setAttributes=hr(),uv.insert=Oe().bind(null,"head"),uv.domAPI=j(),uv.insertStyleElement=dr(),pv.use=function(ev){return uv.options=ev||{},Cv++||(mv=V()(dv.Z,uv)),pv},pv.unuse=function(){Cv>0&&!--Cv&&(mv(),mv=null)};var yv=pv;function $v(ev,Ym,fc){var $m=ev.slice();return $m[39]=Ym[fc][0],$m[40]=Ym[fc][1],$m}function Dv(ev,Ym,fc){var $m=ev.slice();return $m[43]=Ym[fc],$m[45]=fc,$m}function Hv(ev,Ym,fc){var $m=ev.slice();return $m[39]=Ym[fc][0],$m[40]=Ym[fc][1],$m}function Gv(ev,Ym,fc){var $m=ev.slice();return $m[39]=Ym[fc][0],$m[40]=Ym[fc][1],$m}function f0(ev,Ym,fc){var $m=ev.slice();return $m[43]=Ym[fc],$m[45]=fc,$m}function qv(ev,Ym,fc){var $m=ev.slice();return $m[39]=Ym[fc][0],$m[40]=Ym[fc][1],$m}function Pv(ev){var Ym,fc,$m,Qm,ov,cv=ev[40].name+"";function bv(){return ev[25](ev[40])}return{c:function(){Ym=(0,y.bGB)("a"),fc=(0,y.fLW)(cv),(0,y.Ljt)(Ym,"class","vc-tab"),(0,y.Ljt)(Ym,"id",$m="__vc_tab_"+ev[40].id),(0,y.VHj)(Ym,"vc-actived",ev[40].id===ev[2])},m:function(Lv,Wv){(0,y.$Tr)(Lv,Ym,Wv),(0,y.R3I)(Ym,fc),Qm||(ov=(0,y.oLt)(Ym,"click",bv),Qm=!0)},p:function(Lv,Wv){ev=Lv,8&Wv[0]&&cv!==(cv=ev[40].name+"")&&(0,y.rTO)(fc,cv),8&Wv[0]&&$m!==($m="__vc_tab_"+ev[40].id)&&(0,y.Ljt)(Ym,"id",$m),12&Wv[0]&&(0,y.VHj)(Ym,"vc-actived",ev[40].id===ev[2])},d:function(Lv){Lv&&(0,y.ogt)(Ym),Qm=!1,ov()}}}function Tv(ev){var Ym,fc=ev[40].hasTabPanel&&Pv(ev);return{c:function(){fc&&fc.c(),Ym=(0,y.cSb)()},m:function($m,Qm){fc&&fc.m($m,Qm),(0,y.$Tr)($m,Ym,Qm)},p:function($m,Qm){$m[40].hasTabPanel?fc?fc.p($m,Qm):((fc=Pv($m)).c(),fc.m(Ym.parentNode,Ym)):fc&&(fc.d(1),fc=null)},d:function($m){fc&&fc.d($m),$m&&(0,y.ogt)(Ym)}}}function Vv(ev){var Ym,fc,$m,Qm,ov,cv=ev[43].name+"";function bv(){for(var Lv,Wv=arguments.length,Xv=new Array(Wv),$0=0;$0<Wv;$0++)Xv[$0]=arguments[$0];return(Lv=ev)[26].apply(Lv,[ev[40],ev[45]].concat(Xv))}return{c:function(){Ym=(0,y.bGB)("i"),fc=(0,y.fLW)(cv),(0,y.Ljt)(Ym,"class",$m="vc-toptab vc-topbar-"+ev[40].id+" "+ev[43].className),(0,y.VHj)(Ym,"vc-toggle",ev[40].id===ev[2]),(0,y.VHj)(Ym,"vc-actived",ev[43].actived)},m:function(Lv,Wv){(0,y.$Tr)(Lv,Ym,Wv),(0,y.R3I)(Ym,fc),Qm||(ov=(0,y.oLt)(Ym,"click",bv),Qm=!0)},p:function(Lv,Wv){ev=Lv,8&Wv[0]&&cv!==(cv=ev[43].name+"")&&(0,y.rTO)(fc,cv),8&Wv[0]&&$m!==($m="vc-toptab vc-topbar-"+ev[40].id+" "+ev[43].className)&&(0,y.Ljt)(Ym,"class",$m),12&Wv[0]&&(0,y.VHj)(Ym,"vc-toggle",ev[40].id===ev[2]),8&Wv[0]&&(0,y.VHj)(Ym,"vc-actived",ev[43].actived)},d:function(Lv){Lv&&(0,y.ogt)(Ym),Qm=!1,ov()}}}function Av(ev){for(var Ym,fc=ev[40].topbarList,$m=[],Qm=0;Qm<fc.length;Qm+=1)$m[Qm]=Vv(f0(ev,fc,Qm));return{c:function(){for(var ov=0;ov<$m.length;ov+=1)$m[ov].c();Ym=(0,y.cSb)()},m:function(ov,cv){for(var bv=0;bv<$m.length;bv+=1)$m[bv].m(ov,cv);(0,y.$Tr)(ov,Ym,cv)},p:function(ov,cv){if(8204&cv[0]){var bv;for(fc=ov[40].topbarList,bv=0;bv<fc.length;bv+=1){var Lv=f0(ov,fc,bv);$m[bv]?$m[bv].p(Lv,cv):($m[bv]=Vv(Lv),$m[bv].c(),$m[bv].m(Ym.parentNode,Ym))}for(;bv<$m.length;bv+=1)$m[bv].d(1);$m.length=fc.length}},d:function(ov){(0,y.RMB)($m,ov),ov&&(0,y.ogt)(Ym)}}}function y0(ev){var Ym,fc,$m,Qm=rv;function ov(cv){var bv;return{props:{pluginId:cv[40].id,fixedHeight:(bv=cv[40].tabOptions)==null?void 0:bv.fixedHeight,actived:cv[40].id===cv[2],content:cv[40].content}}}return Qm&&(Ym=new Qm(ov(ev))),{c:function(){Ym&&(0,y.YCL)(Ym.$$.fragment),fc=(0,y.cSb)()},m:function(cv,bv){Ym&&(0,y.yef)(Ym,cv,bv),(0,y.$Tr)(cv,fc,bv),$m=!0},p:function(cv,bv){var Lv,Wv={};if(8&bv[0]&&(Wv.pluginId=cv[40].id),8&bv[0]&&(Wv.fixedHeight=(Lv=cv[40].tabOptions)==null?void 0:Lv.fixedHeight),12&bv[0]&&(Wv.actived=cv[40].id===cv[2]),8&bv[0]&&(Wv.content=cv[40].content),Qm!==(Qm=rv)){if(Ym){(0,y.dvw)();var Xv=Ym;(0,y.etI)(Xv.$$.fragment,1,0,function(){(0,y.vpE)(Xv,1)}),(0,y.gbL)()}Qm?(Ym=new Qm(ov(cv)),(0,y.YCL)(Ym.$$.fragment),(0,y.Ui)(Ym.$$.fragment,1),(0,y.yef)(Ym,fc.parentNode,fc)):Ym=null}else Qm&&Ym.$set(Wv)},i:function(cv){$m||(Ym&&(0,y.Ui)(Ym.$$.fragment,cv),$m=!0)},o:function(cv){Ym&&(0,y.etI)(Ym.$$.fragment,cv),$m=!1},d:function(cv){cv&&(0,y.ogt)(fc),Ym&&(0,y.vpE)(Ym,cv)}}}function av(ev){var Ym,fc,$m,Qm,ov,cv=ev[43].name+"";function bv(){for(var Lv,Wv=arguments.length,Xv=new Array(Wv),$0=0;$0<Wv;$0++)Xv[$0]=arguments[$0];return(Lv=ev)[28].apply(Lv,[ev[40],ev[45]].concat(Xv))}return{c:function(){Ym=(0,y.bGB)("i"),fc=(0,y.fLW)(cv),(0,y.Ljt)(Ym,"class",$m="vc-tool vc-tool-"+ev[40].id),(0,y.VHj)(Ym,"vc-global-tool",ev[43].global),(0,y.VHj)(Ym,"vc-toggle",ev[40].id===ev[2])},m:function(Lv,Wv){(0,y.$Tr)(Lv,Ym,Wv),(0,y.R3I)(Ym,fc),Qm||(ov=(0,y.oLt)(Ym,"click",bv),Qm=!0)},p:function(Lv,Wv){ev=Lv,8&Wv[0]&&cv!==(cv=ev[43].name+"")&&(0,y.rTO)(fc,cv),8&Wv[0]&&$m!==($m="vc-tool vc-tool-"+ev[40].id)&&(0,y.Ljt)(Ym,"class",$m),8&Wv[0]&&(0,y.VHj)(Ym,"vc-global-tool",ev[43].global),12&Wv[0]&&(0,y.VHj)(Ym,"vc-toggle",ev[40].id===ev[2])},d:function(Lv){Lv&&(0,y.ogt)(Ym),Qm=!1,ov()}}}function fv(ev){for(var Ym,fc=ev[40].toolbarList,$m=[],Qm=0;Qm<fc.length;Qm+=1)$m[Qm]=av(Dv(ev,fc,Qm));return{c:function(){for(var ov=0;ov<$m.length;ov+=1)$m[ov].c();Ym=(0,y.cSb)()},m:function(ov,cv){for(var bv=0;bv<$m.length;bv+=1)$m[bv].m(ov,cv);(0,y.$Tr)(ov,Ym,cv)},p:function(ov,cv){if(16396&cv[0]){var bv;for(fc=ov[40].toolbarList,bv=0;bv<fc.length;bv+=1){var Lv=Dv(ov,fc,bv);$m[bv]?$m[bv].p(Lv,cv):($m[bv]=av(Lv),$m[bv].c(),$m[bv].m(Ym.parentNode,Ym))}for(;bv<$m.length;bv+=1)$m[bv].d(1);$m.length=fc.length}},d:function(ov){(0,y.RMB)($m,ov),ov&&(0,y.ogt)(Ym)}}}function lv(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv,Wv,Xv,$0,S0,G0,L0,Z0,r1,u1,g1,C1,Y1,R1;function hy(L1){ev[23](L1)}function my(L1){ev[24](L1)}var by={};ev[0]!==void 0&&(by.show=ev[0]),ev[1]!==void 0&&(by.position=ev[1]),fc=new sv({props:by}),y.VnY.push(function(){return(0,y.akz)(fc,"show",hy)}),y.VnY.push(function(){return(0,y.akz)(fc,"position",my)}),fc.$on("click",ev[10]);for(var F1=Object.entries(ev[3]),U1=[],wy=0;wy<F1.length;wy+=1)U1[wy]=Tv(qv(ev,F1,wy));for(var Yy=Object.entries(ev[3]),Ey=[],gy=0;gy<Yy.length;gy+=1)Ey[gy]=Av(Gv(ev,Yy,gy));for(var iy=Object.entries(ev[3]),S1=[],M1=0;M1<iy.length;M1+=1)S1[M1]=y0(Hv(ev,iy,M1));for(var Ay=function(L1){return(0,y.etI)(S1[L1],1,1,function(){S1[L1]=null})},b1=Object.entries(ev[3]),B1=[],uy=0;uy<b1.length;uy+=1)B1[uy]=fv($v(ev,b1,uy));return{c:function(){var L1,dy;Ym=(0,y.bGB)("div"),(0,y.YCL)(fc.$$.fragment),ov=(0,y.DhX)(),cv=(0,y.bGB)("div"),bv=(0,y.DhX)(),Lv=(0,y.bGB)("div"),Wv=(0,y.bGB)("div");for(var Vy=0;Vy<U1.length;Vy+=1)U1[Vy].c();Xv=(0,y.DhX)(),$0=(0,y.bGB)("div");for(var jy=0;jy<Ey.length;jy+=1)Ey[jy].c();S0=(0,y.DhX)(),G0=(0,y.bGB)("div");for(var Xy=0;Xy<S1.length;Xy+=1)S1[Xy].c();L0=(0,y.DhX)(),Z0=(0,y.bGB)("div");for(var Oy=0;Oy<B1.length;Oy+=1)B1[Oy].c();r1=(0,y.DhX)(),(u1=(0,y.bGB)("i")).textContent="Hide",(0,y.Ljt)(cv,"class","vc-mask"),(0,y.czc)(cv,"display",ev[8]?"block":"none"),(0,y.Ljt)(Wv,"class","vc-tabbar"),(0,y.Ljt)($0,"class","vc-topbar"),(0,y.Ljt)(G0,"class","vc-content"),(0,y.VHj)(G0,"vc-has-topbar",((L1=ev[3][ev[2]])==null||(dy=L1.topbarList)==null?void 0:dy.length)>0),(0,y.Ljt)(u1,"class","vc-tool vc-global-tool vc-tool-last vc-hide"),(0,y.Ljt)(Z0,"class","vc-toolbar"),(0,y.Ljt)(Lv,"class","vc-panel"),(0,y.czc)(Lv,"display",ev[7]?"block":"none"),(0,y.Ljt)(Ym,"id","__vconsole"),(0,y.Ljt)(Ym,"style",g1=ev[5]?"font-size:"+ev[5]+";":""),(0,y.Ljt)(Ym,"data-theme",ev[4]),(0,y.VHj)(Ym,"vc-toggle",ev[6])},m:function(L1,dy){(0,y.$Tr)(L1,Ym,dy),(0,y.yef)(fc,Ym,null),(0,y.R3I)(Ym,ov),(0,y.R3I)(Ym,cv),(0,y.R3I)(Ym,bv),(0,y.R3I)(Ym,Lv),(0,y.R3I)(Lv,Wv);for(var Vy=0;Vy<U1.length;Vy+=1)U1[Vy].m(Wv,null);(0,y.R3I)(Lv,Xv),(0,y.R3I)(Lv,$0);for(var jy=0;jy<Ey.length;jy+=1)Ey[jy].m($0,null);(0,y.R3I)(Lv,S0),(0,y.R3I)(Lv,G0);for(var Xy=0;Xy<S1.length;Xy+=1)S1[Xy].m(G0,null);ev[27](G0),(0,y.R3I)(Lv,L0),(0,y.R3I)(Lv,Z0);for(var Oy=0;Oy<B1.length;Oy+=1)B1[Oy].m(Z0,null);(0,y.R3I)(Z0,r1),(0,y.R3I)(Z0,u1),C1=!0,Y1||(R1=[(0,y.oLt)(cv,"click",ev[11]),(0,y.oLt)(G0,"touchstart",ev[15]),(0,y.oLt)(G0,"touchmove",ev[16]),(0,y.oLt)(G0,"touchend",ev[17]),(0,y.oLt)(G0,"scroll",ev[18]),(0,y.oLt)(u1,"click",ev[11]),(0,y.oLt)(Ym,"touchstart",ev[19].touchStart,{passive:!1,capture:!0}),(0,y.oLt)(Ym,"touchmove",ev[19].touchMove,{passive:!1,capture:!0}),(0,y.oLt)(Ym,"touchend",ev[19].touchEnd,{passive:!1,capture:!0})],Y1=!0)},p:function(L1,dy){var Vy,jy,Xy={};if(!$m&&1&dy[0]&&($m=!0,Xy.show=L1[0],(0,y.hjT)(function(){return $m=!1})),!Qm&&2&dy[0]&&(Qm=!0,Xy.position=L1[1],(0,y.hjT)(function(){return Qm=!1})),fc.$set(Xy),(!C1||256&dy[0])&&(0,y.czc)(cv,"display",L1[8]?"block":"none"),4108&dy[0]){var Oy;for(F1=Object.entries(L1[3]),Oy=0;Oy<F1.length;Oy+=1){var pb=qv(L1,F1,Oy);U1[Oy]?U1[Oy].p(pb,dy):(U1[Oy]=Tv(pb),U1[Oy].c(),U1[Oy].m(Wv,null))}for(;Oy<U1.length;Oy+=1)U1[Oy].d(1);U1.length=F1.length}if(8204&dy[0]){var Zy;for(Yy=Object.entries(L1[3]),Zy=0;Zy<Yy.length;Zy+=1){var mb=Gv(L1,Yy,Zy);Ey[Zy]?Ey[Zy].p(mb,dy):(Ey[Zy]=Av(mb),Ey[Zy].c(),Ey[Zy].m($0,null))}for(;Zy<Ey.length;Zy+=1)Ey[Zy].d(1);Ey.length=Yy.length}if(12&dy[0]){var zy;for(iy=Object.entries(L1[3]),zy=0;zy<iy.length;zy+=1){var wb=Hv(L1,iy,zy);S1[zy]?(S1[zy].p(wb,dy),(0,y.Ui)(S1[zy],1)):(S1[zy]=y0(wb),S1[zy].c(),(0,y.Ui)(S1[zy],1),S1[zy].m(G0,null))}for((0,y.dvw)(),zy=iy.length;zy<S1.length;zy+=1)Ay(zy);(0,y.gbL)()}if(12&dy[0]&&(0,y.VHj)(G0,"vc-has-topbar",((Vy=L1[3][L1[2]])==null||(jy=Vy.topbarList)==null?void 0:jy.length)>0),16396&dy[0]){var qy;for(b1=Object.entries(L1[3]),qy=0;qy<b1.length;qy+=1){var Lb=$v(L1,b1,qy);B1[qy]?B1[qy].p(Lb,dy):(B1[qy]=fv(Lb),B1[qy].c(),B1[qy].m(Z0,r1))}for(;qy<B1.length;qy+=1)B1[qy].d(1);B1.length=b1.length}(!C1||128&dy[0])&&(0,y.czc)(Lv,"display",L1[7]?"block":"none"),(!C1||32&dy[0]&&g1!==(g1=L1[5]?"font-size:"+L1[5]+";":""))&&(0,y.Ljt)(Ym,"style",g1),(!C1||16&dy[0])&&(0,y.Ljt)(Ym,"data-theme",L1[4]),64&dy[0]&&(0,y.VHj)(Ym,"vc-toggle",L1[6])},i:function(L1){if(!C1){(0,y.Ui)(fc.$$.fragment,L1);for(var dy=0;dy<iy.length;dy+=1)(0,y.Ui)(S1[dy]);C1=!0}},o:function(L1){(0,y.etI)(fc.$$.fragment,L1),S1=S1.filter(Boolean);for(var dy=0;dy<S1.length;dy+=1)(0,y.etI)(S1[dy]);C1=!1},d:function(L1){L1&&(0,y.ogt)(Ym),(0,y.vpE)(fc),(0,y.RMB)(U1,L1),(0,y.RMB)(Ey,L1),(0,y.RMB)(S1,L1),ev[27](null),(0,y.RMB)(B1,L1),Y1=!1,(0,y.j7q)(R1)}}}function kv(ev,Ym,fc){var $m,Qm,ov=Ym.theme,cv=ov===void 0?"":ov,bv=Ym.disableScrolling,Lv=bv!==void 0&&bv,Wv=Ym.show,Xv=Wv!==void 0&&Wv,$0=Ym.showSwitchButton,S0=$0===void 0||$0,G0=Ym.switchButtonPosition,L0=G0===void 0?{x:0,y:0}:G0,Z0=Ym.activedPluginId,r1=Z0===void 0?"":Z0,u1=Ym.pluginList,g1=u1===void 0?{}:u1,C1=(0,k.x)(),Y1=!1,R1="",hy=!1,my=!1,by=!1,F1=!0,U1=0,wy=null,Yy={};(0,k.H3)(function(){var b1=document.querySelectorAll('[name="viewport"]');if(b1&&b1[0]){var B1=(b1[b1.length-1].getAttribute("content")||"").match(/initial\-scale\=\d+(\.\d+)?/),uy=B1?parseFloat(B1[0].split("=")[1]):1;uy!==1&&fc(5,R1=Math.floor(1/uy*13)+"px")}yv.use&&yv.use(),$m=Jm.x.subscribe(function(L1){Xv&&U1!==L1.updateTime&&(U1=L1.updateTime,Ey())})}),(0,k.ev)(function(){yv.unuse&&yv.unuse(),$m&&$m()});var Ey=function(){!Lv&&F1&&Qm&&fc(9,Qm.scrollTop=Qm.scrollHeight-Qm.offsetHeight,Qm)},gy=function(b1){b1!==r1&&(fc(2,r1=b1),C1("changePanel",{pluginId:b1}),setTimeout(function(){Qm&&fc(9,Qm.scrollTop=Yy[r1]||0,Qm)},0))},iy=function(b1,B1,uy){var L1=g1[B1].topbarList[uy],dy=!0;if(e.mf(L1.onClick)&&(dy=L1.onClick.call(b1.target,b1,L1.data)),dy!==!1){for(var Vy=0;Vy<g1[B1].topbarList.length;Vy++)fc(3,g1[B1].topbarList[Vy].actived=uy===Vy,g1);fc(3,g1)}},S1=function(b1,B1,uy){var L1=g1[B1].toolbarList[uy];e.mf(L1.onClick)&&L1.onClick.call(b1.target,b1,L1.data)},M1={tapTime:700,tapBoundary:10,lastTouchStartTime:0,touchstartX:0,touchstartY:0,touchHasMoved:!1,targetElem:null},Ay={touchStart:function(b1){if(M1.lastTouchStartTime===0){var B1=b1.targetTouches[0];M1.touchstartX=B1.pageX,M1.touchstartY=B1.pageY,M1.lastTouchStartTime=b1.timeStamp,M1.targetElem=b1.target.nodeType===Node.TEXT_NODE?b1.target.parentNode:b1.target}},touchMove:function(b1){var B1=b1.changedTouches[0];(Math.abs(B1.pageX-M1.touchstartX)>M1.tapBoundary||Math.abs(B1.pageY-M1.touchstartY)>M1.tapBoundary)&&(M1.touchHasMoved=!0)},touchEnd:function(b1){if(M1.touchHasMoved===!1&&b1.timeStamp-M1.lastTouchStartTime<M1.tapTime&&M1.targetElem!=null){var B1=!1;switch(M1.targetElem.tagName.toLowerCase()){case"textarea":B1=!0;break;case"select":B1=!M1.targetElem.disabled&&!M1.targetElem.readOnly;break;case"input":switch(M1.targetElem.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":B1=!1;break;default:B1=!M1.targetElem.disabled&&!M1.targetElem.readOnly}}B1?M1.targetElem.focus():b1.preventDefault();var uy=b1.changedTouches[0],L1=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,screenX:uy.screenX,screenY:uy.screenY,clientX:uy.clientX,clientY:uy.clientY});M1.targetElem.dispatchEvent(L1)}M1.lastTouchStartTime=0,M1.touchHasMoved=!1,M1.targetElem=null}};return ev.$$set=function(b1){"theme"in b1&&fc(4,cv=b1.theme),"disableScrolling"in b1&&fc(20,Lv=b1.disableScrolling),"show"in b1&&fc(21,Xv=b1.show),"showSwitchButton"in b1&&fc(0,S0=b1.showSwitchButton),"switchButtonPosition"in b1&&fc(1,L0=b1.switchButtonPosition),"activedPluginId"in b1&&fc(2,r1=b1.activedPluginId),"pluginList"in b1&&fc(3,g1=b1.pluginList)},ev.$$.update=function(){6291456&ev.$$.dirty[0]&&(Xv===!0?(fc(7,my=!0),fc(8,by=!0),wy&&clearTimeout(wy),fc(22,wy=setTimeout(function(){fc(6,hy=!0),Ey()},10))):(fc(6,hy=!1),wy&&clearTimeout(wy),fc(22,wy=setTimeout(function(){fc(7,my=!1),fc(8,by=!1)},330))))},[S0,L0,r1,g1,cv,R1,hy,my,by,Qm,function(b1){C1("show",{show:!0})},function(b1){C1("show",{show:!1})},gy,iy,S1,function(b1){if(!(b1.target.tagName==="INPUT"||b1.target.tagName==="TEXTAREA")){var B1=!1;if(typeof window.getComputedStyle=="function"){var uy=window.getComputedStyle(b1.target);uy.overflow!=="auto"&&uy.overflow!=="initial"&&uy.overflow!=="scroll"||(B1=!0)}if(!B1){var L1=Qm.scrollTop,dy=Qm.scrollHeight,Vy=L1+Qm.offsetHeight;L1===0?(fc(9,Qm.scrollTop=1,Qm),Qm.scrollTop===0&&(Y1=!0)):Vy===dy&&(fc(9,Qm.scrollTop=L1-1,Qm),Qm.scrollTop===L1&&(Y1=!0))}}},function(b1){Y1&&b1.preventDefault()},function(b1){Y1=!1},function(b1){Xv&&(F1=Qm.scrollTop+Qm.offsetHeight>=Qm.scrollHeight-50,Yy[r1]=Qm.scrollTop)},Ay,Lv,Xv,wy,function(b1){fc(0,S0=b1)},function(b1){fc(1,L0=b1)},function(b1){return gy(b1.id)},function(b1,B1,uy){return iy(uy,b1.id,B1)},function(b1){y.VnY[b1?"unshift":"push"](function(){fc(9,Qm=b1)})},function(b1,B1,uy){return S1(uy,b1.id,B1)}]}var Iv=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,kv,lv,y.N8,{theme:4,disableScrolling:20,show:21,showSwitchButton:0,switchButtonPosition:1,activedPluginId:2,pluginList:3},null,[-1,-1]),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"theme",get:function(){return this.$$.ctx[4]},set:function(fc){this.$$set({theme:fc}),(0,y.yl1)()}},{key:"disableScrolling",get:function(){return this.$$.ctx[20]},set:function(fc){this.$$set({disableScrolling:fc}),(0,y.yl1)()}},{key:"show",get:function(){return this.$$.ctx[21]},set:function(fc){this.$$set({show:fc}),(0,y.yl1)()}},{key:"showSwitchButton",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({showSwitchButton:fc}),(0,y.yl1)()}},{key:"switchButtonPosition",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({switchButtonPosition:fc}),(0,y.yl1)()}},{key:"activedPluginId",get:function(){return this.$$.ctx[2]},set:function(fc){this.$$set({activedPluginId:fc}),(0,y.yl1)()}},{key:"pluginList",get:function(){return this.$$.ctx[3]},set:function(fc){this.$$set({pluginList:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),vv=Iv,Ev=function(){function ev(fc,$m){$m===void 0&&($m="newPlugin"),this.isReady=!1,this.eventMap=new Map,this.exporter=void 0,this._id=void 0,this._name=void 0,this._vConsole=void 0,this.id=fc,this.name=$m,this.isReady=!1}var Ym=ev.prototype;return Ym.on=function(fc,$m){return this.eventMap.set(fc,$m),this},Ym.onRemove=function(){this.unbindExporter()},Ym.trigger=function(fc,$m){var Qm=this.eventMap.get(fc);if(typeof Qm=="function")Qm.call(this,$m);else{var ov="on"+fc.charAt(0).toUpperCase()+fc.slice(1);typeof this[ov]=="function"&&this[ov].call(this,$m)}return this},Ym.bindExporter=function(){if(this._vConsole&&this.exporter){var fc=this.id==="default"?"log":this.id;this._vConsole[fc]=this.exporter}},Ym.unbindExporter=function(){var fc=this.id==="default"?"log":this.id;this._vConsole&&this._vConsole[fc]&&(this._vConsole[fc]=void 0)},Ym.getUniqueID=function(fc){return fc===void 0&&(fc=""),(0,e.QI)(fc)},(0,t.Z)(ev,[{key:"id",get:function(){return this._id},set:function(fc){if(typeof fc!="string")throw"[vConsole] Plugin ID must be a string.";if(!fc)throw"[vConsole] Plugin ID cannot be empty.";this._id=fc.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(fc){if(typeof fc!="string")throw"[vConsole] Plugin name must be a string.";if(!fc)throw"[vConsole] Plugin name cannot be empty.";this._name=fc}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(fc){if(!fc)throw"[vConsole] vConsole cannot be empty";this._vConsole=fc,this.bindExporter()}}]),ev}(),zv=function(ev){function Ym($m,Qm,ov,cv){var bv;return(bv=ev.call(this,$m,Qm)||this).CompClass=void 0,bv.compInstance=void 0,bv.initialProps=void 0,bv.CompClass=ov,bv.initialProps=cv,bv}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.onReady=function(){this.isReady=!0},fc.onRenderTab=function($m){var Qm=document.createElement("div"),ov=this.compInstance=new this.CompClass({target:Qm,props:this.initialProps});$m(Qm.firstElementChild,ov.options)},fc.onRemove=function(){ev.prototype.onRemove&&ev.prototype.onRemove.call(this),this.compInstance&&this.compInstance.$destroy()},Ym}(Ev),Fv=__webpack_require__(8665),Yv=__webpack_require__(9923),g0=__webpack_require__(8702);function Qv(ev){var Ym,fc;return(Ym=new g0.Z({props:{name:ev[0]?"success":"copy"}})).$on("click",ev[1]),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:function($m,Qm){var ov={};1&Qm[0]&&(ov.name=$m[0]?"success":"copy"),Ym.$set(ov)},i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function N0(ev,Ym,fc){var $m=Ym.content,Qm=$m===void 0?"":$m,ov=Ym.handler,cv=ov===void 0?void 0:ov,bv={target:document.documentElement},Lv=!1;return ev.$$set=function(Wv){"content"in Wv&&fc(2,Qm=Wv.content),"handler"in Wv&&fc(3,cv=Wv.handler)},[Lv,function(Wv){(function(Xv,$0){var S0=($0===void 0?{}:$0).target,G0=S0===void 0?document.body:S0,L0=document.createElement("textarea"),Z0=document.activeElement;L0.value=Xv,L0.setAttribute("readonly",""),L0.style.contain="strict",L0.style.position="absolute",L0.style.left="-9999px",L0.style.fontSize="12pt";var r1=document.getSelection(),u1=!1;r1.rangeCount>0&&(u1=r1.getRangeAt(0)),G0.append(L0),L0.select(),L0.selectionStart=0,L0.selectionEnd=Xv.length;var g1=!1;try{g1=document.execCommand("copy")}catch{}L0.remove(),u1&&(r1.removeAllRanges(),r1.addRange(u1)),Z0&&Z0.focus()})(e.mf(cv)?cv(Qm)||"":e.Kn(Qm)||e.kJ(Qm)?e.hZ(Qm,{maxDepth:10,keyMaxLen:1e4,pretty:!1,standardJSON:!0}):Qm,bv),fc(0,Lv=!0),setTimeout(function(){fc(0,Lv=!1)},600)},Qm,cv]}var B0=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,N0,Qv,y.N8,{content:2,handler:3}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"content",get:function(){return this.$$.ctx[2]},set:function(fc){this.$$set({content:fc}),(0,y.yl1)()}},{key:"handler",get:function(){return this.$$.ctx[3]},set:function(fc){this.$$set({handler:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),a1=B0,I0=__webpack_require__(845),M0={};I0.Z&&I0.Z.locals&&(M0.locals=I0.Z.locals);var D0,W0=0,Zv={};Zv.styleTagTransform=tc(),Zv.setAttributes=hr(),Zv.insert=Oe().bind(null,"head"),Zv.domAPI=j(),Zv.insertStyleElement=dr(),M0.use=function(ev){return Zv.options=ev||{},W0++||(D0=V()(I0.Z,Zv)),M0},M0.unuse=function(){W0>0&&!--W0&&(D0(),D0=null)};var z0=M0;function _0(ev){var Ym,fc,$m,Qm=e.rE(ev[1])+"";return{c:function(){Ym=(0,y.bGB)("i"),fc=(0,y.fLW)(Qm),$m=(0,y.fLW)(":"),(0,y.Ljt)(Ym,"class","vc-log-key"),(0,y.VHj)(Ym,"vc-log-key-symbol",ev[2]==="symbol"),(0,y.VHj)(Ym,"vc-log-key-private",ev[2]==="private")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),(0,y.R3I)(Ym,fc),(0,y.$Tr)(ov,$m,cv)},p:function(ov,cv){2&cv&&Qm!==(Qm=e.rE(ov[1])+"")&&(0,y.rTO)(fc,Qm),4&cv&&(0,y.VHj)(Ym,"vc-log-key-symbol",ov[2]==="symbol"),4&cv&&(0,y.VHj)(Ym,"vc-log-key-private",ov[2]==="private")},d:function(ov){ov&&(0,y.ogt)(Ym),ov&&(0,y.ogt)($m)}}}function q0(ev){var Ym,fc,$m,Qm,ov=ev[1]!==void 0&&_0(ev);return{c:function(){ov&&ov.c(),Ym=(0,y.DhX)(),fc=(0,y.bGB)("i"),$m=(0,y.fLW)(ev[3]),(0,y.Ljt)(fc,"class",Qm="vc-log-val vc-log-val-"+ev[4]),(0,y.Ljt)(fc,"style",ev[0]),(0,y.VHj)(fc,"vc-log-val-haskey",ev[1]!==void 0)},m:function(cv,bv){ov&&ov.m(cv,bv),(0,y.$Tr)(cv,Ym,bv),(0,y.$Tr)(cv,fc,bv),(0,y.R3I)(fc,$m)},p:function(cv,bv){var Lv=bv[0];cv[1]!==void 0?ov?ov.p(cv,Lv):((ov=_0(cv)).c(),ov.m(Ym.parentNode,Ym)):ov&&(ov.d(1),ov=null),8&Lv&&(0,y.rTO)($m,cv[3]),16&Lv&&Qm!==(Qm="vc-log-val vc-log-val-"+cv[4])&&(0,y.Ljt)(fc,"class",Qm),1&Lv&&(0,y.Ljt)(fc,"style",cv[0]),18&Lv&&(0,y.VHj)(fc,"vc-log-val-haskey",cv[1]!==void 0)},i:y.ZTd,o:y.ZTd,d:function(cv){ov&&ov.d(cv),cv&&(0,y.ogt)(Ym),cv&&(0,y.ogt)(fc)}}}function Rv(ev,Ym,fc){var $m=Ym.origData,Qm=Ym.style,ov=Qm===void 0?"":Qm,cv=Ym.dataKey,bv=cv===void 0?void 0:cv,Lv=Ym.keyType,Wv=Lv===void 0?"":Lv,Xv="",$0="",S0=!1;return(0,k.H3)(function(){z0.use()}),(0,k.ev)(function(){z0.unuse()}),ev.$$set=function(G0){"origData"in G0&&fc(5,$m=G0.origData),"style"in G0&&fc(0,ov=G0.style),"dataKey"in G0&&fc(1,bv=G0.dataKey),"keyType"in G0&&fc(2,Wv=G0.keyType)},ev.$$.update=function(){if(122&ev.$$.dirty){fc(6,S0=bv!==void 0);var G0=(0,Fv.LH)($m,S0);fc(4,$0=G0.valueType),fc(3,Xv=G0.text),S0||$0!=="string"||fc(3,Xv=Xv.replace(/\\n/g,`
`).replace(/\\t/g,"    "))}},[ov,bv,Wv,Xv,$0,$m,S0]}var k0=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,Rv,q0,y.AqN,{origData:5,style:0,dataKey:1,keyType:2}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"origData",get:function(){return this.$$.ctx[5]},set:function(fc){this.$$set({origData:fc}),(0,y.yl1)()}},{key:"style",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({style:fc}),(0,y.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({dataKey:fc}),(0,y.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[2]},set:function(fc){this.$$set({keyType:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),Ov=k0,Kv=__webpack_require__(1237),E0={};Kv.Z&&Kv.Z.locals&&(E0.locals=Kv.Z.locals);var X0,l1=0,x1={};x1.styleTagTransform=tc(),x1.setAttributes=hr(),x1.insert=Oe().bind(null,"head"),x1.domAPI=j(),x1.insertStyleElement=dr(),E0.use=function(ev){return x1.options=ev||{},l1++||(X0=V()(Kv.Z,x1)),E0},E0.unuse=function(){l1>0&&!--l1&&(X0(),X0=null)};var K0=E0;function J0(ev,Ym,fc){var $m=ev.slice();return $m[19]=Ym[fc],$m[21]=fc,$m}function y1(ev,Ym,fc){var $m=ev.slice();return $m[19]=Ym[fc],$m}function vy(ev,Ym,fc){var $m=ev.slice();return $m[19]=Ym[fc],$m[21]=fc,$m}function ty(ev){for(var Ym,fc,$m,Qm,ov,cv,bv,Lv=[],Wv=new Map,Xv=[],$0=new Map,S0=[],G0=new Map,L0=ev[7],Z0=function(S1){return S1[19]},r1=0;r1<L0.length;r1+=1){var u1=vy(ev,L0,r1),g1=Z0(u1);Wv.set(g1,Lv[r1]=P1(g1,u1))}for(var C1=ev[11]<ev[7].length&&Py(ev),Y1=ev[9],R1=function(S1){return S1[19]},hy=0;hy<Y1.length;hy+=1){var my=y1(ev,Y1,hy),by=R1(my);$0.set(by,Xv[hy]=Ny(by,my))}for(var F1=ev[8],U1=function(S1){return S1[19]},wy=0;wy<F1.length;wy+=1){var Yy=J0(ev,F1,wy),Ey=U1(Yy);G0.set(Ey,S0[wy]=Hy(Ey,Yy))}var gy=ev[12]<ev[8].length&&R0(ev),iy=ev[10]&&k1(ev);return{c:function(){Ym=(0,y.bGB)("div");for(var S1=0;S1<Lv.length;S1+=1)Lv[S1].c();fc=(0,y.DhX)(),C1&&C1.c(),$m=(0,y.DhX)();for(var M1=0;M1<Xv.length;M1+=1)Xv[M1].c();Qm=(0,y.DhX)();for(var Ay=0;Ay<S0.length;Ay+=1)S0[Ay].c();ov=(0,y.DhX)(),gy&&gy.c(),cv=(0,y.DhX)(),iy&&iy.c(),(0,y.Ljt)(Ym,"class","vc-log-tree-child")},m:function(S1,M1){(0,y.$Tr)(S1,Ym,M1);for(var Ay=0;Ay<Lv.length;Ay+=1)Lv[Ay].m(Ym,null);(0,y.R3I)(Ym,fc),C1&&C1.m(Ym,null),(0,y.R3I)(Ym,$m);for(var b1=0;b1<Xv.length;b1+=1)Xv[b1].m(Ym,null);(0,y.R3I)(Ym,Qm);for(var B1=0;B1<S0.length;B1+=1)S0[B1].m(Ym,null);(0,y.R3I)(Ym,ov),gy&&gy.m(Ym,null),(0,y.R3I)(Ym,cv),iy&&iy.m(Ym,null),bv=!0},p:function(S1,M1){67721&M1&&(L0=S1[7],(0,y.dvw)(),Lv=(0,y.GQg)(Lv,M1,Z0,1,S1,L0,Wv,Ym,y.cly,P1,fc,vy),(0,y.gbL)()),S1[11]<S1[7].length?C1?C1.p(S1,M1):((C1=Py(S1)).c(),C1.m(Ym,$m)):C1&&(C1.d(1),C1=null),66057&M1&&(Y1=S1[9],(0,y.dvw)(),Xv=(0,y.GQg)(Xv,M1,R1,1,S1,Y1,$0,Ym,y.cly,Ny,Qm,y1),(0,y.gbL)()),69897&M1&&(F1=S1[8],(0,y.dvw)(),S0=(0,y.GQg)(S0,M1,U1,1,S1,F1,G0,Ym,y.cly,Hy,ov,J0),(0,y.gbL)()),S1[12]<S1[8].length?gy?gy.p(S1,M1):((gy=R0(S1)).c(),gy.m(Ym,cv)):gy&&(gy.d(1),gy=null),S1[10]?iy?(iy.p(S1,M1),1024&M1&&(0,y.Ui)(iy,1)):((iy=k1(S1)).c(),(0,y.Ui)(iy,1),iy.m(Ym,null)):iy&&((0,y.dvw)(),(0,y.etI)(iy,1,1,function(){iy=null}),(0,y.gbL)())},i:function(S1){if(!bv){for(var M1=0;M1<L0.length;M1+=1)(0,y.Ui)(Lv[M1]);for(var Ay=0;Ay<Y1.length;Ay+=1)(0,y.Ui)(Xv[Ay]);for(var b1=0;b1<F1.length;b1+=1)(0,y.Ui)(S0[b1]);(0,y.Ui)(iy),bv=!0}},o:function(S1){for(var M1=0;M1<Lv.length;M1+=1)(0,y.etI)(Lv[M1]);for(var Ay=0;Ay<Xv.length;Ay+=1)(0,y.etI)(Xv[Ay]);for(var b1=0;b1<S0.length;b1+=1)(0,y.etI)(S0[b1]);(0,y.etI)(iy),bv=!1},d:function(S1){S1&&(0,y.ogt)(Ym);for(var M1=0;M1<Lv.length;M1+=1)Lv[M1].d();C1&&C1.d();for(var Ay=0;Ay<Xv.length;Ay+=1)Xv[Ay].d();for(var b1=0;b1<S0.length;b1+=1)S0[b1].d();gy&&gy.d(),iy&&iy.d()}}}function Mv(ev){var Ym,fc;return Ym=new X1({props:{origData:ev[16](ev[19]),dataKey:ev[19],keyPath:ev[3]+"."+ev[19],toggle:ev[0]}}),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:function($m,Qm){var ov={};128&Qm&&(ov.origData=$m[16]($m[19])),128&Qm&&(ov.dataKey=$m[19]),136&Qm&&(ov.keyPath=$m[3]+"."+$m[19]),1&Qm&&(ov.toggle=$m[0]),Ym.$set(ov)},i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function P1(ev,Ym){var fc,$m,Qm,ov=Ym[21]<Ym[11]&&Mv(Ym);return{key:ev,first:null,c:function(){fc=(0,y.cSb)(),ov&&ov.c(),$m=(0,y.cSb)(),this.first=fc},m:function(cv,bv){(0,y.$Tr)(cv,fc,bv),ov&&ov.m(cv,bv),(0,y.$Tr)(cv,$m,bv),Qm=!0},p:function(cv,bv){(Ym=cv)[21]<Ym[11]?ov?(ov.p(Ym,bv),2176&bv&&(0,y.Ui)(ov,1)):((ov=Mv(Ym)).c(),(0,y.Ui)(ov,1),ov.m($m.parentNode,$m)):ov&&((0,y.dvw)(),(0,y.etI)(ov,1,1,function(){ov=null}),(0,y.gbL)())},i:function(cv){Qm||((0,y.Ui)(ov),Qm=!0)},o:function(cv){(0,y.etI)(ov),Qm=!1},d:function(cv){cv&&(0,y.ogt)(fc),ov&&ov.d(cv),cv&&(0,y.ogt)($m)}}}function Py(ev){var Ym,fc,$m,Qm,ov=ev[14](ev[7].length-ev[11])+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.fLW)(ov),(0,y.Ljt)(Ym,"class","vc-log-tree-loadmore")},m:function(cv,bv){(0,y.$Tr)(cv,Ym,bv),(0,y.R3I)(Ym,fc),$m||(Qm=(0,y.oLt)(Ym,"click",ev[17]),$m=!0)},p:function(cv,bv){2176&bv&&ov!==(ov=cv[14](cv[7].length-cv[11])+"")&&(0,y.rTO)(fc,ov)},d:function(cv){cv&&(0,y.ogt)(Ym),$m=!1,Qm()}}}function Ny(ev,Ym){var fc,$m,Qm;return $m=new X1({props:{origData:Ym[16](Ym[19]),dataKey:String(Ym[19]),keyType:"symbol",keyPath:Ym[3]+"["+String(Ym[19])+"]",toggle:Ym[0]}}),{key:ev,first:null,c:function(){fc=(0,y.cSb)(),(0,y.YCL)($m.$$.fragment),this.first=fc},m:function(ov,cv){(0,y.$Tr)(ov,fc,cv),(0,y.yef)($m,ov,cv),Qm=!0},p:function(ov,cv){Ym=ov;var bv={};512&cv&&(bv.origData=Ym[16](Ym[19])),512&cv&&(bv.dataKey=String(Ym[19])),520&cv&&(bv.keyPath=Ym[3]+"["+String(Ym[19])+"]"),1&cv&&(bv.toggle=Ym[0]),$m.$set(bv)},i:function(ov){Qm||((0,y.Ui)($m.$$.fragment,ov),Qm=!0)},o:function(ov){(0,y.etI)($m.$$.fragment,ov),Qm=!1},d:function(ov){ov&&(0,y.ogt)(fc),(0,y.vpE)($m,ov)}}}function yy(ev){var Ym,fc;return Ym=new X1({props:{origData:ev[16](ev[19]),dataKey:ev[19],keyType:"private",keyPath:ev[3]+"."+ev[19],toggle:ev[0]}}),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:function($m,Qm){var ov={};256&Qm&&(ov.origData=$m[16]($m[19])),256&Qm&&(ov.dataKey=$m[19]),264&Qm&&(ov.keyPath=$m[3]+"."+$m[19]),1&Qm&&(ov.toggle=$m[0]),Ym.$set(ov)},i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function Hy(ev,Ym){var fc,$m,Qm,ov=Ym[21]<Ym[12]&&yy(Ym);return{key:ev,first:null,c:function(){fc=(0,y.cSb)(),ov&&ov.c(),$m=(0,y.cSb)(),this.first=fc},m:function(cv,bv){(0,y.$Tr)(cv,fc,bv),ov&&ov.m(cv,bv),(0,y.$Tr)(cv,$m,bv),Qm=!0},p:function(cv,bv){(Ym=cv)[21]<Ym[12]?ov?(ov.p(Ym,bv),4352&bv&&(0,y.Ui)(ov,1)):((ov=yy(Ym)).c(),(0,y.Ui)(ov,1),ov.m($m.parentNode,$m)):ov&&((0,y.dvw)(),(0,y.etI)(ov,1,1,function(){ov=null}),(0,y.gbL)())},i:function(cv){Qm||((0,y.Ui)(ov),Qm=!0)},o:function(cv){(0,y.etI)(ov),Qm=!1},d:function(cv){cv&&(0,y.ogt)(fc),ov&&ov.d(cv),cv&&(0,y.ogt)($m)}}}function R0(ev){var Ym,fc,$m,Qm,ov=ev[14](ev[8].length-ev[12])+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.fLW)(ov),(0,y.Ljt)(Ym,"class","vc-log-tree-loadmore")},m:function(cv,bv){(0,y.$Tr)(cv,Ym,bv),(0,y.R3I)(Ym,fc),$m||(Qm=(0,y.oLt)(Ym,"click",ev[18]),$m=!0)},p:function(cv,bv){4352&bv&&ov!==(ov=cv[14](cv[8].length-cv[12])+"")&&(0,y.rTO)(fc,ov)},d:function(cv){cv&&(0,y.ogt)(Ym),$m=!1,Qm()}}}function k1(ev){var Ym,fc;return Ym=new X1({props:{origData:ev[16]("__proto__"),dataKey:"__proto__",keyType:"private",keyPath:ev[3]+".__proto__",toggle:ev[0]}}),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:function($m,Qm){var ov={};8&Qm&&(ov.keyPath=$m[3]+".__proto__"),1&Qm&&(ov.toggle=$m[0]),Ym.$set(ov)},i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function V1(ev){var Ym,fc,$m,Qm,ov,cv,bv;$m=new Ov({props:{origData:ev[1],dataKey:ev[2],keyType:ev[4]}});var Lv=ev[6]&&ev[5]&&ty(ev);return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),(0,y.YCL)($m.$$.fragment),Qm=(0,y.DhX)(),Lv&&Lv.c(),(0,y.Ljt)(fc,"class","vc-log-tree-node"),(0,y.Ljt)(Ym,"class","vc-log-tree"),(0,y.Ljt)(Ym,"data-keypath",ev[3]),(0,y.VHj)(Ym,"vc-toggle",ev[5]),(0,y.VHj)(Ym,"vc-is-tree",ev[6])},m:function(Wv,Xv){(0,y.$Tr)(Wv,Ym,Xv),(0,y.R3I)(Ym,fc),(0,y.yef)($m,fc,null),(0,y.R3I)(Ym,Qm),Lv&&Lv.m(Ym,null),ov=!0,cv||(bv=(0,y.oLt)(fc,"click",(0,y.XET)(ev[15])),cv=!0)},p:function(Wv,Xv){var $0=Xv[0],S0={};2&$0&&(S0.origData=Wv[1]),4&$0&&(S0.dataKey=Wv[2]),16&$0&&(S0.keyType=Wv[4]),$m.$set(S0),Wv[6]&&Wv[5]?Lv?(Lv.p(Wv,$0),96&$0&&(0,y.Ui)(Lv,1)):((Lv=ty(Wv)).c(),(0,y.Ui)(Lv,1),Lv.m(Ym,null)):Lv&&((0,y.dvw)(),(0,y.etI)(Lv,1,1,function(){Lv=null}),(0,y.gbL)()),(!ov||8&$0)&&(0,y.Ljt)(Ym,"data-keypath",Wv[3]),32&$0&&(0,y.VHj)(Ym,"vc-toggle",Wv[5]),64&$0&&(0,y.VHj)(Ym,"vc-is-tree",Wv[6])},i:function(Wv){ov||((0,y.Ui)($m.$$.fragment,Wv),(0,y.Ui)(Lv),ov=!0)},o:function(Wv){(0,y.etI)($m.$$.fragment,Wv),(0,y.etI)(Lv),ov=!1},d:function(Wv){Wv&&(0,y.ogt)(Ym),(0,y.vpE)($m),Lv&&Lv.d(),cv=!1,bv()}}}function j1(ev,Ym,fc){var $m,Qm,ov,cv=Ym.origData,bv=Ym.dataKey,Lv=bv===void 0?void 0:bv,Wv=Ym.keyPath,Xv=Wv===void 0?"":Wv,$0=Ym.keyType,S0=$0===void 0?"":$0,G0=Ym.toggle,L0=G0===void 0?{}:G0,Z0=!1,r1=!1,u1=!1,g1=50,C1=50;(0,k.H3)(function(){K0.use()}),(0,k.ev)(function(){K0.unuse()});var Y1=function(R1){R1==="enum"?fc(11,g1+=50):R1==="nonEnum"&&fc(12,C1+=50)};return ev.$$set=function(R1){"origData"in R1&&fc(1,cv=R1.origData),"dataKey"in R1&&fc(2,Lv=R1.dataKey),"keyPath"in R1&&fc(3,Xv=R1.keyPath),"keyType"in R1&&fc(4,S0=R1.keyType),"toggle"in R1&&fc(0,L0=R1.toggle)},ev.$$.update=function(){1003&ev.$$.dirty&&(fc(5,Z0=L0[Xv]||!1),fc(6,r1=!(cv instanceof Fv.Tg)&&(e.kJ(cv)||e.Kn(cv))),r1&&Z0&&(fc(7,$m=$m||e.qr(e.MH(cv))),fc(8,Qm=Qm||e.qr(e.QK(cv))),fc(9,ov=ov||e._D(cv)),fc(10,u1=e.Kn(cv)&&Qm.indexOf("__proto__")===-1)))},[L0,cv,Lv,Xv,S0,Z0,r1,$m,Qm,ov,u1,g1,C1,Y1,function(R1){return"(..."+R1+" Key"+(R1>1?"s":"")+" Left)"},function(){fc(5,Z0=!Z0),fc(0,L0[Xv]=Z0,L0)},function(R1){try{return cv[R1]}catch{return new Fv.Tg}},function(){return Y1("enum")},function(){return Y1("nonEnum")}]}var X1=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,j1,V1,y.AqN,{origData:1,dataKey:2,keyPath:3,keyType:4,toggle:0}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"origData",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({origData:fc}),(0,y.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[2]},set:function(fc){this.$$set({dataKey:fc}),(0,y.yl1)()}},{key:"keyPath",get:function(){return this.$$.ctx[3]},set:function(fc){this.$$set({keyPath:fc}),(0,y.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[4]},set:function(fc){this.$$set({keyType:fc}),(0,y.yl1)()}},{key:"toggle",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({toggle:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),H0=X1,d1=__webpack_require__(7147),h1={};d1.Z&&d1.Z.locals&&(h1.locals=d1.Z.locals);var Z1,ey=0,jv={};jv.styleTagTransform=tc(),jv.setAttributes=hr(),jv.insert=Oe().bind(null,"head"),jv.domAPI=j(),jv.insertStyleElement=dr(),h1.use=function(ev){return jv.options=ev||{},ey++||(Z1=V()(d1.Z,jv)),h1},h1.unuse=function(){ey>0&&!--ey&&(Z1(),Z1=null)};var A0=h1;function Y0(ev,Ym,fc){var $m=ev.slice();return $m[9]=Ym[fc],$m[11]=fc,$m}function e1(ev,Ym,fc){var $m=ev.slice();return $m[12]=Ym[fc],$m}function U0(ev){for(var Ym,fc,$m,Qm,ov,cv,bv,Lv,Wv,Xv,$0,S0,G0,L0=[],Z0=new Map,r1=ev[0].groupLevel&&p1(ev),u1=ev[2]>0&&t1(),g1=ev[1]&&o1(ev),C1=ev[0].repeated&&c1(ev),Y1=ev[0].data,R1=function(F1){return F1[11]},hy=0;hy<Y1.length;hy+=1){var my=Y0(ev,Y1,hy),by=R1(my);Z0.set(by,L0[hy]=J1(by,my))}return Wv=new a1({props:{handler:ev[6]}}),{c:function(){Ym=(0,y.bGB)("div"),r1&&r1.c(),fc=(0,y.DhX)(),u1&&u1.c(),$m=(0,y.DhX)(),g1&&g1.c(),Qm=(0,y.DhX)(),C1&&C1.c(),ov=(0,y.DhX)(),cv=(0,y.bGB)("div");for(var F1=0;F1<L0.length;F1+=1)L0[F1].c();bv=(0,y.DhX)(),Lv=(0,y.bGB)("div"),(0,y.YCL)(Wv.$$.fragment),(0,y.Ljt)(cv,"class","vc-log-content"),(0,y.Ljt)(Lv,"class","vc-logrow-icon"),(0,y.Ljt)(Ym,"class",Xv="vc-log-row vc-log-"+ev[0].type),(0,y.VHj)(Ym,"vc-log-input",ev[0].cmdType==="input"),(0,y.VHj)(Ym,"vc-log-output",ev[0].cmdType==="output"),(0,y.VHj)(Ym,"vc-log-group",ev[2]>0),(0,y.VHj)(Ym,"vc-toggle",ev[2]===1)},m:function(F1,U1){(0,y.$Tr)(F1,Ym,U1),r1&&r1.m(Ym,null),(0,y.R3I)(Ym,fc),u1&&u1.m(Ym,null),(0,y.R3I)(Ym,$m),g1&&g1.m(Ym,null),(0,y.R3I)(Ym,Qm),C1&&C1.m(Ym,null),(0,y.R3I)(Ym,ov),(0,y.R3I)(Ym,cv);for(var wy=0;wy<L0.length;wy+=1)L0[wy].m(cv,null);(0,y.R3I)(Ym,bv),(0,y.R3I)(Ym,Lv),(0,y.yef)(Wv,Lv,null),$0=!0,S0||(G0=(0,y.oLt)(Ym,"click",ev[5]),S0=!0)},p:function(F1,U1){F1[0].groupLevel?r1?r1.p(F1,U1):((r1=p1(F1)).c(),r1.m(Ym,fc)):r1&&(r1.d(1),r1=null),F1[2]>0?u1||((u1=t1()).c(),u1.m(Ym,$m)):u1&&(u1.d(1),u1=null),F1[1]?g1?g1.p(F1,U1):((g1=o1(F1)).c(),g1.m(Ym,Qm)):g1&&(g1.d(1),g1=null),F1[0].repeated?C1?C1.p(F1,U1):((C1=c1(F1)).c(),C1.m(Ym,ov)):C1&&(C1.d(1),C1=null),17&U1&&(Y1=F1[0].data,(0,y.dvw)(),L0=(0,y.GQg)(L0,U1,R1,1,F1,Y1,Z0,cv,y.cly,J1,null,Y0),(0,y.gbL)()),(!$0||1&U1&&Xv!==(Xv="vc-log-row vc-log-"+F1[0].type))&&(0,y.Ljt)(Ym,"class",Xv),1&U1&&(0,y.VHj)(Ym,"vc-log-input",F1[0].cmdType==="input"),1&U1&&(0,y.VHj)(Ym,"vc-log-output",F1[0].cmdType==="output"),5&U1&&(0,y.VHj)(Ym,"vc-log-group",F1[2]>0),5&U1&&(0,y.VHj)(Ym,"vc-toggle",F1[2]===1)},i:function(F1){if(!$0){for(var U1=0;U1<Y1.length;U1+=1)(0,y.Ui)(L0[U1]);(0,y.Ui)(Wv.$$.fragment,F1),$0=!0}},o:function(F1){for(var U1=0;U1<L0.length;U1+=1)(0,y.etI)(L0[U1]);(0,y.etI)(Wv.$$.fragment,F1),$0=!1},d:function(F1){F1&&(0,y.ogt)(Ym),r1&&r1.d(),u1&&u1.d(),g1&&g1.d(),C1&&C1.d();for(var U1=0;U1<L0.length;U1+=1)L0[U1].d();(0,y.vpE)(Wv),S0=!1,G0()}}}function p1(ev){for(var Ym,fc=new Array(ev[0].groupLevel),$m=[],Qm=0;Qm<fc.length;Qm+=1)$m[Qm]=T0(e1(ev,fc,Qm));return{c:function(){for(var ov=0;ov<$m.length;ov+=1)$m[ov].c();Ym=(0,y.cSb)()},m:function(ov,cv){for(var bv=0;bv<$m.length;bv+=1)$m[bv].m(ov,cv);(0,y.$Tr)(ov,Ym,cv)},p:function(ov,cv){if(1&cv){var bv;for(fc=new Array(ov[0].groupLevel),bv=0;bv<fc.length;bv+=1){var Lv=e1(ov,fc,bv);$m[bv]?$m[bv].p(Lv,cv):($m[bv]=T0(),$m[bv].c(),$m[bv].m(Ym.parentNode,Ym))}for(;bv<$m.length;bv+=1)$m[bv].d(1);$m.length=fc.length}},d:function(ov){(0,y.RMB)($m,ov),ov&&(0,y.ogt)(Ym)}}}function T0(ev){var Ym;return{c:function(){Ym=(0,y.bGB)("i"),(0,y.Ljt)(Ym,"class","vc-log-padding")},m:function(fc,$m){(0,y.$Tr)(fc,Ym,$m)},p:y.ZTd,d:function(fc){fc&&(0,y.ogt)(Ym)}}}function t1(ev){var Ym;return{c:function(){Ym=(0,y.bGB)("div"),(0,y.Ljt)(Ym,"class","vc-log-group-toggle")},m:function(fc,$m){(0,y.$Tr)(fc,Ym,$m)},d:function(fc){fc&&(0,y.ogt)(Ym)}}}function o1(ev){var Ym,fc;return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.fLW)(ev[3]),(0,y.Ljt)(Ym,"class","vc-log-time")},m:function($m,Qm){(0,y.$Tr)($m,Ym,Qm),(0,y.R3I)(Ym,fc)},p:function($m,Qm){8&Qm&&(0,y.rTO)(fc,$m[3])},d:function($m){$m&&(0,y.ogt)(Ym)}}}function c1(ev){var Ym,fc,$m,Qm=ev[0].repeated+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("i"),$m=(0,y.fLW)(Qm),(0,y.Ljt)(Ym,"class","vc-log-repeat")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m)},p:function(ov,cv){1&cv&&Qm!==(Qm=ov[0].repeated+"")&&(0,y.rTO)($m,Qm)},d:function(ov){ov&&(0,y.ogt)(Ym)}}}function N1(ev){var Ym,fc;return Ym=new Ov({props:{origData:ev[9].origData,style:ev[9].style}}),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:function($m,Qm){var ov={};1&Qm&&(ov.origData=$m[9].origData),1&Qm&&(ov.style=$m[9].style),Ym.$set(ov)},i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function A1(ev){var Ym,fc;return Ym=new H0({props:{origData:ev[9].origData,keyPath:String(ev[11]),toggle:ev[0].toggle}}),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:function($m,Qm){var ov={};1&Qm&&(ov.origData=$m[9].origData),1&Qm&&(ov.keyPath=String($m[11])),1&Qm&&(ov.toggle=$m[0].toggle),Ym.$set(ov)},i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function J1(ev,Ym){var fc,$m,Qm,ov,cv,bv,Lv=[A1,N1],Wv=[];function Xv($0,S0){return 1&S0&&($m=null),$m==null&&($m=!!$0[4]($0[9].origData)),$m?0:1}return Qm=Xv(Ym,-1),ov=Wv[Qm]=Lv[Qm](Ym),{key:ev,first:null,c:function(){fc=(0,y.cSb)(),ov.c(),cv=(0,y.cSb)(),this.first=fc},m:function($0,S0){(0,y.$Tr)($0,fc,S0),Wv[Qm].m($0,S0),(0,y.$Tr)($0,cv,S0),bv=!0},p:function($0,S0){var G0=Qm;(Qm=Xv(Ym=$0,S0))===G0?Wv[Qm].p(Ym,S0):((0,y.dvw)(),(0,y.etI)(Wv[G0],1,1,function(){Wv[G0]=null}),(0,y.gbL)(),(ov=Wv[Qm])?ov.p(Ym,S0):(ov=Wv[Qm]=Lv[Qm](Ym)).c(),(0,y.Ui)(ov,1),ov.m(cv.parentNode,cv))},i:function($0){bv||((0,y.Ui)(ov),bv=!0)},o:function($0){(0,y.etI)(ov),bv=!1},d:function($0){$0&&(0,y.ogt)(fc),Wv[Qm].d($0),$0&&(0,y.ogt)(cv)}}}function ny(ev){var Ym,fc,$m=ev[0]&&U0(ev);return{c:function(){$m&&$m.c(),Ym=(0,y.cSb)()},m:function(Qm,ov){$m&&$m.m(Qm,ov),(0,y.$Tr)(Qm,Ym,ov),fc=!0},p:function(Qm,ov){var cv=ov[0];Qm[0]?$m?($m.p(Qm,cv),1&cv&&(0,y.Ui)($m,1)):(($m=U0(Qm)).c(),(0,y.Ui)($m,1),$m.m(Ym.parentNode,Ym)):$m&&((0,y.dvw)(),(0,y.etI)($m,1,1,function(){$m=null}),(0,y.gbL)())},i:function(Qm){fc||((0,y.Ui)($m),fc=!0)},o:function(Qm){(0,y.etI)($m),fc=!1},d:function(Qm){$m&&$m.d(Qm),Qm&&(0,y.ogt)(Ym)}}}function Ty(ev,Ym,fc){var $m=Ym.log,Qm=Ym.showTimestamps,ov=Qm!==void 0&&Qm,cv=Ym.groupHeader,bv=cv===void 0?0:cv,Lv=(0,k.x)(),Wv="",Xv=function($0,S0){var G0="000"+$0;return G0.substring(G0.length-S0)};return(0,k.H3)(function(){A0.use()}),(0,k.ev)(function(){A0.unuse()}),ev.$$set=function($0){"log"in $0&&fc(0,$m=$0.log),"showTimestamps"in $0&&fc(1,ov=$0.showTimestamps),"groupHeader"in $0&&fc(2,bv=$0.groupHeader)},ev.$$.update=function(){if(3&ev.$$.dirty&&ov){var $0=new Date($m.date);fc(3,Wv=Xv($0.getHours(),2)+":"+Xv($0.getMinutes(),2)+":"+Xv($0.getSeconds(),2)+":"+Xv($0.getMilliseconds(),3))}},[$m,ov,bv,Wv,function($0){return!($0 instanceof Fv.Tg)&&(e.kJ($0)||e.Kn($0))},function(){bv>0&&Lv("groupCollapsed",{groupLabel:$m.groupLabel,groupHeader:bv===1?2:1,isGroupCollapsed:bv===1})},function(){var $0=[];try{for(var S0=0;S0<$m.data.length;S0++)e.HD($m.data[S0].origData)||e.hj($m.data[S0].origData)?$0.push($m.data[S0].origData):$0.push(e.hZ($m.data[S0].origData,{maxDepth:10,keyMaxLen:1e4,pretty:!1,standardJSON:!0}))}catch{}return $0.join(" ")}]}var Cy=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,Ty,ny,y.AqN,{log:0,showTimestamps:1,groupHeader:2}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"log",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({log:fc}),(0,y.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({showTimestamps:fc}),(0,y.yl1)()}},{key:"groupHeader",get:function(){return this.$$.ctx[2]},set:function(fc){this.$$set({groupHeader:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),ry=Cy,O1=__webpack_require__(3903),Iy=__webpack_require__(3327),fy={};Iy.Z&&Iy.Z.locals&&(fy.locals=Iy.Z.locals);var $y,Sb=0,Uy={};Uy.styleTagTransform=tc(),Uy.setAttributes=hr(),Uy.insert=Oe().bind(null,"head"),Uy.domAPI=j(),Uy.insertStyleElement=dr(),fy.use=function(ev){return Uy.options=ev||{},Sb++||($y=V()(Iy.Z,Uy)),fy},fy.unuse=function(){Sb>0&&!--Sb&&($y(),$y=null)};var kb=fy,ky=__webpack_require__(4264),oy=__webpack_require__.n(ky),Qy=function(){function ev(fc){console.debug("[vConsole] `ResizeObserver` is not supported in the browser, vConsole cannot render correctly."),fc([{contentRect:{height:30}}],this)}var Ym=ev.prototype;return Ym.disconnect=function(){},Ym.observe=function(fc,$m){},Ym.unobserve=function(fc){},ev}(),Gy=function(){return typeof window.ResizeObserver=="function"},Wy=function(){return window.ResizeObserver||Qy};function Bb(ev){var Ym,fc,$m=ev[6].default,Qm=(0,y.nuO)($m,ev,ev[5],null);return{c:function(){Ym=(0,y.bGB)("div"),Qm&&Qm.c(),(0,y.Ljt)(Ym,"class","vc-scroller-item"),(0,y.czc)(Ym,"display",ev[0]?"block":"none",!1),(0,y.czc)(Ym,"top",ev[3]?ev[1]+"px":"auto",!1)},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),Qm&&Qm.m(Ym,null),ev[7](Ym),fc=!0},p:function(ov,cv){var bv=cv[0];Qm&&Qm.p&&(!fc||32&bv)&&(0,y.kmG)(Qm,$m,ov,ov[5],fc?(0,y.u2N)($m,ov[5],bv,null):(0,y.VOJ)(ov[5]),null),1&bv&&(0,y.czc)(Ym,"display",ov[0]?"block":"none",!1),2&bv&&(0,y.czc)(Ym,"top",ov[3]?ov[1]+"px":"auto",!1)},i:function(ov){fc||((0,y.Ui)(Qm,ov),fc=!0)},o:function(ov){(0,y.etI)(Qm,ov),fc=!1},d:function(ov){ov&&(0,y.ogt)(Ym),Qm&&Qm.d(ov),ev[7](null)}}}function nc(ev,Ym,fc){var $m,Qm=Ym.$$slots,ov=Qm===void 0?{}:Qm,cv=Ym.$$scope,bv=Ym.show,Lv=bv===void 0?!Gy():bv,Wv=Ym.top,Xv=Ym.onResize,$0=Xv===void 0?function(){}:Xv,S0=null,G0=Gy();return(0,k.H3)(function(){if(Lv&&$0($m.getBoundingClientRect().height),G0){var L0=Wy();(S0=new L0(function(Z0){var r1=Z0[0];Lv&&$0(r1.contentRect.height)})).observe($m)}}),(0,k.ev)(function(){G0&&S0.disconnect()}),ev.$$set=function(L0){"show"in L0&&fc(0,Lv=L0.show),"top"in L0&&fc(1,Wv=L0.top),"onResize"in L0&&fc(4,$0=L0.onResize),"$$scope"in L0&&fc(5,cv=L0.$$scope)},[Lv,Wv,$m,G0,$0,cv,ov,function(L0){y.VnY[L0?"unshift":"push"](function(){fc(2,$m=L0)})}]}var sc=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,nc,Bb,y.N8,{show:0,top:1,onResize:4}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"show",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({show:fc}),(0,y.yl1)()}},{key:"top",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({top:fc}),(0,y.yl1)()}},{key:"onResize",get:function(){return this.$$.ctx[4]},set:function(fc){this.$$set({onResize:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),Zm=sc,iv=function(){function ev(){this._x=0,this._endX=0,this._v=0,this._startTime=0,this._endTime=0}var Ym=ev.prototype;return Ym.set=function(fc,$m,Qm,ov){this._x=fc,this._endX=$m,this._v=($m-fc)/Qm,this._startTime=ov||Date.now(),this._endTime=this._startTime+Qm},Ym.x=function(fc){if(this.done(fc))return this._endX;var $m=fc-this._startTime;return this._x+this._v*$m},Ym.dx=function(fc){return this.done(fc)?0:this._v},Ym.done=function(fc){return fc>=this._endTime},ev}(),hv=function(){function ev(fc){this._drag=void 0,this._dragLog=void 0,this._x=0,this._v=0,this._startTime=0,this._drag=fc,this._dragLog=Math.log(fc)}var Ym=ev.prototype;return Ym.set=function(fc,$m,Qm){this._x=fc,this._v=$m,this._startTime=Qm||Date.now()},Ym.x=function(fc){var $m=(fc-this._startTime)/1e3;return this._x+this._v*Math.pow(this._drag,$m)/this._dragLog-this._v/this._dragLog},Ym.dx=function(fc){var $m=(fc-this._startTime)/1e3;return this._v*Math.pow(this._drag,$m)},Ym.done=function(fc){return Math.abs(this.dx(fc))<3},ev}(),xv=function(ev,Ym){return ev>Ym-.1&&ev<Ym+.1},Nv=function(ev){return xv(ev,0)},Bv=function(){function ev(fc,$m,Qm){this._solver=void 0,this._solution=void 0,this._endPosition=void 0,this._startTime=void 0,this._solver=function(ov,cv,bv){var Lv=bv,Wv=ov,Xv=cv,$0=Lv*Lv-4*Wv*Xv;if($0==0){var S0=-Lv/(2*Wv);return function(u1,g1){var C1=u1,Y1=g1/(S0*u1);return{x:function(R1){return(C1+Y1*R1)*Math.pow(Math.E,S0*R1)},dx:function(R1){return(S0*(C1+Y1*R1)+Y1)*Math.pow(Math.E,S0*R1)}}}}if($0>0){var G0=(-Lv-Math.sqrt($0))/(2*Wv),L0=(-Lv+Math.sqrt($0))/(2*Wv);return function(u1,g1){var C1=(g1-G0*u1)/(L0-G0),Y1=u1-C1;return{x:function(R1){return Y1*Math.pow(Math.E,G0*R1)+C1*Math.pow(Math.E,L0*R1)},dx:function(R1){return Y1*G0*Math.pow(Math.E,G0*R1)+C1*L0*Math.pow(Math.E,L0*R1)}}}}var Z0=Math.sqrt(4*Wv*Xv-Lv*Lv)/(2*Wv),r1=-Lv/2*Wv;return function(u1,g1){var C1=u1,Y1=(g1-r1*u1)/Z0;return{x:function(R1){return Math.pow(Math.E,r1*R1)*(C1*Math.cos(Z0*R1)+Y1*Math.sin(Z0*R1))},dx:function(R1){var hy=Math.pow(Math.E,r1*R1),my=Math.cos(Z0*R1),by=Math.sin(Z0*R1);return hy*(Y1*Z0*my-C1*Z0*by)+r1*hy*(Y1*by+C1*my)}}}}(fc,$m,Qm),this._solution=null,this._endPosition=0,this._startTime=0}var Ym=ev.prototype;return Ym.x=function(fc){if(!this._solution)return 0;var $m=(fc-this._startTime)/1e3;return this._endPosition+this._solution.x($m)},Ym.dx=function(fc){if(!this._solution)return 0;var $m=(fc-this._startTime)/1e3;return this._solution.dx($m)},Ym.set=function(fc,$m,Qm,ov){ov||(ov=Date.now()),this._endPosition=fc,$m==fc&&Nv(Qm)||(this._solution=this._solver($m-fc,Qm),this._startTime=ov)},Ym.done=function(fc){return fc||(fc=Date.now()),xv(this.x(fc),this._endPosition)&&Nv(this.dx(fc))},ev}(),Uv=function(){function ev(fc,$m){this._enableSpring=$m,this._getExtend=void 0,this._friction=new hv(.05),this._spring=new Bv(1,90,20),this._toEdge=!1,this._getExtend=fc}var Ym=ev.prototype;return Ym.set=function(fc,$m,Qm){if(Qm===void 0&&(Qm=Date.now()),this._friction.set(fc,$m,Qm),fc>0&&$m>=0)this._toEdge=!0,this._enableSpring&&this._spring.set(0,fc,$m,Qm);else{var ov=this._getExtend();fc<-ov&&$m<=0?(this._toEdge=!0,this._enableSpring&&this._spring.set(-ov,fc,$m,Qm)):this._toEdge=!1}},Ym.x=function(fc){if(this._enableSpring&&this._toEdge)return this._spring.x(fc);var $m=this._friction.x(fc),Qm=this._friction.dx(fc);if($m>0&&Qm>=0){if(this._toEdge=!0,!this._enableSpring)return 0;this._spring.set(0,$m,Qm,fc)}else{var ov=this._getExtend();if($m<-ov&&Qm<=0){if(this._toEdge=!0,!this._enableSpring)return-ov;this._spring.set(-ov,$m,Qm,fc)}}return $m},Ym.dx=function(fc){return this._toEdge?this._enableSpring?this._spring.dx(fc):0:this._friction.dx(fc)},Ym.done=function(fc){return this._toEdge?!this._enableSpring||this._spring.done(fc):this._friction.done(fc)},ev}();function Jv(ev,Ym){var fc,$m;return function Qm(){if(!$m){var ov=Date.now();Ym(ov),ev.done(ov)||(fc=requestAnimationFrame(Qm))}}(),{cancel:function(){cancelAnimationFrame(fc),$m=!0}}}var C0=function(){function ev(fc,$m){this._updatePosition=$m,this._scrollModel=void 0,this._linearModel=void 0,this._startPosition=0,this._position=0,this._animate=null,this._getExtent=void 0,this._getExtent=fc,this._scrollModel=new Uv(fc,!1),this._linearModel=new iv}var Ym=ev.prototype;return Ym.onTouchStart=function(){var fc=this._position;if(fc>0)fc*=0;else{var $m=this._getExtent();fc<-$m&&(fc=0*(fc+$m)-$m)}this._startPosition=this._position=fc,this._animate&&(this._animate.cancel(),this._animate=null),this._updatePosition(-fc)},Ym.onTouchMove=function(fc,$m){var Qm=$m+this._startPosition;if(Qm>0)Qm*=0;else{var ov=this._getExtent();Qm<-ov&&(Qm=0*(Qm+ov)-ov)}this._position=Qm,this._updatePosition(-Qm)},Ym.onTouchEnd=function(fc,$m,Qm,ov){var cv=this,bv=$m+this._startPosition;if(bv>0)bv*=0;else{var Lv=this._getExtent();bv<-Lv&&(bv=0*(bv+Lv)-Lv)}if(this._position=bv,this._updatePosition(-bv),!(Math.abs($m)<=.1&&Math.abs(ov)<=.1)){var Wv=this._scrollModel;Wv.set(bv,ov),this._animate=Jv(Wv,function(Xv){var $0=cv._position=Wv.x(Xv);cv._updatePosition(-$0)})}},Ym.onTouchCancel=function(){var fc=this,$m=this._position;if($m>0)$m*=0;else{var Qm=this._getExtent();$m<-Qm&&($m=0*($m+Qm)-Qm)}this._position=$m;var ov=this._scrollModel;ov.set($m,0),this._animate=Jv(ov,function(cv){var bv=fc._position=ov.x(cv);fc._updatePosition(-bv)})},Ym.onWheel=function(fc,$m){var Qm=this._position-$m;if(this._animate&&(this._animate.cancel(),this._animate=null),Qm>0)Qm=0;else{var ov=this._getExtent();Qm<-ov&&(Qm=-ov)}this._position=Qm,this._updatePosition(-Qm)},Ym.getPosition=function(){return-this._position},Ym.updatePosition=function(fc){var $m=-fc-this._position;this._startPosition+=$m,this._position+=$m;var Qm=this._position;this._updatePosition(-Qm);var ov=this._scrollModel,cv=Date.now();if(!ov.done(cv)){var bv=ov.dx(cv);ov.set(Qm,bv,cv)}},Ym.scrollTo=function(fc,$m){var Qm=this;if(this._animate&&(this._animate.cancel(),this._animate=null),$m>0){var ov=this._linearModel;ov.set(this._position,-fc,$m),this._animate=Jv(this._linearModel,function(cv){var bv=Qm._position=ov.x(cv);Qm._updatePosition(-bv)})}else this._updatePosition(fc)},ev}();function v0(ev,Ym){var fc=typeof Symbol<"u"&&ev[Symbol.iterator]||ev["@@iterator"];if(fc)return(fc=fc.call(ev)).next.bind(fc);if(Array.isArray(ev)||(fc=function(Qm,ov){if(Qm){if(typeof Qm=="string")return P0(Qm,ov);var cv=Object.prototype.toString.call(Qm).slice(8,-1);if(cv==="Object"&&Qm.constructor&&(cv=Qm.constructor.name),cv==="Map"||cv==="Set")return Array.from(Qm);if(cv==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cv))return P0(Qm,ov)}}(ev))||Ym){fc&&(ev=fc);var $m=0;return function(){return $m>=ev.length?{done:!0}:{done:!1,value:ev[$m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0(ev,Ym){(Ym==null||Ym>ev.length)&&(Ym=ev.length);for(var fc=0,$m=new Array(Ym);fc<Ym;fc++)$m[fc]=ev[fc];return $m}var O0=function(ev){var Ym=null,fc=!1,$m=function Qm(){fc=!1,ev(),Ym=requestAnimationFrame(function(){Ym=null,fc&&Qm()})};return{trigger:function(){Ym===null?$m():fc=!0},cancel:function(){Ym&&(cancelAnimationFrame(Ym),fc=!1,Ym=null)}}},F0=function(){function ev(Ym){var fc=this;this._handler=Ym,this._touchId=null,this._startX=0,this._startY=0,this._historyX=[],this._historyY=[],this._historyTime=[],this._wheelDeltaX=0,this._wheelDeltaY=0,this._onTouchMove=function(){var $m=fc._historyX[fc._historyX.length-1],Qm=fc._historyY[fc._historyY.length-1];fc._handler.onTouchMove($m,Qm)},this._onWheel=O0(function(){var $m=fc._wheelDeltaX,Qm=fc._wheelDeltaY;fc._wheelDeltaX=0,fc._wheelDeltaY=0,fc._handler.onWheel($m,Qm)}),this.handleTouchStart=function($m){var Qm;if(((Qm=$m.target.dataset)==null?void 0:Qm.scrollable)!=="1"){$m.preventDefault();var ov=$m.touches[0];fc._touchId=ov.identifier,fc._startX=ov.pageX,fc._startY=ov.pageY,fc._historyX=[0],fc._historyY=[0],fc._historyTime=[Date.now()],fc._handler.onTouchStart()}},this.handleTouchMove=function($m){var Qm;if(((Qm=$m.target.dataset)==null?void 0:Qm.scrollable)!=="1"){$m.preventDefault();var ov=fc._getTouchDelta($m);ov!==null&&(fc._historyX.push(ov.x),fc._historyY.push(ov.y),fc._historyTime.push(Date.now()),fc._onTouchMove())}},this.handleTouchEnd=function($m){var Qm;if(((Qm=$m.target.dataset)==null?void 0:Qm.scrollable)!=="1"){$m.preventDefault();var ov=fc._getTouchDelta($m);if(ov!==null){for(var cv=0,bv=0,Lv=Date.now(),Wv=ov.y,Xv=ov.x,$0=fc._historyTime,S0=$0.length-1;S0>0;S0-=1){var G0=Lv-$0[S0];if(G0>30){cv=1e3*(Xv-fc._historyX[S0])/G0,bv=1e3*(Wv-fc._historyY[S0])/G0;break}}fc._touchId=null,fc._handler.onTouchEnd(ov.x,ov.y,cv,bv)}}},this.handleTouchCancel=function($m){var Qm;((Qm=$m.target.dataset)==null?void 0:Qm.scrollable)!=="1"&&($m.preventDefault(),fc._getTouchDelta($m)!==null&&(fc._touchId=null,fc._handler.onTouchCancel()))},this.handleWheel=function($m){var Qm;((Qm=$m.target.dataset)==null?void 0:Qm.scrollable)!=="1"&&($m.preventDefault(),fc._wheelDeltaX+=$m.deltaX,fc._wheelDeltaY+=$m.deltaY,fc._onWheel.trigger())}}return ev.prototype._getTouchDelta=function(Ym){if(this._touchId===null)return null;for(var fc,$m=v0(Ym.changedTouches);!(fc=$m()).done;){var Qm=fc.value;if(Qm.identifier===this._touchId)return{x:Qm.pageX-this._startX,y:Qm.pageY-this._startY}}return null},ev}(),Q0=__webpack_require__(1142),j0={};Q0.Z&&Q0.Z.locals&&(j0.locals=Q0.Z.locals);var i1,n1=0,s1={};s1.styleTagTransform=tc(),s1.setAttributes=hr(),s1.insert=Oe().bind(null,"head"),s1.domAPI=j(),s1.insertStyleElement=dr(),j0.use=function(ev){return s1.options=ev||{},n1++||(i1=V()(Q0.Z,s1)),j0},j0.unuse=function(){n1>0&&!--n1&&(i1(),i1=null)};var f1=j0,_1=function(){var ev=[],Ym=[],fc=0,$m=0,Qm=0,ov=0,cv=0;return function(bv,Lv,Wv){if(Qm===bv&&ov===Lv&&cv===Wv)return ev;var Xv=Ym.length,$0=Lv<=$m?Math.max(0,Math.min(Lv,Math.max(fc,Math.min($m-1,Wv-Xv)))):Lv,S0=fc<=Wv?Math.max(Wv,Math.min(bv,Math.max(fc+1,Math.min($m,$0+Xv)))):Wv;if(Xv===0||S0-$0<Xv){for(var G0=ev.length=Ym.length=Wv-Lv,L0=0;L0<G0;L0+=1)Ym[L0]=L0,ev[L0]={key:L0,index:L0+Lv,show:!0};return fc=Lv,$m=Wv,Qm=bv,ov=Lv,cv=Wv,ev}var Z0=0,r1=0,u1=0,g1=0;$m<$0||S0<fc?(u1=$0,g1=$0+Xv):fc<$0?(r1=$0-fc,u1=$0,g1=$0+Xv):S0<$m?(r1=Xv-($m-S0),u1=S0-Xv,g1=S0):$0<=fc&&$m<=S0&&(u1=fc,g1=$m);for(var C1=$0;C1<Lv;C1+=1,Z0+=1){var Y1=Ym[(r1+Z0)%Xv],R1=ev[C1-$0];R1.key=Y1,R1.index=C1,R1.show=!1}for(var hy=Lv,my=0;hy<Wv;hy+=1){var by=void 0;u1<=hy&&hy<g1?(by=Ym[(r1+Z0)%Xv],Z0+=1):(by=Xv+my,my+=1);var F1=hy-$0;if(F1<ev.length){var U1=ev[F1];U1.key=by,U1.index=hy,U1.show=!0}else ev.push({key:by,index:hy,show:!0})}for(var wy=Wv;wy<S0;wy+=1,Z0+=1){var Yy=Ym[(r1+Z0)%Xv],Ey=ev[wy-$0];Ey.key=Yy,Ey.index=wy,Ey.show=!1}for(var gy=0;gy<ev.length;gy+=1)Ym[gy]=ev[gy].key;return ev.sort(function(iy,S1){return iy.key-S1.key}),fc=$0,$m=S0,Qm=bv,ov=Lv,cv=Wv,ev}},T1=y.lig.Map,v1=function(ev){return{}},m1=function(ev){return{}},E1=function(ev){return{}},I1=function(ev){return{}};function D1(ev,Ym,fc){var $m=ev.slice();return $m[53]=Ym[fc],$m[55]=fc,$m}var G1=function(ev){return{item:1025&ev[0]}},H1=function(ev){return{item:ev[0][ev[53].index]}},W1=function(ev){return{}},K1=function(ev){return{}};function z1(ev){var Ym,fc,$m=ev[24].header,Qm=(0,y.nuO)($m,ev,ev[31],K1);return{c:function(){Ym=(0,y.bGB)("div"),Qm&&Qm.c(),(0,y.Ljt)(Ym,"class","vc-scroller-header")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),Qm&&Qm.m(Ym,null),ev[25](Ym),fc=!0},p:function(ov,cv){Qm&&Qm.p&&(!fc||1&cv[1])&&(0,y.kmG)(Qm,$m,ov,ov[31],fc?(0,y.u2N)($m,ov[31],cv,W1):(0,y.VOJ)(ov[31]),K1)},i:function(ov){fc||((0,y.Ui)(Qm,ov),fc=!0)},o:function(ov){(0,y.etI)(Qm,ov),fc=!1},d:function(ov){ov&&(0,y.ogt)(Ym),Qm&&Qm.d(ov),ev[25](null)}}}function q1(ev){var Ym,fc=ev[24].empty,$m=(0,y.nuO)(fc,ev,ev[31],I1);return{c:function(){$m&&$m.c()},m:function(Qm,ov){$m&&$m.m(Qm,ov),Ym=!0},p:function(Qm,ov){$m&&$m.p&&(!Ym||1&ov[1])&&(0,y.kmG)($m,fc,Qm,Qm[31],Ym?(0,y.u2N)(fc,Qm[31],ov,E1):(0,y.VOJ)(Qm[31]),I1)},i:function(Qm){Ym||((0,y.Ui)($m,Qm),Ym=!0)},o:function(Qm){(0,y.etI)($m,Qm),Ym=!1},d:function(Qm){$m&&$m.d(Qm)}}}function w1(ev){for(var Ym,fc,$m=[],Qm=new T1,ov=ev[10],cv=function(Xv){return Xv[53].key},bv=0;bv<ov.length;bv+=1){var Lv=D1(ev,ov,bv),Wv=cv(Lv);Qm.set(Wv,$m[bv]=sy(Wv,Lv))}return{c:function(){for(var Xv=0;Xv<$m.length;Xv+=1)$m[Xv].c();Ym=(0,y.cSb)()},m:function(Xv,$0){for(var S0=0;S0<$m.length;S0+=1)$m[S0].m(Xv,$0);(0,y.$Tr)(Xv,Ym,$0),fc=!0},p:function(Xv,$0){17921&$0[0]|1&$0[1]&&(ov=Xv[10],(0,y.dvw)(),$m=(0,y.GQg)($m,$0,cv,1,Xv,ov,Qm,Ym.parentNode,y.cly,sy,Ym,D1),(0,y.gbL)())},i:function(Xv){if(!fc){for(var $0=0;$0<ov.length;$0+=1)(0,y.Ui)($m[$0]);fc=!0}},o:function(Xv){for(var $0=0;$0<$m.length;$0+=1)(0,y.etI)($m[$0]);fc=!1},d:function(Xv){for(var $0=0;$0<$m.length;$0+=1)$m[$0].d(Xv);Xv&&(0,y.ogt)(Ym)}}}function Q1(ev){var Ym,fc,$m=ev[24].item,Qm=(0,y.nuO)($m,ev,ev[31],H1),ov=Qm||function(cv){var bv;return{c:function(){bv=(0,y.fLW)("Missing template")},m:function(Lv,Wv){(0,y.$Tr)(Lv,bv,Wv)},d:function(Lv){Lv&&(0,y.ogt)(bv)}}}();return{c:function(){ov&&ov.c(),Ym=(0,y.DhX)()},m:function(cv,bv){ov&&ov.m(cv,bv),(0,y.$Tr)(cv,Ym,bv),fc=!0},p:function(cv,bv){Qm&&Qm.p&&(!fc||1025&bv[0]|1&bv[1])&&(0,y.kmG)(Qm,$m,cv,cv[31],fc?(0,y.u2N)($m,cv[31],bv,G1):(0,y.VOJ)(cv[31]),H1)},i:function(cv){fc||((0,y.Ui)(ov,cv),fc=!0)},o:function(cv){(0,y.etI)(ov,cv),fc=!1},d:function(cv){ov&&ov.d(cv),cv&&(0,y.ogt)(Ym)}}}function sy(ev,Ym){var fc,$m,Qm;function ov(){for(var cv,bv=arguments.length,Lv=new Array(bv),Wv=0;Wv<bv;Wv++)Lv[Wv]=arguments[Wv];return(cv=Ym)[26].apply(cv,[Ym[53]].concat(Lv))}return $m=new Zm({props:{show:Ym[53].show,top:Ym[9][Ym[53].index],onResize:ov,$$slots:{default:[Q1]},$$scope:{ctx:Ym}}}),{key:ev,first:null,c:function(){fc=(0,y.cSb)(),(0,y.YCL)($m.$$.fragment),this.first=fc},m:function(cv,bv){(0,y.$Tr)(cv,fc,bv),(0,y.yef)($m,cv,bv),Qm=!0},p:function(cv,bv){Ym=cv;var Lv={};1024&bv[0]&&(Lv.show=Ym[53].show),1536&bv[0]&&(Lv.top=Ym[9][Ym[53].index]),1024&bv[0]&&(Lv.onResize=ov),1025&bv[0]|1&bv[1]&&(Lv.$$scope={dirty:bv,ctx:Ym}),$m.$set(Lv)},i:function(cv){Qm||((0,y.Ui)($m.$$.fragment,cv),Qm=!0)},o:function(cv){(0,y.etI)($m.$$.fragment,cv),Qm=!1},d:function(cv){cv&&(0,y.ogt)(fc),(0,y.vpE)($m,cv)}}}function My(ev){var Ym,fc,$m=ev[24].footer,Qm=(0,y.nuO)($m,ev,ev[31],m1);return{c:function(){Ym=(0,y.bGB)("div"),Qm&&Qm.c(),(0,y.Ljt)(Ym,"class","vc-scroller-footer")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),Qm&&Qm.m(Ym,null),ev[28](Ym),fc=!0},p:function(ov,cv){Qm&&Qm.p&&(!fc||1&cv[1])&&(0,y.kmG)(Qm,$m,ov,ov[31],fc?(0,y.u2N)($m,ov[31],cv,v1):(0,y.VOJ)(ov[31]),m1)},i:function(ov){fc||((0,y.Ui)(Qm,ov),fc=!0)},o:function(ov){(0,y.etI)(Qm,ov),fc=!1},d:function(ov){ov&&(0,y.ogt)(Ym),Qm&&Qm.d(ov),ev[28](null)}}}function Ly(ev){var Ym,fc,$m=ev[7]+"%",Qm=ev[8]+"%";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),(0,y.Ljt)(fc,"class","vc-scroller-scrollbar-thumb"),(0,y.czc)(fc,"height",$m,!1),(0,y.czc)(fc,"top",Qm,!1),(0,y.Ljt)(Ym,"class","vc-scroller-scrollbar-track"),(0,y.czc)(Ym,"display",ev[7]<100?"block":"none",!1)},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),(0,y.R3I)(Ym,fc)},p:function(ov,cv){128&cv[0]&&$m!==($m=ov[7]+"%")&&(0,y.czc)(fc,"height",$m,!1),256&cv[0]&&Qm!==(Qm=ov[8]+"%")&&(0,y.czc)(fc,"top",Qm,!1),128&cv[0]&&(0,y.czc)(Ym,"display",ov[7]<100?"block":"none",!1)},d:function(ov){ov&&(0,y.ogt)(Ym)}}}function Sy(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv,Wv,Xv,$0,S0=ev[15].header&&z1(ev),G0=[w1,q1],L0=[];function Z0(g1,C1){return g1[0].length?0:1}ov=Z0(ev),cv=L0[ov]=G0[ov](ev);var r1=ev[15].footer&&My(ev),u1=ev[1]&&Ly(ev);return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),S0&&S0.c(),$m=(0,y.DhX)(),Qm=(0,y.bGB)("div"),cv.c(),bv=(0,y.DhX)(),r1&&r1.c(),Lv=(0,y.DhX)(),u1&&u1.c(),(0,y.Ljt)(Qm,"class","vc-scroller-items"),(0,y.Ljt)(fc,"class","vc-scroller-contents"),(0,y.Ljt)(Ym,"class","vc-scroller-viewport"),(0,y.VHj)(Ym,"static",!ev[13])},m:function(g1,C1){(0,y.$Tr)(g1,Ym,C1),(0,y.R3I)(Ym,fc),S0&&S0.m(fc,null),(0,y.R3I)(fc,$m),(0,y.R3I)(fc,Qm),L0[ov].m(Qm,null),ev[27](Qm),(0,y.R3I)(fc,bv),r1&&r1.m(fc,null),ev[29](fc),(0,y.R3I)(Ym,Lv),u1&&u1.m(Ym,null),ev[30](Ym),Wv=!0,Xv||($0=[(0,y.oLt)(Ym,"touchstart",function(){(0,y.sBU)(ev[13]?ev[11].handleTouchStart:ev[12])&&(ev[13]?ev[11].handleTouchStart:ev[12]).apply(this,arguments)}),(0,y.oLt)(Ym,"touchmove",function(){(0,y.sBU)(ev[13]?ev[11].handleTouchMove:ev[12])&&(ev[13]?ev[11].handleTouchMove:ev[12]).apply(this,arguments)}),(0,y.oLt)(Ym,"touchend",function(){(0,y.sBU)(ev[13]?ev[11].handleTouchEnd:ev[12])&&(ev[13]?ev[11].handleTouchEnd:ev[12]).apply(this,arguments)}),(0,y.oLt)(Ym,"touchcancel",function(){(0,y.sBU)(ev[13]?ev[11].handleTouchCancel:ev[12])&&(ev[13]?ev[11].handleTouchCancel:ev[12]).apply(this,arguments)}),(0,y.oLt)(Ym,"wheel",function(){(0,y.sBU)(ev[13]?ev[11].handleWheel:ev[12])&&(ev[13]?ev[11].handleWheel:ev[12]).apply(this,arguments)})],Xv=!0)},p:function(g1,C1){(ev=g1)[15].header?S0?(S0.p(ev,C1),32768&C1[0]&&(0,y.Ui)(S0,1)):((S0=z1(ev)).c(),(0,y.Ui)(S0,1),S0.m(fc,$m)):S0&&((0,y.dvw)(),(0,y.etI)(S0,1,1,function(){S0=null}),(0,y.gbL)());var Y1=ov;(ov=Z0(ev))===Y1?L0[ov].p(ev,C1):((0,y.dvw)(),(0,y.etI)(L0[Y1],1,1,function(){L0[Y1]=null}),(0,y.gbL)(),(cv=L0[ov])?cv.p(ev,C1):(cv=L0[ov]=G0[ov](ev)).c(),(0,y.Ui)(cv,1),cv.m(Qm,null)),ev[15].footer?r1?(r1.p(ev,C1),32768&C1[0]&&(0,y.Ui)(r1,1)):((r1=My(ev)).c(),(0,y.Ui)(r1,1),r1.m(fc,null)):r1&&((0,y.dvw)(),(0,y.etI)(r1,1,1,function(){r1=null}),(0,y.gbL)()),ev[1]?u1?u1.p(ev,C1):((u1=Ly(ev)).c(),u1.m(Ym,null)):u1&&(u1.d(1),u1=null)},i:function(g1){Wv||((0,y.Ui)(S0),(0,y.Ui)(cv),(0,y.Ui)(r1),Wv=!0)},o:function(g1){(0,y.etI)(S0),(0,y.etI)(cv),(0,y.etI)(r1),Wv=!1},d:function(g1){g1&&(0,y.ogt)(Ym),S0&&S0.d(),L0[ov].d(),ev[27](null),r1&&r1.d(),ev[29](null),u1&&u1.d(),ev[30](null),Xv=!1,(0,y.j7q)($0)}}}function Fy(ev,Ym,fc){var $m,Qm,ov,cv,bv,Lv,Wv,Xv=Ym.$$slots,$0=Xv===void 0?{}:Xv,S0=Ym.$$scope,G0=(0,y.XGm)($0),L0=this&&this.__awaiter||function($1,ly,ay,cy){return new(ay||(ay=Promise))(function(xy,By){function Eb(Ky){try{vb(cy.next(Ky))}catch(fb){By(fb)}}function gb(Ky){try{vb(cy.throw(Ky))}catch(fb){By(fb)}}function vb(Ky){var fb;Ky.done?xy(Ky.value):(fb=Ky.value,fb instanceof ay?fb:new ay(function(Gb){Gb(fb)})).then(Eb,gb)}vb((cy=cy.apply($1,ly||[])).next())})},Z0=Ym.items,r1=Ym.itemKey,u1=r1===void 0?void 0:r1,g1=Ym.itemHeight,C1=g1===void 0?void 0:g1,Y1=Ym.buffer,R1=Y1===void 0?200:Y1,hy=Ym.stickToBottom,my=hy!==void 0&&hy,by=Ym.scrollbar,F1=by!==void 0&&by,U1=Ym.start,wy=U1===void 0?0:U1,Yy=Ym.end,Ey=Yy===void 0?0:Yy,gy=0,iy=0,S1=0,M1=0,Ay=100,b1=0,B1=[],uy=[],L1=[],dy=_1(),Vy=function(){return Math.max(0,M1+gy+iy-S1)},jy=!0,Xy=!1,Oy=[],pb=!1,Zy=!1,mb=Gy(),zy=function($1,ly){var ay;(0,k.H3)(function(){var cy=$1();if(cy){ly(cy.getBoundingClientRect().height),ay&&ay.disconnect();var xy=Wy();(ay=new xy(function(By){var Eb=By[0];ly(Eb.contentRect.height)})).observe(cy)}else ly(0),ay&&(ay.disconnect(),ay=null)}),(0,k.ev)(function(){ay&&(ay.disconnect(),ay=null)})},wb=function(){var $1=Lv.getPosition(),ly=100/(M1+gy+iy);fc(8,b1=$1*ly),fc(7,Ay=S1*ly)},qy=function($1){var ly=Vy();($1||Lv.getPosition()>ly)&&Lv.updatePosition(ly)},Lb=function($1){(function(ly,ay,cy){for(var xy=new Map,By=0;By<Oy.length;By+=1){var Eb=Oy[By],gb=u1===void 0?Eb:Eb[u1];xy.set(gb,B1[By])}fc(9,uy.length=B1.length=ly.length,uy);for(var vb=0,Ky=0;Ky<ly.length;Ky+=1){var fb=ly[Ky],Gb=u1===void 0?fb:fb[u1];xy.has(Gb)?B1[Ky]=xy.get(Gb):B1[Ky]=cy,fc(9,uy[Ky]=vb,uy),vb+=B1[Ky]}M1=Math.max(vb,ay-gy-iy),Oy=ly,mb?(Ub(ly,Lv.getPosition(),ay),fc(6,bv.style.height=M1+"px",bv),qy(jy&&my),wb()):Ub(ly,0,9e6)})($1,S1,C1)};function Ub($1,ly,ay){for(var cy=0,xy=0;cy<$1.length&&xy+B1[cy]<ly-R1;)xy+=B1[cy],cy+=1;for(fc(16,wy=cy);cy<$1.length&&ay&&xy<ly+ay+R1;)xy+=B1[cy],cy+=1;fc(17,Ey=cy),fc(10,L1=dy($1.length,wy,Ey))}var s_=function($1,ly){return L0(void 0,void 0,void 0,oy().mark(function ay(){var cy,xy,By,Eb;return oy().wrap(function(gb){for(;;)switch(gb.prev=gb.next){case 0:if(B1[$1]!==ly&&S1!==0){gb.next=2;break}return gb.abrupt("return");case 2:for(cy=B1[$1],B1[$1]=ly,xy=Z0.length,By=$1;By<xy-1;By+=1)fc(9,uy[By+1]=uy[By]+B1[By],uy);return M1=Math.max(uy[xy-1]+B1[xy-1],S1-gy-iy),Eb=Lv.getPosition(),Xy=!0,uy[$1]+cy<Eb?Lv.updatePosition(Eb+ly-cy):qy(jy&&my),gb.next=12,new Promise(function(vb){return setTimeout(vb,0)});case 12:Ub(Z0,Lv.getPosition(),S1),fc(6,bv.style.height=M1+"px",bv),wb();case 15:case"end":return gb.stop()}},ay)}))};(0,k.H3)(function(){fc(23,pb=!0),f1.use()}),(0,k.ev)(function(){f1.unuse()}),mb&&(mb&&(Lv=Lv||new C0(Vy,function($1){return L0(void 0,void 0,void 0,oy().mark(function ly(){var ay;return oy().wrap(function(cy){for(;;)switch(cy.prev=cy.next){case 0:if(ay=Vy(),jy=Math.abs($1-ay)<=1,fc(5,cv.style.transform="translateY("+-$1+"px) translateZ(0)",cv),wb(),!Xy){cy.next=8;break}Xy=!1,cy.next=11;break;case 8:return cy.next=10,new Promise(function(xy){return setTimeout(xy,0)});case 10:Ub(Z0,$1,S1);case 11:case"end":return cy.stop()}},ly)}))}),fc(11,Wv=Wv||new F0(Lv))),!Zy&&mb&&(zy(function(){return ov},function($1){return L0(void 0,void 0,void 0,oy().mark(function ly(){var ay,cy;return oy().wrap(function(xy){for(;;)switch(xy.prev=xy.next){case 0:if(S1!==$1){xy.next=2;break}return xy.abrupt("return");case 2:for(S1=$1,ay=0,cy=0;cy<Z0.length;cy+=1)ay+=B1[cy];return M1=Math.max(ay,S1-iy),fc(6,bv.style.height=M1+"px",bv),xy.next=9,new Promise(function(By){return setTimeout(By,0)});case 9:Lb(Z0),Ub(Z0,Lv.getPosition(),S1),S1!==0&&qy(jy&&my),wb();case 13:case"end":return xy.stop()}},ly)}))}),zy(function(){return Qm},function($1){if(iy!==$1){iy=$1;for(var ly=0,ay=0;ay<Z0.length;ay+=1)ly+=B1[ay];M1=Math.max(ly,S1-gy-iy),fc(6,bv.style.height=M1+"px",bv),S1!==0&&qy(jy&&my),wb()}}),zy(function(){return $m},function($1){gy!==$1&&(gy=$1,Lb(Z0),wb())})));var v_={scrollTo:function($1){if(mb){var ly=uy[Math.max(0,Math.min(Z0.length-1,$1))],ay=Math.min(Vy(),ly),cy=Math.min(Math.floor(500*Math.abs(Lv.getPosition()-ay)/2e3),500);Lv.scrollTo(ay,cy)}}};return ev.$$set=function($1){"items"in $1&&fc(0,Z0=$1.items),"itemKey"in $1&&fc(18,u1=$1.itemKey),"itemHeight"in $1&&fc(19,C1=$1.itemHeight),"buffer"in $1&&fc(20,R1=$1.buffer),"stickToBottom"in $1&&fc(21,my=$1.stickToBottom),"scrollbar"in $1&&fc(1,F1=$1.scrollbar),"start"in $1&&fc(16,wy=$1.start),"end"in $1&&fc(17,Ey=$1.end),"$$scope"in $1&&fc(31,S0=$1.$$scope)},ev.$$.update=function(){8388609&ev.$$.dirty[0]&&pb&&(mb||fc(4,ov.parentElement.style.height="auto",ov),Lb(Z0),Zy=!0)},[Z0,F1,$m,Qm,ov,cv,bv,Ay,b1,uy,L1,Wv,function(){},mb,s_,G0,wy,Ey,u1,C1,R1,my,v_,pb,$0,function($1){y.VnY[$1?"unshift":"push"](function(){fc(2,$m=$1)})},function($1,ly){return s_($1.index,ly)},function($1){y.VnY[$1?"unshift":"push"](function(){fc(6,bv=$1)})},function($1){y.VnY[$1?"unshift":"push"](function(){fc(3,Qm=$1)})},function($1){y.VnY[$1?"unshift":"push"](function(){fc(5,cv=$1)})},function($1){y.VnY[$1?"unshift":"push"](function(){fc(4,ov=$1),fc(23,pb),fc(13,mb),fc(0,Z0)})},S0]}var sb=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,Fy,Sy,y.N8,{items:0,itemKey:18,itemHeight:19,buffer:20,stickToBottom:21,scrollbar:1,start:16,end:17,handler:22},null,[-1,-1]),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"items",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({items:fc}),(0,y.yl1)()}},{key:"itemKey",get:function(){return this.$$.ctx[18]},set:function(fc){this.$$set({itemKey:fc}),(0,y.yl1)()}},{key:"itemHeight",get:function(){return this.$$.ctx[19]},set:function(fc){this.$$set({itemHeight:fc}),(0,y.yl1)()}},{key:"buffer",get:function(){return this.$$.ctx[20]},set:function(fc){this.$$set({buffer:fc}),(0,y.yl1)()}},{key:"stickToBottom",get:function(){return this.$$.ctx[21]},set:function(fc){this.$$set({stickToBottom:fc}),(0,y.yl1)()}},{key:"scrollbar",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({scrollbar:fc}),(0,y.yl1)()}},{key:"start",get:function(){return this.$$.ctx[16]},set:function(fc){this.$$set({start:fc}),(0,y.yl1)()}},{key:"end",get:function(){return this.$$.ctx[17]},set:function(fc){this.$$set({end:fc}),(0,y.yl1)()}},{key:"handler",get:function(){return this.$$.ctx[22]}}]),Ym}(y.f_C),cb=sb;function eb(ev){var Ym;return{c:function(){(Ym=(0,y.bGB)("div")).textContent="Empty",(0,y.Ljt)(Ym,"slot","empty"),(0,y.Ljt)(Ym,"class","vc-plugin-empty")},m:function(fc,$m){(0,y.$Tr)(fc,Ym,$m)},p:y.ZTd,d:function(fc){fc&&(0,y.ogt)(Ym)}}}function Jy(ev){var Ym,fc;return(Ym=new ry({props:{slot:"item",log:ev[16],showTimestamps:ev[1],groupHeader:ev[16].groupHeader}})).$on("groupCollapsed",ev[6]),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:function($m,Qm){var ov={};65536&Qm&&(ov.log=$m[16]),2&Qm&&(ov.showTimestamps=$m[1]),65536&Qm&&(ov.groupHeader=$m[16].groupHeader),Ym.$set(ov)},i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function tb(ev){var Ym,fc;return(Ym=new O1.Z({})).$on("filterText",ev[5]),{c:function(){(0,y.YCL)(Ym.$$.fragment)},m:function($m,Qm){(0,y.yef)(Ym,$m,Qm),fc=!0},p:y.ZTd,i:function($m){fc||((0,y.Ui)(Ym.$$.fragment,$m),fc=!0)},o:function($m){(0,y.etI)(Ym.$$.fragment,$m),fc=!1},d:function($m){(0,y.vpE)(Ym,$m)}}}function ub(ev){var Ym,fc,$m=ev[0]&&tb(ev);return{c:function(){$m&&$m.c(),Ym=(0,y.cSb)()},m:function(Qm,ov){$m&&$m.m(Qm,ov),(0,y.$Tr)(Qm,Ym,ov),fc=!0},p:function(Qm,ov){Qm[0]?$m?($m.p(Qm,ov),1&ov&&(0,y.Ui)($m,1)):(($m=tb(Qm)).c(),(0,y.Ui)($m,1),$m.m(Ym.parentNode,Ym)):$m&&((0,y.dvw)(),(0,y.etI)($m,1,1,function(){$m=null}),(0,y.gbL)())},i:function(Qm){fc||((0,y.Ui)($m),fc=!0)},o:function(Qm){(0,y.etI)($m),fc=!1},d:function(Qm){$m&&$m.d(Qm),Qm&&(0,y.ogt)(Ym)}}}function yb(ev){var Ym,fc,$m,Qm;function ov(bv){ev[15](bv)}var cv={items:ev[4],itemKey:"_id",itemHeight:30,buffer:100,stickToBottom:!0,scrollbar:!0,$$slots:{footer:[ub],item:[Jy,function(bv){return{16:bv.item}},function(bv){return bv.item?65536:0}],empty:[eb]},$$scope:{ctx:ev}};return ev[3]!==void 0&&(cv.handler=ev[3]),fc=new cb({props:cv}),y.VnY.push(function(){return(0,y.akz)(fc,"handler",ov)}),{c:function(){Ym=(0,y.bGB)("div"),(0,y.YCL)(fc.$$.fragment),(0,y.Ljt)(Ym,"class","vc-plugin-content"),(0,y.VHj)(Ym,"vc-logs-has-cmd",ev[0])},m:function(bv,Lv){(0,y.$Tr)(bv,Ym,Lv),(0,y.yef)(fc,Ym,null),Qm=!0},p:function(bv,Lv){var Wv=Lv[0],Xv={};16&Wv&&(Xv.items=bv[4]),196611&Wv&&(Xv.$$scope={dirty:Wv,ctx:bv}),!$m&&8&Wv&&($m=!0,Xv.handler=bv[3],(0,y.hjT)(function(){return $m=!1})),fc.$set(Xv),1&Wv&&(0,y.VHj)(Ym,"vc-logs-has-cmd",bv[0])},i:function(bv){Qm||((0,y.Ui)(fc.$$.fragment,bv),Qm=!0)},o:function(bv){(0,y.etI)(fc.$$.fragment,bv),Qm=!1},d:function(bv){bv&&(0,y.ogt)(Ym),(0,y.vpE)(fc)}}}function xb(ev,Ym,fc){var $m,Qm=y.ZTd;ev.$$.on_destroy.push(function(){return Qm()});var ov,cv,bv=Ym.pluginId,Lv=bv===void 0?"default":bv,Wv=Ym.showCmd,Xv=Wv!==void 0&&Wv,$0=Ym.filterType,S0=$0===void 0?"all":$0,G0=Ym.showTimestamps,L0=G0!==void 0&&G0,Z0=!1,r1="",u1=[];return(0,k.H3)(function(){kb.use()}),(0,k.ev)(function(){kb.unuse()}),ev.$$set=function(g1){"pluginId"in g1&&fc(7,Lv=g1.pluginId),"showCmd"in g1&&fc(0,Xv=g1.showCmd),"filterType"in g1&&fc(8,S0=g1.filterType),"showTimestamps"in g1&&fc(1,L0=g1.showTimestamps)},ev.$$.update=function(){29056&ev.$$.dirty&&(Z0||(fc(2,ov=Yv.O.get(Lv)),Qm(),Qm=(0,y.LdU)(ov,function(g1){return fc(14,$m=g1)}),fc(12,Z0=!0)),fc(4,u1=$m.logList.filter(function(g1){return(S0==="all"||S0===g1.type)&&(r1===""||(0,Fv.HX)(g1,r1))&&!g1.groupCollapsed})))},[Xv,L0,ov,cv,u1,function(g1){fc(13,r1=g1.detail.filterText||"")},function(g1){var C1=g1.detail.groupLabel,Y1=g1.detail.groupHeader,R1=g1.detail.isGroupCollapsed;ov.update(function(hy){return hy.logList.forEach(function(my){my.groupLabel===C1&&(my.groupHeader>0?my.groupHeader=Y1:my.groupCollapsed=R1)}),hy})},Lv,S0,function(){cv.scrollTo(0)},function(){cv.scrollTo(u1.length-1)},{fixedHeight:!0},Z0,r1,$m,function(g1){fc(3,cv=g1)}]}var bb=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,xb,yb,y.N8,{pluginId:7,showCmd:0,filterType:8,showTimestamps:1,scrollToTop:9,scrollToBottom:10,options:11}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"pluginId",get:function(){return this.$$.ctx[7]},set:function(fc){this.$$set({pluginId:fc}),(0,y.yl1)()}},{key:"showCmd",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({showCmd:fc}),(0,y.yl1)()}},{key:"filterType",get:function(){return this.$$.ctx[8]},set:function(fc){this.$$set({filterType:fc}),(0,y.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[1]},set:function(fc){this.$$set({showTimestamps:fc}),(0,y.yl1)()}},{key:"scrollToTop",get:function(){return this.$$.ctx[9]}},{key:"scrollToBottom",get:function(){return this.$$.ctx[10]}},{key:"options",get:function(){return this.$$.ctx[11]}}]),Ym}(y.f_C),_b=bb,lb=__webpack_require__(5629),Tb=function(){function ev(Ym){this.model=void 0,this.pluginId=void 0,this.pluginId=Ym}return ev.prototype.destroy=function(){this.model=void 0},ev}(),Hb=function(ev){function Ym(){for(var $m,Qm=arguments.length,ov=new Array(Qm),cv=0;cv<Qm;cv++)ov[cv]=arguments[cv];return($m=ev.call.apply(ev,[this].concat(ov))||this).model=lb.W.getSingleton(lb.W,"VConsoleLogModel"),$m}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.log=function(){for(var $m=arguments.length,Qm=new Array($m),ov=0;ov<$m;ov++)Qm[ov]=arguments[ov];this.addLog.apply(this,["log"].concat(Qm))},fc.info=function(){for(var $m=arguments.length,Qm=new Array($m),ov=0;ov<$m;ov++)Qm[ov]=arguments[ov];this.addLog.apply(this,["info"].concat(Qm))},fc.debug=function(){for(var $m=arguments.length,Qm=new Array($m),ov=0;ov<$m;ov++)Qm[ov]=arguments[ov];this.addLog.apply(this,["debug"].concat(Qm))},fc.warn=function(){for(var $m=arguments.length,Qm=new Array($m),ov=0;ov<$m;ov++)Qm[ov]=arguments[ov];this.addLog.apply(this,["warn"].concat(Qm))},fc.error=function(){for(var $m=arguments.length,Qm=new Array($m),ov=0;ov<$m;ov++)Qm[ov]=arguments[ov];this.addLog.apply(this,["error"].concat(Qm))},fc.clear=function(){this.model&&this.model.clearPluginLog(this.pluginId)},fc.addLog=function($m){if(this.model){for(var Qm=arguments.length,ov=new Array(Qm>1?Qm-1:0),cv=1;cv<Qm;cv++)ov[cv-1]=arguments[cv];ov.unshift("["+this.pluginId+"]"),this.model.addLog({type:$m,origData:ov},{noOrig:!0})}},Ym}(Tb),Mb=function(ev){function Ym($m,Qm){var ov;return(ov=ev.call(this,$m,Qm,_b,{pluginId:$m,filterType:"all"})||this).model=lb.W.getSingleton(lb.W,"VConsoleLogModel"),ov.isReady=!1,ov.isShow=!1,ov.isInBottom=!0,ov.model.bindPlugin($m),ov.exporter=new Hb($m),ov}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.onReady=function(){var $m,Qm;ev.prototype.onReady.call(this),this.model.maxLogNumber=Number(($m=this.vConsole.option.log)==null?void 0:$m.maxLogNumber)||1e3,this.compInstance.showTimestamps=!((Qm=this.vConsole.option.log)==null||!Qm.showTimestamps)},fc.onRemove=function(){ev.prototype.onRemove.call(this),this.model.unbindPlugin(this.id)},fc.onAddTopBar=function($m){for(var Qm=this,ov=["All","Log","Info","Warn","Error"],cv=[],bv=0;bv<ov.length;bv++)cv.push({name:ov[bv],data:{type:ov[bv].toLowerCase()},actived:bv===0,className:"",onClick:function(Lv,Wv){if(Wv.type===Qm.compInstance.filterType)return!1;Qm.compInstance.filterType=Wv.type}});cv[0].className="vc-actived",$m(cv)},fc.onAddTool=function($m){var Qm=this;$m([{name:"Clear",global:!1,onClick:function(ov){Qm.model.clearPluginLog(Qm.id),Qm.vConsole.triggerEvent("clearLog")}},{name:"Top",global:!1,onClick:function(ov){Qm.compInstance.scrollToTop()}},{name:"Bottom",global:!1,onClick:function(ov){Qm.compInstance.scrollToBottom()}}])},fc.onUpdateOption=function(){var $m,Qm,ov,cv;(($m=this.vConsole.option.log)==null?void 0:$m.maxLogNumber)!==this.model.maxLogNumber&&(this.model.maxLogNumber=Number((ov=this.vConsole.option.log)==null?void 0:ov.maxLogNumber)||1e3),!((Qm=this.vConsole.option.log)==null||!Qm.showTimestamps)!==this.compInstance.showTimestamps&&(this.compInstance.showTimestamps=!((cv=this.vConsole.option.log)==null||!cv.showTimestamps))},Ym}(zv),S_=function(ev){function Ym(){for(var $m,Qm=arguments.length,ov=new Array(Qm),cv=0;cv<Qm;cv++)ov[cv]=arguments[cv];return($m=ev.call.apply(ev,[this].concat(ov))||this).onErrorHandler=void 0,$m.resourceErrorHandler=void 0,$m.rejectionHandler=void 0,$m}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.onReady=function(){ev.prototype.onReady.call(this),this.bindErrors(),this.compInstance.showCmd=!0},fc.onRemove=function(){ev.prototype.onRemove.call(this),this.unbindErrors()},fc.bindErrors=function(){e.FJ(window)&&e.mf(window.addEventListener)&&(this.catchWindowOnError(),this.catchResourceError(),this.catchUnhandledRejection())},fc.unbindErrors=function(){e.FJ(window)&&e.mf(window.addEventListener)&&(window.removeEventListener("error",this.onErrorHandler),window.removeEventListener("error",this.resourceErrorHandler),window.removeEventListener("unhandledrejection",this.rejectionHandler))},fc.catchWindowOnError=function(){var $m=this;this.onErrorHandler=this.onErrorHandler?this.onErrorHandler:function(Qm){var ov=Qm.message;Qm.filename&&(ov+="\\n\\t"+Qm.filename.replace(location.origin,""),(Qm.lineno||Qm.colno)&&(ov+=":"+Qm.lineno+":"+Qm.colno)),ov+="\\n"+(!!Qm.error&&!!Qm.error.stack&&Qm.error.stack.toString()||""),$m.model.addLog({type:"error",origData:[ov]},{noOrig:!0})},window.removeEventListener("error",this.onErrorHandler),window.addEventListener("error",this.onErrorHandler)},fc.catchResourceError=function(){var $m=this;this.resourceErrorHandler=this.resourceErrorHandler?this.resourceErrorHandler:function(Qm){var ov=Qm.target;if(["link","video","script","img","audio"].indexOf(ov.localName)>-1){var cv=ov.href||ov.src||ov.currentSrc;$m.model.addLog({type:"error",origData:["GET <"+ov.localName+"> error: "+cv]},{noOrig:!0})}},window.removeEventListener("error",this.resourceErrorHandler),window.addEventListener("error",this.resourceErrorHandler,!0)},fc.catchUnhandledRejection=function(){var $m=this;this.rejectionHandler=this.rejectionHandler?this.rejectionHandler:function(Qm){var ov=Qm&&Qm.reason,cv="Uncaught (in promise) ",bv=[cv,ov];ov instanceof Error&&(bv=[cv,{name:ov.name,message:ov.message,stack:ov.stack}]),$m.model.addLog({type:"error",origData:bv},{noOrig:!0})},window.removeEventListener("unhandledrejection",this.rejectionHandler),window.addEventListener("unhandledrejection",this.rejectionHandler)},Ym}(Mb),Jb=function(ev){function Ym(){return ev.apply(this,arguments)||this}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.onReady=function(){ev.prototype.onReady.call(this),this.printSystemInfo()},fc.printSystemInfo=function(){var $m=navigator.userAgent,Qm=[],ov=$m.match(/MicroMessenger\/([\d\.]+)/i),cv=ov&&ov[1]?ov[1]:null;location.host==="servicewechat.com"||console.info("[system]","Location:",location.href);var bv=$m.match(/(ipod).*\s([\d_]+)/i),Lv=$m.match(/(ipad).*\s([\d_]+)/i),Wv=$m.match(/(iphone)\sos\s([\d_]+)/i),Xv=$m.match(/(android)\s([\d\.]+)/i),$0=$m.match(/(Mac OS X)\s([\d_]+)/i);Qm=[],Xv?Qm.push("Android "+Xv[2]):Wv?Qm.push("iPhone, iOS "+Wv[2].replace(/_/g,".")):Lv?Qm.push("iPad, iOS "+Lv[2].replace(/_/g,".")):bv?Qm.push("iPod, iOS "+bv[2].replace(/_/g,".")):$0&&Qm.push("Mac, MacOS "+$0[2].replace(/_/g,".")),cv&&Qm.push("WeChat "+cv),console.info("[system]","Client:",Qm.length?Qm.join(", "):"Unknown");var S0=$m.toLowerCase().match(/ nettype\/([^ ]+)/g);S0&&S0[0]&&(Qm=[(S0=S0[0].split("/"))[1]],console.info("[system]","Network:",Qm.length?Qm.join(", "):"Unknown")),console.info("[system]","UA:",$m),setTimeout(function(){var G0=window.performance||window.msPerformance||window.webkitPerformance;if(G0&&G0.timing){var L0=G0.timing;L0.navigationStart&&console.info("[system]","navigationStart:",L0.navigationStart),L0.navigationStart&&L0.domainLookupStart&&console.info("[system]","navigation:",L0.domainLookupStart-L0.navigationStart+"ms"),L0.domainLookupEnd&&L0.domainLookupStart&&console.info("[system]","dns:",L0.domainLookupEnd-L0.domainLookupStart+"ms"),L0.connectEnd&&L0.connectStart&&(L0.connectEnd&&L0.secureConnectionStart?console.info("[system]","tcp (ssl):",L0.connectEnd-L0.connectStart+"ms ("+(L0.connectEnd-L0.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",L0.connectEnd-L0.connectStart+"ms")),L0.responseStart&&L0.requestStart&&console.info("[system]","request:",L0.responseStart-L0.requestStart+"ms"),L0.responseEnd&&L0.responseStart&&console.info("[system]","response:",L0.responseEnd-L0.responseStart+"ms"),L0.domComplete&&L0.domLoading&&(L0.domContentLoadedEventStart&&L0.domLoading?console.info("[system]","domComplete (domLoaded):",L0.domComplete-L0.domLoading+"ms ("+(L0.domContentLoadedEventStart-L0.domLoading)+"ms)"):console.info("[system]","domComplete:",L0.domComplete-L0.domLoading+"ms")),L0.loadEventEnd&&L0.loadEventStart&&console.info("[system]","loadEvent:",L0.loadEventEnd-L0.loadEventStart+"ms"),L0.navigationStart&&L0.loadEventEnd&&console.info("[system]","total (DOM):",L0.loadEventEnd-L0.navigationStart+"ms ("+(L0.domComplete-L0.navigationStart)+"ms)")}},0)},Ym}(Mb),Ry=__webpack_require__(3313),c_=__webpack_require__(643);function u_(ev,Ym){var fc=typeof Symbol<"u"&&ev[Symbol.iterator]||ev["@@iterator"];if(fc)return(fc=fc.call(ev)).next.bind(fc);if(Array.isArray(ev)||(fc=function(Qm,ov){if(Qm){if(typeof Qm=="string")return Db(Qm,ov);var cv=Object.prototype.toString.call(Qm).slice(8,-1);if(cv==="Object"&&Qm.constructor&&(cv=Qm.constructor.name),cv==="Map"||cv==="Set")return Array.from(Qm);if(cv==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cv))return Db(Qm,ov)}}(ev))||Ym){fc&&(ev=fc);var $m=0;return function(){return $m>=ev.length?{done:!0}:{done:!1,value:ev[$m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Db(ev,Ym){(Ym==null||Ym>ev.length)&&(Ym=ev.length);for(var fc=0,$m=new Array(Ym);fc<Ym;fc++)$m[fc]=ev[fc];return $m}var x_=function(ev,Ym){Ym===void 0&&(Ym={}),e.Kn(Ym)||(Ym={});var fc=ev?ev.split("?"):[];if(fc.shift(),fc.length>0)for(var $m,Qm=u_(fc=fc.join("?").split("&"));!($m=Qm()).done;){var ov=$m.value.split("=");try{Ym[ov[0]]=decodeURIComponent(ov[1])}catch{Ym[ov[0]]=ov[1]}}return Ym},Fb=function(ev,Ym){var fc="";switch(ev){case"":case"text":case"json":if(e.HD(Ym))try{fc=JSON.parse(Ym),fc=e.hZ(fc,{maxDepth:10,keyMaxLen:1e4,pretty:!0,standardJSON:!0})}catch{fc=e.id(String(Ym),1e4)}else e.Kn(Ym)||e.kJ(Ym)?fc=e.hZ(Ym,{maxDepth:10,keyMaxLen:1e4,pretty:!0,standardJSON:!0}):Ym!==void 0&&(fc=Object.prototype.toString.call(Ym));break;default:Ym!==void 0&&(fc=Object.prototype.toString.call(Ym))}return fc},d_=function(ev){if(!ev)return null;var Ym=null;if(typeof ev=="string")try{Ym=JSON.parse(ev)}catch{var fc=ev.split("&");if(fc.length===1)Ym=ev;else{Ym={};for(var $m,Qm=u_(fc);!($m=Qm()).done;){var ov=$m.value.split("=");Ym[ov[0]]=ov[1]===void 0?"undefined":ov[1]}}}else if(e.TW(ev)){Ym={};for(var cv,bv=u_(ev);!(cv=bv()).done;){var Lv=cv.value,Wv=Lv[0],Xv=Lv[1];Ym[Wv]=typeof Xv=="string"?Xv:"[object Object]"}}else e.PO(ev)?Ym=ev:Ym="[object "+e.zl(ev)+"]";return Ym},Qb=function(ev){return ev===void 0&&(ev=""),ev.startsWith("//")&&(ev=""+new URL(window.location.href).protocol+ev),ev.startsWith("http")?new URL(ev):new URL(ev,window.location.href)},Vb=function(){this.id="",this.name="",this.method="",this.url="",this.status=0,this.statusText="",this.cancelState=0,this.readyState=0,this.header=null,this.responseType="",this.requestType=void 0,this.requestHeader=null,this.response=void 0,this.responseSize=0,this.responseSizeText="",this.startTime=0,this.startTimeText="",this.endTime=0,this.costTime=0,this.getData=null,this.postData=null,this.actived=!1,this.noVConsole=!1,this.id=(0,e.QI)()},e_=function(ev){function Ym(fc){var $m;return($m=ev.call(this)||this)._response=void 0,new Proxy(fc,Ym.Handler)||(0,g.Z)($m)}return(0,$.Z)(Ym,ev),Ym}(Vb);e_.Handler={get:function(ev,Ym){return Ym==="response"?ev._response:Reflect.get(ev,Ym)},set:function(ev,Ym,fc){var $m;switch(Ym){case"response":return ev._response=Fb(ev.responseType,fc),!0;case"url":var Qm=(($m=fc=String(fc))==null?void 0:$m.replace(new RegExp("[/]*$"),"").split("/").pop())||"Unknown";Reflect.set(ev,"name",Qm);var ov=x_(fc,ev.getData);Reflect.set(ev,"getData",ov);break;case"status":var cv=String(fc)||"Unknown";Reflect.set(ev,"statusText",cv);break;case"startTime":if(fc&&ev.endTime){var bv=ev.endTime-fc;Reflect.set(ev,"costTime",bv)}break;case"endTime":if(fc&&ev.startTime){var Lv=fc-ev.startTime;Reflect.set(ev,"costTime",Lv)}}return Reflect.set(ev,Ym,fc)}};var T_=function(){function ev(fc,$m){var Qm=this;this.XMLReq=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.XMLReq=fc,this.XMLReq.onreadystatechange=function(){Qm.onReadyStateChange()},this.XMLReq.onabort=function(){Qm.onAbort()},this.XMLReq.ontimeout=function(){Qm.onTimeout()},this.item=new Vb,this.item.requestType="xhr",this.onUpdateCallback=$m}var Ym=ev.prototype;return Ym.get=function(fc,$m){switch($m){case"_noVConsole":return this.item.noVConsole;case"open":return this.getOpen(fc);case"send":return this.getSend(fc);case"setRequestHeader":return this.getSetRequestHeader(fc);default:var Qm=Reflect.get(fc,$m);return typeof Qm=="function"?Qm.bind(fc):Qm}},Ym.set=function(fc,$m,Qm){switch($m){case"_noVConsole":return void(this.item.noVConsole=!!Qm);case"onreadystatechange":return this.setOnReadyStateChange(fc,$m,Qm);case"onabort":return this.setOnAbort(fc,$m,Qm);case"ontimeout":return this.setOnTimeout(fc,$m,Qm)}return Reflect.set(fc,$m,Qm)},Ym.onReadyStateChange=function(){this.item.readyState=this.XMLReq.readyState,this.item.responseType=this.XMLReq.responseType,this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-this.item.startTime,this.updateItemByReadyState(),this.item.response=Fb(this.item.responseType,this.item.response),this.triggerUpdate()},Ym.onAbort=function(){this.item.cancelState=1,this.item.statusText="Abort",this.triggerUpdate()},Ym.onTimeout=function(){this.item.cancelState=3,this.item.statusText="Timeout",this.triggerUpdate()},Ym.triggerUpdate=function(){this.item.noVConsole||this.onUpdateCallback(this.item)},Ym.getOpen=function(fc){var $m=this,Qm=Reflect.get(fc,"open");return function(){for(var ov=arguments.length,cv=new Array(ov),bv=0;bv<ov;bv++)cv[bv]=arguments[bv];var Lv=cv[0],Wv=cv[1];return $m.item.method=Lv?Lv.toUpperCase():"GET",$m.item.url=Wv||"",$m.item.name=$m.item.url.replace(new RegExp("[/]*$"),"").split("/").pop()||"",$m.item.getData=x_($m.item.url,{}),$m.triggerUpdate(),Qm.apply(fc,cv)}},Ym.getSend=function(fc){var $m=this,Qm=Reflect.get(fc,"send");return function(){for(var ov=arguments.length,cv=new Array(ov),bv=0;bv<ov;bv++)cv[bv]=arguments[bv];var Lv=cv[0];return $m.item.postData=d_(Lv),$m.triggerUpdate(),Qm.apply(fc,cv)}},Ym.getSetRequestHeader=function(fc){var $m=this,Qm=Reflect.get(fc,"setRequestHeader");return function(){$m.item.requestHeader||($m.item.requestHeader={});for(var ov=arguments.length,cv=new Array(ov),bv=0;bv<ov;bv++)cv[bv]=arguments[bv];return $m.item.requestHeader[cv[0]]=cv[1],$m.triggerUpdate(),Qm.apply(fc,cv)}},Ym.setOnReadyStateChange=function(fc,$m,Qm){var ov=this;return Reflect.set(fc,$m,function(){ov.onReadyStateChange();for(var cv=arguments.length,bv=new Array(cv),Lv=0;Lv<cv;Lv++)bv[Lv]=arguments[Lv];Qm.apply(fc,bv)})},Ym.setOnAbort=function(fc,$m,Qm){var ov=this;return Reflect.set(fc,$m,function(){ov.onAbort();for(var cv=arguments.length,bv=new Array(cv),Lv=0;Lv<cv;Lv++)bv[Lv]=arguments[Lv];Qm.apply(fc,bv)})},Ym.setOnTimeout=function(fc,$m,Qm){var ov=this;return Reflect.set(fc,$m,function(){ov.onTimeout();for(var cv=arguments.length,bv=new Array(cv),Lv=0;Lv<cv;Lv++)bv[Lv]=arguments[Lv];Qm.apply(fc,bv)})},Ym.updateItemByReadyState=function(){switch(this.XMLReq.readyState){case 0:case 1:if(this.item.status=0,this.item.statusText="Pending",!this.item.startTime){this.item.startTime=Date.now();var fc=(0,e._3)(this.item.startTime);this.item.startTimeText=fc.year+"-"+fc.month+"-"+fc.day+" "+fc.hour+":"+fc.minute+":"+fc.second+"."+fc.millisecond}break;case 2:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.item.header={};for(var $m=(this.XMLReq.getAllResponseHeaders()||"").split(`
`),Qm=0;Qm<$m.length;Qm++){var ov=$m[Qm];if(ov){var cv=ov.split(": "),bv=cv[0],Lv=cv.slice(1).join(": ");this.item.header[bv]=Lv}}break;case 3:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,e.KL)(this.item.responseSize));break;case 4:this.item.status=this.XMLReq.status||this.item.status||0,this.item.statusText=String(this.item.status),this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-(this.item.startTime||this.item.endTime),this.item.response=this.XMLReq.response,this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,e.KL)(this.item.responseSize));break;default:this.item.status=this.XMLReq.status,this.item.statusText="Unknown"}},ev}(),f_=function(){function ev(){}return ev.create=function(Ym){return new Proxy(XMLHttpRequest,{construct:function(fc){var $m=new fc;return new Proxy($m,new T_($m,Ym))}})},ev}();function t_(ev,Ym){var fc=typeof Symbol<"u"&&ev[Symbol.iterator]||ev["@@iterator"];if(fc)return(fc=fc.call(ev)).next.bind(fc);if(Array.isArray(ev)||(fc=function(Qm,ov){if(Qm){if(typeof Qm=="string")return n_(Qm,ov);var cv=Object.prototype.toString.call(Qm).slice(8,-1);if(cv==="Object"&&Qm.constructor&&(cv=Qm.constructor.name),cv==="Map"||cv==="Set")return Array.from(Qm);if(cv==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cv))return n_(Qm,ov)}}(ev))||Ym){fc&&(ev=fc);var $m=0;return function(){return $m>=ev.length?{done:!0}:{done:!1,value:ev[$m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n_(ev,Ym){(Ym==null||Ym>ev.length)&&(Ym=ev.length);for(var fc=0,$m=new Array(Ym);fc<Ym;fc++)$m[fc]=ev[fc];return $m}f_.origXMLHttpRequest=XMLHttpRequest;var Ab=function(){function ev(fc,$m,Qm){this.resp=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.resp=fc,this.item=$m,this.onUpdateCallback=Qm,this.mockReader()}var Ym=ev.prototype;return Ym.set=function(fc,$m,Qm){return Reflect.set(fc,$m,Qm)},Ym.get=function(fc,$m){var Qm=this,ov=Reflect.get(fc,$m);switch($m){case"arrayBuffer":case"blob":case"formData":case"json":case"text":return function(){return Qm.item.responseType=$m.toLowerCase(),ov.apply(fc).then(function(cv){return Qm.item.response=Fb(Qm.item.responseType,cv),Qm.onUpdateCallback(Qm.item),cv})}}return typeof ov=="function"?ov.bind(fc):ov},Ym.mockReader=function(){var fc,$m=this;if(this.resp.body&&typeof this.resp.body.getReader=="function"){var Qm=this.resp.body.getReader;this.resp.body.getReader=function(){var ov=Qm.apply($m.resp.body);if($m.item.readyState===4)return ov;var cv=ov.read,bv=ov.cancel;return $m.item.responseType="arraybuffer",ov.read=function(){return cv.apply(ov).then(function(Lv){if(fc){var Wv=new Uint8Array(fc.length+Lv.value.length);Wv.set(fc),Wv.set(Lv.value,fc.length),fc=Wv}else fc=new Uint8Array(Lv.value);return $m.item.endTime=Date.now(),$m.item.costTime=$m.item.endTime-($m.item.startTime||$m.item.endTime),$m.item.readyState=Lv.done?4:3,$m.item.statusText=Lv.done?String($m.item.status):"Loading",$m.item.responseSize=fc.length,$m.item.responseSizeText=e.KL($m.item.responseSize),Lv.done&&($m.item.response=Fb($m.item.responseType,fc)),$m.onUpdateCallback($m.item),Lv})},ov.cancel=function(){$m.item.cancelState=2,$m.item.statusText="Cancel",$m.item.endTime=Date.now(),$m.item.costTime=$m.item.endTime-($m.item.startTime||$m.item.endTime),$m.item.response=Fb($m.item.responseType,fc),$m.onUpdateCallback($m.item);for(var Lv=arguments.length,Wv=new Array(Lv),Xv=0;Xv<Lv;Xv++)Wv[Xv]=arguments[Xv];return bv.apply(ov,Wv)},ov}}},ev}(),zb=function(){function ev(fc){this.onUpdateCallback=void 0,this.onUpdateCallback=fc}var Ym=ev.prototype;return Ym.apply=function(fc,$m,Qm){var ov=this,cv=Qm[0],bv=Qm[1],Lv=new Vb;return this.beforeFetch(Lv,cv,bv),fc.apply(window,Qm).then(this.afterFetch(Lv)).catch(function(Wv){throw Lv.endTime=Date.now(),Lv.costTime=Lv.endTime-(Lv.startTime||Lv.endTime),ov.onUpdateCallback(Lv),Wv})},Ym.beforeFetch=function(fc,$m,Qm){var ov,cv="GET",bv=null;if(e.HD($m)?(cv=(Qm==null?void 0:Qm.method)||"GET",ov=Qb($m),bv=(Qm==null?void 0:Qm.headers)||null):(cv=$m.method||"GET",ov=Qb($m.url),bv=$m.headers),fc.method=cv,fc.requestType="fetch",fc.requestHeader=bv,fc.url=ov.toString(),fc.name=(ov.pathname.split("/").pop()||"")+ov.search,fc.status=0,fc.statusText="Pending",fc.readyState=1,!fc.startTime){fc.startTime=Date.now();var Lv=e._3(fc.startTime);fc.startTimeText=Lv.year+"-"+Lv.month+"-"+Lv.day+" "+Lv.hour+":"+Lv.minute+":"+Lv.second+"."+Lv.millisecond}if(Object.prototype.toString.call(bv)==="[object Headers]"){fc.requestHeader={};for(var Wv,Xv=t_(bv);!(Wv=Xv()).done;){var $0=Wv.value,S0=$0[0],G0=$0[1];fc.requestHeader[S0]=G0}}else fc.requestHeader=bv;if(ov.search&&ov.searchParams){fc.getData={};for(var L0,Z0=t_(ov.searchParams);!(L0=Z0()).done;){var r1=L0.value,u1=r1[0],g1=r1[1];fc.getData[u1]=g1}}Qm!=null&&Qm.body&&(fc.postData=d_(Qm.body)),this.onUpdateCallback(fc)},Ym.afterFetch=function(fc){var $m=this;return function(Qm){fc.endTime=Date.now(),fc.costTime=fc.endTime-(fc.startTime||fc.endTime),fc.status=Qm.status,fc.statusText=String(Qm.status);var ov=!1;fc.header={};for(var cv,bv=t_(Qm.headers);!(cv=bv()).done;){var Lv=cv.value,Wv=Lv[0],Xv=Lv[1];fc.header[Wv]=Xv,ov=Xv.toLowerCase().indexOf("chunked")>-1||ov}return ov?fc.readyState=3:(fc.readyState=4,$m.handleResponseBody(Qm.clone(),fc).then(function($0){fc.responseSize=typeof $0=="string"?$0.length:$0.byteLength,fc.responseSizeText=e.KL(fc.responseSize),fc.response=Fb(fc.responseType,$0),$m.onUpdateCallback(fc)})),$m.onUpdateCallback(fc),new Proxy(Qm,new Ab(Qm,fc,$m.onUpdateCallback))}},Ym.handleResponseBody=function(fc,$m){var Qm=fc.headers.get("content-type");return Qm&&Qm.includes("application/json")?($m.responseType="json",fc.text()):Qm&&(Qm.includes("text/html")||Qm.includes("text/plain"))?($m.responseType="text",fc.text()):($m.responseType="arraybuffer",fc.arrayBuffer())},ev}(),$b=function(){function ev(){}return ev.create=function(Ym){return new Proxy(fetch,new zb(Ym))},ev}();function q_(ev,Ym){var fc=typeof Symbol<"u"&&ev[Symbol.iterator]||ev["@@iterator"];if(fc)return(fc=fc.call(ev)).next.bind(fc);if(Array.isArray(ev)||(fc=function(Qm,ov){if(Qm){if(typeof Qm=="string")return $_(Qm,ov);var cv=Object.prototype.toString.call(Qm).slice(8,-1);if(cv==="Object"&&Qm.constructor&&(cv=Qm.constructor.name),cv==="Map"||cv==="Set")return Array.from(Qm);if(cv==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cv))return $_(Qm,ov)}}(ev))||Ym){fc&&(ev=fc);var $m=0;return function(){return $m>=ev.length?{done:!0}:{done:!1,value:ev[$m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_(ev,Ym){(Ym==null||Ym>ev.length)&&(Ym=ev.length);for(var fc=0,$m=new Array(Ym);fc<Ym;fc++)$m[fc]=ev[fc];return $m}$b.origFetch=fetch;var k_=function(ev){return ev instanceof Blob?ev.type:ev instanceof FormData?"multipart/form-data":ev instanceof URLSearchParams?"application/x-www-form-urlencoded;charset=UTF-8":"text/plain;charset=UTF-8"},X_=function(){function ev(Ym){this.onUpdateCallback=void 0,this.onUpdateCallback=Ym}return ev.prototype.apply=function(Ym,fc,$m){var Qm=$m[0],ov=$m[1],cv=new Vb,bv=Qb(Qm);if(cv.method="POST",cv.url=Qm,cv.name=(bv.pathname.split("/").pop()||"")+bv.search,cv.requestType="ping",cv.requestHeader={"Content-Type":k_(ov)},cv.status=0,cv.statusText="Pending",bv.search&&bv.searchParams){cv.getData={};for(var Lv,Wv=q_(bv.searchParams);!(Lv=Wv()).done;){var Xv=Lv.value,$0=Xv[0],S0=Xv[1];cv.getData[$0]=S0}}cv.postData=d_(ov),cv.startTime||(cv.startTime=Date.now()),this.onUpdateCallback(cv);var G0=Ym.apply(fc,$m);return G0?(cv.endTime=Date.now(),cv.costTime=cv.endTime-(cv.startTime||cv.endTime),cv.status=0,cv.statusText="Sent",cv.readyState=4):(cv.status=500,cv.statusText="Unknown"),this.onUpdateCallback(cv),G0},ev}(),r_=function(){function ev(){}return ev.create=function(Ym){return new Proxy(navigator.sendBeacon,new X_(Ym))},ev}();r_.origSendBeacon=navigator.sendBeacon;var Nb=(0,Ry.fZ)({}),o_=function(ev){function Ym(){var $m;return($m=ev.call(this)||this).maxNetworkNumber=1e3,$m.ignoreUrlRegExp=void 0,$m.itemCounter=0,$m.mockXHR(),$m.mockFetch(),$m.mockSendBeacon(),$m}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.unMock=function(){window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=f_.origXMLHttpRequest),window.hasOwnProperty("fetch")&&(window.fetch=$b.origFetch),window.navigator.sendBeacon&&(window.navigator.sendBeacon=r_.origSendBeacon)},fc.clearLog=function(){Nb.set({})},fc.updateRequest=function($m,Qm){var ov,cv=Qm.url;if(!cv||(ov=this.ignoreUrlRegExp)==null||!ov.test(cv)){var bv=(0,Ry.U2)(Nb),Lv=!!bv[$m];if(Lv){var Wv=bv[$m];for(var Xv in Qm)Wv[Xv]=Qm[Xv];Qm=Wv}Nb.update(function($0){return $0[$m]=Qm,$0}),Lv||(Jm.x.updateTime(),this.limitListLength())}},fc.mockXHR=function(){var $m=this;window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=f_.create(function(Qm){$m.updateRequest(Qm.id,Qm)}))},fc.mockFetch=function(){var $m=this;window.hasOwnProperty("fetch")&&(window.fetch=$b.create(function(Qm){$m.updateRequest(Qm.id,Qm)}))},fc.mockSendBeacon=function(){var $m,Qm,ov=this;($m=window)!=null&&(Qm=$m.navigator)!=null&&Qm.sendBeacon&&(window.navigator.sendBeacon=r_.create(function(cv){ov.updateRequest(cv.id,cv)}))},fc.limitListLength=function(){var $m=this;if(this.itemCounter++,this.itemCounter%10==0){this.itemCounter=0;var Qm=(0,Ry.U2)(Nb),ov=Object.keys(Qm);ov.length>this.maxNetworkNumber-10&&Nb.update(function(cv){for(var bv=ov.splice(0,ov.length-$m.maxNetworkNumber+10),Lv=0;Lv<bv.length;Lv++)cv[bv[Lv]]=void 0,delete cv[bv[Lv]];return cv})}},Ym}(c_.N),Yb=__webpack_require__(8747),Wb={};Yb.Z&&Yb.Z.locals&&(Wb.locals=Yb.Z.locals);var i_,h_=0,Ib={};Ib.styleTagTransform=tc(),Ib.setAttributes=hr(),Ib.insert=Oe().bind(null,"head"),Ib.domAPI=j(),Ib.insertStyleElement=dr(),Wb.use=function(ev){return Ib.options=ev||{},h_++||(i_=V()(Yb.Z,Ib)),Wb},Wb.unuse=function(){h_>0&&!--h_&&(i_(),i_=null)};var p_=Wb;function M_(ev,Ym,fc){var $m=ev.slice();return $m[11]=Ym[fc][0],$m[12]=Ym[fc][1],$m}function A_(ev,Ym,fc){var $m=ev.slice();return $m[11]=Ym[fc][0],$m[12]=Ym[fc][1],$m}function aw(ev,Ym,fc){var $m=ev.slice();return $m[11]=Ym[fc][0],$m[12]=Ym[fc][1],$m}function sw(ev,Ym,fc){var $m=ev.slice();return $m[11]=Ym[fc][0],$m[12]=Ym[fc][1],$m}function lw(ev){var Ym,fc,$m;return{c:function(){Ym=(0,y.fLW)("("),fc=(0,y.fLW)(ev[0]),$m=(0,y.fLW)(")")},m:function(Qm,ov){(0,y.$Tr)(Qm,Ym,ov),(0,y.$Tr)(Qm,fc,ov),(0,y.$Tr)(Qm,$m,ov)},p:function(Qm,ov){1&ov&&(0,y.rTO)(fc,Qm[0])},d:function(Qm){Qm&&(0,y.ogt)(Ym),Qm&&(0,y.ogt)(fc),Qm&&(0,y.ogt)($m)}}}function y2(ev){var Ym,fc,$m,Qm,ov,cv,bv=ev[0]>0&&lw(ev);return{c:function(){Ym=(0,y.bGB)("dl"),fc=(0,y.bGB)("dd"),$m=(0,y.fLW)("Name "),bv&&bv.c(),(Qm=(0,y.bGB)("dd")).textContent="Method",(ov=(0,y.bGB)("dd")).textContent="Status",(cv=(0,y.bGB)("dd")).textContent="Time",(0,y.Ljt)(fc,"class","vc-table-col vc-table-col-4"),(0,y.Ljt)(Qm,"class","vc-table-col"),(0,y.Ljt)(ov,"class","vc-table-col"),(0,y.Ljt)(cv,"class","vc-table-col"),(0,y.Ljt)(Ym,"class","vc-table-row")},m:function(Lv,Wv){(0,y.$Tr)(Lv,Ym,Wv),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),bv&&bv.m(fc,null),(0,y.R3I)(Ym,Qm),(0,y.R3I)(Ym,ov),(0,y.R3I)(Ym,cv)},p:function(Lv,Wv){Lv[0]>0?bv?bv.p(Lv,Wv):((bv=lw(Lv)).c(),bv.m(fc,null)):bv&&(bv.d(1),bv=null)},d:function(Lv){Lv&&(0,y.ogt)(Ym),bv&&bv.d()}}}function b2(ev){var Ym;return{c:function(){(Ym=(0,y.bGB)("div")).textContent="Empty",(0,y.Ljt)(Ym,"slot","empty"),(0,y.Ljt)(Ym,"class","vc-plugin-empty")},m:function(fc,$m){(0,y.$Tr)(fc,Ym,$m)},p:y.ZTd,d:function(fc){fc&&(0,y.ogt)(Ym)}}}function cw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv;cv=new a1({props:{content:ev[10].requestHeader}});for(var Wv=Object.entries(ev[10].requestHeader),Xv=[],$0=0;$0<Wv.length;$0+=1)Xv[$0]=uw(sw(ev,Wv,$0));return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("dl"),$m=(0,y.bGB)("dt"),Qm=(0,y.fLW)(`Request Headers
                `),ov=(0,y.bGB)("i"),(0,y.YCL)(cv.$$.fragment),bv=(0,y.DhX)();for(var S0=0;S0<Xv.length;S0+=1)Xv[S0].c();(0,y.Ljt)(ov,"class","vc-table-row-icon"),(0,y.Ljt)($m,"class","vc-table-col vc-table-col-title"),(0,y.Ljt)(fc,"class","vc-table-row vc-left-border")},m:function(S0,G0){(0,y.$Tr)(S0,Ym,G0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)($m,Qm),(0,y.R3I)($m,ov),(0,y.yef)(cv,ov,null),(0,y.R3I)(Ym,bv);for(var L0=0;L0<Xv.length;L0+=1)Xv[L0].m(Ym,null);Lv=!0},p:function(S0,G0){var L0={};if(1024&G0&&(L0.content=S0[10].requestHeader),cv.$set(L0),1040&G0){var Z0;for(Wv=Object.entries(S0[10].requestHeader),Z0=0;Z0<Wv.length;Z0+=1){var r1=sw(S0,Wv,Z0);Xv[Z0]?Xv[Z0].p(r1,G0):(Xv[Z0]=uw(r1),Xv[Z0].c(),Xv[Z0].m(Ym,null))}for(;Z0<Xv.length;Z0+=1)Xv[Z0].d(1);Xv.length=Wv.length}},i:function(S0){Lv||((0,y.Ui)(cv.$$.fragment,S0),Lv=!0)},o:function(S0){(0,y.etI)(cv.$$.fragment,S0),Lv=!1},d:function(S0){S0&&(0,y.ogt)(Ym),(0,y.vpE)(cv),(0,y.RMB)(Xv,S0)}}}function uw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv=ev[11]+"",Wv=ev[4](ev[12])+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),$m=(0,y.fLW)(Lv),Qm=(0,y.DhX)(),ov=(0,y.bGB)("div"),cv=(0,y.fLW)(Wv),bv=(0,y.DhX)(),(0,y.Ljt)(fc,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(ov,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(Ym,"class","vc-table-row vc-left-border vc-small")},m:function(Xv,$0){(0,y.$Tr)(Xv,Ym,$0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)(Ym,Qm),(0,y.R3I)(Ym,ov),(0,y.R3I)(ov,cv),(0,y.R3I)(Ym,bv)},p:function(Xv,$0){1024&$0&&Lv!==(Lv=Xv[11]+"")&&(0,y.rTO)($m,Lv),1024&$0&&Wv!==(Wv=Xv[4](Xv[12])+"")&&(0,y.rTO)(cv,Wv)},d:function(Xv){Xv&&(0,y.ogt)(Ym)}}}function dw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv;cv=new a1({props:{content:ev[10].getData}});for(var Wv=Object.entries(ev[10].getData),Xv=[],$0=0;$0<Wv.length;$0+=1)Xv[$0]=fw(aw(ev,Wv,$0));return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("dl"),$m=(0,y.bGB)("dt"),Qm=(0,y.fLW)(`Query String Parameters
                `),ov=(0,y.bGB)("i"),(0,y.YCL)(cv.$$.fragment),bv=(0,y.DhX)();for(var S0=0;S0<Xv.length;S0+=1)Xv[S0].c();(0,y.Ljt)(ov,"class","vc-table-row-icon"),(0,y.Ljt)($m,"class","vc-table-col vc-table-col-title"),(0,y.Ljt)(fc,"class","vc-table-row vc-left-border")},m:function(S0,G0){(0,y.$Tr)(S0,Ym,G0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)($m,Qm),(0,y.R3I)($m,ov),(0,y.yef)(cv,ov,null),(0,y.R3I)(Ym,bv);for(var L0=0;L0<Xv.length;L0+=1)Xv[L0].m(Ym,null);Lv=!0},p:function(S0,G0){var L0={};if(1024&G0&&(L0.content=S0[10].getData),cv.$set(L0),1040&G0){var Z0;for(Wv=Object.entries(S0[10].getData),Z0=0;Z0<Wv.length;Z0+=1){var r1=aw(S0,Wv,Z0);Xv[Z0]?Xv[Z0].p(r1,G0):(Xv[Z0]=fw(r1),Xv[Z0].c(),Xv[Z0].m(Ym,null))}for(;Z0<Xv.length;Z0+=1)Xv[Z0].d(1);Xv.length=Wv.length}},i:function(S0){Lv||((0,y.Ui)(cv.$$.fragment,S0),Lv=!0)},o:function(S0){(0,y.etI)(cv.$$.fragment,S0),Lv=!1},d:function(S0){S0&&(0,y.ogt)(Ym),(0,y.vpE)(cv),(0,y.RMB)(Xv,S0)}}}function fw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv=ev[11]+"",Wv=ev[4](ev[12])+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),$m=(0,y.fLW)(Lv),Qm=(0,y.DhX)(),ov=(0,y.bGB)("div"),cv=(0,y.fLW)(Wv),bv=(0,y.DhX)(),(0,y.Ljt)(fc,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(ov,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(Ym,"class","vc-table-row vc-left-border vc-small")},m:function(Xv,$0){(0,y.$Tr)(Xv,Ym,$0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)(Ym,Qm),(0,y.R3I)(Ym,ov),(0,y.R3I)(ov,cv),(0,y.R3I)(Ym,bv)},p:function(Xv,$0){1024&$0&&Lv!==(Lv=Xv[11]+"")&&(0,y.rTO)($m,Lv),1024&$0&&Wv!==(Wv=Xv[4](Xv[12])+"")&&(0,y.rTO)(cv,Wv)},d:function(Xv){Xv&&(0,y.ogt)(Ym)}}}function hw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv;function Wv(S0,G0){return typeof S0[10].postData=="string"?w2:_2}cv=new a1({props:{content:ev[10].postData}});var Xv=Wv(ev),$0=Xv(ev);return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("dl"),$m=(0,y.bGB)("dt"),Qm=(0,y.fLW)(`Request Payload
                `),ov=(0,y.bGB)("i"),(0,y.YCL)(cv.$$.fragment),bv=(0,y.DhX)(),$0.c(),(0,y.Ljt)(ov,"class","vc-table-row-icon"),(0,y.Ljt)($m,"class","vc-table-col vc-table-col-title"),(0,y.Ljt)(fc,"class","vc-table-row vc-left-border")},m:function(S0,G0){(0,y.$Tr)(S0,Ym,G0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)($m,Qm),(0,y.R3I)($m,ov),(0,y.yef)(cv,ov,null),(0,y.R3I)(Ym,bv),$0.m(Ym,null),Lv=!0},p:function(S0,G0){var L0={};1024&G0&&(L0.content=S0[10].postData),cv.$set(L0),Xv===(Xv=Wv(S0))&&$0?$0.p(S0,G0):($0.d(1),($0=Xv(S0))&&($0.c(),$0.m(Ym,null)))},i:function(S0){Lv||((0,y.Ui)(cv.$$.fragment,S0),Lv=!0)},o:function(S0){(0,y.etI)(cv.$$.fragment,S0),Lv=!1},d:function(S0){S0&&(0,y.ogt)(Ym),(0,y.vpE)(cv),$0.d()}}}function _2(ev){for(var Ym,fc=Object.entries(ev[10].postData),$m=[],Qm=0;Qm<fc.length;Qm+=1)$m[Qm]=pw(A_(ev,fc,Qm));return{c:function(){for(var ov=0;ov<$m.length;ov+=1)$m[ov].c();Ym=(0,y.cSb)()},m:function(ov,cv){for(var bv=0;bv<$m.length;bv+=1)$m[bv].m(ov,cv);(0,y.$Tr)(ov,Ym,cv)},p:function(ov,cv){if(1040&cv){var bv;for(fc=Object.entries(ov[10].postData),bv=0;bv<fc.length;bv+=1){var Lv=A_(ov,fc,bv);$m[bv]?$m[bv].p(Lv,cv):($m[bv]=pw(Lv),$m[bv].c(),$m[bv].m(Ym.parentNode,Ym))}for(;bv<$m.length;bv+=1)$m[bv].d(1);$m.length=fc.length}},d:function(ov){(0,y.RMB)($m,ov),ov&&(0,y.ogt)(Ym)}}}function w2(ev){var Ym,fc,$m,Qm=ev[10].postData+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("pre"),$m=(0,y.fLW)(Qm),(0,y.Ljt)(fc,"class","vc-table-col vc-table-col-value vc-max-height-line"),(0,y.Ljt)(fc,"data-scrollable","1"),(0,y.Ljt)(Ym,"class","vc-table-row vc-left-border vc-small")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m)},p:function(ov,cv){1024&cv&&Qm!==(Qm=ov[10].postData+"")&&(0,y.rTO)($m,Qm)},d:function(ov){ov&&(0,y.ogt)(Ym)}}}function pw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv=ev[11]+"",Wv=ev[4](ev[12])+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),$m=(0,y.fLW)(Lv),Qm=(0,y.DhX)(),ov=(0,y.bGB)("div"),cv=(0,y.fLW)(Wv),bv=(0,y.DhX)(),(0,y.Ljt)(fc,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(ov,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(ov,"data-scrollable","1"),(0,y.Ljt)(Ym,"class","vc-table-row vc-left-border vc-small")},m:function(Xv,$0){(0,y.$Tr)(Xv,Ym,$0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)(Ym,Qm),(0,y.R3I)(Ym,ov),(0,y.R3I)(ov,cv),(0,y.R3I)(Ym,bv)},p:function(Xv,$0){1024&$0&&Lv!==(Lv=Xv[11]+"")&&(0,y.rTO)($m,Lv),1024&$0&&Wv!==(Wv=Xv[4](Xv[12])+"")&&(0,y.rTO)(cv,Wv)},d:function(Xv){Xv&&(0,y.ogt)(Ym)}}}function mw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv;cv=new a1({props:{content:ev[10].header}});for(var Wv=Object.entries(ev[10].header),Xv=[],$0=0;$0<Wv.length;$0+=1)Xv[$0]=gw(M_(ev,Wv,$0));return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("dl"),$m=(0,y.bGB)("dt"),Qm=(0,y.fLW)(`Response Headers
                `),ov=(0,y.bGB)("i"),(0,y.YCL)(cv.$$.fragment),bv=(0,y.DhX)();for(var S0=0;S0<Xv.length;S0+=1)Xv[S0].c();(0,y.Ljt)(ov,"class","vc-table-row-icon"),(0,y.Ljt)($m,"class","vc-table-col vc-table-col-title"),(0,y.Ljt)(fc,"class","vc-table-row vc-left-border")},m:function(S0,G0){(0,y.$Tr)(S0,Ym,G0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)($m,Qm),(0,y.R3I)($m,ov),(0,y.yef)(cv,ov,null),(0,y.R3I)(Ym,bv);for(var L0=0;L0<Xv.length;L0+=1)Xv[L0].m(Ym,null);Lv=!0},p:function(S0,G0){var L0={};if(1024&G0&&(L0.content=S0[10].header),cv.$set(L0),1040&G0){var Z0;for(Wv=Object.entries(S0[10].header),Z0=0;Z0<Wv.length;Z0+=1){var r1=M_(S0,Wv,Z0);Xv[Z0]?Xv[Z0].p(r1,G0):(Xv[Z0]=gw(r1),Xv[Z0].c(),Xv[Z0].m(Ym,null))}for(;Z0<Xv.length;Z0+=1)Xv[Z0].d(1);Xv.length=Wv.length}},i:function(S0){Lv||((0,y.Ui)(cv.$$.fragment,S0),Lv=!0)},o:function(S0){(0,y.etI)(cv.$$.fragment,S0),Lv=!1},d:function(S0){S0&&(0,y.ogt)(Ym),(0,y.vpE)(cv),(0,y.RMB)(Xv,S0)}}}function gw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv=ev[11]+"",Wv=ev[4](ev[12])+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),$m=(0,y.fLW)(Lv),Qm=(0,y.DhX)(),ov=(0,y.bGB)("div"),cv=(0,y.fLW)(Wv),bv=(0,y.DhX)(),(0,y.Ljt)(fc,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(ov,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(Ym,"class","vc-table-row vc-left-border vc-small")},m:function(Xv,$0){(0,y.$Tr)(Xv,Ym,$0),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)(Ym,Qm),(0,y.R3I)(Ym,ov),(0,y.R3I)(ov,cv),(0,y.R3I)(Ym,bv)},p:function(Xv,$0){1024&$0&&Lv!==(Lv=Xv[11]+"")&&(0,y.rTO)($m,Lv),1024&$0&&Wv!==(Wv=Xv[4](Xv[12])+"")&&(0,y.rTO)(cv,Wv)},d:function(Xv){Xv&&(0,y.ogt)(Ym)}}}function vw(ev){var Ym,fc,$m,Qm,ov,cv=ev[10].responseSizeText+"";return{c:function(){Ym=(0,y.bGB)("div"),(fc=(0,y.bGB)("div")).textContent="Size",$m=(0,y.DhX)(),Qm=(0,y.bGB)("div"),ov=(0,y.fLW)(cv),(0,y.Ljt)(fc,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(Qm,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(Ym,"class","vc-table-row vc-left-border vc-small")},m:function(bv,Lv){(0,y.$Tr)(bv,Ym,Lv),(0,y.R3I)(Ym,fc),(0,y.R3I)(Ym,$m),(0,y.R3I)(Ym,Qm),(0,y.R3I)(Qm,ov)},p:function(bv,Lv){1024&Lv&&cv!==(cv=bv[10].responseSizeText+"")&&(0,y.rTO)(ov,cv)},d:function(bv){bv&&(0,y.ogt)(Ym)}}}function E2(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv,Wv,Xv,$0,S0,G0,L0,Z0,r1,u1,g1,C1,Y1,R1,hy,my,by,F1,U1,wy,Yy,Ey,gy,iy,S1,M1,Ay,b1,B1,uy,L1,dy,Vy,jy,Xy,Oy,pb,Zy,mb,zy,wb,qy,Lb,Ub,s_,v_,$1,ly,ay,cy,xy,By,Eb,gb,vb,Ky,fb,Gb,hb,Q_,Gw,L_=ev[10].name+"",O_=ev[10].method+"",R_=ev[10].statusText+"",B_=ev[10].costTime+"",D_=ev[10].url+"",F_=ev[10].method+"",V_=ev[10].requestType+"",z_=ev[10].status+"",U_=ev[10].startTimeText+"",G_=(ev[10].response||"")+"";function Q2(){return ev[7](ev[10])}g1=new a1({props:{handler:ev[3],content:ev[10]}});var rb=ev[10].requestHeader!==null&&cw(ev),ob=ev[10].getData!==null&&dw(ev),ib=ev[10].postData!==null&&hw(ev),ab=ev[10].header!==null&&mw(ev);By=new a1({props:{content:ev[10].response}});var Cb=ev[10].responseSize>0&&vw(ev);return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("dl"),$m=(0,y.bGB)("dd"),Qm=(0,y.fLW)(L_),ov=(0,y.bGB)("dd"),cv=(0,y.fLW)(O_),bv=(0,y.bGB)("dd"),Lv=(0,y.fLW)(R_),Wv=(0,y.bGB)("dd"),Xv=(0,y.fLW)(B_),$0=(0,y.DhX)(),S0=(0,y.bGB)("div"),G0=(0,y.bGB)("div"),L0=(0,y.bGB)("dl"),Z0=(0,y.bGB)("dt"),r1=(0,y.fLW)(`General
                `),u1=(0,y.bGB)("i"),(0,y.YCL)(g1.$$.fragment),C1=(0,y.DhX)(),Y1=(0,y.bGB)("div"),(R1=(0,y.bGB)("div")).textContent="URL",hy=(0,y.DhX)(),my=(0,y.bGB)("div"),by=(0,y.fLW)(D_),F1=(0,y.DhX)(),U1=(0,y.bGB)("div"),(wy=(0,y.bGB)("div")).textContent="Method",Yy=(0,y.DhX)(),Ey=(0,y.bGB)("div"),gy=(0,y.fLW)(F_),iy=(0,y.DhX)(),S1=(0,y.bGB)("div"),(M1=(0,y.bGB)("div")).textContent="Request Type",Ay=(0,y.DhX)(),b1=(0,y.bGB)("div"),B1=(0,y.fLW)(V_),uy=(0,y.DhX)(),L1=(0,y.bGB)("div"),(dy=(0,y.bGB)("div")).textContent="HTTP Status",Vy=(0,y.DhX)(),jy=(0,y.bGB)("div"),Xy=(0,y.fLW)(z_),Oy=(0,y.DhX)(),pb=(0,y.bGB)("div"),(Zy=(0,y.bGB)("div")).textContent="Start Time",mb=(0,y.DhX)(),zy=(0,y.bGB)("div"),wb=(0,y.fLW)(U_),qy=(0,y.DhX)(),rb&&rb.c(),Lb=(0,y.DhX)(),ob&&ob.c(),Ub=(0,y.DhX)(),ib&&ib.c(),s_=(0,y.DhX)(),ab&&ab.c(),v_=(0,y.DhX)(),$1=(0,y.bGB)("div"),ly=(0,y.bGB)("dl"),ay=(0,y.bGB)("dt"),cy=(0,y.fLW)(`Response
                `),xy=(0,y.bGB)("i"),(0,y.YCL)(By.$$.fragment),Eb=(0,y.DhX)(),Cb&&Cb.c(),gb=(0,y.DhX)(),vb=(0,y.bGB)("div"),Ky=(0,y.bGB)("pre"),fb=(0,y.fLW)(G_),(0,y.Ljt)($m,"class","vc-table-col vc-table-col-4"),(0,y.Ljt)(ov,"class","vc-table-col"),(0,y.Ljt)(bv,"class","vc-table-col"),(0,y.Ljt)(Wv,"class","vc-table-col"),(0,y.Ljt)(fc,"class","vc-table-row vc-group-preview"),(0,y.VHj)(fc,"vc-table-row-error",ev[10].status>=400),(0,y.Ljt)(u1,"class","vc-table-row-icon"),(0,y.Ljt)(Z0,"class","vc-table-col vc-table-col-title"),(0,y.Ljt)(L0,"class","vc-table-row vc-left-border"),(0,y.Ljt)(R1,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(my,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(Y1,"class","vc-table-row vc-left-border vc-small"),(0,y.Ljt)(wy,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(Ey,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(U1,"class","vc-table-row vc-left-border vc-small"),(0,y.Ljt)(M1,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(b1,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(S1,"class","vc-table-row vc-left-border vc-small"),(0,y.Ljt)(dy,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(jy,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(L1,"class","vc-table-row vc-left-border vc-small"),(0,y.Ljt)(Zy,"class","vc-table-col vc-table-col-2"),(0,y.Ljt)(zy,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,y.Ljt)(pb,"class","vc-table-row vc-left-border vc-small"),(0,y.Ljt)(xy,"class","vc-table-row-icon"),(0,y.Ljt)(ay,"class","vc-table-col vc-table-col-title"),(0,y.Ljt)(ly,"class","vc-table-row vc-left-border"),(0,y.Ljt)(Ky,"class","vc-table-col vc-max-height vc-min-height"),(0,y.Ljt)(Ky,"data-scrollable","1"),(0,y.Ljt)(vb,"class","vc-table-row vc-left-border vc-small"),(0,y.Ljt)(S0,"class","vc-group-detail"),(0,y.Ljt)(Ym,"slot","item"),(0,y.Ljt)(Ym,"class","vc-group"),(0,y.Ljt)(Ym,"id",Gb=ev[10].id),(0,y.VHj)(Ym,"vc-actived",ev[10].actived)},m:function(Pb,Dy){(0,y.$Tr)(Pb,Ym,Dy),(0,y.R3I)(Ym,fc),(0,y.R3I)(fc,$m),(0,y.R3I)($m,Qm),(0,y.R3I)(fc,ov),(0,y.R3I)(ov,cv),(0,y.R3I)(fc,bv),(0,y.R3I)(bv,Lv),(0,y.R3I)(fc,Wv),(0,y.R3I)(Wv,Xv),(0,y.R3I)(Ym,$0),(0,y.R3I)(Ym,S0),(0,y.R3I)(S0,G0),(0,y.R3I)(G0,L0),(0,y.R3I)(L0,Z0),(0,y.R3I)(Z0,r1),(0,y.R3I)(Z0,u1),(0,y.yef)(g1,u1,null),(0,y.R3I)(G0,C1),(0,y.R3I)(G0,Y1),(0,y.R3I)(Y1,R1),(0,y.R3I)(Y1,hy),(0,y.R3I)(Y1,my),(0,y.R3I)(my,by),(0,y.R3I)(G0,F1),(0,y.R3I)(G0,U1),(0,y.R3I)(U1,wy),(0,y.R3I)(U1,Yy),(0,y.R3I)(U1,Ey),(0,y.R3I)(Ey,gy),(0,y.R3I)(G0,iy),(0,y.R3I)(G0,S1),(0,y.R3I)(S1,M1),(0,y.R3I)(S1,Ay),(0,y.R3I)(S1,b1),(0,y.R3I)(b1,B1),(0,y.R3I)(G0,uy),(0,y.R3I)(G0,L1),(0,y.R3I)(L1,dy),(0,y.R3I)(L1,Vy),(0,y.R3I)(L1,jy),(0,y.R3I)(jy,Xy),(0,y.R3I)(G0,Oy),(0,y.R3I)(G0,pb),(0,y.R3I)(pb,Zy),(0,y.R3I)(pb,mb),(0,y.R3I)(pb,zy),(0,y.R3I)(zy,wb),(0,y.R3I)(S0,qy),rb&&rb.m(S0,null),(0,y.R3I)(S0,Lb),ob&&ob.m(S0,null),(0,y.R3I)(S0,Ub),ib&&ib.m(S0,null),(0,y.R3I)(S0,s_),ab&&ab.m(S0,null),(0,y.R3I)(S0,v_),(0,y.R3I)(S0,$1),(0,y.R3I)($1,ly),(0,y.R3I)(ly,ay),(0,y.R3I)(ay,cy),(0,y.R3I)(ay,xy),(0,y.yef)(By,xy,null),(0,y.R3I)($1,Eb),Cb&&Cb.m($1,null),(0,y.R3I)($1,gb),(0,y.R3I)($1,vb),(0,y.R3I)(vb,Ky),(0,y.R3I)(Ky,fb),hb=!0,Q_||(Gw=(0,y.oLt)(fc,"click",Q2),Q_=!0)},p:function(Pb,Dy){ev=Pb,(!hb||1024&Dy)&&L_!==(L_=ev[10].name+"")&&(0,y.rTO)(Qm,L_),(!hb||1024&Dy)&&O_!==(O_=ev[10].method+"")&&(0,y.rTO)(cv,O_),(!hb||1024&Dy)&&R_!==(R_=ev[10].statusText+"")&&(0,y.rTO)(Lv,R_),(!hb||1024&Dy)&&B_!==(B_=ev[10].costTime+"")&&(0,y.rTO)(Xv,B_),1024&Dy&&(0,y.VHj)(fc,"vc-table-row-error",ev[10].status>=400);var Hw={};1024&Dy&&(Hw.content=ev[10]),g1.$set(Hw),(!hb||1024&Dy)&&D_!==(D_=ev[10].url+"")&&(0,y.rTO)(by,D_),(!hb||1024&Dy)&&F_!==(F_=ev[10].method+"")&&(0,y.rTO)(gy,F_),(!hb||1024&Dy)&&V_!==(V_=ev[10].requestType+"")&&(0,y.rTO)(B1,V_),(!hb||1024&Dy)&&z_!==(z_=ev[10].status+"")&&(0,y.rTO)(Xy,z_),(!hb||1024&Dy)&&U_!==(U_=ev[10].startTimeText+"")&&(0,y.rTO)(wb,U_),ev[10].requestHeader!==null?rb?(rb.p(ev,Dy),1024&Dy&&(0,y.Ui)(rb,1)):((rb=cw(ev)).c(),(0,y.Ui)(rb,1),rb.m(S0,Lb)):rb&&((0,y.dvw)(),(0,y.etI)(rb,1,1,function(){rb=null}),(0,y.gbL)()),ev[10].getData!==null?ob?(ob.p(ev,Dy),1024&Dy&&(0,y.Ui)(ob,1)):((ob=dw(ev)).c(),(0,y.Ui)(ob,1),ob.m(S0,Ub)):ob&&((0,y.dvw)(),(0,y.etI)(ob,1,1,function(){ob=null}),(0,y.gbL)()),ev[10].postData!==null?ib?(ib.p(ev,Dy),1024&Dy&&(0,y.Ui)(ib,1)):((ib=hw(ev)).c(),(0,y.Ui)(ib,1),ib.m(S0,s_)):ib&&((0,y.dvw)(),(0,y.etI)(ib,1,1,function(){ib=null}),(0,y.gbL)()),ev[10].header!==null?ab?(ab.p(ev,Dy),1024&Dy&&(0,y.Ui)(ab,1)):((ab=mw(ev)).c(),(0,y.Ui)(ab,1),ab.m(S0,v_)):ab&&((0,y.dvw)(),(0,y.etI)(ab,1,1,function(){ab=null}),(0,y.gbL)());var Ww={};1024&Dy&&(Ww.content=ev[10].response),By.$set(Ww),ev[10].responseSize>0?Cb?Cb.p(ev,Dy):((Cb=vw(ev)).c(),Cb.m($1,gb)):Cb&&(Cb.d(1),Cb=null),(!hb||1024&Dy)&&G_!==(G_=(ev[10].response||"")+"")&&(0,y.rTO)(fb,G_),(!hb||1024&Dy&&Gb!==(Gb=ev[10].id))&&(0,y.Ljt)(Ym,"id",Gb),1024&Dy&&(0,y.VHj)(Ym,"vc-actived",ev[10].actived)},i:function(Pb){hb||((0,y.Ui)(g1.$$.fragment,Pb),(0,y.Ui)(rb),(0,y.Ui)(ob),(0,y.Ui)(ib),(0,y.Ui)(ab),(0,y.Ui)(By.$$.fragment,Pb),hb=!0)},o:function(Pb){(0,y.etI)(g1.$$.fragment,Pb),(0,y.etI)(rb),(0,y.etI)(ob),(0,y.etI)(ib),(0,y.etI)(ab),(0,y.etI)(By.$$.fragment,Pb),hb=!1},d:function(Pb){Pb&&(0,y.ogt)(Ym),(0,y.vpE)(g1),rb&&rb.d(),ob&&ob.d(),ib&&ib.d(),ab&&ab.d(),(0,y.vpE)(By),Cb&&Cb.d(),Q_=!1,Gw()}}}function C2(ev){var Ym,fc,$m,Qm;return $m=new cb({props:{items:ev[1],itemKey:"id",itemHeight:30,buffer:100,stickToBottom:!0,scrollbar:!0,$$slots:{item:[E2,function(ov){return{10:ov.item}},function(ov){return ov.item?1024:0}],empty:[b2],header:[y2]},$$scope:{ctx:ev}}}),{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("div"),(0,y.YCL)($m.$$.fragment),(0,y.Ljt)(fc,"class","vc-plugin-content"),(0,y.Ljt)(Ym,"class","vc-table")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv),(0,y.R3I)(Ym,fc),(0,y.yef)($m,fc,null),Qm=!0},p:function(ov,cv){var bv=cv[0],Lv={};2&bv&&(Lv.items=ov[1]),2098177&bv&&(Lv.$$scope={dirty:bv,ctx:ov}),$m.$set(Lv)},i:function(ov){Qm||((0,y.Ui)($m.$$.fragment,ov),Qm=!0)},o:function(ov){(0,y.etI)($m.$$.fragment,ov),Qm=!1},d:function(ov){ov&&(0,y.ogt)(Ym),(0,y.vpE)($m)}}}function S2(ev,Ym,fc){var $m;(0,y.FIv)(ev,Nb,function(Wv){return fc(6,$m=Wv)});var Qm=0,ov=function(Wv){fc(0,Qm=Object.keys(Wv).length)},cv=Nb.subscribe(ov);ov($m);var bv=[],Lv=function(Wv){(0,y.fxP)(Nb,$m[Wv].actived=!$m[Wv].actived,$m)};return(0,k.H3)(function(){p_.use()}),(0,k.ev)(function(){cv(),p_.unuse()}),ev.$$.update=function(){64&ev.$$.dirty&&fc(1,bv=Object.values($m))},[Qm,bv,Lv,function(Wv){var Xv="curl -X "+Wv.method;return typeof Wv.postData=="string"?Xv+=" -d '"+Wv.postData+"'":typeof Wv.postData=="object"&&Wv.postData!==null&&(Xv+=" -d '"+e.hZ(Wv.postData)+"'"),Xv+" '"+Wv.url+"'"},function(Wv){return e.Kn(Wv)||e.kJ(Wv)?e.hZ(Wv,{maxDepth:10,keyMaxLen:1e4,pretty:!0}):Wv},{fixedHeight:!0},$m,function(Wv){return Lv(Wv.id)}]}var x2=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,S2,C2,y.N8,{options:5}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"options",get:function(){return this.$$.ctx[5]}}]),Ym}(y.f_C),T2=x2,$2=function(ev){function Ym(){for(var $m,Qm=arguments.length,ov=new Array(Qm),cv=0;cv<Qm;cv++)ov[cv]=arguments[cv];return($m=ev.call.apply(ev,[this].concat(ov))||this).model=o_.getSingleton(o_,"VConsoleNetworkModel"),$m}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.add=function($m){var Qm=new e_(new Vb);for(var ov in $m)Qm[ov]=$m[ov];return Qm.startTime=Qm.startTime||Date.now(),Qm.requestType=Qm.requestType||"custom",this.model.updateRequest(Qm.id,Qm),Qm},fc.update=function($m,Qm){this.model.updateRequest($m,Qm)},fc.clear=function(){this.model.clearLog()},Ym}(Tb),yw=function(ev){function Ym($m,Qm,ov){var cv;return ov===void 0&&(ov={}),(cv=ev.call(this,$m,Qm,T2,ov)||this).model=o_.getSingleton(o_,"VConsoleNetworkModel"),cv.exporter=void 0,cv.exporter=new $2($m),cv}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.onReady=function(){ev.prototype.onReady.call(this),this.onUpdateOption()},fc.onAddTool=function($m){var Qm=this;$m([{name:"Clear",global:!1,onClick:function(ov){Qm.model.clearLog()}}])},fc.onRemove=function(){ev.prototype.onRemove.call(this),this.model&&this.model.unMock()},fc.onUpdateOption=function(){var $m,Qm,ov;(($m=this.vConsole.option.network)==null?void 0:$m.maxNetworkNumber)!==this.model.maxNetworkNumber&&(this.model.maxNetworkNumber=Number((ov=this.vConsole.option.network)==null?void 0:ov.maxNetworkNumber)||1e3),(Qm=this.vConsole.option.network)!=null&&Qm.ignoreUrlRegExp&&(this.model.ignoreUrlRegExp=this.vConsole.option.network.ignoreUrlRegExp)},Ym}(zv),k2=__webpack_require__(8679),M2=__webpack_require__.n(k2),P_=(0,Ry.fZ)(),m_=(0,Ry.fZ)(),N_=__webpack_require__(5670),g_={};N_.Z&&N_.Z.locals&&(g_.locals=N_.Z.locals);var Z_,J_=0,qb={};qb.styleTagTransform=tc(),qb.setAttributes=hr(),qb.insert=Oe().bind(null,"head"),qb.domAPI=j(),qb.insertStyleElement=dr(),g_.use=function(ev){return qb.options=ev||{},J_++||(Z_=V()(N_.Z,qb)),g_},g_.unuse=function(){J_>0&&!--J_&&(Z_(),Z_=null)};var bw=g_;function _w(ev,Ym,fc){var $m=ev.slice();return $m[8]=Ym[fc],$m}function ww(ev,Ym,fc){var $m=ev.slice();return $m[11]=Ym[fc],$m}function Ew(ev){var Ym,fc,$m,Qm=ev[0].nodeType===Node.ELEMENT_NODE&&Cw(ev),ov=ev[0].nodeType===Node.TEXT_NODE&&Aw(ev);return{c:function(){Ym=(0,y.bGB)("div"),Qm&&Qm.c(),fc=(0,y.DhX)(),ov&&ov.c(),(0,y.Ljt)(Ym,"class","vcelm-l"),(0,y.VHj)(Ym,"vc-actived",ev[0]._isActived),(0,y.VHj)(Ym,"vc-toggle",ev[0]._isExpand),(0,y.VHj)(Ym,"vcelm-noc",ev[0]._isSingleLine)},m:function(cv,bv){(0,y.$Tr)(cv,Ym,bv),Qm&&Qm.m(Ym,null),(0,y.R3I)(Ym,fc),ov&&ov.m(Ym,null),$m=!0},p:function(cv,bv){cv[0].nodeType===Node.ELEMENT_NODE?Qm?(Qm.p(cv,bv),1&bv&&(0,y.Ui)(Qm,1)):((Qm=Cw(cv)).c(),(0,y.Ui)(Qm,1),Qm.m(Ym,fc)):Qm&&((0,y.dvw)(),(0,y.etI)(Qm,1,1,function(){Qm=null}),(0,y.gbL)()),cv[0].nodeType===Node.TEXT_NODE?ov?ov.p(cv,bv):((ov=Aw(cv)).c(),ov.m(Ym,null)):ov&&(ov.d(1),ov=null),1&bv&&(0,y.VHj)(Ym,"vc-actived",cv[0]._isActived),1&bv&&(0,y.VHj)(Ym,"vc-toggle",cv[0]._isExpand),1&bv&&(0,y.VHj)(Ym,"vcelm-noc",cv[0]._isSingleLine)},i:function(cv){$m||((0,y.Ui)(Qm),$m=!0)},o:function(cv){(0,y.etI)(Qm),$m=!1},d:function(cv){cv&&(0,y.ogt)(Ym),Qm&&Qm.d(),ov&&ov.d()}}}function Cw(ev){var Ym,fc,$m,Qm,ov,cv,bv,Lv,Wv,Xv,$0=ev[0].nodeName+"",S0=(ev[0].className||ev[0].attributes.length)&&Sw(ev),G0=ev[0]._isNullEndTag&&Tw(),L0=ev[0].childNodes.length>0&&$w(ev),Z0=!ev[0]._isNullEndTag&&Mw(ev);return{c:function(){Ym=(0,y.bGB)("span"),fc=(0,y.fLW)("<"),$m=(0,y.fLW)($0),S0&&S0.c(),Qm=(0,y.cSb)(),G0&&G0.c(),ov=(0,y.fLW)(">"),L0&&L0.c(),cv=(0,y.cSb)(),Z0&&Z0.c(),bv=(0,y.cSb)(),(0,y.Ljt)(Ym,"class","vcelm-node")},m:function(r1,u1){(0,y.$Tr)(r1,Ym,u1),(0,y.R3I)(Ym,fc),(0,y.R3I)(Ym,$m),S0&&S0.m(Ym,null),(0,y.R3I)(Ym,Qm),G0&&G0.m(Ym,null),(0,y.R3I)(Ym,ov),L0&&L0.m(r1,u1),(0,y.$Tr)(r1,cv,u1),Z0&&Z0.m(r1,u1),(0,y.$Tr)(r1,bv,u1),Lv=!0,Wv||(Xv=(0,y.oLt)(Ym,"click",ev[2]),Wv=!0)},p:function(r1,u1){(!Lv||1&u1)&&$0!==($0=r1[0].nodeName+"")&&(0,y.rTO)($m,$0),r1[0].className||r1[0].attributes.length?S0?S0.p(r1,u1):((S0=Sw(r1)).c(),S0.m(Ym,Qm)):S0&&(S0.d(1),S0=null),r1[0]._isNullEndTag?G0||((G0=Tw()).c(),G0.m(Ym,ov)):G0&&(G0.d(1),G0=null),r1[0].childNodes.length>0?L0?(L0.p(r1,u1),1&u1&&(0,y.Ui)(L0,1)):((L0=$w(r1)).c(),(0,y.Ui)(L0,1),L0.m(cv.parentNode,cv)):L0&&((0,y.dvw)(),(0,y.etI)(L0,1,1,function(){L0=null}),(0,y.gbL)()),r1[0]._isNullEndTag?Z0&&(Z0.d(1),Z0=null):Z0?Z0.p(r1,u1):((Z0=Mw(r1)).c(),Z0.m(bv.parentNode,bv))},i:function(r1){Lv||((0,y.Ui)(L0),Lv=!0)},o:function(r1){(0,y.etI)(L0),Lv=!1},d:function(r1){r1&&(0,y.ogt)(Ym),S0&&S0.d(),G0&&G0.d(),L0&&L0.d(r1),r1&&(0,y.ogt)(cv),Z0&&Z0.d(r1),r1&&(0,y.ogt)(bv),Wv=!1,Xv()}}}function Sw(ev){for(var Ym,fc=ev[0].attributes,$m=[],Qm=0;Qm<fc.length;Qm+=1)$m[Qm]=xw(ww(ev,fc,Qm));return{c:function(){Ym=(0,y.bGB)("i");for(var ov=0;ov<$m.length;ov+=1)$m[ov].c();(0,y.Ljt)(Ym,"class","vcelm-k")},m:function(ov,cv){(0,y.$Tr)(ov,Ym,cv);for(var bv=0;bv<$m.length;bv+=1)$m[bv].m(Ym,null)},p:function(ov,cv){if(1&cv){var bv;for(fc=ov[0].attributes,bv=0;bv<fc.length;bv+=1){var Lv=ww(ov,fc,bv);$m[bv]?$m[bv].p(Lv,cv):($m[bv]=xw(Lv),$m[bv].c(),$m[bv].m(Ym,null))}for(;bv<$m.length;bv+=1)$m[bv].d(1);$m.length=fc.length}},d:function(ov){ov&&(0,y.ogt)(Ym),(0,y.RMB)($m,ov)}}}function A2(ev){var Ym,fc=ev[11].name+"";return{c:function(){Ym=(0,y.fLW)(fc)},m:function($m,Qm){(0,y.$Tr)($m,Ym,Qm)},p:function($m,Qm){1&Qm&&fc!==(fc=$m[11].name+"")&&(0,y.rTO)(Ym,fc)},d:function($m){$m&&(0,y.ogt)(Ym)}}}function P2(ev){var Ym,fc,$m,Qm,ov,cv=ev[11].name+"",bv=ev[11].value+"";return{c:function(){Ym=(0,y.fLW)(cv),fc=(0,y.fLW)('="'),$m=(0,y.bGB)("i"),Qm=(0,y.fLW)(bv),ov=(0,y.fLW)('"'),(0,y.Ljt)($m,"class","vcelm-v")},m:function(Lv,Wv){(0,y.$Tr)(Lv,Ym,Wv),(0,y.$Tr)(Lv,fc,Wv),(0,y.$Tr)(Lv,$m,Wv),(0,y.R3I)($m,Qm),(0,y.$Tr)(Lv,ov,Wv)},p:function(Lv,Wv){1&Wv&&cv!==(cv=Lv[11].name+"")&&(0,y.rTO)(Ym,cv),1&Wv&&bv!==(bv=Lv[11].value+"")&&(0,y.rTO)(Qm,bv)},d:function(Lv){Lv&&(0,y.ogt)(Ym),Lv&&(0,y.ogt)(fc),Lv&&(0,y.ogt)($m),Lv&&(0,y.ogt)(ov)}}}function xw(ev){var Ym,fc;function $m(cv,bv){return cv[11].value!==""?P2:A2}var Qm=$m(ev),ov=Qm(ev);return{c:function(){Ym=(0,y.fLW)(`
            `),ov.c(),fc=(0,y.cSb)()},m:function(cv,bv){(0,y.$Tr)(cv,Ym,bv),ov.m(cv,bv),(0,y.$Tr)(cv,fc,bv)},p:function(cv,bv){Qm===(Qm=$m(cv))&&ov?ov.p(cv,bv):(ov.d(1),(ov=Qm(cv))&&(ov.c(),ov.m(fc.parentNode,fc)))},d:function(cv){cv&&(0,y.ogt)(Ym),ov.d(cv),cv&&(0,y.ogt)(fc)}}}function Tw(ev){var Ym;return{c:function(){Ym=(0,y.fLW)("/")},m:function(fc,$m){(0,y.$Tr)(fc,Ym,$m)},d:function(fc){fc&&(0,y.ogt)(Ym)}}}function $w(ev){var Ym,fc,$m,Qm,ov=[I2,N2],cv=[];function bv(Lv,Wv){return Lv[0]._isExpand?1:0}return Ym=bv(ev),fc=cv[Ym]=ov[Ym](ev),{c:function(){fc.c(),$m=(0,y.cSb)()},m:function(Lv,Wv){cv[Ym].m(Lv,Wv),(0,y.$Tr)(Lv,$m,Wv),Qm=!0},p:function(Lv,Wv){var Xv=Ym;(Ym=bv(Lv))===Xv?cv[Ym].p(Lv,Wv):((0,y.dvw)(),(0,y.etI)(cv[Xv],1,1,function(){cv[Xv]=null}),(0,y.gbL)(),(fc=cv[Ym])?fc.p(Lv,Wv):(fc=cv[Ym]=ov[Ym](Lv)).c(),(0,y.Ui)(fc,1),fc.m($m.parentNode,$m))},i:function(Lv){Qm||((0,y.Ui)(fc),Qm=!0)},o:function(Lv){(0,y.etI)(fc),Qm=!1},d:function(Lv){cv[Ym].d(Lv),Lv&&(0,y.ogt)($m)}}}function N2(ev){for(var Ym,fc,$m=ev[0].childNodes,Qm=[],ov=0;ov<$m.length;ov+=1)Qm[ov]=kw(_w(ev,$m,ov));var cv=function(bv){return(0,y.etI)(Qm[bv],1,1,function(){Qm[bv]=null})};return{c:function(){for(var bv=0;bv<Qm.length;bv+=1)Qm[bv].c();Ym=(0,y.cSb)()},m:function(bv,Lv){for(var Wv=0;Wv<Qm.length;Wv+=1)Qm[Wv].m(bv,Lv);(0,y.$Tr)(bv,Ym,Lv),fc=!0},p:function(bv,Lv){if(1&Lv){var Wv;for($m=bv[0].childNodes,Wv=0;Wv<$m.length;Wv+=1){var Xv=_w(bv,$m,Wv);Qm[Wv]?(Qm[Wv].p(Xv,Lv),(0,y.Ui)(Qm[Wv],1)):(Qm[Wv]=kw(Xv),Qm[Wv].c(),(0,y.Ui)(Qm[Wv],1),Qm[Wv].m(Ym.parentNode,Ym))}for((0,y.dvw)(),Wv=$m.length;Wv<Qm.length;Wv+=1)cv(Wv);(0,y.gbL)()}},i:function(bv){if(!fc){for(var Lv=0;Lv<$m.length;Lv+=1)(0,y.Ui)(Qm[Lv]);fc=!0}},o:function(bv){Qm=Qm.filter(Boolean);for(var Lv=0;Lv<Qm.length;Lv+=1)(0,y.etI)(Qm[Lv]);fc=!1},d:function(bv){(0,y.RMB)(Qm,bv),bv&&(0,y.ogt)(Ym)}}}function I2(ev){var Ym;return{c:function(){Ym=(0,y.fLW)("...")},m:function(fc,$m){(0,y.$Tr)(fc,Ym,$m)},p:y.ZTd,i:y.ZTd,o:y.ZTd,d:function(fc){fc&&(0,y.ogt)(Ym)}}}function kw(ev){var Ym,fc,$m;return(Ym=new Pw({props:{node:ev[8]}})).$on("toggleNode",ev[4]),{c:function(){(0,y.YCL)(Ym.$$.fragment),fc=(0,y.DhX)()},m:function(Qm,ov){(0,y.yef)(Ym,Qm,ov),(0,y.$Tr)(Qm,fc,ov),$m=!0},p:function(Qm,ov){var cv={};1&ov&&(cv.node=Qm[8]),Ym.$set(cv)},i:function(Qm){$m||((0,y.Ui)(Ym.$$.fragment,Qm),$m=!0)},o:function(Qm){(0,y.etI)(Ym.$$.fragment,Qm),$m=!1},d:function(Qm){(0,y.vpE)(Ym,Qm),Qm&&(0,y.ogt)(fc)}}}function Mw(ev){var Ym,fc,$m,Qm,ov=ev[0].nodeName+"";return{c:function(){Ym=(0,y.bGB)("span"),fc=(0,y.fLW)("</"),$m=(0,y.fLW)(ov),Qm=(0,y.fLW)(">"),(0,y.Ljt)(Ym,"class","vcelm-node")},m:function(cv,bv){(0,y.$Tr)(cv,Ym,bv),(0,y.R3I)(Ym,fc),(0,y.R3I)(Ym,$m),(0,y.R3I)(Ym,Qm)},p:function(cv,bv){1&bv&&ov!==(ov=cv[0].nodeName+"")&&(0,y.rTO)($m,ov)},d:function(cv){cv&&(0,y.ogt)(Ym)}}}function Aw(ev){var Ym,fc,$m=ev[1](ev[0].textContent)+"";return{c:function(){Ym=(0,y.bGB)("span"),fc=(0,y.fLW)($m),(0,y.Ljt)(Ym,"class","vcelm-t vcelm-noc")},m:function(Qm,ov){(0,y.$Tr)(Qm,Ym,ov),(0,y.R3I)(Ym,fc)},p:function(Qm,ov){1&ov&&$m!==($m=Qm[1](Qm[0].textContent)+"")&&(0,y.rTO)(fc,$m)},d:function(Qm){Qm&&(0,y.ogt)(Ym)}}}function L2(ev){var Ym,fc,$m=ev[0]&&Ew(ev);return{c:function(){$m&&$m.c(),Ym=(0,y.cSb)()},m:function(Qm,ov){$m&&$m.m(Qm,ov),(0,y.$Tr)(Qm,Ym,ov),fc=!0},p:function(Qm,ov){var cv=ov[0];Qm[0]?$m?($m.p(Qm,cv),1&cv&&(0,y.Ui)($m,1)):(($m=Ew(Qm)).c(),(0,y.Ui)($m,1),$m.m(Ym.parentNode,Ym)):$m&&((0,y.dvw)(),(0,y.etI)($m,1,1,function(){$m=null}),(0,y.gbL)())},i:function(Qm){fc||((0,y.Ui)($m),fc=!0)},o:function(Qm){(0,y.etI)($m),fc=!1},d:function(Qm){$m&&$m.d(Qm),Qm&&(0,y.ogt)(Ym)}}}function O2(ev,Ym,fc){var $m;(0,y.FIv)(ev,m_,function(bv){return fc(3,$m=bv)});var Qm=Ym.node,ov=(0,k.x)(),cv=["br","hr","img","input","link","meta"];return(0,k.H3)(function(){bw.use()}),(0,k.ev)(function(){bw.unuse()}),ev.$$set=function(bv){"node"in bv&&fc(0,Qm=bv.node)},ev.$$.update=function(){9&ev.$$.dirty&&Qm&&(fc(0,Qm._isActived=Qm===$m,Qm),fc(0,Qm._isNullEndTag=function(bv){return cv.indexOf(bv.nodeName)>-1}(Qm),Qm),fc(0,Qm._isSingleLine=Qm.childNodes.length===0||Qm._isNullEndTag,Qm))},[Qm,function(bv){return bv.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},function(){Qm._isNullEndTag||(fc(0,Qm._isExpand=!Qm._isExpand,Qm),ov("toggleNode",{node:Qm}))},$m,function(bv){y.cKT.call(this,ev,bv)}]}var Pw=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,O2,L2,y.N8,{node:0}),$m}return(0,$.Z)(Ym,ev),(0,t.Z)(Ym,[{key:"node",get:function(){return this.$$.ctx[0]},set:function(fc){this.$$set({node:fc}),(0,y.yl1)()}}]),Ym}(y.f_C),R2=Pw;function B2(ev){var Ym,fc,$m;return(fc=new R2({props:{node:ev[0]}})).$on("toggleNode",ev[1]),{c:function(){Ym=(0,y.bGB)("div"),(0,y.YCL)(fc.$$.fragment),(0,y.Ljt)(Ym,"class","vc-plugin-content")},m:function(Qm,ov){(0,y.$Tr)(Qm,Ym,ov),(0,y.yef)(fc,Ym,null),$m=!0},p:function(Qm,ov){var cv={};1&ov[0]&&(cv.node=Qm[0]),fc.$set(cv)},i:function(Qm){$m||((0,y.Ui)(fc.$$.fragment,Qm),$m=!0)},o:function(Qm){(0,y.etI)(fc.$$.fragment,Qm),$m=!1},d:function(Qm){Qm&&(0,y.ogt)(Ym),(0,y.vpE)(fc)}}}function D2(ev,Ym,fc){var $m;return(0,y.FIv)(ev,P_,function(Qm){return fc(0,$m=Qm)}),[$m,function(Qm){y.cKT.call(this,ev,Qm)}]}var F2=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,D2,B2,y.N8,{}),$m}return(0,$.Z)(Ym,ev),Ym}(y.f_C),V2=F2,Nw=function(ev){function Ym($m,Qm,ov){var cv;return ov===void 0&&(ov={}),(cv=ev.call(this,$m,Qm,V2,ov)||this).isInited=!1,cv.observer=void 0,cv.nodeMap=void 0,cv}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.onShow=function(){this.isInited||this._init()},fc.onRemove=function(){ev.prototype.onRemove.call(this),this.isInited&&(this.observer.disconnect(),this.isInited=!1,this.nodeMap=void 0,P_.set(void 0))},fc.onAddTool=function($m){var Qm=this;$m([{name:"Expand",global:!1,onClick:function(ov){Qm._expandActivedNode()}},{name:"Collapse",global:!1,onClick:function(ov){Qm._collapseActivedNode()}}])},fc._init=function(){var $m=this;this.isInited=!0,this.nodeMap=new WeakMap;var Qm=this._generateVNode(document.documentElement);Qm._isExpand=!0,m_.set(Qm),P_.set(Qm),this.compInstance.$on("toggleNode",function(ov){m_.set(ov.detail.node)}),this.observer=new(M2())(function(ov){for(var cv=0;cv<ov.length;cv++){var bv=ov[cv];$m._isInVConsole(bv.target)||$m._handleMutation(bv)}}),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},fc._handleMutation=function($m){switch($m.type){case"childList":$m.removedNodes.length>0&&this._onChildRemove($m),$m.addedNodes.length>0&&this._onChildAdd($m);break;case"attributes":this._onAttributesChange($m);break;case"characterData":this._onCharacterDataChange($m)}},fc._onChildRemove=function($m){var Qm=this.nodeMap.get($m.target);if(Qm){for(var ov=0;ov<$m.removedNodes.length;ov++){var cv=this.nodeMap.get($m.removedNodes[ov]);if(cv){for(var bv=0;bv<Qm.childNodes.length;bv++)if(Qm.childNodes[bv]===cv){Qm.childNodes.splice(bv,1);break}this.nodeMap.delete($m.removedNodes[ov])}}this._refreshStore()}},fc._onChildAdd=function($m){var Qm=this.nodeMap.get($m.target);if(Qm){for(var ov=0;ov<$m.addedNodes.length;ov++){var cv=$m.addedNodes[ov],bv=this._generateVNode(cv);if(bv){var Lv=void 0,Wv=cv;do{if(Wv.nextSibling===null)break;Wv.nodeType===Node.ELEMENT_NODE&&(Lv=this.nodeMap.get(Wv.nextSibling)||void 0),Wv=Wv.nextSibling}while(Lv===void 0);if(Lv===void 0)Qm.childNodes.push(bv);else for(var Xv=0;Xv<Qm.childNodes.length;Xv++)if(Qm.childNodes[Xv]===Lv){Qm.childNodes.splice(Xv,0,bv);break}}}this._refreshStore()}},fc._onAttributesChange=function($m){this._updateVNodeAttributes($m.target),this._refreshStore()},fc._onCharacterDataChange=function($m){var Qm=this.nodeMap.get($m.target);Qm&&(Qm.textContent=$m.target.textContent,this._refreshStore())},fc._generateVNode=function($m){if(!this._isIgnoredNode($m)){var Qm={nodeType:$m.nodeType,nodeName:$m.nodeName.toLowerCase(),textContent:"",id:"",className:"",attributes:[],childNodes:[]};if(this.nodeMap.set($m,Qm),Qm.nodeType!=$m.TEXT_NODE&&Qm.nodeType!=$m.DOCUMENT_TYPE_NODE||(Qm.textContent=$m.textContent),$m.childNodes.length>0){Qm.childNodes=[];for(var ov=0;ov<$m.childNodes.length;ov++){var cv=this._generateVNode($m.childNodes[ov]);cv&&Qm.childNodes.push(cv)}}return this._updateVNodeAttributes($m),Qm}},fc._updateVNodeAttributes=function($m){var Qm=this.nodeMap.get($m);if(Qm&&$m instanceof Element&&(Qm.id=$m.id||"",Qm.className=$m.className||"",$m.hasAttributes&&$m.hasAttributes())){Qm.attributes=[];for(var ov=0;ov<$m.attributes.length;ov++)Qm.attributes.push({name:$m.attributes[ov].name,value:$m.attributes[ov].value||""})}},fc._expandActivedNode=function(){var $m=(0,Ry.U2)(m_);if($m._isExpand)for(var Qm=0;Qm<$m.childNodes.length;Qm++)$m.childNodes[Qm]._isExpand=!0;else $m._isExpand=!0;this._refreshStore()},fc._collapseActivedNode=function(){var $m=(0,Ry.U2)(m_);if($m._isExpand){for(var Qm=!1,ov=0;ov<$m.childNodes.length;ov++)$m.childNodes[ov]._isExpand&&(Qm=!0,$m.childNodes[ov]._isExpand=!1);Qm||($m._isExpand=!1),this._refreshStore()}},fc._isIgnoredNode=function($m){if($m.nodeType===$m.TEXT_NODE){if($m.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,"")==="")return!0}else if($m.nodeType===$m.COMMENT_NODE)return!0;return!1},fc._isInVConsole=function($m){for(var Qm=$m;Qm!==void 0;){if(Qm.id=="__vconsole")return!0;Qm=Qm.parentElement||void 0}return!1},fc._refreshStore=function(){P_.update(function($m){return $m})},Ym}(zv);function Iw(ev,Ym,fc,$m,Qm,ov,cv){try{var bv=ev[ov](cv),Lv=bv.value}catch(Wv){return void fc(Wv)}bv.done?Ym(Lv):Promise.resolve(Lv).then($m,Qm)}function a_(ev){return function(){var Ym=this,fc=arguments;return new Promise(function($m,Qm){var ov=ev.apply(Ym,fc);function cv(Lv){Iw(ov,$m,Qm,cv,bv,"next",Lv)}function bv(Lv){Iw(ov,$m,Qm,cv,bv,"throw",Lv)}cv(void 0)})}}var z2=__webpack_require__(8270);function Lw(ev,Ym){var fc=Object.keys(ev);if(Object.getOwnPropertySymbols){var $m=Object.getOwnPropertySymbols(ev);Ym&&($m=$m.filter(function(Qm){return Object.getOwnPropertyDescriptor(ev,Qm).enumerable})),fc.push.apply(fc,$m)}return fc}function Ow(ev){for(var Ym=1;Ym<arguments.length;Ym++){var fc=arguments[Ym]!=null?arguments[Ym]:{};Ym%2?Lw(Object(fc),!0).forEach(function($m){(0,z2.Z)(ev,$m,fc[$m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ev,Object.getOwnPropertyDescriptors(fc)):Lw(Object(fc)).forEach(function($m){Object.defineProperty(ev,$m,Object.getOwnPropertyDescriptor(fc,$m))})}return ev}var Rw=function(ev){if(!ev||ev.length===0)return{};for(var Ym={},fc=ev.split(";"),$m=0;$m<fc.length;$m++){var Qm=fc[$m].indexOf("=");if(!(Qm<0)){var ov=fc[$m].substring(0,Qm).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),cv=fc[$m].substring(Qm+1,fc[$m].length);try{ov=decodeURIComponent(ov)}catch{}try{cv=decodeURIComponent(cv)}catch{}Ym[ov]=cv}}return Ym},Bw=function(ev,Ym,fc){typeof document<"u"&&document.cookie!==void 0&&(document.cookie=encodeURIComponent(ev)+"="+encodeURIComponent(Ym)+function($m){$m===void 0&&($m={});var Qm=$m,ov=Qm.path,cv=Qm.domain,bv=Qm.expires,Lv=Qm.secure,Wv=Qm.sameSite,Xv=["none","lax","strict"].indexOf((Wv||"").toLowerCase())>-1?Wv:null;return[ov==null?"":";path="+ov,cv==null?"":";domain="+cv,bv==null?"":";expires="+bv.toUTCString(),Lv===void 0||Lv===!1?"":";secure",Xv===null?"":";SameSite="+Xv].join("")}(fc))},Dw=function(){return typeof document>"u"||document.cookie===void 0?"":document.cookie},U2=function(){function ev(){}var Ym=ev.prototype;return Ym.key=function(fc){return fc<this.keys.length?this.keys[fc]:null},Ym.setItem=function(fc,$m,Qm){Bw(fc,$m,Qm)},Ym.getItem=function(fc){var $m=Rw(Dw());return Object.prototype.hasOwnProperty.call($m,fc)?$m[fc]:null},Ym.removeItem=function(fc,$m){for(var Qm,ov,cv=["","/"],bv=((Qm=location)==null||(ov=Qm.hostname)==null?void 0:ov.split("."))||[];bv.length>1;)cv.push(bv.join(".")),bv.shift();for(var Lv=0;Lv<cv.length;Lv++)for(var Wv,Xv,$0=((Wv=location)==null||(Xv=Wv.pathname)==null?void 0:Xv.split("/"))||[],S0="";$0.length>0;){S0+=(S0==="/"?"":"/")+$0.shift();var G0=Ow(Ow({},$m),{},{path:S0,domain:cv[Lv],expires:new Date(0)});Bw(fc,"",G0)}},Ym.clear=function(){for(var fc=[].concat(this.keys),$m=0;$m<fc.length;$m++)this.removeItem(fc[$m])},(0,t.Z)(ev,[{key:"length",get:function(){return this.keys.length}},{key:"keys",get:function(){var fc=Rw(Dw());return Object.keys(fc).sort()}}]),ev}(),G2=function(){function ev(){this.keys=[],this.currentSize=0,this.limitSize=0}var Ym=ev.prototype;return Ym.key=function(fc){return fc<this.keys.length?this.keys[fc]:null},Ym.prepare=function(){var fc=a_(oy().mark(function $m(){var Qm=this;return oy().wrap(function(ov){for(;;)switch(ov.prev=ov.next){case 0:return ov.abrupt("return",new Promise(function(cv,bv){(0,e.qt)("getStorageInfo",{success:function(Lv){Qm.keys=Lv?Lv.keys.sort():[],Qm.currentSize=Lv?Lv.currentSize:0,Qm.limitSize=Lv?Lv.limitSize:0,cv(!0)},fail:function(){bv(!1)}})}));case 1:case"end":return ov.stop()}},$m)}));return function(){return fc.apply(this,arguments)}}(),Ym.getItem=function(fc){return new Promise(function($m,Qm){(0,e.qt)("getStorage",{key:fc,success:function(ov){var cv=ov.data;if(typeof ov.data=="object")try{cv=JSON.stringify(ov.data)}catch{}$m(cv)},fail:function(ov){Qm(ov)}})})},Ym.setItem=function(fc,$m){return new Promise(function(Qm,ov){(0,e.qt)("setStorage",{key:fc,data:$m,success:function(cv){Qm(cv)},fail:function(cv){ov(cv)}})})},Ym.removeItem=function(fc){return new Promise(function($m,Qm){(0,e.qt)("removeStorage",{key:fc,success:function(ov){$m(ov)},fail:function(ov){Qm(ov)}})})},Ym.clear=function(){return new Promise(function(fc,$m){(0,e.qt)("clearStorage",{success:function(Qm){fc(Qm)},fail:function(Qm){$m(Qm)}})})},(0,t.Z)(ev,[{key:"length",get:function(){return this.keys.length}}]),ev}(),nb={updateTime:(0,Ry.fZ)(0),activedName:(0,Ry.fZ)(null),defaultStorages:(0,Ry.fZ)(["cookies","localStorage","sessionStorage"])},I_=function(ev){function Ym(){var $m;return($m=ev.call(this)||this).storage=new Map,nb.activedName.subscribe(function(Qm){var ov=(0,Ry.U2)(nb.defaultStorages);ov.length>0&&ov.indexOf(Qm)===-1&&nb.activedName.set(ov[0])}),nb.defaultStorages.subscribe(function(Qm){Qm.indexOf((0,Ry.U2)(nb.activedName))===-1&&nb.activedName.set(Qm[0]),$m.updateEnabledStorages()}),$m}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.getItem=function(){var $m=a_(oy().mark(function Qm(ov){return oy().wrap(function(cv){for(;;)switch(cv.prev=cv.next){case 0:if(this.activedStorage){cv.next=2;break}return cv.abrupt("return","");case 2:return cv.next=4,this.promisify(this.activedStorage.getItem(ov));case 4:return cv.abrupt("return",cv.sent);case 5:case"end":return cv.stop()}},Qm,this)}));return function(Qm){return $m.apply(this,arguments)}}(),fc.setItem=function(){var $m=a_(oy().mark(function Qm(ov,cv){var bv;return oy().wrap(function(Lv){for(;;)switch(Lv.prev=Lv.next){case 0:if(this.activedStorage){Lv.next=2;break}return Lv.abrupt("return");case 2:return Lv.next=4,this.promisify(this.activedStorage.setItem(ov,cv));case 4:return bv=Lv.sent,this.refresh(),Lv.abrupt("return",bv);case 7:case"end":return Lv.stop()}},Qm,this)}));return function(Qm,ov){return $m.apply(this,arguments)}}(),fc.removeItem=function(){var $m=a_(oy().mark(function Qm(ov){var cv;return oy().wrap(function(bv){for(;;)switch(bv.prev=bv.next){case 0:if(this.activedStorage){bv.next=2;break}return bv.abrupt("return");case 2:return bv.next=4,this.promisify(this.activedStorage.removeItem(ov));case 4:return cv=bv.sent,this.refresh(),bv.abrupt("return",cv);case 7:case"end":return bv.stop()}},Qm,this)}));return function(Qm){return $m.apply(this,arguments)}}(),fc.clear=function(){var $m=a_(oy().mark(function Qm(){var ov;return oy().wrap(function(cv){for(;;)switch(cv.prev=cv.next){case 0:if(this.activedStorage){cv.next=2;break}return cv.abrupt("return");case 2:return cv.next=4,this.promisify(this.activedStorage.clear());case 4:return ov=cv.sent,this.refresh(),cv.abrupt("return",ov);case 7:case"end":return cv.stop()}},Qm,this)}));return function(){return $m.apply(this,arguments)}}(),fc.refresh=function(){nb.updateTime.set(Date.now())},fc.getEntries=function(){var $m=a_(oy().mark(function Qm(){var ov,cv,bv,Lv,Wv;return oy().wrap(function(Xv){for(;;)switch(Xv.prev=Xv.next){case 0:if(ov=this.activedStorage){Xv.next=3;break}return Xv.abrupt("return",[]);case 3:if(typeof ov.prepare!="function"){Xv.next=6;break}return Xv.next=6,ov.prepare();case 6:cv=[],bv=0;case 8:if(!(bv<ov.length)){Xv.next=17;break}return Lv=ov.key(bv),Xv.next=12,this.getItem(Lv);case 12:Wv=Xv.sent,cv.push([Lv,Wv]);case 14:bv++,Xv.next=8;break;case 17:return Xv.abrupt("return",cv);case 18:case"end":return Xv.stop()}},Qm,this)}));return function(){return $m.apply(this,arguments)}}(),fc.updateEnabledStorages=function(){var $m=(0,Ry.U2)(nb.defaultStorages);$m.indexOf("cookies")>-1?document.cookie!==void 0&&this.storage.set("cookies",new U2):this.deleteStorage("cookies"),$m.indexOf("localStorage")>-1?window.localStorage&&this.storage.set("localStorage",window.localStorage):this.deleteStorage("localStorage"),$m.indexOf("sessionStorage")>-1?window.sessionStorage&&this.storage.set("sessionStorage",window.sessionStorage):this.deleteStorage("sessionStorage"),$m.indexOf("wxStorage")>-1?(0,e.H_)()&&this.storage.set("wxStorage",new G2):this.deleteStorage("wxStorage")},fc.promisify=function($m){return typeof $m=="string"||$m==null?Promise.resolve($m):$m},fc.deleteStorage=function($m){this.storage.has($m)&&this.storage.delete($m)},(0,t.Z)(Ym,[{key:"activedStorage",get:function(){return this.storage.get((0,Ry.U2)(nb.activedName))}}]),Ym}(c_.N);function Fw(ev,Ym,fc){var $m=ev.slice();return $m[20]=Ym[fc][0],$m[21]=Ym[fc][1],$m[23]=fc,$m}function Vw(ev){var Ym;return{c:function(){(Ym=(0,y.bGB)("div")).textContent="Empty",(0,y.Ljt)(Ym,"class","vc-plugin-empty")},m:function(fc,$m){(0,y.$Tr)(fc,Ym,$m)},p:y.ZTd,d:function(fc){fc&&(0,y.ogt)(Ym)}}}function H2(ev){var Ym,fc,$m,Qm,ov,cv=ev[20]+"",bv=ev[5](ev[21])+"";return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.fLW)(cv),$m=(0,y.DhX)(),Qm=(0,y.bGB)("div"),ov=(0,y.fLW)(bv),(0,y.Ljt)(Ym,"class","vc-table-col"),(0,y.Ljt)(Qm,"class","vc-table-col vc-table-col-2")},m:function(Lv,Wv){(0,y.$Tr)(Lv,Ym,Wv),(0,y.R3I)(Ym,fc),(0,y.$Tr)(Lv,$m,Wv),(0,y.$Tr)(Lv,Qm,Wv),(0,y.R3I)(Qm,ov)},p:function(Lv,Wv){1&Wv&&cv!==(cv=Lv[20]+"")&&(0,y.rTO)(fc,cv),1&Wv&&bv!==(bv=Lv[5](Lv[21])+"")&&(0,y.rTO)(ov,bv)},d:function(Lv){Lv&&(0,y.ogt)(Ym),Lv&&(0,y.ogt)($m),Lv&&(0,y.ogt)(Qm)}}}function W2(ev){var Ym,fc,$m,Qm,ov,cv,bv;return{c:function(){Ym=(0,y.bGB)("div"),fc=(0,y.bGB)("textarea"),$m=(0,y.DhX)(),Qm=(0,y.bGB)("div"),ov=(0,y.bGB)("textarea"),(0,y.Ljt)(fc,"class","vc-table-input"),(0,y.Ljt)(Ym,"class","vc-table-col"),(0,y.Ljt)(ov,"class","vc-table-input"),(0,y.Ljt)(Qm,"class","vc-table-col vc-table-col-2")},m:function(Lv,Wv){(0,y.$Tr)(Lv,Ym,Wv),(0,y.R3I)(Ym,fc),(0,y.BmG)(fc,ev[2]),(0,y.$Tr)(Lv,$m,Wv),(0,y.$Tr)(Lv,Qm,Wv),(0,y.R3I)(Qm,ov),(0,y.BmG)(ov,ev[3]),cv||(bv=[(0,y.oLt)(fc,"input",ev[11]),(0,y.oLt)(ov,"input",ev[12])],cv=!0)},p:function(Lv,Wv){4&Wv&&(0,y.BmG)(fc,Lv[2]),8&Wv&&(0,y.BmG)(ov,Lv[3])},d:function(Lv){Lv&&(0,y.ogt)(Ym),Lv&&(0,y.ogt)($m),Lv&&(0,y.ogt)(Qm),cv=!1,(0,y.j7q)(bv)}}}function j2(ev){var Ym,fc,$m,Qm,ov,cv;return(Ym=new g0.Z({props:{name:"delete"}})).$on("click",function(){return ev[14](ev[20])}),$m=new a1({props:{content:[ev[20],ev[21]].join("=")}}),(ov=new g0.Z({props:{name:"edit"}})).$on("click",function(){return ev[15](ev[20],ev[21],ev[23])}),{c:function(){(0,y.YCL)(Ym.$$.fragment),fc=(0,y.DhX)(),(0,y.YCL)($m.$$.fragment),Qm=(0,y.DhX)(),(0,y.YCL)(ov.$$.fragment)},m:function(bv,Lv){(0,y.yef)(Ym,bv,Lv),(0,y.$Tr)(bv,fc,Lv),(0,y.yef)($m,bv,Lv),(0,y.$Tr)(bv,Qm,Lv),(0,y.yef)(ov,bv,Lv),cv=!0},p:function(bv,Lv){ev=bv;var Wv={};1&Lv&&(Wv.content=[ev[20],ev[21]].join("=")),$m.$set(Wv)},i:function(bv){cv||((0,y.Ui)(Ym.$$.fragment,bv),(0,y.Ui)($m.$$.fragment,bv),(0,y.Ui)(ov.$$.fragment,bv),cv=!0)},o:function(bv){(0,y.etI)(Ym.$$.fragment,bv),(0,y.etI)($m.$$.fragment,bv),(0,y.etI)(ov.$$.fragment,bv),cv=!1},d:function(bv){(0,y.vpE)(Ym,bv),bv&&(0,y.ogt)(fc),(0,y.vpE)($m,bv),bv&&(0,y.ogt)(Qm),(0,y.vpE)(ov,bv)}}}function K2(ev){var Ym,fc,$m,Qm;return(Ym=new g0.Z({props:{name:"cancel"}})).$on("click",ev[9]),($m=new g0.Z({props:{name:"done"}})).$on("click",function(){return ev[13](ev[20])}),{c:function(){(0,y.YCL)(Ym.$$.fragment),fc=(0,y.DhX)(),(0,y.YCL)($m.$$.fragment)},m:function(ov,cv){(0,y.yef)(Ym,ov,cv),(0,y.$Tr)(ov,fc,cv),(0,y.yef)($m,ov,cv),Qm=!0},p:function(ov,cv){ev=ov},i:function(ov){Qm||((0,y.Ui)(Ym.$$.fragment,ov),(0,y.Ui)($m.$$.fragment,ov),Qm=!0)},o:function(ov){(0,y.etI)(Ym.$$.fragment,ov),(0,y.etI)($m.$$.fragment,ov),Qm=!1},d:function(ov){(0,y.vpE)(Ym,ov),ov&&(0,y.ogt)(fc),(0,y.vpE)($m,ov)}}}function zw(ev){var Ym,fc,$m,Qm,ov,cv,bv;function Lv(L0,Z0){return L0[1]===L0[23]?W2:H2}var Wv=Lv(ev),Xv=Wv(ev),$0=[K2,j2],S0=[];function G0(L0,Z0){return L0[1]===L0[23]?0:1}return Qm=G0(ev),ov=S0[Qm]=$0[Qm](ev),{c:function(){Ym=(0,y.bGB)("div"),Xv.c(),fc=(0,y.DhX)(),$m=(0,y.bGB)("div"),ov.c(),cv=(0,y.DhX)(),(0,y.Ljt)($m,"class","vc-table-col vc-table-col-1 vc-table-action"),(0,y.Ljt)(Ym,"class","vc-table-row")},m:function(L0,Z0){(0,y.$Tr)(L0,Ym,Z0),Xv.m(Ym,null),(0,y.R3I)(Ym,fc),(0,y.R3I)(Ym,$m),S0[Qm].m($m,null),(0,y.R3I)(Ym,cv),bv=!0},p:function(L0,Z0){Wv===(Wv=Lv(L0))&&Xv?Xv.p(L0,Z0):(Xv.d(1),(Xv=Wv(L0))&&(Xv.c(),Xv.m(Ym,fc)));var r1=Qm;(Qm=G0(L0))===r1?S0[Qm].p(L0,Z0):((0,y.dvw)(),(0,y.etI)(S0[r1],1,1,function(){S0[r1]=null}),(0,y.gbL)(),(ov=S0[Qm])?ov.p(L0,Z0):(ov=S0[Qm]=$0[Qm](L0)).c(),(0,y.Ui)(ov,1),ov.m($m,null))},i:function(L0){bv||((0,y.Ui)(ov),bv=!0)},o:function(L0){(0,y.etI)(ov),bv=!1},d:function(L0){L0&&(0,y.ogt)(Ym),Xv.d(),S0[Qm].d()}}}function Y2(ev){for(var Ym,fc,$m,Qm,ov=ev[0],cv=[],bv=0;bv<ov.length;bv+=1)cv[bv]=zw(Fw(ev,ov,bv));var Lv=function(Xv){return(0,y.etI)(cv[Xv],1,1,function(){cv[Xv]=null})},Wv=null;return ov.length||(Wv=Vw()),{c:function(){Ym=(0,y.bGB)("div"),(fc=(0,y.bGB)("div")).innerHTML=`<div class="vc-table-col">Key</div> 
    <div class="vc-table-col vc-table-col-2">Value</div> 
    <div class="vc-table-col vc-table-col-1 vc-table-action"></div>`,$m=(0,y.DhX)();for(var Xv=0;Xv<cv.length;Xv+=1)cv[Xv].c();Wv&&Wv.c(),(0,y.Ljt)(fc,"class","vc-table-row"),(0,y.Ljt)(Ym,"class","vc-table")},m:function(Xv,$0){(0,y.$Tr)(Xv,Ym,$0),(0,y.R3I)(Ym,fc),(0,y.R3I)(Ym,$m);for(var S0=0;S0<cv.length;S0+=1)cv[S0].m(Ym,null);Wv&&Wv.m(Ym,null),Qm=!0},p:function(Xv,$0){var S0=$0[0];if(1007&S0){var G0;for(ov=Xv[0],G0=0;G0<ov.length;G0+=1){var L0=Fw(Xv,ov,G0);cv[G0]?(cv[G0].p(L0,S0),(0,y.Ui)(cv[G0],1)):(cv[G0]=zw(L0),cv[G0].c(),(0,y.Ui)(cv[G0],1),cv[G0].m(Ym,null))}for((0,y.dvw)(),G0=ov.length;G0<cv.length;G0+=1)Lv(G0);(0,y.gbL)(),!ov.length&&Wv?Wv.p(Xv,S0):ov.length?Wv&&(Wv.d(1),Wv=null):((Wv=Vw()).c(),Wv.m(Ym,null))}},i:function(Xv){if(!Qm){for(var $0=0;$0<ov.length;$0+=1)(0,y.Ui)(cv[$0]);Qm=!0}},o:function(Xv){cv=cv.filter(Boolean);for(var $0=0;$0<cv.length;$0+=1)(0,y.etI)(cv[$0]);Qm=!1},d:function(Xv){Xv&&(0,y.ogt)(Ym),(0,y.RMB)(cv,Xv),Wv&&Wv.d()}}}function q2(ev,Ym,fc){var $m,Qm=this&&this.__awaiter||function(Z0,r1,u1,g1){return new(u1||(u1=Promise))(function(C1,Y1){function R1(by){try{my(g1.next(by))}catch(F1){Y1(F1)}}function hy(by){try{my(g1.throw(by))}catch(F1){Y1(F1)}}function my(by){var F1;by.done?C1(by.value):(F1=by.value,F1 instanceof u1?F1:new u1(function(U1){U1(F1)})).then(R1,hy)}my((g1=g1.apply(Z0,r1||[])).next())})},ov=I_.getSingleton(I_,"VConsoleStorageModel"),cv=nb.updateTime;(0,y.FIv)(ev,cv,function(Z0){return fc(10,$m=Z0)});var bv=[],Lv=-1,Wv="",Xv="",$0=function(){fc(1,Lv=-1),fc(2,Wv=""),fc(3,Xv="")},S0=function(Z0){return Qm(void 0,void 0,void 0,oy().mark(function r1(){return oy().wrap(function(u1){for(;;)switch(u1.prev=u1.next){case 0:return u1.next=2,ov.removeItem(Z0);case 2:case"end":return u1.stop()}},r1)}))},G0=function(Z0){return Qm(void 0,void 0,void 0,oy().mark(function r1(){return oy().wrap(function(u1){for(;;)switch(u1.prev=u1.next){case 0:if(Wv===Z0){u1.next=3;break}return u1.next=3,ov.removeItem(Z0);case 3:ov.setItem(Wv,Xv),$0();case 5:case"end":return u1.stop()}},r1)}))},L0=function(Z0,r1,u1){return Qm(void 0,void 0,void 0,oy().mark(function g1(){return oy().wrap(function(C1){for(;;)switch(C1.prev=C1.next){case 0:fc(2,Wv=Z0),fc(3,Xv=r1),fc(1,Lv=u1);case 3:case"end":return C1.stop()}},g1)}))};return ev.$$.update=function(){1024&ev.$$.dirty&&$m&&Qm(void 0,void 0,void 0,oy().mark(function Z0(){return oy().wrap(function(r1){for(;;)switch(r1.prev=r1.next){case 0:return $0(),r1.t0=fc,r1.next=4,ov.getEntries();case 4:r1.t1=bv=r1.sent,(0,r1.t0)(0,r1.t1);case 6:case"end":return r1.stop()}},Z0)}))},[bv,Lv,Wv,Xv,cv,function(Z0){return(0,e.id)(Z0,1024)},S0,G0,L0,function(){$0()},$m,function(){Wv=this.value,fc(2,Wv)},function(){Xv=this.value,fc(3,Xv)},function(Z0){return G0(Z0)},function(Z0){return S0(Z0)},function(Z0,r1,u1){return L0(Z0,r1,u1)}]}var X2=function(ev){function Ym(fc){var $m;return $m=ev.call(this)||this,(0,y.S1n)((0,g.Z)($m),fc,q2,Y2,y.N8,{}),$m}return(0,$.Z)(Ym,ev),Ym}(y.f_C),Z2=X2,Uw=function(ev){function Ym($m,Qm,ov){var cv;return ov===void 0&&(ov={}),(cv=ev.call(this,$m,Qm,Z2,ov)||this).model=I_.getSingleton(I_,"VConsoleStorageModel"),cv.onAddTopBarCallback=void 0,cv}(0,$.Z)(Ym,ev);var fc=Ym.prototype;return fc.onReady=function(){ev.prototype.onReady.call(this),this.onUpdateOption()},fc.onShow=function(){this.model.refresh()},fc.onAddTopBar=function($m){this.onAddTopBarCallback=$m,this.updateTopBar()},fc.onAddTool=function($m){var Qm=this;$m([{name:"Add",global:!1,onClick:function(){Qm.model.setItem("new_"+Date.now(),"new_value")}},{name:"Refresh",global:!1,onClick:function(){Qm.model.refresh()}},{name:"Clear",global:!1,onClick:function(){Qm.model.clear()}}])},fc.onUpdateOption=function(){var $m,Qm=($m=this.vConsole.option.storage)==null?void 0:$m.defaultStorages;(0,e.kJ)(Qm)&&(Qm=Qm.length>0?Qm:["cookies"])!==(0,Ry.U2)(nb.defaultStorages)&&(nb.defaultStorages.set(Qm),nb.activedName.set(Qm[0]),this.updateTopBar())},fc.updateTopBar=function(){var $m=this;if(typeof this.onAddTopBarCallback=="function"){for(var Qm=(0,Ry.U2)(nb.defaultStorages),ov=[],cv=0;cv<Qm.length;cv++){var bv=Qm[cv];ov.push({name:bv[0].toUpperCase()+bv.substring(1),data:{name:bv},actived:bv===(0,Ry.U2)(nb.activedName),onClick:function(Lv,Wv){var Xv=(0,Ry.U2)(nb.activedName);if(Wv.name===Xv)return!1;nb.activedName.set(Wv.name),$m.model.refresh()}})}this.onAddTopBarCallback(ov)}},Ym}(zv),db=function(){function ev(fc){var $m=this;if(this.version="3.15.1",this.isInited=!1,this.option={},this.compInstance=void 0,this.pluginList={},this.log=void 0,this.system=void 0,this.network=void 0,ev.instance&&ev.instance instanceof ev)return console.debug("[vConsole] vConsole is already exists."),ev.instance;if(ev.instance=this,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"],log:{},network:{},storage:{}},e.Kn(fc))for(var Qm in fc)this.option[Qm]=fc[Qm];this.option.maxLogNumber!==void 0&&(this.option.log.maxLogNumber=this.option.maxLogNumber,console.debug("[vConsole] Deprecated option: `maxLogNumber`, use `log.maxLogNumber` instead.")),this.option.onClearLog!==void 0&&console.debug("[vConsole] Deprecated option: `onClearLog`."),this.option.maxNetworkNumber!==void 0&&(this.option.network.maxNetworkNumber=this.option.maxNetworkNumber,console.debug("[vConsole] Deprecated option: `maxNetworkNumber`, use `network.maxNetworkNumber` instead.")),this._addBuiltInPlugins();var ov=function(){$m.isInited||($m._initComponent(),$m._autoRun())};if(document!==void 0)document.readyState==="loading"?r.bind(window,"DOMContentLoaded",ov):ov();else{var cv;cv=setTimeout(function bv(){document&&document.readyState=="complete"?(cv&&clearTimeout(cv),ov()):cv=setTimeout(bv,1)},1)}}var Ym=ev.prototype;return Ym._addBuiltInPlugins=function(){this.addPlugin(new S_("default","Log"));var fc=this.option.defaultPlugins,$m={system:{proto:Jb,name:"System"}};if($m.network={proto:yw,name:"Network"},$m.element={proto:Nw,name:"Element"},$m.storage={proto:Uw,name:"Storage"},fc&&e.kJ(fc))for(var Qm=0;Qm<fc.length;Qm++){var ov=$m[fc[Qm]];ov?this.addPlugin(new ov.proto(fc[Qm],ov.name)):console.debug("[vConsole] Unrecognized default plugin ID:",fc[Qm])}},Ym._initComponent=function(){var fc=this;if(!r.one("#__vconsole")){var $m,Qm=1*e.cF("switch_x"),ov=1*e.cF("switch_y");typeof this.option.target=="string"?$m=document.querySelector(this.option.target):this.option.target instanceof HTMLElement&&($m=this.option.target),$m instanceof HTMLElement||($m=document.documentElement),this.compInstance=new vv({target:$m,props:{switchButtonPosition:{x:Qm,y:ov}}}),this.compInstance.$on("show",function(cv){cv.detail.show?fc.show():fc.hide()}),this.compInstance.$on("changePanel",function(cv){var bv=cv.detail.pluginId;fc.showPlugin(bv)})}this._updateComponentByOptions()},Ym._updateComponentByOptions=function(){if(this.compInstance){if(this.compInstance.theme!==this.option.theme){var fc=this.option.theme;fc=fc!=="light"&&fc!=="dark"?"":fc,this.compInstance.theme=fc}this.compInstance.disableScrolling!==this.option.disableLogScrolling&&(this.compInstance.disableScrolling=!!this.option.disableLogScrolling)}},Ym.setSwitchPosition=function(fc,$m){this.compInstance.switchButtonPosition={x:fc,y:$m}},Ym._autoRun=function(){for(var fc in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[fc]);this._showFirstPluginWhenEmpty(),this.triggerEvent("ready")},Ym._showFirstPluginWhenEmpty=function(){var fc=Object.keys(this.pluginList);this.compInstance.activedPluginId===""&&fc.length>0&&this.showPlugin(fc[0])},Ym.triggerEvent=function(fc,$m){var Qm=this;fc="on"+fc.charAt(0).toUpperCase()+fc.slice(1),e.mf(this.option[fc])&&setTimeout(function(){Qm.option[fc].apply(Qm,$m)},0)},Ym._initPlugin=function(fc){var $m=this;fc.vConsole=this,this.compInstance.pluginList[fc.id]={id:fc.id,name:fc.name,hasTabPanel:!1,tabOptions:void 0,topbarList:[],toolbarList:[],content:void 0,contentContainer:void 0},this.compInstance.pluginList=this._reorderPluginList(this.compInstance.pluginList),fc.trigger("init"),fc.trigger("renderTab",function(Qm,ov){ov===void 0&&(ov={});var cv=$m.compInstance.pluginList[fc.id];cv.hasTabPanel=!0,cv.tabOptions=ov,Qm&&($m.compInstance.pluginList[fc.id].content=Qm),$m.compInstance.pluginList=$m.compInstance.pluginList}),fc.trigger("addTopBar",function(Qm){if(Qm){for(var ov=[],cv=0;cv<Qm.length;cv++){var bv=Qm[cv];ov.push({name:bv.name||"Undefined",className:bv.className||"",actived:!!bv.actived,data:bv.data,onClick:bv.onClick})}$m.compInstance.pluginList[fc.id].topbarList=ov,$m.compInstance.pluginList=$m.compInstance.pluginList}}),fc.trigger("addTool",function(Qm){if(Qm){for(var ov=[],cv=0;cv<Qm.length;cv++){var bv=Qm[cv];ov.push({name:bv.name||"Undefined",global:!!bv.global,data:bv.data,onClick:bv.onClick})}$m.compInstance.pluginList[fc.id].toolbarList=ov,$m.compInstance.pluginList=$m.compInstance.pluginList}}),fc.isReady=!0,fc.trigger("ready")},Ym._triggerPluginsEvent=function(fc){for(var $m in this.pluginList)this.pluginList[$m].isReady&&this.pluginList[$m].trigger(fc)},Ym._triggerPluginEvent=function(fc,$m){var Qm=this.pluginList[fc];Qm&&Qm.isReady&&Qm.trigger($m)},Ym._reorderPluginList=function(fc){var $m=this;if(!e.kJ(this.option.pluginOrder))return fc;for(var Qm=Object.keys(fc).sort(function(bv,Lv){var Wv=$m.option.pluginOrder.indexOf(bv),Xv=$m.option.pluginOrder.indexOf(Lv);return Wv===Xv?0:Wv===-1?1:Xv===-1?-1:Wv-Xv}),ov={},cv=0;cv<Qm.length;cv++)ov[Qm[cv]]=fc[Qm[cv]];return ov},Ym.addPlugin=function(fc){return this.pluginList[fc.id]!==void 0?(console.debug("[vConsole] Plugin `"+fc.id+"` has already been added."),!1):(this.pluginList[fc.id]=fc,this.isInited&&(this._initPlugin(fc),this._showFirstPluginWhenEmpty()),!0)},Ym.removePlugin=function(fc){fc=(fc+"").toLowerCase();var $m=this.pluginList[fc];if($m===void 0)return console.debug("[vConsole] Plugin `"+fc+"` does not exist."),!1;$m.trigger("remove");try{delete this.pluginList[fc],delete this.compInstance.pluginList[fc]}catch{this.pluginList[fc]=void 0,this.compInstance.pluginList[fc]=void 0}return this.compInstance.pluginList=this.compInstance.pluginList,this.compInstance.activedPluginId==fc&&(this.compInstance.activedPluginId="",this._showFirstPluginWhenEmpty()),!0},Ym.show=function(){this.isInited&&(this.compInstance.show=!0,this._triggerPluginsEvent("showConsole"))},Ym.hide=function(){this.isInited&&(this.compInstance.show=!1,this._triggerPluginsEvent("hideConsole"))},Ym.showSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!0)},Ym.hideSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!1)},Ym.showPlugin=function(fc){this.isInited&&(this.pluginList[fc]||console.debug("[vConsole] Plugin `"+fc+"` does not exist."),this.compInstance.activedPluginId&&this._triggerPluginEvent(this.compInstance.activedPluginId,"hide"),this.compInstance.activedPluginId=fc,this._triggerPluginEvent(this.compInstance.activedPluginId,"show"))},Ym.setOption=function(fc,$m){if(typeof fc=="string"){for(var Qm=fc.split("."),ov=this.option,cv=0;cv<Qm.length;cv++){if(Qm[cv]==="__proto__"||Qm[cv]==="constructor"||Qm[cv]==="prototype")return void console.debug("[vConsole] Cannot set `"+Qm[cv]+"` in `vConsole.setOption()`.");ov[Qm[cv]]===void 0&&(ov[Qm[cv]]={}),cv===Qm.length-1&&(ov[Qm[cv]]=$m),ov=ov[Qm[cv]]}this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else if(e.Kn(fc)){for(var bv in fc)bv!=="__proto__"&&bv!=="constructor"&&bv!=="prototype"?this.option[bv]=fc[bv]:console.debug("[vConsole] Cannot set `"+bv+"` in `vConsole.setOption()`.");this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else console.debug("[vConsole] The first parameter of `vConsole.setOption()` must be a string or an object.")},Ym.destroy=function(){if(this.isInited){this.isInited=!1,ev.instance=void 0;for(var fc=Object.keys(this.pluginList),$m=fc.length-1;$m>=0;$m--)this.removePlugin(fc[$m]);this.compInstance.$destroy()}},(0,t.Z)(ev,null,[{key:"instance",get:function(){return window.__VCONSOLE_INSTANCE},set:function(fc){fc===void 0||fc instanceof ev?window.__VCONSOLE_INSTANCE=fc:console.debug("[vConsole] Cannot set `VConsole.instance` because the value is not the instance of VConsole.")}}]),ev}();db.VConsolePlugin=void 0,db.VConsoleLogPlugin=void 0,db.VConsoleDefaultPlugin=void 0,db.VConsoleSystemPlugin=void 0,db.VConsoleNetworkPlugin=void 0,db.VConsoleElementPlugin=void 0,db.VConsoleStoragePlugin=void 0,db.VConsolePlugin=Ev,db.VConsoleLogPlugin=Mb,db.VConsoleDefaultPlugin=S_,db.VConsoleSystemPlugin=Jb,db.VConsoleNetworkPlugin=yw,db.VConsoleElementPlugin=Nw,db.VConsoleStoragePlugin=Uw;var J2=db}(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__}()})})(vconsole_min);var vconsole_minExports=vconsole_min.exports;const VConsole=getDefaultExportFromCjs(vconsole_minExports),_export_sfc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,g]of e)n[r]=g;return n};Ze$2.instance.isShowCommandLine=!1;Ze$2.instance.isShowToolbar=!1;Ze$2.instance.isShowLanguageSelector=!1;Ze$2.instance.isShowMainMenu=!1;Ze$2.instance.isShowCoordinate=!1;const _sfc_main={name:"App",components:{MlCadViewer:cr},props:{selectedFile:{type:File,default:void 0}},data(){return{selectedFileVal:void 0}},mounted(){console.log("selectedFile",this.selectedFile),this.selectedFile&&(this.selectedFileVal=this.selectedFile)},methods:{handleFileChange(t){const e=t.target.files[0];e&&(this.selectedFileVal=e)}}},_hoisted_1={style:{position:"relative",width:"100%",height:"100%"}};function _sfc_render(t,e,n,r,g,$){const y=resolveComponent("MlCadViewer");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("input",{type:"file",ref:"fileInput",onChange:e[0]||(e[0]=(...k)=>$.handleFileChange&&$.handleFileChange(...k))},null,544),createBaseVNode("div",_hoisted_1,[createVNode(y,{locale:"zh","local-file":g.selectedFileVal},null,8,["local-file"])])],64)}const App=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-7204357e"]]);new VConsole;const initApp=()=>{const t=createApp(App);t.use(ae),t.use(installer),t.mount("#app");const e=document.getElementById("loader");e&&(e.style.display="none")};initApp();
